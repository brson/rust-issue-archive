{
  "url": "https://api.github.com/repos/rust-lang/rust/issues/11449",
  "repository_url": "https://api.github.com/repos/rust-lang/rust",
  "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/11449/labels{/name}",
  "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/11449/comments",
  "events_url": "https://api.github.com/repos/rust-lang/rust/issues/11449/events",
  "html_url": "https://github.com/rust-lang/rust/pull/11449",
  "id": 25395096,
  "node_id": "MDExOlB1bGxSZXF1ZXN0MTE0MDAzNTc=",
  "number": 11449,
  "title": "Improve invalid operator assignment handling.",
  "user": {
    "login": "rcatolino",
    "id": 600382,
    "node_id": "MDQ6VXNlcjYwMDM4Mg==",
    "avatar_url": "https://avatars.githubusercontent.com/u/600382?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rcatolino",
    "html_url": "https://github.com/rcatolino",
    "followers_url": "https://api.github.com/users/rcatolino/followers",
    "following_url": "https://api.github.com/users/rcatolino/following{/other_user}",
    "gists_url": "https://api.github.com/users/rcatolino/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rcatolino/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rcatolino/subscriptions",
    "organizations_url": "https://api.github.com/users/rcatolino/orgs",
    "repos_url": "https://api.github.com/users/rcatolino/repos",
    "events_url": "https://api.github.com/users/rcatolino/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rcatolino/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "labels": [],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [],
  "milestone": null,
  "comments": 3,
  "created_at": "2014-01-10T13:37:56Z",
  "updated_at": "2014-06-22T03:36:34Z",
  "closed_at": "2014-01-10T21:01:34Z",
  "author_association": "CONTRIBUTOR",
  "type": null,
  "active_lock_reason": null,
  "draft": false,
  "pull_request": {
    "url": "https://api.github.com/repos/rust-lang/rust/pulls/11449",
    "html_url": "https://github.com/rust-lang/rust/pull/11449",
    "diff_url": "https://github.com/rust-lang/rust/pull/11449.diff",
    "patch_url": "https://github.com/rust-lang/rust/pull/11449.patch",
    "merged_at": "2014-01-10T21:01:35Z"
  },
  "body": "So far the following code\n\n```\nstruct Foo;\n\nfn main() {\n  let mut t = Foo;\n  let ref b = Foo;\n  a += *b;\n}\n```\n\nerrors with \n\n```\ntest.rs:15:3: 13:11 error: binary operation + cannot be applied to type `Foo`\ntest.rs:15   *a += *b;\n```\n\nSince assignment-operators are no longer expanded to `left = left OP right` but are independents operators it should be \n\n```\ntest.rs:15:3: 13:11 error: binary operation += cannot be applied to type `Foo`\ntest.rs:15   *a += *b;\n```\n\nto make it clear that implementing Add for Foo is not gonna work. (cf issues #11143, #11344)\n\nBesides that, we also need to typecheck the rhs expression even if the operator has no implementation, or we end up with unknown types for the nodes of the rhs and an ICE later on while resolving types. (once again cf #11143 and #11344).\n\nThis probably would get fixed with #5992, but in the meantime it's a confusing error to stumble upon.\n@pcwalton, you wrote the original code, what do you think?\n(closes #11143 and #11344)\n",
  "closed_by": {
    "login": "bors",
    "id": 3372342,
    "node_id": "MDQ6VXNlcjMzNzIzNDI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/bors",
    "html_url": "https://github.com/bors",
    "followers_url": "https://api.github.com/users/bors/followers",
    "following_url": "https://api.github.com/users/bors/following{/other_user}",
    "gists_url": "https://api.github.com/users/bors/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bors/subscriptions",
    "organizations_url": "https://api.github.com/users/bors/orgs",
    "repos_url": "https://api.github.com/users/bors/repos",
    "events_url": "https://api.github.com/users/bors/events{/privacy}",
    "received_events_url": "https://api.github.com/users/bors/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/11449/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/11449/timeline",
  "performed_via_github_app": null,
  "state_reason": null,
  "_meta": {
    "type": "pr"
  }
}
