{
  "url": "https://api.github.com/repos/rust-lang/rust/issues/6735",
  "repository_url": "https://api.github.com/repos/rust-lang/rust",
  "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/6735/labels{/name}",
  "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/6735/comments",
  "events_url": "https://api.github.com/repos/rust-lang/rust/issues/6735/events",
  "html_url": "https://github.com/rust-lang/rust/pull/6735",
  "id": 14753604,
  "node_id": "MDExOlB1bGxSZXF1ZXN0NTkyOTkyMw==",
  "number": 6735,
  "title": "Basic support for dynamically loading syntax extensions",
  "user": {
    "login": "huonw",
    "id": 1203825,
    "node_id": "MDQ6VXNlcjEyMDM4MjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/huonw",
    "html_url": "https://github.com/huonw",
    "followers_url": "https://api.github.com/users/huonw/followers",
    "following_url": "https://api.github.com/users/huonw/following{/other_user}",
    "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
    "organizations_url": "https://api.github.com/users/huonw/orgs",
    "repos_url": "https://api.github.com/users/huonw/repos",
    "events_url": "https://api.github.com/users/huonw/events{/privacy}",
    "received_events_url": "https://api.github.com/users/huonw/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "labels": [],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [],
  "milestone": null,
  "comments": 9,
  "created_at": "2013-05-25T07:18:33Z",
  "updated_at": "2014-12-04T02:02:40Z",
  "closed_at": "2013-06-13T21:16:25Z",
  "author_association": "CONTRIBUTOR",
  "type": null,
  "active_lock_reason": null,
  "draft": false,
  "pull_request": {
    "url": "https://api.github.com/repos/rust-lang/rust/pulls/6735",
    "html_url": "https://github.com/rust-lang/rust/pull/6735",
    "diff_url": "https://github.com/rust-lang/rust/pull/6735.diff",
    "patch_url": "https://github.com/rust-lang/rust/pull/6735.patch",
    "merged_at": null
  },
  "body": "This adds a wrapper around `dlopen`/`dlsym` etc to `std::unstable`, with some effort to get the lifetimes of the symbols from the library to be restricted to the lifetime of the dynamic library (it requires #5922 to work properly). (This lifetime stuff is helpful rather than a safety guarantee, since callbacks into the library can be saved out of view of the compiler (as happens in the syntax extension code).)\n\n(I'm quite uncertain about this part, since I've only occasionally used these functions on Linux, and never on any other platform.)\n\nIt also adds a `#[syntax_extension=\"library\"]` attribute which will load the library (requires the full filename), and call `register_syntax_extensions` to retrieve a vec of new syntax extensions which are added to the macros that are expanded.\n\nSee [ext/dynamic.rs](https://github.com/mozilla/rust/pull/6735/files#L6R12) for a more detailed description.\n\nI'm only been able to test on x86-64 Linux and it doesn't break anything there, but I'm not really sure how to write tests for this.\n\n(This is definitely not ready for general use (I've hidden it behind a `-Z dynamic-syntax-extensions` flag), but makes experimenting with/modifiying syntax extensions much easier, since they can be copied out of libsyntax for experimentation and then don't require a full rebuild.)\n",
  "closed_by": {
    "login": "graydon",
    "id": 14097,
    "node_id": "MDQ6VXNlcjE0MDk3",
    "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/graydon",
    "html_url": "https://github.com/graydon",
    "followers_url": "https://api.github.com/users/graydon/followers",
    "following_url": "https://api.github.com/users/graydon/following{/other_user}",
    "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/graydon/subscriptions",
    "organizations_url": "https://api.github.com/users/graydon/orgs",
    "repos_url": "https://api.github.com/users/graydon/repos",
    "events_url": "https://api.github.com/users/graydon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/graydon/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/6735/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/6735/timeline",
  "performed_via_github_app": null,
  "state_reason": null,
  "_meta": {
    "type": "pr"
  }
}
