[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/70329200",
    "html_url": "https://github.com/rust-lang/rust/issues/15355#issuecomment-70329200",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15355",
    "id": 70329200,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwMzI5MjAw",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-16T21:58:09Z",
    "updated_at": "2015-01-16T21:58:09Z",
    "body": "Triage: same ICE\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/70329200/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/77150407",
    "html_url": "https://github.com/rust-lang/rust/issues/15355#issuecomment-77150407",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15355",
    "id": 77150407,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3MTUwNDA3",
    "user": {
      "login": "ghost",
      "id": 10137,
      "node_id": "MDQ6VXNlcjEwMTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ghost",
      "html_url": "https://github.com/ghost",
      "followers_url": "https://api.github.com/users/ghost/followers",
      "following_url": "https://api.github.com/users/ghost/following{/other_user}",
      "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
      "organizations_url": "https://api.github.com/users/ghost/orgs",
      "repos_url": "https://api.github.com/users/ghost/repos",
      "events_url": "https://api.github.com/users/ghost/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ghost/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-04T12:37:12Z",
    "updated_at": "2015-03-04T12:37:12Z",
    "body": "This is now rejected:\n\n``` sh\ntest.rs:4:13: 4:21 error: illegal cast; cast through an integer first: `fn() -> u64 {f}` as `f64`\ntest.rs:4     let n = f as f64;\n```\n\nHowever:\n\n``` rust\nfn f() -> u64 { 0 }\n\nfn main() {\n    let n = f as u64 as f64;\n}\n```\n\nnow segfaults at compile-time:\n\n```\n(lldb) run ./test.rs\nProcess 52461 launched: '/usr/local/bin/rustc' (x86_64)\ntest.rs:4:9: 4:10 warning: unused variable: `n`, #[warn(unused_variables)] on by default\ntest.rs:4     let n = f as u64 as f64;\n                  ^\nProcess 52461 stopped\n* thread #2: tid = 0x126ff8, 0x00000001024efc59 librustc_llvm-4e7c5e5c.dylib`llvm::TypeFinder::run(llvm::Module const&, bool) + 73, name = 'rustc', stop reason = EXC_BAD_ACCESS (code=EXC_I386_GPFLT)\n    frame #0: 0x00000001024efc59 librustc_llvm-4e7c5e5c.dylib`llvm::TypeFinder::run(llvm::Module const&, bool) + 73\nlibrustc_llvm-4e7c5e5c.dylib`llvm::TypeFinder::run(llvm::Module const&, bool) + 73:\n-> 0x1024efc59:  movq   0x8(%rbx), %rsi\n   0x1024efc5d:  testq  %rsi, %rsi\n   0x1024efc60:  je     0x1024f0070               ; llvm::TypeFinder::run(llvm::Module const&, bool) + 1120\n   0x1024efc66:  movzbl 0x8(%rsi), %eax\n(lldb) bt\n* thread #2: tid = 0x126ff8, 0x00000001024efc59 librustc_llvm-4e7c5e5c.dylib`llvm::TypeFinder::run(llvm::Module const&, bool) + 73, name = 'rustc', stop reason = EXC_BAD_ACCESS (code=EXC_I386_GPFLT)\n  * frame #0: 0x00000001024efc59 librustc_llvm-4e7c5e5c.dylib`llvm::TypeFinder::run(llvm::Module const&, bool) + 73\n    frame #1: 0x00000001023b4192 librustc_llvm-4e7c5e5c.dylib`llvm::TypePrinting::incorporateTypes(llvm::Module const&) + 34\n    frame #2: 0x00000001023c430c librustc_llvm-4e7c5e5c.dylib`llvm::Value::printAsOperand(llvm::raw_ostream&, bool, llvm::Module const*) const + 364\n    frame #3: 0x0000000101d42bfa librustc_llvm-4e7c5e5c.dylib`llvm::AsmPrinter::lowerConstant(llvm::Constant const*) + 1610\n    frame #4: 0x0000000101d45842 librustc_llvm-4e7c5e5c.dylib`emitGlobalConstantImpl(llvm::Constant const*, llvm::AsmPrinter&) + 2498\n    frame #5: 0x0000000101d3dfcb librustc_llvm-4e7c5e5c.dylib`llvm::AsmPrinter::EmitGlobalVariable(llvm::GlobalVariable const*) + 1899\n    frame #6: 0x0000000101d418f0 librustc_llvm-4e7c5e5c.dylib`llvm::AsmPrinter::doFinalization(llvm::Module&) + 80\n    frame #7: 0x00000001024cd523 librustc_llvm-4e7c5e5c.dylib`llvm::FPPassManager::doFinalization(llvm::Module&) + 83\n    frame #8: 0x00000001024cdafd librustc_llvm-4e7c5e5c.dylib`llvm::legacy::PassManagerImpl::run(llvm::Module&) + 1421\n    frame #9: 0x00000001013b68c7 librustc_llvm-4e7c5e5c.dylib`LLVMRustWriteOutputFile(Target=<unavailable>, PMR=0x0000000103f05e70, M=0x0000000103f05e70, path=<unavailable>, FileType=CGFT_ObjectFile) + 503 at PassWrapper.cpp:211\n    frame #10: 0x00000001005a34ff librustc_trans-4e7c5e5c.dylib`back::write::write_output_file::hdb56d5084c63bc86v6b + 223\n    frame #11: 0x00000001005a601f librustc_trans-4e7c5e5c.dylib`back::write::optimize_and_codegen::closure.38410 + 1327\n    frame #12: 0x00000001005b0cb9 librustc_trans-4e7c5e5c.dylib`back::write::execute_work_item::hd8db7afca5e1ebc8nZc + 6345\n    frame #13: 0x00000001005a7af4 librustc_trans-4e7c5e5c.dylib`back::write::run_passes::hd2f044ab61edb7b9cFc + 6468\n    frame #14: 0x0000000100029e1a librustc_driver-4e7c5e5c.dylib`driver::phase_5_run_llvm_passes::hb3416b462f92d001dOa + 362\n    frame #15: 0x00000001000055db librustc_driver-4e7c5e5c.dylib`driver::compile_input::heef3a8983ecc9746Iba + 5339\n    frame #16: 0x00000001000d644f librustc_driver-4e7c5e5c.dylib`run_compiler::h09dbb9820b7ec68bF5b + 4159\n    frame #17: 0x00000001000d3808 librustc_driver-4e7c5e5c.dylib`thunk::F.Invoke$LT$A$C$$u20$R$GT$::invoke::h10490261994158956019 + 600\n    frame #18: 0x00000001000d2350 librustc_driver-4e7c5e5c.dylib`rt::unwind::try::try_fn::h10082179094849837244 + 192\n    frame #19: 0x0000000103a67089 libstd-4e7c5e5c.dylib`rust_try_inner + 9\n    frame #20: 0x0000000103a67076 libstd-4e7c5e5c.dylib`rust_try + 6\n    frame #21: 0x00000001000d2b89 librustc_driver-4e7c5e5c.dylib`thunk::F.Invoke$LT$A$C$$u20$R$GT$::invoke::h16026492124957986721 + 1433\n    frame #22: 0x00000001039d06f3 libstd-4e7c5e5c.dylib`sys::thread::thread_start::hb52a23d4ffceb69312E + 179\n    frame #23: 0x00007fff865272fc libsystem_pthread.dylib`_pthread_body + 131\n    frame #24: 0x00007fff86527279 libsystem_pthread.dylib`_pthread_start + 176\n```\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/77150407/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/77150558",
    "html_url": "https://github.com/rust-lang/rust/issues/15355#issuecomment-77150558",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15355",
    "id": 77150558,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3MTUwNTU4",
    "user": {
      "login": "ghost",
      "id": 10137,
      "node_id": "MDQ6VXNlcjEwMTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ghost",
      "html_url": "https://github.com/ghost",
      "followers_url": "https://api.github.com/users/ghost/followers",
      "following_url": "https://api.github.com/users/ghost/following{/other_user}",
      "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
      "organizations_url": "https://api.github.com/users/ghost/orgs",
      "repos_url": "https://api.github.com/users/ghost/repos",
      "events_url": "https://api.github.com/users/ghost/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ghost/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-04T12:38:32Z",
    "updated_at": "2015-03-04T13:32:55Z",
    "body": "FWIW, the error message is also misleading: it should suggest casting through `usize`.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/77150558/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/116814141",
    "html_url": "https://github.com/rust-lang/rust/issues/15355#issuecomment-116814141",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15355",
    "id": 116814141,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExNjgxNDE0MQ==",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-06-29T19:43:43Z",
    "updated_at": "2015-06-29T19:43:43Z",
    "body": "This is now fixed. It suggests casting through `usize`, then actually compiles and runs just fine.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/116814141/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
