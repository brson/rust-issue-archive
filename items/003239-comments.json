[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/17850195",
    "html_url": "https://github.com/rust-lang/rust/issues/3239#issuecomment-17850195",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/3239",
    "id": 17850195,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3ODUwMTk1",
    "user": {
      "login": "pcwalton",
      "id": 157897,
      "node_id": "MDQ6VXNlcjE1Nzg5Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/157897?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pcwalton",
      "html_url": "https://github.com/pcwalton",
      "followers_url": "https://api.github.com/users/pcwalton/followers",
      "following_url": "https://api.github.com/users/pcwalton/following{/other_user}",
      "gists_url": "https://api.github.com/users/pcwalton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pcwalton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pcwalton/subscriptions",
      "organizations_url": "https://api.github.com/users/pcwalton/orgs",
      "repos_url": "https://api.github.com/users/pcwalton/repos",
      "events_url": "https://api.github.com/users/pcwalton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pcwalton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-05-14T00:36:05Z",
    "updated_at": "2013-05-14T00:36:05Z",
    "body": "Soon this will be obsolete since the type of crust functions won't be `*u8` anymore.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/17850195/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/20898867",
    "html_url": "https://github.com/rust-lang/rust/issues/3239#issuecomment-20898867",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/3239",
    "id": 20898867,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwODk4ODY3",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-07-12T19:25:59Z",
    "updated_at": "2013-07-12T19:25:59Z",
    "body": "Visiting for triage; still relevant.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/20898867/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23683361",
    "html_url": "https://github.com/rust-lang/rust/issues/3239#issuecomment-23683361",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/3239",
    "id": 23683361,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzNjgzMzYx",
    "user": {
      "login": "catamorphism",
      "id": 427212,
      "node_id": "MDQ6VXNlcjQyNzIxMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/427212?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/catamorphism",
      "html_url": "https://github.com/catamorphism",
      "followers_url": "https://api.github.com/users/catamorphism/followers",
      "following_url": "https://api.github.com/users/catamorphism/following{/other_user}",
      "gists_url": "https://api.github.com/users/catamorphism/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/catamorphism/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/catamorphism/subscriptions",
      "organizations_url": "https://api.github.com/users/catamorphism/orgs",
      "repos_url": "https://api.github.com/users/catamorphism/repos",
      "events_url": "https://api.github.com/users/catamorphism/events{/privacy}",
      "received_events_url": "https://api.github.com/users/catamorphism/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-09-02T23:46:57Z",
    "updated_at": "2013-09-02T23:46:57Z",
    "body": "(bug triage) Is this still relevant? @pcwalton ?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23683361/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23684384",
    "html_url": "https://github.com/rust-lang/rust/issues/3239#issuecomment-23684384",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/3239",
    "id": 23684384,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzNjg0Mzg0",
    "user": {
      "login": "jdm",
      "id": 27658,
      "node_id": "MDQ6VXNlcjI3NjU4",
      "avatar_url": "https://avatars.githubusercontent.com/u/27658?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jdm",
      "html_url": "https://github.com/jdm",
      "followers_url": "https://api.github.com/users/jdm/followers",
      "following_url": "https://api.github.com/users/jdm/following{/other_user}",
      "gists_url": "https://api.github.com/users/jdm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jdm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jdm/subscriptions",
      "organizations_url": "https://api.github.com/users/jdm/orgs",
      "repos_url": "https://api.github.com/users/jdm/repos",
      "events_url": "https://api.github.com/users/jdm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jdm/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-09-03T00:43:54Z",
    "updated_at": "2013-09-03T00:43:54Z",
    "body": "Now you need to pass extern \"C\" fn, so this should be moot.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23684384/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1876857576",
    "html_url": "https://github.com/rust-lang/rust/issues/3239#issuecomment-1876857576",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/3239",
    "id": 1876857576,
    "node_id": "IC_kwDOAAsO6M5v3pLo",
    "user": {
      "login": "rust-log-analyzer",
      "id": 68648060,
      "node_id": "MDQ6VXNlcjY4NjQ4MDYw",
      "avatar_url": "https://avatars.githubusercontent.com/u/68648060?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rust-log-analyzer",
      "html_url": "https://github.com/rust-log-analyzer",
      "followers_url": "https://api.github.com/users/rust-log-analyzer/followers",
      "following_url": "https://api.github.com/users/rust-log-analyzer/following{/other_user}",
      "gists_url": "https://api.github.com/users/rust-log-analyzer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rust-log-analyzer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rust-log-analyzer/subscriptions",
      "organizations_url": "https://api.github.com/users/rust-log-analyzer/orgs",
      "repos_url": "https://api.github.com/users/rust-log-analyzer/repos",
      "events_url": "https://api.github.com/users/rust-log-analyzer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rust-log-analyzer/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2024-01-04T10:27:02Z",
    "updated_at": "2024-01-04T10:27:02Z",
    "body": "\nThe job **`x86_64-gnu-tools`** failed! Check out the build log: [(web)](https://github.com/rust-lang/rust/actions/runs/7408035587/job/20155448230) [(plain)](https://github.com/rust-lang/rust/commit/38847aeb76959257dd9233f8dcd054358416a68a/checks/20155448230/logs)\n\n<details><summary><i>Click to see the possible cause of the failure (guessed by this bot)</i></summary>\n\n```plain\ntest result: ok. 320 passed; 7 ignored;\n\n\nFAILED TEST: tests/pass-dep/concurrency/windows_join_multiple.rs\ncommand: MIRI_ENV_VAR_TEST=\"0\" MIRI_TEMP=\"/tmp\" \"/checkout/obj/build/x86_64-unknown-linux-gnu/stage2/bin/miri\" \"--error-format=json\" \"-Dwarnings\" \"-Dunused\" \"-Ainternal_features\" \"-Zui-testing\" \"--target\" \"x86_64-pc-windows-gnu\" \"--extern\" \"getrandom_01=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/x86_64-pc-windows-gnu/debug/deps/libgetrandom-05b12b9c5d72676e.rlib\" \"--extern\" \"getrandom_01=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/x86_64-pc-windows-gnu/debug/deps/libgetrandom-05b12b9c5d72676e.rmeta\" \"--extern\" \"getrandom_02=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/x86_64-pc-windows-gnu/debug/deps/libgetrandom-00224480fb87db84.rlib\" \"--extern\" \"getrandom_02=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/x86_64-pc-windows-gnu/debug/deps/libgetrandom-00224480fb87db84.rmeta\" \"--extern\" \"libc=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/x86_64-pc-windows-gnu/debug/deps/liblibc-d8eeef198237e489.rlib\" \"--extern\" \"libc=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/x86_64-pc-windows-gnu/debug/deps/liblibc-d8eeef198237e489.rmeta\" \"--extern\" \"num_cpus=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/x86_64-pc-windows-gnu/debug/deps/libnum_cpus-888469fa0ff3d493.rlib\" \"--extern\" \"num_cpus=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/x86_64-pc-windows-gnu/debug/deps/libnum_cpus-888469fa0ff3d493.rmeta\" \"--extern\" \"rand=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/x86_64-pc-windows-gnu/debug/deps/librand-3ce088fe5404111c.rlib\" \"--extern\" \"rand=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/x86_64-pc-windows-gnu/debug/deps/librand-3ce088fe5404111c.rmeta\" \"--extern\" \"tempfile=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/x86_64-pc-windows-gnu/debug/deps/libtempfile-151866a30fd9ac01.rlib\" \"--extern\" \"tempfile=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/x86_64-pc-windows-gnu/debug/deps/libtempfile-151866a30fd9ac01.rmeta\" \"--extern\" \"page_size=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/x86_64-pc-windows-gnu/debug/deps/libpage_size-eb655f7354e5b89c.rlib\" \"--extern\" \"page_size=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/x86_64-pc-windows-gnu/debug/deps/libpage_size-eb655f7354e5b89c.rmeta\" \"--extern\" \"tokio=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/x86_64-pc-windows-gnu/debug/deps/libtokio-948b613bda81142f.rlib\" \"--extern\" \"tokio=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/x86_64-pc-windows-gnu/debug/deps/libtokio-948b613bda81142f.rmeta\" \"--extern\" \"windows_sys=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/x86_64-pc-windows-gnu/debug/deps/libwindows_sys-24c27061cb0bf9e3.rlib\" \"--extern\" \"windows_sys=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/x86_64-pc-windows-gnu/debug/deps/libwindows_sys-24c27061cb0bf9e3.rmeta\" \"-L\" \"/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/debug/deps\" \"-L\" \"/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/x86_64-pc-windows-gnu/debug/deps\" \"--out-dir\" \"/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/tests/pass-dep/concurrency\" \"tests/pass-dep/concurrency/windows_join_multiple.rs\" \"-Zmiri-preemption-rate=0\" \"--edition\" \"2021\"\nError: \n   0: tests failed\n\n\nBacktrace omitted. Run with RUST_BACKTRACE=1 environment variable to display it.\nRun with RUST_BACKTRACE=full to include source snippets.\n\nCaused by:\nCaused by:\n  process didn't exit successfully: `/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/x86_64-unknown-linux-gnu/release/deps/compiletest-c5fd2d04bfeca068 pass --quiet` (exit status: 1)\nerror: pass test got exit status: 1, but expected 0\nerror: actual output differed from expected\nExecute `./miri test --bless` to update `tests/pass-dep/concurrency/windows_join_multiple.stderr` to the actual output\n--- tests/pass-dep/concurrency/windows_join_multiple.stderr\n+++ <stderr output>\n+++ <stderr output>\n+error: Undefined Behavior: calling a function with ABI system using caller ABI C\n+  --> $DIR/windows_join_multiple.rs:LL:CC\n+   |\n+LL |         assert_eq!(WaitForSingleObject(blocker, INFINITE), WAIT_OBJECT_0);\n+   |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ calling a function with ABI system using caller ABI C\n+   = help: this indicates a bug in the program: it performed an invalid operation, and caused Undefined Behavior\n+   = help: see https://doc.rust-lang.org/nightly/reference/behavior-considered-undefined.html for further information\n+   = note: BACKTRACE:\n+   = note: inside closure at $DIR/windows_join_multiple.rs:LL:CC\n---\n\nerror: there were 1 unmatched diagnostics\n##[error]  --> tests/pass-dep/concurrency/windows_join_multiple.rs:23:20\n   |\n23 |         assert_eq!(WaitForSingleObject(blocker, INFINITE), WAIT_OBJECT_0);\n   |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Error: Undefined Behavior: calling a function with ABI system using caller ABI C\n\nfull stderr:\nerror: Undefined Behavior: calling a function with ABI system using caller ABI C\n##[error]  --> tests/pass-dep/concurrency/windows_join_multiple.rs:23:20\n##[error]  --> tests/pass-dep/concurrency/windows_join_multiple.rs:23:20\n   |\nLL |         assert_eq!(WaitForSingleObject(blocker, INFINITE), WAIT_OBJECT_0);\n   |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ calling a function with ABI system using caller ABI C\n   = help: this indicates a bug in the program: it performed an invalid operation, and caused Undefined Behavior\n   = help: see https://doc.rust-lang.org/nightly/reference/behavior-considered-undefined.html for further information\n   = note: BACKTRACE:\n   = note: inside closure at tests/pass-dep/concurrency/windows_join_multiple.rs:23:20: 23:58\n---\n\n\n\nFAILED TEST: tests/pass-dep/concurrency/windows_init_once.rs\ncommand: MIRI_ENV_VAR_TEST=\"0\" MIRI_TEMP=\"/tmp\" \"/checkout/obj/build/x86_64-unknown-linux-gnu/stage2/bin/miri\" \"--error-format=json\" \"-Dwarnings\" \"-Dunused\" \"-Ainternal_features\" \"-Zui-testing\" \"--target\" \"x86_64-pc-windows-gnu\" \"--extern\" \"getrandom_01=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/x86_64-pc-windows-gnu/debug/deps/libgetrandom-05b12b9c5d72676e.rlib\" \"--extern\" \"getrandom_01=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/x86_64-pc-windows-gnu/debug/deps/libgetrandom-05b12b9c5d72676e.rmeta\" \"--extern\" \"getrandom_02=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/x86_64-pc-windows-gnu/debug/deps/libgetrandom-00224480fb87db84.rlib\" \"--extern\" \"getrandom_02=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/x86_64-pc-windows-gnu/debug/deps/libgetrandom-00224480fb87db84.rmeta\" \"--extern\" \"libc=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/x86_64-pc-windows-gnu/debug/deps/liblibc-d8eeef198237e489.rlib\" \"--extern\" \"libc=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/x86_64-pc-windows-gnu/debug/deps/liblibc-d8eeef198237e489.rmeta\" \"--extern\" \"num_cpus=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/x86_64-pc-windows-gnu/debug/deps/libnum_cpus-888469fa0ff3d493.rlib\" \"--extern\" \"num_cpus=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/x86_64-pc-windows-gnu/debug/deps/libnum_cpus-888469fa0ff3d493.rmeta\" \"--extern\" \"rand=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/x86_64-pc-windows-gnu/debug/deps/librand-3ce088fe5404111c.rlib\" \"--extern\" \"rand=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/x86_64-pc-windows-gnu/debug/deps/librand-3ce088fe5404111c.rmeta\" \"--extern\" \"tempfile=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/x86_64-pc-windows-gnu/debug/deps/libtempfile-151866a30fd9ac01.rlib\" \"--extern\" \"tempfile=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/x86_64-pc-windows-gnu/debug/deps/libtempfile-151866a30fd9ac01.rmeta\" \"--extern\" \"page_size=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/x86_64-pc-windows-gnu/debug/deps/libpage_size-eb655f7354e5b89c.rlib\" \"--extern\" \"page_size=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/x86_64-pc-windows-gnu/debug/deps/libpage_size-eb655f7354e5b89c.rmeta\" \"--extern\" \"tokio=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/x86_64-pc-windows-gnu/debug/deps/libtokio-948b613bda81142f.rlib\" \"--extern\" \"tokio=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/x86_64-pc-windows-gnu/debug/deps/libtokio-948b613bda81142f.rmeta\" \"--extern\" \"windows_sys=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/x86_64-pc-windows-gnu/debug/deps/libwindows_sys-24c27061cb0bf9e3.rlib\" \"--extern\" \"windows_sys=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/x86_64-pc-windows-gnu/debug/deps/libwindows_sys-24c27061cb0bf9e3.rmeta\" \"-L\" \"/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/debug/deps\" \"-L\" \"/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/x86_64-pc-windows-gnu/debug/deps\" \"--out-dir\" \"/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/tests/pass-dep/concurrency\" \"tests/pass-dep/concurrency/windows_init_once.rs\" \"-Zmiri-preemption-rate=0\" \"--edition\" \"2021\"\nerror: pass test got exit status: 1, but expected 0\n\nerror: actual output differed from expected\nExecute `./miri test --bless` to update `tests/pass-dep/concurrency/windows_init_once.stderr` to the actual output\nExecute `./miri test --bless` to update `tests/pass-dep/concurrency/windows_init_once.stderr` to the actual output\n--- tests/pass-dep/concurrency/windows_init_once.stderr\n+++ <stderr output>\n+error: Undefined Behavior: calling a function with ABI system using caller ABI C\n+  --> $DIR/windows_init_once.rs:LL:CC\n+   |\n+LL |         assert_eq!(InitOnceBeginInitialize(&mut init_once, 0, &mut pending, null_mut()), TRUE);\n+   |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ calling a function with ABI system using caller ABI C\n+   = help: this indicates a bug in the program: it performed an invalid operation, and caused Undefined Behavior\n+   = help: see https://doc.rust-lang.org/nightly/reference/behavior-considered-undefined.html for further information\n+   = note: BACKTRACE:\n+   = note: inside `single_thread` at $DIR/windows_init_once.rs:LL:CC\n---\n+error: aborting due to 1 previous error\n+\n\n\nerror: actual output differed from expected\nExecute `./miri test --bless` to update `tests/pass-dep/concurrency/windows_init_once.stdout` to the actual output\n+++ <stdout output>\n-completing initialization\n-finished waiting for initialization\n-finished waiting for initialization\n---\n\nerror: there were 1 unmatched diagnostics\n##[error]  --> tests/pass-dep/concurrency/windows_init_once.rs:26:20\n   |\n26 |         assert_eq!(InitOnceBeginInitialize(&mut init_once, 0, &mut pending, null_mut()), TRUE);\n   |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Error: Undefined Behavior: calling a function with ABI system using caller ABI C\n\nfull stderr:\nerror: Undefined Behavior: calling a function with ABI system using caller ABI C\n##[error]  --> tests/pass-dep/concurrency/windows_init_once.rs:26:20\n##[error]  --> tests/pass-dep/concurrency/windows_init_once.rs:26:20\n   |\nLL |         assert_eq!(InitOnceBeginInitialize(&mut init_once, 0, &mut pending, null_mut()), TRUE);\n   |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ calling a function with ABI system using caller ABI C\n   = help: this indicates a bug in the program: it performed an invalid operation, and caused Undefined Behavior\n   = help: see https://doc.rust-lang.org/nightly/reference/behavior-considered-undefined.html for further information\n   = note: BACKTRACE:\n   = note: inside `single_thread` at tests/pass-dep/concurrency/windows_init_once.rs:26:20: 26:88\n---\n\n\n\nFAILED TEST: tests/pass-dep/concurrency/windows_detach_terminated.rs\ncommand: MIRI_ENV_VAR_TEST=\"0\" MIRI_TEMP=\"/tmp\" \"/checkout/obj/build/x86_64-unknown-linux-gnu/stage2/bin/miri\" \"--error-format=json\" \"-Dwarnings\" \"-Dunused\" \"-Ainternal_features\" \"-Zui-testing\" \"--target\" \"x86_64-pc-windows-gnu\" \"--extern\" \"getrandom_01=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/x86_64-pc-windows-gnu/debug/deps/libgetrandom-05b12b9c5d72676e.rlib\" \"--extern\" \"getrandom_01=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/x86_64-pc-windows-gnu/debug/deps/libgetrandom-05b12b9c5d72676e.rmeta\" \"--extern\" \"getrandom_02=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/x86_64-pc-windows-gnu/debug/deps/libgetrandom-00224480fb87db84.rlib\" \"--extern\" \"getrandom_02=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/x86_64-pc-windows-gnu/debug/deps/libgetrandom-00224480fb87db84.rmeta\" \"--extern\" \"libc=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/x86_64-pc-windows-gnu/debug/deps/liblibc-d8eeef198237e489.rlib\" \"--extern\" \"libc=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/x86_64-pc-windows-gnu/debug/deps/liblibc-d8eeef198237e489.rmeta\" \"--extern\" \"num_cpus=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/x86_64-pc-windows-gnu/debug/deps/libnum_cpus-888469fa0ff3d493.rlib\" \"--extern\" \"num_cpus=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/x86_64-pc-windows-gnu/debug/deps/libnum_cpus-888469fa0ff3d493.rmeta\" \"--extern\" \"rand=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/x86_64-pc-windows-gnu/debug/deps/librand-3ce088fe5404111c.rlib\" \"--extern\" \"rand=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/x86_64-pc-windows-gnu/debug/deps/librand-3ce088fe5404111c.rmeta\" \"--extern\" \"tempfile=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/x86_64-pc-windows-gnu/debug/deps/libtempfile-151866a30fd9ac01.rlib\" \"--extern\" \"tempfile=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/x86_64-pc-windows-gnu/debug/deps/libtempfile-151866a30fd9ac01.rmeta\" \"--extern\" \"page_size=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/x86_64-pc-windows-gnu/debug/deps/libpage_size-eb655f7354e5b89c.rlib\" \"--extern\" \"page_size=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/x86_64-pc-windows-gnu/debug/deps/libpage_size-eb655f7354e5b89c.rmeta\" \"--extern\" \"tokio=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/x86_64-pc-windows-gnu/debug/deps/libtokio-948b613bda81142f.rlib\" \"--extern\" \"tokio=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/x86_64-pc-windows-gnu/debug/deps/libtokio-948b613bda81142f.rmeta\" \"--extern\" \"windows_sys=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/x86_64-pc-windows-gnu/debug/deps/libwindows_sys-24c27061cb0bf9e3.rlib\" \"--extern\" \"windows_sys=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/x86_64-pc-windows-gnu/debug/deps/libwindows_sys-24c27061cb0bf9e3.rmeta\" \"-L\" \"/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/debug/deps\" \"-L\" \"/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/x86_64-pc-windows-gnu/debug/deps\" \"--out-dir\" \"/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/tests/pass-dep/concurrency\" \"tests/pass-dep/concurrency/windows_detach_terminated.rs\" \"-Zmiri-preemption-rate=0\" \"--edition\" \"2021\"\nerror: pass test got exit status: 1, but expected 0\n\nerror: actual output differed from expected\nExecute `./miri test --bless` to update `tests/pass-dep/concurrency/windows_detach_terminated.stderr` to the actual output\nExecute `./miri test --bless` to update `tests/pass-dep/concurrency/windows_detach_terminated.stderr` to the actual output\n--- tests/pass-dep/concurrency/windows_detach_terminated.stderr\n+++ <stderr output>\n+error: Undefined Behavior: calling a function with ABI system using caller ABI C\n+  --> $DIR/windows_detach_terminated.rs:LL:CC\n+   |\n+LL |         assert_ne!(CloseHandle(thread), 0);\n+   |                    ^^^^^^^^^^^^^^^^^^^ calling a function with ABI system using caller ABI C\n+   = help: this indicates a bug in the program: it performed an invalid operation, and caused Undefined Behavior\n+   = help: see https://doc.rust-lang.org/nightly/reference/behavior-considered-undefined.html for further information\n+   = note: BACKTRACE:\n+   = note: inside `main` at $DIR/windows_detach_terminated.rs:LL:CC\n---\n\nerror: there were 1 unmatched diagnostics\n##[error]  --> tests/pass-dep/concurrency/windows_detach_terminated.rs:17:20\n   |\n17 |         assert_ne!(CloseHandle(thread), 0);\n   |                    ^^^^^^^^^^^^^^^^^^^ Error: Undefined Behavior: calling a function with ABI system using caller ABI C\n\nfull stderr:\nerror: Undefined Behavior: calling a function with ABI system using caller ABI C\n##[error]  --> tests/pass-dep/concurrency/windows_detach_terminated.rs:17:20\n##[error]  --> tests/pass-dep/concurrency/windows_detach_terminated.rs:17:20\n   |\nLL |         assert_ne!(CloseHandle(thread), 0);\n   |                    ^^^^^^^^^^^^^^^^^^^ calling a function with ABI system using caller ABI C\n   = help: this indicates a bug in the program: it performed an invalid operation, and caused Undefined Behavior\n   = help: see https://doc.rust-lang.org/nightly/reference/behavior-considered-undefined.html for further information\n   = note: BACKTRACE:\n   = note: inside `main` at tests/pass-dep/concurrency/windows_detach_terminated.rs:17:20: 17:39\n---\n\n\n\nFAILED TEST: tests/pass-dep/concurrency/windows_condvar_shared.rs\ncommand: MIRI_ENV_VAR_TEST=\"0\" MIRI_TEMP=\"/tmp\" \"/checkout/obj/build/x86_64-unknown-linux-gnu/stage2/bin/miri\" \"--error-format=json\" \"-Dwarnings\" \"-Dunused\" \"-Ainternal_features\" \"-Zui-testing\" \"--target\" \"x86_64-pc-windows-gnu\" \"--extern\" \"getrandom_01=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/x86_64-pc-windows-gnu/debug/deps/libgetrandom-05b12b9c5d72676e.rlib\" \"--extern\" \"getrandom_01=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/x86_64-pc-windows-gnu/debug/deps/libgetrandom-05b12b9c5d72676e.rmeta\" \"--extern\" \"getrandom_02=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/x86_64-pc-windows-gnu/debug/deps/libgetrandom-00224480fb87db84.rlib\" \"--extern\" \"getrandom_02=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/x86_64-pc-windows-gnu/debug/deps/libgetrandom-00224480fb87db84.rmeta\" \"--extern\" \"libc=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/x86_64-pc-windows-gnu/debug/deps/liblibc-d8eeef198237e489.rlib\" \"--extern\" \"libc=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/x86_64-pc-windows-gnu/debug/deps/liblibc-d8eeef198237e489.rmeta\" \"--extern\" \"num_cpus=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/x86_64-pc-windows-gnu/debug/deps/libnum_cpus-888469fa0ff3d493.rlib\" \"--extern\" \"num_cpus=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/x86_64-pc-windows-gnu/debug/deps/libnum_cpus-888469fa0ff3d493.rmeta\" \"--extern\" \"rand=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/x86_64-pc-windows-gnu/debug/deps/librand-3ce088fe5404111c.rlib\" \"--extern\" \"rand=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/x86_64-pc-windows-gnu/debug/deps/librand-3ce088fe5404111c.rmeta\" \"--extern\" \"tempfile=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/x86_64-pc-windows-gnu/debug/deps/libtempfile-151866a30fd9ac01.rlib\" \"--extern\" \"tempfile=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/x86_64-pc-windows-gnu/debug/deps/libtempfile-151866a30fd9ac01.rmeta\" \"--extern\" \"page_size=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/x86_64-pc-windows-gnu/debug/deps/libpage_size-eb655f7354e5b89c.rlib\" \"--extern\" \"page_size=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/x86_64-pc-windows-gnu/debug/deps/libpage_size-eb655f7354e5b89c.rmeta\" \"--extern\" \"tokio=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/x86_64-pc-windows-gnu/debug/deps/libtokio-948b613bda81142f.rlib\" \"--extern\" \"tokio=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/x86_64-pc-windows-gnu/debug/deps/libtokio-948b613bda81142f.rmeta\" \"--extern\" \"windows_sys=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/x86_64-pc-windows-gnu/debug/deps/libwindows_sys-24c27061cb0bf9e3.rlib\" \"--extern\" \"windows_sys=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/x86_64-pc-windows-gnu/debug/deps/libwindows_sys-24c27061cb0bf9e3.rmeta\" \"-L\" \"/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/debug/deps\" \"-L\" \"/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/miri/x86_64-pc-windows-gnu/debug/deps\" \"--out-dir\" \"/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/ui/tests/pass-dep/concurrency\" \"tests/pass-dep/concurrency/windows_condvar_shared.rs\" \"-Zmiri-preemption-rate=0\" \"--edition\" \"2021\"\nerror: pass test got exit status: 1, but expected 0\n\nerror: actual output differed from expected\nExecute `./miri test --bless` to update `tests/pass-dep/concurrency/windows_condvar_shared.stderr` to the actual output\nExecute `./miri test --bless` to update `tests/pass-dep/concurrency/windows_condvar_shared.stderr` to the actual output\n--- tests/pass-dep/concurrency/windows_condvar_shared.stderr\n+++ <stderr output>\n+error: Undefined Behavior: calling a function with ABI system using caller ABI C\n+  --> $DIR/windows_condvar_shared.rs:LL:CC\n+   |\n+LL |                 AcquireSRWLockShared(lock_ptr.0);\n+   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ calling a function with ABI system using caller ABI C\n+   = help: this indicates a bug in the program: it performed an invalid operation, and caused Undefined Behavior\n+   = help: see https://doc.rust-lang.org/nightly/reference/behavior-considered-undefined.html for further information\n+   = note: BACKTRACE:\n+   = note: inside closure at $DIR/windows_condvar_shared.rs:LL:CC\n+   = note: inside closure at $DIR/windows_condvar_shared.rs:LL:CC\n+\n+note: some details are omitted, run with `MIRIFLAGS=-Zmiri-backtrace=full` for a verbose backtrace\n+\n+error: aborting due to 1 previous error\n+\n\n\nerror: actual output differed from expected\nExecute `./miri test --bless` to update `tests/pass-dep/concurrency/windows_condvar_shared.stdout` to the actual output\n+++ <stdout output>\n all_shared\n-exclusive waiter 0 locked\n-exclusive waiter 1 locked\n---\n-shared waiter 3 locked\n-shared waiter 4 locked\n-main locked\n-main unlocked\n-shared waiter 0 reacquired lock\n-shared waiter 1 reacquired lock\n-shared waiter 2 reacquired lock\n-shared waiter 3 reacquired lock\n-shared waiter 4 reacquired lock\n-exclusive_sleep_and_shared_lock\n-exclusive waiter 0 locked\n-exclusive waiter 1 locked\n-exclusive waiter 2 locked\n-exclusive waiter 3 locked\n-exclusive waiter 4 locked\n-reader 0 locked\n-reader 1 locked\n-reader 2 locked\n-reader 3 locked\n-reader 4 locked\n-reader 0 unlocked\n-reader 1 unlocked\n-reader 2 unlocked\n-reader 3 unlocked\n-reader 4 unlocked\n-exclusive waiter 0 reacquired lock\n-exclusive waiter 0 unlocked\n-exclusive waiter 1 reacquired lock\n-exclusive waiter 1 unlocked\n-exclusive waiter 2 reacquired lock\n-exclusive waiter 2 unlocked\n-exclusive waiter 3 reacquired lock\n-exclusive waiter 3 unlocked\n-exclusive waiter 4 reacquired lock\n-exclusive waiter 4 unlocked\n\nerror: there were 1 unmatched diagnostics\n##[error]  --> tests/pass-dep/concurrency/windows_condvar_shared.rs:41:17\n   |\n   |\n41 |                 AcquireSRWLockShared(lock_ptr.0);\n   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Error: Undefined Behavior: calling a function with ABI system using caller ABI C\n\nfull stderr:\nerror: Undefined Behavior: calling a function with ABI system using caller ABI C\n##[error]  --> tests/pass-dep/concurrency/windows_condvar_shared.rs:41:17\n##[error]  --> tests/pass-dep/concurrency/windows_condvar_shared.rs:41:17\n   |\nLL |                 AcquireSRWLockShared(lock_ptr.0);\n   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ calling a function with ABI system using caller ABI C\n   = help: this indicates a bug in the program: it performed an invalid operation, and caused Undefined Behavior\n   = help: see https://doc.rust-lang.org/nightly/reference/behavior-considered-undefined.html for further information\n   = note: BACKTRACE:\n   = note: inside closure at tests/pass-dep/concurrency/windows_condvar_shared.rs:41:17: 41:49\n```\n\n</details>\n        ",
    "author_association": "COLLABORATOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1876857576/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
