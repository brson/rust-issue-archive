[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/124894669",
    "html_url": "https://github.com/rust-lang/rust/issues/27282#issuecomment-124894669",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27282",
    "id": 124894669,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNDg5NDY2OQ==",
    "user": {
      "login": "eefriedman",
      "id": 12769964,
      "node_id": "MDQ6VXNlcjEyNzY5OTY0",
      "avatar_url": "https://avatars.githubusercontent.com/u/12769964?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eefriedman",
      "html_url": "https://github.com/eefriedman",
      "followers_url": "https://api.github.com/users/eefriedman/followers",
      "following_url": "https://api.github.com/users/eefriedman/following{/other_user}",
      "gists_url": "https://api.github.com/users/eefriedman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eefriedman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eefriedman/subscriptions",
      "organizations_url": "https://api.github.com/users/eefriedman/orgs",
      "repos_url": "https://api.github.com/users/eefriedman/repos",
      "events_url": "https://api.github.com/users/eefriedman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eefriedman/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-25T21:06:53Z",
    "updated_at": "2015-07-25T21:06:53Z",
    "body": "Ideally, the type of \"foo\" in the pattern guard should be `&Option<&i32>` rather than `&mut Option<&i32>`... then we could loosen the overly restrictive mutation rules in pattern guards.\n\nWe might be able to specifically check for this case at https://github.com/rust-lang/rust/blob/d38e8a05b533956a3c8d976c9bb137c50f017113/src/librustc/middle/check_match.rs#L1144 ; the problem there is that it could end up spuriously detecting a mutable borrow.\n\nAnother possibility would be to make it impossible to move out of variables of type `&mut _`; this is probably something we want to do anyway to eliminate the distinction between `let bar = foo;` (which moves) and `let foo : &mut _ = foo` (which reborrows).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/124894669/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/278127261",
    "html_url": "https://github.com/rust-lang/rust/issues/27282#issuecomment-278127261",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27282",
    "id": 278127261,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3ODEyNzI2MQ==",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-02-07T20:18:44Z",
    "updated_at": "2017-02-07T20:18:44Z",
    "body": "This compiles with no error today. Nominating.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/278127261/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/278129169",
    "html_url": "https://github.com/rust-lang/rust/issues/27282#issuecomment-278129169",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27282",
    "id": 278129169,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3ODEyOTE2OQ==",
    "user": {
      "login": "arielb1",
      "id": 1830974,
      "node_id": "MDQ6VXNlcjE4MzA5NzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1830974?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/arielb1",
      "html_url": "https://github.com/arielb1",
      "followers_url": "https://api.github.com/users/arielb1/followers",
      "following_url": "https://api.github.com/users/arielb1/following{/other_user}",
      "gists_url": "https://api.github.com/users/arielb1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/arielb1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/arielb1/subscriptions",
      "organizations_url": "https://api.github.com/users/arielb1/orgs",
      "repos_url": "https://api.github.com/users/arielb1/repos",
      "events_url": "https://api.github.com/users/arielb1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/arielb1/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-02-07T20:26:05Z",
    "updated_at": "2017-02-07T20:26:05Z",
    "body": "Fix by MIR borrowck. Forgot to tag as I-unsound myself.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/278129169/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/353104972",
    "html_url": "https://github.com/rust-lang/rust/issues/27282#issuecomment-353104972",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27282",
    "id": 353104972,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MzEwNDk3Mg==",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-12-20T16:05:35Z",
    "updated_at": "2017-12-20T16:05:35Z",
    "body": "Oddly this seems to be on the road to be fixed (as in flagged as error) by `-Z borrowck=mir`, but then when you add `-Z nll` to the mix, the error is again missed.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/353104972/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/353116622",
    "html_url": "https://github.com/rust-lang/rust/issues/27282#issuecomment-353116622",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27282",
    "id": 353116622,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MzExNjYyMg==",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-12-20T16:46:01Z",
    "updated_at": "2017-12-20T16:46:01Z",
    "body": "The NLL analysis not wrong exactly, but there is a kind of implicit borrow that's not manifest in the MIR. In particular, the NLL analysis determines that the `ref mut foo` is only used in one particular basic block, and hence there are no overlapping uses of the value being matched. \r\n\r\nThat is, the MIR is sort of doing piecemeal tests that read the value of the option, but assuming that the option will not change in the meantime. We can guarantee that it won't by taking a borrow, but we don't do that. So effectively we get this:\r\n\r\n```rust\r\nlet mut v = Some(4);\r\n\r\nif v.is_none() { ... }\r\n\r\nlet mut p = &mut v;\r\n(|| { p.take(); () })(); // clears `v`\r\n\r\nlet s = v.unwrap(); // panics here, but UB in MIR\r\n```\r\n\r\nexcept that the final `unwrap()` would be UB.\r\n\r\nAt least that's how I read it now.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/353116622/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/353482059",
    "html_url": "https://github.com/rust-lang/rust/issues/27282#issuecomment-353482059",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27282",
    "id": 353482059,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MzQ4MjA1OQ==",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-12-21T23:19:03Z",
    "updated_at": "2017-12-21T23:19:03Z",
    "body": "for now I'm labelled this with the NLL labels. We may not be able to include a fix for this in the initial release, but it would be nice to try...",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/353482059/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/355380034",
    "html_url": "https://github.com/rust-lang/rust/issues/27282#issuecomment-355380034",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27282",
    "id": 355380034,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NTM4MDAzNA==",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-01-04T19:46:10Z",
    "updated_at": "2018-01-04T19:46:10Z",
    "body": "Seems like we have to fix this. I'm not sure just what the best way is -- but I think we have to represent the \"implicit borrow\" in the MIR. ",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/355380034/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/356604714",
    "html_url": "https://github.com/rust-lang/rust/issues/27282#issuecomment-356604714",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27282",
    "id": 356604714,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NjYwNDcxNA==",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-01-10T13:39:28Z",
    "updated_at": "2018-01-10T13:39:28Z",
    "body": "Assigning to self and up'ing priority to P-high to reflect severity for deploying NLL.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/356604714/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/358679284",
    "html_url": "https://github.com/rust-lang/rust/issues/27282#issuecomment-358679284",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27282",
    "id": 358679284,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1ODY3OTI4NA==",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-01-18T15:22:00Z",
    "updated_at": "2018-01-18T15:22:00Z",
    "body": "I am currently exploring extending MIR with a way to express \"borrow all the discriminants reachable from `place`\"  so that we can freeze the *variant alone* over the course of all patterns+guards for a given `match`. Hopefully that can address this bug.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/358679284/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/358805519",
    "html_url": "https://github.com/rust-lang/rust/issues/27282#issuecomment-358805519",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27282",
    "id": 358805519,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1ODgwNTUxOQ==",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-01-18T22:39:36Z",
    "updated_at": "2018-01-18T22:39:36Z",
    "body": "@pnkfelix I've been having second thoughts on that approach. For example, consider this:\r\n\r\n```rust\r\nlet mut b = true;\r\nmatch b {\r\n    true => ...\r\n    false => ...\r\n}\r\n```\r\n\r\nno \"discriminant\" is touched, but we want to know that no writes occur.\r\n\r\nI think we should think again about idea of shared borrow of the **entire value being matched** and then having guards access their bindings through a `&T` (where `T` is the user-visible type of the binding). To handle `ref mut` bindings, we can consider creating (for the guard) a `ref` binding and using a cast to coerce the `&'a &'a T` to a `&'a &'a mut T` (which I believe are identical in power anyhow).\r\n\r\nThat last part is a hack, no question, but overall the approach is pretty elegant, and seems like it would cover all cases.\r\n\r\nThoughts?",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/358805519/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/358926851",
    "html_url": "https://github.com/rust-lang/rust/issues/27282#issuecomment-358926851",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27282",
    "id": 358926851,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1ODkyNjg1MQ==",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-01-19T10:28:13Z",
    "updated_at": "2018-01-19T10:28:13Z",
    "body": "Seems like my suggestion (from our private conversation) of an explicit `EndBorrow` would also handle the case you mention \r\n\r\nBut I\u2019m willing to try your suggestion. Either direction has some hackery to it ",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/358926851/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/360500606",
    "html_url": "https://github.com/rust-lang/rust/issues/27282#issuecomment-360500606",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27282",
    "id": 360500606,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2MDUwMDYwNg==",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-01-25T15:28:56Z",
    "updated_at": "2018-01-25T15:28:56Z",
    "body": "downgrading back to P-medium. (We still plan to fix this for NLL deployment, but making it P-high s interfering with other procedures that the compiler team uses.)",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/360500606/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/362076672",
    "html_url": "https://github.com/rust-lang/rust/issues/27282#issuecomment-362076672",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27282",
    "id": 362076672,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2MjA3NjY3Mg==",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-01-31T21:29:07Z",
    "updated_at": "2018-01-31T21:29:07Z",
    "body": "I've been working on some prototype solutions to this problem. For the record (and maybe of use if we turn this into a mentoring task), here are the paths I've explored (and then migrated away from, in most cases):\r\n\r\n 1. Add a new `Place` variant for the discriminant, so that we can model borrowing it. This doesn't work, because in general a place really wants to be a distinct field/spot in memory, but in general the representation for a discriminant can be mixed in with some other field (e.g. a `NonZero` when the discriminant is a boolean). So just adding a `Place` variant in the MIR is not a good idea here.\r\n     * (Its possible that we *could* do some other refactoring later that would allow us to talk about higher level abstraction of places where a given place would not necessarily correspond to a concrete memory location. But that's too aggressive a tack to take for this bug on its own right now, IMO).\r\n 2. Add new MIR statements for borrowing the discriminant of a place. One instructions starts the borrow, and another ends it. This evolved from first \"borrow just the one discriminant of the place, assuming its an enum\", then into \"borrow all the discriminants recursively reachable from the place.\" But as niko pointed out, just borrowing the discriminants alone does not suffice.\r\n 3. Add new MIR statement for a `ReadForMatch(place)`, which has the meaning \"I might read from anything (safely) reachable from `place`\". Then start the code generation for each`match`  off with a `temp = &match_input`, and then each arm's pattern starts with a `ReadForMatch(temp)`. This is what I'm still working on now.\r\n 4. I *believe* that what @nikomatsakis was suggesting above was a variation on the previous idea, except instead of adding a new MIR instruction that models accessing the whole input, instead change the code generation for patterns so that they do their access through the `temp` that is created at the `match` start. I actually started playing with this approach as well, since they both involve creating the `temp`. The main issue, as @nikomatsakis pointed out, is dealing with `ref mut`'s that are generated by the `match` itself; those will interfere with the other accesses through `temp`.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/362076672/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/381693785",
    "html_url": "https://github.com/rust-lang/rust/issues/27282#issuecomment-381693785",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27282",
    "id": 381693785,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MTY5Mzc4NQ==",
    "user": {
      "login": "spastorino",
      "id": 52642,
      "node_id": "MDQ6VXNlcjUyNjQy",
      "avatar_url": "https://avatars.githubusercontent.com/u/52642?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/spastorino",
      "html_url": "https://github.com/spastorino",
      "followers_url": "https://api.github.com/users/spastorino/followers",
      "following_url": "https://api.github.com/users/spastorino/following{/other_user}",
      "gists_url": "https://api.github.com/users/spastorino/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/spastorino/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/spastorino/subscriptions",
      "organizations_url": "https://api.github.com/users/spastorino/orgs",
      "repos_url": "https://api.github.com/users/spastorino/repos",
      "events_url": "https://api.github.com/users/spastorino/events{/privacy}",
      "received_events_url": "https://api.github.com/users/spastorino/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-04-16T17:56:40Z",
    "updated_at": "2018-04-16T18:27:33Z",
    "body": "Just in case because I've talked with @nikomatsakis about this but never claimed the issue. So yeah, I'd like to tackle this one :).",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/381693785/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/384393383",
    "html_url": "https://github.com/rust-lang/rust/issues/27282#issuecomment-384393383",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27282",
    "id": 384393383,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4NDM5MzM4Mw==",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-04-25T18:44:51Z",
    "updated_at": "2018-04-25T18:48:23Z",
    "body": "OK, so what I *personally* had in mind  for fixing this was something perhaps simpler than what @pnkfelix described. Basically, when we desugar a match, we would begin by creating a \"dummy\" reference that refers to the place being borrowed. So a match like this\r\n\r\n```rust\r\nmatch foo { \r\n   Some(ref mut x) => ... \r\n}\r\n```\r\n\r\nwould desugar to create a dummy `_D`\r\n\r\n```rust\r\n_D = &foo\r\n```\r\n\r\njust before entering each arm, we would then have a fake use of the dummy. I guess we'd have to add a MIR for this, or maybe there is something we could use:\r\n\r\n```rust\r\nBBMatch {\r\n  _D = &foo;\r\n  _1 = GET_DISCRIMINANT(foo);\r\n  SWITCH(_1, 0: BBarm)\r\n}\r\n...\r\nBBArm {\r\n  FakeUse(_D)\r\n  // create bindings for arm here\r\n  _x = &mut foo.downcast<Some>.0;\r\n}\r\n```\r\n\r\nBecause `_D` is a shared borrow, this should work fine with concurrent access through the original path `foo` (e.g., `GETDISCRIMINANT(foo)` and so forth). (Ideally, the optimizer can just strip `_D` away as dead-code, in fact, although maybe it wants to keep it for the aliasing guarantees it gives.)\r\n\r\nOne complication has to do with `ref mut` bindings and guards: these would be created (under https://github.com/rust-lang/rust/pull/49870) as something like:\r\n\r\n```rust\r\nTMP0 = &mut foo.downcast<Some>.0\r\nTMP1 = &TMP0\r\n```\r\n\r\ngiven that `TMP0` is dead after this, there is no *actual* problem -- the `&mut` is always accessed via the shared borrow of `TMP1`. But the borrow checker won't see it that way, it will return an error because we have a shared borrow (to make `_D`) and then a mut borrow (to make TMP0) that overlap. We'll have to add some hack to cause it to look the other way.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/384393383/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/384447029",
    "html_url": "https://github.com/rust-lang/rust/issues/27282#issuecomment-384447029",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27282",
    "id": 384447029,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4NDQ0NzAyOQ==",
    "user": {
      "login": "arielb1",
      "id": 1830974,
      "node_id": "MDQ6VXNlcjE4MzA5NzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1830974?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/arielb1",
      "html_url": "https://github.com/arielb1",
      "followers_url": "https://api.github.com/users/arielb1/followers",
      "following_url": "https://api.github.com/users/arielb1/following{/other_user}",
      "gists_url": "https://api.github.com/users/arielb1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/arielb1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/arielb1/subscriptions",
      "organizations_url": "https://api.github.com/users/arielb1/orgs",
      "repos_url": "https://api.github.com/users/arielb1/repos",
      "events_url": "https://api.github.com/users/arielb1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/arielb1/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-04-25T21:56:19Z",
    "updated_at": "2018-04-25T21:56:19Z",
    "body": "> But the borrow checker won't see it that way, it will return an error because we have a shared borrow (to make `_D`) and then a mut borrow (to make TMP0) that overlap. We'll have to add some hack to cause it to look the other way.\r\n\r\nIsn't said *hack* basically a version of two-phase borrows? The immutable borrow of `tmp0` is not an activation. We just need to make sure it fires in the correct place, and we might want to force an activation of all `let mut` bindings when the arm begins (that is not required for soundness, but migth be desirable to prevent accidental stabilization).",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/384447029/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/384447466",
    "html_url": "https://github.com/rust-lang/rust/issues/27282#issuecomment-384447466",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27282",
    "id": 384447466,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4NDQ0NzQ2Ng==",
    "user": {
      "login": "arielb1",
      "id": 1830974,
      "node_id": "MDQ6VXNlcjE4MzA5NzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1830974?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/arielb1",
      "html_url": "https://github.com/arielb1",
      "followers_url": "https://api.github.com/users/arielb1/followers",
      "following_url": "https://api.github.com/users/arielb1/following{/other_user}",
      "gists_url": "https://api.github.com/users/arielb1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/arielb1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/arielb1/subscriptions",
      "organizations_url": "https://api.github.com/users/arielb1/orgs",
      "repos_url": "https://api.github.com/users/arielb1/repos",
      "events_url": "https://api.github.com/users/arielb1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/arielb1/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-04-25T21:58:14Z",
    "updated_at": "2018-04-25T21:58:14Z",
    "body": "There are a few more corner cases there - I was meaning to write a document about the questions here, but never *quite* found the time for it. Hopefully soon(tm).",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/384447466/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/385748284",
    "html_url": "https://github.com/rust-lang/rust/issues/27282#issuecomment-385748284",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27282",
    "id": 385748284,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4NTc0ODI4NA==",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-05-01T18:25:36Z",
    "updated_at": "2018-05-01T18:25:36Z",
    "body": "@arielb1 \r\n\r\n> Isn't said hack basically a version of two-phase borrows? The immutable borrow of tmp0 is not an activation.\r\n\r\nYes, it is, I just didn't know that I wanted to model it that way. But you are correct that in a way it makes a lot of sense to do so. \r\n\r\n> There are a few more corner cases there\r\n\r\nCan you give a few hints as to what you are thinking of? Are you saying that holding a shared borrow of the value being matched is not sufficient to guarantee the exhaustiveness checks suffice?",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/385748284/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/385749538",
    "html_url": "https://github.com/rust-lang/rust/issues/27282#issuecomment-385749538",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27282",
    "id": 385749538,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4NTc0OTUzOA==",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-05-01T18:30:14Z",
    "updated_at": "2018-05-01T18:30:14Z",
    "body": "Thinking more about the two-phase borrow: basically, we would say \"if the temp `T` that are stores the borrow is used in a `&T`, then it is never activated\". We already restrict two-phase borrows to cases where the temp is used exactly once.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/385749538/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/387522298",
    "html_url": "https://github.com/rust-lang/rust/issues/27282#issuecomment-387522298",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27282",
    "id": 387522298,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4NzUyMjI5OA==",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-05-08T19:53:26Z",
    "updated_at": "2018-05-08T19:53:26Z",
    "body": "Just a quick note to make sure this information is preserved: here is an important variant of the example given by @nikomatsakis [back in January](https://github.com/rust-lang/rust/issues/27282#issuecomment-358805519):\r\n\r\n```rust\r\nfn main() {\r\n    let mut b = true;\r\n    match b {\r\n        false => {}\r\n\r\n        _ if { (|| { let bar = &mut b; *bar = false; } )(); false } => {}\r\n\r\n        true => {}\r\n        _ => panic!(\"oops\"),\r\n    }\r\n}\r\n```\r\n\r\nNamely, it is what I have used, in tandem with some code to enable the \"feature\"/bugfix rust-lang/rfcs#1006 , to illustrate that we do indeed need to borrow the input on each arm.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/387522298/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/393109290",
    "html_url": "https://github.com/rust-lang/rust/issues/27282#issuecomment-393109290",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27282",
    "id": 393109290,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MzEwOTI5MA==",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-05-30T10:19:04Z",
    "updated_at": "2018-05-30T10:19:04Z",
    "body": "Hmm actually for consistency with other bugs I suppose I should reopen this and tag it as NLL-fixed-by-NLL",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/393109290/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/407424241",
    "html_url": "https://github.com/rust-lang/rust/issues/27282#issuecomment-407424241",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27282",
    "id": 407424241,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNzQyNDI0MQ==",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-07-24T14:21:26Z",
    "updated_at": "2018-07-24T14:21:58Z",
    "body": "(but I am going to remove it from the \"NLL invalid code does not compile\" milestone because it *is* fixed by NLL... Update: ah niko is too quick for me.)",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/407424241/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/487540318",
    "html_url": "https://github.com/rust-lang/rust/issues/27282#issuecomment-487540318",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27282",
    "id": 487540318,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4NzU0MDMxOA==",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2019-04-29T11:10:54Z",
    "updated_at": "2019-04-29T11:10:54Z",
    "body": "NLL (migrate mode) is enabled in all editions as of PR #59114.\r\n\r\nThe only policy question is that, under migrate mode, we only emit a warning on this (unsound) test case. Therefore, I am not 100% sure whether we should close this until that warning has been turned into a hard-error under our (still in development) future-compatibility lint policy.\r\n\r\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/487540318/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
