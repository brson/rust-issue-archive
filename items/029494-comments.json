[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/152780320",
    "html_url": "https://github.com/rust-lang/rust/issues/29494#issuecomment-152780320",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29494",
    "id": 152780320,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1Mjc4MDMyMA==",
    "user": {
      "login": "hanna-kruppe",
      "id": 2311707,
      "node_id": "MDQ6VXNlcjIzMTE3MDc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2311707?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hanna-kruppe",
      "html_url": "https://github.com/hanna-kruppe",
      "followers_url": "https://api.github.com/users/hanna-kruppe/followers",
      "following_url": "https://api.github.com/users/hanna-kruppe/following{/other_user}",
      "gists_url": "https://api.github.com/users/hanna-kruppe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hanna-kruppe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hanna-kruppe/subscriptions",
      "organizations_url": "https://api.github.com/users/hanna-kruppe/orgs",
      "repos_url": "https://api.github.com/users/hanna-kruppe/repos",
      "events_url": "https://api.github.com/users/hanna-kruppe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hanna-kruppe/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-31T23:18:40Z",
    "updated_at": "2015-10-31T23:21:19Z",
    "body": "<s>Perhaps the implementation can be changed to not be that terrible? I know absolutely nothing about the win32 API, but I do know that Python's `subprocess` module uses a function called `CreateProcess` and AFAIK doesn't have this problem.</s>\n\nEdit: Nevermind, a look at the documentation reveals that this function takes a single string as command to be executed.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/152780320/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/152780687",
    "html_url": "https://github.com/rust-lang/rust/issues/29494#issuecomment-152780687",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29494",
    "id": 152780687,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1Mjc4MDY4Nw==",
    "user": {
      "login": "Diggsey",
      "id": 451321,
      "node_id": "MDQ6VXNlcjQ1MTMyMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/451321?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Diggsey",
      "html_url": "https://github.com/Diggsey",
      "followers_url": "https://api.github.com/users/Diggsey/followers",
      "following_url": "https://api.github.com/users/Diggsey/following{/other_user}",
      "gists_url": "https://api.github.com/users/Diggsey/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Diggsey/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Diggsey/subscriptions",
      "organizations_url": "https://api.github.com/users/Diggsey/orgs",
      "repos_url": "https://api.github.com/users/Diggsey/repos",
      "events_url": "https://api.github.com/users/Diggsey/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Diggsey/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-31T23:27:05Z",
    "updated_at": "2015-11-01T00:07:07Z",
    "body": "At the very least it should strive to perform the exact, minimal inverse of CommandLineToArgvW (a very nontrivial task unfortunately, see: http://blogs.msdn.com/b/twistylittlepassagesallalike/archive/2011/04/23/everyone-quotes-arguments-the-wrong-way.aspx which describes the problems well enough, but the final solution given is actually still wrong!)\n\nThis would be enough to fix the problems for me with msiexec and possibly cmd. However, there's no requirement that processes on windows use `CommandLineToArgvW` at all, and many in fact do not, so regardless a way of passing through arguments unmolested is required.\n\nFor reference, the string `ARG=\"some parameter with spaces\"` does not need escaping: CommandLineToArgvW will return it as a single argument, which at the very least shows that rusts \"inverse\" function is currently incorrect.\n\nedit: Actually, no it seems it does still need escaping, it may just be that msiexec does not use CommandLineToArgvW.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/152780687/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/293321494",
    "html_url": "https://github.com/rust-lang/rust/issues/29494#issuecomment-293321494",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29494",
    "id": 293321494,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5MzMyMTQ5NA==",
    "user": {
      "login": "retep998",
      "id": 666308,
      "node_id": "MDQ6VXNlcjY2NjMwOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/666308?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/retep998",
      "html_url": "https://github.com/retep998",
      "followers_url": "https://api.github.com/users/retep998/followers",
      "following_url": "https://api.github.com/users/retep998/following{/other_user}",
      "gists_url": "https://api.github.com/users/retep998/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/retep998/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/retep998/subscriptions",
      "organizations_url": "https://api.github.com/users/retep998/orgs",
      "repos_url": "https://api.github.com/users/retep998/repos",
      "events_url": "https://api.github.com/users/retep998/events{/privacy}",
      "received_events_url": "https://api.github.com/users/retep998/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-04-11T16:37:40Z",
    "updated_at": "2017-04-11T16:37:40Z",
    "body": "This could probably be solved by adding a `CommandExt` method that specifies the entire command line as a single string overriding how arguments would otherwise be specified. Any code that needs behavior other than the default can then use that method to have full control over the command line.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/293321494/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/311063016",
    "html_url": "https://github.com/rust-lang/rust/issues/29494#issuecomment-311063016",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29494",
    "id": 311063016,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxMTA2MzAxNg==",
    "user": {
      "login": "shepmaster",
      "id": 174509,
      "node_id": "MDQ6VXNlcjE3NDUwOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/174509?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shepmaster",
      "html_url": "https://github.com/shepmaster",
      "followers_url": "https://api.github.com/users/shepmaster/followers",
      "following_url": "https://api.github.com/users/shepmaster/following{/other_user}",
      "gists_url": "https://api.github.com/users/shepmaster/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shepmaster/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shepmaster/subscriptions",
      "organizations_url": "https://api.github.com/users/shepmaster/orgs",
      "repos_url": "https://api.github.com/users/shepmaster/repos",
      "events_url": "https://api.github.com/users/shepmaster/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shepmaster/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-06-26T13:43:30Z",
    "updated_at": "2017-06-26T13:43:39Z",
    "body": "This [popped up on Stack Overflow](https://stackoverflow.com/q/44757893/155423):\r\n\r\n```rust\r\nlet comm = r#\"\"C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe\" https://stackoverflow.com/\"#;\r\nlet mut cmd = Command::new(\"cmd\");\r\ncmd.arg(\"/c\");\r\ncmd.arg(comm);\r\n```\r\n\r\nAs I understand it, it is expected to execute\r\n\r\n```\r\n\"cmd\" \"/c\" \"\"C:\\\\Program Files\\\\Google\\\\Chrome\\\\Application\\\\chrome.exe\" https://stackoverflow.com/\"\r\n```\r\n\r\nBut instead executes\r\n\r\n```\r\n\"cmd\" \"/c\" \"\\\"C:\\\\Program Files\\\\Google\\\\Chrome\\\\Application\\\\chrome.exe\\\" https://stackoverflow.com/\"\r\n```\r\n\r\nNote that the inner `\"` have been escaped.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/311063016/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/312443226",
    "html_url": "https://github.com/rust-lang/rust/issues/29494#issuecomment-312443226",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29494",
    "id": 312443226,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxMjQ0MzIyNg==",
    "user": {
      "login": "mzji",
      "id": 23279426,
      "node_id": "MDQ6VXNlcjIzMjc5NDI2",
      "avatar_url": "https://avatars.githubusercontent.com/u/23279426?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mzji",
      "html_url": "https://github.com/mzji",
      "followers_url": "https://api.github.com/users/mzji/followers",
      "following_url": "https://api.github.com/users/mzji/following{/other_user}",
      "gists_url": "https://api.github.com/users/mzji/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mzji/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mzji/subscriptions",
      "organizations_url": "https://api.github.com/users/mzji/orgs",
      "repos_url": "https://api.github.com/users/mzji/repos",
      "events_url": "https://api.github.com/users/mzji/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mzji/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-07-01T16:56:57Z",
    "updated_at": "2017-07-01T16:56:57Z",
    "body": "Met this issue too. Do we have any workaround now?",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/312443226/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/312455705",
    "html_url": "https://github.com/rust-lang/rust/issues/29494#issuecomment-312455705",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29494",
    "id": 312455705,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxMjQ1NTcwNQ==",
    "user": {
      "login": "retep998",
      "id": 666308,
      "node_id": "MDQ6VXNlcjY2NjMwOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/666308?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/retep998",
      "html_url": "https://github.com/retep998",
      "followers_url": "https://api.github.com/users/retep998/followers",
      "following_url": "https://api.github.com/users/retep998/following{/other_user}",
      "gists_url": "https://api.github.com/users/retep998/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/retep998/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/retep998/subscriptions",
      "organizations_url": "https://api.github.com/users/retep998/orgs",
      "repos_url": "https://api.github.com/users/retep998/repos",
      "events_url": "https://api.github.com/users/retep998/events{/privacy}",
      "received_events_url": "https://api.github.com/users/retep998/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-07-01T21:09:07Z",
    "updated_at": "2017-07-01T21:09:07Z",
    "body": "The workaround is calling `CreateProcessW` yourself. The solution is providing a Windows specific `CommandExt` that allows specifying a custom command string.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/312455705/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/312468649",
    "html_url": "https://github.com/rust-lang/rust/issues/29494#issuecomment-312468649",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29494",
    "id": 312468649,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxMjQ2ODY0OQ==",
    "user": {
      "login": "mzji",
      "id": 23279426,
      "node_id": "MDQ6VXNlcjIzMjc5NDI2",
      "avatar_url": "https://avatars.githubusercontent.com/u/23279426?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mzji",
      "html_url": "https://github.com/mzji",
      "followers_url": "https://api.github.com/users/mzji/followers",
      "following_url": "https://api.github.com/users/mzji/following{/other_user}",
      "gists_url": "https://api.github.com/users/mzji/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mzji/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mzji/subscriptions",
      "organizations_url": "https://api.github.com/users/mzji/orgs",
      "repos_url": "https://api.github.com/users/mzji/repos",
      "events_url": "https://api.github.com/users/mzji/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mzji/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-07-02T03:29:10Z",
    "updated_at": "2017-07-02T03:29:10Z",
    "body": "@retep998 I changed the argument in the command line to avoid the quotes.",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/312468649/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/439726937",
    "html_url": "https://github.com/rust-lang/rust/issues/29494#issuecomment-439726937",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29494",
    "id": 439726937,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzOTcyNjkzNw==",
    "user": {
      "login": "rivy",
      "id": 80132,
      "node_id": "MDQ6VXNlcjgwMTMy",
      "avatar_url": "https://avatars.githubusercontent.com/u/80132?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rivy",
      "html_url": "https://github.com/rivy",
      "followers_url": "https://api.github.com/users/rivy/followers",
      "following_url": "https://api.github.com/users/rivy/following{/other_user}",
      "gists_url": "https://api.github.com/users/rivy/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rivy/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rivy/subscriptions",
      "organizations_url": "https://api.github.com/users/rivy/orgs",
      "repos_url": "https://api.github.com/users/rivy/repos",
      "events_url": "https://api.github.com/users/rivy/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rivy/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-11-18T21:22:20Z",
    "updated_at": "2021-03-09T21:39:55Z",
    "body": "I'm now running into this issue while trying to fix *`env`* for windows in the [coretools repo](https://github.com/uutils/coreutils).\r\n\r\nThe summary at this point seems to be, at least for Windows, with its some-what crazy command-line quoting, that there are simply some command lines which are valid and used which cannot be generated by the current `std::process::Command` (eg, `powershell -command \"Get-WmiObject -class Win32_Product\"`; see <https://users.rust-lang.org/t/std-process-is-escaping-a-raw-string-literal-when-i-dont-want-it-to/19441> and <https://stackoverflow.com/questions/44757893/cmd-c-doesnt-work-in-rust-when-command-includes-spaces>).\r\n\r\nIMO, there needs to be some way of using `std::process::Command` to generate completely arbitrary command lines. Specifically, argument escaping needs to be more controllable by the user. Pushing users to drop back to calling `CreateProcessW`, although possibly workable, doesn't seem to be the right path to encourage portability in `rust`.\r\n\r\nAn addition to the API of `std::process::Command` (eg, `arg_raw()`) such as suggested by @kornelski on the rust-internals discussion board (see <https://internals.rust-lang.org/t/std-process-on-windows-is-escaping-raw-literals-which-causes-problems-with-chaining-commands/8163/7) would likely help solve the issue.\r\n\r\nAny thoughts?\r\n\r\nAnd what should be done to push this issue forward?\r\n\r\ncc: @rivy ",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/439726937/reactions",
      "total_count": 9,
      "+1": 9,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/508971100",
    "html_url": "https://github.com/rust-lang/rust/issues/29494#issuecomment-508971100",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29494",
    "id": 508971100,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwODk3MTEwMA==",
    "user": {
      "login": "galich",
      "id": 3718155,
      "node_id": "MDQ6VXNlcjM3MTgxNTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3718155?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/galich",
      "html_url": "https://github.com/galich",
      "followers_url": "https://api.github.com/users/galich/followers",
      "following_url": "https://api.github.com/users/galich/following{/other_user}",
      "gists_url": "https://api.github.com/users/galich/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/galich/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/galich/subscriptions",
      "organizations_url": "https://api.github.com/users/galich/orgs",
      "repos_url": "https://api.github.com/users/galich/repos",
      "events_url": "https://api.github.com/users/galich/events{/privacy}",
      "received_events_url": "https://api.github.com/users/galich/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2019-07-07T04:45:59Z",
    "updated_at": "2019-07-07T04:45:59Z",
    "body": "Same problem here, we can't use `std::process::Command` to run something like:\r\n\r\n```\r\napp.exe --folder=\"C:\\Program Files\\\"\r\n```",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/508971100/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/549273506",
    "html_url": "https://github.com/rust-lang/rust/issues/29494#issuecomment-549273506",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29494",
    "id": 549273506,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU0OTI3MzUwNg==",
    "user": {
      "login": "hrydgard",
      "id": 130929,
      "node_id": "MDQ6VXNlcjEzMDkyOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/130929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hrydgard",
      "html_url": "https://github.com/hrydgard",
      "followers_url": "https://api.github.com/users/hrydgard/followers",
      "following_url": "https://api.github.com/users/hrydgard/following{/other_user}",
      "gists_url": "https://api.github.com/users/hrydgard/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hrydgard/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hrydgard/subscriptions",
      "organizations_url": "https://api.github.com/users/hrydgard/orgs",
      "repos_url": "https://api.github.com/users/hrydgard/repos",
      "events_url": "https://api.github.com/users/hrydgard/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hrydgard/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2019-11-04T09:24:02Z",
    "updated_at": "2019-11-04T09:24:02Z",
    "body": "Also ran into this, trying to open Explorer with a selected file, like this:\r\n\r\n    let result = std::process::Command::new(\"explorer.exe\").arg(format!(\"/select,\\\"{:?}\\\"\", path)).spawn();\r\n\r\nThis does not work, due to the quotes getting escaped when they shouldn't be. Explorer.exe expects to be called like this:\r\n\r\n    explorer.exe /select,\"C:\\my\\qouted\\path\"\r\n\r\nwhich becomes\r\n\r\n    explorer.exe /select,\"\"C:\\my\\qouted\\path\"\"\r\n\r\nwhich it doesn't accept.\r\n\r\nWould a pull request adding arg_raw() be accepted at this point? This really needs a resolution, it's not acceptable to have to drop down to CreateProcess.",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/549273506/reactions",
      "total_count": 3,
      "+1": 3,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/600604211",
    "html_url": "https://github.com/rust-lang/rust/issues/29494#issuecomment-600604211",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29494",
    "id": 600604211,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwMDYwNDIxMQ==",
    "user": {
      "login": "Artoria2e5",
      "id": 6459309,
      "node_id": "MDQ6VXNlcjY0NTkzMDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6459309?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Artoria2e5",
      "html_url": "https://github.com/Artoria2e5",
      "followers_url": "https://api.github.com/users/Artoria2e5/followers",
      "following_url": "https://api.github.com/users/Artoria2e5/following{/other_user}",
      "gists_url": "https://api.github.com/users/Artoria2e5/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Artoria2e5/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Artoria2e5/subscriptions",
      "organizations_url": "https://api.github.com/users/Artoria2e5/orgs",
      "repos_url": "https://api.github.com/users/Artoria2e5/repos",
      "events_url": "https://api.github.com/users/Artoria2e5/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Artoria2e5/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-03-18T12:50:08Z",
    "updated_at": "2020-03-18T14:40:26Z",
    "body": "> At the very least it should strive to perform the exact, minimal inverse of CommandLineToArgvW (a very nontrivial task unfortunately, see: http://blogs.msdn.com/b/twistylittlepassagesallalike/archive/2011/04/23/everyone-quotes-arguments-the-wrong-way.aspx which describes the problems well enough,\r\n\r\nThe new link is at https://docs.microsoft.com/en-gb/archive/blogs/twistylittlepassagesallalike/everyone-quotes-command-line-arguments-the-wrong-way. \r\n\r\n>  but the final solution given is actually still wrong!)\r\n\r\nHow exactly is it wrong? This appears to be a pretty good inverse of [the function as implemented in .NET CoreFX](https://github.com/dotnet/runtime/blob/90a2d87/src/libraries/System.Diagnostics.Process/src/System/Diagnostics/Process.Unix.cs#L810). There are two caveats though:\r\n\r\n1. For those who type the resultant command-line in cmd, this will break on metacharacters like `&` and `|` because they are not tested for quoting. Even if they quote it, a quote would easily break it because cmd does not see `\\\"` as a way to un-mark an end-quotation part. The workaround is to use the undocumented, [but ubiquitously accepted `\"\"` escape](https://github.com/dotnet/runtime/blob/90a2d87/src/libraries/System.Diagnostics.Process/src/System/Diagnostics/Process.Unix.cs#L858-L861)\r\n2. Wildcards. The behavior regarding quoting and wildcards is poorly documented. Generally it is assumed that quoting turns off wildcard expansion even if `_setargv` is linked in, but [exceptions exist in certain versions of the MS runtime](https://bugs.openjdk.java.net/browse/JDK-7167744). Just do your best, pretend this is wine `__getmainargs`, and quote.\r\n\r\n(Yeah, the \"better method\" in this article is pretty verbose if you consider the workaround from 1. I generally just do a JS one-liner of ``return `\"${arg.replace(/(\\\\*)($|\")/g, '$1$1$2').replace(/\"/g, '\"\"')}\"`;`` for it, so that it works in both.)\r\n\r\nAnyway, this blog code is what process::sys(windows)::Command does. It seems fine.\r\n* * *\r\n\r\nThere is another reason for a raw command-line thing that many people might be more familiar with: Cygwin. Cygwin and MSYS2 ship an incompatible command-line parser in their dcrt0.cc, and I don't think I need to explain how common these things are these days. If you want to interface with, say, Git for Windows correctly, you [gotta escape the strings](https://github.com/Artoria2e5/node/blob/fix!/child-process-args/doc/api/child_process.md#windows-command-line) differently.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/600604211/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/600799269",
    "html_url": "https://github.com/rust-lang/rust/issues/29494#issuecomment-600799269",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29494",
    "id": 600799269,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwMDc5OTI2OQ==",
    "user": {
      "login": "kornelski",
      "id": 72159,
      "node_id": "MDQ6VXNlcjcyMTU5",
      "avatar_url": "https://avatars.githubusercontent.com/u/72159?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kornelski",
      "html_url": "https://github.com/kornelski",
      "followers_url": "https://api.github.com/users/kornelski/followers",
      "following_url": "https://api.github.com/users/kornelski/following{/other_user}",
      "gists_url": "https://api.github.com/users/kornelski/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kornelski/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kornelski/subscriptions",
      "organizations_url": "https://api.github.com/users/kornelski/orgs",
      "repos_url": "https://api.github.com/users/kornelski/repos",
      "events_url": "https://api.github.com/users/kornelski/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kornelski/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-03-18T18:44:32Z",
    "updated_at": "2020-03-18T18:45:30Z",
    "body": "I'd like something like `.arg_raw()` that just injects an argument without any escaping.\r\n\r\n* Should it have a more scary name? `.arg_arbitrary_code_execution_vulnerability_if_you_dont_properly_escape_this_yourself()`?\r\n\r\n* Is it acceptable for this method to surround the unescaped argument with spaces? Is there any command that cares if there is a space between exe and the args? e.g. `foo.exe/arg` is different from `foo.exe /arg`?\r\n\r\n* Should there be an escaping helper function to help build raw arg that includes both quoted and unquoted parts? Or maybe raw args should not add spaces to be able to prefix other quoted args?`.raw_no_spaces(\"foo,\").arg(\"bar\") == foo,\"bar\"`  \r\n\r\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/600799269/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 1
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/600808119",
    "html_url": "https://github.com/rust-lang/rust/issues/29494#issuecomment-600808119",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29494",
    "id": 600808119,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwMDgwODExOQ==",
    "user": {
      "login": "Artoria2e5",
      "id": 6459309,
      "node_id": "MDQ6VXNlcjY0NTkzMDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6459309?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Artoria2e5",
      "html_url": "https://github.com/Artoria2e5",
      "followers_url": "https://api.github.com/users/Artoria2e5/followers",
      "following_url": "https://api.github.com/users/Artoria2e5/following{/other_user}",
      "gists_url": "https://api.github.com/users/Artoria2e5/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Artoria2e5/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Artoria2e5/subscriptions",
      "organizations_url": "https://api.github.com/users/Artoria2e5/orgs",
      "repos_url": "https://api.github.com/users/Artoria2e5/repos",
      "events_url": "https://api.github.com/users/Artoria2e5/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Artoria2e5/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-03-18T19:04:40Z",
    "updated_at": "2020-03-19T09:26:21Z",
    "body": "> `arg_arbitrary_code_execution_vulnerability_if_you_dont_properly_escape_this_yourself`\r\n\r\nThis should not be named as such for our CreateProcess-based invocation, since it does not really make it less safe than the default escape. We are not escaping for cmd, which actually has metacharacters for pipes and semicolons.\r\n\r\n> Is there any command that cares if there is a space between exe and the args?\r\n\r\nNo. There is a DOS-inherited cmd-ism here, but it is exclusively for internal commands. See https://stackoverflow.com/questions/4094699/how-does-the-windows-command-interpreter-cmd-exe-parse-scripts.\r\n\r\nThe CreateProcess documentation only mentions using spaces to tokenize when the file argument is null.\r\n\r\n> helper\r\n\r\nMaybe, with some big warnings about non-generality preferably. The argv[0] will almost always need quoting.\r\n\r\nDoing this does raise the question of how many kinds of helpers are supposed to be in stdlib though.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/600808119/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/602264916",
    "html_url": "https://github.com/rust-lang/rust/issues/29494#issuecomment-602264916",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29494",
    "id": 602264916,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwMjI2NDkxNg==",
    "user": {
      "login": "retep998",
      "id": 666308,
      "node_id": "MDQ6VXNlcjY2NjMwOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/666308?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/retep998",
      "html_url": "https://github.com/retep998",
      "followers_url": "https://api.github.com/users/retep998/followers",
      "following_url": "https://api.github.com/users/retep998/following{/other_user}",
      "gists_url": "https://api.github.com/users/retep998/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/retep998/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/retep998/subscriptions",
      "organizations_url": "https://api.github.com/users/retep998/orgs",
      "repos_url": "https://api.github.com/users/retep998/repos",
      "events_url": "https://api.github.com/users/retep998/events{/privacy}",
      "received_events_url": "https://api.github.com/users/retep998/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-03-22T20:09:01Z",
    "updated_at": "2020-03-22T20:09:01Z",
    "body": "Specifying an arbitrary command line should be completely safe. The only way you could cause unsound behavior is if the spawned process has a bug in its command line parser, which isn't Rust's problem.\r\n\r\nJust add a windows specific method to let users specify the full command line themselves, and that's all `libstd` *needs* to do to enable spawning those quirky processes with `Command`.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/602264916/reactions",
      "total_count": 5,
      "+1": 5,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/774357839",
    "html_url": "https://github.com/rust-lang/rust/issues/29494#issuecomment-774357839",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29494",
    "id": 774357839,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3NDM1NzgzOQ==",
    "user": {
      "login": "RandomGHUser",
      "id": 40616218,
      "node_id": "MDQ6VXNlcjQwNjE2MjE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/40616218?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/RandomGHUser",
      "html_url": "https://github.com/RandomGHUser",
      "followers_url": "https://api.github.com/users/RandomGHUser/followers",
      "following_url": "https://api.github.com/users/RandomGHUser/following{/other_user}",
      "gists_url": "https://api.github.com/users/RandomGHUser/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/RandomGHUser/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/RandomGHUser/subscriptions",
      "organizations_url": "https://api.github.com/users/RandomGHUser/orgs",
      "repos_url": "https://api.github.com/users/RandomGHUser/repos",
      "events_url": "https://api.github.com/users/RandomGHUser/events{/privacy}",
      "received_events_url": "https://api.github.com/users/RandomGHUser/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2021-02-06T00:23:38Z",
    "updated_at": "2021-02-06T00:23:38Z",
    "body": "I've also been experiencing this issue, I cannot execute cmd.exe with quoted or escaped parameters.  As a workaround, I've resorted to having rust write and invoke temporary batch files rather than cmd.exe directly.",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/774357839/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/778282718",
    "html_url": "https://github.com/rust-lang/rust/issues/29494#issuecomment-778282718",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29494",
    "id": 778282718,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3ODI4MjcxOA==",
    "user": {
      "login": "xlmnxp",
      "id": 20779154,
      "node_id": "MDQ6VXNlcjIwNzc5MTU0",
      "avatar_url": "https://avatars.githubusercontent.com/u/20779154?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/xlmnxp",
      "html_url": "https://github.com/xlmnxp",
      "followers_url": "https://api.github.com/users/xlmnxp/followers",
      "following_url": "https://api.github.com/users/xlmnxp/following{/other_user}",
      "gists_url": "https://api.github.com/users/xlmnxp/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/xlmnxp/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/xlmnxp/subscriptions",
      "organizations_url": "https://api.github.com/users/xlmnxp/orgs",
      "repos_url": "https://api.github.com/users/xlmnxp/repos",
      "events_url": "https://api.github.com/users/xlmnxp/events{/privacy}",
      "received_events_url": "https://api.github.com/users/xlmnxp/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2021-02-12T16:03:12Z",
    "updated_at": "2021-02-12T16:03:12Z",
    "body": "temporary solution is `spawn` the process  ",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/778282718/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/792464740",
    "html_url": "https://github.com/rust-lang/rust/issues/29494#issuecomment-792464740",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29494",
    "id": 792464740,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc5MjQ2NDc0MA==",
    "user": {
      "login": "rivy",
      "id": 80132,
      "node_id": "MDQ6VXNlcjgwMTMy",
      "avatar_url": "https://avatars.githubusercontent.com/u/80132?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rivy",
      "html_url": "https://github.com/rivy",
      "followers_url": "https://api.github.com/users/rivy/followers",
      "following_url": "https://api.github.com/users/rivy/following{/other_user}",
      "gists_url": "https://api.github.com/users/rivy/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rivy/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rivy/subscriptions",
      "organizations_url": "https://api.github.com/users/rivy/orgs",
      "repos_url": "https://api.github.com/users/rivy/repos",
      "events_url": "https://api.github.com/users/rivy/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rivy/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2021-03-08T05:04:41Z",
    "updated_at": "2021-03-09T21:47:28Z",
    "body": "@retep998 , @kornelski , any progress on this?\r\n\r\nI'm hitting it again with some Deno applications (which doesn't have the ability to drop down to `CreateProcess`).\r\nAnd we're hitting it again in [uutils](https://github.com/uutils/coreutils) with Windows implementation and testing of a new [`split` features](https://github.com/uutils/coreutils/pull/1681).\r\nOther CLI utilities have long-standing related issues as well (eg, [sharkdp/hyperfine](https://github.com/sharkdp/hyperfine/issues/296)).\r\n\r\nAny way to push forward for a solution?",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/792464740/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/792807196",
    "html_url": "https://github.com/rust-lang/rust/issues/29494#issuecomment-792807196",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29494",
    "id": 792807196,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc5MjgwNzE5Ng==",
    "user": {
      "login": "ChrisDenton",
      "id": 4459874,
      "node_id": "MDQ6VXNlcjQ0NTk4NzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4459874?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ChrisDenton",
      "html_url": "https://github.com/ChrisDenton",
      "followers_url": "https://api.github.com/users/ChrisDenton/followers",
      "following_url": "https://api.github.com/users/ChrisDenton/following{/other_user}",
      "gists_url": "https://api.github.com/users/ChrisDenton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ChrisDenton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ChrisDenton/subscriptions",
      "organizations_url": "https://api.github.com/users/ChrisDenton/orgs",
      "repos_url": "https://api.github.com/users/ChrisDenton/repos",
      "events_url": "https://api.github.com/users/ChrisDenton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ChrisDenton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2021-03-08T14:51:49Z",
    "updated_at": "2021-03-09T01:41:12Z",
    "body": "It possibly just needs someone to create a PR? There's already a [CommandExt](https://doc.rust-lang.org/std/os/windows/process/trait.CommandExt.html) so adding a `raw_arg` (or similar) function should not be a big change that needs an RFC, no?\r\n\r\nAlthough it strikes me there are two related issues on Windows:\r\n\r\n1. The current `arg` implementation escapes all double quotes and\r\n2. The command line can be an arbitrary string and needn't be parsed by the default argument parser.\r\n\r\nStill, a `raw_arg` function would allow bypassing Rust's implementation, thus providing a workaround for both issues.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/792807196/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/849760089",
    "html_url": "https://github.com/rust-lang/rust/issues/29494#issuecomment-849760089",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29494",
    "id": 849760089,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg0OTc2MDA4OQ==",
    "user": {
      "login": "dgrunwald",
      "id": 243140,
      "node_id": "MDQ6VXNlcjI0MzE0MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/243140?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dgrunwald",
      "html_url": "https://github.com/dgrunwald",
      "followers_url": "https://api.github.com/users/dgrunwald/followers",
      "following_url": "https://api.github.com/users/dgrunwald/following{/other_user}",
      "gists_url": "https://api.github.com/users/dgrunwald/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dgrunwald/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dgrunwald/subscriptions",
      "organizations_url": "https://api.github.com/users/dgrunwald/orgs",
      "repos_url": "https://api.github.com/users/dgrunwald/repos",
      "events_url": "https://api.github.com/users/dgrunwald/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dgrunwald/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2021-05-27T16:10:25Z",
    "updated_at": "2021-05-27T16:12:00Z",
    "body": "`CommandExt::raw_arg` should exist to allow providing arbitrary command-lines to child processes without having to call `CreateProcess` manually.\r\n\r\nBut it should be noted that Python solves this differently!\r\nPython has two possible ways of starting subprocesses:\r\n```\r\nsubprocess.run(['program.exe', 'arg1', 'arg2'])\r\n```\r\nOn Unix, this just passes the argument-array as-is. On Windows, this constructs a single command-line string with the \"inverse of CommandLineToArgvW\" rules. As such, just like Rust's implementation, this works in a cross-platform manner for most Windows programs, with the notable exception of `cmd.exe`.\r\n\r\nBut Python also has:\r\n```\r\nsubprocess.run('program.exe arg1 arg2', shell=True)\r\n```\r\nOn Unix, this runs `[getenv('SHELL', '/bin/sh'), '-c', cmdline]`.\r\nOn Windows, this runs `f'{getenv('COMSPEC', 'cmd.exe')} /c \"{cmdline}\"'`. Yes, for cmd.exe (and cmd.exe alone), it is correct to surround the cmdline with quotes, without escaping any quotes that appear inside the cmdline.\r\n\r\nHaving a \"run command-line in shell\" function nicely abstracts away this weirdness. If Rust had this (e.g. via a `Command::new_shell` constructor), tools like hyperfine wouldn't need platform-specific code.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/849760089/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/850980031",
    "html_url": "https://github.com/rust-lang/rust/issues/29494#issuecomment-850980031",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29494",
    "id": 850980031,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg1MDk4MDAzMQ==",
    "user": {
      "login": "Artoria2e5",
      "id": 6459309,
      "node_id": "MDQ6VXNlcjY0NTkzMDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6459309?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Artoria2e5",
      "html_url": "https://github.com/Artoria2e5",
      "followers_url": "https://api.github.com/users/Artoria2e5/followers",
      "following_url": "https://api.github.com/users/Artoria2e5/following{/other_user}",
      "gists_url": "https://api.github.com/users/Artoria2e5/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Artoria2e5/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Artoria2e5/subscriptions",
      "organizations_url": "https://api.github.com/users/Artoria2e5/orgs",
      "repos_url": "https://api.github.com/users/Artoria2e5/repos",
      "events_url": "https://api.github.com/users/Artoria2e5/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Artoria2e5/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2021-05-30T10:55:14Z",
    "updated_at": "2021-05-30T10:55:14Z",
    "body": "My take 2 of the raw_arg and sized arg PR is still available. A recent rebase broke some macro invocation though. ",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/850980031/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/877609288",
    "html_url": "https://github.com/rust-lang/rust/issues/29494#issuecomment-877609288",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29494",
    "id": 877609288,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3NzYwOTI4OA==",
    "user": {
      "login": "kornelski",
      "id": 72159,
      "node_id": "MDQ6VXNlcjcyMTU5",
      "avatar_url": "https://avatars.githubusercontent.com/u/72159?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kornelski",
      "html_url": "https://github.com/kornelski",
      "followers_url": "https://api.github.com/users/kornelski/followers",
      "following_url": "https://api.github.com/users/kornelski/following{/other_user}",
      "gists_url": "https://api.github.com/users/kornelski/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kornelski/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kornelski/subscriptions",
      "organizations_url": "https://api.github.com/users/kornelski/orgs",
      "repos_url": "https://api.github.com/users/kornelski/repos",
      "events_url": "https://api.github.com/users/kornelski/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kornelski/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2021-07-10T09:55:46Z",
    "updated_at": "2021-07-10T09:55:46Z",
    "body": "It's here!\r\n\r\nhttps://doc.rust-lang.org/nightly/std/process/struct.Command.html#method.raw_arg\r\n\r\nNow it's a good time to bikeshed the name. Is `raw_arg` acceptable? It kinda sounds like a raw pointer.\r\n\r\nI've tried `unquoted_arg`, but that was ambiguous regarding escaping (e.g. `foo\\ bar` is still unquoted).\r\n\r\nMaybe literal? Hopefully won't be confused with string literals :/\r\n\r\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/877609288/reactions",
      "total_count": 2,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 2,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/877627155",
    "html_url": "https://github.com/rust-lang/rust/issues/29494#issuecomment-877627155",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29494",
    "id": 877627155,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3NzYyNzE1NQ==",
    "user": {
      "login": "Artoria2e5",
      "id": 6459309,
      "node_id": "MDQ6VXNlcjY0NTkzMDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6459309?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Artoria2e5",
      "html_url": "https://github.com/Artoria2e5",
      "followers_url": "https://api.github.com/users/Artoria2e5/followers",
      "following_url": "https://api.github.com/users/Artoria2e5/following{/other_user}",
      "gists_url": "https://api.github.com/users/Artoria2e5/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Artoria2e5/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Artoria2e5/subscriptions",
      "organizations_url": "https://api.github.com/users/Artoria2e5/orgs",
      "repos_url": "https://api.github.com/users/Artoria2e5/repos",
      "events_url": "https://api.github.com/users/Artoria2e5/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Artoria2e5/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2021-07-10T12:03:44Z",
    "updated_at": "2021-07-10T12:03:44Z",
    "body": "Hmm. That's one thing to split off from #82930.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/877627155/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1013732606",
    "html_url": "https://github.com/rust-lang/rust/issues/29494#issuecomment-1013732606",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29494",
    "id": 1013732606,
    "node_id": "IC_kwDOAAsO6M48bFT-",
    "user": {
      "login": "Xaeroxe",
      "id": 6182002,
      "node_id": "MDQ6VXNlcjYxODIwMDI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6182002?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Xaeroxe",
      "html_url": "https://github.com/Xaeroxe",
      "followers_url": "https://api.github.com/users/Xaeroxe/followers",
      "following_url": "https://api.github.com/users/Xaeroxe/following{/other_user}",
      "gists_url": "https://api.github.com/users/Xaeroxe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Xaeroxe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Xaeroxe/subscriptions",
      "organizations_url": "https://api.github.com/users/Xaeroxe/orgs",
      "repos_url": "https://api.github.com/users/Xaeroxe/repos",
      "events_url": "https://api.github.com/users/Xaeroxe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Xaeroxe/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2022-01-15T18:36:44Z",
    "updated_at": "2022-01-15T18:36:44Z",
    "body": "Tracking issue for stabilizing the fix to this https://github.com/rust-lang/rust/issues/92939",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1013732606/reactions",
      "total_count": 4,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 4,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
