[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/4109373",
    "html_url": "https://github.com/rust-lang/rust/pull/1880#issuecomment-4109373",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/1880",
    "id": 4109373,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMDkzNzM=",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-02-22T17:16:35Z",
    "updated_at": "2012-02-22T17:16:35Z",
    "body": "This sounds great.  I was a bit nervous about the effect on inference (we are no long unifying with an expected type) but I couldn't come up with any examples that wouldn't work.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/4109373/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/4119237",
    "html_url": "https://github.com/rust-lang/rust/pull/1880#issuecomment-4119237",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/1880",
    "id": 4119237,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMTkyMzc=",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-02-22T19:57:12Z",
    "updated_at": "2012-02-22T19:57:12Z",
    "body": "Yeah. It seems like there must be cases where we can't infer something, but if so the same issue exists with vector indexes.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/4119237/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/4119838",
    "html_url": "https://github.com/rust-lang/rust/pull/1880#issuecomment-4119838",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/1880",
    "id": 4119838,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMTk4Mzg=",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-02-22T20:07:13Z",
    "updated_at": "2012-02-22T20:07:13Z",
    "body": "it seems like, for any legit program, the shift amount will have been defined somewhere else and it will get its type from that location.  the only problem would be if the type came from the shift operator itself, which only seems to occur in bogus programs like:\n\n```\nfn to_any_type<A>() -> A { fail; }\nfn shift() {\n    let s = to_any_type();\n    3 >> s\n}\n```\n\nconceivably this might have type checked before with `s` as type `int`.  It certainly won't now... but do we really care?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/4119838/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/4120294",
    "html_url": "https://github.com/rust-lang/rust/pull/1880#issuecomment-4120294",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/1880",
    "id": 4120294,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMjAyOTQ=",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-02-22T20:14:03Z",
    "updated_at": "2012-02-22T20:14:03Z",
    "body": "I think requiring an explicit type hint here is fine since it's the less common case by far. This change does add just a tiny bit more complexity to the type checker, and every bit counts. The person who actually tries to write that code is going to be confounded as to why it doesn't type check.\n\nI think our inference algorithm is already complex to the point that you just have to believe the compiler when it says it can't infer the types, then add annotations until it compiles (like Scala I gather).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/4120294/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/4122057",
    "html_url": "https://github.com/rust-lang/rust/pull/1880#issuecomment-4122057",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/1880",
    "id": 4122057,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMjIwNTc=",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-02-22T20:38:49Z",
    "updated_at": "2012-02-22T20:38:49Z",
    "body": ">  I think our inference algorithm is already complex to the point that you just have to believe the compiler when it says it can't infer the types, then add annotations until it compiles (like Scala I gather).\n\nAgreed.  I am fine with this.\n\nAlso, the annoyance of writing \"foo >> 16u32\" far outweights a theoretical concern about a theoretical program that could never successfully execute anyway.  I guess a \"real world\" example might involve reinterpret case:\n\n```\nunsafe fn foo(x: *T) {\n    let y = unsafe::reinterpret_cast::<int>(x);\n    32 >> y\n}\n```\n\nHere the type annotation is now required.  This is sufficiently bizarre that I would hope you would annotate your type anyhow! :)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/4122057/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/4128768",
    "html_url": "https://github.com/rust-lang/rust/pull/1880#issuecomment-4128768",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/1880",
    "id": 4128768,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMjg3Njg=",
    "user": {
      "login": "graydon",
      "id": 14097,
      "node_id": "MDQ6VXNlcjE0MDk3",
      "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/graydon",
      "html_url": "https://github.com/graydon",
      "followers_url": "https://api.github.com/users/graydon/followers",
      "following_url": "https://api.github.com/users/graydon/following{/other_user}",
      "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/graydon/subscriptions",
      "organizations_url": "https://api.github.com/users/graydon/orgs",
      "repos_url": "https://api.github.com/users/graydon/repos",
      "events_url": "https://api.github.com/users/graydon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/graydon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-02-23T01:13:49Z",
    "updated_at": "2012-02-23T01:13:49Z",
    "body": "Yeah, this is ok. Requiring the LHS and RHS operands be \"of the same type\" makes sense when the operator is either:\n- Calculating a result bit-by-bit from LHS bits and RHS bits (and/or/xor)\n- A ring operator, subject to expression-reasoning by ring axioms (add,sub,mul,div,mod,comparisons)\n\nThe shifts don't really correspond to either. At best you can think of them as a funny notation for repeated application of mul2 and div2, except you still have sign extension to explain. They're pretty much a peculiarity of computers, and don't have any pretty algebraic axioms we're trying to preserve (associativity, commutativity, transitivity, etc. etc.)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/4128768/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
