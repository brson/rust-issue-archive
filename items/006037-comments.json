[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/16892320",
    "html_url": "https://github.com/rust-lang/rust/issues/6037#issuecomment-16892320",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6037",
    "id": 16892320,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2ODkyMzIw",
    "user": {
      "login": "jdm",
      "id": 27658,
      "node_id": "MDQ6VXNlcjI3NjU4",
      "avatar_url": "https://avatars.githubusercontent.com/u/27658?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jdm",
      "html_url": "https://github.com/jdm",
      "followers_url": "https://api.github.com/users/jdm/followers",
      "following_url": "https://api.github.com/users/jdm/following{/other_user}",
      "gists_url": "https://api.github.com/users/jdm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jdm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jdm/subscriptions",
      "organizations_url": "https://api.github.com/users/jdm/orgs",
      "repos_url": "https://api.github.com/users/jdm/repos",
      "events_url": "https://api.github.com/users/jdm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jdm/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-04-23T23:04:11Z",
    "updated_at": "2013-04-23T23:04:11Z",
    "body": "I think the last one is  confusing if you combine it with identifiers:\n\n``` rust\nmatch x {\n  x == 0 => x,\n  x => y\n}\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/16892320/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/16892383",
    "html_url": "https://github.com/rust-lang/rust/issues/6037#issuecomment-16892383",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6037",
    "id": 16892383,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2ODkyMzgz",
    "user": {
      "login": "graydon",
      "id": 14097,
      "node_id": "MDQ6VXNlcjE0MDk3",
      "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/graydon",
      "html_url": "https://github.com/graydon",
      "followers_url": "https://api.github.com/users/graydon/followers",
      "following_url": "https://api.github.com/users/graydon/following{/other_user}",
      "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/graydon/subscriptions",
      "organizations_url": "https://api.github.com/users/graydon/orgs",
      "repos_url": "https://api.github.com/users/graydon/repos",
      "events_url": "https://api.github.com/users/graydon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/graydon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-04-23T23:05:53Z",
    "updated_at": "2013-04-23T23:05:53Z",
    "body": "I'd be relatively ok with making a leading `if` imply a missing `_` pattern, assuming it's not syntactically ambiguous (I don't _think_ it is).\n\nI agree with @jdm that removing the `if` makes it too likely to cause visual confusion between patterns and expressions.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/16892383/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/16892478",
    "html_url": "https://github.com/rust-lang/rust/issues/6037#issuecomment-16892478",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6037",
    "id": 16892478,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2ODkyNDc4",
    "user": {
      "login": "brendanzab",
      "id": 695077,
      "node_id": "MDQ6VXNlcjY5NTA3Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/695077?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brendanzab",
      "html_url": "https://github.com/brendanzab",
      "followers_url": "https://api.github.com/users/brendanzab/followers",
      "following_url": "https://api.github.com/users/brendanzab/following{/other_user}",
      "gists_url": "https://api.github.com/users/brendanzab/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brendanzab/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brendanzab/subscriptions",
      "organizations_url": "https://api.github.com/users/brendanzab/orgs",
      "repos_url": "https://api.github.com/users/brendanzab/repos",
      "events_url": "https://api.github.com/users/brendanzab/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brendanzab/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-04-23T23:08:03Z",
    "updated_at": "2013-04-23T23:08:18Z",
    "body": "@jdm you'd still have to use `_`s normally. The syntax would only be used when the leading expression was left out.\n\n``` rust\nmatch x {\n  _ if x == 0 => x,\n  x => y\n}\n```\n\n``` rust\nmatch {\n  x == 0 => x,\n  _ => y\n}\n```\n\nBut as I stated above, I'm not really as much of a fan of the second syntax\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/16892478/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/16892566",
    "html_url": "https://github.com/rust-lang/rust/issues/6037#issuecomment-16892566",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6037",
    "id": 16892566,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2ODkyNTY2",
    "user": {
      "login": "brendanzab",
      "id": 695077,
      "node_id": "MDQ6VXNlcjY5NTA3Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/695077?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brendanzab",
      "html_url": "https://github.com/brendanzab",
      "followers_url": "https://api.github.com/users/brendanzab/followers",
      "following_url": "https://api.github.com/users/brendanzab/following{/other_user}",
      "gists_url": "https://api.github.com/users/brendanzab/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brendanzab/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brendanzab/subscriptions",
      "organizations_url": "https://api.github.com/users/brendanzab/orgs",
      "repos_url": "https://api.github.com/users/brendanzab/repos",
      "events_url": "https://api.github.com/users/brendanzab/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brendanzab/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-04-23T23:09:57Z",
    "updated_at": "2013-04-23T23:10:18Z",
    "body": "@graydon would you be able to leave out the beginning expression on the match? ie. `match <expr> { ... }`? or maybe you could at least allow `match _ { ... }` (this doesn't work currently)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/16892566/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/16939548",
    "html_url": "https://github.com/rust-lang/rust/issues/6037#issuecomment-16939548",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6037",
    "id": 16939548,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2OTM5NTQ4",
    "user": {
      "login": "bstrie",
      "id": 865233,
      "node_id": "MDQ6VXNlcjg2NTIzMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/865233?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bstrie",
      "html_url": "https://github.com/bstrie",
      "followers_url": "https://api.github.com/users/bstrie/followers",
      "following_url": "https://api.github.com/users/bstrie/following{/other_user}",
      "gists_url": "https://api.github.com/users/bstrie/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bstrie/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bstrie/subscriptions",
      "organizations_url": "https://api.github.com/users/bstrie/orgs",
      "repos_url": "https://api.github.com/users/bstrie/repos",
      "events_url": "https://api.github.com/users/bstrie/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bstrie/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-04-24T15:30:59Z",
    "updated_at": "2013-04-24T15:31:40Z",
    "body": "As much as I hate to say it, it seems like this is an occasion where one should really be reaching for `if` rather than `match`. Could this also be done with a macro?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/16939548/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/16956915",
    "html_url": "https://github.com/rust-lang/rust/issues/6037#issuecomment-16956915",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6037",
    "id": 16956915,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2OTU2OTE1",
    "user": {
      "login": "graydon",
      "id": 14097,
      "node_id": "MDQ6VXNlcjE0MDk3",
      "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/graydon",
      "html_url": "https://github.com/graydon",
      "followers_url": "https://api.github.com/users/graydon/followers",
      "following_url": "https://api.github.com/users/graydon/following{/other_user}",
      "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/graydon/subscriptions",
      "organizations_url": "https://api.github.com/users/graydon/orgs",
      "repos_url": "https://api.github.com/users/graydon/repos",
      "events_url": "https://api.github.com/users/graydon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/graydon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-04-24T18:54:02Z",
    "updated_at": "2013-04-24T18:54:02Z",
    "body": "Yeah, a cond macro might work just as well\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/16956915/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/16967094",
    "html_url": "https://github.com/rust-lang/rust/issues/6037#issuecomment-16967094",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6037",
    "id": 16967094,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2OTY3MDk0",
    "user": {
      "login": "brendanzab",
      "id": 695077,
      "node_id": "MDQ6VXNlcjY5NTA3Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/695077?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brendanzab",
      "html_url": "https://github.com/brendanzab",
      "followers_url": "https://api.github.com/users/brendanzab/followers",
      "following_url": "https://api.github.com/users/brendanzab/following{/other_user}",
      "gists_url": "https://api.github.com/users/brendanzab/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brendanzab/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brendanzab/subscriptions",
      "organizations_url": "https://api.github.com/users/brendanzab/orgs",
      "repos_url": "https://api.github.com/users/brendanzab/repos",
      "events_url": "https://api.github.com/users/brendanzab/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brendanzab/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-04-24T21:24:49Z",
    "updated_at": "2013-04-24T21:24:49Z",
    "body": "``` rust\ncond!(\n    if x >= 0 => x / y,\n    if y >  0 => { ((x + 1) / y) - 1 }\n    _         => ((x + 1) / y) + 1,\n)\n```\n\nMight see if I can figure something out.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/16967094/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/17587394",
    "html_url": "https://github.com/rust-lang/rust/issues/6037#issuecomment-17587394",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6037",
    "id": 17587394,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3NTg3Mzk0",
    "user": {
      "login": "brendanzab",
      "id": 695077,
      "node_id": "MDQ6VXNlcjY5NTA3Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/695077?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brendanzab",
      "html_url": "https://github.com/brendanzab",
      "followers_url": "https://api.github.com/users/brendanzab/followers",
      "following_url": "https://api.github.com/users/brendanzab/following{/other_user}",
      "gists_url": "https://api.github.com/users/brendanzab/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brendanzab/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brendanzab/subscriptions",
      "organizations_url": "https://api.github.com/users/brendanzab/orgs",
      "repos_url": "https://api.github.com/users/brendanzab/repos",
      "events_url": "https://api.github.com/users/brendanzab/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brendanzab/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-05-08T05:32:53Z",
    "updated_at": "2013-05-08T05:32:53Z",
    "body": "Macro!\n\n``` rust\nmacro_rules! cond(\n    ( $(if $pred:expr $body:block )+ else $default:block ) => (\n        $(if $pred $body else)+\n        $default\n    )\n)\n\nfn main() {\n    let x = 1;\n    cond!(\n        if x < 0 { io::println(~\"woops\");   }\n        if true  { io::println(~\"hullo\");   }\n        else     { io::println(~\"bananas\"); }\n    )\n}\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/17587394/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/17603568",
    "html_url": "https://github.com/rust-lang/rust/issues/6037#issuecomment-17603568",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6037",
    "id": 17603568,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3NjAzNTY4",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-05-08T12:53:44Z",
    "updated_at": "2013-05-08T12:53:44Z",
    "body": "Shall we close then?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/17603568/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/17603623",
    "html_url": "https://github.com/rust-lang/rust/issues/6037#issuecomment-17603623",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6037",
    "id": 17603623,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3NjAzNjIz",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-05-08T12:54:55Z",
    "updated_at": "2013-05-08T12:54:55Z",
    "body": "Also: with respect to bjz's comment about omitting the expression in a match, if you just want a dummy value, then I would suggest the `()` expression:\n\n```\nmatch () {\n    _ if foo => { ... }\n}\n```\n\nwhich doesn't seem especially onerous. (This doesn't address the question of removing the `_` pattern, of course)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/17603623/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/17604929",
    "html_url": "https://github.com/rust-lang/rust/issues/6037#issuecomment-17604929",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6037",
    "id": 17604929,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3NjA0OTI5",
    "user": {
      "login": "brendanzab",
      "id": 695077,
      "node_id": "MDQ6VXNlcjY5NTA3Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/695077?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brendanzab",
      "html_url": "https://github.com/brendanzab",
      "followers_url": "https://api.github.com/users/brendanzab/followers",
      "following_url": "https://api.github.com/users/brendanzab/following{/other_user}",
      "gists_url": "https://api.github.com/users/brendanzab/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brendanzab/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brendanzab/subscriptions",
      "organizations_url": "https://api.github.com/users/brendanzab/orgs",
      "repos_url": "https://api.github.com/users/brendanzab/repos",
      "events_url": "https://api.github.com/users/brendanzab/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brendanzab/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-05-08T13:20:27Z",
    "updated_at": "2013-05-08T14:08:41Z",
    "body": "Is this something that you'd be ok with adding to `syntax::ext::expand`? This is what I have at the moment:\n\n``` rust\n//\n// A Scheme-style conditional that helps to improve code clarity in some instances when\n// the `if`, `else if`, and `else` keywords obscure predicates undesirably.\n//\n// # Example\n//\n// ~~~\n// let clamped =\n//     if x > mx { mx }\n//     else if x < mn { mn }\n//     else { x };\n// ~~~\n//\n// Using `cond!`, the above could be written as:\n//\n// ~~~\n// let clamped = cond!(\n//     | x > mx { mx }\n//     | x < mn { mn }\n//     _        { x  }\n// );\n// ~~~\n//\n// The optional default case is denoted by `_`.\n//\nmacro_rules! cond (\n    ($( | $pred:expr $body:block)+ _ $default:block ) => (\n        $(if $pred $body else)+\n        $default\n    );\n    // for if the default case was ommitted\n    ( $( | $pred:expr $body:block )+ ) => (\n        $(if $pred $body)else+\n    );\n)\n```\n\nI used the `|` and `_` symbols because I  found using `if` and `else` was a little confusing. I also removed the `=>` because it could be also be confusing (as @jdm [said](https://github.com/mozilla/rust/issues/6037#issuecomment-16892320)).\n\nHere's an example of how it could be used in [`std::fun_treemap`](https://github.com/mozilla/rust/blob/incoming/src/libstd/fun_treemap.rs#L35):\n\n``` rust\n/// Insert a value into the map\npub fn insert<K:Copy + Eq + Ord,V:Copy>(m: Treemap<K, V>, k: K, v: V) -> Treemap<K, V> {\n    @match m {\n        @Empty => Node(@k, @v, @Empty, @Empty),\n        @Node(@copy kk, vv, left, right) => cond!(\n            | k <  kk { Node(@kk, vv, insert(left, k, v), right) }\n            | k == kk { Node(@kk, @v, left, right)               }\n            _         { Node(@kk, vv, left, insert(right, k, v)) }\n        )\n    }\n}\n\n/// Find a value based on the key\npub fn find<K:Eq + Ord,V:Copy>(m: Treemap<K, V>, k: K) -> Option<V> {\n    match *m {\n        Empty => None,\n        Node(@ref kk, @copy v, left, right) => cond!(\n            | k == *kk { Some(v)        }\n            | k <  *kk { find(left, k)  }\n            _          { find(right, k) }\n        )\n    }\n}\n```\n\nI'm sure there are more instances beyond `std` where this could be used.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/17604929/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/17607345",
    "html_url": "https://github.com/rust-lang/rust/issues/6037#issuecomment-17607345",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6037",
    "id": 17607345,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3NjA3MzQ1",
    "user": {
      "login": "brendanzab",
      "id": 695077,
      "node_id": "MDQ6VXNlcjY5NTA3Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/695077?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brendanzab",
      "html_url": "https://github.com/brendanzab",
      "followers_url": "https://api.github.com/users/brendanzab/followers",
      "following_url": "https://api.github.com/users/brendanzab/following{/other_user}",
      "gists_url": "https://api.github.com/users/brendanzab/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brendanzab/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brendanzab/subscriptions",
      "organizations_url": "https://api.github.com/users/brendanzab/orgs",
      "repos_url": "https://api.github.com/users/brendanzab/repos",
      "events_url": "https://api.github.com/users/brendanzab/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brendanzab/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-05-08T13:59:40Z",
    "updated_at": "2013-05-08T14:11:11Z",
    "body": "@nikomatsakis brought up on IRC that not having this is kinda sad when you're stacking ORs: `cond!(| x == 3 | y == 4 {})`. But it'd be ambiguous, as `pred` is an `expr`. We could use `||` instead which also plays nicely with `&&`, but then it'd make stacking with the underscore trickier. Hmm...\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/17607345/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/17607373",
    "html_url": "https://github.com/rust-lang/rust/issues/6037#issuecomment-17607373",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6037",
    "id": 17607373,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3NjA3Mzcz",
    "user": {
      "login": "brendanzab",
      "id": 695077,
      "node_id": "MDQ6VXNlcjY5NTA3Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/695077?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brendanzab",
      "html_url": "https://github.com/brendanzab",
      "followers_url": "https://api.github.com/users/brendanzab/followers",
      "following_url": "https://api.github.com/users/brendanzab/following{/other_user}",
      "gists_url": "https://api.github.com/users/brendanzab/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brendanzab/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brendanzab/subscriptions",
      "organizations_url": "https://api.github.com/users/brendanzab/orgs",
      "repos_url": "https://api.github.com/users/brendanzab/repos",
      "events_url": "https://api.github.com/users/brendanzab/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brendanzab/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-05-08T14:00:06Z",
    "updated_at": "2013-05-08T14:00:06Z",
    "body": "Woops, hit the wrong button :S\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/17607373/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/19027991",
    "html_url": "https://github.com/rust-lang/rust/issues/6037#issuecomment-19027991",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6037",
    "id": 19027991,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE5MDI3OTkx",
    "user": {
      "login": "graydon",
      "id": 14097,
      "node_id": "MDQ6VXNlcjE0MDk3",
      "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/graydon",
      "html_url": "https://github.com/graydon",
      "followers_url": "https://api.github.com/users/graydon/followers",
      "following_url": "https://api.github.com/users/graydon/following{/other_user}",
      "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/graydon/subscriptions",
      "organizations_url": "https://api.github.com/users/graydon/orgs",
      "repos_url": "https://api.github.com/users/graydon/repos",
      "events_url": "https://api.github.com/users/graydon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/graydon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-06-06T06:55:22Z",
    "updated_at": "2013-06-06T06:55:22Z",
    "body": "Closed by #6333 \n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/19027991/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
