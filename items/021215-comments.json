[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/71305471",
    "html_url": "https://github.com/rust-lang/rust/issues/21215#issuecomment-71305471",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21215",
    "id": 71305471,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxMzA1NDcx",
    "user": {
      "login": "ghost",
      "id": 10137,
      "node_id": "MDQ6VXNlcjEwMTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ghost",
      "html_url": "https://github.com/ghost",
      "followers_url": "https://api.github.com/users/ghost/followers",
      "following_url": "https://api.github.com/users/ghost/following{/other_user}",
      "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
      "organizations_url": "https://api.github.com/users/ghost/orgs",
      "repos_url": "https://api.github.com/users/ghost/repos",
      "events_url": "https://api.github.com/users/ghost/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ghost/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-24T08:45:16Z",
    "updated_at": "2015-01-24T08:45:16Z",
    "body": "tl;dr: make help is lying to me saying that I can run rust from the build directory(without installing it on the system), well kinda, because this works(for example): \n\n```\n$ LD_LIBRARY_PATH=\"../lib/\" ./rustc\n$ pwd\n/home/emacs/build/rust/x86_64-unknown-linux-gnu/stage2/bin\n```\n\n---\n\nI'm getting the \"same\" thing if I run this:\n\n``` bash\n$ pwd\n/home/emacs/build/rust/x86_64-unknown-linux-gnu/stage2/bin\n$ ./compiletest\n./compiletest: symbol lookup error: ./compiletest: undefined symbol: _ZN11collections4hash3map36HashMap$LT$K$C$$u{20}V$C$$u{20}S$GT$6resize10_FILE_LINE20ha626c175c55fc0ddEmoE\n\n$ ./rustc\n./rustc: symbol lookup error: ./rustc: undefined symbol: _ZN2rt10lang_start20hc5e53532c7982aa4P7zE\n```\n\n That symbol `_ZN2rt10lang_start20hc5e53532c7982aa4P7zE` is in `libstd-*.so` and I'm thinking I need to find a way to tell `rustc` to find/use the .so from `../lib/`\n Or make sure rust is installed (`make install`? haven't tried this yet)\n\n`make help` however says, it should run from the build directory:\n\n``` bash\n  * all - The default. Build a complete, bootstrapped compiler.\n          `rustc` will be in `${target-triple}/stage2/bin/`. Run it\n          directly from the build directory if you like. This also\n          comes with docs in `doc/`.\n```\n\nThe stage0 rustc works though (this one seems static, it's 54 megs):\n\n``` bash\n$ pwd\n/home/emacs/build/rust/x86_64-unknown-linux-gnu/stage0/bin\n$ ./rustc\nUsage: rustc [OPTIONS] INPUT\n...\n```\n\nI already have an earlier rust version installed in the system. If I remove it and then try to run the stage2 rust(which isn't installed, obviously):\n\n``` bash\n$ pwd\n/home/emacs/build/rust/x86_64-unknown-linux-gnu/stage2/bin\n\n$ ./rustc\n./rustc: error while loading shared libraries: librustc_driver-4e7c5e5c.so: cannot open shared object file: No such file or directory\n\n#or as the make help says: run it directly from the build directory (taken literally)\n$ pwd\n/home/emacs/build/rust\n$ ./x86_64-unknown-linux-gnu/stage2/bin/rustc\n./x86_64-unknown-linux-gnu/stage2/bin/rustc: error while loading shared libraries: librustc_driver-4e7c5e5c.so: cannot open shared object file: No such file or directory\n```\n\nThat file is in `./rust/x86_64-unknown-linux-gnu/stage2/lib/`. But rust is expecting it to be somewhere else (not in current directory that's for sure, tested!) which is here: `/usr/lib/`  (if ./configure --prefix was /usr  I guess)\n\nBut this works(for example): \n\n```\n$ LD_LIBRARY_PATH=\"../lib/\" ./rustc\nUsage: rustc [OPTIONS] INPUT\n\nOptions:\n...\n$ pwd\n/home/emacs/build/rust/x86_64-unknown-linux-gnu/stage2/bin\n```\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/71305471/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/89846979",
    "html_url": "https://github.com/rust-lang/rust/issues/21215#issuecomment-89846979",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21215",
    "id": 89846979,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg5ODQ2OTc5",
    "user": {
      "login": "jacek99",
      "id": 36376,
      "node_id": "MDQ6VXNlcjM2Mzc2",
      "avatar_url": "https://avatars.githubusercontent.com/u/36376?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jacek99",
      "html_url": "https://github.com/jacek99",
      "followers_url": "https://api.github.com/users/jacek99/followers",
      "following_url": "https://api.github.com/users/jacek99/following{/other_user}",
      "gists_url": "https://api.github.com/users/jacek99/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jacek99/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jacek99/subscriptions",
      "organizations_url": "https://api.github.com/users/jacek99/orgs",
      "repos_url": "https://api.github.com/users/jacek99/repos",
      "events_url": "https://api.github.com/users/jacek99/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jacek99/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-05T20:26:16Z",
    "updated_at": "2015-04-05T20:26:16Z",
    "body": "any updates on this? I just installed rust beta on a new Fedora 21 box and I got this\n\nrustc: error while loading shared libraries: librustc_driver-4e7c5e5c.so: cannot open shared object file: No such file or directory\n\nnot able to use rust on this box\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/89846979/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/89878046",
    "html_url": "https://github.com/rust-lang/rust/issues/21215#issuecomment-89878046",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21215",
    "id": 89878046,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg5ODc4MDQ2",
    "user": {
      "login": "dpc",
      "id": 9209,
      "node_id": "MDQ6VXNlcjkyMDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9209?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dpc",
      "html_url": "https://github.com/dpc",
      "followers_url": "https://api.github.com/users/dpc/followers",
      "following_url": "https://api.github.com/users/dpc/following{/other_user}",
      "gists_url": "https://api.github.com/users/dpc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dpc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dpc/subscriptions",
      "organizations_url": "https://api.github.com/users/dpc/orgs",
      "repos_url": "https://api.github.com/users/dpc/repos",
      "events_url": "https://api.github.com/users/dpc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dpc/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-06T01:15:01Z",
    "updated_at": "2015-04-06T01:15:01Z",
    "body": "I've switched completely to `rustup` and haven't tried since then. But is it possible, that you still have old `rustc` installed through `rustup` while compiling `rustc` from source? If I understood some suggestion given above, that might be potential reason for this failure.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/89878046/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/90191229",
    "html_url": "https://github.com/rust-lang/rust/issues/21215#issuecomment-90191229",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21215",
    "id": 90191229,
    "node_id": "MDEyOklzc3VlQ29tbWVudDkwMTkxMjI5",
    "user": {
      "login": "thePalindrome",
      "id": 1844681,
      "node_id": "MDQ6VXNlcjE4NDQ2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1844681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thePalindrome",
      "html_url": "https://github.com/thePalindrome",
      "followers_url": "https://api.github.com/users/thePalindrome/followers",
      "following_url": "https://api.github.com/users/thePalindrome/following{/other_user}",
      "gists_url": "https://api.github.com/users/thePalindrome/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thePalindrome/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thePalindrome/subscriptions",
      "organizations_url": "https://api.github.com/users/thePalindrome/orgs",
      "repos_url": "https://api.github.com/users/thePalindrome/repos",
      "events_url": "https://api.github.com/users/thePalindrome/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thePalindrome/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-06T18:38:49Z",
    "updated_at": "2015-04-06T18:38:49Z",
    "body": "According to #23193, LD_LIBRARY_PATH needs to be set to /usr/local/lib but only on Fedora.\n\nMaybe a similar distro quirk prevents compilation?\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/90191229/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/224052574",
    "html_url": "https://github.com/rust-lang/rust/issues/21215#issuecomment-224052574",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21215",
    "id": 224052574,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyNDA1MjU3NA==",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-06-06T18:52:36Z",
    "updated_at": "2016-06-06T18:52:36Z",
    "body": "Has anyone seen this issue lately? It's been over a year without any update, I wonder if it is stale.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/224052574/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/224055736",
    "html_url": "https://github.com/rust-lang/rust/issues/21215#issuecomment-224055736",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21215",
    "id": 224055736,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyNDA1NTczNg==",
    "user": {
      "login": "dpc",
      "id": 9209,
      "node_id": "MDQ6VXNlcjkyMDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9209?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dpc",
      "html_url": "https://github.com/dpc",
      "followers_url": "https://api.github.com/users/dpc/followers",
      "following_url": "https://api.github.com/users/dpc/following{/other_user}",
      "gists_url": "https://api.github.com/users/dpc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dpc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dpc/subscriptions",
      "organizations_url": "https://api.github.com/users/dpc/orgs",
      "repos_url": "https://api.github.com/users/dpc/repos",
      "events_url": "https://api.github.com/users/dpc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dpc/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-06-06T19:03:45Z",
    "updated_at": "2016-06-06T19:03:45Z",
    "body": "I think it's OK to consider stale. Rust compiler, Fedora, rustup etc. moved forward.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/224055736/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/224066525",
    "html_url": "https://github.com/rust-lang/rust/issues/21215#issuecomment-224066525",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21215",
    "id": 224066525,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyNDA2NjUyNQ==",
    "user": {
      "login": "jacek99",
      "id": 36376,
      "node_id": "MDQ6VXNlcjM2Mzc2",
      "avatar_url": "https://avatars.githubusercontent.com/u/36376?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jacek99",
      "html_url": "https://github.com/jacek99",
      "followers_url": "https://api.github.com/users/jacek99/followers",
      "following_url": "https://api.github.com/users/jacek99/following{/other_user}",
      "gists_url": "https://api.github.com/users/jacek99/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jacek99/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jacek99/subscriptions",
      "organizations_url": "https://api.github.com/users/jacek99/orgs",
      "repos_url": "https://api.github.com/users/jacek99/repos",
      "events_url": "https://api.github.com/users/jacek99/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jacek99/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-06-06T19:45:22Z",
    "updated_at": "2016-06-06T19:45:22Z",
    "body": "I verified with a brand new install on Fedora 23, seems to be fine now.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/224066525/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
