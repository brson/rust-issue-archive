[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/30813589",
    "html_url": "https://github.com/rust-lang/rust/issues/11040#issuecomment-30813589",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/11040",
    "id": 30813589,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwODEzNTg5",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-12-18T03:32:35Z",
    "updated_at": "2013-12-18T03:32:35Z",
    "body": "cc @luqmana @thestinger this seems to be a problem with immediates?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/30813589/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/30814159",
    "html_url": "https://github.com/rust-lang/rust/issues/11040#issuecomment-30814159",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/11040",
    "id": 30814159,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwODE0MTU5",
    "user": {
      "login": "Aatch",
      "id": 342416,
      "node_id": "MDQ6VXNlcjM0MjQxNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/342416?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Aatch",
      "html_url": "https://github.com/Aatch",
      "followers_url": "https://api.github.com/users/Aatch/followers",
      "following_url": "https://api.github.com/users/Aatch/following{/other_user}",
      "gists_url": "https://api.github.com/users/Aatch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Aatch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Aatch/subscriptions",
      "organizations_url": "https://api.github.com/users/Aatch/orgs",
      "repos_url": "https://api.github.com/users/Aatch/repos",
      "events_url": "https://api.github.com/users/Aatch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Aatch/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-12-18T03:48:56Z",
    "updated_at": "2013-12-18T03:48:56Z",
    "body": "So apparently, on Linux, all structs are returned in memory, regardless of size. While we should probably keep this in general (since it _is_ part of the ABI), making NullablePointer represented as, well, a pointer seems like the best course of action.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/30814159/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/31573468",
    "html_url": "https://github.com/rust-lang/rust/issues/11040#issuecomment-31573468",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/11040",
    "id": 31573468,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNTczNDY4",
    "user": {
      "login": "jld",
      "id": 254973,
      "node_id": "MDQ6VXNlcjI1NDk3Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/254973?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jld",
      "html_url": "https://github.com/jld",
      "followers_url": "https://api.github.com/users/jld/followers",
      "following_url": "https://api.github.com/users/jld/following{/other_user}",
      "gists_url": "https://api.github.com/users/jld/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jld/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jld/subscriptions",
      "organizations_url": "https://api.github.com/users/jld/orgs",
      "repos_url": "https://api.github.com/users/jld/repos",
      "events_url": "https://api.github.com/users/jld/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jld/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-01-04T07:30:14Z",
    "updated_at": "2014-01-04T07:30:14Z",
    "body": "\u2026oh.  #11303, which I just filed, is somewhat redundant with this issue.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/31573468/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/42094893",
    "html_url": "https://github.com/rust-lang/rust/issues/11040#issuecomment-42094893",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/11040",
    "id": 42094893,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyMDk0ODkz",
    "user": {
      "login": "metajack",
      "id": 28357,
      "node_id": "MDQ6VXNlcjI4MzU3",
      "avatar_url": "https://avatars.githubusercontent.com/u/28357?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/metajack",
      "html_url": "https://github.com/metajack",
      "followers_url": "https://api.github.com/users/metajack/followers",
      "following_url": "https://api.github.com/users/metajack/following{/other_user}",
      "gists_url": "https://api.github.com/users/metajack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/metajack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/metajack/subscriptions",
      "organizations_url": "https://api.github.com/users/metajack/orgs",
      "repos_url": "https://api.github.com/users/metajack/repos",
      "events_url": "https://api.github.com/users/metajack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/metajack/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-05-03T03:22:37Z",
    "updated_at": "2014-05-03T03:22:37Z",
    "body": "I just ran into this in Servo trying to port to 32bit linux. Can I sweet talk someone into working on this?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/42094893/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/42153362",
    "html_url": "https://github.com/rust-lang/rust/issues/11040#issuecomment-42153362",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/11040",
    "id": 42153362,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyMTUzMzYy",
    "user": {
      "login": "lilyball",
      "id": 714,
      "node_id": "MDQ6VXNlcjcxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/714?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lilyball",
      "html_url": "https://github.com/lilyball",
      "followers_url": "https://api.github.com/users/lilyball/followers",
      "following_url": "https://api.github.com/users/lilyball/following{/other_user}",
      "gists_url": "https://api.github.com/users/lilyball/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lilyball/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lilyball/subscriptions",
      "organizations_url": "https://api.github.com/users/lilyball/orgs",
      "repos_url": "https://api.github.com/users/lilyball/repos",
      "events_url": "https://api.github.com/users/lilyball/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lilyball/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-05-05T01:22:44Z",
    "updated_at": "2014-05-05T01:22:44Z",
    "body": "We have `libc::Nullable`. I think we should be recommending that instead of `Option` for nullable function pointers. I've filed #13941 about enforcing the null-pointer optimization on that type.\n\nMeanwhile, as suggested by @Aatch on IRC, the correct solution to this bug seems to be that trans should \"unwrap\" any null-pointer-optimized structs, which means `Nullable<extern \"C\" fn (int)>` would be unwrapped into `extern \"C\" fn (int)` and treated as an immediate.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/42153362/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/42185584",
    "html_url": "https://github.com/rust-lang/rust/issues/11040#issuecomment-42185584",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/11040",
    "id": 42185584,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyMTg1NTg0",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-05-05T13:09:35Z",
    "updated_at": "2014-05-05T13:09:35Z",
    "body": "The only reason I created libc::Nullable is because I couldn't use Option\nbecause libc couldn't use libstd.\n\nOn Sun, May 4, 2014 at 9:22 PM, Kevin Ballard notifications@github.comwrote:\n\n> We have libc::Nullable. I think we should be recommending that instead of\n> Option for nullable function pointers. I've filed #13941https://github.com/mozilla/rust/issues/13941about enforcing the null-pointer optimization on that type.\n> \n> Meanwhile, as suggested by @Aatch https://github.com/Aatch on IRC, the\n> correct solution to this bug seems to be that trans should \"unwrap\" any\n> null-pointer-optimized structs, which means Nullable<extern \"C\" fn (int)>would be unwrapped into extern\n> \"C\" fn (int) and treated as an immediate.\n> \n> \u2014\n> Reply to this email directly or view it on GitHubhttps://github.com/mozilla/rust/issues/11040#issuecomment-42153362\n> .\n\n## \n\nhttp://octayn.net/\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/42185584/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/42208080",
    "html_url": "https://github.com/rust-lang/rust/issues/11040#issuecomment-42208080",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/11040",
    "id": 42208080,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyMjA4MDgw",
    "user": {
      "login": "lilyball",
      "id": 714,
      "node_id": "MDQ6VXNlcjcxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/714?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lilyball",
      "html_url": "https://github.com/lilyball",
      "followers_url": "https://api.github.com/users/lilyball/followers",
      "following_url": "https://api.github.com/users/lilyball/following{/other_user}",
      "gists_url": "https://api.github.com/users/lilyball/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lilyball/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lilyball/subscriptions",
      "organizations_url": "https://api.github.com/users/lilyball/orgs",
      "repos_url": "https://api.github.com/users/lilyball/repos",
      "events_url": "https://api.github.com/users/lilyball/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lilyball/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-05-05T16:38:37Z",
    "updated_at": "2014-05-05T16:38:37Z",
    "body": "@cmr Sure, I get that. What I'm proposing is that, with #13941, `libc::Nullable` can serve as an `Option`-like container that is guaranteed to use the null-pointer optimization. With that guarantee, we can then feel safe using it for things like nullable fns without having to worry that we're relying on an optimization that may or may not apply.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/42208080/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/43541671",
    "html_url": "https://github.com/rust-lang/rust/issues/11040#issuecomment-43541671",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/11040",
    "id": 43541671,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNTQxNjcx",
    "user": {
      "login": "brendanzab",
      "id": 695077,
      "node_id": "MDQ6VXNlcjY5NTA3Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/695077?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brendanzab",
      "html_url": "https://github.com/brendanzab",
      "followers_url": "https://api.github.com/users/brendanzab/followers",
      "following_url": "https://api.github.com/users/brendanzab/following{/other_user}",
      "gists_url": "https://api.github.com/users/brendanzab/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brendanzab/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brendanzab/subscriptions",
      "organizations_url": "https://api.github.com/users/brendanzab/orgs",
      "repos_url": "https://api.github.com/users/brendanzab/repos",
      "events_url": "https://api.github.com/users/brendanzab/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brendanzab/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-05-19T18:50:31Z",
    "updated_at": "2014-05-19T18:50:31Z",
    "body": "Yay!\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/43541671/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
