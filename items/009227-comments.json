[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29059011",
    "html_url": "https://github.com/rust-lang/rust/issues/9227#issuecomment-29059011",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9227",
    "id": 29059011,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5MDU5MDEx",
    "user": {
      "login": "michaelwoerister",
      "id": 1825894,
      "node_id": "MDQ6VXNlcjE4MjU4OTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1825894?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michaelwoerister",
      "html_url": "https://github.com/michaelwoerister",
      "followers_url": "https://api.github.com/users/michaelwoerister/followers",
      "following_url": "https://api.github.com/users/michaelwoerister/following{/other_user}",
      "gists_url": "https://api.github.com/users/michaelwoerister/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michaelwoerister/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michaelwoerister/subscriptions",
      "organizations_url": "https://api.github.com/users/michaelwoerister/orgs",
      "repos_url": "https://api.github.com/users/michaelwoerister/repos",
      "events_url": "https://api.github.com/users/michaelwoerister/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michaelwoerister/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-22T09:17:37Z",
    "updated_at": "2013-11-22T09:17:37Z",
    "body": "Here is a little guide on how this could be implemented. Maybe someone is interested in giving it a try.\n- Wrap `llvm::DIBuilder::createGlobalVariable()` from `src/llvm/include/llvm/DIBuilder.h`. That means\n  - adding a _C++_ to _C_ wrapper in `src/rustllvm/RustWrapper.cpp` (also adding the function name to `src/rustllvm/rustllvm.def.in`), and\n  - adding a _C_ to _Rust_ wrapper in `src/librustc/lib/llvm.rs`. The respective files contain many examples of how other functions are wrapped.\n- Add a `create_global_var_metadata()` function to `src/librustc/middle/trans/debuginfo.rs`. This function should call the wrapped DIBuilder method with the appropriate arguments. See the `debuginfo::file_metadata()` function for a simple example of how the wrapped function can be called. The arguments needed by the DIBuilder should be made available from the `create_global_var_metadata()` arguments in some form or other.\n- Find the right places in the `trans` module to call the new `debuginfo::create_global_var_metadata()` function. `trans::consts::trans_const()` looks like a very good candidate. You can take a look at `trans::base::trans_stmt()` for an example of how the debuginfo module is used from the outside to create the debuginfo for local variables.\n- Write as many test cases as you can think of and add them to `src/test/debug-info`. The folder already contains many examples of how test cases are written. Some inspiration: globals should be visible from many different positions in the source code, so testing from multiple breakpoints in different scopes would be a good idea. Testing different data types also is a good idea. Testing immutable and mutable variables should be done too.\n- Make a pull request, lean back and enjoy the glory of having contributed an important piece of code to the coolest project around `;)`\n\nBonus points for also handling static variables within a function.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29059011/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/34599436",
    "html_url": "https://github.com/rust-lang/rust/issues/9227#issuecomment-34599436",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9227",
    "id": 34599436,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NTk5NDM2",
    "user": {
      "login": "cmacknz",
      "id": 3466215,
      "node_id": "MDQ6VXNlcjM0NjYyMTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3466215?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cmacknz",
      "html_url": "https://github.com/cmacknz",
      "followers_url": "https://api.github.com/users/cmacknz/followers",
      "following_url": "https://api.github.com/users/cmacknz/following{/other_user}",
      "gists_url": "https://api.github.com/users/cmacknz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cmacknz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cmacknz/subscriptions",
      "organizations_url": "https://api.github.com/users/cmacknz/orgs",
      "repos_url": "https://api.github.com/users/cmacknz/repos",
      "events_url": "https://api.github.com/users/cmacknz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cmacknz/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-02-10T04:03:26Z",
    "updated_at": "2014-02-10T04:03:26Z",
    "body": "This sounds interesting, I'm going to start looking into it. Thanks for the guide here @michaelwoerister.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/34599436/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/34654988",
    "html_url": "https://github.com/rust-lang/rust/issues/9227#issuecomment-34654988",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9227",
    "id": 34654988,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NjU0OTg4",
    "user": {
      "login": "michaelwoerister",
      "id": 1825894,
      "node_id": "MDQ6VXNlcjE4MjU4OTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1825894?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michaelwoerister",
      "html_url": "https://github.com/michaelwoerister",
      "followers_url": "https://api.github.com/users/michaelwoerister/followers",
      "following_url": "https://api.github.com/users/michaelwoerister/following{/other_user}",
      "gists_url": "https://api.github.com/users/michaelwoerister/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michaelwoerister/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michaelwoerister/subscriptions",
      "organizations_url": "https://api.github.com/users/michaelwoerister/orgs",
      "repos_url": "https://api.github.com/users/michaelwoerister/repos",
      "events_url": "https://api.github.com/users/michaelwoerister/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michaelwoerister/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-02-10T17:02:52Z",
    "updated_at": "2014-02-10T17:02:52Z",
    "body": "I've taken a look at this again some time ago and found that it would be better to use `llvm::DIBuilder::createStaticVariable()` instead of `llvm::DIBuilder::createGlobalVariable()` for this. `createStaticVariable` supports namespaces and Clang itself uses it for all C++ globals.`createGlobalVariable` is only used for something related to Objective-C interfaces, it seems.\n\nIf you have any questions or run into a dead-end just ask here and I'll be happy to help you out :)\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/34654988/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/36478257",
    "html_url": "https://github.com/rust-lang/rust/issues/9227#issuecomment-36478257",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9227",
    "id": 36478257,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2NDc4MjU3",
    "user": {
      "login": "cmacknz",
      "id": 3466215,
      "node_id": "MDQ6VXNlcjM0NjYyMTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3466215?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cmacknz",
      "html_url": "https://github.com/cmacknz",
      "followers_url": "https://api.github.com/users/cmacknz/followers",
      "following_url": "https://api.github.com/users/cmacknz/following{/other_user}",
      "gists_url": "https://api.github.com/users/cmacknz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cmacknz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cmacknz/subscriptions",
      "organizations_url": "https://api.github.com/users/cmacknz/orgs",
      "repos_url": "https://api.github.com/users/cmacknz/repos",
      "events_url": "https://api.github.com/users/cmacknz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cmacknz/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-03-03T03:01:36Z",
    "updated_at": "2014-03-03T03:01:36Z",
    "body": "A little update since it's been a while - I have an implementation for this and have started writing tests. Questions and/or a pull request should follow shortly once I've worked through some test cases.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/36478257/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/36596522",
    "html_url": "https://github.com/rust-lang/rust/issues/9227#issuecomment-36596522",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9227",
    "id": 36596522,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2NTk2NTIy",
    "user": {
      "login": "michaelwoerister",
      "id": 1825894,
      "node_id": "MDQ6VXNlcjE4MjU4OTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1825894?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michaelwoerister",
      "html_url": "https://github.com/michaelwoerister",
      "followers_url": "https://api.github.com/users/michaelwoerister/followers",
      "following_url": "https://api.github.com/users/michaelwoerister/following{/other_user}",
      "gists_url": "https://api.github.com/users/michaelwoerister/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michaelwoerister/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michaelwoerister/subscriptions",
      "organizations_url": "https://api.github.com/users/michaelwoerister/orgs",
      "repos_url": "https://api.github.com/users/michaelwoerister/repos",
      "events_url": "https://api.github.com/users/michaelwoerister/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michaelwoerister/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-03-04T06:45:57Z",
    "updated_at": "2014-03-04T06:45:57Z",
    "body": "Great. If you do a pull request, be sure to cc me, so I see it in time.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/36596522/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/37105622",
    "html_url": "https://github.com/rust-lang/rust/issues/9227#issuecomment-37105622",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9227",
    "id": 37105622,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MTA1NjIy",
    "user": {
      "login": "cmacknz",
      "id": 3466215,
      "node_id": "MDQ6VXNlcjM0NjYyMTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3466215?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cmacknz",
      "html_url": "https://github.com/cmacknz",
      "followers_url": "https://api.github.com/users/cmacknz/followers",
      "following_url": "https://api.github.com/users/cmacknz/following{/other_user}",
      "gists_url": "https://api.github.com/users/cmacknz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cmacknz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cmacknz/subscriptions",
      "organizations_url": "https://api.github.com/users/cmacknz/orgs",
      "repos_url": "https://api.github.com/users/cmacknz/repos",
      "events_url": "https://api.github.com/users/cmacknz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cmacknz/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-03-08T18:36:46Z",
    "updated_at": "2014-03-08T18:36:46Z",
    "body": "Will do.\n\nI'm not handling mutable statics properly at the moment so I need to fix that, but immutable static globals are working with the exception of floating point types.\n\nFloating point constants can be inspected with GDB and the `whatis` command reports the correct type, but the value is always reported as `<optimized out>`.\n\n@michaelwoerister do you have any idea what would cause this in the underlying debug info?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/37105622/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/37118588",
    "html_url": "https://github.com/rust-lang/rust/issues/9227#issuecomment-37118588",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9227",
    "id": 37118588,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MTE4NTg4",
    "user": {
      "login": "cmacknz",
      "id": 3466215,
      "node_id": "MDQ6VXNlcjM0NjYyMTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3466215?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cmacknz",
      "html_url": "https://github.com/cmacknz",
      "followers_url": "https://api.github.com/users/cmacknz/followers",
      "following_url": "https://api.github.com/users/cmacknz/following{/other_user}",
      "gists_url": "https://api.github.com/users/cmacknz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cmacknz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cmacknz/subscriptions",
      "organizations_url": "https://api.github.com/users/cmacknz/orgs",
      "repos_url": "https://api.github.com/users/cmacknz/repos",
      "events_url": "https://api.github.com/users/cmacknz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cmacknz/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-03-09T04:10:26Z",
    "updated_at": "2014-03-09T04:10:51Z",
    "body": "Alright, so looking at the DWARF information with objdump reveals that the float types aren't getting the DW_AT_const_value attribute that is generated for the other variables. The presence of this tag on mutable statics is also why they can't be debugged properly, since it indicates that the described variable doesn't exist in the address space of the program and can never change.\n\nI'm still perplexed as to why float constants aren't being handled properly, but I have some ideas on how to fix the issue with mutable statics at least.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/37118588/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/37133729",
    "html_url": "https://github.com/rust-lang/rust/issues/9227#issuecomment-37133729",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9227",
    "id": 37133729,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MTMzNzI5",
    "user": {
      "login": "michaelwoerister",
      "id": 1825894,
      "node_id": "MDQ6VXNlcjE4MjU4OTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1825894?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michaelwoerister",
      "html_url": "https://github.com/michaelwoerister",
      "followers_url": "https://api.github.com/users/michaelwoerister/followers",
      "following_url": "https://api.github.com/users/michaelwoerister/following{/other_user}",
      "gists_url": "https://api.github.com/users/michaelwoerister/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michaelwoerister/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michaelwoerister/subscriptions",
      "organizations_url": "https://api.github.com/users/michaelwoerister/orgs",
      "repos_url": "https://api.github.com/users/michaelwoerister/repos",
      "events_url": "https://api.github.com/users/michaelwoerister/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michaelwoerister/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-03-09T18:13:22Z",
    "updated_at": "2014-03-09T18:13:22Z",
    "body": "If https://github.com/gentlefolk/rust/commit/032e206d395a34ddcad6ded85e77bb9aa0d25a96 still represents the code you are testing, the problem might be that you pass `v` instead of `g` to `debuginfo::create_global_var_metadata()`. Apart from that your code looks great so far, very clean.\nKeep up the good work!\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/37133729/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/37139471",
    "html_url": "https://github.com/rust-lang/rust/issues/9227#issuecomment-37139471",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9227",
    "id": 37139471,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MTM5NDcx",
    "user": {
      "login": "cmacknz",
      "id": 3466215,
      "node_id": "MDQ6VXNlcjM0NjYyMTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3466215?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cmacknz",
      "html_url": "https://github.com/cmacknz",
      "followers_url": "https://api.github.com/users/cmacknz/followers",
      "following_url": "https://api.github.com/users/cmacknz/following{/other_user}",
      "gists_url": "https://api.github.com/users/cmacknz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cmacknz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cmacknz/subscriptions",
      "organizations_url": "https://api.github.com/users/cmacknz/orgs",
      "repos_url": "https://api.github.com/users/cmacknz/repos",
      "events_url": "https://api.github.com/users/cmacknz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cmacknz/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-03-09T21:04:24Z",
    "updated_at": "2014-03-09T21:07:24Z",
    "body": "Right, taking a closer look at the code it makes sense why using `v` would cause this. However, when using `g` it seems gdb doesn't see any of the symbols although the generated DWARF info looks more sensible.\n\nUsing `v` generates the following for a `pub static mut B: bool = false` declaration in a file called basic-types-mut-globals.rs:\n\n```\n <2><2b>: Abbrev Number: 3 (DW_TAG_variable)\n    <2c>   DW_AT_name        : (indirect string, offset: 0x4d64): B \n    <30>   DW_AT_type        : <0x100>  \n    <34>   DW_AT_decl_file   : 1    \n    <35>   DW_AT_decl_line   : 91   \n    <36>   DW_AT_const_value : 0    \n```\n\nWhile using `g` generates the following:\n\n```\n <2><2b>: Abbrev Number: 3 (DW_TAG_variable)\n    <2c>   DW_AT_name        : (indirect string, offset: 0x4f36): B \n    <30>   DW_AT_type        : <0x116>  \n    <34>   DW_AT_decl_file   : 1    \n    <35>   DW_AT_decl_line   : 91   \n    <36>   DW_AT_declaration : 1    \n    <36>   DW_AT_MIPS_linkage_name: (indirect string, offset: 0x9d): _ZN23basic-types-mut-globals1BE    \n```\n\nThe referenced DW_AT_type describes a single byte encoded as a bool in both cases. \n\nThe difference in specifying the DW_AT_MIPS_linkage_name in the 2nd case is the obvious suspect, although I'm not sure what specifically the problem is. The DWARF specification also only seems to describe DW_AT_linkage_name and not DW_AT_MIPS_linkage_name.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/37139471/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/37139891",
    "html_url": "https://github.com/rust-lang/rust/issues/9227#issuecomment-37139891",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9227",
    "id": 37139891,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MTM5ODkx",
    "user": {
      "login": "cmacknz",
      "id": 3466215,
      "node_id": "MDQ6VXNlcjM0NjYyMTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3466215?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cmacknz",
      "html_url": "https://github.com/cmacknz",
      "followers_url": "https://api.github.com/users/cmacknz/followers",
      "following_url": "https://api.github.com/users/cmacknz/following{/other_user}",
      "gists_url": "https://api.github.com/users/cmacknz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cmacknz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cmacknz/subscriptions",
      "organizations_url": "https://api.github.com/users/cmacknz/orgs",
      "repos_url": "https://api.github.com/users/cmacknz/repos",
      "events_url": "https://api.github.com/users/cmacknz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cmacknz/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-03-09T21:15:18Z",
    "updated_at": "2014-03-15T17:58:35Z",
    "body": "Dumping the symbol table I get the following, where `_ZN1B20hfccf93e461ed376afaa4v0.0E` looks to be the mangled name of `B`. \n\nThis suggests that the linkage name in the DWARF info is incorrect. Is `debuginfo::NameSpaceTreeNode::mangled_name_of_contained_item()` not handling this correctly?  I don't have enough knowledge of Rust name mangling to answer this myself.\n\n```\n0000000000000000 l    df *ABS*  0000000000000000              basic-types-mut-globals.rs\n000000000079a9f0 l     O .bss   0000000000000001              _ZN1B20hfccf93e461ed376afaa4v0.0E\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/37139891/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/37140403",
    "html_url": "https://github.com/rust-lang/rust/issues/9227#issuecomment-37140403",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9227",
    "id": 37140403,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MTQwNDAz",
    "user": {
      "login": "michaelwoerister",
      "id": 1825894,
      "node_id": "MDQ6VXNlcjE4MjU4OTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1825894?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michaelwoerister",
      "html_url": "https://github.com/michaelwoerister",
      "followers_url": "https://api.github.com/users/michaelwoerister/followers",
      "following_url": "https://api.github.com/users/michaelwoerister/following{/other_user}",
      "gists_url": "https://api.github.com/users/michaelwoerister/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michaelwoerister/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michaelwoerister/subscriptions",
      "organizations_url": "https://api.github.com/users/michaelwoerister/orgs",
      "repos_url": "https://api.github.com/users/michaelwoerister/repos",
      "events_url": "https://api.github.com/users/michaelwoerister/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michaelwoerister/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-03-09T21:32:16Z",
    "updated_at": "2014-03-09T21:32:16Z",
    "body": "The linkage name in DWARF does not actually correspond to the name of the symbol (which in Rust is not only a mangled name like in C++, but also contains some hash-value, see https://github.com/mozilla/rust/blob/master/src/librustc/back/link.rs#L454 for more info). The DWARF linkage name has just one purpose: to be printed nicely in GDB (which would not handle namespaces very well otherwise).\n\n`info variables` won't list `basic-types-mut-globals::B`?\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/37140403/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/37141813",
    "html_url": "https://github.com/rust-lang/rust/issues/9227#issuecomment-37141813",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9227",
    "id": 37141813,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MTQxODEz",
    "user": {
      "login": "cmacknz",
      "id": 3466215,
      "node_id": "MDQ6VXNlcjM0NjYyMTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3466215?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cmacknz",
      "html_url": "https://github.com/cmacknz",
      "followers_url": "https://api.github.com/users/cmacknz/followers",
      "following_url": "https://api.github.com/users/cmacknz/following{/other_user}",
      "gists_url": "https://api.github.com/users/cmacknz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cmacknz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cmacknz/subscriptions",
      "organizations_url": "https://api.github.com/users/cmacknz/orgs",
      "repos_url": "https://api.github.com/users/cmacknz/repos",
      "events_url": "https://api.github.com/users/cmacknz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cmacknz/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-03-09T22:19:10Z",
    "updated_at": "2014-03-09T22:19:10Z",
    "body": "`info variables` does indeed list `basic-types-mut-globals::B` but attempting to use the `print` or `whatis` commands gives me a `No symbol \"B\" in current context.` error.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/37141813/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/37145788",
    "html_url": "https://github.com/rust-lang/rust/issues/9227#issuecomment-37145788",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9227",
    "id": 37145788,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MTQ1Nzg4",
    "user": {
      "login": "cmacknz",
      "id": 3466215,
      "node_id": "MDQ6VXNlcjM0NjYyMTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3466215?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cmacknz",
      "html_url": "https://github.com/cmacknz",
      "followers_url": "https://api.github.com/users/cmacknz/followers",
      "following_url": "https://api.github.com/users/cmacknz/following{/other_user}",
      "gists_url": "https://api.github.com/users/cmacknz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cmacknz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cmacknz/subscriptions",
      "organizations_url": "https://api.github.com/users/cmacknz/orgs",
      "repos_url": "https://api.github.com/users/cmacknz/repos",
      "events_url": "https://api.github.com/users/cmacknz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cmacknz/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-03-10T00:44:52Z",
    "updated_at": "2014-03-10T02:00:17Z",
    "body": "Comparing the DWARF information with that generated for a local variable indicates that the DW_AT_location attribute is missing, which would explain why GDB can't access it.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/37145788/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/37159988",
    "html_url": "https://github.com/rust-lang/rust/issues/9227#issuecomment-37159988",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9227",
    "id": 37159988,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MTU5OTg4",
    "user": {
      "login": "michaelwoerister",
      "id": 1825894,
      "node_id": "MDQ6VXNlcjE4MjU4OTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1825894?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michaelwoerister",
      "html_url": "https://github.com/michaelwoerister",
      "followers_url": "https://api.github.com/users/michaelwoerister/followers",
      "following_url": "https://api.github.com/users/michaelwoerister/following{/other_user}",
      "gists_url": "https://api.github.com/users/michaelwoerister/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michaelwoerister/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michaelwoerister/subscriptions",
      "organizations_url": "https://api.github.com/users/michaelwoerister/orgs",
      "repos_url": "https://api.github.com/users/michaelwoerister/repos",
      "events_url": "https://api.github.com/users/michaelwoerister/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michaelwoerister/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-03-10T08:06:53Z",
    "updated_at": "2014-03-10T08:06:53Z",
    "body": "I often find it helpful in such a case to take a look at the DWARF generated by gcc and clang.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/37159988/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/37244667",
    "html_url": "https://github.com/rust-lang/rust/issues/9227#issuecomment-37244667",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9227",
    "id": 37244667,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MjQ0NjY3",
    "user": {
      "login": "cmacknz",
      "id": 3466215,
      "node_id": "MDQ6VXNlcjM0NjYyMTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3466215?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cmacknz",
      "html_url": "https://github.com/cmacknz",
      "followers_url": "https://api.github.com/users/cmacknz/followers",
      "following_url": "https://api.github.com/users/cmacknz/following{/other_user}",
      "gists_url": "https://api.github.com/users/cmacknz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cmacknz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cmacknz/subscriptions",
      "organizations_url": "https://api.github.com/users/cmacknz/orgs",
      "repos_url": "https://api.github.com/users/cmacknz/repos",
      "events_url": "https://api.github.com/users/cmacknz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cmacknz/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-03-10T22:50:55Z",
    "updated_at": "2014-03-10T22:50:55Z",
    "body": "Yeah, looking at the equivalent case with GCC confirms that the DW_AT_location attribute is missing. From my understanding this means that llvm doesn't have information to figure where the variable exists in the address space of the program when it generates the DWARF information.\n\nMy preliminary suspicion is that the scope metadata provided to `llvm::DIBuilder::createStaticVariable` may be incomplete in some way. I'll continue digging, but if you have any insight into how `llvm::DIBuilder` methods figure out where variables exist within a binary it'd be appreciated.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/37244667/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/37253956",
    "html_url": "https://github.com/rust-lang/rust/issues/9227#issuecomment-37253956",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9227",
    "id": 37253956,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MjUzOTU2",
    "user": {
      "login": "cmacknz",
      "id": 3466215,
      "node_id": "MDQ6VXNlcjM0NjYyMTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3466215?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cmacknz",
      "html_url": "https://github.com/cmacknz",
      "followers_url": "https://api.github.com/users/cmacknz/followers",
      "following_url": "https://api.github.com/users/cmacknz/following{/other_user}",
      "gists_url": "https://api.github.com/users/cmacknz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cmacknz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cmacknz/subscriptions",
      "organizations_url": "https://api.github.com/users/cmacknz/orgs",
      "repos_url": "https://api.github.com/users/cmacknz/repos",
      "events_url": "https://api.github.com/users/cmacknz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cmacknz/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-03-11T01:16:41Z",
    "updated_at": "2014-03-11T01:17:07Z",
    "body": "Alright, so I can see that `debuginfo::populate_scope_map()` picks up the scope of everything within a function. This obviously would not include global variable declarations.\n\nIf that seems like a sensible reason for llvm not being able to figure out where the global variables are defined, then it looks like I would similarly need to walk the AST looking for decl's within a crate (i.e. outside of any functions).\n\nIf the above doesn't make sense, then at least it looks like updating `debuginfo::populate_scope_map::walk_decl()` to handle the `DeclItem` case for `ItemStatic` items would get us the ability to debug `statics` declared within a function.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/37253956/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/37287253",
    "html_url": "https://github.com/rust-lang/rust/issues/9227#issuecomment-37287253",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9227",
    "id": 37287253,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3Mjg3MjUz",
    "user": {
      "login": "michaelwoerister",
      "id": 1825894,
      "node_id": "MDQ6VXNlcjE4MjU4OTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1825894?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michaelwoerister",
      "html_url": "https://github.com/michaelwoerister",
      "followers_url": "https://api.github.com/users/michaelwoerister/followers",
      "following_url": "https://api.github.com/users/michaelwoerister/following{/other_user}",
      "gists_url": "https://api.github.com/users/michaelwoerister/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michaelwoerister/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michaelwoerister/subscriptions",
      "organizations_url": "https://api.github.com/users/michaelwoerister/orgs",
      "repos_url": "https://api.github.com/users/michaelwoerister/repos",
      "events_url": "https://api.github.com/users/michaelwoerister/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michaelwoerister/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-03-11T11:50:38Z",
    "updated_at": "2014-03-11T11:50:38Z",
    "body": "For `statics` outside any function `debuginfo::namespace_for_item()` will create a correct (namespace/module) scope. For `statics` inside functions `debuginfo::populate_scope_map()` will have to be extend, as you say.\n\nAs for the missing `DW_AT_location` attribute, I'll need to look into that. The relevant LLVM code is in `CompileUnit::createGlobalVariableDIE()` in `src/llvm/lib/CodeGen/AsmPrinter/DwarfCompileUnit.cpp`. \n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/37287253/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/37735279",
    "html_url": "https://github.com/rust-lang/rust/issues/9227#issuecomment-37735279",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9227",
    "id": 37735279,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NzM1Mjc5",
    "user": {
      "login": "cmacknz",
      "id": 3466215,
      "node_id": "MDQ6VXNlcjM0NjYyMTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3466215?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cmacknz",
      "html_url": "https://github.com/cmacknz",
      "followers_url": "https://api.github.com/users/cmacknz/followers",
      "following_url": "https://api.github.com/users/cmacknz/following{/other_user}",
      "gists_url": "https://api.github.com/users/cmacknz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cmacknz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cmacknz/subscriptions",
      "organizations_url": "https://api.github.com/users/cmacknz/orgs",
      "repos_url": "https://api.github.com/users/cmacknz/repos",
      "events_url": "https://api.github.com/users/cmacknz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cmacknz/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-03-15T19:20:43Z",
    "updated_at": "2014-03-15T19:20:43Z",
    "body": "It turns out things work just fine, but you have to access the variables using the filename as a namespace. So for example, `static B: bool = true;` in file `some_bool.rs` needs to be inspected as `'some_bool'::B` in gdb.\n\nThe location in the DWARF information is present, but it is specified using the DW_AT_declaration and DW_AT_specification attributes instead of being associated with the reset of the variable's information (name, type, etc.).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/37735279/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/37765529",
    "html_url": "https://github.com/rust-lang/rust/issues/9227#issuecomment-37765529",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9227",
    "id": 37765529,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NzY1NTI5",
    "user": {
      "login": "michaelwoerister",
      "id": 1825894,
      "node_id": "MDQ6VXNlcjE4MjU4OTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1825894?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michaelwoerister",
      "html_url": "https://github.com/michaelwoerister",
      "followers_url": "https://api.github.com/users/michaelwoerister/followers",
      "following_url": "https://api.github.com/users/michaelwoerister/following{/other_user}",
      "gists_url": "https://api.github.com/users/michaelwoerister/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michaelwoerister/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michaelwoerister/subscriptions",
      "organizations_url": "https://api.github.com/users/michaelwoerister/orgs",
      "repos_url": "https://api.github.com/users/michaelwoerister/repos",
      "events_url": "https://api.github.com/users/michaelwoerister/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michaelwoerister/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-03-16T18:32:33Z",
    "updated_at": "2014-03-16T18:32:33Z",
    "body": "If you use `debuginfo::namespace_for_item()` to find the correct namespace for the variable (as you should), then the variable will be in a namespace reflecting the module structure of the program, with the name of the crate prepended. As files often define new modules in Rust, module names and file names will often conincide.\n\nIn your example above, what happens if you have a file like the following:\n\n``` rust\n// file name: some_bool.rs\n\nstatic B: bool = true;\n\nmod nested {\n    static C: bool = false;\n}\n```\n\nIs `C` accessible in GDB as `some_bool::C` or as `some_bool::nested::C`? Is it accessible at all? Do you need the single quotes around the namespace?\n\nMy guess would be that it's not the file name that one needs to prefix but the module path.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/37765529/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/37769849",
    "html_url": "https://github.com/rust-lang/rust/issues/9227#issuecomment-37769849",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9227",
    "id": 37769849,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NzY5ODQ5",
    "user": {
      "login": "cmacknz",
      "id": 3466215,
      "node_id": "MDQ6VXNlcjM0NjYyMTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3466215?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cmacknz",
      "html_url": "https://github.com/cmacknz",
      "followers_url": "https://api.github.com/users/cmacknz/followers",
      "following_url": "https://api.github.com/users/cmacknz/following{/other_user}",
      "gists_url": "https://api.github.com/users/cmacknz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cmacknz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cmacknz/subscriptions",
      "organizations_url": "https://api.github.com/users/cmacknz/orgs",
      "repos_url": "https://api.github.com/users/cmacknz/repos",
      "events_url": "https://api.github.com/users/cmacknz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cmacknz/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-03-16T20:41:48Z",
    "updated_at": "2014-03-16T20:41:48Z",
    "body": "The single quotes are only necessary to escape the \"-\" in file names at the GDB prompt. Looks like `C` is not accessible at all.\n\n```\n(gdb) p some_bool::B\n$1 = true\n(gdb) p some_bool::C\nNo symbol \"C\" in namespace \"some_bool\".\n(gdb) p some_bool::nested::C\nNo type \"nested\" within class or namespace \"some_bool\".\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/37769849/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/37973212",
    "html_url": "https://github.com/rust-lang/rust/issues/9227#issuecomment-37973212",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9227",
    "id": 37973212,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3OTczMjEy",
    "user": {
      "login": "michaelwoerister",
      "id": 1825894,
      "node_id": "MDQ6VXNlcjE4MjU4OTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1825894?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michaelwoerister",
      "html_url": "https://github.com/michaelwoerister",
      "followers_url": "https://api.github.com/users/michaelwoerister/followers",
      "following_url": "https://api.github.com/users/michaelwoerister/following{/other_user}",
      "gists_url": "https://api.github.com/users/michaelwoerister/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michaelwoerister/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michaelwoerister/subscriptions",
      "organizations_url": "https://api.github.com/users/michaelwoerister/orgs",
      "repos_url": "https://api.github.com/users/michaelwoerister/repos",
      "events_url": "https://api.github.com/users/michaelwoerister/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michaelwoerister/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-03-18T18:53:39Z",
    "updated_at": "2014-03-18T18:53:39Z",
    "body": "This seems to be a known issue with GDB:\nhttp://osdir.com/ml/gdb.bugs.discuss/2002-11/msg00063.html (that's right, 2002 :dizzy_face:)\nIf you write `p 'some_bool::nested::C'`it should work just fine.\n\nGreat work so far!\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/37973212/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38005107",
    "html_url": "https://github.com/rust-lang/rust/issues/9227#issuecomment-38005107",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9227",
    "id": 38005107,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MDA1MTA3",
    "user": {
      "login": "cmacknz",
      "id": 3466215,
      "node_id": "MDQ6VXNlcjM0NjYyMTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3466215?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cmacknz",
      "html_url": "https://github.com/cmacknz",
      "followers_url": "https://api.github.com/users/cmacknz/followers",
      "following_url": "https://api.github.com/users/cmacknz/following{/other_user}",
      "gists_url": "https://api.github.com/users/cmacknz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cmacknz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cmacknz/subscriptions",
      "organizations_url": "https://api.github.com/users/cmacknz/orgs",
      "repos_url": "https://api.github.com/users/cmacknz/repos",
      "events_url": "https://api.github.com/users/cmacknz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cmacknz/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-03-19T00:17:41Z",
    "updated_at": "2014-03-19T00:18:45Z",
    "body": "Good find, `p 'some_bool::nested::C'` does indeed work. At this point I'd say crate level static variables are working as they should from gdb. I may write a few more tests, but I don't expect any issues.\n\nI've now started looking into adding debug info for statics within functions, and am stuck trying track down the source of a segmentation fault that occurs after passing the scope metadata for a function level static into `llvm::LLVMDiBuilderCreateStaticVariable()`.\n\nIf you could take a look at the code below and see if you can spot anything it'd be appreciated, as attempting to build `rustc` from this with debug info enabled seems to trigger the segfault as well.\n\nhttps://github.com/gentlefolk/rust/commit/294d042f84f6228b304d7fd3e14e02e68e9a71eb#diff-97348589594fa57d1623a3da78753558R326\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38005107/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38102763",
    "html_url": "https://github.com/rust-lang/rust/issues/9227#issuecomment-38102763",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9227",
    "id": 38102763,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MTAyNzYz",
    "user": {
      "login": "michaelwoerister",
      "id": 1825894,
      "node_id": "MDQ6VXNlcjE4MjU4OTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1825894?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michaelwoerister",
      "html_url": "https://github.com/michaelwoerister",
      "followers_url": "https://api.github.com/users/michaelwoerister/followers",
      "following_url": "https://api.github.com/users/michaelwoerister/following{/other_user}",
      "gists_url": "https://api.github.com/users/michaelwoerister/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michaelwoerister/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michaelwoerister/subscriptions",
      "organizations_url": "https://api.github.com/users/michaelwoerister/orgs",
      "repos_url": "https://api.github.com/users/michaelwoerister/repos",
      "events_url": "https://api.github.com/users/michaelwoerister/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michaelwoerister/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-03-19T20:29:57Z",
    "updated_at": "2014-03-19T20:29:57Z",
    "body": "Sure, I'll take a look at it tomorrow.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38102763/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38191336",
    "html_url": "https://github.com/rust-lang/rust/issues/9227#issuecomment-38191336",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9227",
    "id": 38191336,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MTkxMzM2",
    "user": {
      "login": "michaelwoerister",
      "id": 1825894,
      "node_id": "MDQ6VXNlcjE4MjU4OTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1825894?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michaelwoerister",
      "html_url": "https://github.com/michaelwoerister",
      "followers_url": "https://api.github.com/users/michaelwoerister/followers",
      "following_url": "https://api.github.com/users/michaelwoerister/following{/other_user}",
      "gists_url": "https://api.github.com/users/michaelwoerister/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michaelwoerister/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michaelwoerister/subscriptions",
      "organizations_url": "https://api.github.com/users/michaelwoerister/orgs",
      "repos_url": "https://api.github.com/users/michaelwoerister/repos",
      "events_url": "https://api.github.com/users/michaelwoerister/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michaelwoerister/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-03-20T16:48:15Z",
    "updated_at": "2014-03-20T16:48:15Z",
    "body": "The FunctionContext you pass to `create_global_var_metadata()` does not reliable reflect whether the given static variable is indeed declared within a function or not. For example, `fcx` is not propagated by the `TransItemVisitor` used for generic functions and there is a code path through `consts::get_const_val()` which also always passes `None` to `consts::trans_const()`.\n\nHowever, that isn't the cause of the segfault. It seems that LLVM just doesn't fully support debuginfo for function static variables yet. In theory you do the right thing, but in practice the scope of a static variable mustn't be a lexical scope DIE. If you always assign the function DIE as scope for the static, the crash goes away.\n\nOf course we loose information this way. Clang does so too, at the moment:\n\n``` c\n#include<stdio.h>\nint main() {\n    static int X = 10;\n    {\n        static bool X = false;\n        printf(\"...\");\n    }\n    printf(\"...\");\n}\n```\n\nIf you compile this with clang 3.4 and break at the `printf()` statements (gdb or lldb) then `p X` will always show `X` to be `10`. The same code compiled with GCC shows X to be `false` in the first case and `10` in the second, as it should be.\n\nSo it seems we are out of luck with this, at the moment. My suggestion would be to file a bug report with LLVM and fall back to just always assigning function scope to statics for now. \n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38191336/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38369010",
    "html_url": "https://github.com/rust-lang/rust/issues/9227#issuecomment-38369010",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9227",
    "id": 38369010,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MzY5MDEw",
    "user": {
      "login": "cmacknz",
      "id": 3466215,
      "node_id": "MDQ6VXNlcjM0NjYyMTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3466215?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cmacknz",
      "html_url": "https://github.com/cmacknz",
      "followers_url": "https://api.github.com/users/cmacknz/followers",
      "following_url": "https://api.github.com/users/cmacknz/following{/other_user}",
      "gists_url": "https://api.github.com/users/cmacknz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cmacknz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cmacknz/subscriptions",
      "organizations_url": "https://api.github.com/users/cmacknz/orgs",
      "repos_url": "https://api.github.com/users/cmacknz/repos",
      "events_url": "https://api.github.com/users/cmacknz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cmacknz/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-03-23T00:14:51Z",
    "updated_at": "2014-03-23T00:14:51Z",
    "body": "Thanks, good find. I'll take a look at the LLVM bugzilla and if this isn't in there I'll file a new issue.\n\nSince getting function statics working looks like its going to take a fair chunk of work, I think I'd rather polish off what I have so far for crate level statics and capture what we've discovered for functions in another bug.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38369010/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38383161",
    "html_url": "https://github.com/rust-lang/rust/issues/9227#issuecomment-38383161",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9227",
    "id": 38383161,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MzgzMTYx",
    "user": {
      "login": "michaelwoerister",
      "id": 1825894,
      "node_id": "MDQ6VXNlcjE4MjU4OTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1825894?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michaelwoerister",
      "html_url": "https://github.com/michaelwoerister",
      "followers_url": "https://api.github.com/users/michaelwoerister/followers",
      "following_url": "https://api.github.com/users/michaelwoerister/following{/other_user}",
      "gists_url": "https://api.github.com/users/michaelwoerister/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michaelwoerister/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michaelwoerister/subscriptions",
      "organizations_url": "https://api.github.com/users/michaelwoerister/orgs",
      "repos_url": "https://api.github.com/users/michaelwoerister/repos",
      "events_url": "https://api.github.com/users/michaelwoerister/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michaelwoerister/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-03-23T13:59:23Z",
    "updated_at": "2014-03-23T13:59:23Z",
    "body": "Sounds like a plan `:)`\nThe work you've done so far is already very valueable on its own. Function statics are much less common anyway. \n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38383161/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
