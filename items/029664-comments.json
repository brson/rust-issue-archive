[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/154579453",
    "html_url": "https://github.com/rust-lang/rust/issues/29664#issuecomment-154579453",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29664",
    "id": 154579453,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1NDU3OTQ1Mw==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-11-06T23:47:54Z",
    "updated_at": "2015-11-06T23:47:54Z",
    "body": "Sample errors: https://travis-ci.org/danburkert/memmap-rs/jobs/89613721\n\n```\n     Running `./custom-rustc.sh /Users/travis/.cargo/registry/src/github.com-0a35038f75765ae4/kernel32-sys-0.1.4/build.rs --crate-name build_script_build --crate-type bin -g --out-dir /Users/travis/build/danburkert/memmap-rs/target/debug/build/kernel32-sys-62844336d3806e02 --emit=dep-info,link -L dependency=/Users/travis/build/danburkert/memmap-rs/target/debug/deps -L dependency=/Users/travis/build/danburkert/memmap-rs/target/debug/deps --extern build=/Users/travis/build/danburkert/memmap-rs/target/debug/deps/libbuild-304afb6bdff23d72.rlib --cap-lints allow`\n\nerror: linking with `cc` failed: exit code: 1\n\nerror: linking with `cc` failed: exit code: 1\n\nnote: \"cc\" \"-m64\" \"-L\" \"/Users/travis/rust/lib/rustlib/x86_64-apple-darwin/lib\" \"/Users/travis/build/danburkert/memmap-rs/target/debug/build/advapi32-sys-cfef7a1f30f1e5f6/build_script_build.0.o\" \"-o\" \"/Users/travis/build/danburkert/memmap-rs/target/debug/build/advapi32-sys-cfef7a1f30f1e5f6/build_script_build\" \"-Wl,-dead_strip\" \"-nodefaultlibs\" \"/Users/travis/build/danburkert/memmap-rs/target/debug/deps/libbuild-304afb6bdff23d72.rlib\" \"/Users/travis/rust/lib/rustlib/x86_64-apple-darwin/lib/libstd-35017696.rlib\" \"/Users/travis/rust/lib/rustlib/x86_64-apple-darwin/lib/libcollections-35017696.rlib\" \"/Users/travis/rust/lib/rustlib/x86_64-apple-darwin/lib/librustc_unicode-35017696.rlib\" \"/Users/travis/rust/lib/rustlib/x86_64-apple-darwin/lib/librand-35017696.rlib\" \"/Users/travis/rust/lib/rustlib/x86_64-apple-darwin/lib/liballoc-35017696.rlib\" \"/Users/travis/rust/lib/note: \"cc\" \"-m64\" \"-L\" \"/Users/travis/rust/lib/rustlib/x86_64-apple-darwin/lib\" \"/Users/travis/build/danburkert/memmap-rs/target/debug/build/kernel32-sys-62844336d3806e02/build_script_build.0.o\" \"-o\" \"/Users/travis/build/danburkert/memmap-rs/target/debug/build/kernel32-sys-62844336d3806e02/build_script_build\" \"-Wl,-dead_strip\" \"-nodefaultlibs\" \"/Users/travis/build/danburkert/memmap-rs/target/debug/deps/libbuild-304afb6bdff23d72.rlib\" \"/Users/travis/rust/lib/rustlib/x86_64-apple-darwin/lib/libstd-35017696.rlib\" \"/Users/travis/rust/lib/rustlib/x86_64-apple-darwin/lib/libcollections-35017696.rlib\" \"/Users/travis/rust/lib/rustlib/x86_64-apple-darwin/lib/librustc_unicode-35017696.rlib\" \"/Users/travis/rust/lib/rustlib/x86_64-apple-darwin/lib/librand-35017696.rlib\" \"/Users/travis/rust/lib/rustlib/x86_64-apple-darwin/lib/liballoc-35017696.rlib\" \"/Users/travis/rust/lib/rustlib/x86_64-apple-darwin/lirb/liballoc_jemalloc-35017696.rlib\" \"/Users/travis/rust/lib/rustlib/x86_64-apple-darwin/lib/liblibc-35017696.rlib\" \"/Users/travis/rust/lib/rustlib/x86_64-apple-darwin/lib/libcore-35017696.rlib\" \"-L\" \"/Users/travis/build/danburkert/memmap-rs/target/debug/deps\" \"-L\" \"/Users/travis/build/danburkert/memmap-rs/target/debug/deps\" \"-L\" \"/Users/travis/rust/lib/rustlib/x86_64-apple-darwin/lib\" \"-L\" \"/Users/travis/build/danburkert/memmap-rs/.rust/lib/x86_64-apple-darwin\" \"-L\" \"/Users/travis/build/danburkert/memmap-rs/lib/x86_64-apple-darwin\" \"-l\" \"System\" \"-l\" \"pthread\" \"-l\" \"c\" \"-l\" \"m\" \"-mios-simulator-version-min=7.0\" \"-l\" \"compiler-rt\"\n\nnote: ld: warning: directory not found for option '-L/Users/travis/build/danburkert/memmap-rs/.rust/lib/x86_64-apple-darwin'\n\nld: warning: dustlib/x86_64-apple-darwin/lib/liballoc_jemalloc-35017696.rlib\" \"/Users/travis/rust/lib/rustlib/x86_64-apple-darwin/lib/liblibc-35017696.rlib\" \"/Users/travis/rust/lib/rustlib/x86_64-apirectory not found for option '-L/Users/travis/build/danburkert/memmap-rs/lib/x86_64-apple-darwin'\n\nld: building for iOS Simulator, but linking against dylib built for MacOSX file '/usr/lib/libSystem.dylib' for architecture x86_64\n\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\n\nerror: aborting due to previous error\n\nple-darwin/lib/libcore-35017696.rlib\" \"-L\" \"/Users/travis/build/danburkert/memmap-rs/target/debug/deps\" \"-L\" \"/Users/travis/build/danburkert/memmap-rs/target/debug/deps\" \"-L\" \"/Users/travis/rust/lib/rustlib/x86_64-apple-darwin/lib\" \"-L\" \"/Users/travis/build/danburkert/memmap-rs/.rust/lib/x86_64-apple-darwin\" \"-L\" \"/Users/travis/build/danburkert/memmap-rs/lib/x86_64-apple-darwin\" \"-l\" \"System\" \"-l\" \"pthread\" \"-l\" \"c\" \"-l\" \"m\" \"-mBuild failed, waiting for other jobs to finish...\n\nios-simulator-version-min=7.0\" \"-l\" \"compiler-rt\"\n\nnote: ld: warning: directory not found for option '-L/Users/travis/build/danburkert/memmap-rs/.rust/lib/x86_64-apple-darwin'\n\nld: warning: directory not found for option '-L/Users/travis/build/danburkert/memmap-rs/lib/x86_64-apple-darwin'\n\nld: building for iOS Simulator, but linking against dylib built for MacOSX file '/usr/lib/libSystem.dylib' for architecture x86_64\n\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\n\nerror: aborting due to previous error\n\nCould not compile `kernel32-sys`.\n\nCaused by:\n\n  Process didn't exit successfully: `./custom-rustc.sh /Users/travis/.cargo/registry/src/github.com-0a35038f75765ae4/kernel32-sys-0.1.4/build.rs --crate-name build_script_build --crate-type bin -g --out-dir /Users/travis/build/danburkert/memmap-rs/target/debug/build/kernel32-sys-62844336d3806e02 --emit=dep-info,link -L dependency=/Users/travis/build/danburkert/memmap-rs/target/debug/deps -L dependency=/Users/travis/build/danburkert/memmap-rs/target/debug/deps --extern build=/Users/travis/build/danburkert/memmap-rs/target/debug/deps/libbuild-304afb6bdff23d72.rlib --cap-lints allow` (exit code: 101)\n```\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/154579453/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/154633060",
    "html_url": "https://github.com/rust-lang/rust/issues/29664#issuecomment-154633060",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29664",
    "id": 154633060,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1NDYzMzA2MA==",
    "user": {
      "login": "vhbit",
      "id": 140199,
      "node_id": "MDQ6VXNlcjE0MDE5OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/140199?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vhbit",
      "html_url": "https://github.com/vhbit",
      "followers_url": "https://api.github.com/users/vhbit/followers",
      "following_url": "https://api.github.com/users/vhbit/following{/other_user}",
      "gists_url": "https://api.github.com/users/vhbit/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vhbit/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vhbit/subscriptions",
      "organizations_url": "https://api.github.com/users/vhbit/orgs",
      "repos_url": "https://api.github.com/users/vhbit/repos",
      "events_url": "https://api.github.com/users/vhbit/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vhbit/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-11-07T06:02:51Z",
    "updated_at": "2015-11-07T06:02:51Z",
    "body": "@alexcrichton \n- version is minimum iOS version, i.e. 7.0 means it'll run on iOS 7+. For Rust stdlib it's safe to pass 7.0 as it uses almost none of Objective C APIs. And that should be true for most of crates. \n- I believe linkage fails only for `bin` targets. Since there is no way to run bare binary on Simulator (and on device without jailbreak) anyway maybe a quicker workaround is to disable `bin` targets at all for iOS.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/154633060/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/154635989",
    "html_url": "https://github.com/rust-lang/rust/issues/29664#issuecomment-154635989",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29664",
    "id": 154635989,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1NDYzNTk4OQ==",
    "user": {
      "login": "danburkert",
      "id": 160242,
      "node_id": "MDQ6VXNlcjE2MDI0Mg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/160242?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/danburkert",
      "html_url": "https://github.com/danburkert",
      "followers_url": "https://api.github.com/users/danburkert/followers",
      "following_url": "https://api.github.com/users/danburkert/following{/other_user}",
      "gists_url": "https://api.github.com/users/danburkert/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/danburkert/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/danburkert/subscriptions",
      "organizations_url": "https://api.github.com/users/danburkert/orgs",
      "repos_url": "https://api.github.com/users/danburkert/repos",
      "events_url": "https://api.github.com/users/danburkert/events{/privacy}",
      "received_events_url": "https://api.github.com/users/danburkert/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-11-07T06:25:32Z",
    "updated_at": "2015-11-07T06:25:32Z",
    "body": "Interesting, I wasn't aware that rust binaries can't run on ios.  What is the [libc test](https://github.com/rust-lang-nursery/libc/blob/master/ci/run.sh#L41-L43) doing, then?  I guess the best I can do for memmap in light of this is to just make sure it compiles.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/154635989/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/154766027",
    "html_url": "https://github.com/rust-lang/rust/issues/29664#issuecomment-154766027",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29664",
    "id": 154766027,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1NDc2NjAyNw==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-11-07T23:56:42Z",
    "updated_at": "2015-11-07T23:56:42Z",
    "body": "Hm yeah so for the i386/x86_64 iOS targets I do believe that generating a binary is possible (it's what liblibc is doing). In that sense it seems preferable to not forbid it?\n\nI'm mostly curious as well if we can \n\nA) not require passing this flag\nB) find an appropriate value for the compiler to pass automatically.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/154766027/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/154821397",
    "html_url": "https://github.com/rust-lang/rust/issues/29664#issuecomment-154821397",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29664",
    "id": 154821397,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1NDgyMTM5Nw==",
    "user": {
      "login": "vhbit",
      "id": 140199,
      "node_id": "MDQ6VXNlcjE0MDE5OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/140199?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vhbit",
      "html_url": "https://github.com/vhbit",
      "followers_url": "https://api.github.com/users/vhbit/followers",
      "following_url": "https://api.github.com/users/vhbit/following{/other_user}",
      "gists_url": "https://api.github.com/users/vhbit/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vhbit/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vhbit/subscriptions",
      "organizations_url": "https://api.github.com/users/vhbit/orgs",
      "repos_url": "https://api.github.com/users/vhbit/repos",
      "events_url": "https://api.github.com/users/vhbit/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vhbit/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-11-08T12:34:41Z",
    "updated_at": "2015-11-08T12:34:41Z",
    "body": "@danburkert,\n\n> I wasn't aware that rust binaries can't run on ios\n\nI'd reframe it a bit: there is no easy way to run binaries on simulator and/or on non-jailbroken device. It's \nnot related to Rust at all and while technically binary is completely valid nobody can actually use it.\n\nSee below.\n\n@alexcrichton \n\n> Hm yeah so for the i386/x86_64 iOS targets I do believe that generating a binary is possible \n\nYep, it's possible, but you can't use it anyway without a bit of manual interaction.\n\nAs far as I understood from logs this error happens during linking \"build\" script. Let's consider it succeeds - `cargo` still can't use it anyway as it doesn't know how to run that build script neither on jailbroken device nor simulator, so yep, the error will just move one step further - it'll fail on executing it, isn't it?\n\nSo the proper \"workaround\" is to disable building build script (sorry for tautology) at all, for example like this (in `.cargo/config`:\n\n```\n[target.i386-apple-ios.advapi32-sys]\nrustc-flags = \"\"\n```\n\nAnd maybe similar patches (for all ios targets) will be required for other win32 related crates which use build scripts.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/154821397/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/155124717",
    "html_url": "https://github.com/rust-lang/rust/issues/29664#issuecomment-155124717",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29664",
    "id": 155124717,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1NTEyNDcxNw==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-11-09T17:01:45Z",
    "updated_at": "2015-11-09T17:01:45Z",
    "body": "> Yep, it's possible, but you can't use it anyway without a bit of manual interaction.\n\nCould you clarify this? For the libc tests, we just run the binary that was generated (e.g. `./foo`) and it seems to be working just fine?\n\nThe relevant link error here is not for build script as those are always compiled for the host (although the logs here may have more errors) but rather for the binary itself (e.g. what's built from `cargo build`). \n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/155124717/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/155906976",
    "html_url": "https://github.com/rust-lang/rust/issues/29664#issuecomment-155906976",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29664",
    "id": 155906976,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1NTkwNjk3Ng==",
    "user": {
      "login": "vhbit",
      "id": 140199,
      "node_id": "MDQ6VXNlcjE0MDE5OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/140199?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vhbit",
      "html_url": "https://github.com/vhbit",
      "followers_url": "https://api.github.com/users/vhbit/followers",
      "following_url": "https://api.github.com/users/vhbit/following{/other_user}",
      "gists_url": "https://api.github.com/users/vhbit/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vhbit/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vhbit/subscriptions",
      "organizations_url": "https://api.github.com/users/vhbit/orgs",
      "repos_url": "https://api.github.com/users/vhbit/repos",
      "events_url": "https://api.github.com/users/vhbit/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vhbit/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-11-11T20:55:00Z",
    "updated_at": "2015-11-11T20:55:00Z",
    "body": "@alexcrichton,\n\n> Could you clarify this? For the libc tests, we just run the binary that was generated (e.g. ./foo) and it seems to be working just fine?\n\nTo be honest - it was a surprise for me, I believe it wasn't possible before or I didn't try hard enough earlier. \n\nI've created a test C app, tried to run - and failed. The primary reason was that it seems Xcode used to link against `UIKit` framework even though build logs haven't mentioned it at all. After a bit of wrangling I got rid of that dependency and after that was able to run app from terminal.\n\nStill is that even after linking to simulator libraries, here is the output of runing `otool -L sim-bin`:\n\n```\nsim-bin:\n    /System/Library/Frameworks/Foundation.framework/Foundation (compatibility version 300.0.0, current version 1241.14.0)\n    /usr/lib/libobjc.A.dylib (compatibility version 1.0.0, current version 228.0.0)\n    /usr/lib/libSystem.dylib (compatibility version 1.0.0, current version 1226.10.1)\n```\n\nAs a resume - yep, I was wrong, it is possible to run a binary if it doesn't link any UI-related frameworks. The question remains is if host system libraries (as I believe they'll be used without applying any magic) are functionally equal to simulator ones (quick check - binaries differ). They should, but there is still a room for an unexpected surprise.\n\n> The relevant link error here is not for build script as those are always compiled for the host \n\nHmm, log clearly says that it is build script or I'm looking to a wrong log: \n\n```\nCaused by:\n  Process didn't exit successfully: `./custom-rustc.sh /Users/travis/.cargo/registry/src/github.com-0a35038f75765ae4/kernel32-sys-0.1.4/build.rs \n--crate-name build_script_build --crate-type bin -g --out-dir /Users/travis/build/danburkert/memmap-rs/target/debug/build/kernel32-sys-62844336d3806e02 \n--emit=dep-info,link -L dependency=/Users/travis/build/danburkert/memmap-rs/target/debug/deps \n-L dependency=/Users/travis/build/danburkert/memmap-rs/target/debug/deps \n--extern build=/Users/travis/build/danburkert/memmap-rs/target/debug/deps/libbuild-304afb6bdff23d72.rlib --cap-lints allow` (exit code: 101)\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/155906976/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/155955954",
    "html_url": "https://github.com/rust-lang/rust/issues/29664#issuecomment-155955954",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29664",
    "id": 155955954,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1NTk1NTk1NA==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-11-12T00:23:58Z",
    "updated_at": "2015-11-12T00:23:58Z",
    "body": "If this isn't really supposed to work or only works by accident then I'm fine closing this out, it sounds like at the very least this is super non-standard!\n\nAh and by not for the build script I meant moreso that the travis logs linked here erroneously compiled the build script with the extra flags when in fact it should only have been passed to the final binary.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/155955954/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/285154589",
    "html_url": "https://github.com/rust-lang/rust/issues/29664#issuecomment-285154589",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29664",
    "id": 285154589,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NTE1NDU4OQ==",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-03-08T20:10:59Z",
    "updated_at": "2017-03-08T20:10:59Z",
    "body": "triage: libc still passing this flag today",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/285154589/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/330818123",
    "html_url": "https://github.com/rust-lang/rust/issues/29664#issuecomment-330818123",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29664",
    "id": 330818123,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMDgxODEyMw==",
    "user": {
      "login": "azolotko",
      "id": 110424,
      "node_id": "MDQ6VXNlcjExMDQyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/110424?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/azolotko",
      "html_url": "https://github.com/azolotko",
      "followers_url": "https://api.github.com/users/azolotko/followers",
      "following_url": "https://api.github.com/users/azolotko/following{/other_user}",
      "gists_url": "https://api.github.com/users/azolotko/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/azolotko/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/azolotko/subscriptions",
      "organizations_url": "https://api.github.com/users/azolotko/orgs",
      "repos_url": "https://api.github.com/users/azolotko/repos",
      "events_url": "https://api.github.com/users/azolotko/events{/privacy}",
      "received_events_url": "https://api.github.com/users/azolotko/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-09-20T10:59:59Z",
    "updated_at": "2017-09-20T11:00:58Z",
    "body": "Just to clarify, what's blocking this issue? What kind of decision needs to be made and by whom? Asking because a similar `-mios-version-min=7.0.0` flag needs to be passed to cross-compile to the `armv7-apple-ios` target. Otherwise, one gets the following error from the linker:\r\n\r\n`ld: library not found for -lcrt1.3.1.o` \r\n\r\nThis damages the out-of-box experience for cross-compilation users.\r\n\r\nThanks.",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/330818123/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/2065252846",
    "html_url": "https://github.com/rust-lang/rust/issues/29664#issuecomment-2065252846",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29664",
    "id": 2065252846,
    "node_id": "IC_kwDOAAsO6M57GUHu",
    "user": {
      "login": "madsmtm",
      "id": 10577181,
      "node_id": "MDQ6VXNlcjEwNTc3MTgx",
      "avatar_url": "https://avatars.githubusercontent.com/u/10577181?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/madsmtm",
      "html_url": "https://github.com/madsmtm",
      "followers_url": "https://api.github.com/users/madsmtm/followers",
      "following_url": "https://api.github.com/users/madsmtm/following{/other_user}",
      "gists_url": "https://api.github.com/users/madsmtm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/madsmtm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/madsmtm/subscriptions",
      "organizations_url": "https://api.github.com/users/madsmtm/orgs",
      "repos_url": "https://api.github.com/users/madsmtm/repos",
      "events_url": "https://api.github.com/users/madsmtm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/madsmtm/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2024-04-18T20:27:43Z",
    "updated_at": "2024-04-18T20:27:43Z",
    "body": "Triage: `libc` is no longer passing the flag as of https://github.com/rust-lang/libc/pull/1112, since they removed support for iOS Simulator in their CI.\r\n\r\nIt could probably be re-added though, `rustc` nowadays [passes the full target to LLVM including the deployment target](https://github.com/rust-lang/rust/blob/0e15f5ee8fb3f9edcb8a35b1cbd9f8d352be54a0/compiler/rustc_target/src/spec/base/apple/mod.rs#L338-L339) and [passes the correct platform version to the linker](https://github.com/rust-lang/rust/blob/0e15f5ee8fb3f9edcb8a35b1cbd9f8d352be54a0/compiler/rustc_target/src/spec/base/apple/mod.rs#L100-L121), so I believe this issue can now be closed.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/2065252846/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
