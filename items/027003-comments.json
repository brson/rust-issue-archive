[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/120792637",
    "html_url": "https://github.com/rust-lang/rust/pull/27003#issuecomment-120792637",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27003",
    "id": 120792637,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyMDc5MjYzNw==",
    "user": {
      "login": "rust-highfive",
      "id": 7378925,
      "node_id": "MDQ6VXNlcjczNzg5MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7378925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rust-highfive",
      "html_url": "https://github.com/rust-highfive",
      "followers_url": "https://api.github.com/users/rust-highfive/followers",
      "following_url": "https://api.github.com/users/rust-highfive/following{/other_user}",
      "gists_url": "https://api.github.com/users/rust-highfive/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rust-highfive/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rust-highfive/subscriptions",
      "organizations_url": "https://api.github.com/users/rust-highfive/orgs",
      "repos_url": "https://api.github.com/users/rust-highfive/repos",
      "events_url": "https://api.github.com/users/rust-highfive/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rust-highfive/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-13T02:57:46Z",
    "updated_at": "2015-07-13T02:57:46Z",
    "body": "Thanks for the pull request, and welcome! The Rust team is excited to review your changes, and you should hear from @alexcrichton (or someone else) soon.\n\nIf any changes to this PR are deemed necessary, please add them as extra commits. This ensures that the reviewer can see what has changed since they last reviewed the code. The way Github handles out-of-date commits, this should also make it reasonably obvious what issues have or haven't been addressed. Large or tricky changes may require several passes of review and changes.\n\nPlease see [the contribution instructions](https://github.com/rust-lang/rust/blob/master/CONTRIBUTING.md) for more information.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/120792637/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/120993258",
    "html_url": "https://github.com/rust-lang/rust/pull/27003#issuecomment-120993258",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27003",
    "id": 120993258,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyMDk5MzI1OA==",
    "user": {
      "login": "nagisa",
      "id": 679122,
      "node_id": "MDQ6VXNlcjY3OTEyMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/679122?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nagisa",
      "html_url": "https://github.com/nagisa",
      "followers_url": "https://api.github.com/users/nagisa/followers",
      "following_url": "https://api.github.com/users/nagisa/following{/other_user}",
      "gists_url": "https://api.github.com/users/nagisa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nagisa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nagisa/subscriptions",
      "organizations_url": "https://api.github.com/users/nagisa/orgs",
      "repos_url": "https://api.github.com/users/nagisa/repos",
      "events_url": "https://api.github.com/users/nagisa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nagisa/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-13T16:59:31Z",
    "updated_at": "2015-07-13T16:59:31Z",
    "body": "> The compiler executables (rustc and rustdoc) will be statically linked against the standard library and compiler crates. This is the default behaviour of Cargo. It also makes it easier to redistribute the compiler as there won't be any dylib dependencies of the executables, although it doesn't really make the distribution smaller (they have roughly the same size on release builds as I measured).\n\nI\u2019m not entirely sure about it, but AFAIR on most systems dynamic linking will also help OS to not load the same code for every running process. It would not be too surprising to see multiple instances of rustc running concurrently, hence increased resident memory usage.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/120993258/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/121083731",
    "html_url": "https://github.com/rust-lang/rust/pull/27003#issuecomment-121083731",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27003",
    "id": 121083731,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyMTA4MzczMQ==",
    "user": {
      "login": "cl91",
      "id": 3608694,
      "node_id": "MDQ6VXNlcjM2MDg2OTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3608694?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cl91",
      "html_url": "https://github.com/cl91",
      "followers_url": "https://api.github.com/users/cl91/followers",
      "following_url": "https://api.github.com/users/cl91/following{/other_user}",
      "gists_url": "https://api.github.com/users/cl91/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cl91/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cl91/subscriptions",
      "organizations_url": "https://api.github.com/users/cl91/orgs",
      "repos_url": "https://api.github.com/users/cl91/repos",
      "events_url": "https://api.github.com/users/cl91/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cl91/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-13T22:52:38Z",
    "updated_at": "2015-07-13T23:17:57Z",
    "body": "@nagisa Because the OS is loading the same `rustc` image, the text sections and rodata sections can be shared among the different instances of `rustc`. So there shouldn't be any difference (between static linking and dynamic linking) here.\n\nWhat dynamic linking gives you is the ability to share common libraries between `rustc` and `rustdoc`. Because we only have two binaries here and each takes about 40MB's when compiled with release profile you won't be able to save much really (and I'd expect `rustdoc` gets run less often than `rustc`).\n\nIncidentally this is also what LLVM does by default --- the build system will link the `llvm-mc` and friends statically against the LLVM libraries.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/121083731/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/121368315",
    "html_url": "https://github.com/rust-lang/rust/pull/27003#issuecomment-121368315",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27003",
    "id": 121368315,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyMTM2ODMxNQ==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-14T20:14:15Z",
    "updated_at": "2015-07-14T20:14:15Z",
    "body": "> Because the stage0 compiler is already a hosted compiler (instead of a freestanding one), there is no need to go through the staged api and compile a hosted stage0 compiler. Instead we will simply use nightly to compile the stage1 compiler and then use the stage1 compiler to compile the stage2 compiler.\n\nThere are concerns with ABI compatibility between stages that force our hand in compiling the compiler 3 times. I believe this will still need to compile 3 compilers even though we have a full nightly available. Basically architecturally the bootstrap needs to stay relatively the same to ensure that plugins work in stage2.\n\n> The compiler executables (rustc and rustdoc) will be statically linked against the standard library and compiler crates\n\nI have expected this in the past to break plugins, did the plugin tests run successfully for you?\n\n> For release builds, the compiler and standard crates are compiled with opt-level=3 and lto=true, to make them faster.\n\nCan we hold off on LTO for now?\n\n> Although the code is written in a way that should be able to handle MSVC, currently it won't work as Cargo cannot pass -C link-args=-DEF: to rustc.\n\nIt should be possible to pass this via `#![link_args]` I believe. You can generate a file via a build script which has this attribute and then `include!` it from the main source.\n\n> Therefore cross-bootstrapping needs a lot more testing than it currently has.\n\nYeah we use this daily for building nightlies so it'll need to be covered before we move off makefiles.\n\n> Pull rust-lang/cargo#1802 and recompile Cargo.\n\nI'll comment more over there, but I think that we'll not want to have to work around this, I expect the output of each stage to be in a separate location.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/121368315/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/121677828",
    "html_url": "https://github.com/rust-lang/rust/pull/27003#issuecomment-121677828",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27003",
    "id": 121677828,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyMTY3NzgyOA==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-15T16:53:52Z",
    "updated_at": "2015-07-15T16:53:52Z",
    "body": "Ok @brson and I had a chat about this yesterday, and the conclusion was somewhat indecisive. We agree that we probably want to eventually move in the direction of a Cargo-based build system in the future, but it's somewhat unclear how immediately we can do so. It'd be unfortunate to have to maintain two build systems, so once we land this we definitely want to have the makefiles basically immediately on their way out (assuming we have to have a small transitionary period at least).\n\nThere's also a pretty huge amount of logic in the makefiles which isn't currently duplicated into the python script, for example:\n- Testing a specific library at a specific stage (both unit tests and documentation)\n- Running just one of the compiletest suites of tests (also at a specific stage)\n- Multi-host and multi-target builds\n- Auto-downloading of a snapshot\u00a0(aka nightly)\n- Building just one specific library for a stage\n- Running documentation tests for markdown files\n- Almost all logic around `make dist` \n- Lots of platform-specific knowledge in `mk/cfg/*.mk`\n- Various corner cases like android tests and emulator business.\n\nThis is somewhat ok for a first pass, but it's unclear to what degree this should be dealt with before landing. Unfortunately @brson and I won't be able to spend a large amount of time on this in the immediate future, so this would have to be a mostly community-maintained build system for Rust in the near future. It'd be a shame for this to land, find a number of bugs, and then bitrot in-tree until we finally remove it as it's too broken.\n\nOverall we think we're willing to land this in-tree in a relatively conservative fashion, but we'd like to make sure that we're set to have a clear path forward with the implementation. We can help out with reviews for the time being but we won't be able to make major contributions until perhaps later this year.\n\nI think a great first step would be to identify any area that Cargo is lacking that needs to be improved perhaps before landing this in tree. I suspect that Cargo as-is right this red-hot-second may not be sufficient for all our build needs, but with a few tweaks I'm sure it can be! \n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/121677828/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/121752205",
    "html_url": "https://github.com/rust-lang/rust/pull/27003#issuecomment-121752205",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27003",
    "id": 121752205,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyMTc1MjIwNQ==",
    "user": {
      "login": "cl91",
      "id": 3608694,
      "node_id": "MDQ6VXNlcjM2MDg2OTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3608694?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cl91",
      "html_url": "https://github.com/cl91",
      "followers_url": "https://api.github.com/users/cl91/followers",
      "following_url": "https://api.github.com/users/cl91/following{/other_user}",
      "gists_url": "https://api.github.com/users/cl91/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cl91/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cl91/subscriptions",
      "organizations_url": "https://api.github.com/users/cl91/orgs",
      "repos_url": "https://api.github.com/users/cl91/repos",
      "events_url": "https://api.github.com/users/cl91/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cl91/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-15T21:19:02Z",
    "updated_at": "2015-07-15T21:19:02Z",
    "body": "@alexcrichton Yeah I definitely did hit a few bugs/limitations in Cargo when I was working on this. Some of them can be worked around but they should be addressed properly before merging this in tree. I'm going to close this for now.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/121752205/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/121786689",
    "html_url": "https://github.com/rust-lang/rust/pull/27003#issuecomment-121786689",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27003",
    "id": 121786689,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyMTc4NjY4OQ==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-16T00:18:31Z",
    "updated_at": "2015-07-16T00:18:31Z",
    "body": "Ok, I'd love to stay posted on this though, and feel free to ping me with any questions!\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/121786689/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/123734419",
    "html_url": "https://github.com/rust-lang/rust/pull/27003#issuecomment-123734419",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27003",
    "id": 123734419,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyMzczNDQxOQ==",
    "user": {
      "login": "cuzbog",
      "id": 7976283,
      "node_id": "MDQ6VXNlcjc5NzYyODM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7976283?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cuzbog",
      "html_url": "https://github.com/cuzbog",
      "followers_url": "https://api.github.com/users/cuzbog/followers",
      "following_url": "https://api.github.com/users/cuzbog/following{/other_user}",
      "gists_url": "https://api.github.com/users/cuzbog/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cuzbog/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cuzbog/subscriptions",
      "organizations_url": "https://api.github.com/users/cuzbog/orgs",
      "repos_url": "https://api.github.com/users/cuzbog/repos",
      "events_url": "https://api.github.com/users/cuzbog/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cuzbog/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-22T14:08:02Z",
    "updated_at": "2015-07-22T14:08:02Z",
    "body": "Would it be possible (presumingly after adding this cargo-based build system) to replace Makefiles with Ninja build files? \n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/123734419/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/136378617",
    "html_url": "https://github.com/rust-lang/rust/pull/27003#issuecomment-136378617",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27003",
    "id": 136378617,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzNjM3ODYxNw==",
    "user": {
      "login": "eddyb",
      "id": 77424,
      "node_id": "MDQ6VXNlcjc3NDI0",
      "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eddyb",
      "html_url": "https://github.com/eddyb",
      "followers_url": "https://api.github.com/users/eddyb/followers",
      "following_url": "https://api.github.com/users/eddyb/following{/other_user}",
      "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions",
      "organizations_url": "https://api.github.com/users/eddyb/orgs",
      "repos_url": "https://api.github.com/users/eddyb/repos",
      "events_url": "https://api.github.com/users/eddyb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eddyb/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-08-31T13:57:19Z",
    "updated_at": "2015-08-31T13:57:19Z",
    "body": "@boghison presumably, makefiles would be removed after such a change, and there would be no place for other build systems.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/136378617/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
