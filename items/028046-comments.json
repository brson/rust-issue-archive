[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/135530237",
    "html_url": "https://github.com/rust-lang/rust/issues/28046#issuecomment-135530237",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/28046",
    "id": 135530237,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzNTUzMDIzNw==",
    "user": {
      "login": "eefriedman",
      "id": 12769964,
      "node_id": "MDQ6VXNlcjEyNzY5OTY0",
      "avatar_url": "https://avatars.githubusercontent.com/u/12769964?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eefriedman",
      "html_url": "https://github.com/eefriedman",
      "followers_url": "https://api.github.com/users/eefriedman/followers",
      "following_url": "https://api.github.com/users/eefriedman/following{/other_user}",
      "gists_url": "https://api.github.com/users/eefriedman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eefriedman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eefriedman/subscriptions",
      "organizations_url": "https://api.github.com/users/eefriedman/orgs",
      "repos_url": "https://api.github.com/users/eefriedman/repos",
      "events_url": "https://api.github.com/users/eefriedman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eefriedman/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-08-27T19:28:59Z",
    "updated_at": "2015-08-27T19:28:59Z",
    "body": "Slightly simplified testcase:\n\n``` rust\nuse std::ops::Range;\n\npub trait Iter {\n    type Type: Iterator;\n}\n\npub struct S;\n\nimpl<'a> Iter for &'a S {\n    type Type = Range<usize>;\n} \n\nimpl S {\n    fn f<'a>(&'a self) -> Range<usize> where &'a S: Iter {\n        let x: <&'static S as Iter>::Type = 0usize..10;\n        x\n    }\n}\n\nfn main() {}\n```\n\nBasically, the compiler is getting confused by the where clause: it sees the bound on the implementation, and \"resolves\" the associated type based on that, rather than actually trying to look up the type.  The problem is that the bound is trivial: depending on it actually reduces the amount of information available, rather than increasing it.\n\nRelated to #27987, I think; CC @arielb1.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/135530237/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/135555837",
    "html_url": "https://github.com/rust-lang/rust/issues/28046#issuecomment-135555837",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/28046",
    "id": 135555837,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzNTU1NTgzNw==",
    "user": {
      "login": "arielb1",
      "id": 1830974,
      "node_id": "MDQ6VXNlcjE4MzA5NzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1830974?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/arielb1",
      "html_url": "https://github.com/arielb1",
      "followers_url": "https://api.github.com/users/arielb1/followers",
      "following_url": "https://api.github.com/users/arielb1/following{/other_user}",
      "gists_url": "https://api.github.com/users/arielb1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/arielb1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/arielb1/subscriptions",
      "organizations_url": "https://api.github.com/users/arielb1/orgs",
      "repos_url": "https://api.github.com/users/arielb1/repos",
      "events_url": "https://api.github.com/users/arielb1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/arielb1/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-08-27T21:10:39Z",
    "updated_at": "2015-08-27T21:11:01Z",
    "body": "This is one of the tentacles of #21974 - the only relation to #27987 is that we would have ignored the poisonous where-clause if its lifetime was `'static`. The issue can be fixed by just not specifying the where-clause:\n\n``` Rust\nuse std::ops::Range;\n\npub trait Iter {\n    type Type: Iterator;\n}\n\npub trait T {\n    fn f<'a>(&'a self) -> <&'a Self as Iter>::Type where &'a Self: Iter;\n}\n\npub struct S;\n\nimpl<'a> Iter for &'a S {\n    type Type = Range<usize>;\n} \n\nimpl T for S {\n    fn f<'a>(&'a self) -> <&'a Self as Iter>::Type\n            // need some (holding) bound on 'a to make it early-bound\n            where &'a (): Sized {\n        0usize..10\n    }\n}\n\nfn main() {}\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/135555837/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/135564239",
    "html_url": "https://github.com/rust-lang/rust/issues/28046#issuecomment-135564239",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/28046",
    "id": 135564239,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzNTU2NDIzOQ==",
    "user": {
      "login": "eefriedman",
      "id": 12769964,
      "node_id": "MDQ6VXNlcjEyNzY5OTY0",
      "avatar_url": "https://avatars.githubusercontent.com/u/12769964?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eefriedman",
      "html_url": "https://github.com/eefriedman",
      "followers_url": "https://api.github.com/users/eefriedman/followers",
      "following_url": "https://api.github.com/users/eefriedman/following{/other_user}",
      "gists_url": "https://api.github.com/users/eefriedman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eefriedman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eefriedman/subscriptions",
      "organizations_url": "https://api.github.com/users/eefriedman/orgs",
      "repos_url": "https://api.github.com/users/eefriedman/repos",
      "events_url": "https://api.github.com/users/eefriedman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eefriedman/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-08-27T21:43:23Z",
    "updated_at": "2015-08-27T21:43:23Z",
    "body": "Is there an existing bug report about the `where &'a (): Sized` thing?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/135564239/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/136041521",
    "html_url": "https://github.com/rust-lang/rust/issues/28046#issuecomment-136041521",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/28046",
    "id": 136041521,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzNjA0MTUyMQ==",
    "user": {
      "login": "arielb1",
      "id": 1830974,
      "node_id": "MDQ6VXNlcjE4MzA5NzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1830974?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/arielb1",
      "html_url": "https://github.com/arielb1",
      "followers_url": "https://api.github.com/users/arielb1/followers",
      "following_url": "https://api.github.com/users/arielb1/following{/other_user}",
      "gists_url": "https://api.github.com/users/arielb1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/arielb1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/arielb1/subscriptions",
      "organizations_url": "https://api.github.com/users/arielb1/orgs",
      "repos_url": "https://api.github.com/users/arielb1/repos",
      "events_url": "https://api.github.com/users/arielb1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/arielb1/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-08-29T20:14:39Z",
    "updated_at": "2015-08-29T20:15:33Z",
    "body": "@eefriedman \n\nIt's not a bug, just a less-than-optimally-documented feature (early-bound vs. late-bound regions). See my comment at [enum Region](https://github.com/rust-lang/rust/blob/master/src/librustc/middle/ty.rs#L1505) and the links referenced therein. Its the same reason you can't write\n\n``` Rust\nfn foo<'a>(){}\nfn main() {\n    foo::<'static>() //~ ERROR too many lifetime parameters provided\n}\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/136041521/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/136048602",
    "html_url": "https://github.com/rust-lang/rust/issues/28046#issuecomment-136048602",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/28046",
    "id": 136048602,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzNjA0ODYwMg==",
    "user": {
      "login": "eefriedman",
      "id": 12769964,
      "node_id": "MDQ6VXNlcjEyNzY5OTY0",
      "avatar_url": "https://avatars.githubusercontent.com/u/12769964?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eefriedman",
      "html_url": "https://github.com/eefriedman",
      "followers_url": "https://api.github.com/users/eefriedman/followers",
      "following_url": "https://api.github.com/users/eefriedman/following{/other_user}",
      "gists_url": "https://api.github.com/users/eefriedman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eefriedman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eefriedman/subscriptions",
      "organizations_url": "https://api.github.com/users/eefriedman/orgs",
      "repos_url": "https://api.github.com/users/eefriedman/repos",
      "events_url": "https://api.github.com/users/eefriedman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eefriedman/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-08-29T20:46:11Z",
    "updated_at": "2015-08-29T20:46:11Z",
    "body": "Ah, right... we need to decide somehow whether the lifetime is part of the function type.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/136048602/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/285423444",
    "html_url": "https://github.com/rust-lang/rust/issues/28046#issuecomment-285423444",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/28046",
    "id": 285423444,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NTQyMzQ0NA==",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-03-09T17:37:43Z",
    "updated_at": "2017-03-09T17:37:43Z",
    "body": "Current error:\r\n\r\n```\r\n\r\n\r\nrustc 1.15.1 (021bd294c 2017-02-08)\r\nerror[E0308]: mismatched types\r\n  --> <anon>:19:9\r\n   |\r\n19 |         0usize..10\r\n   |         ----------\r\n   |         |\r\n   |         expected associated type, found struct `std::ops::Range`\r\n   |         in this macro invocation\r\n   |\r\n   = note: expected type `<&'a S as Iter>::Type`\r\n   = note:    found type `std::ops::Range<usize>`\r\n\r\nerror: aborting due to previous error\r\n\r\n```",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/285423444/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/589081943",
    "html_url": "https://github.com/rust-lang/rust/issues/28046#issuecomment-589081943",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/28046",
    "id": 589081943,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4OTA4MTk0Mw==",
    "user": {
      "login": "bstrie",
      "id": 865233,
      "node_id": "MDQ6VXNlcjg2NTIzMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/865233?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bstrie",
      "html_url": "https://github.com/bstrie",
      "followers_url": "https://api.github.com/users/bstrie/followers",
      "following_url": "https://api.github.com/users/bstrie/following{/other_user}",
      "gists_url": "https://api.github.com/users/bstrie/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bstrie/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bstrie/subscriptions",
      "organizations_url": "https://api.github.com/users/bstrie/orgs",
      "repos_url": "https://api.github.com/users/bstrie/repos",
      "events_url": "https://api.github.com/users/bstrie/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bstrie/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-02-20T14:36:23Z",
    "updated_at": "2020-02-20T14:36:40Z",
    "body": "Triage: no change as of Rust 1.41:\r\n```\r\nerror[E0308]: mismatched types\r\n  --> src/main.rs:19:9\r\n   |\r\n18 |     fn f<'a>(&'a self) -> <&'a Self as Iter>::Type where &'a Self: Iter {\r\n   |                           ------------------------ expected `<&'a S as Iter>::Type` because of return type\r\n19 |         0usize..10\r\n   |         ^^^^^^^^^^ expected associated type, found struct `std::ops::Range`\r\n   |\r\n   = note: expected associated type `<&'a S as Iter>::Type`\r\n                       found struct `std::ops::Range<usize>`\r\n   = note: consider constraining the associated type `<&'a S as Iter>::Type` to `std::ops::Range<usize>` or calling a method that returns `<&'a S as Iter>::Type`\r\n   = note: for more information, visit https://doc.rust-lang.org/book/ch19-03-advanced-traits.html\r\n```",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/589081943/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
