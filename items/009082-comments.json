[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/51055974",
    "html_url": "https://github.com/rust-lang/rust/issues/9082#issuecomment-51055974",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9082",
    "id": 51055974,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxMDU1OTc0",
    "user": {
      "login": "eddyb",
      "id": 77424,
      "node_id": "MDQ6VXNlcjc3NDI0",
      "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eddyb",
      "html_url": "https://github.com/eddyb",
      "followers_url": "https://api.github.com/users/eddyb/followers",
      "following_url": "https://api.github.com/users/eddyb/following{/other_user}",
      "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions",
      "organizations_url": "https://api.github.com/users/eddyb/orgs",
      "repos_url": "https://api.github.com/users/eddyb/repos",
      "events_url": "https://api.github.com/users/eddyb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eddyb/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-04T12:58:08Z",
    "updated_at": "2014-08-04T12:58:30Z",
    "body": "The reason this happens is because you're iterating over `&X`, and all references are `Clone`-able.\n\nWhile `Clone` takes `&self`, that doesn't stop autoref from turning `&X` into `&&X` for the `clone` call on it, and you end up with an iterator over the same references, which `.collect()` can't collect to a `Vec<X>`, only a `Vec<&X>`.\n\nAdding the trait bound makes the method call resolve to the `Clone` implementation of `X`, before attempting autoref - this is an issue specific to `Clone`, because it takes `&self` and is implemented by all `&T`.\n\nUpdated testcase:\n\n``` rust\n#![allow(unused_imports)]\n\nuse std::collections::hashmap::{HashSet, SetItems};\nuse std::hash::Hash;\n\n#[cfg(not(illustrate_poor_error_msg), not(illustrate_fine_error_msg))]\nfn iter_to_vec<'a, 'b, X:Clone>(i: SetItems<'b, X>) -> Vec<X> {\n    //                  ^~~~~~\n    //                  missing clone is the only difference\n    let i = i.map(|x| x.clone());\n    //                  ^~~~~~\n    //                  Here is the call to clone\n    let mut i = i;\n    i.collect()\n}\n\n#[cfg(illustrate_poor_error_msg)]\nfn iter_to_vec<'a, 'b, X      >(i: SetItems<'b, X>) -> Vec<X> {\n    //                  ^~~~~~\n    //                  missing clone is the only difference\n    let i = i.map(|x| x.clone());\n    //                  ^~~~~~\n    //                  Here is the call to clone\n    let mut i = i;\n    i.collect()\n}\n\n#[cfg(illustrate_fine_error_msg)]\nfn iter_to_vec<'a, 'b, X      >(i: SetItems<'b, X>) -> Vec<X> {\n    //                  ^~~~~~\n    //                  missing clone is the only difference\n    let i = i.map(|x| x.enolc());\n    //                  ^~~~~~\n    //                  Here is a call to something other than clone\n    let mut i = i;\n    i.collect()\n}\n\n#[cfg(illustrate_original_poor_error_msg)]\nfn set_to_vec<X:Eq+Hash      >(s: &HashSet<X>) -> Vec<X> {\n    //                 ^~~~~~\n    //                 missing clone is the only difference\n    let i = s.iter();\n    let mut i = i.map(|x| x.clone());\n    i.collect()\n}\n\n#[cfg(not(illustrate_original_poor_error_msg))]\nfn set_to_vec<X:Eq+Hash+Clone>(s: &HashSet<X>) -> Vec<X> {\n    //                 ^~~~~~\n    //                 (the aforementioned clone)\n    let i = s.iter();\n    let mut i = i.map(|x| x.clone());\n    i.collect()\n}\n\nfn main() {\n    let mut s = HashSet::new();\n    s.insert(1i);\n    s.insert(100);\n    s.insert(10211201);\n    println!(\"{}\", set_to_vec(&s));\n}\n```\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/51055974/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/112247146",
    "html_url": "https://github.com/rust-lang/rust/issues/9082#issuecomment-112247146",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9082",
    "id": 112247146,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExMjI0NzE0Ng==",
    "user": {
      "login": "eefriedman",
      "id": 12769964,
      "node_id": "MDQ6VXNlcjEyNzY5OTY0",
      "avatar_url": "https://avatars.githubusercontent.com/u/12769964?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eefriedman",
      "html_url": "https://github.com/eefriedman",
      "followers_url": "https://api.github.com/users/eefriedman/followers",
      "following_url": "https://api.github.com/users/eefriedman/following{/other_user}",
      "gists_url": "https://api.github.com/users/eefriedman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eefriedman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eefriedman/subscriptions",
      "organizations_url": "https://api.github.com/users/eefriedman/orgs",
      "repos_url": "https://api.github.com/users/eefriedman/repos",
      "events_url": "https://api.github.com/users/eefriedman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eefriedman/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-06-16T00:55:32Z",
    "updated_at": "2015-06-16T00:55:32Z",
    "body": "Updated testcase:\n\n``` rust\nuse std::collections::hash_set::Iter;\nuse std::collections::HashSet;\n\nfn iter_to_vec<'b, X>(i: Iter<'b, X>) -> Vec<X> {\n    let i = i.map(|x| x.clone());\n    i.collect()\n}\n\nfn main() {\n    let mut s = HashSet::new();\n    s.insert(1u8);\n    println!(\"{:?}\", iter_to_vec(s.iter()));\n}\n```\n\nCurrently gives:\n\n```\n<anon>:6:7: 6:16 error: the trait `core::iter::FromIterator<&X>` is not implemented for the type `collections::vec::Vec<X>` [E0277]\n<anon>:6     i.collect()\n               ^~~~~~~~~\n<anon>:6:7: 6:16 note: a collection of type `collections::vec::Vec<X>` cannot be built from an iterator over elements of type `&X`\n<anon>:6     i.collect()\n               ^~~~~~~~~\n```\n\nNot sure it's possible to do much better than that given the current semantics of Rust.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/112247146/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/270218872",
    "html_url": "https://github.com/rust-lang/rust/issues/9082#issuecomment-270218872",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9082",
    "id": 270218872,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MDIxODg3Mg==",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-01-03T20:41:35Z",
    "updated_at": "2017-01-03T20:41:35Z",
    "body": "Triage: no change with @eefriedman 's example",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/270218872/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/331244671",
    "html_url": "https://github.com/rust-lang/rust/issues/9082#issuecomment-331244671",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9082",
    "id": 331244671,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMTI0NDY3MQ==",
    "user": {
      "login": "estebank",
      "id": 1606434,
      "node_id": "MDQ6VXNlcjE2MDY0MzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/estebank",
      "html_url": "https://github.com/estebank",
      "followers_url": "https://api.github.com/users/estebank/followers",
      "following_url": "https://api.github.com/users/estebank/following{/other_user}",
      "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/estebank/subscriptions",
      "organizations_url": "https://api.github.com/users/estebank/orgs",
      "repos_url": "https://api.github.com/users/estebank/repos",
      "events_url": "https://api.github.com/users/estebank/events{/privacy}",
      "received_events_url": "https://api.github.com/users/estebank/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-09-21T18:37:44Z",
    "updated_at": "2017-09-21T18:37:44Z",
    "body": "Current output, no change other than update to \"new style\" diagnostics:\r\n\r\n```\r\nerror[E0277]: the trait bound `std::vec::Vec<X>: std::iter::FromIterator<&X>` is not satisfied\r\n --> src/main.rs:6:7\r\n  |\r\n6 |     i.collect()\r\n  |       ^^^^^^^ a collection of type `std::vec::Vec<X>` cannot be built from an iterator over elements of type `&X`\r\n  |\r\n  = help: the trait `std::iter::FromIterator<&X>` is not implemented for `std::vec::Vec<X>`\r\n```\r\n\r\n---\r\n\r\nThe diagnostic should check for possible trait implementations for the current struct/enum that would be acceptable _when ignoring the trait bounds_, and suggest a note about this:\r\n\r\n```\r\nerror[E0277]: the trait bound `std::vec::Vec<X>: std::iter::FromIterator<&X>` is not satisfied\r\n --> src/main.rs:6:7\r\n  |\r\n6 |     i.collect()\r\n  |       ^^^^^^^ a collection of type `std::vec::Vec<X>` cannot be built from an iterator over elements of type `&X`\r\n  |\r\n  = help: the trait `std::iter::FromIterator<&X>` is not implemented for `std::vec::Vec<X>`\r\n  = note: the trait `std::iter::FromIterator<&X>` is implemented for `std::vec::Vec<X>` for the following unsatisfied trait bounds:\r\n          - `X: Clone`\r\n```",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/331244671/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/430002227",
    "html_url": "https://github.com/rust-lang/rust/issues/9082#issuecomment-430002227",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9082",
    "id": 430002227,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMDAwMjIyNw==",
    "user": {
      "login": "estebank",
      "id": 1606434,
      "node_id": "MDQ6VXNlcjE2MDY0MzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/estebank",
      "html_url": "https://github.com/estebank",
      "followers_url": "https://api.github.com/users/estebank/followers",
      "following_url": "https://api.github.com/users/estebank/following{/other_user}",
      "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/estebank/subscriptions",
      "organizations_url": "https://api.github.com/users/estebank/orgs",
      "repos_url": "https://api.github.com/users/estebank/repos",
      "events_url": "https://api.github.com/users/estebank/events{/privacy}",
      "received_events_url": "https://api.github.com/users/estebank/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-10-15T20:31:31Z",
    "updated_at": "2018-10-15T20:31:31Z",
    "body": "[Current output](https://play.rust-lang.org/?version=nightly&mode=debug&edition=2015&gist=7046f8c536a597e56330891f604c67c3), no real change:\r\n\r\n```\r\nerror[E0277]: a collection of type `std::vec::Vec<X>` cannot be built from an iterator over elements of type `&X`\r\n --> src/main.rs:6:7\r\n  |\r\n6 |     i.collect()\r\n  |       ^^^^^^^ a collection of type `std::vec::Vec<X>` cannot be built from `std::iter::Iterator<Item=&X>`\r\n  |\r\n  = help: the trait `std::iter::FromIterator<&X>` is not implemented for `std::vec::Vec<X>`\r\n```",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/430002227/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/456361643",
    "html_url": "https://github.com/rust-lang/rust/issues/9082#issuecomment-456361643",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9082",
    "id": 456361643,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NjM2MTY0Mw==",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2019-01-22T11:09:48Z",
    "updated_at": "2019-01-22T11:09:59Z",
    "body": "From my point of view, the reason this case is confusing is because of method autoref being willing to turn the `&X` into `&&X` for the `clone` call, and then it says \"yes `&X` implements `Clone`\" and things proceed.\r\n\r\nIn other words, I think the spot where my mental model diverged from the compiler is along the lines of what @eddyb [described here](https://github.com/rust-lang/rust/issues/9082#issuecomment-51055974); this is different than what @estebank [described later](https://github.com/rust-lang/rust/issues/9082#issuecomment-331244671), because (if I understand correctly) in that latter case according to the compiler's internal model, the `clone` would still be happening on the `&X`, and we would only be trying to make the resulting `Iterator<Item=&X>` be able to be collected into a `Vec<X>`, which was not the original intent of the code I wrote.\r\n\r\nSince autoref is special magic built into the language, it might be helpful to users if diagnostics generated by the method search system also consider what method candidates would arise if you filtered out the candidates only available due to trait implementations on `&T` or `&mut T`...\r\n\r\nIn other words, I suspect our method search mechanism when analyzing the call to `x.clone()`, it ties that to the first working candidate it finds: the `impl Clone for &T`. But maybe it would be possible for it to build up a broader list of candidates to be suggested solely when it encounters an error, and that broader list could keep looking even after it finds that `impl Clone for &T` (since that was available solely due to autoref)...",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/456361643/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/459295525",
    "html_url": "https://github.com/rust-lang/rust/issues/9082#issuecomment-459295525",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9082",
    "id": 459295525,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1OTI5NTUyNQ==",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2019-01-31T10:31:59Z",
    "updated_at": "2019-01-31T10:33:30Z",
    "body": "cc #48677, #34896",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/459295525/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/582180610",
    "html_url": "https://github.com/rust-lang/rust/issues/9082#issuecomment-582180610",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9082",
    "id": 582180610,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4MjE4MDYxMA==",
    "user": {
      "login": "estebank",
      "id": 1606434,
      "node_id": "MDQ6VXNlcjE2MDY0MzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/estebank",
      "html_url": "https://github.com/estebank",
      "followers_url": "https://api.github.com/users/estebank/followers",
      "following_url": "https://api.github.com/users/estebank/following{/other_user}",
      "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/estebank/subscriptions",
      "organizations_url": "https://api.github.com/users/estebank/orgs",
      "repos_url": "https://api.github.com/users/estebank/repos",
      "events_url": "https://api.github.com/users/estebank/events{/privacy}",
      "received_events_url": "https://api.github.com/users/estebank/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-02-05T00:18:14Z",
    "updated_at": "2020-02-05T00:18:14Z",
    "body": "Triage: no change.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/582180610/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/873942860",
    "html_url": "https://github.com/rust-lang/rust/issues/9082#issuecomment-873942860",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9082",
    "id": 873942860,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3Mzk0Mjg2MA==",
    "user": {
      "login": "rylev",
      "id": 1327285,
      "node_id": "MDQ6VXNlcjEzMjcyODU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1327285?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rylev",
      "html_url": "https://github.com/rylev",
      "followers_url": "https://api.github.com/users/rylev/followers",
      "following_url": "https://api.github.com/users/rylev/following{/other_user}",
      "gists_url": "https://api.github.com/users/rylev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rylev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rylev/subscriptions",
      "organizations_url": "https://api.github.com/users/rylev/orgs",
      "repos_url": "https://api.github.com/users/rylev/repos",
      "events_url": "https://api.github.com/users/rylev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rylev/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2021-07-05T09:07:10Z",
    "updated_at": "2021-07-05T09:28:23Z",
    "body": "Triage: no change. \r\n\r\nI was expecting this example to trip the [`noop_method_call`](https://doc.rust-lang.org/rustc/lints/listing/allowed-by-default.html#noop-method-call) lint, but unfortunately [it does not](https://play.rust-lang.org/?version=nightly&mode=debug&edition=2015&gist=3f1b1cf35dc01042a2bb7d54c3dd0aa8), because we can't lint when the type *might* implement clone. ",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/873942860/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1211984159",
    "html_url": "https://github.com/rust-lang/rust/issues/9082#issuecomment-1211984159",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9082",
    "id": 1211984159,
    "node_id": "IC_kwDOAAsO6M5IPWkf",
    "user": {
      "login": "TimJentzsch",
      "id": 13908946,
      "node_id": "MDQ6VXNlcjEzOTA4OTQ2",
      "avatar_url": "https://avatars.githubusercontent.com/u/13908946?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TimJentzsch",
      "html_url": "https://github.com/TimJentzsch",
      "followers_url": "https://api.github.com/users/TimJentzsch/followers",
      "following_url": "https://api.github.com/users/TimJentzsch/following{/other_user}",
      "gists_url": "https://api.github.com/users/TimJentzsch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TimJentzsch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TimJentzsch/subscriptions",
      "organizations_url": "https://api.github.com/users/TimJentzsch/orgs",
      "repos_url": "https://api.github.com/users/TimJentzsch/repos",
      "events_url": "https://api.github.com/users/TimJentzsch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TimJentzsch/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2022-08-11T13:23:17Z",
    "updated_at": "2022-08-11T14:00:08Z",
    "body": "Current output: no real change with `1.65.0-nightly (2022-08-10 29e4a9ee0253cd39e552)`:\r\n\r\n```\r\nerror[[E0277]](https://doc.rust-lang.org/nightly/error-index.html#E0277): a value of type `Vec<X>` cannot be built from an iterator over elements of type `&X`\r\n --> src/main.rs:6:7\r\n  |\r\n6 |     i.collect()\r\n  |       ^^^^^^^ value of type `Vec<X>` cannot be built from `std::iter::Iterator<Item=&X>`\r\n  |\r\n  = help: the trait `FromIterator<&X>` is not implemented for `Vec<X>`\r\n  = help: the trait `FromIterator<T>` is implemented for `Vec<T>`\r\nnote: required by a bound in `collect`\r\n\r\nFor more information about this error, try `rustc --explain E0277`.\r\n```",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1211984159/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1350245005",
    "html_url": "https://github.com/rust-lang/rust/issues/9082#issuecomment-1350245005",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9082",
    "id": 1350245005,
    "node_id": "IC_kwDOAAsO6M5QexqN",
    "user": {
      "login": "estebank",
      "id": 1606434,
      "node_id": "MDQ6VXNlcjE2MDY0MzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/estebank",
      "html_url": "https://github.com/estebank",
      "followers_url": "https://api.github.com/users/estebank/followers",
      "following_url": "https://api.github.com/users/estebank/following{/other_user}",
      "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/estebank/subscriptions",
      "organizations_url": "https://api.github.com/users/estebank/orgs",
      "repos_url": "https://api.github.com/users/estebank/repos",
      "events_url": "https://api.github.com/users/estebank/events{/privacy}",
      "received_events_url": "https://api.github.com/users/estebank/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2022-12-14T02:03:08Z",
    "updated_at": "2022-12-14T02:03:51Z",
    "body": "Current output:\r\n\r\n```\r\nerror[E0277]: a value of type `Vec<X>` cannot be built from an iterator over elements of type `&X`\r\n    --> f54.rs:9:7\r\n     |\r\n9    |     i.collect()\r\n     |       ^^^^^^^ value of type `Vec<X>` cannot be built from `std::iter::Iterator<Item=&X>`\r\n     |\r\n     = help: the trait `FromIterator<&X>` is not implemented for `Vec<X>`\r\n     = help: the trait `FromIterator<T>` is implemented for `Vec<T>`\r\nnote: the method call chain might not have had the expected associated types\r\n    --> f54.rs:7:15\r\n     |\r\n7    |     let i = s.iter();\r\n     |             - ^^^^^^ `Iterator::Item` is `&X` here\r\n     |             |\r\n     |             this expression has type `&HashSet<X>`\r\n8    |     let mut i = i.map(|x| x.clone());\r\n     |                   ------------------ `Iterator::Item` remains `&X` here\r\nnote: required by a bound in `collect`\r\n    --> /Users/ekuber/workspace/rust/library/core/src/iter/traits/iterator.rs:1832:19\r\n     |\r\n1832 |     fn collect<B: FromIterator<Self::Item>>(self) -> B\r\n     |                   ^^^^^^^^^^^^^^^^^^^^^^^^ required by this bound in `Iterator::collect`\r\n```\r\n\r\nWe now provide a fighting chance of realizing that the `x.clone()` call isn't really changing anything.\r\n\r\nThe only outstanding thing would be to suggest constraining `X: Clone`, which I fear might have to be special cased.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1350245005/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1762377764",
    "html_url": "https://github.com/rust-lang/rust/issues/9082#issuecomment-1762377764",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9082",
    "id": 1762377764,
    "node_id": "IC_kwDOAAsO6M5pC8Ak",
    "user": {
      "login": "estebank",
      "id": 1606434,
      "node_id": "MDQ6VXNlcjE2MDY0MzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/estebank",
      "html_url": "https://github.com/estebank",
      "followers_url": "https://api.github.com/users/estebank/followers",
      "following_url": "https://api.github.com/users/estebank/following{/other_user}",
      "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/estebank/subscriptions",
      "organizations_url": "https://api.github.com/users/estebank/orgs",
      "repos_url": "https://api.github.com/users/estebank/repos",
      "events_url": "https://api.github.com/users/estebank/events{/privacy}",
      "received_events_url": "https://api.github.com/users/estebank/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2023-10-13T23:37:27Z",
    "updated_at": "2023-10-13T23:57:28Z",
    "body": "[Current output](https://play.rust-lang.org/?version=nightly&mode=debug&edition=2015&gist=c59e3bc69d9c429a59e80c76c3ed33e8):\r\n\r\n```\r\nerror[E0277]: a value of type `Vec<X>` cannot be built from an iterator over elements of type `&X`\r\n    --> f76.rs:6:7\r\n     |\r\n6    |     i.collect()\r\n     |       ^^^^^^^ value of type `Vec<X>` cannot be built from `std::iter::Iterator<Item=&X>`\r\n     |\r\n     = help: the trait `FromIterator<&X>` is not implemented for `Vec<X>`\r\n     = help: the trait `FromIterator<X>` is implemented for `Vec<X>`\r\n     = help: for that trait implementation, expected `X`, found `&X`\r\nnote: the method call chain might not have had the expected associated types\r\n    --> f76.rs:4:26\r\n     |\r\n4    | fn iter_to_vec<'b, X>(i: Iter<'b, X>) -> Vec<X> {\r\n     |                          ^^^^^^^^^^^ `Iterator::Item` is `&X` here\r\n5    |     let i = i.map(|x| x.clone());\r\n     |               ------------------ `Iterator::Item` remains `&X` here\r\nnote: required by a bound in `collect`\r\n    --> /home/gh-estebank/rust/library/core/src/iter/traits/iterator.rs:2049:19\r\n     |\r\n2049 |     fn collect<B: FromIterator<Self::Item>>(self) -> B\r\n     |                   ^^^^^^^^^^^^^^^^^^^^^^^^ required by this bound in `Iterator::collect`\r\n```\r\n\r\nStill missing the `X: Clone` suggestion, although for [the more idiomatic case of using `.cloned()` instead of `.map(|i| i.clone())`](https://play.rust-lang.org/?version=nightly&mode=debug&edition=2015&gist=b6831f2c98a5f21d248fab85695aaafd), we do:\r\n\r\n```\r\nerror[E0277]: the trait bound `X: Clone` is not satisfied\r\n    --> f76.rs:6:15\r\n     |\r\n6    |     let i = i.cloned();\r\n     |               ^^^^^^ the trait `Clone` is not implemented for `X`\r\n     |\r\nnote: required by a bound in `cloned`\r\n    --> /home/gh-estebank/rust/library/core/src/iter/traits/iterator.rs:3519:12\r\n     |\r\n3516 |     fn cloned<'a, T: 'a>(self) -> Cloned<Self>\r\n     |        ------ required by a bound in this associated function\r\n...\r\n3519 |         T: Clone,\r\n     |            ^^^^^ required by this bound in `Iterator::cloned`\r\nhelp: consider restricting type parameter `X`\r\n     |\r\n4    | fn iter_to_vec<'b, X: std::clone::Clone>(i: Iter<'b, X>) -> Vec<X> {\r\n     |                     +++++++++++++++++++\r\n\r\nerror[E0599]: `Cloned<std::collections::hash_set::Iter<'_, X>>` is not an iterator\r\n  --> f76.rs:7:7\r\n   |\r\n7  |     i.collect()\r\n   |       ^^^^^^^ `Cloned<std::collections::hash_set::Iter<'_, X>>` is not an iterator\r\n   |\r\n  ::: /home/gh-estebank/rust/library/core/src/iter/adapters/cloned.rs:17:1\r\n   |\r\n17 | pub struct Cloned<I> {\r\n   | -------------------- doesn't satisfy `_: Iterator`\r\n   |\r\n   = note: the following trait bounds were not satisfied:\r\n           `Cloned<std::collections::hash_set::Iter<'_, X>>: Iterator`\r\n           which is required by `&mut Cloned<std::collections::hash_set::Iter<'_, X>>: Iterator`\r\n```",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1762377764/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
