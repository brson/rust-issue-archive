[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/22466987",
    "html_url": "https://github.com/rust-lang/rust/pull/8458#issuecomment-22466987",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8458",
    "id": 22466987,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyNDY2OTg3",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-08-11T22:40:48Z",
    "updated_at": "2013-08-11T22:40:48Z",
    "body": "The code that configures the compiletest driver to run the benchmarks is https://github.com/cmr/rust/blob/2272fa28b29c588068a05580afd800fb77a027ff/mk/tests.mk#L505\n\nThese variables are plugged into this macro: https://github.com/cmr/rust/blob/2272fa28b29c588068a05580afd800fb77a027ff/mk/tests.mk#L505\n\nThis says to run all the .rs files in `src/test/bench`, but now the benchmarks are no longer in that directory. The compiletest driver accepts a single `--src-base` argument and runs files in that directory (if it descended into subdirectories then it would end up trying to run some non-test files under `test/run-pass/*/`).\n\nThere are probably three ways to make this work: 1) teach compiletest to accept multilpe `src-base`es, then adjust `tests.mk` to support that; 2) split the benchmark test runs into `bench`, `bench-rt`, `bench-shootout`, etc., add the appropriate new configs to `tests.mk`; 3) teach compiletest to descend into subdirectories to find tests, `xfail` all the non-tests that would be discovered under this scheme.\n\nMy preference is 1, but it's also the hardest. I don't like 3 that much because it will create even more 'xfail-test not a test'-type comments.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/22466987/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/22470155",
    "html_url": "https://github.com/rust-lang/rust/pull/8458#issuecomment-22470155",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8458",
    "id": 22470155,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyNDcwMTU1",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-08-12T02:06:49Z",
    "updated_at": "2013-08-12T02:06:49Z",
    "body": "@brson I'll take a shot at compiletest in the morning. thanks!\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/22470155/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/22513393",
    "html_url": "https://github.com/rust-lang/rust/pull/8458#issuecomment-22513393",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8458",
    "id": 22513393,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyNTEzMzkz",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-08-12T18:15:34Z",
    "updated_at": "2013-08-12T18:15:34Z",
    "body": "@brson So the compiletest bits are done, but I can't figure out what to do to the makefile.\n\nI pushed my attempt, but it outputs:\n\n`x86_64-unknown-linux-gnu/stage1/bin/compiletest --compile-lib-path x86_64-unknown-linux-gnu/stage1/lib --run-lib-path x86_64-unknown-linux-gnu/stage1/lib/rustc/x86_64-unknown-linux-gnu/lib --rustc-path x86_64-unknown-linux-gnu/stage1/bin/rustc --clang-path /usr/bin/clang++ --llvm-bin-path /home/cmr/hacking/rust/build/llvm/x86_64-unknown-linux-gnu/Release+Asserts/bin --aux-base /home/cmr/hacking/rust/src/test/auxiliary/ --stage-id stage1-x86_64-unknown-linux-gnu --target x86_64-unknown-linux-gnu --adb-path=/usr/bin/adb --adb-test-dir= --rustcflags \"  -O  --target=x86_64-unknown-linux-gnu\"  --verbose  --src-base /home/cmr/hacking/rust/src/test/bench bench/rt bench/shootout bench/std/ --build-base x86_64-unknown-linux-gnu/test/bench/ --ratchet-metrics tmp/check-stage1-T-x86_64-unknown-linux-gnu-H-x86_64-unknown-linux-gnu-bench-metrics.json --mode run-pass  --logfile tmp/check-stage1-T-x86_64-unknown-linux-gnu-H-x86_64-unknown-linux-gnu-bench.log && touch tmp/check-stage1-T-x86_64-unknown-linux-gnu-H-x86_64-unknown-linux-gnu-bench.ok`\n\nWhich, as you can see, has the wrong src-base except for the first one. I don't really know make at all.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/22513393/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/22786950",
    "html_url": "https://github.com/rust-lang/rust/pull/8458#issuecomment-22786950",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8458",
    "id": 22786950,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyNzg2OTUw",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-08-16T19:03:49Z",
    "updated_at": "2013-08-16T19:03:49Z",
    "body": "@cmr: here's a diff against your patch:\n\n```\n-               $(foreach base,$$(CTEST_SRC_BASE_$(4)), \\\n-               --src-base $$(S)src/test/$(base))/ \\\n+        $$(foreach base,$$(CTEST_SRC_BASE_$(4)), \\\n+          --src-base $$(S)src/test/$$(base))/ \\\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/22786950/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23050556",
    "html_url": "https://github.com/rust-lang/rust/pull/8458#issuecomment-23050556",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8458",
    "id": 23050556,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzMDUwNTU2",
    "user": {
      "login": "catamorphism",
      "id": 427212,
      "node_id": "MDQ6VXNlcjQyNzIxMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/427212?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/catamorphism",
      "html_url": "https://github.com/catamorphism",
      "followers_url": "https://api.github.com/users/catamorphism/followers",
      "following_url": "https://api.github.com/users/catamorphism/following{/other_user}",
      "gists_url": "https://api.github.com/users/catamorphism/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/catamorphism/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/catamorphism/subscriptions",
      "organizations_url": "https://api.github.com/users/catamorphism/orgs",
      "repos_url": "https://api.github.com/users/catamorphism/repos",
      "events_url": "https://api.github.com/users/catamorphism/events{/privacy}",
      "received_events_url": "https://api.github.com/users/catamorphism/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-08-21T21:09:57Z",
    "updated_at": "2013-08-21T21:09:57Z",
    "body": "@cmr: Needs a rebase.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23050556/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23456079",
    "html_url": "https://github.com/rust-lang/rust/pull/8458#issuecomment-23456079",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8458",
    "id": 23456079,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzNDU2MDc5",
    "user": {
      "login": "catamorphism",
      "id": 427212,
      "node_id": "MDQ6VXNlcjQyNzIxMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/427212?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/catamorphism",
      "html_url": "https://github.com/catamorphism",
      "followers_url": "https://api.github.com/users/catamorphism/followers",
      "following_url": "https://api.github.com/users/catamorphism/following{/other_user}",
      "gists_url": "https://api.github.com/users/catamorphism/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/catamorphism/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/catamorphism/subscriptions",
      "organizations_url": "https://api.github.com/users/catamorphism/orgs",
      "repos_url": "https://api.github.com/users/catamorphism/repos",
      "events_url": "https://api.github.com/users/catamorphism/events{/privacy}",
      "received_events_url": "https://api.github.com/users/catamorphism/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-08-28T23:13:09Z",
    "updated_at": "2013-08-28T23:13:09Z",
    "body": "One of the pretty printer tests segfaulted -- could this be a stack size issue?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23456079/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23462163",
    "html_url": "https://github.com/rust-lang/rust/pull/8458#issuecomment-23462163",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8458",
    "id": 23462163,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzNDYyMTYz",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-08-29T01:58:37Z",
    "updated_at": "2013-08-29T01:58:37Z",
    "body": "That's odd, it's the second case of segfaulting during pretty printing:\n\nhttp://buildbot.rust-lang.org/builders/auto-mac-64-nopt-t/builds/256/steps/test/logs/stdio\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23462163/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23462197",
    "html_url": "https://github.com/rust-lang/rust/pull/8458#issuecomment-23462197",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8458",
    "id": 23462197,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzNDYyMTk3",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-08-29T01:59:38Z",
    "updated_at": "2013-08-29T01:59:38Z",
    "body": "Seems there might be some latent OS X issues?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23462197/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23462211",
    "html_url": "https://github.com/rust-lang/rust/pull/8458#issuecomment-23462211",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8458",
    "id": 23462211,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzNDYyMjEx",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-08-29T02:00:01Z",
    "updated_at": "2013-08-29T02:00:01Z",
    "body": "(I've seen more than 2 segfaults there in the day, fwiw.)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23462211/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
