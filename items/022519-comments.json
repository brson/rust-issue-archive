[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/89190642",
    "html_url": "https://github.com/rust-lang/rust/issues/22519#issuecomment-89190642",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/22519",
    "id": 89190642,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg5MTkwNjQy",
    "user": {
      "login": "nrc",
      "id": 762626,
      "node_id": "MDQ6VXNlcjc2MjYyNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/762626?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nrc",
      "html_url": "https://github.com/nrc",
      "followers_url": "https://api.github.com/users/nrc/followers",
      "following_url": "https://api.github.com/users/nrc/following{/other_user}",
      "gists_url": "https://api.github.com/users/nrc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nrc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nrc/subscriptions",
      "organizations_url": "https://api.github.com/users/nrc/orgs",
      "repos_url": "https://api.github.com/users/nrc/repos",
      "events_url": "https://api.github.com/users/nrc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nrc/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-03T06:42:55Z",
    "updated_at": "2015-04-03T06:42:55Z",
    "body": "This also addresses the annoying behaviour that inside `impl T for C { ... }`, `Self::Foo` and `<Self as T>::Foo` are valid (assuming `T` has an associated type called `Foo`), but `<Self>::Foo` is not.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/89190642/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/89238243",
    "html_url": "https://github.com/rust-lang/rust/issues/22519#issuecomment-89238243",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/22519",
    "id": 89238243,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg5MjM4MjQz",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-03T09:47:02Z",
    "updated_at": "2015-04-03T09:47:02Z",
    "body": "cc me\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/89238243/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/101901867",
    "html_url": "https://github.com/rust-lang/rust/issues/22519#issuecomment-101901867",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/22519",
    "id": 101901867,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwMTkwMTg2Nw==",
    "user": {
      "login": "quantheory",
      "id": 1740206,
      "node_id": "MDQ6VXNlcjE3NDAyMDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1740206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/quantheory",
      "html_url": "https://github.com/quantheory",
      "followers_url": "https://api.github.com/users/quantheory/followers",
      "following_url": "https://api.github.com/users/quantheory/following{/other_user}",
      "gists_url": "https://api.github.com/users/quantheory/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/quantheory/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/quantheory/subscriptions",
      "organizations_url": "https://api.github.com/users/quantheory/orgs",
      "repos_url": "https://api.github.com/users/quantheory/repos",
      "events_url": "https://api.github.com/users/quantheory/events{/privacy}",
      "received_events_url": "https://api.github.com/users/quantheory/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-14T03:55:03Z",
    "updated_at": "2015-05-14T03:55:13Z",
    "body": "Unless someone else has a serious head start, I'm going to take a crack at this.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/101901867/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/102055939",
    "html_url": "https://github.com/rust-lang/rust/issues/22519#issuecomment-102055939",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/22519",
    "id": 102055939,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwMjA1NTkzOQ==",
    "user": {
      "login": "eddyb",
      "id": 77424,
      "node_id": "MDQ6VXNlcjc3NDI0",
      "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eddyb",
      "html_url": "https://github.com/eddyb",
      "followers_url": "https://api.github.com/users/eddyb/followers",
      "following_url": "https://api.github.com/users/eddyb/following{/other_user}",
      "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions",
      "organizations_url": "https://api.github.com/users/eddyb/orgs",
      "repos_url": "https://api.github.com/users/eddyb/repos",
      "events_url": "https://api.github.com/users/eddyb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eddyb/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-14T14:39:42Z",
    "updated_at": "2015-05-14T14:39:42Z",
    "body": "@quantheory Not that I know of. I couldn't implement this initially because @nikomatsakis hadn't merged #22172 and #22512 at the time.\nYou probably want to record traits in scope via resolve (like we do with method call expressions) and maybe generalize the method lookup logic.\nI would love to see all associated items dealt with in a common manner (even though some are types and others are values) with some special cases for method calls and their autoref/deref semantics.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/102055939/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/102151914",
    "html_url": "https://github.com/rust-lang/rust/issues/22519#issuecomment-102151914",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/22519",
    "id": 102151914,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwMjE1MTkxNA==",
    "user": {
      "login": "quantheory",
      "id": 1740206,
      "node_id": "MDQ6VXNlcjE3NDAyMDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1740206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/quantheory",
      "html_url": "https://github.com/quantheory",
      "followers_url": "https://api.github.com/users/quantheory/followers",
      "following_url": "https://api.github.com/users/quantheory/following{/other_user}",
      "gists_url": "https://api.github.com/users/quantheory/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/quantheory/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/quantheory/subscriptions",
      "organizations_url": "https://api.github.com/users/quantheory/orgs",
      "repos_url": "https://api.github.com/users/quantheory/repos",
      "events_url": "https://api.github.com/users/quantheory/events{/privacy}",
      "received_events_url": "https://api.github.com/users/quantheory/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-14T20:03:07Z",
    "updated_at": "2015-05-14T20:03:07Z",
    "body": "@eddyb That makes sense. What I've done so far is to separate out the resolution parts of `rustc_typeck::check::method`, particularly `resolve_ufcs`, most of `probe`, and the types that they depend on, into a new `rustc_typeck::resolve` module (all names subject to change, of course). Then I removed all the direct dependencies of that module on `check` by having `FnCtxt` implement a `ResolveCtxt` trait, in the hope that I can write a separate impl for `collect` to solve the problem.\n\nI'm not entirely done with that step, though, since I still have some things in `probe` that are no good for the `collect` phase, like using the `ty::lookup_*` functions to get information about items that won't have been written to `tcx` at that point.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/102151914/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/102163019",
    "html_url": "https://github.com/rust-lang/rust/issues/22519#issuecomment-102163019",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/22519",
    "id": 102163019,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwMjE2MzAxOQ==",
    "user": {
      "login": "eddyb",
      "id": 77424,
      "node_id": "MDQ6VXNlcjc3NDI0",
      "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eddyb",
      "html_url": "https://github.com/eddyb",
      "followers_url": "https://api.github.com/users/eddyb/followers",
      "following_url": "https://api.github.com/users/eddyb/following{/other_user}",
      "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions",
      "organizations_url": "https://api.github.com/users/eddyb/orgs",
      "repos_url": "https://api.github.com/users/eddyb/repos",
      "events_url": "https://api.github.com/users/eddyb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eddyb/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-14T20:39:11Z",
    "updated_at": "2015-05-14T20:39:11Z",
    "body": "@quantheory You might end up moving this to `rustc::middle::traits` so that `const_eval` can use it. Alternatively, `const_eval` could be moved to `rustc_typeck`, but `rustc_trans` calls into it - I believe that could be avoided, but it's more work.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/102163019/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/106173212",
    "html_url": "https://github.com/rust-lang/rust/issues/22519#issuecomment-106173212",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/22519",
    "id": 106173212,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNjE3MzIxMg==",
    "user": {
      "login": "quantheory",
      "id": 1740206,
      "node_id": "MDQ6VXNlcjE3NDAyMDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1740206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/quantheory",
      "html_url": "https://github.com/quantheory",
      "followers_url": "https://api.github.com/users/quantheory/followers",
      "following_url": "https://api.github.com/users/quantheory/following{/other_user}",
      "gists_url": "https://api.github.com/users/quantheory/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/quantheory/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/quantheory/subscriptions",
      "organizations_url": "https://api.github.com/users/quantheory/orgs",
      "repos_url": "https://api.github.com/users/quantheory/repos",
      "events_url": "https://api.github.com/users/quantheory/events{/privacy}",
      "received_events_url": "https://api.github.com/users/quantheory/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-28T05:04:26Z",
    "updated_at": "2015-05-28T05:06:02Z",
    "body": "I'm still trying to figure this out, but it is a bit slow and difficult. I figured that I'd document things here in case anyone had any bright ideas. Instead of inventing a `ResolveCtxt`, I've extended `AstConv`, because the two ended up being so closely associated that the distinction didn't seem to buy much.\n\nThe main difficulties are:\n1. Because `probe` was designed to run after `collect`, moving it up to `collect` in a naive way ends up producing a pretty ridiculous number of spurious cycles.\n   \n   The biggest problem is that it assumes that all the predicates on every trait are converted. For example, currently, `trait_map` contains all of the traits that contain any item that might match a given expression. `probe` unconditionally searches all predicates of all of these traits (and predicates on all of their associated types), for relevant information. This really needs to be toned down, but it does require a bit of surgery to try to selectively convert predicates.\n   \n   Another issue is that even if there is an inherent impl match, the various \"assemble_*\" methods run to search for trait impls anyway. Cycles found during such a search are (probably) irrelevant, because an inherent impl was already found.\n2. Quite a bit of the `collect` and `AstConv` logic needs to be enhanced with the ability to deal with hypothetical assumptions that are useful for probing. For example, take the `IntoIterator` definition:\n   \n   ``` rust\n   pub trait IntoIterator {\n       /// The type of the elements being iterated\n       #[stable(feature = \"rust1\", since = \"1.0.0\")]\n       type Item;\n   \n       /// A container for iterating over elements of type `Item`\n       #[stable(feature = \"rust1\", since = \"1.0.0\")]\n       type IntoIter: Iterator<Item=Self::Item>;\n   \n       /// Consumes `Self` and returns an iterator over it\n       #[stable(feature = \"rust1\", since = \"1.0.0\")]\n       fn into_iter(self) -> Self::IntoIter;\n   }\n   ```\n   \n   Converting `IntoIter` requires resolution of `Self::Item` to a particular trait. Due to the way that `probe` works, it ends up looking at every trait in scope that has an item named `Item`, including `IntoIterator` itself, and requests all of their predicates. As mentioned before, this is probably excessive in many cases. But in this case, it is (probably) correct to check predicates in `IntoIterator` itself at some point. For instance, we would probably want to produce an error if `Item` was given a circular default such as:\n   \n   ``` rust\n       type Item = <Self::IntoIter as Iterator>::Item;\n   ```\n   \n   But if we convert _all_ of the associated type bounds in `IntoIterator`, that includes the one on `IntoIter`, which requires resolving `Self::Item` again, which is a spurious cycle.\n   \n   I'm thinking that we need some way to either a) avoid converting predicates that are not relevant during probing (which I'm trying to figure out how to determine, at least heuristically), or b) have the probe be able to act as if we had already resolved `Self::Item` to `<Self as IntoIterator>::Item`, so that there are no spurious cycles (beyond what's already produced if the trait is specified).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/106173212/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/270177286",
    "html_url": "https://github.com/rust-lang/rust/issues/22519#issuecomment-270177286",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/22519",
    "id": 270177286,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MDE3NzI4Ng==",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-01-03T17:54:05Z",
    "updated_at": "2017-01-03T17:54:05Z",
    "body": "Triage: this ticket is deep in the weeds of compiler internals; I'm not sure if it's still relevant or not.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/270177286/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/270181960",
    "html_url": "https://github.com/rust-lang/rust/issues/22519#issuecomment-270181960",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/22519",
    "id": 270181960,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MDE4MTk2MA==",
    "user": {
      "login": "eddyb",
      "id": 77424,
      "node_id": "MDQ6VXNlcjc3NDI0",
      "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eddyb",
      "html_url": "https://github.com/eddyb",
      "followers_url": "https://api.github.com/users/eddyb/followers",
      "following_url": "https://api.github.com/users/eddyb/following{/other_user}",
      "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions",
      "organizations_url": "https://api.github.com/users/eddyb/orgs",
      "repos_url": "https://api.github.com/users/eddyb/repos",
      "events_url": "https://api.github.com/users/eddyb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eddyb/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-01-03T18:12:24Z",
    "updated_at": "2017-01-03T18:12:24Z",
    "body": "Still is entirely relevant.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/270181960/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/471641243",
    "html_url": "https://github.com/rust-lang/rust/issues/22519#issuecomment-471641243",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/22519",
    "id": 471641243,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3MTY0MTI0Mw==",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2019-03-11T17:31:01Z",
    "updated_at": "2019-03-11T17:31:01Z",
    "body": "Triage: not aware of changes, guessing like last time it's still relevant",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/471641243/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/601981454",
    "html_url": "https://github.com/rust-lang/rust/issues/22519#issuecomment-601981454",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/22519",
    "id": 601981454,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwMTk4MTQ1NA==",
    "user": {
      "login": "eddyb",
      "id": 77424,
      "node_id": "MDQ6VXNlcjc3NDI0",
      "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eddyb",
      "html_url": "https://github.com/eddyb",
      "followers_url": "https://api.github.com/users/eddyb/followers",
      "following_url": "https://api.github.com/users/eddyb/following{/other_user}",
      "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions",
      "organizations_url": "https://api.github.com/users/eddyb/orgs",
      "repos_url": "https://api.github.com/users/eddyb/repos",
      "events_url": "https://api.github.com/users/eddyb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eddyb/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-03-21T02:34:16Z",
    "updated_at": "2020-03-21T02:34:16Z",
    "body": "I am not sure which issue is the canonical one for `T::X::Y::Z`, but I found this one.\r\n\r\n@nikomatsakis So I was thinking about the lazy normalization approach and what you'd need to encode in the typesystem. To handle everything supported today, this would work:\r\n* `self_ty: Ty` (`T` in `T::X` aka `<T>::X`)\r\n* `assoc_name: Ident` (`X` in `T::X`)\r\n* `scope: DefId` (the definition with a `T: Trait` bound in its `ParamEnv`)\r\n\r\nBut to extend this to take into account traits in scope (via `use` imports) as well, in order to resolve types that don't resolve today, we need to be able to represent scopes *inside* bodies, e.g.:\r\n\r\n```rust\r\nfn foo() {\r\n    {\r\n        use std::ops::Deref;\r\n        <&i32>::Target::default();\r\n    }\r\n}\r\n```\r\n\r\nWhile `scope: HirId` might work in a pinch, it's not as useful cross-crate.\r\n\r\n*However*, there is something that might be even simpler to work with: an *interned* scope chain.\r\n```rust\r\nstruct TraitsInScope<'tcx> {\r\n    parent: &'tcx TraitsInScope<'tcx>,\r\n    traits: StableVec<DefId>,\r\n}\r\n```\r\n\r\nSo then the `scope` could be `(&'tcx TraitsInScope<'tcx>, DefId)`, and that should work nicely cross-crate as well.\r\n\r\n(We have `traits_in_scope` today for associated `fn`/`const` resolution, but it doesn't use chaining so it has many copies of the same trait list, I wonder if a scope chain would be leaner/faster)",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/601981454/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
