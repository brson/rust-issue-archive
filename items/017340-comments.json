[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/55886230",
    "html_url": "https://github.com/rust-lang/rust/issues/17340#issuecomment-55886230",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/17340",
    "id": 55886230,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1ODg2MjMw",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-09-17T12:30:54Z",
    "updated_at": "2014-09-17T12:30:54Z",
    "body": "What's the difference between `chars` and `graphemes`? Such a unicode newbie :frowning: \n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/55886230/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/55887684",
    "html_url": "https://github.com/rust-lang/rust/issues/17340#issuecomment-55887684",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/17340",
    "id": 55887684,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1ODg3Njg0",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-09-17T12:45:07Z",
    "updated_at": "2014-09-17T12:45:07Z",
    "body": "There's 3 basic levels of unicode (and its encodings):\n- code units, the underlying data type used to store everything\n- code points/unicode scalar values (`char`)\n- graphemes (visible characters)\n\nFor UTF-8, like Rust's strings, the code units are bytes (`u8`), the other two are independent of the encoding format. Code points are the letters and combining characters, and graphemes are sequences of codepoints that make up a single visible entity. [E.g.](http://eeemo.net/) consider:\n\n> u\u0354n\u030e\u0348\u0330i\u0319\u032e\u035a\u0326c\u0309\u035ao\u0357\u033c\u0329\u0330d\u0306\u0343\u0365\u0354e\u0301\n\nIt is 45 bytes in UTF8, 26 codepoints but only 7 visible characters. The full breakdown is:\n\n```\nbytes             45: [117, 205, 148, 110, 204, 142, 205, 136, 204, 176, 105, 204, 153, 204, 174, 205, 154, 204, 166, 99, 204, 137, 205, 154, 111, 205, 151, 204, 188, 204, 169, 204, 176, 100, 204, 134, 205, 131, 205, 165, 205, 148, 101, 204, 129]\ncode points/chars 26: [u, \u0354, n, \u030e, \u0348, \u0330, i, \u0319, \u032e, \u035a, \u0326, c, \u0309, \u035a, o, \u0357, \u033c, \u0329, \u0330, d, \u0306, \u0343, \u0365, \u0354, e, \u0301]\ngraphemes         7: [u\u0354, n\u030e\u0348\u0330, i\u0319\u032e\u035a\u0326, c\u0309\u035a, o\u0357\u033c\u0329\u0330, d\u0306\u0343\u0365\u0354, e\u0301]\n```\n\n[playpen](http://play.rust-lang.org/?run=1&code=static%20TEXT%3A%20%26%27static%20str%20%3D%20%22u%CD%94n%CC%8E%CD%88%CC%B0i%CC%99%CC%AE%CD%9A%CC%A6c%CC%89%CD%9Ao%CD%97%CC%BC%CC%A9%CC%B0d%CC%86%CD%83%CD%A5%CD%94e%CC%81%22%3B%0A%0Afn%20main%28%29%20{%0A%20%20%20%20println!%28%22bytes%20%20%20%20%20%20%20%20%20%20%20%20%20{}%3A%20{}%22%2C%20TEXT.bytes%28%29.count%28%29%2C%20TEXT.bytes%28%29.collect%3A%3A%3CVec%3Cu8%3E%3E%28%29%29%3B%0A%20%20%20%20println!%28%22code%20points%2Fchars%20{}%3A%20{}%22%2C%20TEXT.chars%28%29.count%28%29%2C%20TEXT.chars%28%29.collect%3A%3A%3CVec%3Cchar%3E%3E%28%29%29%3B%0A%20%20%20%20println!%28%22graphemes%20%20%20%20%20%20%20%20%20{}%3A%20{}%22%2C%20TEXT.graphemes%28true%29.count%28%29%2C%20TEXT.graphemes%28true%29.collect%3A%3A%3CVec%3C%26str%3E%3E%28%29%29%3B%0A})\n\nThat is, each little diacritic/combining character is its own codepoint, but sequences of them are rendered together as a single visible unit. (NB. they aren't always separated, there are some precombined characters like `\u00e4` which can be either one (U+00E4) or two codepoints (U+0061 U+0308).)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/55887684/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/55887876",
    "html_url": "https://github.com/rust-lang/rust/issues/17340#issuecomment-55887876",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/17340",
    "id": 55887876,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1ODg3ODc2",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-09-17T12:46:55Z",
    "updated_at": "2014-09-17T12:46:55Z",
    "body": "Ahhh gotcha. When would you prefer `chars` over `graphemes`? Or is it just that I mentioned two out of the three?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/55887876/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/55889183",
    "html_url": "https://github.com/rust-lang/rust/issues/17340#issuecomment-55889183",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/17340",
    "id": 55889183,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1ODg5MTgz",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-09-17T12:58:47Z",
    "updated_at": "2014-09-17T12:58:47Z",
    "body": "If possible, text should be treated as a black box chunk of memory that can only be read/written (not iteration) and reencoded (almost always `chars`, but preferably a library would do this for you). It's hard to handle arbitrary text semantically accurately, even just splitting words is hard/impossible.\n\nObviously it isn't always always possible to avoid, e.g. an application may wish to be converting textual source code into machine code (but who would do that in Rust anyway? ;P ), in which case it's whatever makes sense for what it's doing.\n\nThat compiler example probably wants `char`s (since the input is very structured); text editors and text rendering libraries would want to be handling graphemes on some levels and code points on others.\n\nBut yes, it's mainly that you mentioned only 2 of 3.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/55889183/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
