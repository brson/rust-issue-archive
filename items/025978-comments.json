[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/108240547",
    "html_url": "https://github.com/rust-lang/rust/issues/25978#issuecomment-108240547",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25978",
    "id": 108240547,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwODI0MDU0Nw==",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-06-03T08:14:44Z",
    "updated_at": "2015-06-03T08:14:44Z",
    "body": "I believe google analytics is running on rust-lang.org (and blog.r-l.o)?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/108240547/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/108474486",
    "html_url": "https://github.com/rust-lang/rust/issues/25978#issuecomment-108474486",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25978",
    "id": 108474486,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwODQ3NDQ4Ng==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-06-03T15:05:55Z",
    "updated_at": "2015-06-03T15:05:55Z",
    "body": "We've got analytics set up for rust-lang.org, blog.rust-lang.org, and crates.io, but that doesn't track the download information I believe because that's all routed through S3. We could count clicks on the main page to the artifacts, but I suspect those are far lower than direct downloads (e.g. through multirust).\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/108474486/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/108525601",
    "html_url": "https://github.com/rust-lang/rust/issues/25978#issuecomment-108525601",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25978",
    "id": 108525601,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwODUyNTYwMQ==",
    "user": {
      "login": "edunham",
      "id": 812892,
      "node_id": "MDQ6VXNlcjgxMjg5Mg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/812892?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/edunham",
      "html_url": "https://github.com/edunham",
      "followers_url": "https://api.github.com/users/edunham/followers",
      "following_url": "https://api.github.com/users/edunham/following{/other_user}",
      "gists_url": "https://api.github.com/users/edunham/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/edunham/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/edunham/subscriptions",
      "organizations_url": "https://api.github.com/users/edunham/orgs",
      "repos_url": "https://api.github.com/users/edunham/repos",
      "events_url": "https://api.github.com/users/edunham/events{/privacy}",
      "received_events_url": "https://api.github.com/users/edunham/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-06-03T17:04:35Z",
    "updated_at": "2015-06-03T20:39:35Z",
    "body": "@alexcrichton cool! I'd like to at least get access to those stats myself, and hopefully automate a way of more publicly sharing the less-creepy metrics like hits per day (and possibly breakdown of hits by platform). \n\nI just did some quick research on options for S3 download counts, and it looks like there's no good solution built into the service. The answers on [the AWS forum](https://forums.aws.amazon.com/thread.jspa?messageID=444418) and [quora](http://www.quora.com/Is-there-a-good-way-to-track-S3-downloads) agree that we basically have 4 options:\n- Proxy download links through a server that counts how often they're used\n- Enable logging and parse the logs ourselves\n- Enable logging and pay someone else to turn the logs into graphs\n- Count clicks on the download link\n\nAs @alexcrichton mentioned, counting clicks would probably not provide us with much useful data on its own, since we'd like to know about downloads performed by scripts as well. Later on, it might be interesting to see how many downloads are script-enabled browsers vs hard-coded links in bots by gathering that data, but it seems relatively unimportant for now.\n\nThere exists [a BSD-licensed PHP script](https://github.com/binaryage/leechgate), last updated about 8 months ago, that sits on Heroku and proxies requests to S3 while logging them to Google Analytics. There's also a [MIT-licensed python tool](https://github.com/ogdch/s3-logs-analyzer), last activity 2 years ago, which parses S3 logs into a CSV of download count.\n\nA couple of services would trade us useful metrics on our AWS logs for money, namely [s3stat](https://www.s3stat.com/), [qcloudstat](https://qloudstat.com/welcome), and some [CloudBerry](http://www.cloudberrylab.com/free-amazon-s3-explorer-cloudfront-IAM.aspx) Windows-only \"freeware\" thing. \n\ns3stat is typically a flat $10/month, or also offers a snarky but free [\"cheap bastard plan\"](https://www.s3stat.com/web-stats/cheap-bastard-plan) wherein they trade free service for some publicity. Qcloudstat's [plans](https://qloudstat.com/plans) are either 5 or 20 euros per month -- I woudn't be surprised if we're near the upper limit of the smallest plan. \n\nThe final consideration in all this is that we'll have to pay for any logs we store on S3, and others have reported that the logs tend to grow surprisingly quickly. For now, I'm going to enable logging for a week so we have some real data for projecting how fast the logs will grow, roughly how many downloads we should expect a tool to handle, and so on.\n\nLong-term, the fix with fewest moving parts would probably be a script that parses relevant log entries, throws their data into Google Analytics as custom events, then deletes the old logs. A script like that would probaby take less than a day to build an MVP, intermittent half-hours over a couple weeks to tweak and troubleshoot in production, then it'd more or less run by itself until breaking changes get made to any of the APIs with which it interfaces. \n\n@aturon, @brson thoughts on where and how soon it's important to start publishing download stats?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/108525601/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/108663511",
    "html_url": "https://github.com/rust-lang/rust/issues/25978#issuecomment-108663511",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25978",
    "id": 108663511,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwODY2MzUxMQ==",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-06-04T00:58:32Z",
    "updated_at": "2015-06-04T01:02:07Z",
    "body": "@edunham We don't necessarily need to publish them, but having them available when people ask would be nice. It's hard to say that this is very high priority though compared to other things on the list.\n\nConsider that we currently need to account for both downloads from cloudfront and s3 because update.sh goes straight to s3 to avoid the sync bugs (if gpg is available).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/108663511/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/112508955",
    "html_url": "https://github.com/rust-lang/rust/issues/25978#issuecomment-112508955",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25978",
    "id": 112508955,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExMjUwODk1NQ==",
    "user": {
      "login": "aturon",
      "id": 709807,
      "node_id": "MDQ6VXNlcjcwOTgwNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/709807?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aturon",
      "html_url": "https://github.com/aturon",
      "followers_url": "https://api.github.com/users/aturon/followers",
      "following_url": "https://api.github.com/users/aturon/following{/other_user}",
      "gists_url": "https://api.github.com/users/aturon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aturon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aturon/subscriptions",
      "organizations_url": "https://api.github.com/users/aturon/orgs",
      "repos_url": "https://api.github.com/users/aturon/repos",
      "events_url": "https://api.github.com/users/aturon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aturon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-06-16T17:37:47Z",
    "updated_at": "2015-06-16T17:37:47Z",
    "body": "I agree with @brson that this isn't a huge priority, but I am pretty interested in getting more metrics across the board, so we can get a better sense for how the community and ecosystem are progressing. If there are relatively easy metrics to collect, even in an unpolished way, it seems worthwhile to pick a few of them off.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/112508955/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/241572973",
    "html_url": "https://github.com/rust-lang/rust/issues/25978#issuecomment-241572973",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25978",
    "id": 241572973,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0MTU3Mjk3Mw==",
    "user": {
      "login": "edunham",
      "id": 812892,
      "node_id": "MDQ6VXNlcjgxMjg5Mg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/812892?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/edunham",
      "html_url": "https://github.com/edunham",
      "followers_url": "https://api.github.com/users/edunham/followers",
      "following_url": "https://api.github.com/users/edunham/following{/other_user}",
      "gists_url": "https://api.github.com/users/edunham/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/edunham/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/edunham/subscriptions",
      "organizations_url": "https://api.github.com/users/edunham/orgs",
      "repos_url": "https://api.github.com/users/edunham/repos",
      "events_url": "https://api.github.com/users/edunham/events{/privacy}",
      "received_events_url": "https://api.github.com/users/edunham/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-08-22T22:38:50Z",
    "updated_at": "2016-08-22T22:38:50Z",
    "body": "Current status: Cloudfront and S3 logs exist; Alex can hand out analytics access for pageviews.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/241572973/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
