[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/14410103",
    "html_url": "https://github.com/rust-lang/rust/pull/5202#issuecomment-14410103",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5202",
    "id": 14410103,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0NDEwMTAz",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-03-04T22:25:48Z",
    "updated_at": "2013-03-04T22:26:15Z",
    "body": "@graydon I think I fixed the build failure.\n\n(Edit: I see you're already on top of it.)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/14410103/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/14411482",
    "html_url": "https://github.com/rust-lang/rust/pull/5202#issuecomment-14411482",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5202",
    "id": 14411482,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0NDExNDgy",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-03-04T22:45:17Z",
    "updated_at": "2013-03-04T22:45:17Z",
    "body": "Sorry :( (Last attempt before I give up and stop attempting to contribute while I can't test.)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/14411482/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/14661383",
    "html_url": "https://github.com/rust-lang/rust/pull/5202#issuecomment-14661383",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5202",
    "id": 14661383,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0NjYxMzgz",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-03-09T11:06:11Z",
    "updated_at": "2013-03-09T11:06:11Z",
    "body": "@graydon I've finally got a computer that compiles rust in less than 2 hours, and so I've sorted out all the problems with this patch.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/14661383/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/14743878",
    "html_url": "https://github.com/rust-lang/rust/pull/5202#issuecomment-14743878",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5202",
    "id": 14743878,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0NzQzODc4",
    "user": {
      "login": "graydon",
      "id": 14097,
      "node_id": "MDQ6VXNlcjE0MDk3",
      "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/graydon",
      "html_url": "https://github.com/graydon",
      "followers_url": "https://api.github.com/users/graydon/followers",
      "following_url": "https://api.github.com/users/graydon/following{/other_user}",
      "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/graydon/subscriptions",
      "organizations_url": "https://api.github.com/users/graydon/orgs",
      "repos_url": "https://api.github.com/users/graydon/repos",
      "events_url": "https://api.github.com/users/graydon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/graydon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-03-11T21:28:36Z",
    "updated_at": "2013-03-11T21:28:36Z",
    "body": "Great! I will approve it for landing, but I did actually start poking at it as promised, just ... I got side tracked and started fussing with the actual implementation. In particular I started trying to make improvements, but each one led to a more-general one:\n- To return `str&` slices of the input, not `~str` slices\n- To implement Reader, actually, and just acquire appropriate methods via ReaderUtil\n- To factor out the functionality of \"reading from the concatenation of multiple Readers in sequence\" rather than wiring it up to this particular module\n- To improve the io module so that non-boxed Readers are possible. Current design is very old and allocation / object heavy.\n\nAround that point I got sidetracked and didn't finish. Sorry. If you want to make any or all of those changes in followup patches I'd certainly appreciate it. Otherwise it'll just go on the \"more refactoring to the io modules\" pile-o-bugs.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/14743878/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/14744668",
    "html_url": "https://github.com/rust-lang/rust/pull/5202#issuecomment-14744668",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5202",
    "id": 14744668,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0NzQ0NjY4",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-03-11T21:42:12Z",
    "updated_at": "2013-03-11T21:42:12Z",
    "body": "Sorry for stepping on your toes!\n\nDo you have the partial code in a branch somewhere that I could continue off?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/14744668/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/14779828",
    "html_url": "https://github.com/rust-lang/rust/pull/5202#issuecomment-14779828",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5202",
    "id": 14779828,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0Nzc5ODI4",
    "user": {
      "login": "graydon",
      "id": 14097,
      "node_id": "MDQ6VXNlcjE0MDk3",
      "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/graydon",
      "html_url": "https://github.com/graydon",
      "followers_url": "https://api.github.com/users/graydon/followers",
      "following_url": "https://api.github.com/users/graydon/following{/other_user}",
      "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/graydon/subscriptions",
      "organizations_url": "https://api.github.com/users/graydon/orgs",
      "repos_url": "https://api.github.com/users/graydon/repos",
      "events_url": "https://api.github.com/users/graydon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/graydon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-03-12T14:57:34Z",
    "updated_at": "2013-03-12T14:57:34Z",
    "body": "No worries. Unfortunately not, I kept deleting and restarting what I was doing. It wasn't terribly deep; the comment I wrote above is more informative than any of the half-sketch work I had done.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/14779828/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/14836866",
    "html_url": "https://github.com/rust-lang/rust/pull/5202#issuecomment-14836866",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5202",
    "id": 14836866,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0ODM2ODY2",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-03-13T11:47:51Z",
    "updated_at": "2013-03-13T11:47:51Z",
    "body": "Hm, some quick questions/comments.\n\n> To return str& slices of the input, not ~str slices\n\nDo you mean `next_line(..) -> &str`? And/or `lines_each(..., &fn(&str) -> bool)`?\n\n> To factor out the functionality of \"reading from the concatenation of multiple Readers in sequence\" rather than wiring it up to this particular module\n\nI see two useful methods: a plain `with_list_readers(&[@Reader], fn(@Reader) -> t) -> t` which sequences a list of readers into a single one, and another that does the same but generates the `Reader`s as necessary: `with_ondemand_readers(&fn() -> Some<@Reader>, &fn(@Reader) -> t) -> t` (approximately). However neither offers much option for retrieving useful information that depends on the exact `Reader` impl being used (e.g. current socket number, filename, line number, byte count, whatever). And `seek` and `tell` most likely have very peculiar behaviour, since they can only reasonably act within the current sub-`Reader`.\n\nIn summary: I can't see a good way of designing this that allows it to be reused for `fileinput` and keep similar functionality.\n\n> To implement Reader, actually, and just acquire appropriate methods via ReaderUtil\n\nI thought about doing this before, but discarded it without actually trying (not quite sure why), but it's clearly a better solution than renaming methods; although it likely comes a performance cost due to having to scan for `'\\n'` (not a problem, since this is a convenience library). I'll do this.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/14836866/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/14978040",
    "html_url": "https://github.com/rust-lang/rust/pull/5202#issuecomment-14978040",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5202",
    "id": 14978040,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0OTc4MDQw",
    "user": {
      "login": "graydon",
      "id": 14097,
      "node_id": "MDQ6VXNlcjE0MDk3",
      "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/graydon",
      "html_url": "https://github.com/graydon",
      "followers_url": "https://api.github.com/users/graydon/followers",
      "following_url": "https://api.github.com/users/graydon/following{/other_user}",
      "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/graydon/subscriptions",
      "organizations_url": "https://api.github.com/users/graydon/orgs",
      "repos_url": "https://api.github.com/users/graydon/repos",
      "events_url": "https://api.github.com/users/graydon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/graydon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-03-15T18:43:18Z",
    "updated_at": "2013-03-15T18:43:18Z",
    "body": "I'm  not sure why there'd be a performance cost to implementing Reader, can you elaborate?\n\nYes on returning `&str` and calling inner `&fn(&str)->bool` for lines. Less allocation is better.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/14978040/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/14986015",
    "html_url": "https://github.com/rust-lang/rust/pull/5202#issuecomment-14986015",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5202",
    "id": 14986015,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0OTg2MDE1",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-03-15T21:31:47Z",
    "updated_at": "2013-03-15T21:32:07Z",
    "body": "The performance cost is just having to scan everything for `\\n` to keep the line counts in sync (i.e. when reading via `.read`).\n\nHmm, ok, not sure why I didn't follow the convention with the `&str`s, that will be fixed when I implement Reader after #5398 merges. Anyway, I'm probably incorrect, but I feel like that change actually increases the amount of allocation done, since the user will sometimes want to convert the `&str` back to a `~str` (i.e. an allocation), and the `~str` to `&str` is much cheaper (free?), and the original `~str` is always going to be allocated (since the underlying `io` functions allocate). So it is more efficient to just let the compiler move it into the function. That is to say, the second code has few allocations, since all the uses of the strings are moves:\n\n(with slices)\n\n``` rust\nlet mut lines = ~[];\nfor fileinput::input |slice : &str| {\n     lines.push(str::from_slice(slice))\n}\n```\n\nvs.\n\n(as it is now)\n\n``` rust\nlet mut lines = ~[];\nfor fileinput::input |owned : ~str| {\n     lines.push(owned)\n}\n```\n\n(Similar reasoning could be used for many of the `io` functions: they return a `&str` even though they had to allocate a `~str` anyway.)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/14986015/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/15070164",
    "html_url": "https://github.com/rust-lang/rust/pull/5202#issuecomment-15070164",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5202",
    "id": 15070164,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MDcwMTY0",
    "user": {
      "login": "graydon",
      "id": 14097,
      "node_id": "MDQ6VXNlcjE0MDk3",
      "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/graydon",
      "html_url": "https://github.com/graydon",
      "followers_url": "https://api.github.com/users/graydon/followers",
      "following_url": "https://api.github.com/users/graydon/following{/other_user}",
      "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/graydon/subscriptions",
      "organizations_url": "https://api.github.com/users/graydon/orgs",
      "repos_url": "https://api.github.com/users/graydon/repos",
      "events_url": "https://api.github.com/users/graydon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/graydon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-03-18T17:50:49Z",
    "updated_at": "2013-03-18T17:54:45Z",
    "body": "The underlying `io` functions allocating `~str` is a bug. I'm trying to prevent it propagating into other modules by committing to such APIs. Ideally we should fix that sometime too.\n\n(In general, any time it seems like we're using `~str` or `~[]` in library code in a place where you can picture an API designed better that does not necessarily allocate or pass ownership, it's worth checking the history of that API. Most of them are residue from the long-ago state where all vectors and strings were unique. We did a batch conversion when we introduced the differentiated `~[]`, `&[]` and `@[]` types; we did _not_ fix all the associated APIs to make sensible use of `&[]`. We still have a ton of technical debt in this matter.)\n\n(Also also: sorry for being picky on this and/or trying to use it as some kind of teachable moment. Your patch is good and any time you get frustrated with this conversation just say so and I'm happy to merge it in the state it's in. Any module doing something `fileinput`-y is better than none and I'm very happy to see this!)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/15070164/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/15087283",
    "html_url": "https://github.com/rust-lang/rust/pull/5202#issuecomment-15087283",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5202",
    "id": 15087283,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MDg3Mjgz",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-03-18T22:52:19Z",
    "updated_at": "2013-03-18T22:52:19Z",
    "body": "Ok, I understand about `&str`.\n\nI'm not getting frustrated: it's not my project and I completely understand being picky and trying to get things as you would prefer, and anyway, I really appreciate that you (and the rest of the core team) are so willing to spend the time to help me get my contributions into shape. (And, the longer the conversation goes now, the more I'll learn about the design decisions etc, so (hopefully) the shorter it'll be next time.)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/15087283/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/15393800",
    "html_url": "https://github.com/rust-lang/rust/pull/5202#issuecomment-15393800",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5202",
    "id": 15393800,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MzkzODAw",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-03-25T13:47:26Z",
    "updated_at": "2013-04-03T00:38:33Z",
    "body": "@graydon, I've implemented `Reader` and done the `&str` change. I'd like to get this landed, and then I maybe might think about general-concatenation-of-readers and io redesign.\n\nI had an abortive attempt at moving away from mutable fields in `io` and passing `&mut self` to the `Reader` and `Writer` methods but that seemed to require changes across every crate, and fighting \"illegal borrow unless pure\"s (isn't the pure/impure distinction removed?), so I'll leave that for a separate PR. However, I have tried to not increase the technical debt, by getting this module into such a state that the change to `&mut self` basically requires only renaming `FileInput_` to `FileInput` and doing `s/&self/&mut self/` and `s/self.fi./self./`... but I'm sure it won't be that simple.\n\nAlso: I've had to add 2 `unsafe` blocks: I'm fairly sure they're safe and it's `rustc` being insufficiently smart (or old purity-related code that hasn't been adapted to the new system?), since it's just checking the lists are empty; just drawing your attention to it because there could easily be some subtly that I'm missing?\n\n~~Lastly, mentioned this in the 0.6 release notes per #5344.~~ (edit 2013-4-3: removed that commit, since .6 was released.)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/15393800/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
