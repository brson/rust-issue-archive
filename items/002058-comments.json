[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/4743259",
    "html_url": "https://github.com/rust-lang/rust/issues/2058#issuecomment-4743259",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/2058",
    "id": 4743259,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3NDMyNTk=",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-03-27T23:52:54Z",
    "updated_at": "2012-03-27T23:52:54Z",
    "body": "Here's the current plan. The main task continues to be non-special, but we create another single-threaded scheduler called 'main_thread_sched' that has a single scheduler thread running on the OS main thread. Users can choose to spawn tasks into this scheduler.\n\nRequires giving schedulers a first class representation in core, reworking how scheduler lifetime works, and refactoring a bunch of runtime code.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/4743259/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/4792613",
    "html_url": "https://github.com/rust-lang/rust/issues/2058#issuecomment-4792613",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/2058",
    "id": 4792613,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3OTI2MTM=",
    "user": {
      "login": "graydon",
      "id": 14097,
      "node_id": "MDQ6VXNlcjE0MDk3",
      "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/graydon",
      "html_url": "https://github.com/graydon",
      "followers_url": "https://api.github.com/users/graydon/followers",
      "following_url": "https://api.github.com/users/graydon/following{/other_user}",
      "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/graydon/subscriptions",
      "organizations_url": "https://api.github.com/users/graydon/orgs",
      "repos_url": "https://api.github.com/users/graydon/repos",
      "events_url": "https://api.github.com/users/graydon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/graydon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-03-28T22:08:04Z",
    "updated_at": "2012-03-28T22:08:04Z",
    "body": "What a charming asymmetry. Full steam ahead!\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/4792613/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/4831605",
    "html_url": "https://github.com/rust-lang/rust/issues/2058#issuecomment-4831605",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/2058",
    "id": 4831605,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4MzE2MDU=",
    "user": {
      "login": "jamorton",
      "id": 18852,
      "node_id": "MDQ6VXNlcjE4ODUy",
      "avatar_url": "https://avatars.githubusercontent.com/u/18852?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jamorton",
      "html_url": "https://github.com/jamorton",
      "followers_url": "https://api.github.com/users/jamorton/followers",
      "following_url": "https://api.github.com/users/jamorton/following{/other_user}",
      "gists_url": "https://api.github.com/users/jamorton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jamorton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jamorton/subscriptions",
      "organizations_url": "https://api.github.com/users/jamorton/orgs",
      "repos_url": "https://api.github.com/users/jamorton/repos",
      "events_url": "https://api.github.com/users/jamorton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jamorton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-03-29T21:28:22Z",
    "updated_at": "2012-03-29T21:28:22Z",
    "body": "Is that bit of flexibility worth such a convoluted solution? What's wrong with the user limiting their calls to those few libraries (like cocoa) to the main task?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/4831605/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/4833083",
    "html_url": "https://github.com/rust-lang/rust/issues/2058#issuecomment-4833083",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/2058",
    "id": 4833083,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4MzMwODM=",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-03-29T22:51:38Z",
    "updated_at": "2012-03-29T22:51:38Z",
    "body": "@Jonanin that's a point worth considering. My concern previously was that making the main task special could have some subtle, non-obvious side effects.\n\nOff hand this is what I can think of:\n- The main task will be pinned to a single thread so could ocassionally get scheduled unfairly if there are bad neighbors on the same thread (assuming we have work stealing).\n- I believe there will need to be some extra work done by the runtime on the main OS thread between scheduler loops, though I'm not entirely sure yet.\n- In the case of an application that is actually using the OS event loop, one of the scheduler threads on the default scheduler is going to have a bunch of external work contending for time, and not performing the same as the other threads. For example, the runtime might be embedded in another application, with the main scheduler being driven from 'outside' by the OS's event loop, and between each turn of the scheduler loop you have to stop to dispatch OS messages. This would affect not just the performance of the main task, but any task that randomly gets scheduled onto that thread.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/4833083/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/4833107",
    "html_url": "https://github.com/rust-lang/rust/issues/2058#issuecomment-4833107",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/2058",
    "id": 4833107,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4MzMxMDc=",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-03-29T22:53:28Z",
    "updated_at": "2012-03-29T22:53:45Z",
    "body": "Of course, to combat that last point we could have the main task in it's own single-threaded scheduler and configured to spawn new tasks into a second scheduler that is more fair.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/4833107/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/4833120",
    "html_url": "https://github.com/rust-lang/rust/issues/2058#issuecomment-4833120",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/2058",
    "id": 4833120,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4MzMxMjA=",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-03-29T22:54:44Z",
    "updated_at": "2012-03-29T22:54:44Z",
    "body": "That in itself (the main thread spawning into a different scheduler) is some subtle behavior though that I'm not sure the implications of.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/4833120/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/4833448",
    "html_url": "https://github.com/rust-lang/rust/issues/2058#issuecomment-4833448",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/2058",
    "id": 4833448,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4MzM0NDg=",
    "user": {
      "login": "jamorton",
      "id": 18852,
      "node_id": "MDQ6VXNlcjE4ODUy",
      "avatar_url": "https://avatars.githubusercontent.com/u/18852?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jamorton",
      "html_url": "https://github.com/jamorton",
      "followers_url": "https://api.github.com/users/jamorton/followers",
      "following_url": "https://api.github.com/users/jamorton/following{/other_user}",
      "gists_url": "https://api.github.com/users/jamorton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jamorton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jamorton/subscriptions",
      "organizations_url": "https://api.github.com/users/jamorton/orgs",
      "repos_url": "https://api.github.com/users/jamorton/repos",
      "events_url": "https://api.github.com/users/jamorton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jamorton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-03-29T23:19:22Z",
    "updated_at": "2012-03-29T23:19:22Z",
    "body": "Not that it counts, since I don't know the full implications or full architecture of the system, but I vote for putting the main task in its own thread =]\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/4833448/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/4833534",
    "html_url": "https://github.com/rust-lang/rust/issues/2058#issuecomment-4833534",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/2058",
    "id": 4833534,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4MzM1MzQ=",
    "user": {
      "login": "fzzzy",
      "id": 46048,
      "node_id": "MDQ6VXNlcjQ2MDQ4",
      "avatar_url": "https://avatars.githubusercontent.com/u/46048?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fzzzy",
      "html_url": "https://github.com/fzzzy",
      "followers_url": "https://api.github.com/users/fzzzy/followers",
      "following_url": "https://api.github.com/users/fzzzy/following{/other_user}",
      "gists_url": "https://api.github.com/users/fzzzy/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fzzzy/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fzzzy/subscriptions",
      "organizations_url": "https://api.github.com/users/fzzzy/orgs",
      "repos_url": "https://api.github.com/users/fzzzy/repos",
      "events_url": "https://api.github.com/users/fzzzy/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fzzzy/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-03-29T23:25:26Z",
    "updated_at": "2012-03-29T23:25:26Z",
    "body": "brson, the initial design sounds right. There are too many downsides to having the main task always on the main thread. Better to have each consumer of an os API have to request to be on the main thread if it needs to be.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/4833534/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/5263373",
    "html_url": "https://github.com/rust-lang/rust/issues/2058#issuecomment-5263373",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/2058",
    "id": 5263373,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyNjMzNzM=",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-04-21T20:37:04Z",
    "updated_at": "2012-04-21T20:37:04Z",
    "body": "Implemented as a special scheduler.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/5263373/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
