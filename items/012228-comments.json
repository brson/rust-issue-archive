[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/34948856",
    "html_url": "https://github.com/rust-lang/rust/issues/12228#issuecomment-34948856",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12228",
    "id": 34948856,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0OTQ4ODU2",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-02-13T05:04:53Z",
    "updated_at": "2014-02-13T05:04:53Z",
    "body": "This sounds a lot like linked failure which we would have to think about really hard before adding it back in. I don't think you can just terminate running tasks because they need to run their destructors to clean things up.\n\nI can see how this is a problem though, so we should perhaps have a solution in one form or another.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/34948856/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/34948936",
    "html_url": "https://github.com/rust-lang/rust/issues/12228#issuecomment-34948936",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12228",
    "id": 34948936,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0OTQ4OTM2",
    "user": {
      "login": "lilyball",
      "id": 714,
      "node_id": "MDQ6VXNlcjcxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/714?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lilyball",
      "html_url": "https://github.com/lilyball",
      "followers_url": "https://api.github.com/users/lilyball/followers",
      "following_url": "https://api.github.com/users/lilyball/following{/other_user}",
      "gists_url": "https://api.github.com/users/lilyball/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lilyball/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lilyball/subscriptions",
      "organizations_url": "https://api.github.com/users/lilyball/orgs",
      "repos_url": "https://api.github.com/users/lilyball/repos",
      "events_url": "https://api.github.com/users/lilyball/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lilyball/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-02-13T05:06:58Z",
    "updated_at": "2014-02-13T05:06:58Z",
    "body": "Triggering task failure (and not printing the task failure message; I really wish there was a way to suppress that with `task::try()` as well) would run destructors.\n\nThe problem with not doing this is I can spawn a task that I have no way of shutting down myself. For example, one that reads from stdin. I can't interrupt the read unless data actually comes in on stdin, so I have no way of shutting down the task. If the task is using the default task pool I can at least call `libc::exit()` at the end of `main()`, but if I've spawned my own libgreen task pool then I'm pretty much out of luck.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/34948936/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/34950286",
    "html_url": "https://github.com/rust-lang/rust/issues/12228#issuecomment-34950286",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12228",
    "id": 34950286,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0OTUwMjg2",
    "user": {
      "login": "rapha",
      "id": 29763,
      "node_id": "MDQ6VXNlcjI5NzYz",
      "avatar_url": "https://avatars.githubusercontent.com/u/29763?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rapha",
      "html_url": "https://github.com/rapha",
      "followers_url": "https://api.github.com/users/rapha/followers",
      "following_url": "https://api.github.com/users/rapha/following{/other_user}",
      "gists_url": "https://api.github.com/users/rapha/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rapha/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rapha/subscriptions",
      "organizations_url": "https://api.github.com/users/rapha/orgs",
      "repos_url": "https://api.github.com/users/rapha/repos",
      "events_url": "https://api.github.com/users/rapha/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rapha/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-02-13T05:43:31Z",
    "updated_at": "2014-02-13T05:43:31Z",
    "body": "I want this too.\n\nPossible solutions here could be:\n1) broadening select to work with readers so your task could select over the stdin reader and a close_now channel,\n2) adding a read_timeout method to readers, so your task gets a chance to check whether it should stop,\n3) plugging some sort of event queue onto stdin, which other tasks could also write to, then your task just pulls off that.\n4) ?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/34950286/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/45644489",
    "html_url": "https://github.com/rust-lang/rust/issues/12228#issuecomment-45644489",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12228",
    "id": 45644489,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NjQ0NDg5",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-06-10T17:21:51Z",
    "updated_at": "2014-06-10T17:21:51Z",
    "body": "I'm going to close this as something that the runtime is explicitly not designed to do at this time. Arbitrarily killing a task will never be done because it is unsafe by leaking resources. Injecting a task failure is also explicitly not done as being too difficult to reason about in the runtime.\n\nAs a design decision, we decided on requiring failure propagation to occur on channel boundaries. As a result, it is required for the programmer to arrange for all tasks to exit appropriately. If certain primitives make that tough to do, then we need to add more functionality to that primitive (such as close_read/close_write for tcp streams).\n\nWith that in mind, I'm closing this as wontfix for now.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/45644489/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
