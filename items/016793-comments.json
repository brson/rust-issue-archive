[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53596300",
    "html_url": "https://github.com/rust-lang/rust/issues/16793#issuecomment-53596300",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/16793",
    "id": 53596300,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzNTk2MzAw",
    "user": {
      "login": "thehydroimpulse",
      "id": 565790,
      "node_id": "MDQ6VXNlcjU2NTc5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/565790?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thehydroimpulse",
      "html_url": "https://github.com/thehydroimpulse",
      "followers_url": "https://api.github.com/users/thehydroimpulse/followers",
      "following_url": "https://api.github.com/users/thehydroimpulse/following{/other_user}",
      "gists_url": "https://api.github.com/users/thehydroimpulse/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thehydroimpulse/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thehydroimpulse/subscriptions",
      "organizations_url": "https://api.github.com/users/thehydroimpulse/orgs",
      "repos_url": "https://api.github.com/users/thehydroimpulse/repos",
      "events_url": "https://api.github.com/users/thehydroimpulse/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thehydroimpulse/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-27T15:59:01Z",
    "updated_at": "2014-08-27T15:59:50Z",
    "body": "Regardless of whether it's expected behaviour or not, your ulimit is too small. You'll have to up your ulimit. `ulimit -n 4000`. Note that this doesn't persist the change, you'll have to use a combination of settings to control that.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53596300/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53596647",
    "html_url": "https://github.com/rust-lang/rust/issues/16793#issuecomment-53596647",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/16793",
    "id": 53596647,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzNTk2NjQ3",
    "user": {
      "login": "MaxDesiatov",
      "id": 112310,
      "node_id": "MDQ6VXNlcjExMjMxMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/112310?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MaxDesiatov",
      "html_url": "https://github.com/MaxDesiatov",
      "followers_url": "https://api.github.com/users/MaxDesiatov/followers",
      "following_url": "https://api.github.com/users/MaxDesiatov/following{/other_user}",
      "gists_url": "https://api.github.com/users/MaxDesiatov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MaxDesiatov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MaxDesiatov/subscriptions",
      "organizations_url": "https://api.github.com/users/MaxDesiatov/orgs",
      "repos_url": "https://api.github.com/users/MaxDesiatov/repos",
      "events_url": "https://api.github.com/users/MaxDesiatov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MaxDesiatov/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-27T16:01:07Z",
    "updated_at": "2014-08-27T16:01:07Z",
    "body": "Thanks for the workaround. So is this the intended behaviour: to exhaust file handles limit when spawning new tasks?\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53596647/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53604211",
    "html_url": "https://github.com/rust-lang/rust/issues/16793#issuecomment-53604211",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/16793",
    "id": 53604211,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzNjA0MjEx",
    "user": {
      "login": "MaxDesiatov",
      "id": 112310,
      "node_id": "MDQ6VXNlcjExMjMxMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/112310?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MaxDesiatov",
      "html_url": "https://github.com/MaxDesiatov",
      "followers_url": "https://api.github.com/users/MaxDesiatov/followers",
      "following_url": "https://api.github.com/users/MaxDesiatov/following{/other_user}",
      "gists_url": "https://api.github.com/users/MaxDesiatov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MaxDesiatov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MaxDesiatov/subscriptions",
      "organizations_url": "https://api.github.com/users/MaxDesiatov/orgs",
      "repos_url": "https://api.github.com/users/MaxDesiatov/repos",
      "events_url": "https://api.github.com/users/MaxDesiatov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MaxDesiatov/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-27T16:52:54Z",
    "updated_at": "2014-08-27T16:52:54Z",
    "body": "Executing `ulimit -n 4000` didn't help BTW, same for `sudo sysctl -w kern.maxfiles=655360 kern.maxfilesperproc=327680`.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53604211/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53606462",
    "html_url": "https://github.com/rust-lang/rust/issues/16793#issuecomment-53606462",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/16793",
    "id": 53606462,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzNjA2NDYy",
    "user": {
      "login": "thehydroimpulse",
      "id": 565790,
      "node_id": "MDQ6VXNlcjU2NTc5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/565790?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thehydroimpulse",
      "html_url": "https://github.com/thehydroimpulse",
      "followers_url": "https://api.github.com/users/thehydroimpulse/followers",
      "following_url": "https://api.github.com/users/thehydroimpulse/following{/other_user}",
      "gists_url": "https://api.github.com/users/thehydroimpulse/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thehydroimpulse/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thehydroimpulse/subscriptions",
      "organizations_url": "https://api.github.com/users/thehydroimpulse/orgs",
      "repos_url": "https://api.github.com/users/thehydroimpulse/repos",
      "events_url": "https://api.github.com/users/thehydroimpulse/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thehydroimpulse/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-27T17:08:55Z",
    "updated_at": "2014-08-27T17:08:55Z",
    "body": "Weird. You could also create a file `/etc/launchd.conf` with `limit maxfiles 1000000 1000000`. I've often had to fiddle with a bunch of different things to get it working. Although it's just one workaround to that error.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53606462/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/71683946",
    "html_url": "https://github.com/rust-lang/rust/issues/16793#issuecomment-71683946",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/16793",
    "id": 71683946,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxNjgzOTQ2",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-27T16:59:18Z",
    "updated_at": "2015-01-27T16:59:18Z",
    "body": "Was this using green threads or native threads?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/71683946/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/80701150",
    "html_url": "https://github.com/rust-lang/rust/issues/16793#issuecomment-80701150",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/16793",
    "id": 80701150,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgwNzAxMTUw",
    "user": {
      "login": "justinas",
      "id": 662666,
      "node_id": "MDQ6VXNlcjY2MjY2Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/662666?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/justinas",
      "html_url": "https://github.com/justinas",
      "followers_url": "https://api.github.com/users/justinas/followers",
      "following_url": "https://api.github.com/users/justinas/following{/other_user}",
      "gists_url": "https://api.github.com/users/justinas/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/justinas/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/justinas/subscriptions",
      "organizations_url": "https://api.github.com/users/justinas/orgs",
      "repos_url": "https://api.github.com/users/justinas/repos",
      "events_url": "https://api.github.com/users/justinas/events{/privacy}",
      "received_events_url": "https://api.github.com/users/justinas/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-14T20:18:13Z",
    "updated_at": "2015-03-14T20:18:13Z",
    "body": "Can confirm this on OS X 10.10.2, using `rustc 1.0.0-nightly (3e4be02b8 2015-03-13) (built 2015-03-13)`. Tried launchd, ulimit, sysctl workarounds mentioned here: none of them work.\n\nThe code:\n\n``` rust\nuse std::thread;\nuse std::old_io::timer::sleep;\nuse std::time::Duration;\nfn main() {\n    for i in 1..5000 {\n        thread::spawn(move || {\n            println!(\"{}\", i);\n            sleep(Duration::seconds(10));\n        });\n    }\n}\n```\n\nOutput:\n\n```\n1\n<...>\n2043\n2044\n2045\nthread '<main>' panicked at 'called `Result::unwrap()` on an `Err` value: Error { repr: Os(35) }', /Users/rustbuild/src/rust-buildbot/slave/nightly-dist-rustc-mac/build/src/libcore/result.rs:744\n```\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/80701150/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/130839740",
    "html_url": "https://github.com/rust-lang/rust/issues/16793#issuecomment-130839740",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/16793",
    "id": 130839740,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMDgzOTc0MA==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-08-13T20:51:58Z",
    "updated_at": "2015-08-13T20:51:58Z",
    "body": "I believe this has basically been fixed by switching to native threads, we're now just constrained by the normal system limits.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/130839740/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
