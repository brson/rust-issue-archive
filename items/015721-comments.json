[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49236133",
    "html_url": "https://github.com/rust-lang/rust/pull/15721#issuecomment-49236133",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15721",
    "id": 49236133,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MjM2MTMz",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-16T22:25:49Z",
    "updated_at": "2014-07-16T22:25:49Z",
    "body": "This has been proposed many times before, see: #13205, #11074, #11691, #12135, #14968, #15220, and #15389.\n\nI would like to continue to push back on the basis that we don't have a clear design moving forward to deal with this case in general other than add a duplicate copy of all methods.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49236133/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49236428",
    "html_url": "https://github.com/rust-lang/rust/pull/15721#issuecomment-49236428",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15721",
    "id": 49236428,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MjM2NDI4",
    "user": {
      "login": "pcwalton",
      "id": 157897,
      "node_id": "MDQ6VXNlcjE1Nzg5Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/157897?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pcwalton",
      "html_url": "https://github.com/pcwalton",
      "followers_url": "https://api.github.com/users/pcwalton/followers",
      "following_url": "https://api.github.com/users/pcwalton/following{/other_user}",
      "gists_url": "https://api.github.com/users/pcwalton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pcwalton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pcwalton/subscriptions",
      "organizations_url": "https://api.github.com/users/pcwalton/orgs",
      "repos_url": "https://api.github.com/users/pcwalton/repos",
      "events_url": "https://api.github.com/users/pcwalton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pcwalton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-16T22:28:39Z",
    "updated_at": "2014-07-16T22:28:39Z",
    "body": "Just FYI so it doesn't seem like the team is stonewalling this: I think the right thing to do is to nuke the `Equiv` trait in favor of a `find` that provides a hash value (or a value implementing `Hash`) and a closure to compare equality. That's the simplest possible solution that doesn't result in an explosion of trait complexity.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49236428/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49256655",
    "html_url": "https://github.com/rust-lang/rust/pull/15721#issuecomment-49256655",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15721",
    "id": 49256655,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MjU2NjU1",
    "user": {
      "login": "aturon",
      "id": 709807,
      "node_id": "MDQ6VXNlcjcwOTgwNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/709807?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aturon",
      "html_url": "https://github.com/aturon",
      "followers_url": "https://api.github.com/users/aturon/followers",
      "following_url": "https://api.github.com/users/aturon/following{/other_user}",
      "gists_url": "https://api.github.com/users/aturon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aturon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aturon/subscriptions",
      "organizations_url": "https://api.github.com/users/aturon/orgs",
      "repos_url": "https://api.github.com/users/aturon/repos",
      "events_url": "https://api.github.com/users/aturon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aturon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-17T04:13:44Z",
    "updated_at": "2014-07-17T04:13:44Z",
    "body": "@pcwalton To me, the problem isn't so much trait complexity (the `Equiv` trait is pretty simple), but rather that this technique doubles the surface area of a given API.\n\nIn some sense, methods like `find_equiv` are generalizations of `find`, but the current trait system makes it so that you cannot usefully do `impl<T> Equiv<T> for T`.\n\nIf @nikomatsakis's [`where` proposal](https://github.com/rust-lang/rfcs/pull/135) lands, I wonder if we _could_ provide such an `impl` using a multi-parameter version of `Equiv`. That way, we could give only methods that use the `Equiv` approach, but they would work even when you're using the key type itself, eliminating the API redundancy.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49256655/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49256800",
    "html_url": "https://github.com/rust-lang/rust/pull/15721#issuecomment-49256800",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15721",
    "id": 49256800,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MjU2ODAw",
    "user": {
      "login": "aturon",
      "id": 709807,
      "node_id": "MDQ6VXNlcjcwOTgwNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/709807?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aturon",
      "html_url": "https://github.com/aturon",
      "followers_url": "https://api.github.com/users/aturon/followers",
      "following_url": "https://api.github.com/users/aturon/following{/other_user}",
      "gists_url": "https://api.github.com/users/aturon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aturon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aturon/subscriptions",
      "organizations_url": "https://api.github.com/users/aturon/orgs",
      "repos_url": "https://api.github.com/users/aturon/repos",
      "events_url": "https://api.github.com/users/aturon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aturon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-17T04:17:11Z",
    "updated_at": "2014-07-17T04:17:11Z",
    "body": "To be clear, the signature would look something like:\n\n``` rust\nfn find<'a, Q>(&'a self, k: &Q) -> Option<&'a V>\n    where Q: Hash<S>, () : Equiv<K, Q>\n```\n\nusing the trick of encoding multiparameter typeclasses via `impl`s on the unit type.\n\nWe'd also have `impl<T> Equiv<T, T> for ()`, so that this `find` is usable in the same way the current `find` is -- thus merging the `find` and `find_equiv` functionality.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49256800/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49257590",
    "html_url": "https://github.com/rust-lang/rust/pull/15721#issuecomment-49257590",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15721",
    "id": 49257590,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MjU3NTkw",
    "user": {
      "login": "pcwalton",
      "id": 157897,
      "node_id": "MDQ6VXNlcjE1Nzg5Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/157897?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pcwalton",
      "html_url": "https://github.com/pcwalton",
      "followers_url": "https://api.github.com/users/pcwalton/followers",
      "following_url": "https://api.github.com/users/pcwalton/following{/other_user}",
      "gists_url": "https://api.github.com/users/pcwalton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pcwalton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pcwalton/subscriptions",
      "organizations_url": "https://api.github.com/users/pcwalton/orgs",
      "repos_url": "https://api.github.com/users/pcwalton/repos",
      "events_url": "https://api.github.com/users/pcwalton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pcwalton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-17T04:36:37Z",
    "updated_at": "2014-07-17T04:36:37Z",
    "body": "I worry that that solution makes the type signature of `find` stray too far from the \"obvious\" type signature. The solution of duplicating APIs adds more surface area, but it's simple and easy to understand.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49257590/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49352197",
    "html_url": "https://github.com/rust-lang/rust/pull/15721#issuecomment-49352197",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15721",
    "id": 49352197,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MzUyMTk3",
    "user": {
      "login": "aochagavia",
      "id": 5196584,
      "node_id": "MDQ6VXNlcjUxOTY1ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5196584?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aochagavia",
      "html_url": "https://github.com/aochagavia",
      "followers_url": "https://api.github.com/users/aochagavia/followers",
      "following_url": "https://api.github.com/users/aochagavia/following{/other_user}",
      "gists_url": "https://api.github.com/users/aochagavia/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aochagavia/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aochagavia/subscriptions",
      "organizations_url": "https://api.github.com/users/aochagavia/orgs",
      "repos_url": "https://api.github.com/users/aochagavia/repos",
      "events_url": "https://api.github.com/users/aochagavia/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aochagavia/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-17T19:25:06Z",
    "updated_at": "2014-07-17T19:25:06Z",
    "body": "Thanks for commenting! I understand the problem with this and hope that it can be solved in the future.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49352197/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
