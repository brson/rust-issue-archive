[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/4772267",
    "html_url": "https://github.com/rust-lang/rust/issues/2060#issuecomment-4772267",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/2060",
    "id": 4772267,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3NzIyNjc=",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-03-28T17:11:31Z",
    "updated_at": "2012-03-28T17:12:27Z",
    "body": "Hmm. I am not able to reproduce the problem locally.  It appears that \nthe error has to do with the //aux-build: directive.\n\nThe build command shown in the logs:\n\n```\nx86_64-unknown-linux-gnu/stage2/bin/rustc - --no-trans --lib -L x86_64-unknown-linux-gnu/test/run-pass/ -O --target=x86_64-unknown-linux-gnu\n```\n\ndoes appear to have the `-L` directive that should allow it to find the \nauxiliary crates, so presumably the problem is that the crates \nthemselves did not build.  But this ought to give an error.\n\nSeeing as the problem only occurs for distcheck, I am guessing that it \nhas to do with the \"make -C dist check\" command: perhaps the problem is \nthe relative paths are being evaluated relative to the wrong directory \n(e.g., not the `dist` directory), or at least they are being evaluated \ninconsistently.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/4772267/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/4775663",
    "html_url": "https://github.com/rust-lang/rust/issues/2060#issuecomment-4775663",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/2060",
    "id": 4775663,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3NzU2NjM=",
    "user": {
      "login": "graydon",
      "id": 14097,
      "node_id": "MDQ6VXNlcjE0MDk3",
      "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/graydon",
      "html_url": "https://github.com/graydon",
      "followers_url": "https://api.github.com/users/graydon/followers",
      "following_url": "https://api.github.com/users/graydon/following{/other_user}",
      "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/graydon/subscriptions",
      "organizations_url": "https://api.github.com/users/graydon/orgs",
      "repos_url": "https://api.github.com/users/graydon/repos",
      "events_url": "https://api.github.com/users/graydon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/graydon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-03-28T17:57:43Z",
    "updated_at": "2012-03-28T17:57:43Z",
    "body": "Yeah, plausible. It's just weird that it only happens in these tests. Maybe the \"cross-crate\" nature is at issue? The driver does something funny with paths when searching for cross-crate inline candidates that's not done locally?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/4775663/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/4777583",
    "html_url": "https://github.com/rust-lang/rust/issues/2060#issuecomment-4777583",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/2060",
    "id": 4777583,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3Nzc1ODM=",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-03-28T18:24:13Z",
    "updated_at": "2012-03-28T18:24:13Z",
    "body": "Yes, I don't understand why it should fail only with pretty printing! Very confusing.  What happens is as follows:\n- the aux-build directive causes us to build the given file in the auxiliary directory.  The path to the auxiliary directory is given as a command line option to the test runner.\n- the output of the build goes into the same directory as all other builds (run-pass, in this case)\n- the output directory (i.e., `run-pass`) is then put onto the -L path.\n\nAh, I have a hypothesis: perhaps in pretty mode (which is, after all, a separate mode) the aux-build directive is not being honored.  In normal circumstances, this may succeed because the non-pretty tests have already run so the library is still there to be linked against.  However, in the dist case, if it is looking in the wrong directory, then the lib would not be there.  If this hypothesis is correct, then running _just_ the pretty printing tests against a clean directory should fail.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/4777583/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
