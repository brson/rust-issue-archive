[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/64263004",
    "html_url": "https://github.com/rust-lang/rust/issues/19277#issuecomment-64263004",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19277",
    "id": 64263004,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0MjYzMDA0",
    "user": {
      "login": "ghost",
      "id": 10137,
      "node_id": "MDQ6VXNlcjEwMTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ghost",
      "html_url": "https://github.com/ghost",
      "followers_url": "https://api.github.com/users/ghost/followers",
      "following_url": "https://api.github.com/users/ghost/following{/other_user}",
      "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
      "organizations_url": "https://api.github.com/users/ghost/orgs",
      "repos_url": "https://api.github.com/users/ghost/repos",
      "events_url": "https://api.github.com/users/ghost/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ghost/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-24T20:56:58Z",
    "updated_at": "2014-11-24T22:10:46Z",
    "body": "I can certainly see `zip_all` being useful but with a rather different signature that more closely aligns with the existing `zip`: `fn zip_longer<U, I>(&self, it: I) -> ZipLonger<T, U> where I: Iterator<U>` where ZipLonger implements `Iterator<(Option<T>, Option<U>)>`. I'd be tempted to see it tightened even further by having it use an enumerated type of three variants `Left`, `Right`, `Both` instead of a tuple of two Options.\n\nThe proposed `zip_all` unnecessarily fuses what is a regular zip with an `all` combinator.\n\nHere's a suggested implementation:\n\n``` rust\nuse std::iter::{Chain, Map, repeat, Repeat, TakeWhile, Zip};\n\ntype ZipLonger<'a, 'b, 'c, T, U, I1, I2> = std::iter::TakeWhile<\n    'a,\n    (Option<T>, Option<U>),\n    Zip<\n        Chain<\n            Map<'b, T, Option<T>, I1>,\n            Repeat<Option<T>>\n        >,\n        Chain<\n            Map<'c, U, Option<U>, I2>,\n            Repeat<Option<U>>\n        >\n    >\n>;\n\nfn zip_longer<'a, 'b, 'c, T: Clone, U: Clone, I1, I2>(a: I1, b: I2)\n    -> ZipLonger<'a, 'b, 'c, T, U, I1, I2>\n    where I1: Iterator<T>, \n          I2: Iterator<U> {\n    a.map(Some).chain(repeat(None))\n        .zip(b.map(Some).chain(repeat(None)))\n        .take_while(|&(ref left, ref right)| left.is_some() || right.is_some())\n}\n```\n\n(as an Iterator method rather than a free-standing function)\n\nIMHO as for `iter_eq`, it seems like since it's a fairly trivial composition of existing combinators (well, including `zip_longer`), it may be hard to justify including it in core regardless of its high utility.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/64263004/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/64273990",
    "html_url": "https://github.com/rust-lang/rust/issues/19277#issuecomment-64273990",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19277",
    "id": 64273990,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0MjczOTkw",
    "user": {
      "login": "SimonSapin",
      "id": 291359,
      "node_id": "MDQ6VXNlcjI5MTM1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SimonSapin",
      "html_url": "https://github.com/SimonSapin",
      "followers_url": "https://api.github.com/users/SimonSapin/followers",
      "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}",
      "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions",
      "organizations_url": "https://api.github.com/users/SimonSapin/orgs",
      "repos_url": "https://api.github.com/users/SimonSapin/repos",
      "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SimonSapin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-24T22:08:55Z",
    "updated_at": "2014-11-24T22:08:55Z",
    "body": "@jakub- Indeed, `zip_longer` is a better primitive that other things can be built on, including `iter_eq`. I\u2019ll submit a PR for it.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/64273990/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/64276015",
    "html_url": "https://github.com/rust-lang/rust/issues/19277#issuecomment-64276015",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19277",
    "id": 64276015,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0Mjc2MDE1",
    "user": {
      "login": "SimonSapin",
      "id": 291359,
      "node_id": "MDQ6VXNlcjI5MTM1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SimonSapin",
      "html_url": "https://github.com/SimonSapin",
      "followers_url": "https://api.github.com/users/SimonSapin/followers",
      "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}",
      "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions",
      "organizations_url": "https://api.github.com/users/SimonSapin/orgs",
      "repos_url": "https://api.github.com/users/SimonSapin/repos",
      "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SimonSapin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-24T22:22:53Z",
    "updated_at": "2014-11-24T22:22:53Z",
    "body": "`zip_longest` PR: https://github.com/rust-lang/rust/pull/19283\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/64276015/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/68355468",
    "html_url": "https://github.com/rust-lang/rust/issues/19277#issuecomment-68355468",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19277",
    "id": 68355468,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4MzU1NDY4",
    "user": {
      "login": "SimonSapin",
      "id": 291359,
      "node_id": "MDQ6VXNlcjI5MTM1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SimonSapin",
      "html_url": "https://github.com/SimonSapin",
      "followers_url": "https://api.github.com/users/SimonSapin/followers",
      "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}",
      "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions",
      "organizations_url": "https://api.github.com/users/SimonSapin/orgs",
      "repos_url": "https://api.github.com/users/SimonSapin/repos",
      "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SimonSapin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-12-30T13:17:36Z",
    "updated_at": "2014-12-30T13:17:36Z",
    "body": "Closing:\n- It turns out `iter_eq` already exists as `std::iter::order::eq`. \n- `zip_longest` is now in [its own crate](https://github.com/SimonSapin/rust-std-candidates#the-zip_longest-iterator-adaptor) and also [in rust-itertools](http://bluss.github.io/rust-itertools/doc/itertools/trait.Itertools.html#method.zip_longest)\n- [rust-casefold](https://github.com/SimonSapin/rust-casefold) is now its own crate. There is no urgency to have it in std, we can revisit later.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/68355468/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
