[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/90751585",
    "html_url": "https://github.com/rust-lang/rust/issues/24157#issuecomment-90751585",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24157",
    "id": 90751585,
    "node_id": "MDEyOklzc3VlQ29tbWVudDkwNzUxNTg1",
    "user": {
      "login": "ftxqxd",
      "id": 2055302,
      "node_id": "MDQ6VXNlcjIwNTUzMDI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2055302?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ftxqxd",
      "html_url": "https://github.com/ftxqxd",
      "followers_url": "https://api.github.com/users/ftxqxd/followers",
      "following_url": "https://api.github.com/users/ftxqxd/following{/other_user}",
      "gists_url": "https://api.github.com/users/ftxqxd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ftxqxd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ftxqxd/subscriptions",
      "organizations_url": "https://api.github.com/users/ftxqxd/orgs",
      "repos_url": "https://api.github.com/users/ftxqxd/repos",
      "events_url": "https://api.github.com/users/ftxqxd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ftxqxd/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-07T22:43:35Z",
    "updated_at": "2015-04-07T22:43:35Z",
    "body": "(@steveklabnik I don't think the A-diagnostics label is appropriate for this issue. The bug is that this gives an error at all, not that the error _message_ is bad, so perhaps I-wrong would be better?)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/90751585/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/90751799",
    "html_url": "https://github.com/rust-lang/rust/issues/24157#issuecomment-90751799",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24157",
    "id": 90751799,
    "node_id": "MDEyOklzc3VlQ29tbWVudDkwNzUxNzk5",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-07T22:45:02Z",
    "updated_at": "2015-04-07T22:45:02Z",
    "body": "I mean, it's a very bad error regardless, but yeah, maybe. I'll add it too.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/90751799/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/90802246",
    "html_url": "https://github.com/rust-lang/rust/issues/24157#issuecomment-90802246",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24157",
    "id": 90802246,
    "node_id": "MDEyOklzc3VlQ29tbWVudDkwODAyMjQ2",
    "user": {
      "login": "offlinemark",
      "id": 2467355,
      "node_id": "MDQ6VXNlcjI0NjczNTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2467355?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/offlinemark",
      "html_url": "https://github.com/offlinemark",
      "followers_url": "https://api.github.com/users/offlinemark/followers",
      "following_url": "https://api.github.com/users/offlinemark/following{/other_user}",
      "gists_url": "https://api.github.com/users/offlinemark/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/offlinemark/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/offlinemark/subscriptions",
      "organizations_url": "https://api.github.com/users/offlinemark/orgs",
      "repos_url": "https://api.github.com/users/offlinemark/repos",
      "events_url": "https://api.github.com/users/offlinemark/events{/privacy}",
      "received_events_url": "https://api.github.com/users/offlinemark/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-08T05:01:38Z",
    "updated_at": "2015-04-08T05:01:38Z",
    "body": "My rustc version, if it helps\n\n```\n$ rustc --verbose --version\nrustc 1.0.0-beta (9854143cb 2015-04-02) (built 2015-04-02)\nbinary: rustc\ncommit-hash: 9854143cba679834bc4ef932858cd5303f015a0e\ncommit-date: 2015-04-02\nbuild-date: 2015-04-02\nhost: x86_64-apple-darwin\nrelease: 1.0.0-beta\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/90802246/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/90803065",
    "html_url": "https://github.com/rust-lang/rust/issues/24157#issuecomment-90803065",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24157",
    "id": 90803065,
    "node_id": "MDEyOklzc3VlQ29tbWVudDkwODAzMDY1",
    "user": {
      "login": "lilyball",
      "id": 714,
      "node_id": "MDQ6VXNlcjcxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/714?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lilyball",
      "html_url": "https://github.com/lilyball",
      "followers_url": "https://api.github.com/users/lilyball/followers",
      "following_url": "https://api.github.com/users/lilyball/following{/other_user}",
      "gists_url": "https://api.github.com/users/lilyball/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lilyball/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lilyball/subscriptions",
      "organizations_url": "https://api.github.com/users/lilyball/orgs",
      "repos_url": "https://api.github.com/users/lilyball/repos",
      "events_url": "https://api.github.com/users/lilyball/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lilyball/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-08T05:07:56Z",
    "updated_at": "2015-04-08T05:07:56Z",
    "body": "Yielding an error is correct here. The error message is merely misleading.\n\nThe core issue here is your first match arm is attempting to evaluate to a `usize` value, but the entire `match` statement is not semicolon-terminated. If you replace the `panic!()` with, say, `42`, you get a similar error:\n\n```\n<anon>:3:5: 6:6 error: mismatched types:\n expected `()`,\n    found `usize`\n(expected (),\n    found usize) [E0308]\n<anon>:3     match std::io::stdin().read_line(&mut input) {\n<anon>:4         Ok(bytes_read) => bytes_read,\n<anon>:5         Err(why) => 42\n<anon>:6     }\n```\n\nThis is also a bit misleading. The error looks like this because the match expression occurs in statement position, so either the match expression needs to resolve to the type `()` or it needs to be semicolon-terminated. The error here could definitely be better. In your case, the error is about the match arms having different types because Rust apparently decides to unify the `panic!()` with the expected `()` return value, instead of with the first match arm's `usize` value. If it resolved it with the `usize` then you'd see the error I listed above instead.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/90803065/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/90803160",
    "html_url": "https://github.com/rust-lang/rust/issues/24157#issuecomment-90803160",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24157",
    "id": 90803160,
    "node_id": "MDEyOklzc3VlQ29tbWVudDkwODAzMTYw",
    "user": {
      "login": "lilyball",
      "id": 714,
      "node_id": "MDQ6VXNlcjcxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/714?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lilyball",
      "html_url": "https://github.com/lilyball",
      "followers_url": "https://api.github.com/users/lilyball/followers",
      "following_url": "https://api.github.com/users/lilyball/following{/other_user}",
      "gists_url": "https://api.github.com/users/lilyball/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lilyball/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lilyball/subscriptions",
      "organizations_url": "https://api.github.com/users/lilyball/orgs",
      "repos_url": "https://api.github.com/users/lilyball/repos",
      "events_url": "https://api.github.com/users/lilyball/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lilyball/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-08T05:08:19Z",
    "updated_at": "2015-04-08T05:08:27Z",
    "body": "Given that, I'm removing I-wrong.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/90803160/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/90806185",
    "html_url": "https://github.com/rust-lang/rust/issues/24157#issuecomment-90806185",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24157",
    "id": 90806185,
    "node_id": "MDEyOklzc3VlQ29tbWVudDkwODA2MTg1",
    "user": {
      "login": "ftxqxd",
      "id": 2055302,
      "node_id": "MDQ6VXNlcjIwNTUzMDI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2055302?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ftxqxd",
      "html_url": "https://github.com/ftxqxd",
      "followers_url": "https://api.github.com/users/ftxqxd/followers",
      "following_url": "https://api.github.com/users/ftxqxd/following{/other_user}",
      "gists_url": "https://api.github.com/users/ftxqxd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ftxqxd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ftxqxd/subscriptions",
      "organizations_url": "https://api.github.com/users/ftxqxd/orgs",
      "repos_url": "https://api.github.com/users/ftxqxd/repos",
      "events_url": "https://api.github.com/users/ftxqxd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ftxqxd/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-08T05:26:13Z",
    "updated_at": "2015-04-08T05:26:13Z",
    "body": "@kballard Huh, you're right. I always assumed that adding a semicolon to a statement-position `match` shouldn't ever change anything.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/90806185/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/90806945",
    "html_url": "https://github.com/rust-lang/rust/issues/24157#issuecomment-90806945",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24157",
    "id": 90806945,
    "node_id": "MDEyOklzc3VlQ29tbWVudDkwODA2OTQ1",
    "user": {
      "login": "lilyball",
      "id": 714,
      "node_id": "MDQ6VXNlcjcxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/714?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lilyball",
      "html_url": "https://github.com/lilyball",
      "followers_url": "https://api.github.com/users/lilyball/followers",
      "following_url": "https://api.github.com/users/lilyball/following{/other_user}",
      "gists_url": "https://api.github.com/users/lilyball/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lilyball/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lilyball/subscriptions",
      "organizations_url": "https://api.github.com/users/lilyball/orgs",
      "repos_url": "https://api.github.com/users/lilyball/repos",
      "events_url": "https://api.github.com/users/lilyball/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lilyball/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-08T05:35:59Z",
    "updated_at": "2015-04-08T05:35:59Z",
    "body": "Funnily enough, just the other day in IRC @bstrie discovered the exact same thing :)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/90806945/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/94215819",
    "html_url": "https://github.com/rust-lang/rust/issues/24157#issuecomment-94215819",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24157",
    "id": 94215819,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk0MjE1ODE5",
    "user": {
      "login": "ghost",
      "id": 10137,
      "node_id": "MDQ6VXNlcjEwMTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ghost",
      "html_url": "https://github.com/ghost",
      "followers_url": "https://api.github.com/users/ghost/followers",
      "following_url": "https://api.github.com/users/ghost/following{/other_user}",
      "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
      "organizations_url": "https://api.github.com/users/ghost/orgs",
      "repos_url": "https://api.github.com/users/ghost/repos",
      "events_url": "https://api.github.com/users/ghost/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ghost/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-19T00:24:10Z",
    "updated_at": "2015-04-19T00:24:10Z",
    "body": "Another interesting test case, by @Binero from https://github.com/rust-lang/rust/issues/24568, that we should include as part of the fix:\n\n``` rust\nfn main() {\n    is_one(1)\n}\n\nfn is_one(a: u8) {\n    match a {\n        1 => true,\n        _ => panic!(\"It's not one!\"),\n    }\n}\n```\n\n```\n<anon>:6:5: 9:6 error: match arms have incompatible types:\n expected `bool`,\n    found `()`\n(expected bool,\n    found ()) [E0308]\n<anon>:6     match a {\n<anon>:7         1 => true,\n<anon>:8         _ => panic!(\"It's not one!\"),\n<anon>:9     }\n<anon>:8:14: 8:38 note: match arm with an incompatible type\n<anon>:8         _ => panic!(\"It's not one!\"),\n                      ^~~~~~~~~~~~~~~~~~~~~~~~\nerror: aborting due to previous error\nplaypen: application terminated with error code 101\nProgram ended.\n```\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/94215819/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 1
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/222651919",
    "html_url": "https://github.com/rust-lang/rust/issues/24157#issuecomment-222651919",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24157",
    "id": 222651919,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMjY1MTkxOQ==",
    "user": {
      "login": "rbtcollins",
      "id": 499678,
      "node_id": "MDQ6VXNlcjQ5OTY3OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/499678?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rbtcollins",
      "html_url": "https://github.com/rbtcollins",
      "followers_url": "https://api.github.com/users/rbtcollins/followers",
      "following_url": "https://api.github.com/users/rbtcollins/following{/other_user}",
      "gists_url": "https://api.github.com/users/rbtcollins/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rbtcollins/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rbtcollins/subscriptions",
      "organizations_url": "https://api.github.com/users/rbtcollins/orgs",
      "repos_url": "https://api.github.com/users/rbtcollins/repos",
      "events_url": "https://api.github.com/users/rbtcollins/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rbtcollins/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-05-31T10:34:12Z",
    "updated_at": "2016-05-31T10:34:12Z",
    "body": "Just to note, that this is super confusing for new rust developers - I sought help in #rust after beating my head on the wall for a bit :)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/222651919/reactions",
      "total_count": 9,
      "+1": 9,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/258053867",
    "html_url": "https://github.com/rust-lang/rust/issues/24157#issuecomment-258053867",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24157",
    "id": 258053867,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1ODA1Mzg2Nw==",
    "user": {
      "login": "fungos",
      "id": 151544,
      "node_id": "MDQ6VXNlcjE1MTU0NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151544?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fungos",
      "html_url": "https://github.com/fungos",
      "followers_url": "https://api.github.com/users/fungos/followers",
      "following_url": "https://api.github.com/users/fungos/following{/other_user}",
      "gists_url": "https://api.github.com/users/fungos/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fungos/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fungos/subscriptions",
      "organizations_url": "https://api.github.com/users/fungos/orgs",
      "repos_url": "https://api.github.com/users/fungos/repos",
      "events_url": "https://api.github.com/users/fungos/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fungos/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-11-03T02:44:17Z",
    "updated_at": "2016-11-03T02:44:17Z",
    "body": "Another code that to me looks the same issue or even #35685. But it is a little different so I'm not really sure if should open a new issue:\n\n```\npub trait Foo {}\n\nstruct Bar;\nstruct Baz;\n\nimpl Foo for Bar { }\nimpl Foo for Baz { }\n\nfn not_all_paths(a: &str) -> u32 {\n    match a {\n        \"baz\" => 0,\n        _ => 1,\n    }; // \"not all control paths return a value\" due to ;\n}\n\nfn right(b: &str) -> Box<Foo> {\n    match b {\n        \"baz\" => Box::new(Baz),\n        _ => Box::new(Bar),\n    }\n}\n\nfn wrong(c: &str) -> Box<Foo> {\n    match c {\n        \"baz\" => Box::new(Baz),\n        _ => Box::new(Bar),\n    }; // \"match arms have incompatible types\" due to ;\n}\n\nfn main() {\n}\n```\n\nPlay here: https://is.gd/GTv1gf\nUsing: rustc 1.14.0-nightly (7c69b0d5a 2016-11-01)\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/258053867/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/282783642",
    "html_url": "https://github.com/rust-lang/rust/issues/24157#issuecomment-282783642",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24157",
    "id": 282783642,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4Mjc4MzY0Mg==",
    "user": {
      "login": "nambrot",
      "id": 571810,
      "node_id": "MDQ6VXNlcjU3MTgxMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/571810?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nambrot",
      "html_url": "https://github.com/nambrot",
      "followers_url": "https://api.github.com/users/nambrot/followers",
      "following_url": "https://api.github.com/users/nambrot/following{/other_user}",
      "gists_url": "https://api.github.com/users/nambrot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nambrot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nambrot/subscriptions",
      "organizations_url": "https://api.github.com/users/nambrot/orgs",
      "repos_url": "https://api.github.com/users/nambrot/repos",
      "events_url": "https://api.github.com/users/nambrot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nambrot/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-02-27T17:08:21Z",
    "updated_at": "2017-02-27T17:08:21Z",
    "body": "Could someone outline what the recommended approach is for differently typed match arms? What do I do with options where i want to just run a operation in the `Some` case but ignore in the `None` case?",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/282783642/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/303793229",
    "html_url": "https://github.com/rust-lang/rust/issues/24157#issuecomment-303793229",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24157",
    "id": 303793229,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMzc5MzIyOQ==",
    "user": {
      "login": "Mark-Simulacrum",
      "id": 5047365,
      "node_id": "MDQ6VXNlcjUwNDczNjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5047365?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Mark-Simulacrum",
      "html_url": "https://github.com/Mark-Simulacrum",
      "followers_url": "https://api.github.com/users/Mark-Simulacrum/followers",
      "following_url": "https://api.github.com/users/Mark-Simulacrum/following{/other_user}",
      "gists_url": "https://api.github.com/users/Mark-Simulacrum/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Mark-Simulacrum/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Mark-Simulacrum/subscriptions",
      "organizations_url": "https://api.github.com/users/Mark-Simulacrum/orgs",
      "repos_url": "https://api.github.com/users/Mark-Simulacrum/repos",
      "events_url": "https://api.github.com/users/Mark-Simulacrum/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Mark-Simulacrum/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-05-24T17:22:43Z",
    "updated_at": "2017-05-24T17:22:43Z",
    "body": "So I think the fix here would involve basically throwing away individual match arms, returning `()` instead of their type so as to \"unify\" when the match is in statement position. This seems relatively fine, but cc @rust-lang/lang -- would we need an RFC for this? Is that the correct interpretation of the best option?",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/303793229/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/303826608",
    "html_url": "https://github.com/rust-lang/rust/issues/24157#issuecomment-303826608",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24157",
    "id": 303826608,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMzgyNjYwOA==",
    "user": {
      "login": "withoutboats",
      "id": 9063376,
      "node_id": "MDQ6VXNlcjkwNjMzNzY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9063376?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/withoutboats",
      "html_url": "https://github.com/withoutboats",
      "followers_url": "https://api.github.com/users/withoutboats/followers",
      "following_url": "https://api.github.com/users/withoutboats/following{/other_user}",
      "gists_url": "https://api.github.com/users/withoutboats/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/withoutboats/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/withoutboats/subscriptions",
      "organizations_url": "https://api.github.com/users/withoutboats/orgs",
      "repos_url": "https://api.github.com/users/withoutboats/repos",
      "events_url": "https://api.github.com/users/withoutboats/events{/privacy}",
      "received_events_url": "https://api.github.com/users/withoutboats/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-05-24T19:26:59Z",
    "updated_at": "2017-05-24T19:26:59Z",
    "body": "The current behavior seems preferable to a change to me.\r\n\r\nIn all of these cases you are doing something quite unidiomatic, and in several the programmer has almost certainly made a mistake and should receive an error. For example:\r\n\r\n```rust\r\nfn is_one(a: u8) {\r\n    match a {\r\n        1 => true,\r\n        _ => panic!(\"It's not one!\"),\r\n    }\r\n}\r\n```\r\n\r\nIt seems clear to me that this function is supposed to return `bool`; if you change the return type, it will compile.\r\n\r\nFor the rest of them I see similar errors.\r\n\r\nThere are diagnostics issues, but I definitely think nothing should change about the semantics.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/303826608/reactions",
      "total_count": 4,
      "+1": 4,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/304066195",
    "html_url": "https://github.com/rust-lang/rust/issues/24157#issuecomment-304066195",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24157",
    "id": 304066195,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwNDA2NjE5NQ==",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-05-25T17:10:49Z",
    "updated_at": "2017-05-25T17:10:49Z",
    "body": "I agree with @withoutboats that this is a purely diagnostic issue.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/304066195/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/332055408",
    "html_url": "https://github.com/rust-lang/rust/issues/24157#issuecomment-332055408",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24157",
    "id": 332055408,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMjA1NTQwOA==",
    "user": {
      "login": "estebank",
      "id": 1606434,
      "node_id": "MDQ6VXNlcjE2MDY0MzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/estebank",
      "html_url": "https://github.com/estebank",
      "followers_url": "https://api.github.com/users/estebank/followers",
      "following_url": "https://api.github.com/users/estebank/following{/other_user}",
      "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/estebank/subscriptions",
      "organizations_url": "https://api.github.com/users/estebank/orgs",
      "repos_url": "https://api.github.com/users/estebank/repos",
      "events_url": "https://api.github.com/users/estebank/events{/privacy}",
      "received_events_url": "https://api.github.com/users/estebank/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-09-26T01:01:33Z",
    "updated_at": "2019-01-31T00:26:55Z",
    "body": "For @withoutboats case, the output is the original error:\r\n\r\n```\r\nerror[E0308]: match arms have incompatible types\r\n --> src/main.rs:6:5\r\n  |\r\n6 | /     match a {\r\n7 | |         1 => true,\r\n8 | |         _ => panic!(\"It's not one!\"),\r\n9 | |     }\r\n  | |_____^ expected bool, found ()\r\n  |\r\n  = note: expected type `bool`\r\n             found type `()`\r\nnote: match arm with an incompatible type\r\n --> src/main.rs:8:14\r\n  |\r\n8 |         _ => panic!(\"It's not one!\"),\r\n  |              ^^^^^^^^^^^^^^^^^^^^^^^\r\n  = note: this error originates in a macro outside of the current crate\r\n```\r\n\r\nBut if we \"fix\" the incompatible arms \"problem\", we get get a [suggestion to change the return type](https://github.com/rust-lang/rust/pull/43484):\r\n\r\n```\r\nerror[E0308]: mismatched types\r\n --> src/main.rs:8:40\r\n  |\r\n5 | fn is_one(a: u8) {\r\n  |                  - help: possibly return type missing here?: `-> bool `\r\n...\r\n8 |         _ => {panic!(\"It's not one!\"); false},\r\n  |                                        ^^^^^ expected (), found bool\r\n  |\r\n  = note: expected type `()`\r\n             found type `bool`\r\n```\r\n\r\nI'm guessing that adding that suggestion to `match arms have incompatible types` would be worthwhile (maybe with a suggestion to add a semicolon at the end of the match, but I don't think that's as worthwhile).\r\n\r\n---\r\n\r\n@fungos's code now produces a code suggestion to remove the incorrect semicolons:\r\n\r\n```\r\nerror[E0308]: mismatched types\r\n  --> src/main.rs:9:34\r\n   |\r\n9  |   fn not_all_paths(a: &str) -> u32 {\r\n   |  __________________________________^\r\n10 | |     match a {\r\n11 | |         \"baz\" => 0,\r\n12 | |         _ => 1,\r\n13 | |     }; // not all control paths return a value due to ;\r\n   | |      - help: consider removing this semicolon\r\n14 | | }\r\n   | |_^ expected u32, found ()\r\n   |\r\n   = note: expected type `u32`\r\n              found type `()`\r\n\r\nerror[E0308]: match arms have incompatible types\r\n  --> src/main.rs:24:5\r\n   |\r\n24 | /     match c {\r\n25 | |         \"baz\" => Box::new(Baz),\r\n26 | |         _ => Box::new(Bar),\r\n27 | |     }; // match arms have incompatible types due to ;\r\n   | |_____^ expected struct `Baz`, found struct `Bar`\r\n   |\r\n   = note: expected type `std::boxed::Box<Baz>`\r\n              found type `std::boxed::Box<Bar>`\r\nnote: match arm with an incompatible type\r\n  --> src/main.rs:26:14\r\n   |\r\n26 |         _ => Box::new(Bar),\r\n   |              ^^^^^^^^^^^^^\r\n\r\nerror[E0308]: mismatched types\r\n  --> src/main.rs:23:31\r\n   |\r\n23 |   fn wrong(c: &str) -> Box<Foo> {\r\n   |  _______________________________^\r\n24 | |     match c {\r\n25 | |         \"baz\" => Box::new(Baz),\r\n26 | |         _ => Box::new(Bar),\r\n27 | |     }; // match arms have incompatible types due to ;\r\n   | |      - help: consider removing this semicolon\r\n28 | | }\r\n   | |_^ expected struct `std::boxed::Box`, found ()\r\n   |\r\n   = note: expected type `std::boxed::Box<Foo + 'static>`\r\n              found type `()`\r\n```",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/332055408/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/459165987",
    "html_url": "https://github.com/rust-lang/rust/issues/24157#issuecomment-459165987",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24157",
    "id": 459165987,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1OTE2NTk4Nw==",
    "user": {
      "login": "estebank",
      "id": 1606434,
      "node_id": "MDQ6VXNlcjE2MDY0MzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/estebank",
      "html_url": "https://github.com/estebank",
      "followers_url": "https://api.github.com/users/estebank/followers",
      "following_url": "https://api.github.com/users/estebank/following{/other_user}",
      "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/estebank/subscriptions",
      "organizations_url": "https://api.github.com/users/estebank/orgs",
      "repos_url": "https://api.github.com/users/estebank/repos",
      "events_url": "https://api.github.com/users/estebank/events{/privacy}",
      "received_events_url": "https://api.github.com/users/estebank/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2019-01-31T00:26:44Z",
    "updated_at": "2019-01-31T00:26:44Z",
    "body": "_Updated to Jan 2019:_\r\n\r\nFor @withoutboats case, the output is the original error:\r\n\r\n```\r\nerror[E0308]: match arms have incompatible types\r\n --> src/main.rs:6:5\r\n  |\r\n6 | /     match a {\r\n7 | |         1 => true,\r\n8 | |         _ => panic!(\"It's not one!\"),\r\n9 | |     }\r\n  | |_____^ expected bool, found ()\r\n  |\r\n  = note: expected type `bool`\r\n             found type `()`\r\nnote: match arm with an incompatible type\r\n --> src/main.rs:8:14\r\n  |\r\n8 |         _ => panic!(\"It's not one!\"),\r\n  |              ^^^^^^^^^^^^^^^^^^^^^^^\r\n  = note: this error originates in a macro outside of the current crate\r\n```\r\n\r\nBut if we \"fix\" the incompatible arms \"problem\", we get get a [suggestion to change the return type](https://github.com/rust-lang/rust/pull/43484):\r\n\r\n```\r\nerror[E0308]: mismatched types\r\n --> src/main.rs:8:40\r\n  |\r\n5 | fn is_one(a: u8) {\r\n  |                  - help: possibly return type missing here?: `-> bool `\r\n...\r\n8 |         _ => {panic!(\"It's not one!\"); false},\r\n  |                                        ^^^^^ expected (), found bool\r\n  |\r\n  = note: expected type `()`\r\n             found type `bool`\r\n```\r\n\r\nI'm guessing that adding that suggestion to `match arms have incompatible types` would be worthwhile (maybe with a suggestion to add a semicolon at the end of the match as we do in some cases, but I don't think that's as worthwhile).\r\n\r\n---\r\n\r\n@fungos's code now produces a code suggestion to remove the incorrect semicolons:\r\n\r\n```\r\nerror[E0308]: mismatched types\r\n  --> src/main.rs:9:30\r\n   |\r\n9  | fn not_all_paths(a: &str) -> u32 {\r\n   |    -------------             ^^^ expected u32, found ()\r\n   |    |\r\n   |    this function's body doesn't return\r\n...\r\n13 |     }; // \"not all control paths return a value\" due to ;\r\n   |      - help: consider removing this semicolon\r\n   |\r\n   = note: expected type `u32`\r\n              found type `()`\r\n\r\nerror[E0308]: match arms have incompatible types\r\n  --> src/main.rs:24:5\r\n   |\r\n24 | /     match c {\r\n25 | |         \"baz\" => Box::new(Baz),\r\n26 | |         _ => Box::new(Bar),\r\n   | |              ------------- match arm with an incompatible type\r\n27 | |     }; // \"match arms have incompatible types\" due to ;\r\n   | |_____^ expected struct `Baz`, found struct `Bar`\r\n   |\r\n   = note: expected type `std::boxed::Box<Baz>`\r\n              found type `std::boxed::Box<Bar>`\r\n\r\nerror[E0308]: mismatched types\r\n  --> src/main.rs:23:22\r\n   |\r\n23 | fn wrong(c: &str) -> Box<Foo> {\r\n   |    -----             ^^^^^^^^ expected struct `std::boxed::Box`, found ()\r\n   |    |\r\n   |    this function's body doesn't return\r\n...\r\n27 |     }; // \"match arms have incompatible types\" due to ;\r\n   |      - help: consider removing this semicolon\r\n   |\r\n   = note: expected type `std::boxed::Box<(dyn Foo + 'static)>`\r\n              found type `()`\r\n```",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/459165987/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/470738284",
    "html_url": "https://github.com/rust-lang/rust/issues/24157#issuecomment-470738284",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24157",
    "id": 470738284,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3MDczODI4NA==",
    "user": {
      "login": "estebank",
      "id": 1606434,
      "node_id": "MDQ6VXNlcjE2MDY0MzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/estebank",
      "html_url": "https://github.com/estebank",
      "followers_url": "https://api.github.com/users/estebank/followers",
      "following_url": "https://api.github.com/users/estebank/following{/other_user}",
      "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/estebank/subscriptions",
      "organizations_url": "https://api.github.com/users/estebank/orgs",
      "repos_url": "https://api.github.com/users/estebank/repos",
      "events_url": "https://api.github.com/users/estebank/events{/privacy}",
      "received_events_url": "https://api.github.com/users/estebank/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2019-03-07T23:09:17Z",
    "updated_at": "2019-03-07T23:09:17Z",
    "body": "I believe there's little room for improvement here beyond what has been done so far:\r\n\r\n```\r\nerror[E0308]: match arms have incompatible types\r\n --> src/main.rs:5:21\r\n  |\r\n3 | /     match std::io::stdin().read_line(&mut input) {\r\n4 | |         Ok(bytes_read) => bytes_read,\r\n  | |                           ---------- this is found to be of type `usize`\r\n5 | |         Err(why) => panic!(\"{}\", why)\r\n  | |                     ^^^^^^^^^^^^^^^^^ expected usize, found ()\r\n6 | |     }\r\n  | |_____- `match` arms have incompatible types\r\n  |\r\n  = note: expected type `usize`\r\n             found type `()`\r\n  = note: this error originates in a macro outside of the current crate (in Nightly builds, run with -Z external-macro-backtrace for more info)\r\n```\r\n```\r\nerror[E0308]: match arms have incompatible types\r\n --> src/main.rs:8:14\r\n  |\r\n6 | /     match a {\r\n7 | |         1 => true,\r\n  | |              ---- this is found to be of type `bool`\r\n8 | |         _ => panic!(\"It's not one!\"),\r\n  | |              ^^^^^^^^^^^^^^^^^^^^^^^ expected bool, found ()\r\n9 | |     }\r\n  | |_____- `match` arms have incompatible types\r\n  |\r\n  = note: expected type `bool`\r\n             found type `()`\r\n  = note: this error originates in a macro outside of the current crate (in Nightly builds, run with -Z external-macro-backtrace for more info)\r\n```",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/470738284/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/538615506",
    "html_url": "https://github.com/rust-lang/rust/issues/24157#issuecomment-538615506",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24157",
    "id": 538615506,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzODYxNTUwNg==",
    "user": {
      "login": "obiwanus",
      "id": 179863,
      "node_id": "MDQ6VXNlcjE3OTg2Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/179863?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/obiwanus",
      "html_url": "https://github.com/obiwanus",
      "followers_url": "https://api.github.com/users/obiwanus/followers",
      "following_url": "https://api.github.com/users/obiwanus/following{/other_user}",
      "gists_url": "https://api.github.com/users/obiwanus/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/obiwanus/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/obiwanus/subscriptions",
      "organizations_url": "https://api.github.com/users/obiwanus/orgs",
      "repos_url": "https://api.github.com/users/obiwanus/repos",
      "events_url": "https://api.github.com/users/obiwanus/events{/privacy}",
      "received_events_url": "https://api.github.com/users/obiwanus/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2019-10-05T04:31:34Z",
    "updated_at": "2019-10-05T04:31:34Z",
    "body": "@estebank I can't see why the examples you provided don't compile, while this chapter in the official book says that `panic!` has a return type `!` so should never conflict with other arms in a `match` expression: https://doc.rust-lang.org/book/ch19-04-advanced-types.html?highlight=diverg#the-never-type-that-never-returns",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/538615506/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/538666805",
    "html_url": "https://github.com/rust-lang/rust/issues/24157#issuecomment-538666805",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24157",
    "id": 538666805,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzODY2NjgwNQ==",
    "user": {
      "login": "estebank",
      "id": 1606434,
      "node_id": "MDQ6VXNlcjE2MDY0MzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/estebank",
      "html_url": "https://github.com/estebank",
      "followers_url": "https://api.github.com/users/estebank/followers",
      "following_url": "https://api.github.com/users/estebank/following{/other_user}",
      "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/estebank/subscriptions",
      "organizations_url": "https://api.github.com/users/estebank/orgs",
      "repos_url": "https://api.github.com/users/estebank/repos",
      "events_url": "https://api.github.com/users/estebank/events{/privacy}",
      "received_events_url": "https://api.github.com/users/estebank/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2019-10-05T16:45:56Z",
    "updated_at": "2019-10-05T16:45:56Z",
    "body": "You're right, this error should suggest writing `match a { /* ... */ };` with a finishing semicolon. This arm is being evaluated to `()` because that obligation is flowing up from the `match` block.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/538666805/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/741917397",
    "html_url": "https://github.com/rust-lang/rust/issues/24157#issuecomment-741917397",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24157",
    "id": 741917397,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc0MTkxNzM5Nw==",
    "user": {
      "login": "rylev",
      "id": 1327285,
      "node_id": "MDQ6VXNlcjEzMjcyODU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1327285?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rylev",
      "html_url": "https://github.com/rylev",
      "followers_url": "https://api.github.com/users/rylev/followers",
      "following_url": "https://api.github.com/users/rylev/following{/other_user}",
      "gists_url": "https://api.github.com/users/rylev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rylev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rylev/subscriptions",
      "organizations_url": "https://api.github.com/users/rylev/orgs",
      "repos_url": "https://api.github.com/users/rylev/repos",
      "events_url": "https://api.github.com/users/rylev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rylev/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-12-09T17:18:03Z",
    "updated_at": "2020-12-09T17:18:03Z",
    "body": "Triage: this still produces the same diagnostics on the latest stable and nightly. ",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/741917397/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1046161690",
    "html_url": "https://github.com/rust-lang/rust/issues/24157#issuecomment-1046161690",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24157",
    "id": 1046161690,
    "node_id": "IC_kwDOAAsO6M4-Wyka",
    "user": {
      "login": "workingjubilee",
      "id": 46493976,
      "node_id": "MDQ6VXNlcjQ2NDkzOTc2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/workingjubilee",
      "html_url": "https://github.com/workingjubilee",
      "followers_url": "https://api.github.com/users/workingjubilee/followers",
      "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}",
      "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions",
      "organizations_url": "https://api.github.com/users/workingjubilee/orgs",
      "repos_url": "https://api.github.com/users/workingjubilee/repos",
      "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}",
      "received_events_url": "https://api.github.com/users/workingjubilee/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2022-02-20T04:38:14Z",
    "updated_at": "2022-02-20T04:38:30Z",
    "body": "Triage report: emits the correct diagnostic for Rust Edition 2021, and thus we **could** close this, but before we do so, I should note that I added the caveat there quite deliberately as this actually emits the wrong diagnostic still, in a very weird way, on Edition 2015 and Edition 2018:\r\n```\r\nCompiling playground v0.0.1 (/playground)\r\nerror[[E0308]](https://doc.rust-lang.org/stable/error-index.html#E0308): `match` arms have incompatible types\r\n [--> src/main.rs:5:21\r\n](https://play.rust-lang.org/?version=stable&mode=debug&edition=2018#)  |\r\n3 | /     match std::io::stdin().read_line(&mut input) {\r\n4 | |         Ok(bytes_read) => bytes_read,\r\n  | |                           ---------- this is found to be of type `usize`\r\n5 | |         Err(why) => panic!(\"{}\", why)\r\n  | |                     ^^^^^^^^^^^^^^^^^ expected `usize`, found `()`\r\n6 | |     }\r\n  | |_____- `match` arms have incompatible types\r\n  |\r\n  = note: this error originates in the macro `$crate::panic::panic_2015`\r\n  (in Nightly builds, run with -Z macro-backtrace for more info)\r\n```\r\n\r\nstable/nightly doesn't seem to matter. rustc version is 1.61.0",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1046161690/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1047943629",
    "html_url": "https://github.com/rust-lang/rust/issues/24157#issuecomment-1047943629",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24157",
    "id": 1047943629,
    "node_id": "IC_kwDOAAsO6M4-dlnN",
    "user": {
      "login": "estebank",
      "id": 1606434,
      "node_id": "MDQ6VXNlcjE2MDY0MzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/estebank",
      "html_url": "https://github.com/estebank",
      "followers_url": "https://api.github.com/users/estebank/followers",
      "following_url": "https://api.github.com/users/estebank/following{/other_user}",
      "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/estebank/subscriptions",
      "organizations_url": "https://api.github.com/users/estebank/orgs",
      "repos_url": "https://api.github.com/users/estebank/repos",
      "events_url": "https://api.github.com/users/estebank/events{/privacy}",
      "received_events_url": "https://api.github.com/users/estebank/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2022-02-22T15:58:17Z",
    "updated_at": "2022-02-22T15:58:17Z",
    "body": "@workingjubilee, I agree that the ticket should remain open, although with a lower priority :)\r\n\r\nThanks for triaging!",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1047943629/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1322563068",
    "html_url": "https://github.com/rust-lang/rust/issues/24157#issuecomment-1322563068",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24157",
    "id": 1322563068,
    "node_id": "IC_kwDOAAsO6M5O1LX8",
    "user": {
      "login": "arkivm",
      "id": 1118815,
      "node_id": "MDQ6VXNlcjExMTg4MTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1118815?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/arkivm",
      "html_url": "https://github.com/arkivm",
      "followers_url": "https://api.github.com/users/arkivm/followers",
      "following_url": "https://api.github.com/users/arkivm/following{/other_user}",
      "gists_url": "https://api.github.com/users/arkivm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/arkivm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/arkivm/subscriptions",
      "organizations_url": "https://api.github.com/users/arkivm/orgs",
      "repos_url": "https://api.github.com/users/arkivm/repos",
      "events_url": "https://api.github.com/users/arkivm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/arkivm/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2022-11-21T19:45:56Z",
    "updated_at": "2022-11-21T19:45:56Z",
    "body": "Sorry for bumping on the existing issue. But the problem I encounter is very relevant to this issue.\r\n\r\nThe snippet ([playground](https://play.rust-lang.org/?version=nightly&mode=debug&edition=2015&gist=d7301ad51e77123f2e0dea432e7ea924)) \r\n\r\n```rust\r\nfn exit_wrapper() {\r\n    std::process::exit(1)\r\n}\r\n\r\nfn main() {\r\n    let mut input: String = String::new();\r\n    match std::io::stdin().read_line(&mut input) {\r\n        Ok(u) => u,\r\n        Err(_e) => exit_wrapper(),\r\n    };\r\n}\r\n```\r\n\r\nerrors with \r\n\r\n```\r\n   Compiling playground v0.0.1 (/playground)\r\nerror[[E0308]](https://doc.rust-lang.org/nightly/error-index.html#E0308): `match` arms have incompatible types\r\n  --> src/main.rs:9:20\r\n   |\r\n7  | /     match std::io::stdin().read_line(&mut input) {\r\n8  | |         Ok(u) => u,\r\n   | |                  - this is found to be of type `usize`\r\n9  | |         Err(_e) => exit_wrapper(),\r\n   | |                    ^^^^^^^^^^^^^^ expected `usize`, found `()`\r\n10 | |     };\r\n   | |_____- `match` arms have incompatible types\r\n\r\nFor more information about this error, try `rustc --explain E0308`.\r\nerror: could not compile `playground` due to previous error\r\n```\r\nHowever, it compiles when I explicitly annotate the `exit_wrapper` with a return type `-> !`.\r\nIs it unreasonable to expect the compiler to deduce the type of `exit_wrapper` function automatically to `!`?",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1322563068/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1323203606",
    "html_url": "https://github.com/rust-lang/rust/issues/24157#issuecomment-1323203606",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24157",
    "id": 1323203606,
    "node_id": "IC_kwDOAAsO6M5O3nwW",
    "user": {
      "login": "workingjubilee",
      "id": 46493976,
      "node_id": "MDQ6VXNlcjQ2NDkzOTc2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/workingjubilee",
      "html_url": "https://github.com/workingjubilee",
      "followers_url": "https://api.github.com/users/workingjubilee/followers",
      "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}",
      "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions",
      "organizations_url": "https://api.github.com/users/workingjubilee/orgs",
      "repos_url": "https://api.github.com/users/workingjubilee/repos",
      "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}",
      "received_events_url": "https://api.github.com/users/workingjubilee/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2022-11-22T07:02:46Z",
    "updated_at": "2022-11-22T07:02:46Z",
    "body": ">  Is it unreasonable to expect the compiler to deduce the type of exit_wrapper function automatically to !?\r\n\r\nBasically: yes. You are asking for the deduction Rust decided to **not** attempt.\r\n\r\nFunction signatures are a coercion site and must remain stable despite their interior for various other stability promises to mean much, so the function signature **must** dominate over whatever the contents are. This is relaxed in very specific cases, but those cases are ones where a type can be inferred along the \"exterior\" of the function signature, and the \"interior\" will not have any meaningful effect on the type deduced.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1323203606/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1323291214",
    "html_url": "https://github.com/rust-lang/rust/issues/24157#issuecomment-1323291214",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24157",
    "id": 1323291214,
    "node_id": "IC_kwDOAAsO6M5O39JO",
    "user": {
      "login": "arkivm",
      "id": 1118815,
      "node_id": "MDQ6VXNlcjExMTg4MTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1118815?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/arkivm",
      "html_url": "https://github.com/arkivm",
      "followers_url": "https://api.github.com/users/arkivm/followers",
      "following_url": "https://api.github.com/users/arkivm/following{/other_user}",
      "gists_url": "https://api.github.com/users/arkivm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/arkivm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/arkivm/subscriptions",
      "organizations_url": "https://api.github.com/users/arkivm/orgs",
      "repos_url": "https://api.github.com/users/arkivm/repos",
      "events_url": "https://api.github.com/users/arkivm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/arkivm/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2022-11-22T08:31:47Z",
    "updated_at": "2022-11-22T08:31:47Z",
    "body": "Thank you @workingjubilee. That clarifies my question. Also, thanks for posting an explanation on the mentioned issue. ",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1323291214/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1323989406",
    "html_url": "https://github.com/rust-lang/rust/issues/24157#issuecomment-1323989406",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24157",
    "id": 1323989406,
    "node_id": "IC_kwDOAAsO6M5O6nme",
    "user": {
      "login": "estebank",
      "id": 1606434,
      "node_id": "MDQ6VXNlcjE2MDY0MzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/estebank",
      "html_url": "https://github.com/estebank",
      "followers_url": "https://api.github.com/users/estebank/followers",
      "following_url": "https://api.github.com/users/estebank/following{/other_user}",
      "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/estebank/subscriptions",
      "organizations_url": "https://api.github.com/users/estebank/orgs",
      "repos_url": "https://api.github.com/users/estebank/repos",
      "events_url": "https://api.github.com/users/estebank/events{/privacy}",
      "received_events_url": "https://api.github.com/users/estebank/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2022-11-22T17:03:56Z",
    "updated_at": "2022-11-22T17:03:56Z",
    "body": "Maybe the diagnostic could attempt to perform that analysis on `exit_wrapper()` to see if [it *could* return `!` and suggest that code](https://play.rust-lang.org/?version=nightly&mode=debug&edition=2015&gist=c352537435b3c8d9983a102f0afa1279), and either way we should be pointing at line 1 stating \"`exit_wrapper` returns `()`\".",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1323989406/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1648532798",
    "html_url": "https://github.com/rust-lang/rust/issues/24157#issuecomment-1648532798",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24157",
    "id": 1648532798,
    "node_id": "IC_kwDOAAsO6M5iQp0-",
    "user": {
      "login": "estebank",
      "id": 1606434,
      "node_id": "MDQ6VXNlcjE2MDY0MzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/estebank",
      "html_url": "https://github.com/estebank",
      "followers_url": "https://api.github.com/users/estebank/followers",
      "following_url": "https://api.github.com/users/estebank/following{/other_user}",
      "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/estebank/subscriptions",
      "organizations_url": "https://api.github.com/users/estebank/orgs",
      "repos_url": "https://api.github.com/users/estebank/repos",
      "events_url": "https://api.github.com/users/estebank/events{/privacy}",
      "received_events_url": "https://api.github.com/users/estebank/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2023-07-24T20:07:01Z",
    "updated_at": "2023-07-24T20:07:01Z",
    "body": "current output for the original report:\r\n\r\n```\r\nerror[E0308]: mismatched types\r\n --> src/main.rs:3:5\r\n  |\r\n3 | /     match std::io::stdin().read_line(&mut input) {\r\n4 | |         Ok(bytes_read) => bytes_read,\r\n5 | |         Err(why) => panic!(\"{}\", why)\r\n6 | |     }\r\n  | |     ^- help: consider using a semicolon here\r\n  | |_____|\r\n  |       expected `()`, found `usize`\r\n```\r\n\r\nThere has been no movement in trying to probe a called function that returns `()` to see if it could be `!` instead. I'm not sure if we will.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1648532798/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1784010229",
    "html_url": "https://github.com/rust-lang/rust/issues/24157#issuecomment-1784010229",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24157",
    "id": 1784010229,
    "node_id": "IC_kwDOAAsO6M5qVdX1",
    "user": {
      "login": "majaha",
      "id": 8265836,
      "node_id": "MDQ6VXNlcjgyNjU4MzY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8265836?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/majaha",
      "html_url": "https://github.com/majaha",
      "followers_url": "https://api.github.com/users/majaha/followers",
      "following_url": "https://api.github.com/users/majaha/following{/other_user}",
      "gists_url": "https://api.github.com/users/majaha/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/majaha/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/majaha/subscriptions",
      "organizations_url": "https://api.github.com/users/majaha/orgs",
      "repos_url": "https://api.github.com/users/majaha/repos",
      "events_url": "https://api.github.com/users/majaha/events{/privacy}",
      "received_events_url": "https://api.github.com/users/majaha/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2023-10-29T06:17:47Z",
    "updated_at": "2023-10-29T06:17:47Z",
    "body": "I've made an interesting minimal contrasting pair that showcases this diagnostic issue: [Playground](https://play.rust-lang.org/?version=stable&mode=debug&edition=2021&gist=bcedaf923c708a8121b98ef5e52551f8)\r\n\r\nIf you build the code:\r\n```rust\r\nfn never() -> ! {\r\n    loop {}\r\n}\r\n\r\nfn foo(a: bool) {\r\n    match a {\r\n        true => 1,\r\n        false => never(),\r\n    }\r\n}\r\n```\r\nyou get the error\r\n```\r\nerror[E0308]: mismatched types\r\n --> src/lib.rs:7:17\r\n  |\r\n7 |         true => 1,\r\n  |                 ^ expected `()`, found integer\r\n  |\r\nhelp: consider using a semicolon here\r\n  |\r\n9 |     };\r\n  |      +\r\nhelp: try adding a return type\r\n  |\r\n5 | fn foo(a: bool) -> i32 {\r\n  |                 ++++++\r\n```\r\nwhich is acceptable, and has useful `help:` tips that guide you in the right direction. However, if you wrap the `never()` in a { block }, like so:\r\n```rust\r\nfn bar(a: bool) {\r\n    match a {\r\n        true => 1,\r\n        false => {\r\n            never()\r\n        }\r\n    }\r\n}\r\n```\r\nthen you get the error:\r\n```\r\nerror[E0308]: `match` arms have incompatible types\r\n  --> src/lib.rs:16:13\r\n   |\r\n13 | /     match a {\r\n14 | |         true => 1,\r\n   | |                 - this is found to be of type `{integer}`\r\n15 | |         false => {\r\n16 | |             never()\r\n   | |             ^^^^^^^ expected integer, found `()`\r\n17 | |         }\r\n18 | |     }\r\n   | |_____- `match` arms have incompatible types\r\n\r\nFor more information about this error, try `rustc --explain E0308`.\r\n```\r\nThis error message has several issues.\r\n1. The addition of the brackets has baffled those useful `help:` tips.\r\n2. It feels like the compiler is lying to you about the type of `never()`, pointing directly at it and saying it \"found ()\" despite it having type `!`. I realise that the compiler must have already coerced the type, but it feels kinda gaslight-y.\r\n3. The compiler claims that the match arms have incompatible types, even though this isn't true. Rather, the compiler is coercing types across the boundary of the match statement before coercing between the different arms of the match statement, as you would intuitively expect would happen first.\r\n4. The line `fn bar(a: bool) {` doesn't appear anywhere in the error message, despite being the source of the inferred `()` type, and it's being a candidate for the problem line.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1784010229/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
