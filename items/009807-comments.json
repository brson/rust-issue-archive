[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26188934",
    "html_url": "https://github.com/rust-lang/rust/issues/9807#issuecomment-26188934",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9807",
    "id": 26188934,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MTg4OTM0",
    "user": {
      "login": "chris-morgan",
      "id": 392868,
      "node_id": "MDQ6VXNlcjM5Mjg2OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/392868?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chris-morgan",
      "html_url": "https://github.com/chris-morgan",
      "followers_url": "https://api.github.com/users/chris-morgan/followers",
      "following_url": "https://api.github.com/users/chris-morgan/following{/other_user}",
      "gists_url": "https://api.github.com/users/chris-morgan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chris-morgan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chris-morgan/subscriptions",
      "organizations_url": "https://api.github.com/users/chris-morgan/orgs",
      "repos_url": "https://api.github.com/users/chris-morgan/repos",
      "events_url": "https://api.github.com/users/chris-morgan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chris-morgan/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-10-12T02:13:08Z",
    "updated_at": "2013-10-12T02:13:08Z",
    "body": "Here's a use case to consider: in rust-http, I've implemented `Default` for `Status` as something that produces results like `418 I'm a teapot` (I should perhaps also be implementing `String` with the same effect) and `Unsigned` as something that produces `418` (using `self.code()`, which is a `u16`). I can't think of any situation where anyone would want to format the status code as binary, hex or octal, but making it well-rounded would indeed suggest that `Binary`, `Octal`, `LowerHex` and `UpperHex` should be implemented.\n\nDelegated derivation, as has been suggested for a few other things, could be appropriate here for some of these types of use cases.\n\nOf course, not _all_ number types will be able to be done with just a single trait. Some may need to be done with multiple traits, if they have a fundamentally different representation of the number from what is supported at present. (Even big numbers probably need manual implementations?)\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26188934/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26191714",
    "html_url": "https://github.com/rust-lang/rust/issues/9807#issuecomment-26191714",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9807",
    "id": 26191714,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MTkxNzE0",
    "user": {
      "login": "orenbenkiki",
      "id": 68190,
      "node_id": "MDQ6VXNlcjY4MTkw",
      "avatar_url": "https://avatars.githubusercontent.com/u/68190?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/orenbenkiki",
      "html_url": "https://github.com/orenbenkiki",
      "followers_url": "https://api.github.com/users/orenbenkiki/followers",
      "following_url": "https://api.github.com/users/orenbenkiki/following{/other_user}",
      "gists_url": "https://api.github.com/users/orenbenkiki/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/orenbenkiki/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/orenbenkiki/subscriptions",
      "organizations_url": "https://api.github.com/users/orenbenkiki/orgs",
      "repos_url": "https://api.github.com/users/orenbenkiki/repos",
      "events_url": "https://api.github.com/users/orenbenkiki/events{/privacy}",
      "received_events_url": "https://api.github.com/users/orenbenkiki/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-10-12T06:01:49Z",
    "updated_at": "2013-10-12T06:01:49Z",
    "body": "I was thinking that something simpler could be used. If `{:x}` was viewed as \"invoke `{}` but during this invocation, the `base` field of the `Formatter` will be set to 16\", then we wouldn't need traits like `LowerHex`. Instead, we'd only have `Default` (possibly renamed), which will be able to query the `base` field and do the right thing.\n\nThis way, if you implement your `Status` formatting to simply call `format!(\"{} I am a {}\", self.code(), self.crockery_name())`, then you wouldn't need to worry about bases; using `format!(\"{:x}\", status)` would automatically use lower-hex for your code. Of course, if you wanted to insist the code would be decimal you could write `format!(\"{:d} I am a {}\", ...)`. And you could also query the `Formatter` for the current base to react to it in any way which you deem appropriate (which is basically what the number types will do).\n\nBasically, we should stop thinking of \"type specifiers\" and think instead of \"formatting flags\", `base` being one (similar to width, and alignment, and so on). \"Type specifiers\" is not really necessary once you have dynamic dispatch through a formatting trait - the \"type specifiers\" concept it is a leftover from C which had no dynamic dispatch mechanism.\n\nBTW, the stream IO in C++ also moved away from format specifiers due to the same reasoning - once you overload `operator<<` for some type, it is rather pointless to ask the programmer to manually specify the type again in a specifier. Of course C++ went and eliminated the format string altogether - I think Rust chose wisely to maintain the `sprintf` concept because dealing with different flags for different printed objects is a PITA in the C++ approach.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26191714/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26195781",
    "html_url": "https://github.com/rust-lang/rust/issues/9807#issuecomment-26195781",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9807",
    "id": 26195781,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MTk1Nzgx",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-10-12T11:26:24Z",
    "updated_at": "2013-10-12T11:26:24Z",
    "body": "I _like_ the rudimentary type checking.  I like the option of giving a succinct, inline hint  as to what kind of data you should expect to see plugged in at that spot (even if that hint is not strictly enforced, due to the design of the `fmt` API.)\n\n(To be honest I probably would have gone a different route with the `format!` design and opened up all 52 upper- and lower-case characters in the ASCII alphabet as potential traits to implement, leaving their interpretation as type-specifiers in the hands of the people writing the particular format strings; maybe I am nuts.  I guess once we have library macros I'll be free to do that in a 3rd party library, and I'll learn what pitfalls it has on my own.) \n\nBack to the subject at hand: People who don't like using the type specifiers are free to just implement default and use `{}` everywhere, right?  So is the goal of this ticket to just reduce the `fmt` API surface?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26195781/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26195812",
    "html_url": "https://github.com/rust-lang/rust/issues/9807#issuecomment-26195812",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9807",
    "id": 26195812,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MTk1ODEy",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-10-12T11:28:46Z",
    "updated_at": "2013-10-12T11:28:46Z",
    "body": "(I do realize that one can use the named parameters feature of `format!`, combined with some Hungarian notation, as a way to get inline hints of the types you'll see.  But that still leaves out the rudimentary type checking, which I see as part of the bargain here.)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26195812/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26199335",
    "html_url": "https://github.com/rust-lang/rust/issues/9807#issuecomment-26199335",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9807",
    "id": 26199335,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MTk5MzM1",
    "user": {
      "login": "orenbenkiki",
      "id": 68190,
      "node_id": "MDQ6VXNlcjY4MTkw",
      "avatar_url": "https://avatars.githubusercontent.com/u/68190?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/orenbenkiki",
      "html_url": "https://github.com/orenbenkiki",
      "followers_url": "https://api.github.com/users/orenbenkiki/followers",
      "following_url": "https://api.github.com/users/orenbenkiki/following{/other_user}",
      "gists_url": "https://api.github.com/users/orenbenkiki/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/orenbenkiki/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/orenbenkiki/subscriptions",
      "organizations_url": "https://api.github.com/users/orenbenkiki/orgs",
      "repos_url": "https://api.github.com/users/orenbenkiki/repos",
      "events_url": "https://api.github.com/users/orenbenkiki/events{/privacy}",
      "received_events_url": "https://api.github.com/users/orenbenkiki/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-10-12T15:19:53Z",
    "updated_at": "2013-10-12T15:19:53Z",
    "body": "Type checking isn't bad as of itself (obviously :-)  but the existing type specifiers are doing a double duty, one of the type check and another of controlling the base of printed integers; and they don't do a very good job at either role.\n\nToday, for type checking, (1) one must implement both `Default` and `SomeTypedTrait` for each type, to allow using users to use either `{}` or `{:type-check}` (for some value of `type-check`); and (2) the set of `type-check`s is pretty arbitrary; one can distinguish between, say, numbers and booleans, but one can't distinguish between `Foo` objects and `Bar` objects (unless one artificially maps `Foo` to one existing type specifier and `Bar` to another).\n\nFor control over base of integer, one must associate the type with a specific base trait, thereby forcing anything that allows control over the base of integers to be grouped in the same \"type\" as all the numbers in the system. And one needs to associate the type with each and every base trait, without any compiler support for ensuring one did so, or put the burden over the user to know which base(s) are supported and which aren't.\n\nIt would be cleaner to not mix up the issue of base and the issue of type checking, and do each of these \"properly\". So how about this:\n\nFor type checking, allow `{:b}`, `{:o}`, `{:d}`, `{:x}`, `{:X}`.  Consider allowing `{:base(7)}` / `{:base(*)}` / `{:BASE(7)}` / `{:BASE(*)}` if one wants to go overboard and allow \"any\" base. Any one of these would set the `base` member of the `Formatter` as proposed above.\n\nFor type checks, allow `{:s}`, `{:i}`, `{:u}` and others for the built-in types (finite list of type specifiers to match the finite list of built-in types), and also allow `{:type(Foo)}` for specifying formatting of any used-defined type.\n\nAllow combining both base and type checks, e.g. `{:ix}` or `{:d:u}` or `{:o:type(Foo)}`.\n\nThis would be:\n- Backward-compatible with existing format strings.\n- Reduce repeated code by only requiring the implementation of one format trait per type, and making it easy to use the same code for formatting user-defined types regardless of the chosen base for printing integers.\n- Allow for safer format strings for both built-in types and user-defined types. For example, `{:ux}` would insist on printing an unsigned int in hexadecimal - today if one uses `{:x}` one loses the ability to specify the unsigned int check; and using `{:type(Foo)}` would insist one is printing a `Foo` value, which today isn't really possible.\n- If we want we could support `{:base(*)}` / `{:BASE(*)}` to allow for arbitrary bases (if that is considered useful).\n\nSeems like a win-win...\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26199335/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/56625060",
    "html_url": "https://github.com/rust-lang/rust/issues/9807#issuecomment-56625060",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9807",
    "id": 56625060,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2NjI1MDYw",
    "user": {
      "login": "rust-highfive",
      "id": 7378925,
      "node_id": "MDQ6VXNlcjczNzg5MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7378925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rust-highfive",
      "html_url": "https://github.com/rust-highfive",
      "followers_url": "https://api.github.com/users/rust-highfive/followers",
      "following_url": "https://api.github.com/users/rust-highfive/following{/other_user}",
      "gists_url": "https://api.github.com/users/rust-highfive/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rust-highfive/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rust-highfive/subscriptions",
      "organizations_url": "https://api.github.com/users/rust-highfive/orgs",
      "repos_url": "https://api.github.com/users/rust-highfive/repos",
      "events_url": "https://api.github.com/users/rust-highfive/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rust-highfive/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-09-24T04:59:50Z",
    "updated_at": "2014-09-24T04:59:50Z",
    "body": "This issue has been moved to the RFCs repo: rust-lang/rfcs#297\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/56625060/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
