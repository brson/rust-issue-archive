[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/66590274",
    "html_url": "https://github.com/rust-lang/rust/issues/19716#issuecomment-66590274",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19716",
    "id": 66590274,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2NTkwMjc0",
    "user": {
      "login": "bkoropoff",
      "id": 2101303,
      "node_id": "MDQ6VXNlcjIxMDEzMDM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2101303?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bkoropoff",
      "html_url": "https://github.com/bkoropoff",
      "followers_url": "https://api.github.com/users/bkoropoff/followers",
      "following_url": "https://api.github.com/users/bkoropoff/following{/other_user}",
      "gists_url": "https://api.github.com/users/bkoropoff/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bkoropoff/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bkoropoff/subscriptions",
      "organizations_url": "https://api.github.com/users/bkoropoff/orgs",
      "repos_url": "https://api.github.com/users/bkoropoff/repos",
      "events_url": "https://api.github.com/users/bkoropoff/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bkoropoff/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-12-11T09:03:07Z",
    "updated_at": "2014-12-11T09:03:07Z",
    "body": "The result of a cast expression is an rvalue, and taking a reference to an rvalue is roughly equivalent to hoisting the result to a temporary variable that is only in scope for that statement and taking a reference to it.  This makes the inner code block something akin to:\n\n``` rust\n    {\n        ptrref1 = &ptr;\n        ptrref2 = { let tmp = ptr; &tmp as *const u8 };\n    }\n```\n\nSince `tmp` goes out of scope at the end of the inner block, this would produce a dangling reference, so rustc is correct to reject it.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/66590274/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/66730877",
    "html_url": "https://github.com/rust-lang/rust/issues/19716#issuecomment-66730877",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19716",
    "id": 66730877,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2NzMwODc3",
    "user": {
      "login": "stouset",
      "id": 4338,
      "node_id": "MDQ6VXNlcjQzMzg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4338?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stouset",
      "html_url": "https://github.com/stouset",
      "followers_url": "https://api.github.com/users/stouset/followers",
      "following_url": "https://api.github.com/users/stouset/following{/other_user}",
      "gists_url": "https://api.github.com/users/stouset/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stouset/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stouset/subscriptions",
      "organizations_url": "https://api.github.com/users/stouset/orgs",
      "repos_url": "https://api.github.com/users/stouset/repos",
      "events_url": "https://api.github.com/users/stouset/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stouset/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-12-12T04:24:19Z",
    "updated_at": "2014-12-12T04:26:16Z",
    "body": "That it is the current behavior is distinct issue from whether or not it is _desired_ behavior. It seems like there ought to be an easier way to perform a cast on something you need a reference to than transmuting it.\n\nIt would be a different story if I could just directly cast the reference itself:\n\n``` rust\nptrref2 = &ptr as &*const u8;\n```\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/66730877/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/143947307",
    "html_url": "https://github.com/rust-lang/rust/issues/19716#issuecomment-143947307",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19716",
    "id": 143947307,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0Mzk0NzMwNw==",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-09-29T05:15:17Z",
    "updated_at": "2015-09-29T05:15:17Z",
    "body": "In general a cast has to be an r-value, since it can change the in-memory representation of a value (`1_u8 as f32`) and the only correct way for a cast to be an l-value with the same lifetime as what is being cast (`X`) is if it has exactly the same bit pattern, so the location of `X` can be used as the address of the result of the cast.\n\nI suspect we don't want to have the l-value-ness of a cast expression depend on the types being cast, but others on the @rust-lang/lang team may think it is OK.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/143947307/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/144131761",
    "html_url": "https://github.com/rust-lang/rust/issues/19716#issuecomment-144131761",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19716",
    "id": 144131761,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0NDEzMTc2MQ==",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-09-29T17:40:26Z",
    "updated_at": "2015-09-29T17:40:26Z",
    "body": "I like the current behavior. It doesn't seem like casting the type of a variable _and_ getting a direct reference to it in one action is so common, nor is transmute so inappropriate. In general, taking a reference to something and then changing the type of that something is pretty risky, since it can easily cause us to load or store values of the wrong size, or lead to variance problems, etc. I'm going to close this issue -- if you'd care to re-open, I'd suggest re-opening on the RFC repo, since I think that this sort of language change requires an RFC in any case. Thanks.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/144131761/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
