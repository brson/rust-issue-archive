[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/61807205",
    "html_url": "https://github.com/rust-lang/rust/issues/18653#issuecomment-61807205",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18653",
    "id": 61807205,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxODA3MjA1",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-05T13:35:15Z",
    "updated_at": "2014-11-05T13:35:15Z",
    "body": "Hmm, the fix as expressed seems to have some issues as well, particularly around the test for #11384.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/61807205/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/61811184",
    "html_url": "https://github.com/rust-lang/rust/issues/18653#issuecomment-61811184",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18653",
    "id": 61811184,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxODExMTg0",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-05T14:06:51Z",
    "updated_at": "2014-11-05T14:06:51Z",
    "body": "(The problem with the fix, for reference, is that it creates an unbounded number of type variables, so somehow inference seems to get into a loop. I haven't dug deeply enough yet to really understand what's going on; I'm hoping to workaround this issue instead for time being in the place it's blocking me.)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/61811184/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/181524527",
    "html_url": "https://github.com/rust-lang/rust/issues/18653#issuecomment-181524527",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18653",
    "id": 181524527,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4MTUyNDUyNw==",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-02-08T19:10:41Z",
    "updated_at": "2016-02-08T19:10:41Z",
    "body": "An updated code sample:\n\n``` rust\nuse std::cell::RefCell;\n\nenum Wrap<A> {\n    WrapSome(A),\n    WrapNone\n}\n\nuse Wrap::*;\n\nstruct T;\nstruct U;\n\ntrait Get<T: ?Sized> {\n    fn get(&self) -> &T;\n}\n\nimpl Get<MyShow + 'static> for Wrap<T> {\n    fn get(&self) -> &(MyShow + 'static) {\n        static x: usize = 42;\n        &x\n    }\n}\n\nimpl Get<usize> for Wrap<U> {\n    fn get(&self) -> &usize {\n        static x: usize = 55;\n        &x\n    }\n}\n\ntrait MyShow { fn dummy(&self) { } }\nimpl<'a> MyShow for &'a (MyShow + 'a) { }\nimpl MyShow for usize { }\nfn constrain<'a>(rc: RefCell<&'a (MyShow + 'a)>) { }\n\nfn main() {\n    let mut collection: Wrap<_> = WrapNone;\n\n    {\n        let __arg0 = Get::get(&collection);\n        let __args_cell = RefCell::new(__arg0);\n        constrain(__args_cell);\n    }\n    collection = WrapSome(T);\n}fn constrain<'a>(rc: RefCell<&'a (MyShow + 'a)>) { }\n\nfn main() {\n    let mut collection: Wrap<_> = WrapNone;\n\n    {\n        let __arg0 = Get::get(&collection);\n        let __args_cell = RefCell::new(__arg0);\n        constrain(__args_cell);\n    }\n    collection = WrapSome(T);\n}\n```\n\nToday's error:\n\n``` text\nhello.rs:41:32: 41:42 error: `collection` does not live long enough\nhello.rs:41         let __arg0 = Get::get(&collection);\n                                           ^~~~~~~~~~\nnote: reference must be valid for the static lifetime...\nhello.rs:38:44: 46:2 note: ...but borrowed value is only valid for the block suffix following statement 0 at 38:43\nhello.rs:38     let mut collection: Wrap<_> = WrapNone;\nhello.rs:39 \nhello.rs:40     {\nhello.rs:41         let __arg0 = Get::get(&collection);\nhello.rs:42         let __args_cell = RefCell::new(__arg0);\nhello.rs:43         constrain(__args_cell);\n            ...\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/181524527/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/291937286",
    "html_url": "https://github.com/rust-lang/rust/issues/18653#issuecomment-291937286",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18653",
    "id": 291937286,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5MTkzNzI4Ng==",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-04-05T17:33:35Z",
    "updated_at": "2017-04-05T17:33:35Z",
    "body": "I've been doing some investigation here. Just backporting the patch above definitely leads to trouble (unconstrained type variables, at the moment). I'm trying to figure out the full story here, I'm not quite sure what's going wrong yet.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/291937286/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/293113357",
    "html_url": "https://github.com/rust-lang/rust/issues/18653#issuecomment-293113357",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18653",
    "id": 293113357,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5MzExMzM1Nw==",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-04-11T00:10:39Z",
    "updated_at": "2017-04-11T00:10:39Z",
    "body": "Update: I've got this mostly working atop of PR https://github.com/rust-lang/rust/pull/40570. Still working through some minor changes in behavior in the compile-fail tests, trying to decide how many lengths to go through to preserve the existing errors. Not sure yet of the best way to produce a backportable patch.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/293113357/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/293957780",
    "html_url": "https://github.com/rust-lang/rust/issues/18653#issuecomment-293957780",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18653",
    "id": 293957780,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5Mzk1Nzc4MA==",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-04-13T16:48:53Z",
    "updated_at": "2017-04-13T16:48:53Z",
    "body": "This is fixed by #40570 ",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/293957780/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
