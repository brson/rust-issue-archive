{
  "url": "https://api.github.com/repos/rust-lang/rust/issues/14293",
  "repository_url": "https://api.github.com/repos/rust-lang/rust",
  "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/14293/labels{/name}",
  "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/14293/comments",
  "events_url": "https://api.github.com/repos/rust-lang/rust/issues/14293/events",
  "html_url": "https://github.com/rust-lang/rust/pull/14293",
  "id": 33823161,
  "node_id": "MDExOlB1bGxSZXF1ZXN0MTYwNjc5NjQ=",
  "number": 14293,
  "title": "rustc: Add official support for weak failure",
  "user": {
    "login": "alexcrichton",
    "id": 64996,
    "node_id": "MDQ6VXNlcjY0OTk2",
    "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/alexcrichton",
    "html_url": "https://github.com/alexcrichton",
    "followers_url": "https://api.github.com/users/alexcrichton/followers",
    "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
    "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
    "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
    "repos_url": "https://api.github.com/users/alexcrichton/repos",
    "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
    "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "labels": [],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [],
  "milestone": null,
  "comments": 3,
  "created_at": "2014-05-19T18:11:12Z",
  "updated_at": "2014-06-12T05:59:01Z",
  "closed_at": "2014-05-21T06:11:27Z",
  "author_association": "MEMBER",
  "type": null,
  "active_lock_reason": null,
  "draft": false,
  "pull_request": {
    "url": "https://api.github.com/repos/rust-lang/rust/pulls/14293",
    "html_url": "https://github.com/rust-lang/rust/pull/14293",
    "diff_url": "https://github.com/rust-lang/rust/pull/14293.diff",
    "patch_url": "https://github.com/rust-lang/rust/pull/14293.patch",
    "merged_at": "2014-05-21T06:11:29Z"
  },
  "body": "This commit is part of the ongoing libstd facade efforts (cc #13851). The\ncompiler now recognizes some language items as \"extern { fn foo(...); }\" and\nwill automatically perform the following actions:\n1. The foreign function has a pre-defined name.\n2. The crate and downstream crates can only be built as rlibs until a crate\n   defines the lang item itself.\n3. The actual lang item has a pre-defined name.\n\nThis is essentially nicer compiler support for the hokey\ncore-depends-on-std-failure scheme today, but it is implemented the same way.\nThe details are a little more hidden under the covers.\n\nIn addition to failure, this commit promotes the eh_personality and\nrust_stack_exhausted functions to official lang items. The compiler can generate\ncalls to these functions, causing linkage errors if they are left undefined. The\nchecking for these items is not as precise as it could be. Crates compiling with\n`-Z no-landing-pads` will not need the eh_personality lang item, and crates\ncompiling with no split stacks won't need the stack exhausted lang item. For\nease, however, these items are checked for presence in all final outputs of the\ncompiler.\n\nIt is quite easy to define dummy versions of the functions necessary:\n\n```\n#[lang = \"stack_exhausted\"]\nextern fn stack_exhausted() { /* ... */ }\n\n#[lang = \"eh_personality\"]\nextern fn eh_personality() { /* ... */ }\n```\n\ncc #11922, rust_stack_exhausted is now a lang item\ncc #13851, libcollections is blocked on eh_personality becoming weak\n",
  "closed_by": {
    "login": "bors",
    "id": 3372342,
    "node_id": "MDQ6VXNlcjMzNzIzNDI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/bors",
    "html_url": "https://github.com/bors",
    "followers_url": "https://api.github.com/users/bors/followers",
    "following_url": "https://api.github.com/users/bors/following{/other_user}",
    "gists_url": "https://api.github.com/users/bors/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bors/subscriptions",
    "organizations_url": "https://api.github.com/users/bors/orgs",
    "repos_url": "https://api.github.com/users/bors/repos",
    "events_url": "https://api.github.com/users/bors/events{/privacy}",
    "received_events_url": "https://api.github.com/users/bors/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/14293/reactions",
    "total_count": 1,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/14293/timeline",
  "performed_via_github_app": null,
  "state_reason": null,
  "_meta": {
    "type": "pr"
  }
}
