[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/30203901",
    "html_url": "https://github.com/rust-lang/rust/pull/10895#issuecomment-30203901",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10895",
    "id": 30203901,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMjAzOTAx",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-12-10T07:05:17Z",
    "updated_at": "2013-12-10T07:05:17Z",
    "body": "This looks really good to me, nice work!\n\nI'd like to get another pair or two of eyes on this though. I'm always a little wary of adding new `util` modules, but I agree that all of these are very useful utilities which we should have. The only other useful utility-style thing which I would want is a function to copy a reader into a writer. Other than that, this seems pretty complete to me (but others should weigh in).\n\nOne possible way to get rid of `util` would be to just reexport these under `std::io` directly.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/30203901/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/30204550",
    "html_url": "https://github.com/rust-lang/rust/pull/10895#issuecomment-30204550",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10895",
    "id": 30204550,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMjA0NTUw",
    "user": {
      "login": "sfackler",
      "id": 1455697,
      "node_id": "MDQ6VXNlcjE0NTU2OTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sfackler",
      "html_url": "https://github.com/sfackler",
      "followers_url": "https://api.github.com/users/sfackler/followers",
      "following_url": "https://api.github.com/users/sfackler/following{/other_user}",
      "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions",
      "organizations_url": "https://api.github.com/users/sfackler/orgs",
      "repos_url": "https://api.github.com/users/sfackler/repos",
      "events_url": "https://api.github.com/users/sfackler/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sfackler/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-12-10T07:23:52Z",
    "updated_at": "2013-12-10T07:23:52Z",
    "body": "@alexcrichton I've added a `copy` function in. It's currently using the same uninitialized buffer trick that `BufferedReader` and `BufferedWriter` do. It does seem a bit dangerous to me since a `Reader` can lie about the amount of data it's given you and you'll end up looking at uninitialized memory by accident, but I don't know if that's something worth worrying about. It may be worth making an unsafe `vec::bytes::with_size_uninitialized` function since we're doing this in two places.\n\nI'm not a huge fan of reexporting since it just seems to confuse the documentation.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/30204550/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/30204921",
    "html_url": "https://github.com/rust-lang/rust/pull/10895#issuecomment-30204921",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10895",
    "id": 30204921,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMjA0OTIx",
    "user": {
      "login": "sfackler",
      "id": 1455697,
      "node_id": "MDQ6VXNlcjE0NTU2OTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sfackler",
      "html_url": "https://github.com/sfackler",
      "followers_url": "https://api.github.com/users/sfackler/followers",
      "following_url": "https://api.github.com/users/sfackler/following{/other_user}",
      "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions",
      "organizations_url": "https://api.github.com/users/sfackler/orgs",
      "repos_url": "https://api.github.com/users/sfackler/repos",
      "events_url": "https://api.github.com/users/sfackler/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sfackler/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-12-10T07:33:18Z",
    "updated_at": "2013-12-10T07:33:18Z",
    "body": "@alexcrichton updated.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/30204921/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/30245558",
    "html_url": "https://github.com/rust-lang/rust/pull/10895#issuecomment-30245558",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10895",
    "id": 30245558,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMjQ1NTU4",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-12-10T16:56:05Z",
    "updated_at": "2013-12-10T16:56:05Z",
    "body": "Another option I just thought of is a couple of newline-conversion utilities. Something like a reader -> reader converting newlines or a writer -> writer converting newlines (to `\\r\\n` or the other way).\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/30245558/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/30251827",
    "html_url": "https://github.com/rust-lang/rust/pull/10895#issuecomment-30251827",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10895",
    "id": 30251827,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMjUxODI3",
    "user": {
      "login": "bill-myers",
      "id": 4647491,
      "node_id": "MDQ6VXNlcjQ2NDc0OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4647491?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bill-myers",
      "html_url": "https://github.com/bill-myers",
      "followers_url": "https://api.github.com/users/bill-myers/followers",
      "following_url": "https://api.github.com/users/bill-myers/following{/other_user}",
      "gists_url": "https://api.github.com/users/bill-myers/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bill-myers/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bill-myers/subscriptions",
      "organizations_url": "https://api.github.com/users/bill-myers/orgs",
      "repos_url": "https://api.github.com/users/bill-myers/repos",
      "events_url": "https://api.github.com/users/bill-myers/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bill-myers/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-12-10T18:01:41Z",
    "updated_at": "2013-12-10T18:01:41Z",
    "body": "ChainedReader should take an iterator instead of a vector.\n\nThose who want to use a vector can then pass its move_iter(), which will result in something that behaves exactly like the current version, and it's also possible to pass a custom iterator that lazily creates the readers.\n\nPlus, this way readers that are done with are destroyed immediately with no extra code rather than kept around unused.\n\nFor instance, this would allow to concatenate files named \"file.000\", \"file.001\", \"file.002\", etc. and opening and closing each file at a time, while the current code requires to have all of them open at once, which is worse and might even fail due to OS open file limits.\n\nAlso, there should probably be another version that takes only two readers, but with a concrete type put in a type parameter (like TeeWriter, except it takes two readers instead of a writer).\n\nA NullReader/EmptyReader would complete the set.\n\nLimitReader should probably take the reader by value instead of &mut just like TeeWriter does (or, if taking by &mut were deemed best, which I think would be a mistake, then TeeWriter should take by &mut).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/30251827/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/30252807",
    "html_url": "https://github.com/rust-lang/rust/pull/10895#issuecomment-30252807",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10895",
    "id": 30252807,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMjUyODA3",
    "user": {
      "login": "sfackler",
      "id": 1455697,
      "node_id": "MDQ6VXNlcjE0NTU2OTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sfackler",
      "html_url": "https://github.com/sfackler",
      "followers_url": "https://api.github.com/users/sfackler/followers",
      "following_url": "https://api.github.com/users/sfackler/following{/other_user}",
      "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions",
      "organizations_url": "https://api.github.com/users/sfackler/orgs",
      "repos_url": "https://api.github.com/users/sfackler/repos",
      "events_url": "https://api.github.com/users/sfackler/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sfackler/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-12-10T18:13:52Z",
    "updated_at": "2013-12-10T18:14:16Z",
    "body": "I'll look into switching ChainedReader over to taking an iterator.\n\nLimitReader takes the reader by reference because (I think) the common use case will be something like\n\n``` rust\nlet mut r = some_reader;\nlet len = r.read_be_i32() as uint;\nlet some_struct = read_some_struct(LimitedReader::new(len, &mut r));\n...\n```\n\nWhere the reader is just loaned out temporarily. If LimitedReader took the reader by value, you'd need to add a couple of extra lines of wrapping and unwrapping.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/30252807/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/30253179",
    "html_url": "https://github.com/rust-lang/rust/pull/10895#issuecomment-30253179",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10895",
    "id": 30253179,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMjUzMTc5",
    "user": {
      "login": "bill-myers",
      "id": 4647491,
      "node_id": "MDQ6VXNlcjQ2NDc0OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4647491?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bill-myers",
      "html_url": "https://github.com/bill-myers",
      "followers_url": "https://api.github.com/users/bill-myers/followers",
      "following_url": "https://api.github.com/users/bill-myers/following{/other_user}",
      "gists_url": "https://api.github.com/users/bill-myers/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bill-myers/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bill-myers/subscriptions",
      "organizations_url": "https://api.github.com/users/bill-myers/orgs",
      "repos_url": "https://api.github.com/users/bill-myers/repos",
      "events_url": "https://api.github.com/users/bill-myers/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bill-myers/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-12-10T18:18:12Z",
    "updated_at": "2013-12-10T18:20:19Z",
    "body": "&mut Reader implements Reader, so that code should continue working even if LimitedReader takes an <R: Reader> by value (in that code, we'd have R = &mut SomeReader, which implements Reader).\n\nThat's why I think passing by value (where the type is a generic argument) is the correct choice, since it is strictly more general.\n\nIn fact, I believe that ChainedReader should even be ChainedReader<R: Reader, I: Iterator<R>> so that it can be passed any of Iterator<FooReader>, Iterator<&mut Reader> or Iterator<~Reader>.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/30253179/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/30291120",
    "html_url": "https://github.com/rust-lang/rust/pull/10895#issuecomment-30291120",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10895",
    "id": 30291120,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMjkxMTIw",
    "user": {
      "login": "sfackler",
      "id": 1455697,
      "node_id": "MDQ6VXNlcjE0NTU2OTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sfackler",
      "html_url": "https://github.com/sfackler",
      "followers_url": "https://api.github.com/users/sfackler/followers",
      "following_url": "https://api.github.com/users/sfackler/following{/other_user}",
      "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions",
      "organizations_url": "https://api.github.com/users/sfackler/orgs",
      "repos_url": "https://api.github.com/users/sfackler/repos",
      "events_url": "https://api.github.com/users/sfackler/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sfackler/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-12-11T03:27:10Z",
    "updated_at": "2013-12-11T03:27:10Z",
    "body": "@bill-myers `&mut Reader` implements `Reader` but `&mut R` where `R: Reader` does not.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/30291120/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
