[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49878280",
    "html_url": "https://github.com/rust-lang/rust/pull/15915#issuecomment-49878280",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15915",
    "id": 49878280,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5ODc4Mjgw",
    "user": {
      "login": "erickt",
      "id": 84711,
      "node_id": "MDQ6VXNlcjg0NzEx",
      "avatar_url": "https://avatars.githubusercontent.com/u/84711?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/erickt",
      "html_url": "https://github.com/erickt",
      "followers_url": "https://api.github.com/users/erickt/followers",
      "following_url": "https://api.github.com/users/erickt/following{/other_user}",
      "gists_url": "https://api.github.com/users/erickt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/erickt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/erickt/subscriptions",
      "organizations_url": "https://api.github.com/users/erickt/orgs",
      "repos_url": "https://api.github.com/users/erickt/repos",
      "events_url": "https://api.github.com/users/erickt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/erickt/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-23T14:08:13Z",
    "updated_at": "2014-07-23T14:08:13Z",
    "body": "cc @cmr, who originally proposed this idea.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49878280/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49878830",
    "html_url": "https://github.com/rust-lang/rust/pull/15915#issuecomment-49878830",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15915",
    "id": 49878830,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5ODc4ODMw",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-23T14:12:16Z",
    "updated_at": "2014-07-23T14:12:16Z",
    "body": "Before we split the types, have you looked into optimizing `MemWriter` as-is? For example, was this too slow?\n\n``` rust\nfn write() {\n    if ever_seeked { /* slower write() */ }\n    else { self.buf.push_all(buf); Ok(()) }\n}\n```\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49878830/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49885897",
    "html_url": "https://github.com/rust-lang/rust/pull/15915#issuecomment-49885897",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15915",
    "id": 49885897,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5ODg1ODk3",
    "user": {
      "login": "erickt",
      "id": 84711,
      "node_id": "MDQ6VXNlcjg0NzEx",
      "avatar_url": "https://avatars.githubusercontent.com/u/84711?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/erickt",
      "html_url": "https://github.com/erickt",
      "followers_url": "https://api.github.com/users/erickt/followers",
      "following_url": "https://api.github.com/users/erickt/following{/other_user}",
      "gists_url": "https://api.github.com/users/erickt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/erickt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/erickt/subscriptions",
      "organizations_url": "https://api.github.com/users/erickt/orgs",
      "repos_url": "https://api.github.com/users/erickt/repos",
      "events_url": "https://api.github.com/users/erickt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/erickt/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-23T15:00:57Z",
    "updated_at": "2014-07-23T15:00:57Z",
    "body": "@alexcrichton: I forgot to mention I did some benchmarking of adding a hot path to the original MemWriter, but it didn't seem to do much:\n\n```\nimpl Writer for SeekableMemWriter {\n    #[inline]\n    fn write(&mut self, buf: &[u8]) -> IoResult<()> {\n        if self.pos == self.buf.len() {\n            self.buf.push_all(buf)\n        } else {\n            // Make sure the internal buffer is as least as big as where we\n            // currently are\n            let difference = self.pos as i64 - self.buf.len() as i64;\n            if difference > 0 {\n                self.buf.grow(difference as uint, &0);\n            }\n\n            // Figure out what bytes will be used to overwrite what's currently\n            // there (left), and what will be appended on the end (right)\n            let cap = self.buf.len() - self.pos;\n            let (left, right) = if cap <= buf.len() {\n                (buf.slice_to(cap), buf.slice_from(cap))\n            } else {\n                (buf, &[])\n            };\n\n            // Do the necessary writes\n            if left.len() > 0 {\n                slice::bytes::copy_memory(self.buf.mut_slice_from(self.pos), left);\n            }\n            if right.len() > 0 {\n                self.buf.push_all(right);\n            }\n        }\n\n        // Bump us forward\n        self.pos += buf.len();\n        Ok(())\n    }\n}\n```\n\n Here are the results from the benchmarks with it:\n\n```\ntest io::mem::test::bench_mem_writer_001_0000               ... bench:        50 ns/iter (+/- 4)\ntest io::mem::test::bench_mem_writer_001_0010               ... bench:        63 ns/iter (+/- 6) = 158 MB/s\ntest io::mem::test::bench_mem_writer_001_0100               ... bench:       127 ns/iter (+/- 12) = 787 MB/s\ntest io::mem::test::bench_mem_writer_001_1000               ... bench:       772 ns/iter (+/- 23) = 1295 MB/s\ntest io::mem::test::bench_mem_writer_100_0000               ... bench:       513 ns/iter (+/- 33)\ntest io::mem::test::bench_mem_writer_100_0010               ... bench:      2045 ns/iter (+/- 132) = 488 MB/s\ntest io::mem::test::bench_mem_writer_100_0100               ... bench:      8409 ns/iter (+/- 553) = 1189 MB/s\ntest io::mem::test::bench_mem_writer_100_1000               ... bench:     84410 ns/iter (+/- 6155) = 1184 MB/s\ntest io::mem::test::bench_seekable_mem_writer_001_0000      ... bench:        51 ns/iter (+/- 3)\ntest io::mem::test::bench_seekable_mem_writer_001_0010      ... bench:        66 ns/iter (+/- 5) = 151 MB/s\ntest io::mem::test::bench_seekable_mem_writer_001_0100      ... bench:       137 ns/iter (+/- 12) = 729 MB/s\ntest io::mem::test::bench_seekable_mem_writer_001_1000      ... bench:       798 ns/iter (+/- 54) = 1253 MB/s\ntest io::mem::test::bench_seekable_mem_writer_100_0000      ... bench:       872 ns/iter (+/- 108)\ntest io::mem::test::bench_seekable_mem_writer_100_0010      ... bench:      2456 ns/iter (+/- 243) = 407 MB/s\ntest io::mem::test::bench_seekable_mem_writer_100_0100      ... bench:      9020 ns/iter (+/- 939) = 1108 MB/s\ntest io::mem::test::bench_seekable_mem_writer_100_1000      ... bench:     87705 ns/iter (+/- 12400) = 1140 MB/s\n```\n\nThe biggest wins I've found have been in my https://github.com/erickt/rust-serde project. I've been benchmarking my new json serializer against Go's builtin serializer, Go's [ffjson](https://github.com/pquerna/ffjson) and [RapidJSON](https://github.com/miloyip/rapidjson). Without my PR, or with this hot path, I go from:\n\n```\n...\ntest bench_log::bench_serializer_mem_writer           ... bench:      3876 ns/iter (+/- 145) = 156 MB/s\n...\n```\n\nto this:\n\n```\n...\ntest bench_log::bench_serializer_mem_writer           ... bench:      2687 ns/iter (+/- 171) = 225 MB/s\n...\n```\n\nSo it's a pretty substantial win for me. In comparison, ffjson is about 120MB/s, and RapidJSON is at 230MB/s, so we're basically at parity with them without having to codegen serialization-specific code.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49885897/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49887735",
    "html_url": "https://github.com/rust-lang/rust/pull/15915#issuecomment-49887735",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15915",
    "id": 49887735,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5ODg3NzM1",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-23T15:12:46Z",
    "updated_at": "2014-07-23T15:12:46Z",
    "body": "I would prefer to duplicate those results before resulting to duplication of APIs, this does not seem like a pattern that we wish to encourage in the standard library. I checked out `rust-serde` and tweaked it to build on master, but there doesn't seem to be a benchmark called `bench_serializer_mem_writer`.\n\nIs that benchmark part of a tweak which hasn't been uploaded yet?\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49887735/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49911511",
    "html_url": "https://github.com/rust-lang/rust/pull/15915#issuecomment-49911511",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15915",
    "id": 49911511,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5OTExNTEx",
    "user": {
      "login": "erickt",
      "id": 84711,
      "node_id": "MDQ6VXNlcjg0NzEx",
      "avatar_url": "https://avatars.githubusercontent.com/u/84711?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/erickt",
      "html_url": "https://github.com/erickt",
      "followers_url": "https://api.github.com/users/erickt/followers",
      "following_url": "https://api.github.com/users/erickt/following{/other_user}",
      "gists_url": "https://api.github.com/users/erickt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/erickt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/erickt/subscriptions",
      "organizations_url": "https://api.github.com/users/erickt/orgs",
      "repos_url": "https://api.github.com/users/erickt/repos",
      "events_url": "https://api.github.com/users/erickt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/erickt/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-23T18:02:48Z",
    "updated_at": "2014-07-23T18:02:48Z",
    "body": "@alexcrichton: oops, I haven't pushed up the version with `bench_serializer_mem_writer` yet. I'll get it uploaded tonight. In the meantime, the code is essentially:\n\n```\n#[bench]\nfn bench_serializer_mem_writer(b: &mut Bencher) {\n    let log = Log::new();\n    let json = json::to_vec(&log);\n    b.bytes = json.len() as u64;\n\n    b.iter(|| {\n        //let _json = json::to_str(&log).unwrap();\n        let mut wr = MemWriter0::with_capacity(1024);\n        {\n            let mut serializer = json::Serializer::new(wr.by_ref());\n            log.serialize(&mut serializer).unwrap();\n        }\n        let _json = wr.unwrap();\n    });\n}\n```\n\nOr you could look at [bench_serializer2](https://github.com/erickt/rust-serde/blob/master/bench_log.rs#L675), which has a local copy of my MemWriter rewrite.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49911511/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49923591",
    "html_url": "https://github.com/rust-lang/rust/pull/15915#issuecomment-49923591",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15915",
    "id": 49923591,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5OTIzNTkx",
    "user": {
      "login": "sfackler",
      "id": 1455697,
      "node_id": "MDQ6VXNlcjE0NTU2OTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sfackler",
      "html_url": "https://github.com/sfackler",
      "followers_url": "https://api.github.com/users/sfackler/followers",
      "following_url": "https://api.github.com/users/sfackler/following{/other_user}",
      "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions",
      "organizations_url": "https://api.github.com/users/sfackler/orgs",
      "repos_url": "https://api.github.com/users/sfackler/repos",
      "events_url": "https://api.github.com/users/sfackler/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sfackler/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-23T19:34:23Z",
    "updated_at": "2014-07-23T19:34:23Z",
    "body": "Another possible alternative is to just remove the Seek impl from MemWriter. It's only used by the ebml serialization, and that can be restructured to not require Seek - which would also help shrink metadata a bit.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49923591/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49929197",
    "html_url": "https://github.com/rust-lang/rust/pull/15915#issuecomment-49929197",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15915",
    "id": 49929197,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5OTI5MTk3",
    "user": {
      "login": "erickt",
      "id": 84711,
      "node_id": "MDQ6VXNlcjg0NzEx",
      "avatar_url": "https://avatars.githubusercontent.com/u/84711?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/erickt",
      "html_url": "https://github.com/erickt",
      "followers_url": "https://api.github.com/users/erickt/followers",
      "following_url": "https://api.github.com/users/erickt/following{/other_user}",
      "gists_url": "https://api.github.com/users/erickt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/erickt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/erickt/subscriptions",
      "organizations_url": "https://api.github.com/users/erickt/orgs",
      "repos_url": "https://api.github.com/users/erickt/repos",
      "events_url": "https://api.github.com/users/erickt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/erickt/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-23T20:19:05Z",
    "updated_at": "2014-07-23T20:19:05Z",
    "body": "@sfackler: that's a good point. I'll also look into that tonight.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49929197/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49955375",
    "html_url": "https://github.com/rust-lang/rust/pull/15915#issuecomment-49955375",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15915",
    "id": 49955375,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5OTU1Mzc1",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-24T00:49:49Z",
    "updated_at": "2014-07-24T00:49:49Z",
    "body": "Ok, I was able to reproduce your results:\n\n```\ntest bench_log::bench_serializer0 ... bench:      1618 ns/iter (+/- 30) = 375 MB/s\ntest bench_log::bench_serializer1 ... bench:      2557 ns/iter (+/- 37) = 237 MB/s\ntest bench_log::bench_serializer2 ... bench:      1780 ns/iter (+/- 29) = 341 MB/s\n```\n\nThe serializer0 benchmark is MemWriter with no seek (write is just `push_all`), serializer1 is MemWriter in the stdlib as-is today (with seek), and serializer2 is a writer that looks like:\n\n``` rust\n#[inline]                                    \nfn write(&mut self, buf: &[u8]) -> io::IoResult<()> {\n    if self.pos == uint::MAX {                       \n        self.buf.push_all(buf);                      \n        return Ok(())                                \n    }                                                \n    self.write_slow(buf)\n}          \n\n#[inline(never)] fn write_slow(...) { ... }       \n```\n\nHere the `pos` is `uint::MAX` on initialization and if it's ever changed via `seek` then you fall back to the slower `write` impl (fast path most of the time).\n\nThis tells me a few things:\n1. It's very important that the `push_all` is inlined for the speedup to occur\n2. Just an `if` condition is losing 100ns in the \"inner loop\"\n3. It looks like `write` is invoked _very_ frequently\n\nI'm not sure if this is a case to hamstring `MemWriter` (remove Seek altogether), the fast path/slow path version is sufficient, or the serializer you're using should use an internal buffer for performance.\n\nI suppose the lease-painful route would be the fast/slow path, but it wouldn't get to the speed that you're looking at, but perhaps an internal buffer would get there? (unknown)\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49955375/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49956259",
    "html_url": "https://github.com/rust-lang/rust/pull/15915#issuecomment-49956259",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15915",
    "id": 49956259,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5OTU2MjU5",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-24T01:04:39Z",
    "updated_at": "2014-07-24T01:04:39Z",
    "body": "I wonder if you can eek out a little more speed in the fast case with a `#[cold]` on `write_slow`? (Just glancing at the playpen now, making that changes seems to reorder branch slightly more nicely.)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49956259/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49958637",
    "html_url": "https://github.com/rust-lang/rust/pull/15915#issuecomment-49958637",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15915",
    "id": 49958637,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5OTU4NjM3",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-24T01:47:38Z",
    "updated_at": "2014-07-24T01:47:38Z",
    "body": "It may have bought a bit, but it doesn't seem to have made a noticeable impact.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49958637/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49964051",
    "html_url": "https://github.com/rust-lang/rust/pull/15915#issuecomment-49964051",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15915",
    "id": 49964051,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5OTY0MDUx",
    "user": {
      "login": "sfackler",
      "id": 1455697,
      "node_id": "MDQ6VXNlcjE0NTU2OTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sfackler",
      "html_url": "https://github.com/sfackler",
      "followers_url": "https://api.github.com/users/sfackler/followers",
      "following_url": "https://api.github.com/users/sfackler/following{/other_user}",
      "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions",
      "organizations_url": "https://api.github.com/users/sfackler/orgs",
      "repos_url": "https://api.github.com/users/sfackler/repos",
      "events_url": "https://api.github.com/users/sfackler/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sfackler/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-24T03:34:49Z",
    "updated_at": "2014-07-24T03:34:49Z",
    "body": "@alexcrichton does any code outside of `ebml` use the `Seek` impl?\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49964051/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49964409",
    "html_url": "https://github.com/rust-lang/rust/pull/15915#issuecomment-49964409",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15915",
    "id": 49964409,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5OTY0NDA5",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-24T03:43:06Z",
    "updated_at": "2014-07-24T03:43:06Z",
    "body": "Not that I'm aware of, but one may logically expect memory-based readers/writers to be seekable.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49964409/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49964725",
    "html_url": "https://github.com/rust-lang/rust/pull/15915#issuecomment-49964725",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15915",
    "id": 49964725,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5OTY0NzI1",
    "user": {
      "login": "sfackler",
      "id": 1455697,
      "node_id": "MDQ6VXNlcjE0NTU2OTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sfackler",
      "html_url": "https://github.com/sfackler",
      "followers_url": "https://api.github.com/users/sfackler/followers",
      "following_url": "https://api.github.com/users/sfackler/following{/other_user}",
      "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions",
      "organizations_url": "https://api.github.com/users/sfackler/orgs",
      "repos_url": "https://api.github.com/users/sfackler/repos",
      "events_url": "https://api.github.com/users/sfackler/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sfackler/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-24T03:50:18Z",
    "updated_at": "2014-07-24T03:50:18Z",
    "body": "FWIW, Go and Java's equivalents don't seek, and I honestly can't say I've ever wanted to.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49964725/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/50024662",
    "html_url": "https://github.com/rust-lang/rust/pull/15915#issuecomment-50024662",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15915",
    "id": 50024662,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwMDI0NjYy",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-24T14:24:27Z",
    "updated_at": "2014-07-24T14:24:27Z",
    "body": "I was chatting with @erickt on IRC last night, and if there's precedent for not having seek then perhaps it won't be so bad to remove them. Instead of adding `SeekableMemWriter` to std, though, I'd prefer if it were added to rustc where it's only needed.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/50024662/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/50032857",
    "html_url": "https://github.com/rust-lang/rust/pull/15915#issuecomment-50032857",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15915",
    "id": 50032857,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwMDMyODU3",
    "user": {
      "login": "lilyball",
      "id": 714,
      "node_id": "MDQ6VXNlcjcxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/714?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lilyball",
      "html_url": "https://github.com/lilyball",
      "followers_url": "https://api.github.com/users/lilyball/followers",
      "following_url": "https://api.github.com/users/lilyball/following{/other_user}",
      "gists_url": "https://api.github.com/users/lilyball/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lilyball/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lilyball/subscriptions",
      "organizations_url": "https://api.github.com/users/lilyball/orgs",
      "repos_url": "https://api.github.com/users/lilyball/repos",
      "events_url": "https://api.github.com/users/lilyball/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lilyball/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-24T15:21:55Z",
    "updated_at": "2014-07-24T15:21:55Z",
    "body": "I'm inclined to agree, memory writers don't need to be seekable. Their primary job is to buffer writes. If I need to seek, I would also think I may already know the total size of the buffer as well, at which point I would just use `BufWriter`. Seekable + growable is perhaps too niche to bother having in libstd.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/50032857/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/50289880",
    "html_url": "https://github.com/rust-lang/rust/pull/15915#issuecomment-50289880",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15915",
    "id": 50289880,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwMjg5ODgw",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-27T23:43:11Z",
    "updated_at": "2014-07-27T23:43:11Z",
    "body": "Could you move `metadata::util` to `rustc::util`? May as well try to cut down on the number of `util` modules. Additionally, this will need a `[breaking-change]` annotation on one of the commits with a clear explanation as to why `Seek` was removed and how to migrate code that was using `Seek`.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/50289880/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/50613451",
    "html_url": "https://github.com/rust-lang/rust/pull/15915#issuecomment-50613451",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15915",
    "id": 50613451,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwNjEzNDUx",
    "user": {
      "login": "erickt",
      "id": 84711,
      "node_id": "MDQ6VXNlcjg0NzEx",
      "avatar_url": "https://avatars.githubusercontent.com/u/84711?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/erickt",
      "html_url": "https://github.com/erickt",
      "followers_url": "https://api.github.com/users/erickt/followers",
      "following_url": "https://api.github.com/users/erickt/following{/other_user}",
      "gists_url": "https://api.github.com/users/erickt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/erickt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/erickt/subscriptions",
      "organizations_url": "https://api.github.com/users/erickt/orgs",
      "repos_url": "https://api.github.com/users/erickt/repos",
      "events_url": "https://api.github.com/users/erickt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/erickt/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-30T13:26:19Z",
    "updated_at": "2014-07-30T13:26:19Z",
    "body": "@bors: retry\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/50613451/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
