[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/120844439",
    "html_url": "https://github.com/rust-lang/rust/issues/26996#issuecomment-120844439",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26996",
    "id": 120844439,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyMDg0NDQzOQ==",
    "user": {
      "login": "Thiez",
      "id": 204550,
      "node_id": "MDQ6VXNlcjIwNDU1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/204550?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Thiez",
      "html_url": "https://github.com/Thiez",
      "followers_url": "https://api.github.com/users/Thiez/followers",
      "following_url": "https://api.github.com/users/Thiez/following{/other_user}",
      "gists_url": "https://api.github.com/users/Thiez/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Thiez/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Thiez/subscriptions",
      "organizations_url": "https://api.github.com/users/Thiez/orgs",
      "repos_url": "https://api.github.com/users/Thiez/repos",
      "events_url": "https://api.github.com/users/Thiez/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Thiez/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-13T08:10:39Z",
    "updated_at": "2015-07-13T08:12:53Z",
    "body": "Actually what happens here is the following:\n\nThe tuple you create in `c` is moved, because it is not `Copy`. When you perform the `match` you move _out_ of `c`, into `c2`, leaving `c` uninitialized. Your assignment to `c.0` is basically to uninitialized memory, and doesn't have an effect. When you perform the assertion you see the old value of `c.0`, because your assignment to `c.0` had no effect.\n\nThe whole thing is confusing because Rust does not warn when you perform useless assignments to moved variables, and it probably should. The whole thing becomes obviously when you add a statement that uses `c` in the match arm:\n\n``` rust\nfn main() {\n    let mut c = (1, \"\".to_owned());\n    match c {\n        c2 => { println!(\"{}\", c.0); c.0 = 2; assert_eq!(c2.0, 1); }\n    }\n}\n```\n\nEdit: @Aatch the labels you have assigned to this issue are incorrect.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/120844439/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/120853622",
    "html_url": "https://github.com/rust-lang/rust/issues/26996#issuecomment-120853622",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26996",
    "id": 120853622,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyMDg1MzYyMg==",
    "user": {
      "login": "mitaa",
      "id": 6785936,
      "node_id": "MDQ6VXNlcjY3ODU5MzY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6785936?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mitaa",
      "html_url": "https://github.com/mitaa",
      "followers_url": "https://api.github.com/users/mitaa/followers",
      "following_url": "https://api.github.com/users/mitaa/following{/other_user}",
      "gists_url": "https://api.github.com/users/mitaa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mitaa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mitaa/subscriptions",
      "organizations_url": "https://api.github.com/users/mitaa/orgs",
      "repos_url": "https://api.github.com/users/mitaa/repos",
      "events_url": "https://api.github.com/users/mitaa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mitaa/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-13T08:51:41Z",
    "updated_at": "2015-07-13T08:51:41Z",
    "body": "> Your assignment to c.0 is basically to uninitialized memory, and doesn't have an effect. When you perform the assertion you see the old value of c.0, because your assignment to c.0 had no effect.\n\nDon't we see the new value `c.0 = 2;`, even though we're accessing `c2.0`, when performing the assertion, which causes it to fail?\n\nDoing this without a match statement passes the same assertion sucessfully:\n\n``` rust\nfn main() {\n    let mut c = (1, \"\".to_owned());\n    let c2 = c;\n    c.0 = 2;\n    assert_eq!(c2.0, 1);\n}\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/120853622/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/120868890",
    "html_url": "https://github.com/rust-lang/rust/issues/26996#issuecomment-120868890",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26996",
    "id": 120868890,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyMDg2ODg5MA==",
    "user": {
      "login": "Thiez",
      "id": 204550,
      "node_id": "MDQ6VXNlcjIwNDU1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/204550?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Thiez",
      "html_url": "https://github.com/Thiez",
      "followers_url": "https://api.github.com/users/Thiez/followers",
      "following_url": "https://api.github.com/users/Thiez/following{/other_user}",
      "gists_url": "https://api.github.com/users/Thiez/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Thiez/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Thiez/subscriptions",
      "organizations_url": "https://api.github.com/users/Thiez/orgs",
      "repos_url": "https://api.github.com/users/Thiez/repos",
      "events_url": "https://api.github.com/users/Thiez/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Thiez/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-13T09:28:52Z",
    "updated_at": "2015-07-13T09:28:52Z",
    "body": "Oops, you are correct, I am mistaken :(\n\nOn Mon, Jul 13, 2015 at 10:52 AM, mitaa notifications@github.com wrote:\n\n> Your assignment to c.0 is basically to uninitialized memory, and doesn't\n> have an effect. When you perform the assertion you see the old value of\n> c.0, because your assignment to c.0 had no effect.\n> \n> Don't we see the new value c.0 = 2;, even though we're accessing c2.0,\n> when performing the assertion, which causes it to fail?\n> \n> Doing this without a match statement passes the same assertion sucessfully:\n> \n> fn main() {\n>     let mut c = (1, \"\".to_owned());\n>     let c2 = c;\n>     c.0 = 2;\n>     assert_eq!(c2.0, 1);\n> }\n> \n> \u2014\n> Reply to this email directly or view it on GitHub\n> https://github.com/rust-lang/rust/issues/26996#issuecomment-120853622.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/120868890/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/121109040",
    "html_url": "https://github.com/rust-lang/rust/issues/26996#issuecomment-121109040",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26996",
    "id": 121109040,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyMTEwOTA0MA==",
    "user": {
      "login": "Aatch",
      "id": 342416,
      "node_id": "MDQ6VXNlcjM0MjQxNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/342416?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Aatch",
      "html_url": "https://github.com/Aatch",
      "followers_url": "https://api.github.com/users/Aatch/followers",
      "following_url": "https://api.github.com/users/Aatch/following{/other_user}",
      "gists_url": "https://api.github.com/users/Aatch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Aatch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Aatch/subscriptions",
      "organizations_url": "https://api.github.com/users/Aatch/orgs",
      "repos_url": "https://api.github.com/users/Aatch/repos",
      "events_url": "https://api.github.com/users/Aatch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Aatch/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-14T01:46:51Z",
    "updated_at": "2015-07-14T01:46:51Z",
    "body": "@Thiez heh, I made the same mistake. Typed out most of a response and then realised that I'd mis-read the code.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/121109040/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
