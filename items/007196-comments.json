[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/19529220",
    "html_url": "https://github.com/rust-lang/rust/issues/7196#issuecomment-19529220",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/7196",
    "id": 19529220,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE5NTI5MjIw",
    "user": {
      "login": "kvanbere",
      "id": 1356959,
      "node_id": "MDQ6VXNlcjEzNTY5NTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1356959?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kvanbere",
      "html_url": "https://github.com/kvanbere",
      "followers_url": "https://api.github.com/users/kvanbere/followers",
      "following_url": "https://api.github.com/users/kvanbere/following{/other_user}",
      "gists_url": "https://api.github.com/users/kvanbere/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kvanbere/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kvanbere/subscriptions",
      "organizations_url": "https://api.github.com/users/kvanbere/orgs",
      "repos_url": "https://api.github.com/users/kvanbere/repos",
      "events_url": "https://api.github.com/users/kvanbere/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kvanbere/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-06-17T07:07:53Z",
    "updated_at": "2013-06-17T07:08:35Z",
    "body": "It seems that rustc-hash.dll indeed contains exports on Windows, and therefore it must be possible to somehow build such that code is exported. The following method does not produce exports;\n\nCrate:\n\n```\n// Crate linkage metadata\n#[link(name = \"thing\", vers = \"1.0\", author = \"who\")];\n\n// Make a library (\"bin\" is the default)\n#[crate_type = \"lib\"];\n\n// Load some modules from other files\nmod test;\n```\n\nModule:\n\n```\npub extern fn foo(a: int) -> int {\n    1\n}\n```\n\nThoughts?\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/19529220/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/19529386",
    "html_url": "https://github.com/rust-lang/rust/issues/7196#issuecomment-19529386",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/7196",
    "id": 19529386,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE5NTI5Mzg2",
    "user": {
      "login": "kvanbere",
      "id": 1356959,
      "node_id": "MDQ6VXNlcjEzNTY5NTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1356959?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kvanbere",
      "html_url": "https://github.com/kvanbere",
      "followers_url": "https://api.github.com/users/kvanbere/followers",
      "following_url": "https://api.github.com/users/kvanbere/following{/other_user}",
      "gists_url": "https://api.github.com/users/kvanbere/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kvanbere/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kvanbere/subscriptions",
      "organizations_url": "https://api.github.com/users/kvanbere/orgs",
      "repos_url": "https://api.github.com/users/kvanbere/repos",
      "events_url": "https://api.github.com/users/kvanbere/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kvanbere/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-06-17T07:13:58Z",
    "updated_at": "2013-06-17T07:13:58Z",
    "body": "`mod test;` -> `pub mod test;` works as intended. Sorry folks, closing.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/19529386/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/19529495",
    "html_url": "https://github.com/rust-lang/rust/issues/7196#issuecomment-19529495",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/7196",
    "id": 19529495,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE5NTI5NDk1",
    "user": {
      "login": "Aatch",
      "id": 342416,
      "node_id": "MDQ6VXNlcjM0MjQxNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/342416?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Aatch",
      "html_url": "https://github.com/Aatch",
      "followers_url": "https://api.github.com/users/Aatch/followers",
      "following_url": "https://api.github.com/users/Aatch/following{/other_user}",
      "gists_url": "https://api.github.com/users/Aatch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Aatch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Aatch/subscriptions",
      "organizations_url": "https://api.github.com/users/Aatch/orgs",
      "repos_url": "https://api.github.com/users/Aatch/repos",
      "events_url": "https://api.github.com/users/Aatch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Aatch/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-06-17T07:17:45Z",
    "updated_at": "2013-06-17T07:17:45Z",
    "body": "Re-opening because the general idea is still sound. Adding a `#[linkage]` attribute for more exotic linkage types seems valid to me.\n\nAlso, I'm nominating this for production ready, based on the idea that `dllimport`/`dllexport` exist for a reason. Though I'm happy to be corrected here.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/19529495/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/22130379",
    "html_url": "https://github.com/rust-lang/rust/issues/7196#issuecomment-22130379",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/7196",
    "id": 22130379,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMTMwMzc5",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-08-05T19:06:50Z",
    "updated_at": "2013-08-05T19:06:50Z",
    "body": "Visiting for triage; nothing to add\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/22130379/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23883580",
    "html_url": "https://github.com/rust-lang/rust/issues/7196#issuecomment-23883580",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/7196",
    "id": 23883580,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzODgzNTgw",
    "user": {
      "login": "catamorphism",
      "id": 427212,
      "node_id": "MDQ6VXNlcjQyNzIxMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/427212?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/catamorphism",
      "html_url": "https://github.com/catamorphism",
      "followers_url": "https://api.github.com/users/catamorphism/followers",
      "following_url": "https://api.github.com/users/catamorphism/following{/other_user}",
      "gists_url": "https://api.github.com/users/catamorphism/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/catamorphism/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/catamorphism/subscriptions",
      "organizations_url": "https://api.github.com/users/catamorphism/orgs",
      "repos_url": "https://api.github.com/users/catamorphism/repos",
      "events_url": "https://api.github.com/users/catamorphism/events{/privacy}",
      "received_events_url": "https://api.github.com/users/catamorphism/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-09-05T16:55:08Z",
    "updated_at": "2013-09-05T16:55:08Z",
    "body": "Accepted for feature-complete\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23883580/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38217474",
    "html_url": "https://github.com/rust-lang/rust/issues/7196#issuecomment-38217474",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/7196",
    "id": 38217474,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MjE3NDc0",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-03-20T20:32:38Z",
    "updated_at": "2014-03-20T20:32:38Z",
    "body": "Assigning P-low.  Not 1.0.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38217474/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/44361212",
    "html_url": "https://github.com/rust-lang/rust/issues/7196#issuecomment-44361212",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/7196",
    "id": 44361212,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0MzYxMjEy",
    "user": {
      "login": "klutzy",
      "id": 1589355,
      "node_id": "MDQ6VXNlcjE1ODkzNTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1589355?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/klutzy",
      "html_url": "https://github.com/klutzy",
      "followers_url": "https://api.github.com/users/klutzy/followers",
      "following_url": "https://api.github.com/users/klutzy/following{/other_user}",
      "gists_url": "https://api.github.com/users/klutzy/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/klutzy/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/klutzy/subscriptions",
      "organizations_url": "https://api.github.com/users/klutzy/orgs",
      "repos_url": "https://api.github.com/users/klutzy/repos",
      "events_url": "https://api.github.com/users/klutzy/events{/privacy}",
      "received_events_url": "https://api.github.com/users/klutzy/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-05-28T03:08:49Z",
    "updated_at": "2014-05-28T03:08:49Z",
    "body": "We actually dllexports all public symbols:\n\n``` Rust\n// lib.rs\n#![crate_type = \"dylib\"]\n#![crate_id = \"r\"]\n#[no_mangle] pub fn func1() {} // exported\n#[no_mangle] fn func2() {}\npub fn func3() {} // exported\nfn func4() {}\n```\n\n```\nC:\\home\\stone\\tmp>dumpbin /exports r-1437d9a7-0.0.dll\n...\nFile Type: DLL\n\n  Section contains the following exports for r-1437d9a7-0.0.dll\n\n    00000000 characteristics\n    538549CB time date stamp Wed May 28 11:28:27 2014\n        0.00 version\n           1 ordinal base\n           4 number of functions\n           4 number of names\n\n    ordinal hint RVA      name\n\n          1    0 000015F0 _ZN5func320h830e15bc5d49336cjaa4v0.0E\n          2    1 0000162C __morestack\n          3    2 000015B0 func1\n          4    3 00004000 rust_metadata_r_0.0_ac1193c82740e58b\n\n```\n\nbut just by accident! If we don't explicitly export anything, [`ld` exports everything public](https://sourceware.org/git/gitweb.cgi?p=binutils-gdb.git;a=blob;f=ld/pe-dll.c;h=0455606756209f884d1bab9dc77eb08f2664714f;hb=HEAD#l699).\n\nThe \"unintended export\" will not occur if we add some explicit dllexports in native code:\n\n``` C\n// c.c\n__declspec(dllexport)\nvoid func5(void) {}\n```\n\n```\n$ gcc -c -o c.o c.c\n$ ar rcs ext.lib c.o\n```\n\n``` Rust\n// lib.rs\n#![crate_type = \"dylib\"]\n#![crate_id = \"r\"]\n\n#[link(name = \"ext\", kind = \"static\")]\nextern \"C\" {\n    pub fn func5();\n}\n\n#[no_mangle] pub fn func1() {} // exported\n#[no_mangle] fn func2() {}\nfn func3() { unsafe { func5(); } } // use dllexported symbol\n```\n\n```\n$ rustc lib.rs\n\nC:\\home\\stone\\tmp>dumpbin /exports r-1437d9a7-0.0.dll\n...\n  Section contains the following exports for r-1437d9a7-0.0.dll\n\n    00000000 characteristics\n    538552D1 time date stamp Wed May 28 12:06:57 2014\n        0.00 version\n           1 ordinal base\n           1 number of functions\n           1 number of names\n\n    ordinal hint RVA      name\n\n          1    0 0000161C func5\n```\n\n``` Rust\n// a.rs\nextern crate r;\n\nfn main() {\n    r::func1();\n}\n```\n\n```\n$ rustc lib.rs\n$ rustc a.rs -L .\nerror: linking with `gcc` failed: exit code: 1\n...\nnote: a.o:(.text+0x1a): undefined reference to `func1'\n```\n\nThis is bad. We have to export them explicitly in this case.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/44361212/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/73819217",
    "html_url": "https://github.com/rust-lang/rust/issues/7196#issuecomment-73819217",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/7196",
    "id": 73819217,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczODE5MjE3",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-02-11T01:19:56Z",
    "updated_at": "2015-02-11T01:19:56Z",
    "body": "I'm pulling a massive triage effort to get us ready for 1.0. As part of this, I'm moving stuff that's wishlist-like to the RFCs repo, as that's where major new things should get discussed/prioritized.\n\nThis issue has been moved to the RFCs repo: rust-lang/rfcs#826\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/73819217/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/73835625",
    "html_url": "https://github.com/rust-lang/rust/issues/7196#issuecomment-73835625",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/7196",
    "id": 73835625,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczODM1NjI1",
    "user": {
      "login": "klutzy",
      "id": 1589355,
      "node_id": "MDQ6VXNlcjE1ODkzNTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1589355?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/klutzy",
      "html_url": "https://github.com/klutzy",
      "followers_url": "https://api.github.com/users/klutzy/followers",
      "following_url": "https://api.github.com/users/klutzy/following{/other_user}",
      "gists_url": "https://api.github.com/users/klutzy/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/klutzy/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/klutzy/subscriptions",
      "organizations_url": "https://api.github.com/users/klutzy/orgs",
      "repos_url": "https://api.github.com/users/klutzy/repos",
      "events_url": "https://api.github.com/users/klutzy/events{/privacy}",
      "received_events_url": "https://api.github.com/users/klutzy/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-02-11T05:21:22Z",
    "updated_at": "2015-02-11T05:21:22Z",
    "body": "(Note that [the missing export behavior](https://github.com/rust-lang/rust/issues/7196#issuecomment-44361212) is certainly a bug, which can be fixed without introducing dllexport syntax support. I'll open new issue for the one.)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/73835625/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/106639080",
    "html_url": "https://github.com/rust-lang/rust/issues/7196#issuecomment-106639080",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/7196",
    "id": 106639080,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNjYzOTA4MA==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-29T00:16:52Z",
    "updated_at": "2015-05-29T00:16:52Z",
    "body": "Note that for MSVC targets the compiler now places `dllexport` on all exported functions from a library. It does not, however deal with `dllimport` at all, and in general the situation is unfortunately a bit of a mess.\n\nI've [written up a comment about this](https://github.com/rust-lang/rust/blob/53941be9814f05496b3147da393c639a9d48957e/src/librustc_trans/trans/context.rs#L255-L297), but I'm going to use this bug to track a more proper implementation of using `dllimport` and `dllexport`, many of the concerns of which are outlined in that bug. @klutzy also probably knows enough about this to be a good liason to talk to!\n\nI think this is more concretely actionable in this repo than the RFC repo for now, so I'm going to reopen this. \n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/106639080/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/125778676",
    "html_url": "https://github.com/rust-lang/rust/issues/7196#issuecomment-125778676",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/7196",
    "id": 125778676,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNTc3ODY3Ng==",
    "user": {
      "login": "retep998",
      "id": 666308,
      "node_id": "MDQ6VXNlcjY2NjMwOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/666308?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/retep998",
      "html_url": "https://github.com/retep998",
      "followers_url": "https://api.github.com/users/retep998/followers",
      "following_url": "https://api.github.com/users/retep998/following{/other_user}",
      "gists_url": "https://api.github.com/users/retep998/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/retep998/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/retep998/subscriptions",
      "organizations_url": "https://api.github.com/users/retep998/orgs",
      "repos_url": "https://api.github.com/users/retep998/repos",
      "events_url": "https://api.github.com/users/retep998/events{/privacy}",
      "received_events_url": "https://api.github.com/users/retep998/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-28T23:12:15Z",
    "updated_at": "2015-07-28T23:12:15Z",
    "body": "I think we shouldn't indiscriminately put `dllexport` on all exported functions from a library, because if we statically link the library, then those functions still have `dllexport` and are thus exported from the resulting executable, even though the main crate doesn't publicly re-export them. I think this might be why `link` is failing to strip unreferenced functions.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/125778676/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
