[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/28392646",
    "html_url": "https://github.com/rust-lang/rust/pull/10460#issuecomment-28392646",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10460",
    "id": 28392646,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4MzkyNjQ2",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-13T13:10:47Z",
    "updated_at": "2013-11-13T13:10:47Z",
    "body": "So I'm ambivalent about this PR. On one side, it brings us in line with how pthreads works, avoids malloc overhead, and gives us a first pass at guard page stack safety. On the other hand, it hurts the microbenchmarks on Linux using glibc. This is about 2x slower on all of the simple \"spawn a task as fast as we can then stop\" benchmarks using glibc. Whatever its allocator is doing, it's extremely friendly to these sorts of benchmarks (it's basically just repeatedly allocating and freeing a 2M vector). But, we are faster than jemalloc and, I assume, other platforms' mallocs. Plus, we're caching stacks.\n\nAre we willing to take the hit on these benchmarks? Is there a better testcase than spawnalot for overall perf impact?\n\ncc @alexcrichton @pcwalton @brson  \n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/28392646/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/28415066",
    "html_url": "https://github.com/rust-lang/rust/pull/10460#issuecomment-28415066",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10460",
    "id": 28415066,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NDE1MDY2",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-13T17:29:26Z",
    "updated_at": "2013-11-13T17:29:26Z",
    "body": "Interesting! I'm curious if we're orders of magnitude slower than just calling mmap in a loop from C? If so, then there's probably a hidden problem somewhere.\n\nOther than that, this all looks pretty good to me. I'm not a big fan of the failure on out-of-memory, but it seems easy enough to push upwards by returning `Option<Stack>`.\n\nI'm not sure if we want to set the cache limit to 50 stacks, because this cache is a per-scheduler thing, and by default you have a scheduler per-core, so the cache could become fairly large fairly quickly maybe? It may also just want a limit of perhaps 10 instead of 50.\n\nOverall, this looks good, but I would like to investigate more into the performance numbers before landing. If we're slower, then how come? Is it a fundamental problem using mmap? How much faster is malloc? How can malloc be faster? etc, etc.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/28415066/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/28459428",
    "html_url": "https://github.com/rust-lang/rust/pull/10460#issuecomment-28459428",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10460",
    "id": 28459428,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NDU5NDI4",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-14T04:51:35Z",
    "updated_at": "2013-11-14T04:51:35Z",
    "body": "@alexcrichton we're faster than jemalloc. we were an ounce slower than pthread, which is almost just the mmap/mprotect loop (it adds a clone in there), though I think the simpler caching will bring that down. apparently glibc does very heavy caching. Investigating more after the build finishes.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/28459428/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/28460029",
    "html_url": "https://github.com/rust-lang/rust/pull/10460#issuecomment-28460029",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10460",
    "id": 28460029,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NDYwMDI5",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-14T05:08:47Z",
    "updated_at": "2013-11-14T05:08:47Z",
    "body": "Does this affect the maximum number of tasks we can spawn? I was under the impression there were limits to the number of mmapped regions we could create.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/28460029/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/28460538",
    "html_url": "https://github.com/rust-lang/rust/pull/10460#issuecomment-28460538",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10460",
    "id": 28460538,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NDYwNTM4",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-14T05:26:02Z",
    "updated_at": "2013-11-14T05:26:15Z",
    "body": "On my system (x86-64 debian unstable):\n\n```\n$ sudo sysctl vm.max_map_count\nvm.max_map_count = 65530\n```\n\n[docs](https://www.kernel.org/doc/Documentation/sysctl/vm.txt)\n\n> This file contains the maximum number of memory map areas a process may have. Memory map areas are used as a side-effect of calling malloc, directly by mmap and mprotect, and also when loading shared libraries.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/28460538/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/28460860",
    "html_url": "https://github.com/rust-lang/rust/pull/10460#issuecomment-28460860",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10460",
    "id": 28460860,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NDYwODYw",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-14T05:35:22Z",
    "updated_at": "2013-11-14T05:35:22Z",
    "body": "I'm running `task-perf-one-million 40` to check and soforth. It took 16s\nwith the old code, I killed jemalloc after 7 minutes, and the new code it\nindeed fails. The highest I could get it was `./task-perf-one-million 31`,\nwhich is 23282 tasks. With 31 instead of 40, old took 0.531s, old\nw/jemalloc takes 5.378, new takes 0.594s\n\nOn Thu, Nov 14, 2013 at 12:26 AM, Huon Wilson notifications@github.comwrote:\n\n> On my system:\n> \n> $ sudo sysctl vm.max_map_count\n> vm.max_map_count = 65530\n> \n> docs https://www.kernel.org/doc/Documentation/sysctl/vm.txt\n> \n> This file contains the maximum number of memory map areas a process may\n> have. Memory map areas are used as a side-effect of calling malloc,\n> directly by mmap and mprotect, and also when loading shared libraries.\n> \n> \u2014\n> Reply to this email directly or view it on GitHubhttps://github.com/mozilla/rust/pull/10460#issuecomment-28460538\n> .\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/28460860/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/28460928",
    "html_url": "https://github.com/rust-lang/rust/pull/10460#issuecomment-28460928",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10460",
    "id": 28460928,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NDYwOTI4",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-14T05:37:41Z",
    "updated_at": "2013-11-14T05:37:41Z",
    "body": "Unfortunately that is a hard limit if we want guard pages... we could make\ntasks request guard pages manually, but it's hard to know if you're ever\ngoing to be calling FFI at any point.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/28460928/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/28461091",
    "html_url": "https://github.com/rust-lang/rust/pull/10460#issuecomment-28461091",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10460",
    "id": 28461091,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NDYxMDkx",
    "user": {
      "login": "thestinger",
      "id": 1505226,
      "node_id": "MDQ6VXNlcjE1MDUyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thestinger",
      "html_url": "https://github.com/thestinger",
      "followers_url": "https://api.github.com/users/thestinger/followers",
      "following_url": "https://api.github.com/users/thestinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions",
      "organizations_url": "https://api.github.com/users/thestinger/orgs",
      "repos_url": "https://api.github.com/users/thestinger/repos",
      "events_url": "https://api.github.com/users/thestinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thestinger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-14T05:43:44Z",
    "updated_at": "2013-11-14T05:46:21Z",
    "body": "A 2MiB stack isn't enough for `rustc` so it's not a sane default. The Linux default is 8MiB so we should be comparing with a number like that - jemalloc stops caching at >4MiB and should fall right through to `mmap`. Large allocations cause silly amounts of fragmentation with glibc so the numbers will get much worse if you let it churn for a while doing something like vector reallocations as it goes.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/28461091/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/28461132",
    "html_url": "https://github.com/rust-lang/rust/pull/10460#issuecomment-28461132",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10460",
    "id": 28461132,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NDYxMTMy",
    "user": {
      "login": "thestinger",
      "id": 1505226,
      "node_id": "MDQ6VXNlcjE1MDUyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thestinger",
      "html_url": "https://github.com/thestinger",
      "followers_url": "https://api.github.com/users/thestinger/followers",
      "following_url": "https://api.github.com/users/thestinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions",
      "organizations_url": "https://api.github.com/users/thestinger/orgs",
      "repos_url": "https://api.github.com/users/thestinger/repos",
      "events_url": "https://api.github.com/users/thestinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thestinger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-14T05:45:12Z",
    "updated_at": "2013-11-14T05:45:26Z",
    "body": "@cmr: I can definitely spawn way more POSIX threads than that with 4GiB of memory. They set a 1 page guard at the end of the allocation.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/28461132/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/28461353",
    "html_url": "https://github.com/rust-lang/rust/pull/10460#issuecomment-28461353",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10460",
    "id": 28461353,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NDYxMzUz",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-14T05:52:29Z",
    "updated_at": "2013-11-14T05:52:29Z",
    "body": "Yeh, nevermind, that limit doesn't apply to individual mprotects within a\nrange. It's possible to map a very large segment and split the stacks\nwithin it.\n\nOn Thu, Nov 14, 2013 at 12:45 AM, Daniel Micay notifications@github.comwrote:\n\n> @cmr https://github.com/cmr: I can definitely spawn way more POSIX\n> threads than that with 4GiB of memory.\n> \n> \u2014\n> Reply to this email directly or view it on GitHubhttps://github.com/mozilla/rust/pull/10460#issuecomment-28461132\n> .\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/28461353/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/28461935",
    "html_url": "https://github.com/rust-lang/rust/pull/10460#issuecomment-28461935",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10460",
    "id": 28461935,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NDYxOTM1",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-14T06:11:33Z",
    "updated_at": "2013-11-14T06:11:33Z",
    "body": "I cannot explain this behavior at all.\n\n```\nRUST_MIN_STACK=8388608 ./silly-test-spawn-mmap  1.82s user 1.64s system 173% cpu 1.989 total    \nRUST_MIN_STACK=8388608 ./silly-test-spawn  2.21s user 10.52s system 207% cpu 6.143 total\nRUST_MIN_STACK=8388608 jemalloc.sh ./silly-test-spawn  2.85s user 25.95s system 111% cpu 25.774 total\nRUST_MIN_STACK=4194304 jemalloc.sh ./silly-test-spawn  2.88s user 26.56s system 111% cpu 26.367 total                                                                                                               \nRUST_MIN_STACK=4194304 ./silly-test-spawn  2.19s user 10.86s system 233% cpu 5.583 total\nRUST_MIN_STACK=4194304 ./silly-test-spawn-mmap  2.01s user 10.30s system 116% cpu 10.598 total\n```\n\nwhere silly-test-spawn.rs is\n\n``` rust\nfn main() {\n    for _ in range(1, 100_000) {\n        do spawn { }\n    }\n}\n```\n\nWhy would 4M stacks be 5x slower then 8M stacks? \n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/28461935/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/28461953",
    "html_url": "https://github.com/rust-lang/rust/pull/10460#issuecomment-28461953",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10460",
    "id": 28461953,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NDYxOTUz",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-14T06:12:00Z",
    "updated_at": "2013-11-14T06:12:00Z",
    "body": "(With the mmap code, it maps in a single stack and just keeps using that, due to the caching)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/28461953/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/28462018",
    "html_url": "https://github.com/rust-lang/rust/pull/10460#issuecomment-28462018",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10460",
    "id": 28462018,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NDYyMDE4",
    "user": {
      "login": "thestinger",
      "id": 1505226,
      "node_id": "MDQ6VXNlcjE1MDUyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thestinger",
      "html_url": "https://github.com/thestinger",
      "followers_url": "https://api.github.com/users/thestinger/followers",
      "following_url": "https://api.github.com/users/thestinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions",
      "organizations_url": "https://api.github.com/users/thestinger/orgs",
      "repos_url": "https://api.github.com/users/thestinger/repos",
      "events_url": "https://api.github.com/users/thestinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thestinger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-14T06:14:14Z",
    "updated_at": "2013-11-14T06:14:24Z",
    "body": "Well, the base unit is tcmalloc is 2 pages and so is the default Linux stack size. Perhaps there's a good reason for using it. :)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/28462018/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/28462574",
    "html_url": "https://github.com/rust-lang/rust/pull/10460#issuecomment-28462574",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10460",
    "id": 28462574,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NDYyNTc0",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-14T06:32:35Z",
    "updated_at": "2013-11-14T06:32:35Z",
    "body": "Erm... actually, seems that rust builds just kicked off in the background. Probably should have killed that first! New numbers:\n\n```\n[1:31:17]~/hacking/rust/src/test/bench> for s in $stacks; do for e in $exes; do echo \"stacksize=$s exe=$e\"; RUST_MIN_STACK=$e /usr/bin/time -f '%E' $e; done done\nstacksize=4194304 exe=./silly-test-spawn-mmap\n0:01.76\nstacksize=4194304 exe=./silly-test-spawn\n0:00.92\nstacksize=8388608 exe=./silly-test-spawn-mmap\n0:01.75\nstacksize=8388608 exe=./silly-test-spawn\n0:00.89\nstacksize=1048576 exe=./silly-test-spawn-mmap\n0:01.81\nstacksize=1048576 exe=./silly-test-spawn\n0:00.89\nstacksize=8092 exe=./silly-test-spawn-mmap\n0:01.72\nstacksize=8092 exe=./silly-test-spawn\n0:00.94\n[1:31:35]~/hacking/rust/src/test/bench> for s in $stacks; do for e in $exes; do echo \"stacksize=$s exe=$e\"; RUST_MIN_STACK=$e /usr/bin/time -f '%E' jemalloc.sh $e; done done\nstacksize=4194304 exe=./silly-test-spawn-mmap\n0:01.82\nstacksize=4194304 exe=./silly-test-spawn\n0:01.13\nstacksize=8388608 exe=./silly-test-spawn-mmap\n0:01.80\nstacksize=8388608 exe=./silly-test-spawn\n0:01.12\nstacksize=1048576 exe=./silly-test-spawn-mmap\n0:01.78\nstacksize=1048576 exe=./silly-test-spawn\n0:01.13\nstacksize=8092 exe=./silly-test-spawn-mmap\n0:01.80\nstacksize=8092 exe=./silly-test-spawn\n0:01.12\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/28462574/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/28462767",
    "html_url": "https://github.com/rust-lang/rust/pull/10460#issuecomment-28462767",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10460",
    "id": 28462767,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NDYyNzY3",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-14T06:38:03Z",
    "updated_at": "2013-11-14T06:38:03Z",
    "body": "It confuses me that making a single map and always using it could possibly be slower than calling malloc/free for every task; I guess that means that the overhead from the caching (which is a single loop with a swap_remove) would be less than whatever malloc does.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/28462767/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/28462824",
    "html_url": "https://github.com/rust-lang/rust/pull/10460#issuecomment-28462824",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10460",
    "id": 28462824,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NDYyODI0",
    "user": {
      "login": "thestinger",
      "id": 1505226,
      "node_id": "MDQ6VXNlcjE1MDUyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thestinger",
      "html_url": "https://github.com/thestinger",
      "followers_url": "https://api.github.com/users/thestinger/followers",
      "following_url": "https://api.github.com/users/thestinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions",
      "organizations_url": "https://api.github.com/users/thestinger/orgs",
      "repos_url": "https://api.github.com/users/thestinger/repos",
      "events_url": "https://api.github.com/users/thestinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thestinger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-14T06:40:01Z",
    "updated_at": "2013-11-14T06:40:01Z",
    "body": "Does it cache globally or per-scheduler?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/28462824/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/28462896",
    "html_url": "https://github.com/rust-lang/rust/pull/10460#issuecomment-28462896",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10460",
    "id": 28462896,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NDYyODk2",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-14T06:42:47Z",
    "updated_at": "2013-11-14T06:43:22Z",
    "body": "That data in a convienent table:\n\n| size | system | jemalloc | mmap |\n| --- | --- | --- | --- |\n| 8092 | 0.94 | 1.12 | 1.72 |\n| 1048576 | 0.89 | 1.13 | 1.81 |\n| 4194304 | 0.92 | 1.13 | 1.76 |\n| 8388608 | 0.89 | 1.12 | 1.75 |\n\nI'd say that the times are essentially independent of stack sizes, assuming I copied it out correctly. (I assumed the jemalloc + mmap ones were no different to the non-jemalloc mmap's, so just took the first batch.)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/28462896/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/28463108",
    "html_url": "https://github.com/rust-lang/rust/pull/10460#issuecomment-28463108",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10460",
    "id": 28463108,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NDYzMTA4",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-14T06:50:03Z",
    "updated_at": "2013-11-14T06:50:03Z",
    "body": "Per-scheduler but for this there should be only one scheduler\n\nOn Thu, Nov 14, 2013 at 1:43 AM, Huon Wilson notifications@github.comwrote:\n\n> That data in a convienent table:\n>   system jemalloc mmap  8092 0.94 1.12 1.72  1048576 0.89 1.13 1.81\n> 4194304 0.92 1.13 1.76  8388608 0.89 1.12 1.75\n> \n> I'd say that the times are essentially independent of stack sizes,\n> assuming I copied it out correctly. (I assumed the jemalloc + mmap ones\n> were no different to the non-jemalloc mmap's, so just took the first batch.)\n> \n> \u2014\n> Reply to this email directly or view it on GitHubhttps://github.com/mozilla/rust/pull/10460#issuecomment-28462896\n> .\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/28463108/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/28516287",
    "html_url": "https://github.com/rust-lang/rust/pull/10460#issuecomment-28516287",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10460",
    "id": 28516287,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NTE2Mjg3",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-14T19:48:36Z",
    "updated_at": "2013-11-14T19:48:44Z",
    "body": "So if I'm reading this correctly (using @huonw's table), mmap is twice as slow as malloc which is in turn a little faster than jemalloc?\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/28516287/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/28516568",
    "html_url": "https://github.com/rust-lang/rust/pull/10460#issuecomment-28516568",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10460",
    "id": 28516568,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NTE2NTY4",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-14T19:51:51Z",
    "updated_at": "2013-11-14T19:51:51Z",
    "body": "Yes. I can't figure out where the difference is coming from. They should be the same, or very close to it, except for the first allocation.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/28516568/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/28534439",
    "html_url": "https://github.com/rust-lang/rust/pull/10460#issuecomment-28534439",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10460",
    "id": 28534439,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NTM0NDM5",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-14T23:35:02Z",
    "updated_at": "2013-11-14T23:35:02Z",
    "body": "What would the numbers look like if you called `mprotect` at the end of the `malloc` allocation? If those numbers are the same as the mmap numbers, it may just be because we're making two syscalls perhaps?\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/28534439/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/28534564",
    "html_url": "https://github.com/rust-lang/rust/pull/10460#issuecomment-28534564",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10460",
    "id": 28534564,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NTM0NTY0",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-14T23:36:58Z",
    "updated_at": "2013-11-14T23:36:58Z",
    "body": "We can't, in general, mprotect malloc'd memory (and from what I can tell\nmalloc is mprotecting anyway) But I can remove the mprotect from our code.\nI have an exam soon, will test after.\n\nOn Thu, Nov 14, 2013 at 6:35 PM, Alex Crichton notifications@github.comwrote:\n\n> What would the numbers look like if you called mprotect at the end of the\n> malloc allocation? If those numbers are the same as the mmap numbers, it\n> may just be because we're making two syscalls perhaps?\n> \n> \u2014\n> Reply to this email directly or view it on GitHubhttps://github.com/mozilla/rust/pull/10460#issuecomment-28534439\n> .\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/28534564/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29130967",
    "html_url": "https://github.com/rust-lang/rust/pull/10460#issuecomment-29130967",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10460",
    "id": 29130967,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5MTMwOTY3",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-23T11:47:09Z",
    "updated_at": "2013-11-23T11:50:24Z",
    "body": "Another round, without mprotect:\n\n| size | system | jemalloc | mmap (avg of two runs) |\n| --- | --- | --- | --- |\n| 8092 | 0.83 | 1.22 | 1.73 |\n| 1048576 | 0.86 | 1.22 | 1.75 |\n| 4194304 | 0.86 | 1.21 | 1.76 |\n| 8388608 | 0.89 | 1.12 | 1.75 |\n\nSo, there's definitely a perf hit with this change. But I'm sure it's fixable, and if we do standardize on jemalloc again, we can mprotect the pages it allocates without our own mmap. I'll continue looking into it.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29130967/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29131442",
    "html_url": "https://github.com/rust-lang/rust/pull/10460#issuecomment-29131442",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10460",
    "id": 29131442,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5MTMxNDQy",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-23T12:23:16Z",
    "updated_at": "2013-11-23T12:29:25Z",
    "body": "With the following C, I can only create 32752 threads:\n\n``` c\n#include <pthread.h>\n#include <stdlib.h>\n#include <stdio.h>\n#include <errno.h>\n\nvoid *cb(void *arg) {\n        pthread_exit(0);\n        return NULL;\n}\n\nint main(void) {\n        void *retval;\n        int ret;\n\n        pthread_t *threads = malloc(sizeof(pthread_t) * 100000);\n        for (int i = 0; i < 100000; i++) {\n                if ((ret = pthread_create(&threads[i], NULL, cb, NULL)) != 0) {\n                        printf(\"failed on thread %d\\n\", i);\n                        errno = ret;\n                        perror(\"pthread_create\");\n                        exit(1);\n                }\n        }\n\n        for (int i = 0; i < 100000; i++) {\n                pthread_join(threads[i], retval);\n        }\n\n        return 0;\n}\n```\n\nIt fails on\n\n```\nmprotect(0x7faf4c010000, 4096, PROT_NONE) = -1 ENOMEM (Cannot allocate memory)\n```\n\nSo it seems we aren't doing too much worse wrt task count with this change? Am I doing it wrong, @thestinger?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29131442/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29131478",
    "html_url": "https://github.com/rust-lang/rust/pull/10460#issuecomment-29131478",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10460",
    "id": 29131478,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5MTMxNDc4",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-23T12:26:09Z",
    "updated_at": "2013-11-23T12:26:09Z",
    "body": "And looking more at the strace, it _is_ mmaping a new stack for every thread.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29131478/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29131853",
    "html_url": "https://github.com/rust-lang/rust/pull/10460#issuecomment-29131853",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10460",
    "id": 29131853,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5MTMxODUz",
    "user": {
      "login": "thestinger",
      "id": 1505226,
      "node_id": "MDQ6VXNlcjE1MDUyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thestinger",
      "html_url": "https://github.com/thestinger",
      "followers_url": "https://api.github.com/users/thestinger/followers",
      "following_url": "https://api.github.com/users/thestinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions",
      "organizations_url": "https://api.github.com/users/thestinger/orgs",
      "repos_url": "https://api.github.com/users/thestinger/repos",
      "events_url": "https://api.github.com/users/thestinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thestinger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-23T12:54:02Z",
    "updated_at": "2013-11-23T12:54:02Z",
    "body": "@cmr: what if you raise `vm.max_map_count` and set `vm.overcommit_memory` to `1` (overcommit) instead of `0` (heuristic overcommit)?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29131853/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29132267",
    "html_url": "https://github.com/rust-lang/rust/pull/10460#issuecomment-29132267",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10460",
    "id": 29132267,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5MTMyMjY3",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-23T13:22:31Z",
    "updated_at": "2013-11-23T13:22:31Z",
    "body": "Well, it makes them all, but segfaults in `__deallocate_stack()`, called by\n`pthread_join`.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29132267/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29136856",
    "html_url": "https://github.com/rust-lang/rust/pull/10460#issuecomment-29136856",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10460",
    "id": 29136856,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5MTM2ODU2",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-23T17:29:48Z",
    "updated_at": "2013-11-23T17:29:48Z",
    "body": "I'm still not understanding how there's a path forward with this. Even if we do use jemalloc, it look like the system malloc is always faster than jemalloc (even without mprotect)?\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29136856/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29137177",
    "html_url": "https://github.com/rust-lang/rust/pull/10460#issuecomment-29137177",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10460",
    "id": 29137177,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5MTM3MTc3",
    "user": {
      "login": "thestinger",
      "id": 1505226,
      "node_id": "MDQ6VXNlcjE1MDUyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thestinger",
      "html_url": "https://github.com/thestinger",
      "followers_url": "https://api.github.com/users/thestinger/followers",
      "following_url": "https://api.github.com/users/thestinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions",
      "organizations_url": "https://api.github.com/users/thestinger/orgs",
      "repos_url": "https://api.github.com/users/thestinger/repos",
      "events_url": "https://api.github.com/users/thestinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thestinger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-23T17:43:41Z",
    "updated_at": "2013-11-23T17:43:41Z",
    "body": "@alexcrichton: It's faster than `jemalloc` for this size of allocation because it's not worrying about fragmentation and will end up causing pathological performance and memory usage in the long run.\n\nIf we want stack safety, we have to pay the cost of calling `mmap` and `mprotect` just like `pthread_create` does. If we want even less stack safety than C threads, then sure, we don't need this. Task spawning performance doesn't matter very much because tasks don't replace thread pools for CPU-bound code.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29137177/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29141502",
    "html_url": "https://github.com/rust-lang/rust/pull/10460#issuecomment-29141502",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10460",
    "id": 29141502,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5MTQxNTAy",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-23T21:02:20Z",
    "updated_at": "2013-11-23T21:02:20Z",
    "body": "@thestinger is there any way to quantize fragmentation?\n\nOne problem with this is that it's not easy to decide when we need to allocate a huge block to put stacks on. By the time we know we need to be using large allocations, it's too late. We can depend on overcommit and just allocate huge (say, 1G) blocks and slice them up per stack. At this point we're rewriting malloc. Or, maybe, get the map limit at runtime and when we get to limit/2, start allocating 2 stacks at once, limit/4, 4 at once, and so forth. Or something.\n\nSome careful juggling is needed if we want small stacks. But I'm not sure those are really possible without reworking tons of things, and I'm not even certain this sort of scheme would be workable for tiny tasks. What does Go do here?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29141502/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/30597511",
    "html_url": "https://github.com/rust-lang/rust/pull/10460#issuecomment-30597511",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10460",
    "id": 30597511,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwNTk3NTEx",
    "user": {
      "login": "thestinger",
      "id": 1505226,
      "node_id": "MDQ6VXNlcjE1MDUyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thestinger",
      "html_url": "https://github.com/thestinger",
      "followers_url": "https://api.github.com/users/thestinger/followers",
      "following_url": "https://api.github.com/users/thestinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions",
      "organizations_url": "https://api.github.com/users/thestinger/orgs",
      "repos_url": "https://api.github.com/users/thestinger/repos",
      "events_url": "https://api.github.com/users/thestinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thestinger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-12-15T03:47:18Z",
    "updated_at": "2013-12-15T03:47:18Z",
    "body": "The segmented stack prelude is a 2-3% performance hit overall and makes it impossible to use freestanding Rust without building `clang` near the same LLVM revision as Rust and compiling the `rustc` bytecode with it. I think that's a far more important cost to worry about than a micro-benchmark spawning no-op tasks. Windows provides safety from stack overflow by default without the same overhead, and `gcc` provides it via `-fstack-check`. It's very sad for Rust to be less safe than C in regards to stack safety while also spending more resources on it.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/30597511/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/30597524",
    "html_url": "https://github.com/rust-lang/rust/pull/10460#issuecomment-30597524",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10460",
    "id": 30597524,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwNTk3NTI0",
    "user": {
      "login": "thestinger",
      "id": 1505226,
      "node_id": "MDQ6VXNlcjE1MDUyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thestinger",
      "html_url": "https://github.com/thestinger",
      "followers_url": "https://api.github.com/users/thestinger/followers",
      "following_url": "https://api.github.com/users/thestinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions",
      "organizations_url": "https://api.github.com/users/thestinger/orgs",
      "repos_url": "https://api.github.com/users/thestinger/repos",
      "events_url": "https://api.github.com/users/thestinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thestinger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-12-15T03:48:42Z",
    "updated_at": "2013-12-15T03:48:42Z",
    "body": "@cmr: Try using detached threads in C to match what Rust is doing, or synchronizing the Rust tasks to prevent them from exiting immediately if it's not already doing that.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/30597524/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/30893001",
    "html_url": "https://github.com/rust-lang/rust/pull/10460#issuecomment-30893001",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10460",
    "id": 30893001,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwODkzMDAx",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-12-18T23:46:50Z",
    "updated_at": "2013-12-18T23:46:50Z",
    "body": "I have rebased this. I don't know enough about either side of this issue to effectively debug the benchmark. I don't particularly mind it, though.\n\nMoving forward, we could add some sort of heuristic that, after allocating X segments, we can decide that \"there's probably going to be lots more spawns soon!\" and allocate a chunk and dish out stacks from that with mprotects between. We should also probably add an interface to the Runtime to say \"make a big stack buffer, you're gunna need it\", to get around the (probably flawwed heuristic).\n\nIMO this is mergable.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/30893001/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/31158283",
    "html_url": "https://github.com/rust-lang/rust/pull/10460#issuecomment-31158283",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10460",
    "id": 31158283,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxMTU4Mjgz",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-12-24T04:40:51Z",
    "updated_at": "2013-12-24T04:40:51Z",
    "body": "I have put this on the next meeting agenda.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/31158283/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/31769329",
    "html_url": "https://github.com/rust-lang/rust/pull/10460#issuecomment-31769329",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10460",
    "id": 31769329,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNzY5MzI5",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-01-07T19:19:27Z",
    "updated_at": "2014-01-07T19:19:27Z",
    "body": "We discussed this at the meeting today, and this seems like we would want to merge this, but then I remembered that this does not protect against overflow in native tasks (guaranteed on all platforms, it may already have that guarantee on windows).\n\nI'm unsure of whether we can protect against this with native tasks, and if we don't protect against it in native tasks, we probably shouldn't try to protect against it in green tasks (especially because native threads will probably become the default).\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/31769329/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/31769518",
    "html_url": "https://github.com/rust-lang/rust/pull/10460#issuecomment-31769518",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10460",
    "id": 31769518,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNzY5NTE4",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-01-07T19:21:32Z",
    "updated_at": "2014-01-07T19:21:32Z",
    "body": "Why wouldn't this protect native tasks?\n\nOn Tue, Jan 7, 2014 at 2:19 PM, Alex Crichton notifications@github.comwrote:\n\n> We discussed this at the meeting today, and this seems like we would want\n> to merge this, but then I remembered that this does not protect against\n> overflow in native tasks (guaranteed on all platforms, it may already have\n> that guarantee on windows).\n> \n> I'm unsure of whether we can protect against this with native tasks, and\n> if we don't protect against it in native tasks, we probably shouldn't try\n> to protect against it in green tasks (especially because native threads\n> will probably become the default).\n> \n> \u2014\n> Reply to this email directly or view it on GitHubhttps://github.com/mozilla/rust/pull/10460#issuecomment-31769329\n> .\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/31769518/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/31770260",
    "html_url": "https://github.com/rust-lang/rust/pull/10460#issuecomment-31770260",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10460",
    "id": 31770260,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNzcwMjYw",
    "user": {
      "login": "thestinger",
      "id": 1505226,
      "node_id": "MDQ6VXNlcjE1MDUyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thestinger",
      "html_url": "https://github.com/thestinger",
      "followers_url": "https://api.github.com/users/thestinger/followers",
      "following_url": "https://api.github.com/users/thestinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions",
      "organizations_url": "https://api.github.com/users/thestinger/orgs",
      "repos_url": "https://api.github.com/users/thestinger/repos",
      "events_url": "https://api.github.com/users/thestinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thestinger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-01-07T19:28:34Z",
    "updated_at": "2014-01-07T19:28:34Z",
    "body": "@alexcrichton: Native threads already have guard pages as set by `pthread_attr_setguardsize` (default of 1 on Linux with glibc).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/31770260/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/31770314",
    "html_url": "https://github.com/rust-lang/rust/pull/10460#issuecomment-31770314",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10460",
    "id": 31770314,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNzcwMzE0",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-01-07T19:29:11Z",
    "updated_at": "2014-01-07T19:29:11Z",
    "body": "This is only allocating stacks for green tasks (in libgreen), stack allocating for native tasks happens through pthreads, and in pthreads I don't think that we're guaranteed to have a guard page at the end of the thread's stack.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/31770314/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/31770444",
    "html_url": "https://github.com/rust-lang/rust/pull/10460#issuecomment-31770444",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10460",
    "id": 31770444,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNzcwNDQ0",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-01-07T19:30:24Z",
    "updated_at": "2014-01-07T19:30:24Z",
    "body": "Oh interesting! It appears that there is `pthread_attr_setguardsize` on OSX (although it doesn't have a manpage), and I guess it will probably be on freebsd as well. Are we sure that some equivalent exists on windows/android\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/31770444/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/31770738",
    "html_url": "https://github.com/rust-lang/rust/pull/10460#issuecomment-31770738",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10460",
    "id": 31770738,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNzcwNzM4",
    "user": {
      "login": "thestinger",
      "id": 1505226,
      "node_id": "MDQ6VXNlcjE1MDUyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thestinger",
      "html_url": "https://github.com/thestinger",
      "followers_url": "https://api.github.com/users/thestinger/followers",
      "following_url": "https://api.github.com/users/thestinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions",
      "organizations_url": "https://api.github.com/users/thestinger/orgs",
      "repos_url": "https://api.github.com/users/thestinger/repos",
      "events_url": "https://api.github.com/users/thestinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thestinger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-01-07T19:33:26Z",
    "updated_at": "2014-01-07T19:33:26Z",
    "body": "It's part of POSIX since the early revisions so it should exist almost everywhere. Windows has full stack safety by default much like gcc with `-fcheck-stack` on Linux.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/31770738/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/31771153",
    "html_url": "https://github.com/rust-lang/rust/pull/10460#issuecomment-31771153",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10460",
    "id": 31771153,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNzcxMTUz",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-01-07T19:37:39Z",
    "updated_at": "2014-01-07T19:37:39Z",
    "body": "Excellent! In that case, @cmr, could you rebase this patch for green threads?\n\nI'll open an issue for native threads.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/31771153/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/33084195",
    "html_url": "https://github.com/rust-lang/rust/pull/10460#issuecomment-33084195",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10460",
    "id": 33084195,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMDg0MTk1",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-01-23T00:09:47Z",
    "updated_at": "2014-01-23T00:09:47Z",
    "body": "ping, I can take over this if you'd like.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/33084195/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/33099362",
    "html_url": "https://github.com/rust-lang/rust/pull/10460#issuecomment-33099362",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10460",
    "id": 33099362,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMDk5MzYy",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-01-23T06:00:33Z",
    "updated_at": "2014-01-23T06:00:33Z",
    "body": "that'd be nice, I really just don't have the time right now to hunt down bugs on platforms I don't have ready access to.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/33099362/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/33152334",
    "html_url": "https://github.com/rust-lang/rust/pull/10460#issuecomment-33152334",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10460",
    "id": 33152334,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMTUyMzM0",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-01-23T18:20:58Z",
    "updated_at": "2014-01-23T18:20:58Z",
    "body": "Closing in favor of #11756 \n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/33152334/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
