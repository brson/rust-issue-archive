[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/167948365",
    "html_url": "https://github.com/rust-lang/rust/issues/30472#issuecomment-167948365",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30472",
    "id": 167948365,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2Nzk0ODM2NQ==",
    "user": {
      "login": "soltanmm",
      "id": 4889063,
      "node_id": "MDQ6VXNlcjQ4ODkwNjM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4889063?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/soltanmm",
      "html_url": "https://github.com/soltanmm",
      "followers_url": "https://api.github.com/users/soltanmm/followers",
      "following_url": "https://api.github.com/users/soltanmm/following{/other_user}",
      "gists_url": "https://api.github.com/users/soltanmm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/soltanmm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/soltanmm/subscriptions",
      "organizations_url": "https://api.github.com/users/soltanmm/orgs",
      "repos_url": "https://api.github.com/users/soltanmm/repos",
      "events_url": "https://api.github.com/users/soltanmm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/soltanmm/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-12-30T07:05:29Z",
    "updated_at": "2015-12-30T07:05:29Z",
    "body": "HRTBs (I've been using the wrong nomenclature the whole time!) make projections sad.\n\n``` rust\n///////////////\n// HRTB setup\n//\ntrait A {\n    type S;\n}\ntrait B<'self_> {\n    type T;\n}\ntrait C: for<'self_> B<'self_> {\n    type U: for<'self_> A<S=<Self as B<'self_>>::T>;  // requires normalizing through an HRTB\n}\n\n//////////////////////\n// Problematic impls\n//\nimpl A for usize {\n    type S = usize;\n}\nimpl<'self_> B<'self_> for usize {\n    type T = usize;\n}\nimpl C for usize {\n    type U = usize;\n}\n\n\nfn main() {}\n```\n\n```\n<anon>:23:1: 25:2 error: type mismatch resolving `for<'self_> <usize as A>::S == <usize as B<'self_>>::T`:\n expected usize,\n    found associated type [E0271]\n<anon>:23 impl C for usize {\n<anon>:24     type U = usize;\n<anon>:25 }\n<anon>:23:1: 25:2 help: see the detailed explanation for E0271\n<anon>:23:1: 25:2 note: required by `C`\nerror: aborting due to previous error\nplaypen: application terminated with error code 101\n```\n\nVery likely a dupe of #28994.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/167948365/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/168280807",
    "html_url": "https://github.com/rust-lang/rust/issues/30472#issuecomment-168280807",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30472",
    "id": 168280807,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2ODI4MDgwNw==",
    "user": {
      "login": "eddyb",
      "id": 77424,
      "node_id": "MDQ6VXNlcjc3NDI0",
      "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eddyb",
      "html_url": "https://github.com/eddyb",
      "followers_url": "https://api.github.com/users/eddyb/followers",
      "following_url": "https://api.github.com/users/eddyb/following{/other_user}",
      "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions",
      "organizations_url": "https://api.github.com/users/eddyb/orgs",
      "repos_url": "https://api.github.com/users/eddyb/repos",
      "events_url": "https://api.github.com/users/eddyb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eddyb/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-01-01T03:54:16Z",
    "updated_at": "2016-01-01T03:54:16Z",
    "body": "cc @nikomatsakis\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/168280807/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/168426076",
    "html_url": "https://github.com/rust-lang/rust/issues/30472#issuecomment-168426076",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30472",
    "id": 168426076,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2ODQyNjA3Ng==",
    "user": {
      "login": "arielb1",
      "id": 1830974,
      "node_id": "MDQ6VXNlcjE4MzA5NzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1830974?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/arielb1",
      "html_url": "https://github.com/arielb1",
      "followers_url": "https://api.github.com/users/arielb1/followers",
      "following_url": "https://api.github.com/users/arielb1/following{/other_user}",
      "gists_url": "https://api.github.com/users/arielb1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/arielb1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/arielb1/subscriptions",
      "organizations_url": "https://api.github.com/users/arielb1/orgs",
      "repos_url": "https://api.github.com/users/arielb1/repos",
      "events_url": "https://api.github.com/users/arielb1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/arielb1/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-01-02T20:20:52Z",
    "updated_at": "2016-01-02T20:20:52Z",
    "body": "Known issue.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/168426076/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/172141422",
    "html_url": "https://github.com/rust-lang/rust/issues/30472#issuecomment-172141422",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30472",
    "id": 172141422,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MjE0MTQyMg==",
    "user": {
      "login": "soltanmm",
      "id": 4889063,
      "node_id": "MDQ6VXNlcjQ4ODkwNjM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4889063?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/soltanmm",
      "html_url": "https://github.com/soltanmm",
      "followers_url": "https://api.github.com/users/soltanmm/followers",
      "following_url": "https://api.github.com/users/soltanmm/following{/other_user}",
      "gists_url": "https://api.github.com/users/soltanmm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/soltanmm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/soltanmm/subscriptions",
      "organizations_url": "https://api.github.com/users/soltanmm/orgs",
      "repos_url": "https://api.github.com/users/soltanmm/repos",
      "events_url": "https://api.github.com/users/soltanmm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/soltanmm/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-01-16T01:11:11Z",
    "updated_at": "2016-01-16T01:11:11Z",
    "body": "@arielb1 (or @nikomatsakis? Still a bit unclear on y'all's role separation)\nWhat's the expected overall approach to fixing this issue? Even if you don't expect a newcomer to handle it, I'd like to know anyway. :-D\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/172141422/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/172182531",
    "html_url": "https://github.com/rust-lang/rust/issues/30472#issuecomment-172182531",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30472",
    "id": 172182531,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MjE4MjUzMQ==",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-01-16T10:52:16Z",
    "updated_at": "2016-01-16T10:52:16Z",
    "body": "@soltanmm actually, I'm not entirely sure. There are a serious of refactorings that I have in mind for the type system / trait resolver, and I've been figuring that after those are done, I would come back to revisit some of these issues, if they still occur, but it may be worth digging into this example (or #28994) in detail. Honestly it's not all fresh in my mind.\n\nThe refactorings I am thinking of are, first, lazy normalization (as described [in this discuss thread](https://internals.rust-lang.org/t/flattening-the-contexts-for-fun-and-profit/2293)), which may indeed help here, though I've not thought it through very deeply. Second, I'd like to generally rework how the trait checker is working to make it easier to extend the environment as you go -- the current setup, where the set of assumptions etc is semi-fixed when the inference context is created -- makes it hard to \"descend through\" a binder like `for` and then do trait resolutions and normalizations within that context.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/172182531/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/172406702",
    "html_url": "https://github.com/rust-lang/rust/issues/30472#issuecomment-172406702",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30472",
    "id": 172406702,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MjQwNjcwMg==",
    "user": {
      "login": "soltanmm",
      "id": 4889063,
      "node_id": "MDQ6VXNlcjQ4ODkwNjM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4889063?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/soltanmm",
      "html_url": "https://github.com/soltanmm",
      "followers_url": "https://api.github.com/users/soltanmm/followers",
      "following_url": "https://api.github.com/users/soltanmm/following{/other_user}",
      "gists_url": "https://api.github.com/users/soltanmm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/soltanmm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/soltanmm/subscriptions",
      "organizations_url": "https://api.github.com/users/soltanmm/orgs",
      "repos_url": "https://api.github.com/users/soltanmm/repos",
      "events_url": "https://api.github.com/users/soltanmm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/soltanmm/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-01-18T01:56:01Z",
    "updated_at": "2016-01-18T01:56:52Z",
    "body": "So, potentially w.r.t. lazy normalization, I've been playing with another bit of code (trying to shrink it a bit):\n\n``` rust\ntrait Hkt<'a> { type Output; }\ntrait A where for<'s> <Self::B as Hkt<'s>>::Output: Clone {\n    type B: for<'s> Hkt<'s>;\n}\ntrait C: A\n    where for<'s> <Self::B as Hkt<'s>>::Output: Clone\n{}\n\nimpl<'a> Hkt<'a> for usize { type Output = usize; }\n\nstruct S;\nimpl A for S {\n    type B = usize;\n}\n```\n\nFrom reading the debug logs, it seems that when checking the well-formed-ness of `impl A for S`, upon normalizing `S::B` to `usize`, and registering and `select`ing on the implied `<usize as Hkt<'a>>::Output: Clone`, the compiler has no idea that `<usize as Hkt<'a>>::Output == usize` and never normalizes to it either. Is this a situation in which the compiler might have assumed that everything was already normalized the best it could be and thus gave up?\n\nAn aside: does lazy normalization have something to do with [this asterisk in `project.rs`](https://github.com/rust-lang/rust/blob/master/src/librustc/middle/traits/project.rs#L278)?\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/172406702/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/299611493",
    "html_url": "https://github.com/rust-lang/rust/issues/30472#issuecomment-299611493",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30472",
    "id": 299611493,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5OTYxMTQ5Mw==",
    "user": {
      "login": "Mark-Simulacrum",
      "id": 5047365,
      "node_id": "MDQ6VXNlcjUwNDczNjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5047365?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Mark-Simulacrum",
      "html_url": "https://github.com/Mark-Simulacrum",
      "followers_url": "https://api.github.com/users/Mark-Simulacrum/followers",
      "following_url": "https://api.github.com/users/Mark-Simulacrum/following{/other_user}",
      "gists_url": "https://api.github.com/users/Mark-Simulacrum/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Mark-Simulacrum/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Mark-Simulacrum/subscriptions",
      "organizations_url": "https://api.github.com/users/Mark-Simulacrum/orgs",
      "repos_url": "https://api.github.com/users/Mark-Simulacrum/repos",
      "events_url": "https://api.github.com/users/Mark-Simulacrum/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Mark-Simulacrum/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-05-06T03:02:30Z",
    "updated_at": "2017-05-06T03:02:30Z",
    "body": "Is this https://github.com/rust-lang/rust/issues/30867? It looks similar, but uncertain.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/299611493/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/383077379",
    "html_url": "https://github.com/rust-lang/rust/issues/30472#issuecomment-383077379",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30472",
    "id": 383077379,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MzA3NzM3OQ==",
    "user": {
      "login": "dylanede",
      "id": 10339269,
      "node_id": "MDQ6VXNlcjEwMzM5MjY5",
      "avatar_url": "https://avatars.githubusercontent.com/u/10339269?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dylanede",
      "html_url": "https://github.com/dylanede",
      "followers_url": "https://api.github.com/users/dylanede/followers",
      "following_url": "https://api.github.com/users/dylanede/following{/other_user}",
      "gists_url": "https://api.github.com/users/dylanede/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dylanede/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dylanede/subscriptions",
      "organizations_url": "https://api.github.com/users/dylanede/orgs",
      "repos_url": "https://api.github.com/users/dylanede/repos",
      "events_url": "https://api.github.com/users/dylanede/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dylanede/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-04-20T12:16:08Z",
    "updated_at": "2018-04-20T12:16:08Z",
    "body": "What's the state of this now? I fairly frequently run into problems with associated types involved with HRTBs not projecting/unifying.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/383077379/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/540602314",
    "html_url": "https://github.com/rust-lang/rust/issues/30472#issuecomment-540602314",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30472",
    "id": 540602314,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU0MDYwMjMxNA==",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2019-10-10T14:04:46Z",
    "updated_at": "2019-10-10T14:04:46Z",
    "body": "Triage: last two comments asking for clarification, no replies.\r\n\r\nGiven @nikomatsakis's comments earlier in the thread, I imagine this issue is \"post-chalk\".",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/540602314/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/541146617",
    "html_url": "https://github.com/rust-lang/rust/issues/30472#issuecomment-541146617",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30472",
    "id": 541146617,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU0MTE0NjYxNw==",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2019-10-11T17:07:17Z",
    "updated_at": "2019-10-11T17:07:17Z",
    "body": "This is one of the things that the traits working group is kind of actively working towards. It's blocked to some extent on the universes work, see e.g. https://github.com/rust-lang/rust/pull/65232 which tries to unblock that effort, plus lazy norm. I think we'll be making active progress though over the next few months.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/541146617/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/572589536",
    "html_url": "https://github.com/rust-lang/rust/issues/30472#issuecomment-572589536",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30472",
    "id": 572589536,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3MjU4OTUzNg==",
    "user": {
      "login": "runiq",
      "id": 620981,
      "node_id": "MDQ6VXNlcjYyMDk4MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/620981?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/runiq",
      "html_url": "https://github.com/runiq",
      "followers_url": "https://api.github.com/users/runiq/followers",
      "following_url": "https://api.github.com/users/runiq/following{/other_user}",
      "gists_url": "https://api.github.com/users/runiq/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/runiq/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/runiq/subscriptions",
      "organizations_url": "https://api.github.com/users/runiq/orgs",
      "repos_url": "https://api.github.com/users/runiq/repos",
      "events_url": "https://api.github.com/users/runiq/events{/privacy}",
      "received_events_url": "https://api.github.com/users/runiq/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-01-09T14:38:12Z",
    "updated_at": "2020-01-09T14:40:33Z",
    "body": "Triage: According to https://github.com/rust-lang/rust/issues/30472#issuecomment-541146617, this should get tagged `A-lazy-normalization`.",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/572589536/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/601392284",
    "html_url": "https://github.com/rust-lang/rust/issues/30472#issuecomment-601392284",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30472",
    "id": 601392284,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwMTM5MjI4NA==",
    "user": {
      "login": "demurgos",
      "id": 2262218,
      "node_id": "MDQ6VXNlcjIyNjIyMTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2262218?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/demurgos",
      "html_url": "https://github.com/demurgos",
      "followers_url": "https://api.github.com/users/demurgos/followers",
      "following_url": "https://api.github.com/users/demurgos/following{/other_user}",
      "gists_url": "https://api.github.com/users/demurgos/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/demurgos/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/demurgos/subscriptions",
      "organizations_url": "https://api.github.com/users/demurgos/orgs",
      "repos_url": "https://api.github.com/users/demurgos/repos",
      "events_url": "https://api.github.com/users/demurgos/events{/privacy}",
      "received_events_url": "https://api.github.com/users/demurgos/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-03-19T20:08:44Z",
    "updated_at": "2020-08-10T20:21:20Z",
    "body": "I think this issue is related to an error I encountered when trying to use the `Iterable` trait example [from the Generic Associated Types RFC (RFC 1598)](https://rust-lang.github.io/rfcs/1598-generic_associated_types.html).\r\n\r\nThe trait is defined as follow:\r\n```rust\r\ntrait Iterable {\r\n    type Item<'a>;\r\n    type Iter<'a>: Iterator<Item = Self::Item<'a>>;\r\n    \r\n    fn iter<'a>(&'a self) -> Self::Iter<'a>;\r\n}\r\n```\r\n\r\nI implemented it for a vector of booleans:\r\n```rust\r\nstruct BoolVec(Vec<bool>);\r\n\r\nimpl Iterable for BoolVec {\r\n  type Item<'a> = &'a bool;\r\n  type Iter<'a> = core::slice::Iter<'a, bool>;\r\n\r\n  fn iter<'a>(&'a self) -> Self::Iter<'a> {\r\n    self.0.iter()\r\n  }\r\n}\r\n```\r\n[Playground](https://play.rust-lang.org/?version=nightly&mode=debug&edition=2018&gist=6953d89285a26db569373d4d64c66261)\r\n\r\nI believe this should compile, but it errors.\r\n\r\n<details>\r\n<summary>See full error</summary>\r\n\r\n```\r\nerror[E0271]: type mismatch resolving `for<'a> <<BoolVec as Iterable>::Iter<'a> as std::iter::Iterator>::Item == <BoolVec as Iterable>::Item<'a>`\r\n  --> src/main.rs:14:3\r\n   |\r\n13 | impl Iterable for BoolVec {\r\n   | ------------------------- in this `impl` item\r\n14 |   type Item<'a> = &'a bool;\r\n   |   ^^^^^^^^^^^^^^^^^^^^^^^^^ expected `&bool`, found associated type\r\n   |\r\n   = note:    expected reference `&bool`\r\n           found associated type `<BoolVec as Iterable>::Item<'_>`\r\n   = note: consider constraining the associated type `<BoolVec as Iterable>::Item<'_>` to `&bool`\r\n   = note: for more information, visit https://doc.rust-lang.org/book/ch19-03-advanced-traits.html\r\n\r\nerror[E0271]: type mismatch resolving `for<'a> <<BoolVec as Iterable>::Iter<'a> as std::iter::Iterator>::Item == <BoolVec as Iterable>::Item<'a>`\r\n  --> src/main.rs:17:28\r\n   |\r\n4  | trait Iterable {\r\n   | -------------- required by `Iterable`\r\n...\r\n17 |   fn iter<'a>(&'a self) -> Self::Iter<'a> {\r\n   |                            ^^^^^^^^^^^^^^ expected associated type, found `&bool`\r\n   |\r\n   = note: expected associated type `<BoolVec as Iterable>::Item<'_>`\r\n                    found reference `&bool`\r\n   = note: consider constraining the associated type `<BoolVec as Iterable>::Item<'_>` to `&bool` or calling a method that returns `<BoolVec as Iterable>::Item<'_>`\r\n   = note: for more information, visit https://doc.rust-lang.org/book/ch19-03-advanced-traits.html\r\n```\r\n\r\n</details>\r\n\r\nIt does not recognize that `&bool` and `<BoolVec as Iterable>::Item<'_>` are the same.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/601392284/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/662440743",
    "html_url": "https://github.com/rust-lang/rust/issues/30472#issuecomment-662440743",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30472",
    "id": 662440743,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2MjQ0MDc0Mw==",
    "user": {
      "login": "vandenheuvel",
      "id": 20440137,
      "node_id": "MDQ6VXNlcjIwNDQwMTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/20440137?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vandenheuvel",
      "html_url": "https://github.com/vandenheuvel",
      "followers_url": "https://api.github.com/users/vandenheuvel/followers",
      "following_url": "https://api.github.com/users/vandenheuvel/following{/other_user}",
      "gists_url": "https://api.github.com/users/vandenheuvel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vandenheuvel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vandenheuvel/subscriptions",
      "organizations_url": "https://api.github.com/users/vandenheuvel/orgs",
      "repos_url": "https://api.github.com/users/vandenheuvel/repos",
      "events_url": "https://api.github.com/users/vandenheuvel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vandenheuvel/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-07-22T13:04:51Z",
    "updated_at": "2020-07-22T13:04:51Z",
    "body": "@demurgos You example compiles now.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/662440743/reactions",
      "total_count": 5,
      "+1": 5,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/2372488285",
    "html_url": "https://github.com/rust-lang/rust/issues/30472#issuecomment-2372488285",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30472",
    "id": 2372488285,
    "node_id": "IC_kwDOAAsO6M6NaUxd",
    "user": {
      "login": "fmease",
      "id": 14913065,
      "node_id": "MDQ6VXNlcjE0OTEzMDY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/14913065?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fmease",
      "html_url": "https://github.com/fmease",
      "followers_url": "https://api.github.com/users/fmease/followers",
      "following_url": "https://api.github.com/users/fmease/following{/other_user}",
      "gists_url": "https://api.github.com/users/fmease/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fmease/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fmease/subscriptions",
      "organizations_url": "https://api.github.com/users/fmease/orgs",
      "repos_url": "https://api.github.com/users/fmease/repos",
      "events_url": "https://api.github.com/users/fmease/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fmease/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2024-09-24T22:18:48Z",
    "updated_at": "2024-09-24T22:18:48Z",
    "body": "Triage: The original issue seems to have been fixed, the example from the issue description compiles just fine now.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/2372488285/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
