[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/71483767",
    "html_url": "https://github.com/rust-lang/rust/issues/21656#issuecomment-71483767",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21656",
    "id": 71483767,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxNDgzNzY3",
    "user": {
      "login": "retep998",
      "id": 666308,
      "node_id": "MDQ6VXNlcjY2NjMwOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/666308?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/retep998",
      "html_url": "https://github.com/retep998",
      "followers_url": "https://api.github.com/users/retep998/followers",
      "following_url": "https://api.github.com/users/retep998/following{/other_user}",
      "gists_url": "https://api.github.com/users/retep998/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/retep998/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/retep998/subscriptions",
      "organizations_url": "https://api.github.com/users/retep998/orgs",
      "repos_url": "https://api.github.com/users/retep998/repos",
      "events_url": "https://api.github.com/users/retep998/events{/privacy}",
      "received_events_url": "https://api.github.com/users/retep998/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-26T16:00:51Z",
    "updated_at": "2015-01-26T16:00:51Z",
    "body": "Does this issue only occur when you try to build a program when an existing binary is already there, or can it occur when you are building something for the first time?\nWhen building something again, rustc has to delete the original and deleting a file returns immediately while the actual deletion may finish some time later. This is especially pronounced on network drives with high latency. As a result, by the time rustc tries to output the new binary the old binary might not be deleted yet, thus resulting in this error.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/71483767/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/71486210",
    "html_url": "https://github.com/rust-lang/rust/issues/21656#issuecomment-71486210",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21656",
    "id": 71486210,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxNDg2MjEw",
    "user": {
      "login": "Jojoshua",
      "id": 5598169,
      "node_id": "MDQ6VXNlcjU1OTgxNjk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5598169?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Jojoshua",
      "html_url": "https://github.com/Jojoshua",
      "followers_url": "https://api.github.com/users/Jojoshua/followers",
      "following_url": "https://api.github.com/users/Jojoshua/following{/other_user}",
      "gists_url": "https://api.github.com/users/Jojoshua/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Jojoshua/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Jojoshua/subscriptions",
      "organizations_url": "https://api.github.com/users/Jojoshua/orgs",
      "repos_url": "https://api.github.com/users/Jojoshua/repos",
      "events_url": "https://api.github.com/users/Jojoshua/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Jojoshua/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-26T16:13:38Z",
    "updated_at": "2015-01-26T16:13:38Z",
    "body": "Yes, it only happens when there is an existing binary. If I delete the binary before compiling it works everytime. \n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/71486210/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/73819229",
    "html_url": "https://github.com/rust-lang/rust/issues/21656#issuecomment-73819229",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21656",
    "id": 73819229,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczODE5MjI5",
    "user": {
      "login": "retep998",
      "id": 666308,
      "node_id": "MDQ6VXNlcjY2NjMwOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/666308?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/retep998",
      "html_url": "https://github.com/retep998",
      "followers_url": "https://api.github.com/users/retep998/followers",
      "following_url": "https://api.github.com/users/retep998/following{/other_user}",
      "gists_url": "https://api.github.com/users/retep998/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/retep998/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/retep998/subscriptions",
      "organizations_url": "https://api.github.com/users/retep998/orgs",
      "repos_url": "https://api.github.com/users/retep998/repos",
      "events_url": "https://api.github.com/users/retep998/events{/privacy}",
      "received_events_url": "https://api.github.com/users/retep998/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-02-11T01:20:07Z",
    "updated_at": "2015-02-11T01:20:07Z",
    "body": "I believe the issue would be solved by Rust checking if an old binary exists, deleting it, and then blocking the linking stage on a polling loop asking the OS if the file still exists.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/73819229/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/109817464",
    "html_url": "https://github.com/rust-lang/rust/issues/21656#issuecomment-109817464",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21656",
    "id": 109817464,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwOTgxNzQ2NA==",
    "user": {
      "login": "retep998",
      "id": 666308,
      "node_id": "MDQ6VXNlcjY2NjMwOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/666308?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/retep998",
      "html_url": "https://github.com/retep998",
      "followers_url": "https://api.github.com/users/retep998/followers",
      "following_url": "https://api.github.com/users/retep998/following{/other_user}",
      "gists_url": "https://api.github.com/users/retep998/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/retep998/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/retep998/subscriptions",
      "organizations_url": "https://api.github.com/users/retep998/orgs",
      "repos_url": "https://api.github.com/users/retep998/repos",
      "events_url": "https://api.github.com/users/retep998/events{/privacy}",
      "received_events_url": "https://api.github.com/users/retep998/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-06-08T00:30:31Z",
    "updated_at": "2015-06-08T00:31:31Z",
    "body": "A similar issue occurs when creating rlibs sometimes. In fact, it even occurs after a `cargo clean` so its not a matter of an old file not being deleted yet.\n\n```\nerror: \"ar\" \"crs\" \"C:\\msys64\\home\\Peter\\winapi-rs\\target\\debug\\deps\\libmpr-3fc99212b55b9740.rlib\" \"mpr-3fc9921\n2b55b9740.o\" \"rust.metadata.bin\" \"mpr-3fc99212b55b9740.0.bytecode.deflate\" failed with: exit code: 1\nnote: stdout ---\n\nnote: stderr ---\nar: C:\\msys64\\home\\Peter\\winapi-rs\\target\\debug\\deps\\libmpr-3fc99212b55b9740.rlib: Permission denied\n```\n\nIt appears that for whatever reason there's still a handle on the rlib by the time `ar` tries to write to it which causes it to error since it is presumably trying to open it exclusively.\n\nEDIT: And another case:\n\n```\nerror: \"ar\" \"crs\" \"C:\\msys64\\home\\Peter\\winapi-rs\\target\\debug\\deps\\libopengl32-59e97bc5a54a176d.rlib\" \"opengl\n32-59e97bc5a54a176d.o\" \"rust.metadata.bin\" \"opengl32-59e97bc5a54a176d.0.bytecode.deflate\" failed with: exit co\nde: 1\nnote: stdout ---\n\nnote: stderr ---\nar: unable to rename 'C:\\msys64\\home\\Peter\\winapi-rs\\target\\debug\\deps\\libopengl32-59e97bc5a54a176d.rlib'; rea\nson: No such file or directory\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/109817464/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/110955870",
    "html_url": "https://github.com/rust-lang/rust/issues/21656#issuecomment-110955870",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21656",
    "id": 110955870,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExMDk1NTg3MA==",
    "user": {
      "login": "larsbergstrom",
      "id": 475847,
      "node_id": "MDQ6VXNlcjQ3NTg0Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/475847?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/larsbergstrom",
      "html_url": "https://github.com/larsbergstrom",
      "followers_url": "https://api.github.com/users/larsbergstrom/followers",
      "following_url": "https://api.github.com/users/larsbergstrom/following{/other_user}",
      "gists_url": "https://api.github.com/users/larsbergstrom/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/larsbergstrom/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/larsbergstrom/subscriptions",
      "organizations_url": "https://api.github.com/users/larsbergstrom/orgs",
      "repos_url": "https://api.github.com/users/larsbergstrom/repos",
      "events_url": "https://api.github.com/users/larsbergstrom/events{/privacy}",
      "received_events_url": "https://api.github.com/users/larsbergstrom/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-06-11T00:42:13Z",
    "updated_at": "2015-06-11T00:42:13Z",
    "body": "In my experience, most cases where users encountered these were caused by either indexing services or anti-virus programs that are looped into the filesytem change and still have an open handle even after you've called delete (and the deleting process has terminated!), and this problem is probably just exacerbated over a slow(-er) network connection. Unfortunately, AFAIK, there's no good clean way to handle that. Certainly, the only public info I'm aware of on this problem confirms:\nhttp://blogs.msdn.com/b/oldnewthing/archive/2012/09/07/10347136.aspx\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/110955870/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/137571398",
    "html_url": "https://github.com/rust-lang/rust/issues/21656#issuecomment-137571398",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21656",
    "id": 137571398,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzNzU3MTM5OA==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-09-03T20:54:22Z",
    "updated_at": "2015-09-03T20:54:22Z",
    "body": "It looks like this is an expected error and there's not a huge amount we can do about it, so closing as working as intended.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/137571398/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
