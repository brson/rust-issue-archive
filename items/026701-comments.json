[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/117443925",
    "html_url": "https://github.com/rust-lang/rust/issues/26701#issuecomment-117443925",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26701",
    "id": 117443925,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExNzQ0MzkyNQ==",
    "user": {
      "login": "remram44",
      "id": 426784,
      "node_id": "MDQ6VXNlcjQyNjc4NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/426784?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/remram44",
      "html_url": "https://github.com/remram44",
      "followers_url": "https://api.github.com/users/remram44/followers",
      "following_url": "https://api.github.com/users/remram44/following{/other_user}",
      "gists_url": "https://api.github.com/users/remram44/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/remram44/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/remram44/subscriptions",
      "organizations_url": "https://api.github.com/users/remram44/orgs",
      "repos_url": "https://api.github.com/users/remram44/repos",
      "events_url": "https://api.github.com/users/remram44/events{/privacy}",
      "received_events_url": "https://api.github.com/users/remram44/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-01T05:59:19Z",
    "updated_at": "2015-07-01T05:59:19Z",
    "body": "I don't feel like this is unexpected at all. There is no reason for the accidental collision in names to change the semantics of anything. And how would you expect this to work?\n\n``` rust\nfn main() {\n    let a = Test { n: 1 };\n    {\n        let a = Test { n: 2};\n        println!(\"Hello, world!\");\n    }\n    // Nothing here, should the first a have already been dropped?\n}\n```\n\nYou also have the case where the first a might be borrowed somewhere (or even, by the new a).\n\n``` rust\nstruct Test<'a> {\n    n: usize,\n    r: Option<&'a Test<'a>>,\n}\n\nimpl<'a> Drop for Test<'a> {\n    fn drop(&mut self) {\n        println!(\"dropping {}\", self.n);\n    }\n}\n\nfn main() {\n    println!(\"Hello, world!\");\n    let a = Test { n: 1, r: None};\n    println!(\"Hello, world 2.0!\");\n    let a = Test { n: 2, r: Some(&a) };\n    println!(\"Hello, world 3.0!\");\n}\n```\n\nGuards are used this way, and it would be awkward if they were destroyed before you leave the scope. I can't think of an example for this, but things on the stack are destroyed in reverse order of creation, and I don't think you should expect otherwise.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/117443925/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/117795712",
    "html_url": "https://github.com/rust-lang/rust/issues/26701#issuecomment-117795712",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26701",
    "id": 117795712,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExNzc5NTcxMg==",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-01T18:59:01Z",
    "updated_at": "2015-07-01T18:59:01Z",
    "body": "/cc @rust-lang/lang \n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/117795712/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/117809468",
    "html_url": "https://github.com/rust-lang/rust/issues/26701#issuecomment-117809468",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26701",
    "id": 117809468,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExNzgwOTQ2OA==",
    "user": {
      "login": "Gankra",
      "id": 1136864,
      "node_id": "MDQ6VXNlcjExMzY4NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1136864?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Gankra",
      "html_url": "https://github.com/Gankra",
      "followers_url": "https://api.github.com/users/Gankra/followers",
      "following_url": "https://api.github.com/users/Gankra/following{/other_user}",
      "gists_url": "https://api.github.com/users/Gankra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Gankra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Gankra/subscriptions",
      "organizations_url": "https://api.github.com/users/Gankra/orgs",
      "repos_url": "https://api.github.com/users/Gankra/repos",
      "events_url": "https://api.github.com/users/Gankra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Gankra/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-01T20:04:40Z",
    "updated_at": "2015-07-01T20:04:40Z",
    "body": "This is 100% expected behaviour as far as I'm concerned. Especially if you consider\n\n```\nlet y = bar;\nlet x = foo;\n...\n```\n\nTo be sugar for\n\n```\n{\n  let y = bar;\n  {\n    let x = foo;\n    ...\n  }\n}\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/117809468/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/117811566",
    "html_url": "https://github.com/rust-lang/rust/issues/26701#issuecomment-117811566",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26701",
    "id": 117811566,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExNzgxMTU2Ng==",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-01T20:10:32Z",
    "updated_at": "2015-07-01T20:12:21Z",
    "body": "This makes code like the following work:\n\n``` rust\n// make some string that isn't necessarily exactly what you want\nlet s: String = foo();\n// convert it into the form you need, borrowing out of the original\nlet s: &str = s.trim();\n```\n\nThe key point being the second `s` borrows out of the first, so the first needs to live for long enough to be useful. I find this pattern useful, because it ensures I use the correct/\"processed\" version always: it's literally impossible to access the first raw `s`. (This is essentially @remram44's second example.)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/117811566/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/117811774",
    "html_url": "https://github.com/rust-lang/rust/issues/26701#issuecomment-117811774",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26701",
    "id": 117811774,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExNzgxMTc3NA==",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-01T20:11:45Z",
    "updated_at": "2015-07-01T20:11:45Z",
    "body": "Closing since it's not a bug (and 1.0 has been released), but feel free to continue the discussion (here is fine, but users.rust-lang.org or internals.rust-lang.org might be more appropriate).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/117811774/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/117825312",
    "html_url": "https://github.com/rust-lang/rust/issues/26701#issuecomment-117825312",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26701",
    "id": 117825312,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExNzgyNTMxMg==",
    "user": {
      "login": "arthurprs",
      "id": 715958,
      "node_id": "MDQ6VXNlcjcxNTk1OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/715958?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/arthurprs",
      "html_url": "https://github.com/arthurprs",
      "followers_url": "https://api.github.com/users/arthurprs/followers",
      "following_url": "https://api.github.com/users/arthurprs/following{/other_user}",
      "gists_url": "https://api.github.com/users/arthurprs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/arthurprs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/arthurprs/subscriptions",
      "organizations_url": "https://api.github.com/users/arthurprs/orgs",
      "repos_url": "https://api.github.com/users/arthurprs/repos",
      "events_url": "https://api.github.com/users/arthurprs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/arthurprs/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-01T21:08:47Z",
    "updated_at": "2015-07-01T21:08:47Z",
    "body": "Kinda unexpected but it does make sense. Thank you all.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/117825312/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/117832766",
    "html_url": "https://github.com/rust-lang/rust/issues/26701#issuecomment-117832766",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26701",
    "id": 117832766,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExNzgzMjc2Ng==",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-01T21:42:39Z",
    "updated_at": "2015-07-01T21:42:39Z",
    "body": "@arthurprs BTW maybe you meant to write this instead, which does drop the first instance of `Test` before saying Hello 3.0: http://is.gd/E3aZ9X\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/117832766/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/117844192",
    "html_url": "https://github.com/rust-lang/rust/issues/26701#issuecomment-117844192",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26701",
    "id": 117844192,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExNzg0NDE5Mg==",
    "user": {
      "login": "arthurprs",
      "id": 715958,
      "node_id": "MDQ6VXNlcjcxNTk1OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/715958?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/arthurprs",
      "html_url": "https://github.com/arthurprs",
      "followers_url": "https://api.github.com/users/arthurprs/followers",
      "following_url": "https://api.github.com/users/arthurprs/following{/other_user}",
      "gists_url": "https://api.github.com/users/arthurprs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/arthurprs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/arthurprs/subscriptions",
      "organizations_url": "https://api.github.com/users/arthurprs/orgs",
      "repos_url": "https://api.github.com/users/arthurprs/repos",
      "events_url": "https://api.github.com/users/arthurprs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/arthurprs/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-01T22:47:56Z",
    "updated_at": "2015-07-01T22:47:56Z",
    "body": "That's a fairly good idea. I will probably use that instead of the drop and\nthen redeclaring.\nEm 01/07/2015 18:43, \"Felix S Klock II\" notifications@github.com escreveu:\n\n> @arthurprs https://github.com/arthurprs BTW maybe you meant to write\n> this instead, which does drop the first instance of Test before saying\n> Hello 3.0: http://is.gd/E3aZ9X\n> \n> \u2014\n> Reply to this email directly or view it on GitHub\n> https://github.com/rust-lang/rust/issues/26701#issuecomment-117832766.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/117844192/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
