[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/160896597",
    "html_url": "https://github.com/rust-lang/rust/issues/30032#issuecomment-160896597",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30032",
    "id": 160896597,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2MDg5NjU5Nw==",
    "user": {
      "login": "fhahn",
      "id": 450489,
      "node_id": "MDQ6VXNlcjQ1MDQ4OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/450489?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fhahn",
      "html_url": "https://github.com/fhahn",
      "followers_url": "https://api.github.com/users/fhahn/followers",
      "following_url": "https://api.github.com/users/fhahn/following{/other_user}",
      "gists_url": "https://api.github.com/users/fhahn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fhahn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fhahn/subscriptions",
      "organizations_url": "https://api.github.com/users/fhahn/orgs",
      "repos_url": "https://api.github.com/users/fhahn/repos",
      "events_url": "https://api.github.com/users/fhahn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fhahn/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-12-01T08:48:44Z",
    "updated_at": "2015-12-01T08:48:44Z",
    "body": "I took a look at this and it seems like your char literal contains another (apparently invisible) code point, which means it is no valid Rust code.\n\n The problem seems to be that rustdoc tries to highlight the code regardless of the ignore annotation, as it only ignores the snippet when running tests. And AFAIK rustdoc uses  `libsyntax`'s parser to do that, which will complain about the additional codepoint.\n\nWhile the error is confusing (because there is no visible additional code point), I think the behavior of `rustdoc` is OK. Otherwise we would also have to exclude `ingore`d code from the documentation, which means `ignore`d code in docs would be rather pointless.\n\nFinally this code should work with `rustdoc`, because both hearts are single codepoints\n\n``````\n/// ```ignore\n/// let foo = '\u2665'; // U+2665\n/// let foo = '\u2764'; // U+2764\n/// ```\npub fn this_is_a_function() {}\n``````\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/160896597/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/161017988",
    "html_url": "https://github.com/rust-lang/rust/issues/30032#issuecomment-161017988",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30032",
    "id": 161017988,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2MTAxNzk4OA==",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-12-01T16:16:32Z",
    "updated_at": "2015-12-01T16:16:58Z",
    "body": "> I took a look at this and it seems like your char literal contains another (apparently invisible) code point, which means it is no valid Rust code.\n\nYes. That's why it's in `ignore`.\n\n> Otherwise we would also have to exclude ingored code from the documentation, which means ignored code in docs would be rather pointless.\n\nOr maybe not syntax  highlight code that's ignored?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/161017988/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/161086460",
    "html_url": "https://github.com/rust-lang/rust/issues/30032#issuecomment-161086460",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30032",
    "id": 161086460,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2MTA4NjQ2MA==",
    "user": {
      "login": "fhahn",
      "id": 450489,
      "node_id": "MDQ6VXNlcjQ1MDQ4OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/450489?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fhahn",
      "html_url": "https://github.com/fhahn",
      "followers_url": "https://api.github.com/users/fhahn/followers",
      "following_url": "https://api.github.com/users/fhahn/following{/other_user}",
      "gists_url": "https://api.github.com/users/fhahn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fhahn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fhahn/subscriptions",
      "organizations_url": "https://api.github.com/users/fhahn/orgs",
      "repos_url": "https://api.github.com/users/fhahn/repos",
      "events_url": "https://api.github.com/users/fhahn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fhahn/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-12-01T20:29:55Z",
    "updated_at": "2015-12-01T20:29:55Z",
    "body": "I think it would still make sense to have an annotation which excludes the code from the tests but highlights it in the docs, e.g. for nice looking example code, which does not have to include every little detail to make it compile.\n\nIf one would like to include code that should not be highlighted and not be used when testing, wouldn't it be possible to just add it as normal text, not in a code block?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/161086460/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/260765621",
    "html_url": "https://github.com/rust-lang/rust/issues/30032#issuecomment-260765621",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30032",
    "id": 260765621,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MDc2NTYyMQ==",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-11-15T20:57:44Z",
    "updated_at": "2016-11-15T20:57:44Z",
    "body": "Triage: looks like https://github.com/rust-lang/rust/pull/33510 didn't happen\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/260765621/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/418323156",
    "html_url": "https://github.com/rust-lang/rust/issues/30032#issuecomment-418323156",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30032",
    "id": 418323156,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxODMyMzE1Ng==",
    "user": {
      "login": "JeanMertz",
      "id": 383250,
      "node_id": "MDQ6VXNlcjM4MzI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/383250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JeanMertz",
      "html_url": "https://github.com/JeanMertz",
      "followers_url": "https://api.github.com/users/JeanMertz/followers",
      "following_url": "https://api.github.com/users/JeanMertz/following{/other_user}",
      "gists_url": "https://api.github.com/users/JeanMertz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JeanMertz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JeanMertz/subscriptions",
      "organizations_url": "https://api.github.com/users/JeanMertz/orgs",
      "repos_url": "https://api.github.com/users/JeanMertz/repos",
      "events_url": "https://api.github.com/users/JeanMertz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JeanMertz/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-09-04T10:49:53Z",
    "updated_at": "2018-09-04T10:49:53Z",
    "body": "I ran into this today. I use ` ```ignore` to add compiler error descriptions to my crate docs, which is documented in the book, but as soon as I tried to run `$ rust doc`, it failed because it tried compile the non-Rust characters in that code block as Rust code.\r\n\r\nI'm surprised this issue hasn't had any responses since 2016, so either this is already solved and I'm hitting some other issue, or people don't really put non-Rust code blocks in their documentation.\r\n\r\nHere's [part of the documentation](https://github.com/rusty-rockets/sm/blob/aeea091476213d9d1c085093403a1cca85da9374/src/lib.rs#L239-L251) that currently fails.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/418323156/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/418748792",
    "html_url": "https://github.com/rust-lang/rust/issues/30032#issuecomment-418748792",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30032",
    "id": 418748792,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxODc0ODc5Mg==",
    "user": {
      "login": "JeanMertz",
      "id": 383250,
      "node_id": "MDQ6VXNlcjM4MzI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/383250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JeanMertz",
      "html_url": "https://github.com/JeanMertz",
      "followers_url": "https://api.github.com/users/JeanMertz/followers",
      "following_url": "https://api.github.com/users/JeanMertz/following{/other_user}",
      "gists_url": "https://api.github.com/users/JeanMertz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JeanMertz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JeanMertz/subscriptions",
      "organizations_url": "https://api.github.com/users/JeanMertz/orgs",
      "repos_url": "https://api.github.com/users/JeanMertz/repos",
      "events_url": "https://api.github.com/users/JeanMertz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JeanMertz/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-09-05T14:21:07Z",
    "updated_at": "2018-09-05T14:21:07Z",
    "body": "> Here's part of the documentation that currently fails.\r\n\r\nFYI: changing this from using `ignore` tags to using `text` made things work as expected.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/418748792/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1688275611",
    "html_url": "https://github.com/rust-lang/rust/issues/30032#issuecomment-1688275611",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30032",
    "id": 1688275611,
    "node_id": "IC_kwDOAAsO6M5koQqb",
    "user": {
      "login": "kadiwa4",
      "id": 25464294,
      "node_id": "MDQ6VXNlcjI1NDY0Mjk0",
      "avatar_url": "https://avatars.githubusercontent.com/u/25464294?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kadiwa4",
      "html_url": "https://github.com/kadiwa4",
      "followers_url": "https://api.github.com/users/kadiwa4/followers",
      "following_url": "https://api.github.com/users/kadiwa4/following{/other_user}",
      "gists_url": "https://api.github.com/users/kadiwa4/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kadiwa4/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kadiwa4/subscriptions",
      "organizations_url": "https://api.github.com/users/kadiwa4/orgs",
      "repos_url": "https://api.github.com/users/kadiwa4/repos",
      "events_url": "https://api.github.com/users/kadiwa4/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kadiwa4/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2023-08-22T14:16:31Z",
    "updated_at": "2023-08-22T14:16:31Z",
    "body": "Triage: rustdoc outputs this:\r\n```\r\nwarning: could not parse code block as Rust code\r\n --> src/lib.rs:1:5\r\n  |\r\n1 |   /// ```ignore\r\n  |  _____^\r\n2 | | /// let heart = '\u2764\ufe0f';\r\n3 | | /// ```\r\n  | |_______^\r\n  |\r\nhelp: `ignore` code blocks require valid Rust code for syntax highlighting; mark blocks that do not contain Rust code as text: ```text\r\n --> src/lib.rs:1:5\r\n  |\r\n1 | /// ```ignore\r\n  |     ^^^\r\n  = note: error from rustc: character literal may only contain one codepoint\r\n  = note: `#[warn(rustdoc::invalid_rust_codeblocks)]` on by default\r\n```\r\n\r\nbut in the generated docs, it uses correct syntax highlighting on the broken code.\r\n\r\nI think that's pretty optimal. If I understand correctly, this issue was filed because rustdoc used to abort doc-generation on encountering something like this?",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1688275611/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1688732155",
    "html_url": "https://github.com/rust-lang/rust/issues/30032#issuecomment-1688732155",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30032",
    "id": 1688732155,
    "node_id": "IC_kwDOAAsO6M5kqAH7",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2023-08-22T18:44:15Z",
    "updated_at": "2023-08-22T18:44:57Z",
    "body": "> this issue was filed because rustdoc used to abort doc-generation on encountering something like this?\r\n\r\nI believe so, but to be honest, that diagnostic output looks great to me, and there's a path to having incorrect things be documented, so as far as I'm concerned, I don't personally feel this is an issue anymore, so happy to close it, regardless of whatever historical behavior may or may not have been happening way back then.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1688732155/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
