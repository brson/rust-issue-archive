[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/10680548",
    "html_url": "https://github.com/rust-lang/rust/issues/2726#issuecomment-10680548",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/2726",
    "id": 10680548,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNjgwNTQ4",
    "user": {
      "login": "catamorphism",
      "id": 427212,
      "node_id": "MDQ6VXNlcjQyNzIxMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/427212?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/catamorphism",
      "html_url": "https://github.com/catamorphism",
      "followers_url": "https://api.github.com/users/catamorphism/followers",
      "following_url": "https://api.github.com/users/catamorphism/following{/other_user}",
      "gists_url": "https://api.github.com/users/catamorphism/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/catamorphism/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/catamorphism/subscriptions",
      "organizations_url": "https://api.github.com/users/catamorphism/orgs",
      "repos_url": "https://api.github.com/users/catamorphism/repos",
      "events_url": "https://api.github.com/users/catamorphism/events{/privacy}",
      "received_events_url": "https://api.github.com/users/catamorphism/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-11-24T17:47:03Z",
    "updated_at": "2012-11-24T17:47:03Z",
    "body": "@bblum What OS was this on? I haven't seen it. I know this is old, but if you wouldn't mind trying to reproduce it with a recent revision, that would be great.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/10680548/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/10682660",
    "html_url": "https://github.com/rust-lang/rust/issues/2726#issuecomment-10682660",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/2726",
    "id": 10682660,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNjgyNjYw",
    "user": {
      "login": "bblum",
      "id": 1820515,
      "node_id": "MDQ6VXNlcjE4MjA1MTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1820515?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bblum",
      "html_url": "https://github.com/bblum",
      "followers_url": "https://api.github.com/users/bblum/followers",
      "following_url": "https://api.github.com/users/bblum/following{/other_user}",
      "gists_url": "https://api.github.com/users/bblum/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bblum/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bblum/subscriptions",
      "organizations_url": "https://api.github.com/users/bblum/orgs",
      "repos_url": "https://api.github.com/users/bblum/repos",
      "events_url": "https://api.github.com/users/bblum/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bblum/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-11-24T19:26:08Z",
    "updated_at": "2012-11-24T19:26:08Z",
    "body": "It was on linux. I can't remember if I was doing anything specific (almost certainly using multiple tasks, though) before it segfaulted. It happened pretty frequently.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/10682660/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/13575094",
    "html_url": "https://github.com/rust-lang/rust/issues/2726#issuecomment-13575094",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/2726",
    "id": 13575094,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzNTc1MDk0",
    "user": {
      "login": "luqmana",
      "id": 287063,
      "node_id": "MDQ6VXNlcjI4NzA2Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/287063?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luqmana",
      "html_url": "https://github.com/luqmana",
      "followers_url": "https://api.github.com/users/luqmana/followers",
      "following_url": "https://api.github.com/users/luqmana/following{/other_user}",
      "gists_url": "https://api.github.com/users/luqmana/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luqmana/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luqmana/subscriptions",
      "organizations_url": "https://api.github.com/users/luqmana/orgs",
      "repos_url": "https://api.github.com/users/luqmana/repos",
      "events_url": "https://api.github.com/users/luqmana/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luqmana/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-02-14T19:57:38Z",
    "updated_at": "2013-02-14T19:57:38Z",
    "body": "This still happens on Linux (x86_64) but not OS X 10.8.2.\n\nTried with:\n\n``` rust\nfn main() {\n    core::io::println(\"Hello world!\");\n}\n```\n\n```\n> % RUST_LOG=::rt gdb ./f\nGNU gdb (GDB) 7.0.1-debian\nCopyright (C) 2009 Free Software Foundation, Inc.\nLicense GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>\nThis is free software: you are free to change and redistribute it.\nThere is NO WARRANTY, to the extent permitted by law.  Type \"show copying\"\nand \"show warranty\" for details.\nThis GDB was configured as \"x86_64-linux-gnu\".\nFor bug reporting instructions, please see:\n<http://www.gnu.org/software/gdb/bugs/>...\nReading symbols from /users/laden/r/f...(no debugging symbols found)...done.\n(gdb) r\nStarting program: /users/laden/r/f\n[Thread debugging using libthread_db enabled]\nrust: new dom 0x602460\nrust: created task thread: 0x602450, id: 0, live_threads: 1\nrust: new dom 0x6039d0\nrust: created task thread: 0x6039c0, id: 0, live_threads: 1\n[New Thread 0x7ffff7ff7700 (LWP 13723)]\nrust: pumping scheduler\nrust: scheduler 0 resuming ...\nrust: worker 0, number_of_live_tasks = 0\nrust: all tasks are blocked, scheduler id 0 yielding ...\nrust: blocking scheduler\n[New Thread 0x7ffff7fde700 (LWP 13724)]\nrust: Creating task main, on thread 0.\nrust: New non-weak tasks 1\nrust: new task 0x605080\nrust: sizeof(task) = 704 (0x2c0)\nrust: creating new stack for task 605080\nrust: calculating new stack size for 0x605080\nrust: min: 768 current: 0 requested: 768\nrust: next stack size: 768\nrust: new stk 0x6053a0\nrust: stk end 0x605ed0\nrust: created task: 0x605080, spawner: (none), name: main\nrust: starting task from fn 0x400ab0 with env 0x0 and arg 0x0\nrust: task main 0x6039d0 state change 'newborn' -> 'running' while in 'newborn'\nrust: pumping scheduler\nrust: scheduler 0 resuming ...\nrust: worker 0, number_of_live_tasks = 0\nrust: all tasks are blocked, scheduler id 0 yielding ...\nrust: blocking scheduler\nrust: pumping scheduler\nrust: scheduler 0 resuming ...\nrust: worker 0, number_of_live_tasks = 1\nrust: activating task main 0x605080, state: running\nrust: Running task 0x605080 on worker 0\nrust: descheduling...\nrust: > UPCALL upcall_s_malloc - task: main 0x605080 retpc: x7ffff76f9fc1\nrust: upcall malloc(0x7ffff7c7fc10)\nrust: @malloc()=0x605ee0 with td 0x7ffff7c7fc10, size 36==32+4, align 4, prev (nil), next (nil)\n\nrust: upcall malloc(0x7ffff7c7fc10) = box 0x605ee0 with body 0x605f00\nHello world!\nrust: > UPCALL upcall_s_free - task: main 0x605080 retpc: x7ffff76f9fc1\nrust: upcall free(0x605ee0, is_gc=140737344792672)\nrust: @free(0x605ee0) with td 0x7ffff7c7fc10, prev (nil), next (nil)\n\nrust: creating new stack for task 605080\nrust: calculating new stack size for 0x605080\nrust: min: 768 current: 768 requested: 392\nrust: next stack size: 1536\nrust: new stk 0x605ee0\nrust: stk end 0x606d10\nrust: task main 0x6039d0 state change 'running' -> 'dead' while in 'running'\nrust: freeing stk segment 0x605ee0\nrust: task has returned\nrust: returned from task main @0x605080 in state 'dead', worker id=0lx\nrust: freeing stk segment 0x6053a0\nrust: ~rust_task main @0x605080, refcnt=0\nrust: New non-weak tasks 0\nrust: Allowing main scheduler to exit\nrust: Requesting exit for thread 0\nrust: Allowing osmain scheduler to exit\nrust: Requesting exit for thread 0\nrust: pumping scheduler\nrust: scheduler 0 resuming ...\nrust: finished main-loop 0\nrust: pumping scheduler\nrust: scheduler 0 resuming ...\nrust: finished main-loop 0\n\nProgram received signal SIGSEGV, Segmentation fault.\n[Switching to Thread 0x7ffff7fde700 (LWP 13724)]\nbuffered_vfprintf (s=0x7ffff7039860, format=0x7ffff7716857 \"rust: %s\\n\", args=0x7ffff7fdc430) at vfprintf.c:2284\n2284    vfprintf.c: No such file or directory.\n        in vfprintf.c\n(gdb) bt\n#0  buffered_vfprintf (s=0x7ffff7039860, format=0x7ffff7716857 \"rust: %s\\n\", args=0x7ffff7fdc430) at vfprintf.c:2284\n#1  0x00007ffff6d1eece in _IO_vfprintf_internal (s=0x7ffff7039860, format=0x7ffff7716857 \"rust: %s\\n\", ap=0x7ffff7fdc430) at vfprintf.c:1309\n#2  0x00007ffff6d299b8 in __fprintf (stream=0x7ffff7fdbc30, format=0x7ffff7716857 \"rust: %s\\n\") at fprintf.c:33\n#3  0x00007ffff76ed9d8 in rust_log::trace_ln (this=<value optimized out>, prefix=0x7ffff7fdcd40 \"\", message=<value optimized out>) at /scratch/laden/rust/src/rt/rust_log.cpp:126\n#4  0x00007ffff76eda58 in rust_log::trace_ln (this=0x6020f8, task=<value optimized out>, level=<value optimized out>, message=0x7ffff7fdd560 \"Deleting scheduler 1\")\n    at /scratch/laden/rust/src/rt/rust_log.cpp:169\n#5  0x00007ffff76f4516 in rust_kernel::log (this=0x6020f0, level=4, fmt=<value optimized out>) at /scratch/laden/rust/src/rt/rust_kernel.cpp:62\n#6  0x00007ffff76f4e39 in rust_kernel::wait_for_schedulers (this=0x6020f0) at /scratch/laden/rust/src/rt/rust_kernel.cpp:182\n#7  0x00007ffff76e0f9a in rust_thread_start (ptr=0x7ffff7fdbc30) at /scratch/laden/rust/src/rt/sync/rust_thread.cpp:35\n#8  0x00007ffff68b18ca in start_thread (arg=<value optimized out>) at pthread_create.c:300\n#9  0x00007ffff6dacb6d in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112\n#10 0x0000000000000000 in ?? ()\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/13575094/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/14316935",
    "html_url": "https://github.com/rust-lang/rust/issues/2726#issuecomment-14316935",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/2726",
    "id": 14316935,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0MzE2OTM1",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-03-01T23:12:57Z",
    "updated_at": "2013-03-01T23:12:57Z",
    "body": "This should be easy to fix. This is called from `rust_sched_reaper`, which runs in a dedicated thread that does nothing but join with schedulers. This thread has a 20K stack, which is apparently not enough to deal with logging (kind of surprising). We can either raise the stack size or remove the log statement.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/14316935/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/20147942",
    "html_url": "https://github.com/rust-lang/rust/issues/2726#issuecomment-20147942",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/2726",
    "id": 20147942,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwMTQ3OTQy",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-06-27T19:09:45Z",
    "updated_at": "2013-06-27T19:09:45Z",
    "body": "the sched reaper will not exist in the new scheduler\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/20147942/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/22464390",
    "html_url": "https://github.com/rust-lang/rust/issues/2726#issuecomment-22464390",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/2726",
    "id": 22464390,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyNDY0Mzkw",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-08-11T20:19:02Z",
    "updated_at": "2013-08-11T20:19:51Z",
    "body": "Oldsched is dead; long live newsched.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/22464390/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
