[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/168114770",
    "html_url": "https://github.com/rust-lang/rust/issues/30646#issuecomment-168114770",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30646",
    "id": 168114770,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2ODExNDc3MA==",
    "user": {
      "login": "nagisa",
      "id": 679122,
      "node_id": "MDQ6VXNlcjY3OTEyMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/679122?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nagisa",
      "html_url": "https://github.com/nagisa",
      "followers_url": "https://api.github.com/users/nagisa/followers",
      "following_url": "https://api.github.com/users/nagisa/following{/other_user}",
      "gists_url": "https://api.github.com/users/nagisa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nagisa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nagisa/subscriptions",
      "organizations_url": "https://api.github.com/users/nagisa/orgs",
      "repos_url": "https://api.github.com/users/nagisa/repos",
      "events_url": "https://api.github.com/users/nagisa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nagisa/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-12-31T03:20:49Z",
    "updated_at": "2015-12-31T03:22:58Z",
    "body": "> The chinese string has 7 symbols, which means it has the width of 14 characters since each symbol is 2 characters wide.\n\nCJK hieroglyphs are not 2 \u201ccharacters wide\u201d nor they are 1 \u201ccharacters wide\u201d. How these symbols are drawn on screen is decided by the presentation layer. It just happens that most of the terminal emulators will allocate 2 monospace blocks for each wide character\u00b9. That being said, relying on unicode-width to decide how many ASCII `-`s correspond to a single symbol you have is not entirely correct in all cases.\n\n> Using fill/alignment in string formatting (for example in a println!) is broken when it contains chinese characters (and maybe other kind of characters).\n\nNow, in context of Rust (and its documentation), character, in most cases, means a single `char` (that is, an unicode codepoint) and not observable width in some specific environment. All of these graphemes are separate codepoints and the behaviour of `println!` seems to be correct in that regard. \n\nIt is simply the case of `println!` and `format!` being a wrong tool for printing out tables into monospace terminals which allocate 2 slots for each CJK character.\n\n---\n\nA similar case involves [combining marks](https://play.rust-lang.org/?gist=88895d8b516f25664740&version=stable), which you also should test for.\n\n\u00b9: Always resulting in wrong hinting.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/168114770/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/168200845",
    "html_url": "https://github.com/rust-lang/rust/issues/30646#issuecomment-168200845",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30646",
    "id": 168200845,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2ODIwMDg0NQ==",
    "user": {
      "login": "phsym",
      "id": 853903,
      "node_id": "MDQ6VXNlcjg1MzkwMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/853903?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/phsym",
      "html_url": "https://github.com/phsym",
      "followers_url": "https://api.github.com/users/phsym/followers",
      "following_url": "https://api.github.com/users/phsym/following{/other_user}",
      "gists_url": "https://api.github.com/users/phsym/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/phsym/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/phsym/subscriptions",
      "organizations_url": "https://api.github.com/users/phsym/orgs",
      "repos_url": "https://api.github.com/users/phsym/repos",
      "events_url": "https://api.github.com/users/phsym/events{/privacy}",
      "received_events_url": "https://api.github.com/users/phsym/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-12-31T14:09:34Z",
    "updated_at": "2015-12-31T14:09:34Z",
    "body": "Understood. Thanks @nagisa.  I guess this issue can be closed. Just one more question, do you have any idea how I can detect (if possible) the width of a character ?\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/168200845/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/168202143",
    "html_url": "https://github.com/rust-lang/rust/issues/30646#issuecomment-168202143",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30646",
    "id": 168202143,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2ODIwMjE0Mw==",
    "user": {
      "login": "nagisa",
      "id": 679122,
      "node_id": "MDQ6VXNlcjY3OTEyMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/679122?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nagisa",
      "html_url": "https://github.com/nagisa",
      "followers_url": "https://api.github.com/users/nagisa/followers",
      "following_url": "https://api.github.com/users/nagisa/following{/other_user}",
      "gists_url": "https://api.github.com/users/nagisa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nagisa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nagisa/subscriptions",
      "organizations_url": "https://api.github.com/users/nagisa/orgs",
      "repos_url": "https://api.github.com/users/nagisa/repos",
      "events_url": "https://api.github.com/users/nagisa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nagisa/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-12-31T14:14:03Z",
    "updated_at": "2015-12-31T14:14:19Z",
    "body": "@phsym it is not really possible unless you\u2019re drawing the glyphs on the screen yourself. That being said, what unicode-width crate gives you should be a pretty good approximation of the common case when outputting to the monospace terminals. It won\u2019t work always, but it should work in most cases.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/168202143/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/168202869",
    "html_url": "https://github.com/rust-lang/rust/issues/30646#issuecomment-168202869",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30646",
    "id": 168202869,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2ODIwMjg2OQ==",
    "user": {
      "login": "phsym",
      "id": 853903,
      "node_id": "MDQ6VXNlcjg1MzkwMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/853903?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/phsym",
      "html_url": "https://github.com/phsym",
      "followers_url": "https://api.github.com/users/phsym/followers",
      "following_url": "https://api.github.com/users/phsym/following{/other_user}",
      "gists_url": "https://api.github.com/users/phsym/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/phsym/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/phsym/subscriptions",
      "organizations_url": "https://api.github.com/users/phsym/orgs",
      "repos_url": "https://api.github.com/users/phsym/repos",
      "events_url": "https://api.github.com/users/phsym/events{/privacy}",
      "received_events_url": "https://api.github.com/users/phsym/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-12-31T14:21:39Z",
    "updated_at": "2015-12-31T14:21:39Z",
    "body": "OK. I will do this, and add a note in my readme about the font restriction for such kind of characters.\nAlso, since the fill/align capability in rust won't work in such case, I'll need to write my own function for this. That's not a big deal. Thanks again\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/168202869/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/170639920",
    "html_url": "https://github.com/rust-lang/rust/issues/30646#issuecomment-170639920",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30646",
    "id": 170639920,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MDYzOTkyMA==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-01-11T18:19:09Z",
    "updated_at": "2016-01-11T18:19:09Z",
    "body": "Yes this is sort of intentional, yet also a bug at the same time. We don't want to include all the various flavorful unicode properties in libcore just to have format widths calculated correctly 100% of the time (that's what crates.io is for), so I'm at least personally of the opinion that this is \"working as intended\"\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/170639920/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/170643065",
    "html_url": "https://github.com/rust-lang/rust/issues/30646#issuecomment-170643065",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30646",
    "id": 170643065,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MDY0MzA2NQ==",
    "user": {
      "login": "phsym",
      "id": 853903,
      "node_id": "MDQ6VXNlcjg1MzkwMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/853903?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/phsym",
      "html_url": "https://github.com/phsym",
      "followers_url": "https://api.github.com/users/phsym/followers",
      "following_url": "https://api.github.com/users/phsym/following{/other_user}",
      "gists_url": "https://api.github.com/users/phsym/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/phsym/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/phsym/subscriptions",
      "organizations_url": "https://api.github.com/users/phsym/orgs",
      "repos_url": "https://api.github.com/users/phsym/repos",
      "events_url": "https://api.github.com/users/phsym/events{/privacy}",
      "received_events_url": "https://api.github.com/users/phsym/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-01-11T18:27:55Z",
    "updated_at": "2016-01-11T18:27:55Z",
    "body": "Thanks. May I close the issue then ?\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/170643065/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/170740312",
    "html_url": "https://github.com/rust-lang/rust/issues/30646#issuecomment-170740312",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30646",
    "id": 170740312,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MDc0MDMxMg==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-01-12T00:18:25Z",
    "updated_at": "2016-01-12T00:18:25Z",
    "body": "Sure, sounds good to me.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/170740312/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
