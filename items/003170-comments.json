[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/13283258",
    "html_url": "https://github.com/rust-lang/rust/issues/3170#issuecomment-13283258",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/3170",
    "id": 13283258,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMjgzMjU4",
    "user": {
      "login": "jld",
      "id": 254973,
      "node_id": "MDQ6VXNlcjI1NDk3Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/254973?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jld",
      "html_url": "https://github.com/jld",
      "followers_url": "https://api.github.com/users/jld/followers",
      "following_url": "https://api.github.com/users/jld/following{/other_user}",
      "gists_url": "https://api.github.com/users/jld/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jld/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jld/subscriptions",
      "organizations_url": "https://api.github.com/users/jld/orgs",
      "repos_url": "https://api.github.com/users/jld/repos",
      "events_url": "https://api.github.com/users/jld/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jld/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-02-08T09:43:52Z",
    "updated_at": "2013-02-08T09:43:52Z",
    "body": "Apparently the \u201cerror\u201d this produces doesn't cause compilation to fail \u2014 code will be generated and rustc will return 0.  LLVM will complain if the index is physically out of bounds, and this is currently always equivalent to an out-of-bounds index (I think), but that won't be the case for const slices.\n\nThis is especially unexpected during testing, which (except for check-fast, apparently?) doesn't show the output/error on success.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/13283258/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/15261054",
    "html_url": "https://github.com/rust-lang/rust/issues/3170#issuecomment-15261054",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/3170",
    "id": 15261054,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MjYxMDU0",
    "user": {
      "login": "catamorphism",
      "id": 427212,
      "node_id": "MDQ6VXNlcjQyNzIxMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/427212?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/catamorphism",
      "html_url": "https://github.com/catamorphism",
      "followers_url": "https://api.github.com/users/catamorphism/followers",
      "following_url": "https://api.github.com/users/catamorphism/following{/other_user}",
      "gists_url": "https://api.github.com/users/catamorphism/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/catamorphism/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/catamorphism/subscriptions",
      "organizations_url": "https://api.github.com/users/catamorphism/orgs",
      "repos_url": "https://api.github.com/users/catamorphism/repos",
      "events_url": "https://api.github.com/users/catamorphism/events{/privacy}",
      "received_events_url": "https://api.github.com/users/catamorphism/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-03-21T19:45:43Z",
    "updated_at": "2013-03-21T19:45:43Z",
    "body": "Not critical for 0.6; de-milestoning\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/15261054/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/18319236",
    "html_url": "https://github.com/rust-lang/rust/issues/3170#issuecomment-18319236",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/3170",
    "id": 18319236,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4MzE5MjM2",
    "user": {
      "login": "catamorphism",
      "id": 427212,
      "node_id": "MDQ6VXNlcjQyNzIxMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/427212?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/catamorphism",
      "html_url": "https://github.com/catamorphism",
      "followers_url": "https://api.github.com/users/catamorphism/followers",
      "following_url": "https://api.github.com/users/catamorphism/following{/other_user}",
      "gists_url": "https://api.github.com/users/catamorphism/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/catamorphism/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/catamorphism/subscriptions",
      "organizations_url": "https://api.github.com/users/catamorphism/orgs",
      "repos_url": "https://api.github.com/users/catamorphism/repos",
      "events_url": "https://api.github.com/users/catamorphism/events{/privacy}",
      "received_events_url": "https://api.github.com/users/catamorphism/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-05-23T01:52:39Z",
    "updated_at": "2013-05-23T01:52:39Z",
    "body": "Nominating for milestone 5, production-ready\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/18319236/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/19406094",
    "html_url": "https://github.com/rust-lang/rust/issues/3170#issuecomment-19406094",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/3170",
    "id": 19406094,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE5NDA2MDk0",
    "user": {
      "login": "graydon",
      "id": 14097,
      "node_id": "MDQ6VXNlcjE0MDk3",
      "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/graydon",
      "html_url": "https://github.com/graydon",
      "followers_url": "https://api.github.com/users/graydon/followers",
      "following_url": "https://api.github.com/users/graydon/following{/other_user}",
      "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/graydon/subscriptions",
      "organizations_url": "https://api.github.com/users/graydon/orgs",
      "repos_url": "https://api.github.com/users/graydon/repos",
      "events_url": "https://api.github.com/users/graydon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/graydon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-06-13T16:59:20Z",
    "updated_at": "2013-06-13T16:59:20Z",
    "body": "accepted for production-ready milestone\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/19406094/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/24050516",
    "html_url": "https://github.com/rust-lang/rust/issues/3170#issuecomment-24050516",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/3170",
    "id": 24050516,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0MDUwNTE2",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-09-09T07:44:48Z",
    "updated_at": "2013-09-09T07:44:48Z",
    "body": "As an example of what I believe that this is talking about:\n\n``` rust\nstatic a: &'static [int] = &[];\nstatic b: int = a[1];\n\nfn main() {}\n```\n\nyields\n\n```\n$ rustc foo.rs\nfoo.rs:2:16: 2:19 error: const index-expr is out of bounds\nfoo.rs:2 static b: int = a[1];\n                         ^~~\nAssertion failed: (ReqTy && \"extractvalue indices invalid!\"), function getExtractValue, file ../../../../src/llvm/lib/IR/Constants.cpp, line 1982.\nzsh: abort      rustc foo.rs\n```\n\nSeems bad that we're hitting an LLVM assertion at all.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/24050516/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/32505031",
    "html_url": "https://github.com/rust-lang/rust/issues/3170#issuecomment-32505031",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/3170",
    "id": 32505031,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyNTA1MDMx",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-01-16T18:50:29Z",
    "updated_at": "2014-01-16T18:50:29Z",
    "body": "Accepted for P-low.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/32505031/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46154614",
    "html_url": "https://github.com/rust-lang/rust/issues/3170#issuecomment-46154614",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/3170",
    "id": 46154614,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MTU0NjE0",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-06-16T08:51:15Z",
    "updated_at": "2014-06-16T08:51:15Z",
    "body": "Triage: @alexcrichton's (9 month old) example is still syntactically valid (yay!) and still fails with that assertion (boo!).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46154614/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53911450",
    "html_url": "https://github.com/rust-lang/rust/issues/3170#issuecomment-53911450",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/3170",
    "id": 53911450,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzOTExNDUw",
    "user": {
      "login": "vks",
      "id": 33460,
      "node_id": "MDQ6VXNlcjMzNDYw",
      "avatar_url": "https://avatars.githubusercontent.com/u/33460?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vks",
      "html_url": "https://github.com/vks",
      "followers_url": "https://api.github.com/users/vks/followers",
      "following_url": "https://api.github.com/users/vks/following{/other_user}",
      "gists_url": "https://api.github.com/users/vks/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vks/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vks/subscriptions",
      "organizations_url": "https://api.github.com/users/vks/orgs",
      "repos_url": "https://api.github.com/users/vks/repos",
      "events_url": "https://api.github.com/users/vks/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vks/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-29T18:13:06Z",
    "updated_at": "2014-08-29T18:13:06Z",
    "body": "I believe this is [fixed](http://is.gd/iGgRgU).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53911450/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/75299517",
    "html_url": "https://github.com/rust-lang/rust/issues/3170#issuecomment-75299517",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/3170",
    "id": 75299517,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc1Mjk5NTE3",
    "user": {
      "login": "JustAPerson",
      "id": 789308,
      "node_id": "MDQ6VXNlcjc4OTMwOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/789308?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JustAPerson",
      "html_url": "https://github.com/JustAPerson",
      "followers_url": "https://api.github.com/users/JustAPerson/followers",
      "following_url": "https://api.github.com/users/JustAPerson/following{/other_user}",
      "gists_url": "https://api.github.com/users/JustAPerson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JustAPerson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JustAPerson/subscriptions",
      "organizations_url": "https://api.github.com/users/JustAPerson/orgs",
      "repos_url": "https://api.github.com/users/JustAPerson/repos",
      "events_url": "https://api.github.com/users/JustAPerson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JustAPerson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-02-20T19:05:53Z",
    "updated_at": "2015-02-20T19:05:53Z",
    "body": "If you update @alexcrichton's example:\n\n``` rust\n#![allow(dead_code)]\nconst A: &'static [usize] = &[];\nconst B: usize = A[1];\n\nfn main() {}\n```\n\nIt now compiles **successfully without any complaints**.\n\nOnly once you attempt to use the invalid value `B` will `rustc` encounter a problem.\n\n``` rust\n#![allow(dead_code)]\nconst A: &'static [usize] = &[];\nconst B: usize = A[1];\n\nfn main() {\n    println!(\"B={}\", B);\n}\n```\n\n```\n<anon>:3:18: 3:22 error: const index-expr is out of bounds\n<anon>:3 const B: usize = A[1];\n                          ^~~~\nrustc: /home/rustbuild/src/rust-buildbot/slave/nightly-dist-rustc-linux/build/src/llvm/lib/IR/Constants.cpp:2174: static llvm::Constant* llvm::ConstantExpr::getExtractValue(llvm::Constant*, llvm::ArrayRef<unsigned int>, llvm::Type*): Assertion `ReqTy && \"extractvalue indices invalid!\"' failed.\nAborted (core dumped)\nplaypen: application terminated with error code 134\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/75299517/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/77766798",
    "html_url": "https://github.com/rust-lang/rust/issues/3170#issuecomment-77766798",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/3170",
    "id": 77766798,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3NzY2Nzk4",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-08T18:42:55Z",
    "updated_at": "2015-03-08T18:42:55Z",
    "body": "> error: cannot refer to other statics by value, use the address-of operator or a constant instead \n\nYup, seems good.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/77766798/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/77783600",
    "html_url": "https://github.com/rust-lang/rust/issues/3170#issuecomment-77783600",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/3170",
    "id": 77783600,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3NzgzNjAw",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-09T00:07:00Z",
    "updated_at": "2015-03-09T00:07:00Z",
    "body": "wait, @JustAPerson 's example does not seem okay to me.  Reopening.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/77783600/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/94004239",
    "html_url": "https://github.com/rust-lang/rust/issues/3170#issuecomment-94004239",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/3170",
    "id": 94004239,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk0MDA0MjM5",
    "user": {
      "login": "tamird",
      "id": 1535036,
      "node_id": "MDQ6VXNlcjE1MzUwMzY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1535036?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tamird",
      "html_url": "https://github.com/tamird",
      "followers_url": "https://api.github.com/users/tamird/followers",
      "following_url": "https://api.github.com/users/tamird/following{/other_user}",
      "gists_url": "https://api.github.com/users/tamird/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tamird/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tamird/subscriptions",
      "organizations_url": "https://api.github.com/users/tamird/orgs",
      "repos_url": "https://api.github.com/users/tamird/repos",
      "events_url": "https://api.github.com/users/tamird/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tamird/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-17T15:05:06Z",
    "updated_at": "2015-04-17T15:05:06Z",
    "body": "I think this is now fixed for real:\n\n``` shell\n$ cat foo.rs\n#![allow(dead_code)]\nconst A: &'static [usize] = &[];\nconst B: usize = A[1];\n\nfn main() {\n    println!(\"B={}\", B);\n}\n$ rustc foo.rs\nfoo.rs:3:18: 3:22 error: const index-expr is out of bounds\nfoo.rs:3 const B: usize = A[1];\n                          ^~~~\nerror: aborting due to previous error\n$ rustc --version\nrustc 1.0.0-dev (a691f1eef 2015-04-15) (built 2015-04-15)\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/94004239/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/97191604",
    "html_url": "https://github.com/rust-lang/rust/issues/3170#issuecomment-97191604",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/3170",
    "id": 97191604,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk3MTkxNjA0",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-28T20:05:23Z",
    "updated_at": "2015-04-28T20:05:23Z",
    "body": "So, sometime in the last 11 days:\n\n```\nhello.rs:3:18: 3:22 error: const index-expr is out of bounds\nhello.rs:3 const B: usize = A[1];\n                            ^~~~\nrustc: /home/rustbuild/src/rust-buildbot/slave/nightly-dist-rustc-linux/build/src/llvm/include/llvm/Support/Casting.h:237: typename llvm::cast_retty<X, Y*>::ret_type llvm::cast(Y*) [with X = llvm::SequentialType; Y = llvm::Type; typename llvm::cast_retty<X, Y*>::ret_type = llvm::SequentialType*]: Assertion `isa<X>(Val) && \"cast<Ty>() argument of incompatible type!\"' failed.\n```\n\nsoooo seems like it's already regressed?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/97191604/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/97192262",
    "html_url": "https://github.com/rust-lang/rust/issues/3170#issuecomment-97192262",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/3170",
    "id": 97192262,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk3MTkyMjYy",
    "user": {
      "login": "tamird",
      "id": 1535036,
      "node_id": "MDQ6VXNlcjE1MzUwMzY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1535036?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tamird",
      "html_url": "https://github.com/tamird",
      "followers_url": "https://api.github.com/users/tamird/followers",
      "following_url": "https://api.github.com/users/tamird/following{/other_user}",
      "gists_url": "https://api.github.com/users/tamird/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tamird/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tamird/subscriptions",
      "organizations_url": "https://api.github.com/users/tamird/orgs",
      "repos_url": "https://api.github.com/users/tamird/repos",
      "events_url": "https://api.github.com/users/tamird/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tamird/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-28T20:08:01Z",
    "updated_at": "2015-04-28T20:08:01Z",
    "body": "Guh, this was my mistake. I made the above report using a toolchain compiled with LLVM assertions disabled (which I didn't know was the default).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/97192262/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/145259558",
    "html_url": "https://github.com/rust-lang/rust/issues/3170#issuecomment-145259558",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/3170",
    "id": 145259558,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0NTI1OTU1OA==",
    "user": {
      "login": "carols10cents",
      "id": 193874,
      "node_id": "MDQ6VXNlcjE5Mzg3NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/193874?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/carols10cents",
      "html_url": "https://github.com/carols10cents",
      "followers_url": "https://api.github.com/users/carols10cents/followers",
      "following_url": "https://api.github.com/users/carols10cents/following{/other_user}",
      "gists_url": "https://api.github.com/users/carols10cents/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/carols10cents/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/carols10cents/subscriptions",
      "organizations_url": "https://api.github.com/users/carols10cents/orgs",
      "repos_url": "https://api.github.com/users/carols10cents/repos",
      "events_url": "https://api.github.com/users/carols10cents/events{/privacy}",
      "received_events_url": "https://api.github.com/users/carols10cents/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-03T15:42:29Z",
    "updated_at": "2015-10-03T15:42:48Z",
    "body": "(Hi, I'm trying to [help make E-easy issues more accessible to newcomers](https://users.rust-lang.org/t/mentoring-newcomers-to-the-rust-ecosystem/3088/15?u=carols10cents) :smile_cat:)\n\n> I made the above report using a toolchain compiled with LLVM assertions disabled (which I didn't know was the default).\n\nIt sounds like in order to reproduce this issue, you have to be using a toolchain compiled with a non-default setting? If so, how does one go about doing that?\n\nIt's kind of confusing what's supposed to happen here, with all the closing-reopening stuff going on. Could someone clarify what the expected behavior is and how it differs from the current behavior?\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/145259558/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/145270901",
    "html_url": "https://github.com/rust-lang/rust/issues/3170#issuecomment-145270901",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/3170",
    "id": 145270901,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0NTI3MDkwMQ==",
    "user": {
      "login": "jonas-schievink",
      "id": 1786438,
      "node_id": "MDQ6VXNlcjE3ODY0Mzg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1786438?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonas-schievink",
      "html_url": "https://github.com/jonas-schievink",
      "followers_url": "https://api.github.com/users/jonas-schievink/followers",
      "following_url": "https://api.github.com/users/jonas-schievink/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonas-schievink/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonas-schievink/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonas-schievink/subscriptions",
      "organizations_url": "https://api.github.com/users/jonas-schievink/orgs",
      "repos_url": "https://api.github.com/users/jonas-schievink/repos",
      "events_url": "https://api.github.com/users/jonas-schievink/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonas-schievink/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-03T17:25:42Z",
    "updated_at": "2015-10-03T17:25:42Z",
    "body": "`./configure --enable-llvm-assertions`\n\nHowever, you can just use a Rust nightly, since LLVM assertions are enabled there. http://is.gd/X2RztV still fails the assertion on nightly:\n\n```\n<anon>:2:17: 2:21 error: const index-expr is out of bounds\n<anon>:2 static b: i32 = a[1];\n                         ^~~~\nrustc: /home/rustbuild/src/rust-buildbot/slave/nightly-dist-rustc-linux/build/src/llvm/include/llvm/Support/Casting.h:237: typename llvm::cast_retty<X, Y*>::ret_type llvm::cast(Y*) [with X = llvm::SequentialType; Y = llvm::Type; typename llvm::cast_retty<X, Y*>::ret_type = llvm::SequentialType*]: Assertion `isa<X>(Val) && \"cast<Ty>() argument of incompatible type!\"' failed.\nAborted (core dumped)\nplaypen: application terminated with error code 134\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/145270901/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/145324597",
    "html_url": "https://github.com/rust-lang/rust/issues/3170#issuecomment-145324597",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/3170",
    "id": 145324597,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0NTMyNDU5Nw==",
    "user": {
      "login": "jld",
      "id": 254973,
      "node_id": "MDQ6VXNlcjI1NDk3Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/254973?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jld",
      "html_url": "https://github.com/jld",
      "followers_url": "https://api.github.com/users/jld/followers",
      "following_url": "https://api.github.com/users/jld/following{/other_user}",
      "gists_url": "https://api.github.com/users/jld/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jld/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jld/subscriptions",
      "organizations_url": "https://api.github.com/users/jld/orgs",
      "repos_url": "https://api.github.com/users/jld/repos",
      "events_url": "https://api.github.com/users/jld/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jld/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-04T07:35:24Z",
    "updated_at": "2015-10-04T07:35:24Z",
    "body": "It looks like the thing I was distressed by in 2013 is fixed: if rustc gives the `const index-expr is out of bounds` error, even if LLVM assertions are disabled, it exits with a failure status (and does not write an output file).  I think translation used to not have access to the session/error stuff that checking does, because it wasn't supposed to be able to find errors that checking missed?  But that looks like it's not the case now.\n\nThe other thing my past self mentioned\u2026 it sounds as if we used to just pass the index to LLVM even if we knew it was out-of-range, but now we construct an `undef` instead.  But that part is taken care of in any case, because the error is handled properly now.\n\nAs for the LLVM assertion we're seeing today, I have a guess.  After reporting the error, we're doing this:\n\n``` Rust\nC_undef(type_of::type_of(cx, bt).element_type())\n```\n\nand I think we want something like this (untested):\n\n``` Rust\nC_undef(val_ty(arr).element_type())\n```\n\nBecause if the value being indexed is a slice or pointer, then `bt` (its type) won't be represented by an array type, so `element_type` will fail.\n\n**But**, the thing @graydon opened this issue for, and what the comment in the code referencing this issue suggests doing, is to move that check to an earlier stage of compilation.  And it looks like #25370/#25570 might wind up more or less accomplishing that?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/145324597/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/158291636",
    "html_url": "https://github.com/rust-lang/rust/issues/3170#issuecomment-158291636",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/3170",
    "id": 158291636,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1ODI5MTYzNg==",
    "user": {
      "login": "Manishearth",
      "id": 1617736,
      "node_id": "MDQ6VXNlcjE2MTc3MzY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1617736?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Manishearth",
      "html_url": "https://github.com/Manishearth",
      "followers_url": "https://api.github.com/users/Manishearth/followers",
      "following_url": "https://api.github.com/users/Manishearth/following{/other_user}",
      "gists_url": "https://api.github.com/users/Manishearth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Manishearth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Manishearth/subscriptions",
      "organizations_url": "https://api.github.com/users/Manishearth/orgs",
      "repos_url": "https://api.github.com/users/Manishearth/repos",
      "events_url": "https://api.github.com/users/Manishearth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Manishearth/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-11-20T06:01:15Z",
    "updated_at": "2015-11-20T06:01:15Z",
    "body": "I think this is fixed completely now. @oli-obk ?\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/158291636/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/158329688",
    "html_url": "https://github.com/rust-lang/rust/issues/3170#issuecomment-158329688",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/3170",
    "id": 158329688,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1ODMyOTY4OA==",
    "user": {
      "login": "oli-obk",
      "id": 332036,
      "node_id": "MDQ6VXNlcjMzMjAzNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/oli-obk",
      "html_url": "https://github.com/oli-obk",
      "followers_url": "https://api.github.com/users/oli-obk/followers",
      "following_url": "https://api.github.com/users/oli-obk/following{/other_user}",
      "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions",
      "organizations_url": "https://api.github.com/users/oli-obk/orgs",
      "repos_url": "https://api.github.com/users/oli-obk/repos",
      "events_url": "https://api.github.com/users/oli-obk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/oli-obk/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-11-20T09:00:13Z",
    "updated_at": "2015-11-20T09:00:13Z",
    "body": "nope, it needs to be solved in `check_const` and the current report location needs to be changed into a bug location\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/158329688/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/158406537",
    "html_url": "https://github.com/rust-lang/rust/issues/3170#issuecomment-158406537",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/3170",
    "id": 158406537,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1ODQwNjUzNw==",
    "user": {
      "login": "Manishearth",
      "id": 1617736,
      "node_id": "MDQ6VXNlcjE2MTc3MzY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1617736?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Manishearth",
      "html_url": "https://github.com/Manishearth",
      "followers_url": "https://api.github.com/users/Manishearth/followers",
      "following_url": "https://api.github.com/users/Manishearth/following{/other_user}",
      "gists_url": "https://api.github.com/users/Manishearth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Manishearth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Manishearth/subscriptions",
      "organizations_url": "https://api.github.com/users/Manishearth/orgs",
      "repos_url": "https://api.github.com/users/Manishearth/repos",
      "events_url": "https://api.github.com/users/Manishearth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Manishearth/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-11-20T13:44:53Z",
    "updated_at": "2015-11-20T13:44:53Z",
    "body": "@oli-obk Is this an easy fix, and if so, do you want to mentor it and leave some hints so that newcomers can try a crack at it?\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/158406537/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/158410569",
    "html_url": "https://github.com/rust-lang/rust/issues/3170#issuecomment-158410569",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/3170",
    "id": 158410569,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1ODQxMDU2OQ==",
    "user": {
      "login": "oli-obk",
      "id": 332036,
      "node_id": "MDQ6VXNlcjMzMjAzNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/oli-obk",
      "html_url": "https://github.com/oli-obk",
      "followers_url": "https://api.github.com/users/oli-obk/followers",
      "following_url": "https://api.github.com/users/oli-obk/following{/other_user}",
      "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions",
      "organizations_url": "https://api.github.com/users/oli-obk/orgs",
      "repos_url": "https://api.github.com/users/oli-obk/repos",
      "events_url": "https://api.github.com/users/oli-obk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/oli-obk/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-11-20T14:05:49Z",
    "updated_at": "2015-11-20T14:06:54Z",
    "body": "While it's an easy fix (you can basically steal https://github.com/rust-lang/rust/blob/master/src/librustc/middle/check_const.rs#L470-L490 and do it for `ExprIndex` and then turn https://github.com/rust-lang/rust/blob/master/src/librustc_trans/trans/consts.rs#L708-L712 into a bug/`unimplemented!()`).\n\nBut it'd also be a breaking change, because unused `const ARR: [u32; 0] = []; const X: u32 = ARR[5];` currently does not cause a compilation error. And `check_const` also checks unused constants.\n\nAlso it would end up doing all const evaluation twice. Which could be remedied once it becomes a problem by caching constants.\n\nOf course the breaking change can be remedied by simply emitting the `const_err` lint.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/158410569/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/383890949",
    "html_url": "https://github.com/rust-lang/rust/issues/3170#issuecomment-383890949",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/3170",
    "id": 383890949,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4Mzg5MDk0OQ==",
    "user": {
      "login": "fbstj",
      "id": 19763,
      "node_id": "MDQ6VXNlcjE5NzYz",
      "avatar_url": "https://avatars.githubusercontent.com/u/19763?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fbstj",
      "html_url": "https://github.com/fbstj",
      "followers_url": "https://api.github.com/users/fbstj/followers",
      "following_url": "https://api.github.com/users/fbstj/following{/other_user}",
      "gists_url": "https://api.github.com/users/fbstj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fbstj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fbstj/subscriptions",
      "organizations_url": "https://api.github.com/users/fbstj/orgs",
      "repos_url": "https://api.github.com/users/fbstj/repos",
      "events_url": "https://api.github.com/users/fbstj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fbstj/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-04-24T11:01:07Z",
    "updated_at": "2018-04-24T11:01:07Z",
    "body": "this seems to have been 'solved' (possibly due to MIRI) as it now throws [E0080](https://doc.rust-lang.org/error-index.html#E0080) when used, rather than an LLVM assertion. though it still passes through if the access is unused.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/383890949/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/383894172",
    "html_url": "https://github.com/rust-lang/rust/issues/3170#issuecomment-383894172",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/3170",
    "id": 383894172,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4Mzg5NDE3Mg==",
    "user": {
      "login": "oli-obk",
      "id": 332036,
      "node_id": "MDQ6VXNlcjMzMjAzNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/oli-obk",
      "html_url": "https://github.com/oli-obk",
      "followers_url": "https://api.github.com/users/oli-obk/followers",
      "following_url": "https://api.github.com/users/oli-obk/following{/other_user}",
      "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions",
      "organizations_url": "https://api.github.com/users/oli-obk/orgs",
      "repos_url": "https://api.github.com/users/oli-obk/repos",
      "events_url": "https://api.github.com/users/oli-obk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/oli-obk/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-04-24T11:14:33Z",
    "updated_at": "2018-04-24T11:14:33Z",
    "body": "The missing lint when the const is unused will be fixed by https://github.com/rust-lang/rust/pull/50110",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/383894172/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/409948359",
    "html_url": "https://github.com/rust-lang/rust/issues/3170#issuecomment-409948359",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/3170",
    "id": 409948359,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwOTk0ODM1OQ==",
    "user": {
      "login": "oli-obk",
      "id": 332036,
      "node_id": "MDQ6VXNlcjMzMjAzNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/oli-obk",
      "html_url": "https://github.com/oli-obk",
      "followers_url": "https://api.github.com/users/oli-obk/followers",
      "following_url": "https://api.github.com/users/oli-obk/following{/other_user}",
      "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions",
      "organizations_url": "https://api.github.com/users/oli-obk/orgs",
      "repos_url": "https://api.github.com/users/oli-obk/repos",
      "events_url": "https://api.github.com/users/oli-obk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/oli-obk/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-08-02T14:34:28Z",
    "updated_at": "2018-08-02T14:34:28Z",
    "body": "Yea I think we're done with this issue after 6 years :laughing: ",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/409948359/reactions",
      "total_count": 2,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 2,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
