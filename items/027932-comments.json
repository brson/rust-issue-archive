[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/133416132",
    "html_url": "https://github.com/rust-lang/rust/issues/27932#issuecomment-133416132",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27932",
    "id": 133416132,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMzQxNjEzMg==",
    "user": {
      "login": "dotdash",
      "id": 230962,
      "node_id": "MDQ6VXNlcjIzMDk2Mg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/230962?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dotdash",
      "html_url": "https://github.com/dotdash",
      "followers_url": "https://api.github.com/users/dotdash/followers",
      "following_url": "https://api.github.com/users/dotdash/following{/other_user}",
      "gists_url": "https://api.github.com/users/dotdash/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dotdash/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dotdash/subscriptions",
      "organizations_url": "https://api.github.com/users/dotdash/orgs",
      "repos_url": "https://api.github.com/users/dotdash/repos",
      "events_url": "https://api.github.com/users/dotdash/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dotdash/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-08-21T12:50:52Z",
    "updated_at": "2015-08-21T12:51:59Z",
    "body": "The original code _can_ deadlock, it is just extreme unlikely, because each philosopher only eats once and there's an offset between the threads (because starting a thread takes non-zero time). The offset makes it happen that the first philosopher gets to eat before the second one gets to pick up the first fork. The theoretical possibility for a deadlock is still there though.\n\nThe issue I have with your suggestion is that it ends up with a pretty deterministic deadlock, because the window for it is so huge. And IMHO that gives a wrong impression WRT the general case. If you want to demonstrate the deadlock in practice, I'd suggest to remove the `sleep_ms()` calls altogether and loop in the thread, so that the philosophers try to eat all the time and not just once. That gives you a program that will usually deadlock really really quickly, but the \"eating trace\" you get looks different every time.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/133416132/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/133424836",
    "html_url": "https://github.com/rust-lang/rust/issues/27932#issuecomment-133424836",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27932",
    "id": 133424836,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMzQyNDgzNg==",
    "user": {
      "login": "mjhoy",
      "id": 106337,
      "node_id": "MDQ6VXNlcjEwNjMzNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/106337?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mjhoy",
      "html_url": "https://github.com/mjhoy",
      "followers_url": "https://api.github.com/users/mjhoy/followers",
      "following_url": "https://api.github.com/users/mjhoy/following{/other_user}",
      "gists_url": "https://api.github.com/users/mjhoy/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mjhoy/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mjhoy/subscriptions",
      "organizations_url": "https://api.github.com/users/mjhoy/orgs",
      "repos_url": "https://api.github.com/users/mjhoy/repos",
      "events_url": "https://api.github.com/users/mjhoy/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mjhoy/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-08-21T13:26:04Z",
    "updated_at": "2015-08-21T13:26:04Z",
    "body": "> The issue I have with your suggestion is that it ends up with a pretty deterministic deadlock\n\nStill, it doesn't seem to accurately represent the description, of a philosopher grabbing a left fork, taking some time to reach for the food, and only then grabbing the right fork (and then taking some time to eat).\n\nIt seems to me that the purpose of that section was to set up a (mostly) deterministic deadlock, and then find a way of solving it. In any case I was a little confused. I think removing the sleep calls as you suggest and looping would make it more clear.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/133424836/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/153651632",
    "html_url": "https://github.com/rust-lang/rust/issues/27932#issuecomment-153651632",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27932",
    "id": 153651632,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MzY1MTYzMg==",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-11-04T09:23:40Z",
    "updated_at": "2015-11-04T09:23:40Z",
    "body": "We've ended up adding some stuff that fixes this.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/153651632/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
