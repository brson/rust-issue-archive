[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/93954757",
    "html_url": "https://github.com/rust-lang/rust/pull/24521#issuecomment-93954757",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24521",
    "id": 93954757,
    "node_id": "MDEyOklzc3VlQ29tbWVudDkzOTU0NzU3",
    "user": {
      "login": "rust-highfive",
      "id": 7378925,
      "node_id": "MDQ6VXNlcjczNzg5MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7378925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rust-highfive",
      "html_url": "https://github.com/rust-highfive",
      "followers_url": "https://api.github.com/users/rust-highfive/followers",
      "following_url": "https://api.github.com/users/rust-highfive/following{/other_user}",
      "gists_url": "https://api.github.com/users/rust-highfive/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rust-highfive/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rust-highfive/subscriptions",
      "organizations_url": "https://api.github.com/users/rust-highfive/orgs",
      "repos_url": "https://api.github.com/users/rust-highfive/repos",
      "events_url": "https://api.github.com/users/rust-highfive/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rust-highfive/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-17T09:49:47Z",
    "updated_at": "2015-04-17T09:49:47Z",
    "body": "Thanks for the pull request, and welcome! The Rust team is excited to review your changes, and you should hear from @alexcrichton (or someone else) soon.\n\nIf any changes to this PR are deemed necessary, please add them as extra commits. This ensures that the reviewer can see what has changed since they last reviewed the code. The way Github handles out-of-date commits, this should also make it reasonably obvious what issues have or haven't been addressed. Large or tricky changes may require several passes of review and changes.\n\nPlease see [CONTRIBUTING.md](https://github.com/rust-lang/rust/blob/master/CONTRIBUTING.md) for more information.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/93954757/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/93956587",
    "html_url": "https://github.com/rust-lang/rust/pull/24521#issuecomment-93956587",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24521",
    "id": 93956587,
    "node_id": "MDEyOklzc3VlQ29tbWVudDkzOTU2NTg3",
    "user": {
      "login": "yberreby",
      "id": 5556521,
      "node_id": "MDQ6VXNlcjU1NTY1MjE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5556521?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yberreby",
      "html_url": "https://github.com/yberreby",
      "followers_url": "https://api.github.com/users/yberreby/followers",
      "following_url": "https://api.github.com/users/yberreby/following{/other_user}",
      "gists_url": "https://api.github.com/users/yberreby/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yberreby/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yberreby/subscriptions",
      "organizations_url": "https://api.github.com/users/yberreby/orgs",
      "repos_url": "https://api.github.com/users/yberreby/repos",
      "events_url": "https://api.github.com/users/yberreby/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yberreby/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-17T10:00:35Z",
    "updated_at": "2015-04-17T10:00:35Z",
    "body": "r? @steveklabnik \n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/93956587/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/93963070",
    "html_url": "https://github.com/rust-lang/rust/pull/24521#issuecomment-93963070",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24521",
    "id": 93963070,
    "node_id": "MDEyOklzc3VlQ29tbWVudDkzOTYzMDcw",
    "user": {
      "login": "rprichard",
      "id": 1572855,
      "node_id": "MDQ6VXNlcjE1NzI4NTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1572855?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rprichard",
      "html_url": "https://github.com/rprichard",
      "followers_url": "https://api.github.com/users/rprichard/followers",
      "following_url": "https://api.github.com/users/rprichard/following{/other_user}",
      "gists_url": "https://api.github.com/users/rprichard/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rprichard/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rprichard/subscriptions",
      "organizations_url": "https://api.github.com/users/rprichard/orgs",
      "repos_url": "https://api.github.com/users/rprichard/repos",
      "events_url": "https://api.github.com/users/rprichard/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rprichard/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-17T10:45:41Z",
    "updated_at": "2015-04-17T10:45:41Z",
    "body": "I tried running `git submodule init` and `git submodule update --depth 1` in a new Rust checkout, and it didn't work.  The `update` command downloaded the `master` branch of https://github.com/rust-lang/llvm.git (commit 2e9f0d21fe321849a4759a01fc28eae82ef196d6), which is two years out of date.  Then `update` complained that it couldn't find the commits it expected:\n\n```\nrprichard@ryan:~/work/rust-test$ git submodule update --depth 1\nCloning into 'src/compiler-rt'...\nremote: Counting objects: 1405, done.\nremote: Compressing objects: 100% (1226/1226), done.\nremote: Total 1405 (delta 289), reused 845 (delta 152), pack-reused 0\nReceiving objects: 100% (1405/1405), 2.02 MiB | 3.67 MiB/s, done.\nResolving deltas: 100% (289/289), done.\nChecking connectivity... done.\nfatal: reference is not a tree: 58ab642c30d9f97735d5745b5d01781ee199c6ae\nCloning into 'src/jemalloc'...\nremote: Counting objects: 164, done.\nremote: Compressing objects: 100% (145/145), done.\nremote: Total 164 (delta 17), reused 80 (delta 14), pack-reused 0\nReceiving objects: 100% (164/164), 354.07 KiB | 0 bytes/s, done.\nResolving deltas: 100% (17/17), done.\nChecking connectivity... done.\nfatal: reference is not a tree: e24a1a025a1f214e40eedafe3b9c7b1d69937922\nCloning into 'src/llvm'...\nremote: Counting objects: 10756, done.\nremote: Compressing objects: 100% (10239/10239), done.\nremote: Total 10756 (delta 1194), reused 4076 (delta 433), pack-reused 0\nReceiving objects: 100% (10756/10756), 14.39 MiB | 6.03 MiB/s, done.\nResolving deltas: 100% (1194/1194), done.\nChecking connectivity... done.\nfatal: reference is not a tree: bff69076975642c64e76dbeaa53476bfa7212086\nCloning into 'src/rt/hoedown'...\nremote: Counting objects: 83, done.\nremote: Compressing objects: 100% (81/81), done.\nremote: Total 83 (delta 1), reused 62 (delta 1), pack-reused 0\nUnpacking objects: 100% (83/83), done.\nChecking connectivity... done.\nfatal: reference is not a tree: 238c4d57cce10d33b05cf52a91fc62a09f31ffbb\nCloning into 'src/rust-installer'...\nremote: Counting objects: 27, done.\nremote: Compressing objects: 100% (14/14), done.\nremote: Total 27 (delta 2), reused 18 (delta 0), pack-reused 0\nUnpacking objects: 100% (27/27), done.\nChecking connectivity... done.\nfatal: reference is not a tree: ebc6b04c29591108d3f28e724b4b9b74cd1232e6\nUnable to checkout '58ab642c30d9f97735d5745b5d01781ee199c6ae' in submodule path 'src/compiler-rt'\nUnable to checkout 'e24a1a025a1f214e40eedafe3b9c7b1d69937922' in submodule path 'src/jemalloc'\nUnable to checkout 'bff69076975642c64e76dbeaa53476bfa7212086' in submodule path 'src/llvm'\nUnable to checkout '238c4d57cce10d33b05cf52a91fc62a09f31ffbb' in submodule path 'src/rt/hoedown'\nUnable to checkout 'ebc6b04c29591108d3f28e724b4b9b74cd1232e6' in submodule path 'src/rust-installer'\n```\n\nThe current branch is rust-llvm-2015-02-19, but .gitmodules specifies the master branch instead.\n\nI'm using git version 1.9.1 on Xubuntu 14.04.  Maybe that matters?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/93963070/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/93964685",
    "html_url": "https://github.com/rust-lang/rust/pull/24521#issuecomment-93964685",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24521",
    "id": 93964685,
    "node_id": "MDEyOklzc3VlQ29tbWVudDkzOTY0Njg1",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-17T10:58:00Z",
    "updated_at": "2015-04-17T10:58:00Z",
    "body": "@rprichard I think what you describe is consistent with @brson's findings when he investigated trying to do this, based on a recent conversation I heard him having.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/93964685/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/93980701",
    "html_url": "https://github.com/rust-lang/rust/pull/24521#issuecomment-93980701",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24521",
    "id": 93980701,
    "node_id": "MDEyOklzc3VlQ29tbWVudDkzOTgwNzAx",
    "user": {
      "login": "yberreby",
      "id": 5556521,
      "node_id": "MDQ6VXNlcjU1NTY1MjE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5556521?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yberreby",
      "html_url": "https://github.com/yberreby",
      "followers_url": "https://api.github.com/users/yberreby/followers",
      "following_url": "https://api.github.com/users/yberreby/following{/other_user}",
      "gists_url": "https://api.github.com/users/yberreby/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yberreby/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yberreby/subscriptions",
      "organizations_url": "https://api.github.com/users/yberreby/orgs",
      "repos_url": "https://api.github.com/users/yberreby/repos",
      "events_url": "https://api.github.com/users/yberreby/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yberreby/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-17T12:58:35Z",
    "updated_at": "2015-04-17T12:58:35Z",
    "body": "After research, this seems to be a common issue with submodules and low values of depth:  \nhttps://github.com/CocoaPods/cocoapods-downloader/issues/32\nhttps://groups.google.com/a/chromium.org/forum/#!topic/chromium-dev/EJtj5W-60-Y\nhttp://www.tech.theplayhub.com/git_submodule_head_reference_is_not_a_tree_error/\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/93980701/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/94025196",
    "html_url": "https://github.com/rust-lang/rust/pull/24521#issuecomment-94025196",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24521",
    "id": 94025196,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk0MDI1MTk2",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-17T16:48:16Z",
    "updated_at": "2015-04-17T16:48:16Z",
    "body": "I believe a bare `--depth 1` means that git will fetch the master branch with a depth of 1, but the LLVM repo that we're using has a branch for each rev that we're pinned to. This means that the clone will have to specify both the branch and the depth, I believe.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/94025196/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/94983624",
    "html_url": "https://github.com/rust-lang/rust/pull/24521#issuecomment-94983624",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24521",
    "id": 94983624,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk0OTgzNjI0",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-22T00:31:54Z",
    "updated_at": "2015-04-22T00:31:54Z",
    "body": "As others have said, Rust submodules are not using the master branch of their repos, so a shallow clone of master will not work.\n\nThe best way I can think to get to a point where this works would be to set all our submodules to a stable named branch and state that branch in .gitmodules, make it a policy matter that submodules always use that name.\n\nGetting there will require further planning, so closing this PR.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/94983624/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/94983784",
    "html_url": "https://github.com/rust-lang/rust/pull/24521#issuecomment-94983784",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24521",
    "id": 94983784,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk0OTgzNzg0",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-22T00:33:38Z",
    "updated_at": "2015-04-22T00:33:38Z",
    "body": "If you want to pursue this further I might suggest opening up a thread on internals.rust-lang.org laying out a plan.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/94983784/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/94983926",
    "html_url": "https://github.com/rust-lang/rust/pull/24521#issuecomment-94983926",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24521",
    "id": 94983926,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk0OTgzOTI2",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-22T00:34:54Z",
    "updated_at": "2015-04-22T00:34:54Z",
    "body": "Oh, the plan I stated previously doesn't work because historic checkouts don't work after submodule master branches have changed.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/94983926/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
