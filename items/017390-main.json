{
  "url": "https://api.github.com/repos/rust-lang/rust/issues/17390",
  "repository_url": "https://api.github.com/repos/rust-lang/rust",
  "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/17390/labels{/name}",
  "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/17390/comments",
  "events_url": "https://api.github.com/repos/rust-lang/rust/issues/17390/events",
  "html_url": "https://github.com/rust-lang/rust/pull/17390",
  "id": 43235172,
  "node_id": "MDExOlB1bGxSZXF1ZXN0MjE0OTU2MjU=",
  "number": 17390,
  "title": "Add mathematics support to rustdoc",
  "user": {
    "login": "huonw",
    "id": 1203825,
    "node_id": "MDQ6VXNlcjEyMDM4MjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/huonw",
    "html_url": "https://github.com/huonw",
    "followers_url": "https://api.github.com/users/huonw/followers",
    "following_url": "https://api.github.com/users/huonw/following{/other_user}",
    "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
    "organizations_url": "https://api.github.com/users/huonw/orgs",
    "repos_url": "https://api.github.com/users/huonw/repos",
    "events_url": "https://api.github.com/users/huonw/events{/privacy}",
    "received_events_url": "https://api.github.com/users/huonw/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "labels": [],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [],
  "milestone": null,
  "comments": 40,
  "created_at": "2014-09-19T12:56:48Z",
  "updated_at": "2025-08-27T07:12:53Z",
  "closed_at": "2014-10-31T00:35:41Z",
  "author_association": "CONTRIBUTOR",
  "type": null,
  "active_lock_reason": null,
  "draft": false,
  "pull_request": {
    "url": "https://api.github.com/repos/rust-lang/rust/pulls/17390",
    "html_url": "https://github.com/rust-lang/rust/pull/17390",
    "diff_url": "https://github.com/rust-lang/rust/pull/17390.diff",
    "patch_url": "https://github.com/rust-lang/rust/pull/17390.patch",
    "merged_at": null
  },
  "body": "Revival of #16991, fixes #16300.\n\nThis uses the new support in hoedown for parsing mathematics. Current supported delimiters are `\\\\( ... \\\\)` (text), `\\\\[ ... \\\\]` (display), `$$...$$` (inferred). Hoedown currently requires that the first two have spaces between the delimiters and the mathematics, and that all of them have space after the delimiters (https://github.com/hoedown/hoedown/issues/120).\n\n[The KaTeX library](https://github.com/Khan/KaTeX) is packaged without modifications with the distribution, so this should work without an internet connection. It consists of ~150 KB of JS/CSS and nearly 850 KB of fonts, the latter can be cut to 200KB if we only include the WOFF files (i.e. remove the EOT and TTF ones). This would require editing the files slightly. KaTeX does not have nearly the same support as MathJax, but it is significantly faster and smaller (it would not be nearly as reasonable to package MathJax).\n\nThis also uses this support in a few selected places in the standard libraries.\n\nGeneral comments:\n- inlined documentation with mathematics requires a `enable_math` on the crates in which it is inlined for the maths to be rendered\n- I added basic support for standalone markdown files, but I'm not sure if we want that in this iteration. Standalone markdown files currently include nothing else by default, and this is inserting JS and CSS. Furthermore, this requires but doesn't enforce that a katex installation exists as a sibling of the rendered file (which is true if the markdown file is rendered into a directory with other crates, e.g. like the main docs).\n- I'm sick at the moment, so the code could be nonsense.\n- I am preserving @Gankro's work; if they're ok with it, I will compress the history.\n",
  "closed_by": {
    "login": "huonw",
    "id": 1203825,
    "node_id": "MDQ6VXNlcjEyMDM4MjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/huonw",
    "html_url": "https://github.com/huonw",
    "followers_url": "https://api.github.com/users/huonw/followers",
    "following_url": "https://api.github.com/users/huonw/following{/other_user}",
    "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
    "organizations_url": "https://api.github.com/users/huonw/orgs",
    "repos_url": "https://api.github.com/users/huonw/repos",
    "events_url": "https://api.github.com/users/huonw/events{/privacy}",
    "received_events_url": "https://api.github.com/users/huonw/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/17390/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/17390/timeline",
  "performed_via_github_app": null,
  "state_reason": null,
  "_meta": {
    "type": "pr"
  }
}
