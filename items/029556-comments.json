[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/212470959",
    "html_url": "https://github.com/rust-lang/rust/issues/29556#issuecomment-212470959",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29556",
    "id": 212470959,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxMjQ3MDk1OQ==",
    "user": {
      "login": "cuviper",
      "id": 36186,
      "node_id": "MDQ6VXNlcjM2MTg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/36186?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cuviper",
      "html_url": "https://github.com/cuviper",
      "followers_url": "https://api.github.com/users/cuviper/followers",
      "following_url": "https://api.github.com/users/cuviper/following{/other_user}",
      "gists_url": "https://api.github.com/users/cuviper/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cuviper/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cuviper/subscriptions",
      "organizations_url": "https://api.github.com/users/cuviper/orgs",
      "repos_url": "https://api.github.com/users/cuviper/repos",
      "events_url": "https://api.github.com/users/cuviper/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cuviper/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-04-20T15:13:02Z",
    "updated_at": "2016-04-20T15:13:02Z",
    "body": "A self-rebuild will be required if there is _any_ need to regenerate the Rust package.  Rust x.y will already be in the distro buildroot, thus the prior x.(y-1) is no longer available, but perhaps we need to apply some bugfix or security patch to Rust, or relink due to a changed dependency, etc.\n\n(Actually, I'm not sure how that will technically work, if something like LLVM gets rebased and we need to simultaneously use the old and link against the new.  But that's a distro issue.)\n\nAnyway, I may be able to work on this bug with some light mentoring hints.  Can someone point to a starting point?\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/212470959/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/212497191",
    "html_url": "https://github.com/rust-lang/rust/issues/29556#issuecomment-212497191",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29556",
    "id": 212497191,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxMjQ5NzE5MQ==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-04-20T16:17:07Z",
    "updated_at": "2016-04-20T16:17:07Z",
    "body": "This might be easier as part of rustbuild rather than the makefiles (as it's in theory easier to read the dependency list). If you want to dive into the makefiles, the relevant targets start [around here](https://github.com/rust-lang/rust/blob/133f60f82012ad92c40693bf1ae28419b60146a7/mk/target.mk#L73) for libraries. For rustbuild, the list of dependencies [show up in this file](https://github.com/rust-lang/rust/blob/133f60f82012ad92c40693bf1ae28419b60146a7/src/bootstrap/build/step.rs).\n\nIn rustbuild at least, this would probably look like:\n- Add a new target, `libstd-fast` or something like that (aka `rustc-fast`)\n- Set up the dependencies to not do any staging. E.g. avoid [this `- 1`](https://github.com/rust-lang/rust/blob/133f60f82012ad92c40693bf1ae28419b60146a7/src/bootstrap/build/step.rs#L268).\n- Add a sanity check at the base that the bootstrap compiler's version is the same as the listed source's version (and even if they match, perhaps print a warning that this may not work).\n- Bootstrap as usual, perhaps in a different location like `build/$target/fast{,-std,-rustc}`.\n\nAs for the Makefiles, well, I would perhaps avoid touching them if I were you :)\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/212497191/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/218364877",
    "html_url": "https://github.com/rust-lang/rust/issues/29556#issuecomment-218364877",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29556",
    "id": 218364877,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxODM2NDg3Nw==",
    "user": {
      "login": "cuviper",
      "id": 36186,
      "node_id": "MDQ6VXNlcjM2MTg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/36186?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cuviper",
      "html_url": "https://github.com/cuviper",
      "followers_url": "https://api.github.com/users/cuviper/followers",
      "following_url": "https://api.github.com/users/cuviper/following{/other_user}",
      "gists_url": "https://api.github.com/users/cuviper/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cuviper/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cuviper/subscriptions",
      "organizations_url": "https://api.github.com/users/cuviper/orgs",
      "repos_url": "https://api.github.com/users/cuviper/repos",
      "events_url": "https://api.github.com/users/cuviper/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cuviper/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-05-11T05:24:51Z",
    "updated_at": "2016-05-11T05:24:51Z",
    "body": "I've been banging my head on the makefiles, but I think I just had a eureka moment to simplify this.  We don't actually need to _skip_ any stages -- we just need to adjust how the stage0->1 build is configured.  That's basically just the choice of `RUSTC_BOOTSTRAP_KEY` and `--cfg stageN`, anything else?  A couple of easy conditionals instead of trying to restructure build dependencies...\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/218364877/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/219311752",
    "html_url": "https://github.com/rust-lang/rust/issues/29556#issuecomment-219311752",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29556",
    "id": 219311752,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxOTMxMTc1Mg==",
    "user": {
      "login": "cuviper",
      "id": 36186,
      "node_id": "MDQ6VXNlcjM2MTg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/36186?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cuviper",
      "html_url": "https://github.com/cuviper",
      "followers_url": "https://api.github.com/users/cuviper/followers",
      "following_url": "https://api.github.com/users/cuviper/following{/other_user}",
      "gists_url": "https://api.github.com/users/cuviper/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cuviper/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cuviper/subscriptions",
      "organizations_url": "https://api.github.com/users/cuviper/orgs",
      "repos_url": "https://api.github.com/users/cuviper/repos",
      "events_url": "https://api.github.com/users/cuviper/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cuviper/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-05-15T21:29:07Z",
    "updated_at": "2016-05-15T21:29:07Z",
    "body": "@alexcrichton, could you please take at look at this gist patch?  I don't expect it to be mergable yet, which is why I didn't open a PR, but I hope to get your opinion on the approach.  Basically as I mentioned above, this still goes through all the same stages, but it treats the snapshot/local compiler as if it already has the stage1 features and the same bootstrap key.\nhttps://gist.github.com/cuviper/5e35ff74c41f575d24c9940a03eb9d32\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/219311752/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/219482339",
    "html_url": "https://github.com/rust-lang/rust/issues/29556#issuecomment-219482339",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29556",
    "id": 219482339,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxOTQ4MjMzOQ==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-05-16T17:04:44Z",
    "updated_at": "2016-05-16T17:04:44Z",
    "body": "Looks reasonable to me! I'm not sure if it was intended to skip the bootstrap as part of this issue, but the plumbing there is at least what I'd expect\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/219482339/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
