[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/52409213",
    "html_url": "https://github.com/rust-lang/rust/issues/16542#issuecomment-52409213",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/16542",
    "id": 52409213,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyNDA5MjEz",
    "user": {
      "login": "Gankra",
      "id": 1136864,
      "node_id": "MDQ6VXNlcjExMzY4NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1136864?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Gankra",
      "html_url": "https://github.com/Gankra",
      "followers_url": "https://api.github.com/users/Gankra/followers",
      "following_url": "https://api.github.com/users/Gankra/following{/other_user}",
      "gists_url": "https://api.github.com/users/Gankra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Gankra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Gankra/subscriptions",
      "organizations_url": "https://api.github.com/users/Gankra/orgs",
      "repos_url": "https://api.github.com/users/Gankra/repos",
      "events_url": "https://api.github.com/users/Gankra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Gankra/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-16T23:49:33Z",
    "updated_at": "2014-08-16T23:49:56Z",
    "body": "Alright, so the bug is that `intersect_with` delegates to an internal method `other_op`, which iterates over _other_'s underlying uints to set the bits of `self`. So if `self` occupies more uints than `other`, it doesn't actually touch those extra bits.\n\n`other_op` has no documentation, so I'm not sure if `intersect_with` is using it wrong, or if `other_op` itself is wrong. Investigating further usage now.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/52409213/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/52409347",
    "html_url": "https://github.com/rust-lang/rust/issues/16542#issuecomment-52409347",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/16542",
    "id": 52409347,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyNDA5MzQ3",
    "user": {
      "login": "kaseyc",
      "id": 2405952,
      "node_id": "MDQ6VXNlcjI0MDU5NTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2405952?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kaseyc",
      "html_url": "https://github.com/kaseyc",
      "followers_url": "https://api.github.com/users/kaseyc/followers",
      "following_url": "https://api.github.com/users/kaseyc/following{/other_user}",
      "gists_url": "https://api.github.com/users/kaseyc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kaseyc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kaseyc/subscriptions",
      "organizations_url": "https://api.github.com/users/kaseyc/orgs",
      "repos_url": "https://api.github.com/users/kaseyc/repos",
      "events_url": "https://api.github.com/users/kaseyc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kaseyc/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-16T23:57:45Z",
    "updated_at": "2014-08-16T23:57:45Z",
    "body": "That makes sense. I think other_op is wrong, or to be more precise it is flawed in a way that only intersect exposes (for union and difference, leaving the higher bits unchanged is technically correct). It looks like some people went through and cleaned up bitv.rs in July, so I think the breakage happened then, as the function worked properly before.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/52409347/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/52409381",
    "html_url": "https://github.com/rust-lang/rust/issues/16542#issuecomment-52409381",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/16542",
    "id": 52409381,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyNDA5Mzgx",
    "user": {
      "login": "Gankra",
      "id": 1136864,
      "node_id": "MDQ6VXNlcjExMzY4NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1136864?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Gankra",
      "html_url": "https://github.com/Gankra",
      "followers_url": "https://api.github.com/users/Gankra/followers",
      "following_url": "https://api.github.com/users/Gankra/following{/other_user}",
      "gists_url": "https://api.github.com/users/Gankra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Gankra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Gankra/subscriptions",
      "organizations_url": "https://api.github.com/users/Gankra/orgs",
      "repos_url": "https://api.github.com/users/Gankra/repos",
      "events_url": "https://api.github.com/users/Gankra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Gankra/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-16T23:59:43Z",
    "updated_at": "2014-08-16T23:59:43Z",
    "body": "I guess one underlying question is if a BitVSet should be assumed to be all 1's or all 0's or undefined out of its known range. My intuition says all 0's, however the current implementation of BitV seems to be \"undefined\". For instance:\n\n```\nlet mut a = BitvSet::from_bitv(bitv::from_bytes([0b00000000]));\nlet b = BitvSet::new();\nprintln!(\"{}\", a == b);\n```\n\nprints `false`.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/52409381/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/52409469",
    "html_url": "https://github.com/rust-lang/rust/issues/16542#issuecomment-52409469",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/16542",
    "id": 52409469,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyNDA5NDY5",
    "user": {
      "login": "kaseyc",
      "id": 2405952,
      "node_id": "MDQ6VXNlcjI0MDU5NTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2405952?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kaseyc",
      "html_url": "https://github.com/kaseyc",
      "followers_url": "https://api.github.com/users/kaseyc/followers",
      "following_url": "https://api.github.com/users/kaseyc/following{/other_user}",
      "gists_url": "https://api.github.com/users/kaseyc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kaseyc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kaseyc/subscriptions",
      "organizations_url": "https://api.github.com/users/kaseyc/orgs",
      "repos_url": "https://api.github.com/users/kaseyc/repos",
      "events_url": "https://api.github.com/users/kaseyc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kaseyc/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-17T00:05:54Z",
    "updated_at": "2014-08-17T00:05:54Z",
    "body": "I have a feeling that that is due to the mbits of the two being different, as BitvSet just derives Eq from Bitv:\n\nhttps://github.com/rust-lang/rust/blob/master/src/libcollections/bitv.rs#L866\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/52409469/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/52409489",
    "html_url": "https://github.com/rust-lang/rust/issues/16542#issuecomment-52409489",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/16542",
    "id": 52409489,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyNDA5NDg5",
    "user": {
      "login": "Gankra",
      "id": 1136864,
      "node_id": "MDQ6VXNlcjExMzY4NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1136864?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Gankra",
      "html_url": "https://github.com/Gankra",
      "followers_url": "https://api.github.com/users/Gankra/followers",
      "following_url": "https://api.github.com/users/Gankra/following{/other_user}",
      "gists_url": "https://api.github.com/users/Gankra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Gankra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Gankra/subscriptions",
      "organizations_url": "https://api.github.com/users/Gankra/orgs",
      "repos_url": "https://api.github.com/users/Gankra/repos",
      "events_url": "https://api.github.com/users/Gankra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Gankra/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-17T00:06:40Z",
    "updated_at": "2014-08-17T00:06:53Z",
    "body": "I suppose this could be interpreted as two BitVSets with differing (implementation defined!) sizes representing subsets of different universes, and are therefore unequal, but that's... stupid?\n\nCC @aturon: Agree that BitVSet should be changed to behave as if it was a set over all integers, and therefore internally should behave like an infinite stream of 0's outside of its known bounds?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/52409489/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/52409527",
    "html_url": "https://github.com/rust-lang/rust/issues/16542#issuecomment-52409527",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/16542",
    "id": 52409527,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyNDA5NTI3",
    "user": {
      "login": "kaseyc",
      "id": 2405952,
      "node_id": "MDQ6VXNlcjI0MDU5NTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2405952?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kaseyc",
      "html_url": "https://github.com/kaseyc",
      "followers_url": "https://api.github.com/users/kaseyc/followers",
      "following_url": "https://api.github.com/users/kaseyc/following{/other_user}",
      "gists_url": "https://api.github.com/users/kaseyc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kaseyc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kaseyc/subscriptions",
      "organizations_url": "https://api.github.com/users/kaseyc/orgs",
      "repos_url": "https://api.github.com/users/kaseyc/repos",
      "events_url": "https://api.github.com/users/kaseyc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kaseyc/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-17T00:08:56Z",
    "updated_at": "2014-08-17T00:08:56Z",
    "body": "I agree with @Gankro . A BitvSet is a set implemented using Bitv's, though they do not represent the same things, and it makes more sense for a BitvSet to act as if it is all 0's outside of the bounds.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/52409527/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/52409561",
    "html_url": "https://github.com/rust-lang/rust/issues/16542#issuecomment-52409561",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/16542",
    "id": 52409561,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyNDA5NTYx",
    "user": {
      "login": "Gankra",
      "id": 1136864,
      "node_id": "MDQ6VXNlcjExMzY4NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1136864?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Gankra",
      "html_url": "https://github.com/Gankra",
      "followers_url": "https://api.github.com/users/Gankra/followers",
      "following_url": "https://api.github.com/users/Gankra/following{/other_user}",
      "gists_url": "https://api.github.com/users/Gankra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Gankra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Gankra/subscriptions",
      "organizations_url": "https://api.github.com/users/Gankra/orgs",
      "repos_url": "https://api.github.com/users/Gankra/repos",
      "events_url": "https://api.github.com/users/Gankra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Gankra/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-17T00:10:59Z",
    "updated_at": "2014-08-17T00:31:51Z",
    "body": "Wait yeah I'm thinking of BitVSet too much in terms of BitV's. Of course it should be a set over all integers!\n\nAlthough now I'm wondering if BitV's should behave as if they were 0's forever out of sight, instead of fail horribly on OOB accesses.\n\nEdit: _Probably_ not. _Probably_.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/52409561/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/52409928",
    "html_url": "https://github.com/rust-lang/rust/issues/16542#issuecomment-52409928",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/16542",
    "id": 52409928,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyNDA5OTI4",
    "user": {
      "login": "Gankra",
      "id": 1136864,
      "node_id": "MDQ6VXNlcjExMzY4NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1136864?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Gankra",
      "html_url": "https://github.com/Gankra",
      "followers_url": "https://api.github.com/users/Gankra/followers",
      "following_url": "https://api.github.com/users/Gankra/following{/other_user}",
      "gists_url": "https://api.github.com/users/Gankra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Gankra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Gankra/subscriptions",
      "organizations_url": "https://api.github.com/users/Gankra/orgs",
      "repos_url": "https://api.github.com/users/Gankra/repos",
      "events_url": "https://api.github.com/users/Gankra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Gankra/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-17T00:33:20Z",
    "updated_at": "2014-08-17T00:33:20Z",
    "body": "CC @apoelstra\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/52409928/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/52409997",
    "html_url": "https://github.com/rust-lang/rust/issues/16542#issuecomment-52409997",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/16542",
    "id": 52409997,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyNDA5OTk3",
    "user": {
      "login": "apoelstra",
      "id": 1351933,
      "node_id": "MDQ6VXNlcjEzNTE5MzM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/apoelstra",
      "html_url": "https://github.com/apoelstra",
      "followers_url": "https://api.github.com/users/apoelstra/followers",
      "following_url": "https://api.github.com/users/apoelstra/following{/other_user}",
      "gists_url": "https://api.github.com/users/apoelstra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/apoelstra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
      "organizations_url": "https://api.github.com/users/apoelstra/orgs",
      "repos_url": "https://api.github.com/users/apoelstra/repos",
      "events_url": "https://api.github.com/users/apoelstra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/apoelstra/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-17T00:37:25Z",
    "updated_at": "2014-08-17T00:37:25Z",
    "body": "Hey all,\n\n`other_op` is carried over from the old implementation, so I'm surprised that it's causing new problems now. My recommendation is to drop it entirely, it did cause me a fair bit of pain inferring its behaviour, which apparently I did wrong :).\n\nThe correct behaviour is definitely that `BitvSet` should assume all zeros outside of the range of its underlying `Bitv`. This was the behaviour I intended when I did the cleanup.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/52409997/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/52430823",
    "html_url": "https://github.com/rust-lang/rust/issues/16542#issuecomment-52430823",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/16542",
    "id": 52430823,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyNDMwODIz",
    "user": {
      "login": "kaseyc",
      "id": 2405952,
      "node_id": "MDQ6VXNlcjI0MDU5NTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2405952?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kaseyc",
      "html_url": "https://github.com/kaseyc",
      "followers_url": "https://api.github.com/users/kaseyc/followers",
      "following_url": "https://api.github.com/users/kaseyc/following{/other_user}",
      "gists_url": "https://api.github.com/users/kaseyc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kaseyc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kaseyc/subscriptions",
      "organizations_url": "https://api.github.com/users/kaseyc/orgs",
      "repos_url": "https://api.github.com/users/kaseyc/repos",
      "events_url": "https://api.github.com/users/kaseyc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kaseyc/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-17T18:44:44Z",
    "updated_at": "2014-08-17T18:44:44Z",
    "body": "@Gankro You rock!\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/52430823/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
