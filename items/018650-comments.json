[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/61847444",
    "html_url": "https://github.com/rust-lang/rust/issues/18650#issuecomment-61847444",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18650",
    "id": 61847444,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxODQ3NDQ0",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-05T17:29:22Z",
    "updated_at": "2014-11-05T17:29:22Z",
    "body": "Hm, this seems odd. To get a handle on what's going on here, could you try compiling with `rustc` manually instead of using `cargo`? (would also help minimize). Something like this should do the trick:\n\n```\n$ rustc rstestlib/src/lib.rs --crate-name rstestlib --crate-type rlib\n$ rustc rstest/src/lib.rs -L .\n```\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/61847444/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/61938227",
    "html_url": "https://github.com/rust-lang/rust/issues/18650#issuecomment-61938227",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18650",
    "id": 61938227,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxOTM4MjI3",
    "user": {
      "login": "benanders",
      "id": 2859898,
      "node_id": "MDQ6VXNlcjI4NTk4OTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2859898?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/benanders",
      "html_url": "https://github.com/benanders",
      "followers_url": "https://api.github.com/users/benanders/followers",
      "following_url": "https://api.github.com/users/benanders/following{/other_user}",
      "gists_url": "https://api.github.com/users/benanders/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/benanders/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/benanders/subscriptions",
      "organizations_url": "https://api.github.com/users/benanders/orgs",
      "repos_url": "https://api.github.com/users/benanders/repos",
      "events_url": "https://api.github.com/users/benanders/events{/privacy}",
      "received_events_url": "https://api.github.com/users/benanders/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-06T07:46:10Z",
    "updated_at": "2014-11-06T07:46:10Z",
    "body": "Unfortunately that still fails. Here's the exact output:\n\n```\nerror: linking with `cc` failed: exit code: 1\nnote: cc '-m64' '-L' '/usr/local/lib/rustlib/x86_64-apple-darwin/lib' '-o' 'rstest' 'rstest.o' '-Wl,-force_load,/usr/local/lib/rustlib/x86_64-apple-darwin/lib/libmorestack.a' '-nodefaultlibs' '-fno-lto' '-Wl,-dead_strip' '/Users/benanderson/Desktop/rstest/librstestlib.rlib' '/usr/local/lib/rustlib/x86_64-apple-darwin/lib/libnative-4e7c5e5c.rlib' '/usr/local/lib/rustlib/x86_64-apple-darwin/lib/libstd-4e7c5e5c.rlib' '/usr/local/lib/rustlib/x86_64-apple-darwin/lib/librand-4e7c5e5c.rlib' '/usr/local/lib/rustlib/x86_64-apple-darwin/lib/libsync-4e7c5e5c.rlib' '/usr/local/lib/rustlib/x86_64-apple-darwin/lib/librustrt-4e7c5e5c.rlib' '/usr/local/lib/rustlib/x86_64-apple-darwin/lib/libcollections-4e7c5e5c.rlib' '/usr/local/lib/rustlib/x86_64-apple-darwin/lib/libunicode-4e7c5e5c.rlib' '/usr/local/lib/rustlib/x86_64-apple-darwin/lib/liballoc-4e7c5e5c.rlib' '/usr/local/lib/rustlib/x86_64-apple-darwin/lib/liblibc-4e7c5e5c.rlib' '/usr/local/lib/rustlib/x86_64-apple-darwin/lib/libcore-4e7c5e5c.rlib' '-L' '.' '-L' '/Users/benanderson/Desktop/rstest/.rust' '-L' '/Users/benanderson/Desktop/rstest' '-lSystem' '-lpthread' '-lc' '-lm' '-lcompiler-rt'\nnote: ld: warning: directory not found for option '-L/Users/benanderson/Desktop/rstest/.rust'\nld: archive has no table of contents file '/Users/benanderson/Desktop/rstest/librstestlib.rlib' for architecture x86_64\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\n\nerror: aborting due to previous error\n```\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/61938227/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62235101",
    "html_url": "https://github.com/rust-lang/rust/issues/18650#issuecomment-62235101",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18650",
    "id": 62235101,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMjM1MTAx",
    "user": {
      "login": "benanders",
      "id": 2859898,
      "node_id": "MDQ6VXNlcjI4NTk4OTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2859898?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/benanders",
      "html_url": "https://github.com/benanders",
      "followers_url": "https://api.github.com/users/benanders/followers",
      "following_url": "https://api.github.com/users/benanders/following{/other_user}",
      "gists_url": "https://api.github.com/users/benanders/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/benanders/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/benanders/subscriptions",
      "organizations_url": "https://api.github.com/users/benanders/orgs",
      "repos_url": "https://api.github.com/users/benanders/repos",
      "events_url": "https://api.github.com/users/benanders/events{/privacy}",
      "received_events_url": "https://api.github.com/users/benanders/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-08T00:23:25Z",
    "updated_at": "2014-11-08T00:23:25Z",
    "body": "So I came across this: https://github.com/tpoechtrager/osxcross/issues/11 which is someone having the exact same problem for something else, mentioning that the default archiver isn't sufficient and that x86_64-apple-darwin1X-ar needs to be used. I'm not entirely sure what this means, but does this help in any way?\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62235101/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62238281",
    "html_url": "https://github.com/rust-lang/rust/issues/18650#issuecomment-62238281",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18650",
    "id": 62238281,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMjM4Mjgx",
    "user": {
      "login": "benanders",
      "id": 2859898,
      "node_id": "MDQ6VXNlcjI4NTk4OTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2859898?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/benanders",
      "html_url": "https://github.com/benanders",
      "followers_url": "https://api.github.com/users/benanders/followers",
      "following_url": "https://api.github.com/users/benanders/following{/other_user}",
      "gists_url": "https://api.github.com/users/benanders/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/benanders/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/benanders/subscriptions",
      "organizations_url": "https://api.github.com/users/benanders/orgs",
      "repos_url": "https://api.github.com/users/benanders/repos",
      "events_url": "https://api.github.com/users/benanders/events{/privacy}",
      "received_events_url": "https://api.github.com/users/benanders/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-08T01:05:42Z",
    "updated_at": "2014-11-08T01:05:42Z",
    "body": "I just tried to build Rust from the source, and I also get a bunch of `file was built for archive which is not the architecture being linked` errors:\n\n```\nld: warning: ignoring file /Users/benanderson/Desktop/test/rust/x86_64-apple-darwin/llvm/Release+Asserts/lib/libLLVMBitWriter.a, file was built for archive which is not the architecture being linked (x86_64): /Users/benanderson/Desktop/test/rust/x86_64-apple-darwin/llvm/Release+Asserts/lib/libLLVMBitWriter.a\nld: warning: ignoring file /Users/benanderson/Desktop/test/rust/x86_64-apple-darwin/llvm/Release+Asserts/lib/libLLVMipo.a, file was built for archive which is not the architecture being linked (x86_64): /Users/benanderson/Desktop/test/rust/x86_64-apple-darwin/llvm/Release+Asserts/lib/libLLVMipo.a\nld: warning: ignoring file /Users/benanderson/Desktop/test/rust/x86_64-apple-darwin/llvm/Release+Asserts/lib/libLLVMProfileData.a, file was built for archive which is not the architecture being linked (x86_64): /Users/benanderson/Desktop/test/rust/x86_64-apple-darwin/llvm/Release+Asserts/lib/libLLVMProfileData.a\nld: warning: ignoring file /Users/benanderson/Desktop/test/rust/x86_64-apple-darwin/llvm/Release+Asserts/lib/libLLVMBitReader.a, file was built for archive which is not the architecture being linked (x86_64): /Users/benanderson/Desktop/test/rust/x86_64-apple-darwin/llvm/Release+Asserts/lib/libLLVMBitReader.a\nld: warning: ignoring file /Users/benanderson/Desktop/test/rust/x86_64-apple-darwin/llvm/Release+Asserts/lib/libLLVMInstCombine.a, file was built for archive which is not the architecture being linked (x86_64): /Users/benanderson/Desktop/test/rust/x86_64-apple-darwin/llvm/Release+Asserts/lib/libLLVMInstCombine.a\nld: warning: ignoring file /Users/benanderson/Desktop/test/rust/x86_64-apple-darwin/llvm/Release+Asserts/lib/libLLVMAnalysis.a, file was built for archive which is not the architecture being linked (x86_64): /Users/benanderson/Desktop/test/rust/x86_64-apple-darwin/llvm/Release+Asserts/lib/libLLVMAnalysis.a\nld: warning: ignoring file /Users/benanderson/Desktop/test/rust/x86_64-apple-darwin/llvm/Release+Asserts/lib/libLLVMMC.a, file was built for archive which is not the architecture being linked (x86_64): /Users/benanderson/Desktop/test/rust/x86_64-apple-darwin/llvm/Release+Asserts/lib/libLLVMMC.a\n```\n\nIs this best off in a separate issue?\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62238281/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62514397",
    "html_url": "https://github.com/rust-lang/rust/issues/18650#issuecomment-62514397",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18650",
    "id": 62514397,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyNTE0Mzk3",
    "user": {
      "login": "benanders",
      "id": 2859898,
      "node_id": "MDQ6VXNlcjI4NTk4OTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2859898?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/benanders",
      "html_url": "https://github.com/benanders",
      "followers_url": "https://api.github.com/users/benanders/followers",
      "following_url": "https://api.github.com/users/benanders/following{/other_user}",
      "gists_url": "https://api.github.com/users/benanders/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/benanders/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/benanders/subscriptions",
      "organizations_url": "https://api.github.com/users/benanders/orgs",
      "repos_url": "https://api.github.com/users/benanders/repos",
      "events_url": "https://api.github.com/users/benanders/events{/privacy}",
      "received_events_url": "https://api.github.com/users/benanders/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-11T08:06:52Z",
    "updated_at": "2014-11-11T08:08:33Z",
    "body": "More info from the latest rust version:\n\n```\nld: archive has no table of contents file '/Users/benanderson/workspace/rust/test/target/deps/libtestlib-79bbf85880b0bfea.rlib' for architecture x86_64\n0  0x10573ab51  __assert_rtn + 144\n1  0x10578b8ce  ld::tool::InputFiles::waitForInputFiles() + 0\n2  0x7fff894ee2fc  _pthread_body + 131\n3  0x7fff894ee279  _pthread_body + 0\nA linker snapshot was created at:\n    (null)\nld: Assertion failed: (slot < (int)files.size()), function parseWorkerThread, file /SourceCache/ld64/ld64-241.9/src/ld/InputFiles.cpp, line 920.\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\n\nerror: aborting due to previous error\nCould not compile `hello_world`.\n```\n\nI also just downloaded Rust 0.12 rather than the latest nightly, and I get the same error, so it's something environmental causing it, not Rust itself. Any ideas anyone? I'm a bit desparate now.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62514397/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/63209867",
    "html_url": "https://github.com/rust-lang/rust/issues/18650#issuecomment-63209867",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18650",
    "id": 63209867,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzMjA5ODY3",
    "user": {
      "login": "benanders",
      "id": 2859898,
      "node_id": "MDQ6VXNlcjI4NTk4OTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2859898?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/benanders",
      "html_url": "https://github.com/benanders",
      "followers_url": "https://api.github.com/users/benanders/followers",
      "following_url": "https://api.github.com/users/benanders/following{/other_user}",
      "gists_url": "https://api.github.com/users/benanders/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/benanders/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/benanders/subscriptions",
      "organizations_url": "https://api.github.com/users/benanders/orgs",
      "repos_url": "https://api.github.com/users/benanders/repos",
      "events_url": "https://api.github.com/users/benanders/events{/privacy}",
      "received_events_url": "https://api.github.com/users/benanders/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-16T08:20:12Z",
    "updated_at": "2014-11-16T08:20:12Z",
    "body": "So this turns out to be a completely environmental issue. There were a bunch of duplicate files of system programs (like ls, mv, etc...). Removing them got rust to work again!\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/63209867/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
