[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46337122",
    "html_url": "https://github.com/rust-lang/rust/issues/14973#issuecomment-46337122",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14973",
    "id": 46337122,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MzM3MTIy",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-06-17T17:15:00Z",
    "updated_at": "2014-06-17T17:15:00Z",
    "body": "I would be willing to mentor this.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46337122/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/55974410",
    "html_url": "https://github.com/rust-lang/rust/issues/14973#issuecomment-55974410",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14973",
    "id": 55974410,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1OTc0NDEw",
    "user": {
      "login": "gamazeps",
      "id": 4716134,
      "node_id": "MDQ6VXNlcjQ3MTYxMzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4716134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gamazeps",
      "html_url": "https://github.com/gamazeps",
      "followers_url": "https://api.github.com/users/gamazeps/followers",
      "following_url": "https://api.github.com/users/gamazeps/following{/other_user}",
      "gists_url": "https://api.github.com/users/gamazeps/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gamazeps/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gamazeps/subscriptions",
      "organizations_url": "https://api.github.com/users/gamazeps/orgs",
      "repos_url": "https://api.github.com/users/gamazeps/repos",
      "events_url": "https://api.github.com/users/gamazeps/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gamazeps/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-09-17T23:05:34Z",
    "updated_at": "2014-09-18T09:03:22Z",
    "body": "On it :)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/55974410/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/56111055",
    "html_url": "https://github.com/rust-lang/rust/issues/14973#issuecomment-56111055",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14973",
    "id": 56111055,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2MTExMDU1",
    "user": {
      "login": "gamazeps",
      "id": 4716134,
      "node_id": "MDQ6VXNlcjQ3MTYxMzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4716134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gamazeps",
      "html_url": "https://github.com/gamazeps",
      "followers_url": "https://api.github.com/users/gamazeps/followers",
      "following_url": "https://api.github.com/users/gamazeps/following{/other_user}",
      "gists_url": "https://api.github.com/users/gamazeps/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gamazeps/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gamazeps/subscriptions",
      "organizations_url": "https://api.github.com/users/gamazeps/orgs",
      "repos_url": "https://api.github.com/users/gamazeps/repos",
      "events_url": "https://api.github.com/users/gamazeps/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gamazeps/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-09-18T22:13:37Z",
    "updated_at": "2014-09-18T22:13:37Z",
    "body": "@pnkfelix I've been looking around the code, and I have to admit that I don't really know by what to start, would you happen to have any advice ? \n(I'm avaible on IRC if you are,  with the same nick ;) )\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/56111055/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/56158683",
    "html_url": "https://github.com/rust-lang/rust/issues/14973#issuecomment-56158683",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14973",
    "id": 56158683,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2MTU4Njgz",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-09-19T10:00:09Z",
    "updated_at": "2014-09-19T10:00:09Z",
    "body": "This is roughly what I had in mind:\n1. Remove the ty_bot variant.\n2. Function return types become `Option<ty::t>` instead of `ty::t` -- this is because we used to use `ty_bot` to communicate `!` return type, but now we would use `None` (or perhaps a custom enum would be clearer, but anyway you get the idea). You need an analogous change to the AST. (*)\n3. Wherever we would _create_ a ty_bot -- that is, call ty::mk_bot() -- we replace that with a new inference variable (`fcx.new_inference_var()`).\n\nI'm not sure what the fallout will be -- I can imagine that some of those new inference variables will wind up being unconstrained, leading to type checking errors. We can tackle that problem when we come to it I guess. For one thing, at some point, we should probably _allow_ unconstrained type variables anyway, since they don't really hurt anybody afaik. But even if we don't want to do that more generally, we could at least allow _these_ type variables to be unconstrained (that is, unify them with `()`). The defaulting mechanism proposed in rust-lang/rfcs#213 would be perfect for this (not yet implemented, of course).\n\n(*) This is actually how the AST used to be structured. For all I know, it may still be structured that way.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/56158683/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/56274782",
    "html_url": "https://github.com/rust-lang/rust/issues/14973#issuecomment-56274782",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14973",
    "id": 56274782,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2Mjc0Nzgy",
    "user": {
      "login": "ghost",
      "id": 10137,
      "node_id": "MDQ6VXNlcjEwMTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ghost",
      "html_url": "https://github.com/ghost",
      "followers_url": "https://api.github.com/users/ghost/followers",
      "following_url": "https://api.github.com/users/ghost/following{/other_user}",
      "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
      "organizations_url": "https://api.github.com/users/ghost/orgs",
      "repos_url": "https://api.github.com/users/ghost/repos",
      "events_url": "https://api.github.com/users/ghost/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ghost/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-09-20T17:43:05Z",
    "updated_at": "2014-09-20T22:01:16Z",
    "body": "I should say I investigated removing ty_bot from the type system in the past and found that it may be rather impractical.\n\nSpecifically, in the following program:\n\n``` rust\nfn f(v: Vec<uint>) {\n    for x in v.iter() {\n        let y: uint = if x > 0 {\n            break;\n        } else {\n            42u\n        };\n        println!(\"{}\", y);\n    }\n}\n```\n\nthere'd be no obvious way of unifying the two branches (`if` and `else`). Or rather, specifically, on what basis would the type of the first `if` block be unconstrained? If we defaulted to () for that block, the types wouldn't unify.\n\nI think it'd be possible to make it so that inference would look for all \"diverging\" constructs to decide the types of which branches it needs to unify but that seems to defeat the purpose.\n\nThoughts, @nikomatsakis?\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/56274782/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/56498947",
    "html_url": "https://github.com/rust-lang/rust/issues/14973#issuecomment-56498947",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14973",
    "id": 56498947,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2NDk4OTQ3",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-09-23T10:12:50Z",
    "updated_at": "2014-09-23T10:12:50Z",
    "body": "On Sat, Sep 20, 2014 at 10:43:08AM -0700, Jakub Wieczorek wrote:\n\n> I should say I investigated removing ty_bot from the type system in the past and found that it may be rather impractical.\n> \n> Specifically, in the following program:\n> \n> ```\n> fn main(v: Vec<uint>) {\n>     for x in v.iter() {\n>         let x: uint = if true {\n>             break;\n>         } else {\n>             42u\n>         }\n>     }\n> }\n> ```\n> \n> there'd be no obvious way of unifying the two branches (`if` and `else`).\n\nThe usual way is to create a fresh type variable as the result of the `if` branch,\nwhich will then unify with anything. Do you think that will not work?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/56498947/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/56543060",
    "html_url": "https://github.com/rust-lang/rust/issues/14973#issuecomment-56543060",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14973",
    "id": 56543060,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2NTQzMDYw",
    "user": {
      "login": "ghost",
      "id": 10137,
      "node_id": "MDQ6VXNlcjEwMTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ghost",
      "html_url": "https://github.com/ghost",
      "followers_url": "https://api.github.com/users/ghost/followers",
      "following_url": "https://api.github.com/users/ghost/following{/other_user}",
      "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
      "organizations_url": "https://api.github.com/users/ghost/orgs",
      "repos_url": "https://api.github.com/users/ghost/repos",
      "events_url": "https://api.github.com/users/ghost/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ghost/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-09-23T15:57:21Z",
    "updated_at": "2014-09-23T15:57:40Z",
    "body": "> The usual way is to create a fresh type variable as the result of the `if` branch,\n> which will then unify with anything. Do you think that will not work?\n\nBut there's ambiguity in whether a type variable originates in computation diverging or if it's truly unconstrained. For example, with your plan implemented the following two programs would type check the same way:\n\n``` rust\nif x > 0 {\n    Default::default();\n    ()\n} else {\n    42u\n}\n```\n\n``` rust\nif x > 0 {\n    break;\n} else {\n    42u\n}\n```\n\nWhereas it seems the first one should not type check.\n\nSpecifically, any time the type of a statement in a block is unconstrained, the block itself would unify with anything. That seems like it'd be way too permissive and dangerous.\n\nI may be completely off here but it doesn't seem like type variables give us the sort of nice propagation rules that ty_bot has. Not that I'm particularly fond of ty_bot...\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/56543060/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/56825725",
    "html_url": "https://github.com/rust-lang/rust/issues/14973#issuecomment-56825725",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14973",
    "id": 56825725,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2ODI1NzI1",
    "user": {
      "login": "gamazeps",
      "id": 4716134,
      "node_id": "MDQ6VXNlcjQ3MTYxMzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4716134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gamazeps",
      "html_url": "https://github.com/gamazeps",
      "followers_url": "https://api.github.com/users/gamazeps/followers",
      "following_url": "https://api.github.com/users/gamazeps/following{/other_user}",
      "gists_url": "https://api.github.com/users/gamazeps/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gamazeps/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gamazeps/subscriptions",
      "organizations_url": "https://api.github.com/users/gamazeps/orgs",
      "repos_url": "https://api.github.com/users/gamazeps/repos",
      "events_url": "https://api.github.com/users/gamazeps/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gamazeps/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-09-25T14:23:13Z",
    "updated_at": "2014-09-25T14:23:13Z",
    "body": "Soooooo ...\nIs this considered doable or should I move to another issue ?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/56825725/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/56826770",
    "html_url": "https://github.com/rust-lang/rust/issues/14973#issuecomment-56826770",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14973",
    "id": 56826770,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2ODI2Nzcw",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-09-25T14:29:35Z",
    "updated_at": "2014-09-25T14:29:35Z",
    "body": "@gamazeps it seems to me that if you understand the conversation above, and want to still look into following the path outlined by @nikomatsakis in the comments above, then you should feel free to try.  I myself would not want to close this issue until I have a chance to look into @jakub- 's examples carefully (I do not yet see why he claims that his first example would type-check under the plan).\n\nBut nonetheless, feel free to move on to another issue, since this one clearly may be more difficult than I had anticipated.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/56826770/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/56958569",
    "html_url": "https://github.com/rust-lang/rust/issues/14973#issuecomment-56958569",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14973",
    "id": 56958569,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2OTU4NTY5",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-09-26T13:06:43Z",
    "updated_at": "2014-09-26T13:06:43Z",
    "body": "@jakub- I do not understand why you say that this program would type check:\n\n```\nif x > 0 {\n    Default::default();\n    ()\n} else {\n    42u\n}\n```\n\nCan you clarify? For one thing, there is no bottom type involved here?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/56958569/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/56958812",
    "html_url": "https://github.com/rust-lang/rust/issues/14973#issuecomment-56958812",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14973",
    "id": 56958812,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2OTU4ODEy",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-09-26T13:08:59Z",
    "updated_at": "2014-09-26T13:08:59Z",
    "body": "> Specifically, any time the type of a statement in a block is unconstrained, the block itself would unify with anything. That seems like it'd be way too permissive and dangerous.\n\nI think there is some misunderstanding. The bottom type is only \"created\" in the following situations:\n1. The type of a `return`, `break`, `continue`\n2. Invoking a function declared as `-> !`\n\nIt reflects the fact that control flow will never reach that point. I am proposing that we use a fresh type variable in these situations.\n\nThe bottom type is already considered, well, the _bottom_ of the type lattice. This means that it is assignable to any other type (that is, `bottom <: T` is true for all `T`). In a sense, this means it \"unifies with all other types\" just as a fresh type variable would. If anything, I expect there may be scenarios where a fresh type variable to be slightly _less_ permissive, as it can only be unified _once_.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/56958812/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/56986408",
    "html_url": "https://github.com/rust-lang/rust/issues/14973#issuecomment-56986408",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14973",
    "id": 56986408,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2OTg2NDA4",
    "user": {
      "login": "ghost",
      "id": 10137,
      "node_id": "MDQ6VXNlcjEwMTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ghost",
      "html_url": "https://github.com/ghost",
      "followers_url": "https://api.github.com/users/ghost/followers",
      "following_url": "https://api.github.com/users/ghost/following{/other_user}",
      "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
      "organizations_url": "https://api.github.com/users/ghost/orgs",
      "repos_url": "https://api.github.com/users/ghost/repos",
      "events_url": "https://api.github.com/users/ghost/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ghost/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-09-26T16:37:19Z",
    "updated_at": "2014-09-26T16:38:01Z",
    "body": "After an IRC discussion with @nikomatsakis I can happily say I've been proven wrong and that the plan is workable. One thing that remains to be seen is how the new rules will affect expressions such as `{ return 42; }` or `{ fail!(\":(\"); }`, where the diverging expression appears in the trailing statement of the block as opposed to the trailing expression itself. It seems like the fall out from the discussed change will be that this class of programs will break and will have to be converted, respectively, to `{ return 42 }` and `{ fail!(\":(\") }` unless, as an ergonomic measure, we incorporate some sort of special treatment for trailing statements.\n\n@gamazeps, I think this is definitely doable and my alarm was unwarranted. :) Please feel free to proceed if you're still interested in implementing this and I'm more than happy to assist.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/56986408/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/56994507",
    "html_url": "https://github.com/rust-lang/rust/issues/14973#issuecomment-56994507",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14973",
    "id": 56994507,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2OTk0NTA3",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-09-26T17:39:03Z",
    "updated_at": "2014-09-26T17:39:03Z",
    "body": "I don't think there is any reason that those programs have to break, but it is perhaps more refactoring than I imagined initially to keep them working.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/56994507/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/56994618",
    "html_url": "https://github.com/rust-lang/rust/issues/14973#issuecomment-56994618",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14973",
    "id": 56994618,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2OTk0NjE4",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-09-26T17:39:38Z",
    "updated_at": "2014-09-26T17:39:38Z",
    "body": "In particular, the type checker would potentially have to track whether something diverges or not separately from its type, though of course we could take a different approach like marking the type variables in question in some special way.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/56994618/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
