[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/72334923",
    "html_url": "https://github.com/rust-lang/rust/pull/21809#issuecomment-72334923",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21809",
    "id": 72334923,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyMzM0OTIz",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-31T20:27:30Z",
    "updated_at": "2015-01-31T20:27:30Z",
    "body": "@bors: r+ c3841b9\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/72334923/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/72359058",
    "html_url": "https://github.com/rust-lang/rust/pull/21809#issuecomment-72359058",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21809",
    "id": 72359058,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyMzU5MDU4",
    "user": {
      "login": "bors",
      "id": 3372342,
      "node_id": "MDQ6VXNlcjMzNzIzNDI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bors",
      "html_url": "https://github.com/bors",
      "followers_url": "https://api.github.com/users/bors/followers",
      "following_url": "https://api.github.com/users/bors/following{/other_user}",
      "gists_url": "https://api.github.com/users/bors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bors/subscriptions",
      "organizations_url": "https://api.github.com/users/bors/orgs",
      "repos_url": "https://api.github.com/users/bors/repos",
      "events_url": "https://api.github.com/users/bors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bors/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-02-01T10:14:52Z",
    "updated_at": "2015-02-01T10:14:52Z",
    "body": ":hourglass: Testing commit c3841b9 with merge f1f9cb7...\n",
    "author_association": "COLLABORATOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/72359058/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/72359706",
    "html_url": "https://github.com/rust-lang/rust/pull/21809#issuecomment-72359706",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21809",
    "id": 72359706,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyMzU5NzA2",
    "user": {
      "login": "tbu-",
      "id": 6666593,
      "node_id": "MDQ6VXNlcjY2NjY1OTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6666593?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tbu-",
      "html_url": "https://github.com/tbu-",
      "followers_url": "https://api.github.com/users/tbu-/followers",
      "following_url": "https://api.github.com/users/tbu-/following{/other_user}",
      "gists_url": "https://api.github.com/users/tbu-/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tbu-/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tbu-/subscriptions",
      "organizations_url": "https://api.github.com/users/tbu-/orgs",
      "repos_url": "https://api.github.com/users/tbu-/repos",
      "events_url": "https://api.github.com/users/tbu-/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tbu-/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-02-01T10:39:57Z",
    "updated_at": "2015-02-01T10:39:57Z",
    "body": "@japaric `Range` and `RangeFrom` aren't only iterators, they're also used in indexing etc. The better solution for this is probably for `Range` to implement `into_iterator`.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/72359706/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/72359837",
    "html_url": "https://github.com/rust-lang/rust/pull/21809#issuecomment-72359837",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21809",
    "id": 72359837,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyMzU5ODM3",
    "user": {
      "login": "bluss",
      "id": 3209739,
      "node_id": "MDQ6VXNlcjMyMDk3Mzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3209739?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bluss",
      "html_url": "https://github.com/bluss",
      "followers_url": "https://api.github.com/users/bluss/followers",
      "following_url": "https://api.github.com/users/bluss/following{/other_user}",
      "gists_url": "https://api.github.com/users/bluss/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bluss/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bluss/subscriptions",
      "organizations_url": "https://api.github.com/users/bluss/orgs",
      "repos_url": "https://api.github.com/users/bluss/repos",
      "events_url": "https://api.github.com/users/bluss/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bluss/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-02-01T10:44:51Z",
    "updated_at": "2015-02-01T10:44:51Z",
    "body": "This hurts the use of range in other APIs, as planned by std::rand (where it ends up) and collections.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/72359837/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/72363893",
    "html_url": "https://github.com/rust-lang/rust/pull/21809#issuecomment-72363893",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21809",
    "id": 72363893,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyMzYzODkz",
    "user": {
      "login": "bors",
      "id": 3372342,
      "node_id": "MDQ6VXNlcjMzNzIzNDI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bors",
      "html_url": "https://github.com/bors",
      "followers_url": "https://api.github.com/users/bors/followers",
      "following_url": "https://api.github.com/users/bors/following{/other_user}",
      "gists_url": "https://api.github.com/users/bors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bors/subscriptions",
      "organizations_url": "https://api.github.com/users/bors/orgs",
      "repos_url": "https://api.github.com/users/bors/repos",
      "events_url": "https://api.github.com/users/bors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bors/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-02-01T13:01:56Z",
    "updated_at": "2015-02-01T13:01:56Z",
    "body": ":sunny: Test successful - [auto-linux-32-nopt-t](http://buildbot.rust-lang.org/builders/auto-linux-32-nopt-t/builds/3385), [auto-linux-32-opt](http://buildbot.rust-lang.org/builders/auto-linux-32-opt/builds/3386), [auto-linux-64-nopt-t](http://buildbot.rust-lang.org/builders/auto-linux-64-nopt-t/builds/3381), [auto-linux-64-opt](http://buildbot.rust-lang.org/builders/auto-linux-64-opt/builds/3389), [auto-linux-64-x-android-t](http://buildbot.rust-lang.org/builders/auto-linux-64-x-android-t/builds/3365), [auto-mac-32-opt](http://buildbot.rust-lang.org/builders/auto-mac-32-opt/builds/3402), [auto-mac-64-nopt-t](http://buildbot.rust-lang.org/builders/auto-mac-64-nopt-t/builds/3396), [auto-mac-64-opt](http://buildbot.rust-lang.org/builders/auto-mac-64-opt/builds/3392), [auto-win-32-nopt-t](http://buildbot.rust-lang.org/builders/auto-win-32-nopt-t/builds/3053), [auto-win-32-opt](http://buildbot.rust-lang.org/builders/auto-win-32-opt/builds/3051), [auto-win-64-nopt-t](http://buildbot.rust-lang.org/builders/auto-win-64-nopt-t/builds/1882), [auto-win-64-opt](http://buildbot.rust-lang.org/builders/auto-win-64-opt/builds/1890)\n",
    "author_association": "COLLABORATOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/72363893/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/72364269",
    "html_url": "https://github.com/rust-lang/rust/pull/21809#issuecomment-72364269",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21809",
    "id": 72364269,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyMzY0MjY5",
    "user": {
      "login": "ranma42",
      "id": 1506030,
      "node_id": "MDQ6VXNlcjE1MDYwMzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1506030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ranma42",
      "html_url": "https://github.com/ranma42",
      "followers_url": "https://api.github.com/users/ranma42/followers",
      "following_url": "https://api.github.com/users/ranma42/following{/other_user}",
      "gists_url": "https://api.github.com/users/ranma42/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ranma42/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ranma42/subscriptions",
      "organizations_url": "https://api.github.com/users/ranma42/orgs",
      "repos_url": "https://api.github.com/users/ranma42/repos",
      "events_url": "https://api.github.com/users/ranma42/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ranma42/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-02-01T13:13:59Z",
    "updated_at": "2015-02-01T13:13:59Z",
    "body": "Right now `RangeTo` and `RangeFull` are `Copy`, but `Range` and `RangeFrom` are not. Is this intentional?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/72364269/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/72372377",
    "html_url": "https://github.com/rust-lang/rust/pull/21809#issuecomment-72372377",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21809",
    "id": 72372377,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyMzcyMzc3",
    "user": {
      "login": "japaric",
      "id": 5018213,
      "node_id": "MDQ6VXNlcjUwMTgyMTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5018213?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/japaric",
      "html_url": "https://github.com/japaric",
      "followers_url": "https://api.github.com/users/japaric/followers",
      "following_url": "https://api.github.com/users/japaric/following{/other_user}",
      "gists_url": "https://api.github.com/users/japaric/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/japaric/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/japaric/subscriptions",
      "organizations_url": "https://api.github.com/users/japaric/orgs",
      "repos_url": "https://api.github.com/users/japaric/repos",
      "events_url": "https://api.github.com/users/japaric/events{/privacy}",
      "received_events_url": "https://api.github.com/users/japaric/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-02-01T16:50:44Z",
    "updated_at": "2015-02-01T16:50:44Z",
    "body": "@tbu- \n\n> Range and RangeFrom aren't only iterators, they're also used in indexing etc.\n\nYes, they are heavily used for slicing in the whole rust repo, and as evidenced by this PR, it wasn't necessary to explictly clone any range at all, which means that the implicitly copyable property of ranges wasn't used in the whole repository. (Of course, we can't extrapolate this to all the other existing libraries, but it's worth noting)\n\n> The better solution for this is probably for Range to implement into_iterator.\n\nThat would hurt the ergonomics of the `Vec::from_elem` replacement:\n\n``` rust\n// from\nlet v = (a..b).map(f).collect::<Vec<_>>();\n// to\nuse std::iter::IntoIterator;\nlet v = (a..b).into_iter().map(f).collect::<Vec<_>>();\n```\n\n@bluss\n\n> This hurts the use of range in other APIs, as planned by std::rand (where it ends up) and collections.\n\nCould you show me an example on how non implictly copyable ranges would hurt the ergonomics of these planned APIs? I'd like to better understand the situation.\n\nI don't know the exact API that will be added, but IIRC one of them was using range with `Vec::remove`. I can see this happen:\n\n``` rust\n// with implicit copy\nlet range = a..b;\nv1.remove(range);\nv2.remove(range);\n// without implict copy (today)\nlet range = a..b;\nv1.remove(range.clone());\nv2.remove(range);\n// however, I think it would be clearer to do\nv1.remove(a..b);\nv2.remove(a..b);\n// which doesn't require an implicit copy\n```\n\n@ranma42 \n\n> Right now RangeTo and RangeFull are Copy, but Range and RangeFrom are not. Is this intentional?\n\nYes, structs that implement `Iterator` should not be implictly copyable.\n\n---\n\nTo give some background. When I was implementing the new for-loops which take the iterator by value. The implictly copyability of iterators was causing several collections tests to SIGILL and broke some `demangle` function. I figured out _what_ the problem was:\n\nThe new for-loops changed the semantics of the following pattern:\n\n``` rust\n// original code\nfor x in it {  // a *copy* of the iterator is used here\n    // ..\n}\n\nmatch it.next() {  // the original iterator is used here\n    // ..\n}\n```\n\nWhen the intended behaviour was:\n\n``` rust\nfor x in it.by_ref() {  // advance the iterator\n    // ..\n}\n\nmatch it.next() {  // reuse the mutated iterator\n    // ..\n}\n```\n\nBut I didn't know _where_ the problems were. The fastest way to find the bugs was to make the iterators non-implictly copyable, that way the original code would error at compile time with `it.next()  error: it has been moved`. After doing that, I managed to fix all the bugs.\n\nMy original plan was to fix the bugs, then make the iterators implicitly copyable again and defer the decision of whether iterators should be implictly copyable to a later date. But after discussing with the core devs, they told me that they wanted to make iterators non-implictly copyable anyways, so I went ahead with that.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/72372377/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
