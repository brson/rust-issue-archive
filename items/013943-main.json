{
  "url": "https://api.github.com/repos/rust-lang/rust/issues/13943",
  "repository_url": "https://api.github.com/repos/rust-lang/rust",
  "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/13943/labels{/name}",
  "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/13943/comments",
  "events_url": "https://api.github.com/repos/rust-lang/rust/issues/13943/events",
  "html_url": "https://github.com/rust-lang/rust/pull/13943",
  "id": 32784375,
  "node_id": "MDExOlB1bGxSZXF1ZXN0MTU1MjQ3ODg=",
  "number": 13943,
  "title": "ICE: index is out of bounds",
  "user": {
    "login": "richo",
    "id": 476418,
    "node_id": "MDQ6VXNlcjQ3NjQxOA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/476418?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/richo",
    "html_url": "https://github.com/richo",
    "followers_url": "https://api.github.com/users/richo/followers",
    "following_url": "https://api.github.com/users/richo/following{/other_user}",
    "gists_url": "https://api.github.com/users/richo/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/richo/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/richo/subscriptions",
    "organizations_url": "https://api.github.com/users/richo/orgs",
    "repos_url": "https://api.github.com/users/richo/repos",
    "events_url": "https://api.github.com/users/richo/events{/privacy}",
    "received_events_url": "https://api.github.com/users/richo/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "labels": [
    {
      "id": 9618520,
      "node_id": "MDU6TGFiZWw5NjE4NTIw",
      "url": "https://api.github.com/repos/rust-lang/rust/labels/I-ICE",
      "name": "I-ICE",
      "color": "e10c02",
      "default": false,
      "description": "Issue: The compiler panicked, giving an Internal Compilation Error (ICE) \u2744\ufe0f"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [],
  "milestone": null,
  "comments": 9,
  "created_at": "2014-05-05T02:51:23Z",
  "updated_at": "2014-06-19T19:40:07Z",
  "closed_at": "2014-05-19T20:17:49Z",
  "author_association": "CONTRIBUTOR",
  "type": null,
  "active_lock_reason": null,
  "draft": false,
  "pull_request": {
    "url": "https://api.github.com/repos/rust-lang/rust/pulls/13943",
    "html_url": "https://github.com/rust-lang/rust/pull/13943",
    "diff_url": "https://github.com/rust-lang/rust/pull/13943.diff",
    "patch_url": "https://github.com/rust-lang/rust/pull/13943.patch",
    "merged_at": null
  },
  "body": "Full error:\n\n```\nerror: internal compiler error: unexpected failure\nnote: the compiler hit an unexpected failure path. this is a bug.\nnote: we would appreciate a bug report: http://static.rust-lang.org/doc/master/complement-bugreport.html\nnote: run with `RUST_BACKTRACE=1` for a backtrace\ntask 'rustc' failed at 'index out of bounds: the len is 0 but the index is 0', /Users/richo/code/ext/rust/src/librustc/lib.rs:1\nstack backtrace:\n   1:        0x10e056454 - rt::backtrace::imp::write::h83295a134654bcb25Ea::v0.11.pre\n   2:        0x10dfaa9de - rt::unwind::begin_unwind_inner::hc38c28c2cd3ae771bfa::v0.11.pre\n   3:        0x10dfaa168 - rt::unwind::begin_unwind::h2730927107001630441::v0.11.pre\n   4:        0x10e055f19 - rt::unwind::begin_unwind_raw::h306590fe88d36375kca::v0.11.pre\n   5:        0x10dfa93de - rt::unwind::fail_::hd63985b95168120aY99::v0.11.pre\n   6:        0x10e055f62 - rt::unwind::fail_bounds_check::closure.40451\n   7:        0x10dfab4ee - rt::unwind::fail_bounds_check::h26f221f8cf2bcc37laa::v0.11.pre\n   8:        0x10b5e6689 - middle::typeck::check::method::LookupContext<'a>::push_bound_candidates::closure.65727\n   9:        0x10b5e4c0a - middle::typeck::check::autoderef::h13135548454059641069::v0.11.pre\n  10:        0x10b5e17a3 - middle::typeck::check::method::LookupContext<'a>::push_bound_candidates::hb51fd0fa2d0bb0cbP84::v0.11.pre\n  11:        0x10b5e1a61 - middle::typeck::check::method::lookup_in_trait::h812eab9d072e657dtR4::v0.11.pre\n  12:        0x10b5e2736 - middle::typeck::check::try_overloaded_deref::h14b178c47821eb9d3T8::v0.11.pre\n  13:        0x10b5e4d34 - middle::typeck::check::autoderef::h13135548454059641069::v0.11.pre\n  14:        0x10b5dffdb - middle::typeck::check::method::lookup::h959563854274ea31sK4::v0.11.pre\n  15:        0x10b621953 - middle::typeck::check::check_expr_with_unifier::h38c3cedd0d5855f2fo9::v0.11.pre\n  16:        0x10b57791e - middle::typeck::check::_match::check_match::h200da26bbf4c03bdVbZ::v0.11.pre\n  17:        0x10b622313 - middle::typeck::check::check_expr_with_unifier::h38c3cedd0d5855f2fo9::v0.11.pre\n  18:        0x10b60079c - middle::typeck::check::check_block_with_expected::h278a16eaf6104785sLb::v0.11.pre\n  19:        0x10b5fbb09 - middle::typeck::check::check_fn::hf8fb603f939ec40btd7::v0.11.pre\n  20:        0x10b5fb33a - middle::typeck::check::check_bare_fn::h31db39b42163c378k36::v0.11.pre\n  21:        0x10b5f354e - middle::typeck::check::check_item::h9aec93d2daba64f8Hz7::v0.11.pre\n  22:        0x10b5fb0bd - middle::typeck::check::check_item_types::h15c7ff25086978eaC26::v0.11.pre\n  23:        0x10b73da0f - util::common::time::h5306111628350992853::v0.11.pre\n  24:        0x10b73c93d - middle::typeck::check_crate::h32079f61ae4627d9Czu::v0.11.pre\n  25:        0x10bb45a11 - driver::driver::phase_3_run_analysis_passes::hec78e69f36698c2dmsf::v0.11.pre\n  26:        0x10bb4b462 - driver::driver::compile_input::hf2bc71d67063a45exRf::v0.11.pre\n  27:        0x10bb71ab7 - run_compiler::h6e7451d32e4a45f8bln::v0.11.pre\n  28:        0x10bb89a0d - main_args::closure.91252\n  29:        0x10bb87da2 - monitor::closure.91127\n  30:        0x10bb8298b - task::TaskBuilder::try::closure.90893\n  31:        0x10dc6d06c - task::spawn_opts::closure.7136\n  32:        0x10e04c458 - rt::task::Task::run::closure.40348\n  33:        0x10e05b66c - rust_try\n  34:        0x10e04c2d7 - rt::task::Task::run::h831eee15d405de45L57::v0.11.pre\n  35:        0x10dc6ceef - task::spawn_opts::closure.7108\n  36:        0x10e054e26 - rt::thread::thread_start::h6c71e4c659c05bcaYK8::v0.11.pre\n  37:     0x7fff92226899 - _pthread_body\n  38:     0x7fff9222672a - _pthread_struct_init\n```\n\nThe code I was compiling is:\n\n``` rust\n#![crate_id = \"charge\"]\n\nextern crate stripe;\nextern crate http;\n\nuse std::io;\n\nfn input(prompt: ~str) -> ~str {\n    let output = io::stdout();\n    let reader = io::stdin();\n\n    output.write(prompt.as_bytes());\n\n    match reader.read_line() {\n        Some(line) => line.unwrap(),\n        Err(err) => fail!(\"Error: {}\", err)\n    }\n}\n\nfn main() {\n    let cc_no = input(\"CC no: \");\n    println!(\"You entered: {}\", cc_no);\n}\n```\n\nThe ICE only happens when I call `unwrap` on `line`. Otherwise it just explodes because of my inconsistent types.\n",
  "closed_by": {
    "login": "alexcrichton",
    "id": 64996,
    "node_id": "MDQ6VXNlcjY0OTk2",
    "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/alexcrichton",
    "html_url": "https://github.com/alexcrichton",
    "followers_url": "https://api.github.com/users/alexcrichton/followers",
    "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
    "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
    "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
    "repos_url": "https://api.github.com/users/alexcrichton/repos",
    "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
    "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/13943/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/13943/timeline",
  "performed_via_github_app": null,
  "state_reason": null,
  "_meta": {
    "type": "pr"
  }
}
