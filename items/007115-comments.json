[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/19485546",
    "html_url": "https://github.com/rust-lang/rust/pull/7115#issuecomment-19485546",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/7115",
    "id": 19485546,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE5NDg1NTQ2",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-06-14T22:42:20Z",
    "updated_at": "2013-06-14T22:42:20Z",
    "body": "As before, it fails with a mysterious failure [when running passes](http://buildbot.rust-lang.org/builders/try-win/builds/534/steps/compile/logs/stdio).\n\nIf I rebase brson/llvm/wip on top of chapuni/llvm/master (~a month of changes), [there's a silent error 5 failure](http://buildbot.rust-lang.org/builders/try-win/builds/535/steps/compile/logs/stdio).\n\nNot really sure what's going on here. If we don't upgrade LLVM, we don't get some rusti JIT fixes. If we do upgrade LLVM, windows breaks entirely. I don't have access to any windows machines, so I can't track it down to see what's going on :(\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/19485546/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/20458961",
    "html_url": "https://github.com/rust-lang/rust/pull/7115#issuecomment-20458961",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/7115",
    "id": 20458961,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwNDU4OTYx",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-07-04T04:47:54Z",
    "updated_at": "2013-07-04T04:47:54Z",
    "body": "To keep this updated, I've rebased on top of llvm-3.3 and pointed it at my own fork (one extra patch of mine + rebased patches from brson's branch).\n\nA recent pass through try-win and there's still a segfault immediately in stage2.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/20458961/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/20495709",
    "html_url": "https://github.com/rust-lang/rust/pull/7115#issuecomment-20495709",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/7115",
    "id": 20495709,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwNDk1NzA5",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-07-04T22:52:55Z",
    "updated_at": "2013-07-04T22:52:55Z",
    "body": "After doing some more debugging, the failure only happens when optimizations are enabled, and it's currently a segfault in `llvm::MCAssembler::Finish` where gdb didn't give more of a stack trace, so I suspected stack clobbering.\n\nSure enough, I disabled `fast_ffi` support in rustc, and it compiled just fine on windows (presumably tests passing as well). I'm not too familiar with how fast_ffi works, nor if this would be related to its integration with LLVM or not.\n\n@pcwalton, I think you implemented fast_ffi, so perhaps this is just a rebase gone awry with recent LLVM versions? Also @brson would you might have info as well?\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/20495709/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/20498551",
    "html_url": "https://github.com/rust-lang/rust/pull/7115#issuecomment-20498551",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/7115",
    "id": 20498551,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwNDk4NTUx",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-07-05T02:01:01Z",
    "updated_at": "2013-07-05T02:01:01Z",
    "body": "It appears my understanding of `fast_ffi` is wrong. This definitely appears to be stack clobbering, however: http://buildbot.rust-lang.org/builders/auto-linux-32-opt/builds/275/steps/compile/logs/stdio\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/20498551/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/21968921",
    "html_url": "https://github.com/rust-lang/rust/pull/7115#issuecomment-21968921",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/7115",
    "id": 21968921,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxOTY4OTIx",
    "user": {
      "login": "vadimcn",
      "id": 3203809,
      "node_id": "MDQ6VXNlcjMyMDM4MDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3203809?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vadimcn",
      "html_url": "https://github.com/vadimcn",
      "followers_url": "https://api.github.com/users/vadimcn/followers",
      "following_url": "https://api.github.com/users/vadimcn/following{/other_user}",
      "gists_url": "https://api.github.com/users/vadimcn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vadimcn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vadimcn/subscriptions",
      "organizations_url": "https://api.github.com/users/vadimcn/orgs",
      "repos_url": "https://api.github.com/users/vadimcn/repos",
      "events_url": "https://api.github.com/users/vadimcn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vadimcn/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-08-01T20:54:36Z",
    "updated_at": "2013-08-01T20:54:36Z",
    "body": "@alexcrichton: I think I've tracked down this segfault.   Here's the callstack I am getting: https://gist.github.com/vadimcn/9e9d5333a99f08cddfa5\nIf I am interpreting the stk_seg structure in question correctly, the size of the stack segment was only 38912 bytes (and stk->is_big is false as well).   The [fast_ffi] annotation should have caused LLVMRunPassManager to be executed on a large stack, correct?   If so, there's something wrong with stack switching.   \n\nAlso, building with RUST_MIN_STACK=102400 works without any issues, which also hints towards stack being too small.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/21968921/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/21975649",
    "html_url": "https://github.com/rust-lang/rust/pull/7115#issuecomment-21975649",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/7115",
    "id": 21975649,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxOTc1NjQ5",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-08-01T22:50:00Z",
    "updated_at": "2013-08-01T22:50:00Z",
    "body": "It turns out that the problem was that the `fixedstacksegment` attribute wasn't actually getting set on the functions, accounting for the stack clobbering hilarity that ensued.\n\nThe reason that it wasn't being set is caused by #8199. The `FixedStackSegment` enum attribute was set with a discriminant of `1 << 41` and it was then rewritten to be 0. When we told llvm to set the attribute of 0, it happily said \"ok, it's set!\" and nothing was actually set.\n\nI've added a workaround in the meantime, but @thestinger mentioned that it would probably be a good idea to update to the latest llvm in the meantime, so I'm going to attempt to do that tonight. If that turns out to be more trouble than its worth, then at least the state right now should be a working state!\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/21975649/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/22046168",
    "html_url": "https://github.com/rust-lang/rust/pull/7115#issuecomment-22046168",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/7115",
    "id": 22046168,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMDQ2MTY4",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-08-03T01:32:56Z",
    "updated_at": "2013-08-03T01:32:56Z",
    "body": "As of right now, the unoptimized version of rustc is failing on an unoptimized test, and can be reproduced with this test case:\n\n``` rust\nfn main() {\n    test_nd_dr((8,  3), 2);\n}\n\nfn test_nd_dr((n, d): (i8,i8), r: i8) {\n    let separate_div_rem = (n / d, n % d);\n    let combined_div_rem = n.div_rem(&d);\n\n    let (_, b) = separate_div_rem;\n    assert_eq!(b, r);\n}\n```\n\nStill trying to figure out why this is failing. The odd part is that it doesn't fail if built with optimizations...\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/22046168/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/22053119",
    "html_url": "https://github.com/rust-lang/rust/pull/7115#issuecomment-22053119",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/7115",
    "id": 22053119,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMDUzMTE5",
    "user": {
      "login": "luqmana",
      "id": 287063,
      "node_id": "MDQ6VXNlcjI4NzA2Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/287063?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luqmana",
      "html_url": "https://github.com/luqmana",
      "followers_url": "https://api.github.com/users/luqmana/followers",
      "following_url": "https://api.github.com/users/luqmana/following{/other_user}",
      "gists_url": "https://api.github.com/users/luqmana/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luqmana/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luqmana/subscriptions",
      "organizations_url": "https://api.github.com/users/luqmana/orgs",
      "repos_url": "https://api.github.com/users/luqmana/repos",
      "events_url": "https://api.github.com/users/luqmana/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luqmana/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-08-03T10:43:45Z",
    "updated_at": "2013-08-03T12:17:15Z",
    "body": "After a bunch of investigation, it seems like LLVM is wrong. I first looked at the IR (`-S --emit-llvm`) and while it was overly verbose it was not wrong. Similarly for the assembly (`-S`) (or so I thought at the time). Then after stepping through the code with gdb, we (@zecozephyr [jj2baile on irc] & I) noticed that the emitted machine code was different from the assembly output -S. Turns out the assembly had `movb %ah, (%r8)` which is not a valid x86 instruction, since it is impossible to use the 8-bit registers `ah`, `bh`, `ch`, and `dh` in an instruction along with any register that requires a REX prefix. They get remapped to different registers (`spl`, `dil`, `bpl`, and `sil`), and hence we get `movb %spl, (%r8)`.\n\nThe relevant bit:\n\n``` Assembly\nidivb   %sil                    ; n % d\nmovq    -72(%rbp), %r8                   \nmovb    %ah, (%r8)              ; store the remainder\n```\n\nSo we manually replaced the offending machine code in the binary (after adding a few nops with `asm!`) with:\n\n``` Assembly\nidivb   %sil                    ; n % d\nmovq    -72(%rbp), %r8          \nshrw    $8, %ax                 ; move remainder to lower 8 bits\nmovb    %al, (%r8)              ; store the remainder\n```\n\nand that worked. So, there are at least 2 problems. One is that it generates invalid assembly and the other is that it generates valid machine code that's semantically incorrect. (i.e. replacing `%ah` with `%spl` thereby storing random garbage.)\n\nSo basically, it seems like an LLVM codegen bug.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/22053119/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/22053155",
    "html_url": "https://github.com/rust-lang/rust/pull/7115#issuecomment-22053155",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/7115",
    "id": 22053155,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMDUzMTU1",
    "user": {
      "login": "zecozephyr",
      "id": 1441856,
      "node_id": "MDQ6VXNlcjE0NDE4NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1441856?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zecozephyr",
      "html_url": "https://github.com/zecozephyr",
      "followers_url": "https://api.github.com/users/zecozephyr/followers",
      "following_url": "https://api.github.com/users/zecozephyr/following{/other_user}",
      "gists_url": "https://api.github.com/users/zecozephyr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zecozephyr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zecozephyr/subscriptions",
      "organizations_url": "https://api.github.com/users/zecozephyr/orgs",
      "repos_url": "https://api.github.com/users/zecozephyr/repos",
      "events_url": "https://api.github.com/users/zecozephyr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zecozephyr/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-08-03T10:48:04Z",
    "updated_at": "2013-08-03T11:41:49Z",
    "body": "See the second or so paragraph of: http://x86asm.net/articles/x86-64-tour-of-intel-manuals/#General-purpose-Registers\n\nThat is probably how this came about. Attempting to use the REX prefix to address a register in [r8, r15] whilst simultaneously specifying `%ah`. This changes the meaning of the instruction in this case, so instead we get `%spl`.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/22053155/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/22056586",
    "html_url": "https://github.com/rust-lang/rust/pull/7115#issuecomment-22056586",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/7115",
    "id": 22056586,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMDU2NTg2",
    "user": {
      "login": "luqmana",
      "id": 287063,
      "node_id": "MDQ6VXNlcjI4NzA2Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/287063?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luqmana",
      "html_url": "https://github.com/luqmana",
      "followers_url": "https://api.github.com/users/luqmana/followers",
      "following_url": "https://api.github.com/users/luqmana/following{/other_user}",
      "gists_url": "https://api.github.com/users/luqmana/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luqmana/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luqmana/subscriptions",
      "organizations_url": "https://api.github.com/users/luqmana/orgs",
      "repos_url": "https://api.github.com/users/luqmana/repos",
      "events_url": "https://api.github.com/users/luqmana/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luqmana/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-08-03T15:32:43Z",
    "updated_at": "2013-08-03T15:32:43Z",
    "body": "From #llvm:\n\n```\n< Luqman> We seem to be running into a weird codegen issue upon trying to upgrade the llvm build we use with rust. we noticed this because one of our tests were failing upon trying to upgrade\n< Luqman> looking at the llvm IR & assembly output it seems ok (if a bit verbose) at first https://gist.github.com/luqmana/6146443\n< Luqman> until you notice that there's one instruction in the assembly output, movb %ah, (%r8)\n< Luqman> which is not a valid x86 instruction as i understand it, and disassembling the binary it becomes mov %spl, (%r8)\n< Luqman> which, while valid, is semantically wrong\n...\n< roxfan> Luqman: yep, looks like a bug to me\n< roxfan> assembler shouldn't accept it either\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/22056586/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/22057288",
    "html_url": "https://github.com/rust-lang/rust/pull/7115#issuecomment-22057288",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/7115",
    "id": 22057288,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMDU3Mjg4",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-08-03T16:25:26Z",
    "updated_at": "2013-08-03T16:25:26Z",
    "body": "Wow, you guys are awesome! From what I had been looking at that completely makes sense. I've lost the binary that was failing for me so I can't check that it was that exact instruction, but it was definitely `%al` wasn't being saved after the `idiv`.\n\nRegardless, this may get a bit difficult now. It looks like the release-3.3 of llvm isn't going to work for us, and the current head also doesn't work for us. We'll need to find a good LLVM commit to rebase our own patches on top of...\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/22057288/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/22067506",
    "html_url": "https://github.com/rust-lang/rust/pull/7115#issuecomment-22067506",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/7115",
    "id": 22067506,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMDY3NTA2",
    "user": {
      "login": "luqmana",
      "id": 287063,
      "node_id": "MDQ6VXNlcjI4NzA2Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/287063?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luqmana",
      "html_url": "https://github.com/luqmana",
      "followers_url": "https://api.github.com/users/luqmana/followers",
      "following_url": "https://api.github.com/users/luqmana/following{/other_user}",
      "gists_url": "https://api.github.com/users/luqmana/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luqmana/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luqmana/subscriptions",
      "organizations_url": "https://api.github.com/users/luqmana/orgs",
      "repos_url": "https://api.github.com/users/luqmana/repos",
      "events_url": "https://api.github.com/users/luqmana/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luqmana/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-08-04T06:28:03Z",
    "updated_at": "2013-08-04T06:28:03Z",
    "body": "So after bisecting between https://github.com/alexcrichton/llvm/commit/a121e24 and https://github.com/alexcrichton/llvm/commit/b1adb4d252d98914a9a50a709158228b4135605c the culprit seems to be https://github.com/llvm-mirror/llvm/commit/50125482d399ae58223a7f39a1c001fdb635508a. Which makes sense, since that patch adds support for div/idiv to x86 FastISel but doesn't teach it to handle using `%AH` properly in a REX instruction.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/22067506/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/22068041",
    "html_url": "https://github.com/rust-lang/rust/pull/7115#issuecomment-22068041",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/7115",
    "id": 22068041,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMDY4MDQx",
    "user": {
      "login": "luqmana",
      "id": 287063,
      "node_id": "MDQ6VXNlcjI4NzA2Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/287063?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luqmana",
      "html_url": "https://github.com/luqmana",
      "followers_url": "https://api.github.com/users/luqmana/followers",
      "following_url": "https://api.github.com/users/luqmana/following{/other_user}",
      "gists_url": "https://api.github.com/users/luqmana/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luqmana/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luqmana/subscriptions",
      "organizations_url": "https://api.github.com/users/luqmana/orgs",
      "repos_url": "https://api.github.com/users/luqmana/repos",
      "events_url": "https://api.github.com/users/luqmana/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luqmana/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-08-04T07:36:42Z",
    "updated_at": "2013-08-04T07:36:42Z",
    "body": "So, it turns out we were hitting http://llvm.org/bugs/show_bug.cgi?id=16105 which has already been fixed upstream (https://github.com/llvm-mirror/llvm/commit/cc64dc66e740c0d78ecaca39c33c81b4062edd2e).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/22068041/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/22077137",
    "html_url": "https://github.com/rust-lang/rust/pull/7115#issuecomment-22077137",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/7115",
    "id": 22077137,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMDc3MTM3",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-08-04T19:21:47Z",
    "updated_at": "2013-08-04T19:21:47Z",
    "body": "To keep this updated, bors bounced LLVM head as of last night due to some assertion being tripped compiling libstd, so I'm now going to go back to trying to get it working with 3.3\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/22077137/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
