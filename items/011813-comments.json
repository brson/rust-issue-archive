[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/33310799",
    "html_url": "https://github.com/rust-lang/rust/issues/11813#issuecomment-33310799",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/11813",
    "id": 33310799,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMzEwNzk5",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-01-26T06:56:04Z",
    "updated_at": "2014-01-27T00:54:11Z",
    "body": "I think we need a namespacing solution. One possibility:\n\n``` rust\nextern mod some_crate;\n\n#[deriving(some_crate::Trait)]\nstruct Foo { ... }\n```\n\nbut this would mean that `Trait` may have a different path in `#[deriving]` to its real path.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/33310799/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/33310917",
    "html_url": "https://github.com/rust-lang/rust/issues/11813#issuecomment-33310917",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/11813",
    "id": 33310917,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMzEwOTE3",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-01-26T07:04:02Z",
    "updated_at": "2014-01-26T07:04:02Z",
    "body": "Another possibility would be to have a `MacroRegistrar` struct and then the macro registration function takes a mutable version of the struct. We're then free to add methods in the future without breaking existing code. I do think that the \"most right\" solution would be `deriving(MyTrait)` to follow the same syntax as the existing derivings.\n\nIf we wanted to resolve different deriving implementations, I can imagine things getting tricky fairly quickly, but it would certainly solve the namespace problem!\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/33310917/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/33312057",
    "html_url": "https://github.com/rust-lang/rust/issues/11813#issuecomment-33312057",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/11813",
    "id": 33312057,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMzEyMDU3",
    "user": {
      "login": "Kimundi",
      "id": 2903206,
      "node_id": "MDQ6VXNlcjI5MDMyMDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2903206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Kimundi",
      "html_url": "https://github.com/Kimundi",
      "followers_url": "https://api.github.com/users/Kimundi/followers",
      "following_url": "https://api.github.com/users/Kimundi/following{/other_user}",
      "gists_url": "https://api.github.com/users/Kimundi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Kimundi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Kimundi/subscriptions",
      "organizations_url": "https://api.github.com/users/Kimundi/orgs",
      "repos_url": "https://api.github.com/users/Kimundi/repos",
      "events_url": "https://api.github.com/users/Kimundi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Kimundi/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-01-26T08:30:14Z",
    "updated_at": "2014-01-26T08:30:14Z",
    "body": "Instead of hardcoding to `deriving`, would it make sense to introduce the concept of an extendable attribute in general? Eg, if you have something like `#[foo(a, b, c, ..)]`, a syntax extension could either register itself as the sole handler of all arguments for the attribute `foo`, or it could register itself as a handler for _one_ argument of `foo`.\n\nThe whole deriving infrastructure could then just switch to providing implementations for a argument to `#[deriving(...)]`, and additional user implementations would \"just work\".\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/33312057/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/33334115",
    "html_url": "https://github.com/rust-lang/rust/issues/11813#issuecomment-33334115",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/11813",
    "id": 33334115,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMzM0MTE1",
    "user": {
      "login": "sfackler",
      "id": 1455697,
      "node_id": "MDQ6VXNlcjE0NTU2OTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sfackler",
      "html_url": "https://github.com/sfackler",
      "followers_url": "https://api.github.com/users/sfackler/followers",
      "following_url": "https://api.github.com/users/sfackler/following{/other_user}",
      "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions",
      "organizations_url": "https://api.github.com/users/sfackler/orgs",
      "repos_url": "https://api.github.com/users/sfackler/repos",
      "events_url": "https://api.github.com/users/sfackler/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sfackler/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-01-26T23:17:51Z",
    "updated_at": "2014-01-26T23:17:51Z",
    "body": "I think we need a namespacing solution for macros in general. I'm not totally sure how it should work, especially in relation to `use` statements. I'll write up some thoughts in another RFC.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/33334115/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/52586749",
    "html_url": "https://github.com/rust-lang/rust/issues/11813#issuecomment-52586749",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/11813",
    "id": 52586749,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyNTg2NzQ5",
    "user": {
      "login": "kmcallister",
      "id": 444997,
      "node_id": "MDQ6VXNlcjQ0NDk5Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/444997?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kmcallister",
      "html_url": "https://github.com/kmcallister",
      "followers_url": "https://api.github.com/users/kmcallister/followers",
      "following_url": "https://api.github.com/users/kmcallister/following{/other_user}",
      "gists_url": "https://api.github.com/users/kmcallister/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kmcallister/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kmcallister/subscriptions",
      "organizations_url": "https://api.github.com/users/kmcallister/orgs",
      "repos_url": "https://api.github.com/users/kmcallister/repos",
      "events_url": "https://api.github.com/users/kmcallister/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kmcallister/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-19T03:38:11Z",
    "updated_at": "2014-08-19T03:38:11Z",
    "body": "I'm interested in this. Here's a possible design:\n\nmylib.rs:\n\n``` rust\npub trait MyTrait { ... }\n```\n\nmylib_plugin.rs:\n\n``` rust\nextern crate mylib;\n\nuse mylib::MyTrait;\n\n// signaure is like the functions in src/libsyntax/ext/deriving\nfn expand_deriving_mytrait(cx: &mut ExtCtxt,\n                           span: Span,\n                           mitem: Gc<MetaItem>,\n                           item: Gc<Item>,\n                           push: |Gc<Item>|) {\n    ...\n}\n\n#[plugin_registrar]\npub fn plugin_registrar(reg: &mut Registry) {\n    reg.register_deriving(quote_full_path!(MyTrait), expand_deriving_mytrait);\n}\n```\n\nuser.rs:\n\n``` rust\nextern crate mylib;\n\n#[phase(plugin)]\nextern crate mylib_plugin;\n\nuse mylib::MyTrait;\n\n#[deriving(MyTrait)]\nstruct Foo;\n```\n\nThe `quote_full_path!` macro does name resolution and expands to the full path, e.g. `::mylib::MyTrait`, possibly along with other information to ensure that the `MyTrait` present when the plugin is built is the same one present when the plugin is used.\n\nThe implementation of `deriving` will likewise resolve its arguments to trait definitions, instead of checking [a fixed set of strings](https://github.com/rust-lang/rust/blob/ef5ad07272ed8133fd7c200b923cd4e59d624bdc/src/libsyntax/ext/deriving/mod.rs#L75-L98).\n\nWhat do people think?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/52586749/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/52586921",
    "html_url": "https://github.com/rust-lang/rust/issues/11813#issuecomment-52586921",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/11813",
    "id": 52586921,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyNTg2OTIx",
    "user": {
      "login": "sfackler",
      "id": 1455697,
      "node_id": "MDQ6VXNlcjE0NTU2OTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sfackler",
      "html_url": "https://github.com/sfackler",
      "followers_url": "https://api.github.com/users/sfackler/followers",
      "following_url": "https://api.github.com/users/sfackler/following{/other_user}",
      "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions",
      "organizations_url": "https://api.github.com/users/sfackler/orgs",
      "repos_url": "https://api.github.com/users/sfackler/repos",
      "events_url": "https://api.github.com/users/sfackler/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sfackler/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-19T03:41:44Z",
    "updated_at": "2014-08-19T03:41:44Z",
    "body": "Adding support for name resolution to expansion would be awesome, but _very_ nontrivial. The internals for that will definitely need to be thought through.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/52586921/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53609821",
    "html_url": "https://github.com/rust-lang/rust/issues/11813#issuecomment-53609821",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/11813",
    "id": 53609821,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzNjA5ODIx",
    "user": {
      "login": "Manishearth",
      "id": 1617736,
      "node_id": "MDQ6VXNlcjE2MTc3MzY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1617736?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Manishearth",
      "html_url": "https://github.com/Manishearth",
      "followers_url": "https://api.github.com/users/Manishearth/followers",
      "following_url": "https://api.github.com/users/Manishearth/following{/other_user}",
      "gists_url": "https://api.github.com/users/Manishearth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Manishearth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Manishearth/subscriptions",
      "organizations_url": "https://api.github.com/users/Manishearth/orgs",
      "repos_url": "https://api.github.com/users/Manishearth/repos",
      "events_url": "https://api.github.com/users/Manishearth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Manishearth/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-27T17:32:45Z",
    "updated_at": "2014-08-27T17:36:30Z",
    "body": "@kmcallister Is it necessary to provide a full function like the ones from `ext::deriving`?\n\nAlmost all of these are of the form that there are one or two functions (let's call it `f`). The deriving decorator takes the return values of `<member>.f` for all members, does something with them, and produces a return value for `<parent>.f`. Perhaps we could find a way to reduce boilerplate with this in mind?  There already is a lot of similar code in `ext::deriving`, and it feels a bit strange that the procedure for creating a new one is to copy-paste and edit the types a bit.\n\n---\n\nOffshoot idea ahead, this is just something I realized could be done if we manage to do the above.\n\nReducing boilerplate might even pave the way for easy-deriving generators:\n\n```\n#[auto_derive]\ntrait foo {\n #[derive_scheme(EncodableScheme)]\n fn bar(x: uint); // Will just call bar() on all member data with the same parameter\n #[derive_scheme(CloneScheme)]\n fn baz() -> Self; // Will call baz() on all member data, and create a new object out of those\n}\n```\n\nNow we only need to define the _scheme_ by which the return values of the method for the members get treed up to create the return value for the method called on the parent.\n\nFor example, one can define \n\n```\ntrait Incrementable {\n #[derive_scheme(CloneScheme)]\n fn increment(&self) -> Self; // When incrementing, all member data is incremented, and an object is made from that data\n}\n```\n\nwhere we define how to increment ints and a few other objects, and then objects containing solely `Incrementable` ones can be incremented too.\n\nThe plugin writer can define new schemes too -- which is something that probably is rather rare given the variety of deriving schemes which we already use.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53609821/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/60510140",
    "html_url": "https://github.com/rust-lang/rust/issues/11813#issuecomment-60510140",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/11813",
    "id": 60510140,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwNTEwMTQw",
    "user": {
      "login": "Manishearth",
      "id": 1617736,
      "node_id": "MDQ6VXNlcjE2MTc3MzY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1617736?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Manishearth",
      "html_url": "https://github.com/Manishearth",
      "followers_url": "https://api.github.com/users/Manishearth/followers",
      "following_url": "https://api.github.com/users/Manishearth/following{/other_user}",
      "gists_url": "https://api.github.com/users/Manishearth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Manishearth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Manishearth/subscriptions",
      "organizations_url": "https://api.github.com/users/Manishearth/orgs",
      "repos_url": "https://api.github.com/users/Manishearth/repos",
      "events_url": "https://api.github.com/users/Manishearth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Manishearth/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-10-26T08:30:19Z",
    "updated_at": "2014-10-26T08:30:19Z",
    "body": "The above proposal has been pre-rfc'd [here](http://discuss.rust-lang.org/t/pre-rfc-auto-derive-for-generating-deriving-decorators/709/3)\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/60510140/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/64273659",
    "html_url": "https://github.com/rust-lang/rust/issues/11813#issuecomment-64273659",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/11813",
    "id": 64273659,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0MjczNjU5",
    "user": {
      "login": "rust-highfive",
      "id": 7378925,
      "node_id": "MDQ6VXNlcjczNzg5MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7378925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rust-highfive",
      "html_url": "https://github.com/rust-highfive",
      "followers_url": "https://api.github.com/users/rust-highfive/followers",
      "following_url": "https://api.github.com/users/rust-highfive/following{/other_user}",
      "gists_url": "https://api.github.com/users/rust-highfive/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rust-highfive/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rust-highfive/subscriptions",
      "organizations_url": "https://api.github.com/users/rust-highfive/orgs",
      "repos_url": "https://api.github.com/users/rust-highfive/repos",
      "events_url": "https://api.github.com/users/rust-highfive/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rust-highfive/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-24T22:06:36Z",
    "updated_at": "2014-11-24T22:06:36Z",
    "body": "This issue has been moved to the RFCs repo: rust-lang/rfcs#480\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/64273659/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
