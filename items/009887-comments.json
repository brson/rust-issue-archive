[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26393719",
    "html_url": "https://github.com/rust-lang/rust/issues/9887#issuecomment-26393719",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9887",
    "id": 26393719,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MzkzNzE5",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-10-16T05:27:54Z",
    "updated_at": "2013-10-16T05:27:54Z",
    "body": "cc @catamorphism, seems similar to/the same as #9781.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26393719/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26394704",
    "html_url": "https://github.com/rust-lang/rust/issues/9887#issuecomment-26394704",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9887",
    "id": 26394704,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2Mzk0NzA0",
    "user": {
      "login": "dpc",
      "id": 9209,
      "node_id": "MDQ6VXNlcjkyMDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9209?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dpc",
      "html_url": "https://github.com/dpc",
      "followers_url": "https://api.github.com/users/dpc/followers",
      "following_url": "https://api.github.com/users/dpc/following{/other_user}",
      "gists_url": "https://api.github.com/users/dpc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dpc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dpc/subscriptions",
      "organizations_url": "https://api.github.com/users/dpc/orgs",
      "repos_url": "https://api.github.com/users/dpc/repos",
      "events_url": "https://api.github.com/users/dpc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dpc/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-10-16T06:02:52Z",
    "updated_at": "2013-10-16T06:02:52Z",
    "body": "BTW. My attempt to fix the issue:\n\n```\ndiff --git a/src/librustpkg/package_source.rs b/src/librustpkg/package_source.rs\nindex c2fddaf..f693a49 100644\n--- a/src/librustpkg/package_source.rs\n+++ b/src/librustpkg/package_source.rs\n@@ -202,7 +202,7 @@ impl PkgSrc {\n             // Since the operation succeeded, move clone_target to local.\n             // First, create all ancestor directories.\n             if make_dir_rwx_recursive(&local.pop())\n-                && os::rename_file(&clone_target, local) {\n+                && os::copy_file(&clone_target, local) {\n                  Some(local.clone())\n             }\n             else {\n```\n\nDoes not work neither. It seems I'm getting empty file (size == 0). \n\n```\n[mutex:lab/rust]% ls -alh /home/dpc/lab/rust/.rust/src/github.com/steveklabnik/hello-0.1\n-rwxrwxr-x 1 dpc dpc 0 pa\u017a 15 22:46 /home/dpc/lab/rust/.rust/src/github.com/steveklabnik/hello-0.1\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26394704/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26643859",
    "html_url": "https://github.com/rust-lang/rust/issues/9887#issuecomment-26643859",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9887",
    "id": 26643859,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2NjQzODU5",
    "user": {
      "login": "dpc",
      "id": 9209,
      "node_id": "MDQ6VXNlcjkyMDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9209?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dpc",
      "html_url": "https://github.com/dpc",
      "followers_url": "https://api.github.com/users/dpc/followers",
      "following_url": "https://api.github.com/users/dpc/following{/other_user}",
      "gists_url": "https://api.github.com/users/dpc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dpc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dpc/subscriptions",
      "organizations_url": "https://api.github.com/users/dpc/orgs",
      "repos_url": "https://api.github.com/users/dpc/repos",
      "events_url": "https://api.github.com/users/dpc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dpc/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-10-19T05:32:10Z",
    "updated_at": "2013-10-19T05:32:10Z",
    "body": "```\ndiff --git a/src/librustpkg/package_source.rs b/src/librustpkg/package_source.rs\nindex c2fddaf..00a764b 100644\n--- a/src/librustpkg/package_source.rs\n+++ b/src/librustpkg/package_source.rs\n@@ -170,7 +170,7 @@ impl PkgSrc {\n         // We use a temporary directory because if the git clone fails,\n         // it creates the target directory anyway and doesn't delete it\n\n-        let scratch_dir = extra::tempfile::mkdtemp(&os::tmpdir(), \"rustpkg\");\n+        let scratch_dir = extra::tempfile::mkdtemp(&Path(&\"/home/dpc/lab/rust/tmp\"), \"rustpkg\");\n         let clone_target = match scratch_dir {\n             Some(d) => d.push(\"rustpkg_temp\"),\n             None    => cond.raise(~\"Failed to create temporary directory for fetching git sources\")\n```\n\nThis works, so it confirms the problem is using rename to move files between filesystems. This will not work with every system that has /tmp mounted eg. as ramfs.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26643859/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26643920",
    "html_url": "https://github.com/rust-lang/rust/issues/9887#issuecomment-26643920",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9887",
    "id": 26643920,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2NjQzOTIw",
    "user": {
      "login": "catamorphism",
      "id": 427212,
      "node_id": "MDQ6VXNlcjQyNzIxMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/427212?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/catamorphism",
      "html_url": "https://github.com/catamorphism",
      "followers_url": "https://api.github.com/users/catamorphism/followers",
      "following_url": "https://api.github.com/users/catamorphism/following{/other_user}",
      "gists_url": "https://api.github.com/users/catamorphism/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/catamorphism/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/catamorphism/subscriptions",
      "organizations_url": "https://api.github.com/users/catamorphism/orgs",
      "repos_url": "https://api.github.com/users/catamorphism/repos",
      "events_url": "https://api.github.com/users/catamorphism/events{/privacy}",
      "received_events_url": "https://api.github.com/users/catamorphism/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-10-19T05:37:42Z",
    "updated_at": "2013-10-19T05:37:42Z",
    "body": "Thanks for the update, @dpc  -- another workaround is to set `TMPDIR` in the environment to something under your `/home`. \n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26643920/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26643944",
    "html_url": "https://github.com/rust-lang/rust/issues/9887#issuecomment-26643944",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9887",
    "id": 26643944,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2NjQzOTQ0",
    "user": {
      "login": "dpc",
      "id": 9209,
      "node_id": "MDQ6VXNlcjkyMDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9209?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dpc",
      "html_url": "https://github.com/dpc",
      "followers_url": "https://api.github.com/users/dpc/followers",
      "following_url": "https://api.github.com/users/dpc/following{/other_user}",
      "gists_url": "https://api.github.com/users/dpc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dpc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dpc/subscriptions",
      "organizations_url": "https://api.github.com/users/dpc/orgs",
      "repos_url": "https://api.github.com/users/dpc/repos",
      "events_url": "https://api.github.com/users/dpc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dpc/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-10-19T05:39:43Z",
    "updated_at": "2013-10-19T05:39:43Z",
    "body": "@catamorphism: Ah! Yes, I forgot about this.\n\nATM, I'm looking for why did copy_file fail. Am I right, that it should just work?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26643944/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26644197",
    "html_url": "https://github.com/rust-lang/rust/issues/9887#issuecomment-26644197",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9887",
    "id": 26644197,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2NjQ0MTk3",
    "user": {
      "login": "dpc",
      "id": 9209,
      "node_id": "MDQ6VXNlcjkyMDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9209?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dpc",
      "html_url": "https://github.com/dpc",
      "followers_url": "https://api.github.com/users/dpc/followers",
      "following_url": "https://api.github.com/users/dpc/following{/other_user}",
      "gists_url": "https://api.github.com/users/dpc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dpc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dpc/subscriptions",
      "organizations_url": "https://api.github.com/users/dpc/orgs",
      "repos_url": "https://api.github.com/users/dpc/repos",
      "events_url": "https://api.github.com/users/dpc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dpc/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-10-19T06:01:03Z",
    "updated_at": "2013-10-19T06:01:03Z",
    "body": "OK. I've figured it out. #9947 . Now that puzzle is solved, I might happily enjoy `rustpkg` command. :)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26644197/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/33335527",
    "html_url": "https://github.com/rust-lang/rust/issues/9887#issuecomment-33335527",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9887",
    "id": 33335527,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMzM1NTI3",
    "user": {
      "login": "derekchiang",
      "id": 1535686,
      "node_id": "MDQ6VXNlcjE1MzU2ODY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1535686?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/derekchiang",
      "html_url": "https://github.com/derekchiang",
      "followers_url": "https://api.github.com/users/derekchiang/followers",
      "following_url": "https://api.github.com/users/derekchiang/following{/other_user}",
      "gists_url": "https://api.github.com/users/derekchiang/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/derekchiang/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/derekchiang/subscriptions",
      "organizations_url": "https://api.github.com/users/derekchiang/orgs",
      "repos_url": "https://api.github.com/users/derekchiang/repos",
      "events_url": "https://api.github.com/users/derekchiang/events{/privacy}",
      "received_events_url": "https://api.github.com/users/derekchiang/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-01-27T00:25:56Z",
    "updated_at": "2014-01-27T00:26:12Z",
    "body": "I see two ways to resolve this issue:\n1. Use something like `./.rust/tmp` as the temporary directory by default.\n2. When seeing this IO error, degrade to copying and deleting the source folder, instead of renaming.\n\nThoughts?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/33335527/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/33335565",
    "html_url": "https://github.com/rust-lang/rust/issues/9887#issuecomment-33335565",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9887",
    "id": 33335565,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMzM1NTY1",
    "user": {
      "login": "derekchiang",
      "id": 1535686,
      "node_id": "MDQ6VXNlcjE1MzU2ODY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1535686?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/derekchiang",
      "html_url": "https://github.com/derekchiang",
      "followers_url": "https://api.github.com/users/derekchiang/followers",
      "following_url": "https://api.github.com/users/derekchiang/following{/other_user}",
      "gists_url": "https://api.github.com/users/derekchiang/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/derekchiang/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/derekchiang/subscriptions",
      "organizations_url": "https://api.github.com/users/derekchiang/orgs",
      "repos_url": "https://api.github.com/users/derekchiang/repos",
      "events_url": "https://api.github.com/users/derekchiang/events{/privacy}",
      "received_events_url": "https://api.github.com/users/derekchiang/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-01-27T00:27:40Z",
    "updated_at": "2014-01-27T00:27:40Z",
    "body": "Also, this actually is a `libuv` issue.  The same error can be reproduced with Node, as described [here](http://stackoverflow.com/questions/4568689/how-do-i-move-file-a-to-a-different-partition-or-device-in-node-js).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/33335565/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/34133812",
    "html_url": "https://github.com/rust-lang/rust/issues/9887#issuecomment-34133812",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9887",
    "id": 34133812,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0MTMzODEy",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-02-05T03:09:12Z",
    "updated_at": "2014-02-05T03:09:12Z",
    "body": "Closing, rustpkg was removed.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/34133812/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
