[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23449254",
    "html_url": "https://github.com/rust-lang/rust/pull/8796#issuecomment-23449254",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8796",
    "id": 23449254,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzNDQ5MjU0",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-08-28T21:28:51Z",
    "updated_at": "2013-08-28T21:28:51Z",
    "body": "@alexcrichton yes. done\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23449254/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/24319949",
    "html_url": "https://github.com/rust-lang/rust/pull/8796#issuecomment-24319949",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8796",
    "id": 24319949,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0MzE5OTQ5",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-09-12T13:42:48Z",
    "updated_at": "2013-09-12T13:43:23Z",
    "body": "niko and I discussed the error here.  This is probably a check-fast specific problem (which I am not sure I checked on my end before now, though I _have_ a least duplicated the problem locally at this point), and it is not clear whether it is exposing an underlying resolve bug, or if the error is expected behavior and the test needs revision.  Will poke a bit more.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/24319949/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/24335220",
    "html_url": "https://github.com/rust-lang/rust/pull/8796#issuecomment-24335220",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8796",
    "id": 24335220,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0MzM1MjIw",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-09-12T16:27:46Z",
    "updated_at": "2013-09-12T18:55:14Z",
    "body": "I can replicate the problem via `make check-fast` on non-Windows hosts \n\nFor better or for worse: when I change the file like so, the problem goes away:\n\nUpdate: (there are two ways to solve this, and this top version follows the pattern set by existing tests more properly):\n\n```\ndiff --git a/src/test/run-pass/lint-cstack.rs b/src/test/run-pass/lint-cstack.rs\nindex 8e5ab54..b9e61b4 100644\n--- a/src/test/run-pass/lint-cstack.rs\n+++ b/src/test/run-pass/lint-cstack.rs\n@@ -8,8 +8,10 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n\n+use std::libc;\n+\n extern {\n-    fn rust_get_test_int() -> std::libc::intptr_t;\n+    fn rust_get_test_int() -> libc::intptr_t;\n }\n\n trait A {\n```\n\n(Original but not-as-good patch follows):\n\n```\ndiff --git a/src/test/run-pass/lint-cstack.rs b/src/test/run-pass/lint-cstack.rs\nindex 8e5ab54..c665342 100644\n--- a/src/test/run-pass/lint-cstack.rs\n+++ b/src/test/run-pass/lint-cstack.rs\n@@ -9,7 +9,7 @@\n // except according to those terms.\n\n extern {\n-    fn rust_get_test_int() -> std::libc::intptr_t;\n+    fn rust_get_test_int() -> ::std::libc::intptr_t;\n }\n\n trait A {\n```\n\nThis is presumably because `lint-cstack` assumes that it will only be used as a module from the system top-level, but the check-fast target pulls that file in as a submodule within `run_pass_stage2`.\n\nNiko had claimed to me earlier that the `run_pass_stage2` module would also pull in the `std` module at the same level (which made me think that the code as written should be fine), but I do not see a sign of such a `use` of `mod std` being done in `run_pass_stage2`\n\nSo it seems like the potential fixes here are:\n1. Change `lint-cstack` to use absolute reference of `intptr_t`\n2. Change `run_pass_stage2` to `use std` (so that all the modules it uses can also reference `std` relatively, right?)\n3. Change resolve in some way to handle this special case (but why would we do that if at least one of the above two solutions is acceptable?)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/24335220/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/24346380",
    "html_url": "https://github.com/rust-lang/rust/pull/8796#issuecomment-24346380",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8796",
    "id": 24346380,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0MzQ2Mzgw",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-09-12T18:55:42Z",
    "updated_at": "2013-09-12T18:55:42Z",
    "body": "@brson: can you update your Pull Request with one of the diffs from my previous comment so that we can land it?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/24346380/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/24360584",
    "html_url": "https://github.com/rust-lang/rust/pull/8796#issuecomment-24360584",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8796",
    "id": 24360584,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0MzYwNTg0",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-09-12T22:21:23Z",
    "updated_at": "2013-09-12T22:21:23Z",
    "body": "@pnkfelix yes done\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/24360584/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
