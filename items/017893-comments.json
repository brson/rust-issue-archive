[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/58551612",
    "html_url": "https://github.com/rust-lang/rust/issues/17893#issuecomment-58551612",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/17893",
    "id": 58551612,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4NTUxNjEy",
    "user": {
      "login": "aturon",
      "id": 709807,
      "node_id": "MDQ6VXNlcjcwOTgwNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/709807?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aturon",
      "html_url": "https://github.com/aturon",
      "followers_url": "https://api.github.com/users/aturon/followers",
      "following_url": "https://api.github.com/users/aturon/following{/other_user}",
      "gists_url": "https://api.github.com/users/aturon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aturon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aturon/subscriptions",
      "organizations_url": "https://api.github.com/users/aturon/orgs",
      "repos_url": "https://api.github.com/users/aturon/repos",
      "events_url": "https://api.github.com/users/aturon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aturon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-10-09T18:06:04Z",
    "updated_at": "2014-10-09T18:06:04Z",
    "body": "cc @nikomatsakis \n\nCurrently gets the error \"error: illegal recursive type; insert an enum or struct in the cycle, if this is desired\"\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/58551612/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/178854033",
    "html_url": "https://github.com/rust-lang/rust/issues/17893#issuecomment-178854033",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/17893",
    "id": 178854033,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3ODg1NDAzMw==",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-02-02T22:10:14Z",
    "updated_at": "2016-02-02T22:10:14Z",
    "body": "Triage: current error:\n\n```\nhello.rs:5:40: 5:49 error: unsupported cyclic reference between types/traits detected [E0391]\nhello.rs:5 trait Stream<T>: Future<Option<(T, Box<Stream<T>>)>> {\n                                                  ^~~~~~~~~\nhello.rs:5:40: 5:49 help: run `rustc --explain E0391` to see a detailed explanation\nnote: the cycle begins when computing the supertraits of `Stream`...\nnote: ...which then again requires computing the supertraits of `Stream`, completing the cycle.\nhello.rs:5:40: 5:49 error: unsupported cyclic reference between types/traits detected [E0391]\nhello.rs:5 trait Stream<T>: Future<Option<(T, Box<Stream<T>>)>> {\n                                                  ^~~~~~~~~\nhello.rs:5:40: 5:49 help: run `rustc --explain E0391` to see a detailed explanation\nnote: the cycle begins when computing the supertraits of `Stream`...\nnote: ...which then again requires computing the supertraits of `Stream`, completing the cycle.\nerror: aborting due to 2 previous errors\n\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/178854033/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/424059661",
    "html_url": "https://github.com/rust-lang/rust/issues/17893#issuecomment-424059661",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/17893",
    "id": 424059661,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyNDA1OTY2MQ==",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-09-24T17:34:50Z",
    "updated_at": "2018-09-24T17:34:50Z",
    "body": "New error:\r\n\r\n```text\r\nerror[E0391]: cycle detected when computing the supertraits of `Stream`\r\n --> src/main.rs:5:1\r\n  |\r\n5 | trait Stream<T>: Future<Option<(T, Box<Stream<T>>)>> {\r\n  | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  |\r\n  = note: ...which again requires computing the supertraits of `Stream`, completing the cycle\r\n\r\n```",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/424059661/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1022582713",
    "html_url": "https://github.com/rust-lang/rust/issues/17893#issuecomment-1022582713",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/17893",
    "id": 1022582713,
    "node_id": "IC_kwDOAAsO6M4881-5",
    "user": {
      "login": "dimpolo",
      "id": 33688001,
      "node_id": "MDQ6VXNlcjMzNjg4MDAx",
      "avatar_url": "https://avatars.githubusercontent.com/u/33688001?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dimpolo",
      "html_url": "https://github.com/dimpolo",
      "followers_url": "https://api.github.com/users/dimpolo/followers",
      "following_url": "https://api.github.com/users/dimpolo/following{/other_user}",
      "gists_url": "https://api.github.com/users/dimpolo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dimpolo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dimpolo/subscriptions",
      "organizations_url": "https://api.github.com/users/dimpolo/orgs",
      "repos_url": "https://api.github.com/users/dimpolo/repos",
      "events_url": "https://api.github.com/users/dimpolo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dimpolo/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2022-01-26T20:38:52Z",
    "updated_at": "2023-09-19T17:16:13Z",
    "body": "I would also like to see this.\r\nMy use case is a custom Rc implementation with cycle detection, specifically designed for trait objects.\r\nCode would look something like this:\r\n\r\n```rust\r\nuse core::marker::PhantomData;\r\n\r\n// API:\r\n\r\npub struct Rc<Dyn: ?Sized + Trace<Dyn>>{\r\n    ptr_and_stuff: PhantomData<Dyn>,\r\n}\r\n\r\npub trait Trace<Dyn: Trace<Dyn> + ?Sized> {\r\n    /// Give the tracer access to other Rc<Dyn> that we own.\r\n    /// Their `Dyn` must be the same as ours. \r\n    fn trace(&self, tracer: fn(&Rc<Dyn>));\r\n}\r\n\r\n// user code:\r\n\r\ntrait MyTrait: Trace<dyn MyTrait>{}\r\n\r\nstruct MyStruct{\r\n    field: Rc<dyn MyTrait>,\r\n}\r\n\r\nimpl Trace<dyn MyTrait> for MyStruct {\r\n    fn trace(&self, tracer: fn(&Rc<dyn MyTrait>)){\r\n        tracer(&self.field);\r\n    }\r\n}\r\n```\r\n\r\nThe hacky workarounds found on [stackoverflow](https://stackoverflow.com/questions/69431220/) sadly don't work.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1022582713/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1724145756",
    "html_url": "https://github.com/rust-lang/rust/issues/17893#issuecomment-1724145756",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/17893",
    "id": 1724145756,
    "node_id": "IC_kwDOAAsO6M5mxGBc",
    "user": {
      "login": "dimpolo",
      "id": 33688001,
      "node_id": "MDQ6VXNlcjMzNjg4MDAx",
      "avatar_url": "https://avatars.githubusercontent.com/u/33688001?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dimpolo",
      "html_url": "https://github.com/dimpolo",
      "followers_url": "https://api.github.com/users/dimpolo/followers",
      "following_url": "https://api.github.com/users/dimpolo/following{/other_user}",
      "gists_url": "https://api.github.com/users/dimpolo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dimpolo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dimpolo/subscriptions",
      "organizations_url": "https://api.github.com/users/dimpolo/orgs",
      "repos_url": "https://api.github.com/users/dimpolo/repos",
      "events_url": "https://api.github.com/users/dimpolo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dimpolo/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2023-09-18T18:22:18Z",
    "updated_at": "2023-09-18T18:22:18Z",
    "body": "Could someone comment if this has a chance to get accepted in the future?\r\nIs the problem that `dyn Trait` doesn't always implement `Trait` https://github.com/rust-lang/rust/issues/88904?\r\nWill https://github.com/rust-lang/rust/issues/107374 `-Ztrait-solver=next` help?\r\nDoes this require [coinduction](https://rustc-dev-guide.rust-lang.org/solve/coinduction.html#future-work)?\r\n\r\nMRE:\r\n```rust\r\ntrait Foo<T: ?Sized> {}\r\ntrait Bar: Foo<dyn Bar> {}\r\n```",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1724145756/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
