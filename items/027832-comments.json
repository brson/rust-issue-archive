[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/131152900",
    "html_url": "https://github.com/rust-lang/rust/issues/27832#issuecomment-131152900",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27832",
    "id": 131152900,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMTE1MjkwMA==",
    "user": {
      "login": "durka",
      "id": 47007,
      "node_id": "MDQ6VXNlcjQ3MDA3",
      "avatar_url": "https://avatars.githubusercontent.com/u/47007?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/durka",
      "html_url": "https://github.com/durka",
      "followers_url": "https://api.github.com/users/durka/followers",
      "following_url": "https://api.github.com/users/durka/following{/other_user}",
      "gists_url": "https://api.github.com/users/durka/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/durka/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/durka/subscriptions",
      "organizations_url": "https://api.github.com/users/durka/orgs",
      "repos_url": "https://api.github.com/users/durka/repos",
      "events_url": "https://api.github.com/users/durka/events{/privacy}",
      "received_events_url": "https://api.github.com/users/durka/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-08-14T15:37:30Z",
    "updated_at": "2015-08-14T15:38:23Z",
    "body": "It seems like the `ident` parser in particular is very greedy, or something. For example, [changing it from `ident` to `expr`](http://is.gd/U0NRJs) eliminates the error (as does [switching the order of the rules](http://is.gd/iFcBN5), but I assume this is reduced from something where you can't do that).\n\nHowever, fixing this (if it can be fixed) is probably a breaking change :(\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/131152900/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/131356691",
    "html_url": "https://github.com/rust-lang/rust/issues/27832#issuecomment-131356691",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27832",
    "id": 131356691,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMTM1NjY5MQ==",
    "user": {
      "login": "jonas-schievink",
      "id": 1786438,
      "node_id": "MDQ6VXNlcjE3ODY0Mzg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1786438?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonas-schievink",
      "html_url": "https://github.com/jonas-schievink",
      "followers_url": "https://api.github.com/users/jonas-schievink/followers",
      "following_url": "https://api.github.com/users/jonas-schievink/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonas-schievink/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonas-schievink/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonas-schievink/subscriptions",
      "organizations_url": "https://api.github.com/users/jonas-schievink/orgs",
      "repos_url": "https://api.github.com/users/jonas-schievink/repos",
      "events_url": "https://api.github.com/users/jonas-schievink/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonas-schievink/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-08-15T11:40:00Z",
    "updated_at": "2015-08-15T11:40:00Z",
    "body": "Found the culprit: https://github.com/rust-lang/rust/blob/master/src/libsyntax/ext/tt/macro_parser.rs#L514-L522\n\n`// this could be handled like a token, since it is one`\n\nDo you really think this would break something? I actually don't think it would, since a fix for this should only accept more macro invocations.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/131356691/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/131390183",
    "html_url": "https://github.com/rust-lang/rust/issues/27832#issuecomment-131390183",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27832",
    "id": 131390183,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMTM5MDE4Mw==",
    "user": {
      "login": "jonas-schievink",
      "id": 1786438,
      "node_id": "MDQ6VXNlcjE3ODY0Mzg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1786438?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonas-schievink",
      "html_url": "https://github.com/jonas-schievink",
      "followers_url": "https://api.github.com/users/jonas-schievink/followers",
      "following_url": "https://api.github.com/users/jonas-schievink/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonas-schievink/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonas-schievink/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonas-schievink/subscriptions",
      "organizations_url": "https://api.github.com/users/jonas-schievink/orgs",
      "repos_url": "https://api.github.com/users/jonas-schievink/repos",
      "events_url": "https://api.github.com/users/jonas-schievink/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonas-schievink/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-08-15T14:51:15Z",
    "updated_at": "2015-08-15T14:51:15Z",
    "body": "On second thought... I think that's not the direct cause, since all other fragments behave roughly the same.\n\nOh well, back to the drawing board\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/131390183/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/131456544",
    "html_url": "https://github.com/rust-lang/rust/issues/27832#issuecomment-131456544",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27832",
    "id": 131456544,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMTQ1NjU0NA==",
    "user": {
      "login": "jonas-schievink",
      "id": 1786438,
      "node_id": "MDQ6VXNlcjE3ODY0Mzg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1786438?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonas-schievink",
      "html_url": "https://github.com/jonas-schievink",
      "followers_url": "https://api.github.com/users/jonas-schievink/followers",
      "following_url": "https://api.github.com/users/jonas-schievink/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonas-schievink/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonas-schievink/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonas-schievink/subscriptions",
      "organizations_url": "https://api.github.com/users/jonas-schievink/orgs",
      "repos_url": "https://api.github.com/users/jonas-schievink/repos",
      "events_url": "https://api.github.com/users/jonas-schievink/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonas-schievink/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-08-15T22:19:53Z",
    "updated_at": "2015-08-15T22:19:53Z",
    "body": "Okay, so as it turns out, all NT parsers introduce this bug (except `tt`, which you can't really test). In this particular case, changing from `ident` to `expr` only worked because idents and integral literals are _both_ valid expressions. For example, this doesn't work:\n\n``` rust\nmacro_rules! m {\n    ( $b:expr ) => ();\n    ( $t:tt $u:tt ) => ();\n}\n\nfn main() {\n    m!(3);      // works trivially\n    m!(1 2);    // works, since `1` is a valid expression\n    m!(_ 1);    // doesn't work, since `_` is not an expression (but a valid TT, of course)\n}\n```\n\nNow that this confusion is out of the way, I think I see what happens: When parsing `_` as an expression, libsyntax panics because of a syntax error, which aborts compilation (the macro docs state that the parser fully commits to parsing such a nonterminal, so the fact that the third invocation doesn't work is expected behaviour).\n\nHowever, when parsing `1`, it works. But since the `2` token wasn't eaten, the second arm is tried (this is the bug!). It matches, of course, and the macro is accepted.\n\nSo, fixing this would indeed be a breaking change, since the intended behaviour is (at least as far as I know), to reject the invocation, but this isn't happening.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/131456544/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/131913518",
    "html_url": "https://github.com/rust-lang/rust/issues/27832#issuecomment-131913518",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27832",
    "id": 131913518,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMTkxMzUxOA==",
    "user": {
      "login": "DanielKeep",
      "id": 77238,
      "node_id": "MDQ6VXNlcjc3MjM4",
      "avatar_url": "https://avatars.githubusercontent.com/u/77238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DanielKeep",
      "html_url": "https://github.com/DanielKeep",
      "followers_url": "https://api.github.com/users/DanielKeep/followers",
      "following_url": "https://api.github.com/users/DanielKeep/following{/other_user}",
      "gists_url": "https://api.github.com/users/DanielKeep/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DanielKeep/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DanielKeep/subscriptions",
      "organizations_url": "https://api.github.com/users/DanielKeep/orgs",
      "repos_url": "https://api.github.com/users/DanielKeep/repos",
      "events_url": "https://api.github.com/users/DanielKeep/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DanielKeep/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-08-17T18:14:45Z",
    "updated_at": "2015-08-17T18:14:45Z",
    "body": "@jonas-schievink I disagree that attempting the second arm is a bug.  Ideally, `macro_rules!` should attempt each rule until it finds one that matches.  From my perspective, the bug is that `macro_rules!` has no way to recover from failed parse attempts.\n\nIdeally, your last example should go something like this (using `^` to represent cursor positions):\n- `( 3 )`\n  - `(^3 ) ; (^$b:expr )` \u2192 `$b = 3`\n  - `( 3^) ; ( $b:expr^)` \u2192 matched\n- `( 1 2 )`\n  - `(^1 2 ) ; (^$b:expr )` \u2192 `$b = 1`\n  - `( 1^2 ) ; ( $b:expr^)` \u2192 input too long; next rule\n  - `(^1 2 ) ; (^$t:tt $u:tt )` \u2192 `$t = 1`\n  - `( 1^2 ) ; ( $t:tt^$u:tt )` \u2192 `$u = 2`\n  - `( 1 2^) ; ( $t:tt $u:tt^)` \u2192 matched\n- `( _ 1 )`\n  - `(^_ 1 ) ; (^$b:expr )` \u2192 syntax error; next rule.\n  - `(^_ 1 ) ; (^$t:tt $u:tt )` \u2192 `$t = _`\n  - `( _^1 ) ; ( $t:tt^$u:tt )` \u2192 `$u = 1`\n  - `( _ 1^) ; ( $t:tt $u:tt^)` \u2192 matched\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/131913518/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/131933337",
    "html_url": "https://github.com/rust-lang/rust/issues/27832#issuecomment-131933337",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27832",
    "id": 131933337,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMTkzMzMzNw==",
    "user": {
      "login": "jonas-schievink",
      "id": 1786438,
      "node_id": "MDQ6VXNlcjE3ODY0Mzg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1786438?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonas-schievink",
      "html_url": "https://github.com/jonas-schievink",
      "followers_url": "https://api.github.com/users/jonas-schievink/followers",
      "following_url": "https://api.github.com/users/jonas-schievink/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonas-schievink/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonas-schievink/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonas-schievink/subscriptions",
      "organizations_url": "https://api.github.com/users/jonas-schievink/orgs",
      "repos_url": "https://api.github.com/users/jonas-schievink/repos",
      "events_url": "https://api.github.com/users/jonas-schievink/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonas-schievink/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-08-17T19:12:00Z",
    "updated_at": "2015-08-17T19:12:00Z",
    "body": ">  Ideally, `macro_rules!` should attempt each rule until it finds one that matches.\n\nThat would indeed be useful! But I think this comment implies that that isn't the intended behaviour: https://github.com/rust-lang/rust/blob/c115c513632b45d1a4d1b3fb648755a7023269e7/src/libsyntax/ext/tt/macro_parser.rs#L11-L13 (stating that the macro parser fully commits to NTs implies to me that it doesn't backtrack to try other arms)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/131933337/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/132059762",
    "html_url": "https://github.com/rust-lang/rust/issues/27832#issuecomment-132059762",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27832",
    "id": 132059762,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMjA1OTc2Mg==",
    "user": {
      "login": "DanielKeep",
      "id": 77238,
      "node_id": "MDQ6VXNlcjc3MjM4",
      "avatar_url": "https://avatars.githubusercontent.com/u/77238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DanielKeep",
      "html_url": "https://github.com/DanielKeep",
      "followers_url": "https://api.github.com/users/DanielKeep/followers",
      "following_url": "https://api.github.com/users/DanielKeep/following{/other_user}",
      "gists_url": "https://api.github.com/users/DanielKeep/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DanielKeep/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DanielKeep/subscriptions",
      "organizations_url": "https://api.github.com/users/DanielKeep/orgs",
      "repos_url": "https://api.github.com/users/DanielKeep/repos",
      "events_url": "https://api.github.com/users/DanielKeep/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DanielKeep/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-08-18T03:36:02Z",
    "updated_at": "2015-08-18T03:36:02Z",
    "body": "@jonas-schievink I _believe_ that's referring to how it parses _within_ a rule.  Earley parsers can deal with ambiguities by tracking multiple potential parse forests (if I remember correctly; my understanding is a little vague).  What it's saying is that it has to commit to parsing a non-terminal (_i.e._ higher-level productions like expressions) because the parser _doesn't have_ any way to back out of a partial parse.  So when it encounters one, it _has_ to parse it, come hell or high water.\n\nHaving the macro system not check successive rules once a rule _starts_ matching would be apocalyptic: it would kill damn near _every_ useful, non-trivial macro.  We're talking mass hysteria, cats and dogs living together.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/132059762/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/132341023",
    "html_url": "https://github.com/rust-lang/rust/issues/27832#issuecomment-132341023",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27832",
    "id": 132341023,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMjM0MTAyMw==",
    "user": {
      "login": "jonas-schievink",
      "id": 1786438,
      "node_id": "MDQ6VXNlcjE3ODY0Mzg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1786438?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonas-schievink",
      "html_url": "https://github.com/jonas-schievink",
      "followers_url": "https://api.github.com/users/jonas-schievink/followers",
      "following_url": "https://api.github.com/users/jonas-schievink/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonas-schievink/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonas-schievink/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonas-schievink/subscriptions",
      "organizations_url": "https://api.github.com/users/jonas-schievink/orgs",
      "repos_url": "https://api.github.com/users/jonas-schievink/repos",
      "events_url": "https://api.github.com/users/jonas-schievink/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonas-schievink/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-08-18T20:28:16Z",
    "updated_at": "2015-08-18T20:28:16Z",
    "body": "> I believe that's referring to how it parses within a rule.\n\nFair enough. In that case the bug is just that the macro expander will panic when it can't parse an NT, so it can't backtrack.\n\nI also managed to dig up #3232, which was closed as \"not a bug\", but this definitely feels like one.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/132341023/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/275954692",
    "html_url": "https://github.com/rust-lang/rust/issues/27832#issuecomment-275954692",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27832",
    "id": 275954692,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3NTk1NDY5Mg==",
    "user": {
      "login": "dylanede",
      "id": 10339269,
      "node_id": "MDQ6VXNlcjEwMzM5MjY5",
      "avatar_url": "https://avatars.githubusercontent.com/u/10339269?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dylanede",
      "html_url": "https://github.com/dylanede",
      "followers_url": "https://api.github.com/users/dylanede/followers",
      "following_url": "https://api.github.com/users/dylanede/following{/other_user}",
      "gists_url": "https://api.github.com/users/dylanede/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dylanede/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dylanede/subscriptions",
      "organizations_url": "https://api.github.com/users/dylanede/orgs",
      "repos_url": "https://api.github.com/users/dylanede/repos",
      "events_url": "https://api.github.com/users/dylanede/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dylanede/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-01-29T23:18:30Z",
    "updated_at": "2017-01-29T23:18:30Z",
    "body": "@jonas-schievink Sorry to dig this up again, but isn't an `ident` a terminal, so your comments about NTs aren't applicable to this bug?",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/275954692/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/275954878",
    "html_url": "https://github.com/rust-lang/rust/issues/27832#issuecomment-275954878",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27832",
    "id": 275954878,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3NTk1NDg3OA==",
    "user": {
      "login": "jonas-schievink",
      "id": 1786438,
      "node_id": "MDQ6VXNlcjE3ODY0Mzg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1786438?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonas-schievink",
      "html_url": "https://github.com/jonas-schievink",
      "followers_url": "https://api.github.com/users/jonas-schievink/followers",
      "following_url": "https://api.github.com/users/jonas-schievink/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonas-schievink/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonas-schievink/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonas-schievink/subscriptions",
      "organizations_url": "https://api.github.com/users/jonas-schievink/orgs",
      "repos_url": "https://api.github.com/users/jonas-schievink/repos",
      "events_url": "https://api.github.com/users/jonas-schievink/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonas-schievink/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-01-29T23:21:41Z",
    "updated_at": "2017-01-29T23:21:41Z",
    "body": "@dylanede Correct! That's why I mentioned [this comment](https://github.com/rust-lang/rust/blob/4be49e1937e25cc9c78d7758e095046563052dec/src/libsyntax/ext/tt/macro_parser.rs#L510):\r\n\r\n    // this could be handled like a token, since it is one\r\n\r\n(AFAIK, token == terminal)",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/275954878/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/310597773",
    "html_url": "https://github.com/rust-lang/rust/issues/27832#issuecomment-310597773",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27832",
    "id": 310597773,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxMDU5Nzc3Mw==",
    "user": {
      "login": "jeberger",
      "id": 930717,
      "node_id": "MDQ6VXNlcjkzMDcxNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/930717?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jeberger",
      "html_url": "https://github.com/jeberger",
      "followers_url": "https://api.github.com/users/jeberger/followers",
      "following_url": "https://api.github.com/users/jeberger/following{/other_user}",
      "gists_url": "https://api.github.com/users/jeberger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jeberger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jeberger/subscriptions",
      "organizations_url": "https://api.github.com/users/jeberger/orgs",
      "repos_url": "https://api.github.com/users/jeberger/repos",
      "events_url": "https://api.github.com/users/jeberger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jeberger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-06-23T07:52:14Z",
    "updated_at": "2017-06-23T07:52:14Z",
    "body": "I got bitten by this bug too. Note that I see two different issues here:\r\n\r\n- The parser accepts `m!(1 2)`, which according to @jonas-schievink is a bug. Indeed, according to the docs I would have expected the parser to refuse, but I can live with it either way and I can see where fixing the issue would cause code to break.\r\n\r\n- The parser refuses `m!(_ 1)`, which should be a no-brainer: `_` is not an ident, so the first rule should not even begin to match and no backtracking is required to move on to the next rule. Moreover I don't see where fixing this would break anything, since it would only allow code that currently does not compile (although I have no idea how hard fixing this may turn out to be).",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/310597773/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
