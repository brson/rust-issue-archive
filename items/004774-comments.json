[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/13110731",
    "html_url": "https://github.com/rust-lang/rust/issues/4774#issuecomment-13110731",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/4774",
    "id": 13110731,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMTEwNzMx",
    "user": {
      "login": "graydon",
      "id": 14097,
      "node_id": "MDQ6VXNlcjE0MDk3",
      "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/graydon",
      "html_url": "https://github.com/graydon",
      "followers_url": "https://api.github.com/users/graydon/followers",
      "following_url": "https://api.github.com/users/graydon/following{/other_user}",
      "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/graydon/subscriptions",
      "organizations_url": "https://api.github.com/users/graydon/orgs",
      "repos_url": "https://api.github.com/users/graydon/repos",
      "events_url": "https://api.github.com/users/graydon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/graydon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-02-05T01:48:22Z",
    "updated_at": "2013-02-05T01:48:22Z",
    "body": "the `::<>` syntax is for mentioning type parameters in expression grammar, not type grammar. Remove those and put the word `extern` in front of `fn` in the `impl` -- that is: `impl extern fn(T,T) ...` and it works.\n\nThe `extern` word there will go away when function types are finished their overhaul. The rest is behaving as intended.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/13110731/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/13112693",
    "html_url": "https://github.com/rust-lang/rust/issues/4774#issuecomment-13112693",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/4774",
    "id": 13112693,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMTEyNjkz",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-02-05T03:13:18Z",
    "updated_at": "2013-02-05T03:14:21Z",
    "body": "I do not understand the answer you have described.\n\nFirst of all: Do you mean I should be writing this (1):\n\n```\nimpl extern fn(T,T) -> T : Op<T> {\n    fn call(&self, a:T, b:T) -> T { (*self)(a,b) }\n}\n```\n\nor this (2):\n\n```\nimpl<T> extern fn(T,T) -> T : Op<T> {\n    fn call(&self, a:T, b:T) -> T { (*self)(a,b) }\n}\n```\n\nOption (1) seems wrong since now there is no binding occurrence of the type parameter T in the impl.\n\nOption (2) seems plausible...\n\nBut you say \"and it works\", when for me, what I get when I use (2) and also replace `as &Op::<int>` with `as &Op` in line 31, I then get this error:\n\n```\nbug4.rs:31:33: 31:35 error: wrong number of type arguments: expected 1 but found 0\nbug4.rs:31     let t = squareg(3, &muli as &Op); echo(t);\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ^~\n```\n\nCan you show me the diff you made to my example to make it go?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/13112693/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/13112777",
    "html_url": "https://github.com/rust-lang/rust/issues/4774#issuecomment-13112777",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/4774",
    "id": 13112777,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMTEyNzc3",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-02-05T03:16:48Z",
    "updated_at": "2013-02-05T03:16:48Z",
    "body": "Oh, wait, I see; you were telling me to just remove the pair of colons, not the whole `::<int>` attached to the `&Op`\n\n```\n    let t = squareg(3, &muli as &Op<int>); echo(t);\n```\n\nThis works.  (Well, it compiles; the generated code segfaults; I already filed that as another issue the other night.)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/13112777/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/13112909",
    "html_url": "https://github.com/rust-lang/rust/issues/4774#issuecomment-13112909",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/4774",
    "id": 13112909,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMTEyOTA5",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-02-05T03:23:26Z",
    "updated_at": "2013-02-05T03:23:26Z",
    "body": "Just in case others are wondering what the `extern` business was about: the `extern` that Graydon suggested seems to be necessary for making the functions like `muli` and `mulf` direct instances of `&OpInt`, `&OpFlo`, and `&Op<int>`.  I had not known about its necessity and had worked around it by wrapping them in anonymous lambda expressions, i.e. `(|x,y|muli(x,y)) as &OpInt`.\n\nAfter adding the `extern` to the various `impl` items, I was able to go back to passing `muli` directly.\n\nSo, okay, thanks for the assist Graydon!\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/13112909/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
