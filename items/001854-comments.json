[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/4007789",
    "html_url": "https://github.com/rust-lang/rust/issues/1854#issuecomment-4007789",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/1854",
    "id": 4007789,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwMDc3ODk=",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-02-16T19:40:05Z",
    "updated_at": "2012-02-16T19:40:05Z",
    "body": "@nikomatsakis and I were discussing this the other day, thinking that perhaps the function kind inferrence on lambda blocks is too clever. To make the function syntax more usable we can do as you suggest and make the argument types optional. Additionally we were thinking that we could omit the parens for functions without arguments, so spawn would look like\n\n```\nspawn fn~ {\n};\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/4007789/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/4007815",
    "html_url": "https://github.com/rust-lang/rust/issues/1854#issuecomment-4007815",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/1854",
    "id": 4007815,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwMDc4MTU=",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-02-16T19:41:19Z",
    "updated_at": "2012-02-16T19:41:19Z",
    "body": "We could go as far as you suggest and remove block syntax. `fn { }` looks just as good as (possibly better than) `{|| }`\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/4007815/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/4009265",
    "html_url": "https://github.com/rust-lang/rust/issues/1854#issuecomment-4009265",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/1854",
    "id": 4009265,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwMDkyNjU=",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-02-16T20:58:48Z",
    "updated_at": "2012-02-16T20:58:48Z",
    "body": "Yes, I'm now a fan of allowing `fn` expressions (with optionally omitted parentheses and variable types) wherever we allow `{||...}`. \n\nI am not sure how I feel about removing `{||...}` altogether though.  I think i'd be inclined to keep it but have it always be a stack closure (`fn&`).  Yes, it's two ways to write the same thing, but \n\n```\nvec::iter(v) fn {\n}\n```\n\ndoesn't look right to me.  But maybe it just takes getting used to (Even in that example, I am assuming we allow `fn` as a synonym for the more strictly correct `fn&`).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/4009265/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/4010429",
    "html_url": "https://github.com/rust-lang/rust/issues/1854#issuecomment-4010429",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/1854",
    "id": 4010429,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwMTA0Mjk=",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-02-16T21:59:27Z",
    "updated_at": "2012-02-16T21:59:27Z",
    "body": "Agreed.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/4010429/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/4014461",
    "html_url": "https://github.com/rust-lang/rust/issues/1854#issuecomment-4014461",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/1854",
    "id": 4014461,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwMTQ0NjE=",
    "user": {
      "login": "ssylvan",
      "id": 1365415,
      "node_id": "MDQ6VXNlcjEzNjU0MTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1365415?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ssylvan",
      "html_url": "https://github.com/ssylvan",
      "followers_url": "https://api.github.com/users/ssylvan/followers",
      "following_url": "https://api.github.com/users/ssylvan/following{/other_user}",
      "gists_url": "https://api.github.com/users/ssylvan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ssylvan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ssylvan/subscriptions",
      "organizations_url": "https://api.github.com/users/ssylvan/orgs",
      "repos_url": "https://api.github.com/users/ssylvan/repos",
      "events_url": "https://api.github.com/users/ssylvan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ssylvan/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-02-17T03:11:54Z",
    "updated_at": "2012-02-17T03:15:16Z",
    "body": "How about go the other way and make the normal function definition just be a let statenent that binds a lambda of some sort?\n\nI really like the idea of unifying syntaxes though, but it's worth considering changing the declaration to be more like the expression, instead of going the other way. Also, it would be cool if there wasn't two ways to declare a function (either by using special-case function declaration syntax, or just creating a lambda, of some sort, and assining it to a variable).\n\nMaybe get rid of special function declarations, and do something like:\n\n```\n// just declare a variable that happens to be a function...\nlet foo1 = ( x : int ) -> int {\n   x+5\n};\n\n// alternative form, do inference the other way, either would be legal\nlet foo2 : (int) -> int = x {\n  x+5\n};\n\n// full syntax, all types explicit, no inference\nlet foo3 : (int)->int = (x : int) -> int {\n   x+5\n};\n```\n\nThese all sort of look enough like function definitions, but are really just declaring a variable like any other. \n\nEDIT: oh, this is kind of a strawman proposal. I haven't considered how this syntax would be parsed. I can imagine it might be ambiguous or something.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/4014461/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/4022144",
    "html_url": "https://github.com/rust-lang/rust/issues/1854#issuecomment-4022144",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/1854",
    "id": 4022144,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwMjIxNDQ=",
    "user": {
      "login": "mcandre",
      "id": 5316,
      "node_id": "MDQ6VXNlcjUzMTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5316?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mcandre",
      "html_url": "https://github.com/mcandre",
      "followers_url": "https://api.github.com/users/mcandre/followers",
      "following_url": "https://api.github.com/users/mcandre/following{/other_user}",
      "gists_url": "https://api.github.com/users/mcandre/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mcandre/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mcandre/subscriptions",
      "organizations_url": "https://api.github.com/users/mcandre/orgs",
      "repos_url": "https://api.github.com/users/mcandre/repos",
      "events_url": "https://api.github.com/users/mcandre/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mcandre/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-02-17T15:37:40Z",
    "updated_at": "2012-02-17T15:37:40Z",
    "body": "As a Lisper, I would love to have `fn name(args...) { ... }` desugar to `let name = fn(args...) { ... }`, assuming `fn` is treated as lambda. It would simplify compilation and make the language easier to learn.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/4022144/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/4023178",
    "html_url": "https://github.com/rust-lang/rust/issues/1854#issuecomment-4023178",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/1854",
    "id": 4023178,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwMjMxNzg=",
    "user": {
      "login": "bstrie",
      "id": 865233,
      "node_id": "MDQ6VXNlcjg2NTIzMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/865233?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bstrie",
      "html_url": "https://github.com/bstrie",
      "followers_url": "https://api.github.com/users/bstrie/followers",
      "following_url": "https://api.github.com/users/bstrie/following{/other_user}",
      "gists_url": "https://api.github.com/users/bstrie/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bstrie/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bstrie/subscriptions",
      "organizations_url": "https://api.github.com/users/bstrie/orgs",
      "repos_url": "https://api.github.com/users/bstrie/repos",
      "events_url": "https://api.github.com/users/bstrie/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bstrie/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-02-17T16:41:14Z",
    "updated_at": "2012-02-17T16:41:14Z",
    "body": "I realize that I'm in a minority here, but (perhaps due to the scarcity of documentation and my own lack of expertise) I often have trouble passing functions around in Rust. In addition (and here I'm guessing I'm even more in the minority) I often don't even _care_ about the types of the arguments and return values of my functions; all I want is for my functions to \"just work\". In both these cases, the `{|args| body}` syntax is indispensable in its ability to infer my intentions.\n\nPerhaps this is a use case that you don't really care if Rust supports--loose \"script-like\" programming where the programmer isn't really paying attention to what he's doing, and if that's the case then I understand. But far from making it harder to learn the language, Rust's block syntax (occasionally) frees me from stalling out on laboriously specifying function signatures, allowing me to continue learning other aspects of the language.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/4023178/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/4023229",
    "html_url": "https://github.com/rust-lang/rust/issues/1854#issuecomment-4023229",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/1854",
    "id": 4023229,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwMjMyMjk=",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-02-17T16:43:44Z",
    "updated_at": "2012-02-17T16:43:44Z",
    "body": "From rust-dev mailing list:\n\nI am not in favor of removing named fn items for several reasons.\n1. I like that named functions do not inherit their environment.  I find that for long functions I typically only want one or two variables from the environment, and inheriting more than that is inviting bugs, as those other variables are not meant to be used.  This could admittedly be addressed by requiring explicit capture clauses.\n2. In addition, the order of closure construction is very significant in Rust, particularly when you do things like move data into a closure.  But declarations like \"fn foo()\" do not look like side-effecting statements, although they would be.  Also, item decl order is generally insignificant in Rust, but this would no longer be the case.\n3. Finally, the issue of mutually recursive functions would become quite annoying.  As I understand it, this proposal would mean that functions inherit the names that appear before their declaration, making it hard to write a mutually recursive function declaration.  If you decide to inherit all names from the parent, then it becomes quite challenging to know whether all variables that might be used have been initialized.  You end up needing a `let rec` form or something like that.\n\nNo doubt these issues can be addressed, but just making \"fn foo(x,y)\" sugar for \"let foo = {|x, y| ...}\" will not be very usable by itself (imo).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/4023229/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/4023978",
    "html_url": "https://github.com/rust-lang/rust/issues/1854#issuecomment-4023978",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/1854",
    "id": 4023978,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwMjM5Nzg=",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-02-17T17:22:11Z",
    "updated_at": "2012-02-17T17:22:11Z",
    "body": "I am going to close this issue and open a new one more narrowly tailored to the proposal that @brson described.  I don't think we will remove block syntax nor named fn items---and, if we were going to do it, I'd like to see a more detailed proposal addressing the concerns I described above.  If anyone disagrees, please feel free to re-open.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/4023978/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
