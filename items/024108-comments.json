[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/92428734",
    "html_url": "https://github.com/rust-lang/rust/issues/24108#issuecomment-92428734",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24108",
    "id": 92428734,
    "node_id": "MDEyOklzc3VlQ29tbWVudDkyNDI4NzM0",
    "user": {
      "login": "Virtlink",
      "id": 647530,
      "node_id": "MDQ6VXNlcjY0NzUzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/647530?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Virtlink",
      "html_url": "https://github.com/Virtlink",
      "followers_url": "https://api.github.com/users/Virtlink/followers",
      "following_url": "https://api.github.com/users/Virtlink/following{/other_user}",
      "gists_url": "https://api.github.com/users/Virtlink/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Virtlink/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Virtlink/subscriptions",
      "organizations_url": "https://api.github.com/users/Virtlink/orgs",
      "repos_url": "https://api.github.com/users/Virtlink/repos",
      "events_url": "https://api.github.com/users/Virtlink/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Virtlink/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-13T17:13:25Z",
    "updated_at": "2015-04-13T17:13:25Z",
    "body": "I have the same issue. It worked fine in nightly c89de2c56 (2015-03-28), but now in nightly 47def3ef2 (2015-04-13) I get these errors when trying to link my standalone kernel with libcore:\n\n```\nlibkernel-7b2dcbc423fd2cc0.a(r-core-core-bffd6497cd08eb80.o):\nIn function `core::option::Option<T>::and_then<(&core::fmt::ArgumentV1, &&str),closure>':\nlibcore/src/option.rs:627: undefined reference to `_Unwind_Resume'\nIn function `core::option::Option<T>::and_then<(&core::fmt::rt::v1::Argument, &&str),closure>':\nlibcore/src/option.rs:627: undefined reference to `_Unwind_Resume'\n```\n\nIt only happens when I use my custom `target.json`:\n\n```\n{\n    \"data-layout\": \"e-p:64:64:64-i1:8:8-i8:8:8-i16:16:16-i32:32:32-i64:64:64-f32:32:32-f64:64:64-v64:64:64-v128:128:128-a0:0:64-s0:64:64-f80:128:128-n8:16:32:64-S128\",\n    \"llvm-target\": \"x86_64-unknown-linux-gnu\",\n    \"target-endian\": \"little\",\n    \"target-pointer-width\": \"64\",\n    \"os\": \"orion\",\n    \"arch\": \"x86_64\",\n    \"pre-link-args\": [\"-m64\"],\n    \"no-compiler-rt\": true,\n    \"disable-redzone\": true,\n    \"eliminate-frame-pointer\": false,\n    \"morestack\": false\n}\n```\n\nIf I try to add `_Unwind_Resume` manually:\n\n```\n#[no_mangle]\n#[allow(non_snake_case)]\npub extern \"C\" fn _Unwind_Resume(_ex_obj: *mut ()) { }\n```\n\n...Rust gives me this error instead:\n\n```\nsrc/lib.rs:118:1: 118:55 error: symbol `_Unwind_Resume` is already defined\nsrc/lib.rs:118 pub extern \"C\" fn _Unwind_Resume(_ex_obj: *mut ()) { }\n               ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n```\n\nIs there a solution or workaround?\n\n<br />\n\n```\nrustc 1.0.0-nightly (47def3ef2 2015-04-13) (built 2015-04-13)\nbinary: rustc\ncommit-hash: 47def3ef27a2e027f1a93ef7870ff131ee7926fd\ncommit-date: 2015-04-13\nbuild-date: 2015-04-13\nhost: x86_64-unknown-linux-gnu\nrelease: 1.0.0-nightly\n```\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/92428734/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/92442838",
    "html_url": "https://github.com/rust-lang/rust/issues/24108#issuecomment-92442838",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24108",
    "id": 92442838,
    "node_id": "MDEyOklzc3VlQ29tbWVudDkyNDQyODM4",
    "user": {
      "login": "semarie",
      "id": 8948701,
      "node_id": "MDQ6VXNlcjg5NDg3MDE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8948701?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/semarie",
      "html_url": "https://github.com/semarie",
      "followers_url": "https://api.github.com/users/semarie/followers",
      "following_url": "https://api.github.com/users/semarie/following{/other_user}",
      "gists_url": "https://api.github.com/users/semarie/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/semarie/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/semarie/subscriptions",
      "organizations_url": "https://api.github.com/users/semarie/orgs",
      "repos_url": "https://api.github.com/users/semarie/repos",
      "events_url": "https://api.github.com/users/semarie/events{/privacy}",
      "received_events_url": "https://api.github.com/users/semarie/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-13T17:44:40Z",
    "updated_at": "2015-04-13T17:44:40Z",
    "body": "@Virtlink you could try to explicitly link with libgcc by providing `-lgcc` on rustc command-line.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/92442838/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/92444120",
    "html_url": "https://github.com/rust-lang/rust/issues/24108#issuecomment-92444120",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24108",
    "id": 92444120,
    "node_id": "MDEyOklzc3VlQ29tbWVudDkyNDQ0MTIw",
    "user": {
      "login": "Virtlink",
      "id": 647530,
      "node_id": "MDQ6VXNlcjY0NzUzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/647530?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Virtlink",
      "html_url": "https://github.com/Virtlink",
      "followers_url": "https://api.github.com/users/Virtlink/followers",
      "following_url": "https://api.github.com/users/Virtlink/following{/other_user}",
      "gists_url": "https://api.github.com/users/Virtlink/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Virtlink/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Virtlink/subscriptions",
      "organizations_url": "https://api.github.com/users/Virtlink/orgs",
      "repos_url": "https://api.github.com/users/Virtlink/repos",
      "events_url": "https://api.github.com/users/Virtlink/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Virtlink/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-13T17:50:21Z",
    "updated_at": "2015-04-13T17:50:21Z",
    "body": "@semarie Can that be done through Cargo too? As I've only used Cargo up to now.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/92444120/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/92449682",
    "html_url": "https://github.com/rust-lang/rust/issues/24108#issuecomment-92449682",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24108",
    "id": 92449682,
    "node_id": "MDEyOklzc3VlQ29tbWVudDkyNDQ5Njgy",
    "user": {
      "login": "semarie",
      "id": 8948701,
      "node_id": "MDQ6VXNlcjg5NDg3MDE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8948701?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/semarie",
      "html_url": "https://github.com/semarie",
      "followers_url": "https://api.github.com/users/semarie/followers",
      "following_url": "https://api.github.com/users/semarie/following{/other_user}",
      "gists_url": "https://api.github.com/users/semarie/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/semarie/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/semarie/subscriptions",
      "organizations_url": "https://api.github.com/users/semarie/orgs",
      "repos_url": "https://api.github.com/users/semarie/repos",
      "events_url": "https://api.github.com/users/semarie/events{/privacy}",
      "received_events_url": "https://api.github.com/users/semarie/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-13T18:16:55Z",
    "updated_at": "2015-04-13T18:16:55Z",
    "body": "I really don't known... (I don't have cargo on openbsd). You could try to add \n`#[link(name=\"gcc\")]` in your file.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/92449682/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
