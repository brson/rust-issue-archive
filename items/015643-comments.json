[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/48835854",
    "html_url": "https://github.com/rust-lang/rust/pull/15643#issuecomment-48835854",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15643",
    "id": 48835854,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4ODM1ODU0",
    "user": {
      "login": "errordeveloper",
      "id": 251467,
      "node_id": "MDQ6VXNlcjI1MTQ2Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/251467?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/errordeveloper",
      "html_url": "https://github.com/errordeveloper",
      "followers_url": "https://api.github.com/users/errordeveloper/followers",
      "following_url": "https://api.github.com/users/errordeveloper/following{/other_user}",
      "gists_url": "https://api.github.com/users/errordeveloper/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/errordeveloper/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/errordeveloper/subscriptions",
      "organizations_url": "https://api.github.com/users/errordeveloper/orgs",
      "repos_url": "https://api.github.com/users/errordeveloper/repos",
      "events_url": "https://api.github.com/users/errordeveloper/events{/privacy}",
      "received_events_url": "https://api.github.com/users/errordeveloper/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-13T09:27:12Z",
    "updated_at": "2014-07-13T09:27:12Z",
    "body": "it is still missing Windows support... and unit tests. Would be great to hear some feedback before I proceed with more work on this.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/48835854/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/48835960",
    "html_url": "https://github.com/rust-lang/rust/pull/15643#issuecomment-48835960",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15643",
    "id": 48835960,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4ODM1OTYw",
    "user": {
      "login": "errordeveloper",
      "id": 251467,
      "node_id": "MDQ6VXNlcjI1MTQ2Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/251467?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/errordeveloper",
      "html_url": "https://github.com/errordeveloper",
      "followers_url": "https://api.github.com/users/errordeveloper/followers",
      "following_url": "https://api.github.com/users/errordeveloper/following{/other_user}",
      "gists_url": "https://api.github.com/users/errordeveloper/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/errordeveloper/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/errordeveloper/subscriptions",
      "organizations_url": "https://api.github.com/users/errordeveloper/orgs",
      "repos_url": "https://api.github.com/users/errordeveloper/repos",
      "events_url": "https://api.github.com/users/errordeveloper/events{/privacy}",
      "received_events_url": "https://api.github.com/users/errordeveloper/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-13T09:31:08Z",
    "updated_at": "2014-07-13T09:31:08Z",
    "body": "My main question regarding the unit tests is whether I should add it to every implementation of this trait  except from the trait definition, right?\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/48835960/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/48835977",
    "html_url": "https://github.com/rust-lang/rust/pull/15643#issuecomment-48835977",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15643",
    "id": 48835977,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4ODM1OTc3",
    "user": {
      "login": "errordeveloper",
      "id": 251467,
      "node_id": "MDQ6VXNlcjI1MTQ2Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/251467?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/errordeveloper",
      "html_url": "https://github.com/errordeveloper",
      "followers_url": "https://api.github.com/users/errordeveloper/followers",
      "following_url": "https://api.github.com/users/errordeveloper/following{/other_user}",
      "gists_url": "https://api.github.com/users/errordeveloper/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/errordeveloper/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/errordeveloper/subscriptions",
      "organizations_url": "https://api.github.com/users/errordeveloper/orgs",
      "repos_url": "https://api.github.com/users/errordeveloper/repos",
      "events_url": "https://api.github.com/users/errordeveloper/events{/privacy}",
      "received_events_url": "https://api.github.com/users/errordeveloper/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-13T09:32:19Z",
    "updated_at": "2014-07-13T09:32:19Z",
    "body": "Regarding Windows, I have no idea, so please do feel free to make some suggestions... Does it even have FDs in the same sense?\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/48835977/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/48844181",
    "html_url": "https://github.com/rust-lang/rust/pull/15643#issuecomment-48844181",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15643",
    "id": 48844181,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4ODQ0MTgx",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-13T15:54:21Z",
    "updated_at": "2014-07-13T15:54:21Z",
    "body": "I'm a little wary to do this because of, sadly, windows. I don't quite grok how windows deals with `HANDLE` values vs file descriptors (there is some correspondence at least). Dealing with a file descriptor manually is also largely not portable, but it is often quite useful!\n\nI would want to understand better how this works with windows before moving forward, personally.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/48844181/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/48845501",
    "html_url": "https://github.com/rust-lang/rust/pull/15643#issuecomment-48845501",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15643",
    "id": 48845501,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4ODQ1NTAx",
    "user": {
      "login": "errordeveloper",
      "id": 251467,
      "node_id": "MDQ6VXNlcjI1MTQ2Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/251467?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/errordeveloper",
      "html_url": "https://github.com/errordeveloper",
      "followers_url": "https://api.github.com/users/errordeveloper/followers",
      "following_url": "https://api.github.com/users/errordeveloper/following{/other_user}",
      "gists_url": "https://api.github.com/users/errordeveloper/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/errordeveloper/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/errordeveloper/subscriptions",
      "organizations_url": "https://api.github.com/users/errordeveloper/orgs",
      "repos_url": "https://api.github.com/users/errordeveloper/repos",
      "events_url": "https://api.github.com/users/errordeveloper/events{/privacy}",
      "received_events_url": "https://api.github.com/users/errordeveloper/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-13T16:41:28Z",
    "updated_at": "2014-07-13T16:47:55Z",
    "body": "> I would want to understand better how this works with windows before moving forward, personally.\n\n@alexcrichton understood.\n\n> Dealing with a file descriptor manually is also largely not portable, but it is often quite useful!\n\nI have briefly though of doing something along the lines of:\n\n``` Rust\nfn with_c_fd(&self, close_after: bool, block: |libc::c_int| -> IoResult) { match block(self.fd()) { ... } }\n```\n\nAlthough this seems rather useful and makes sense along the side of `with_c_str`, but in some cases all you really want is to pass that file descriptor along and take the responsibility of closing it yourself. The prosed change certainly makes a lot of sense as the first step.\n\nTo me, the most disapointing bit was finding out that there is [`fs_from_raw_fd`](http://doc.rust-lang.org/src/native/home/rustbuild/src/rust-buildbot/slave/nightly-linux/build/src/libnative/io/mod.rs.html#212-219)...\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/48845501/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/48846256",
    "html_url": "https://github.com/rust-lang/rust/pull/15643#issuecomment-48846256",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15643",
    "id": 48846256,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4ODQ2MjU2",
    "user": {
      "login": "errordeveloper",
      "id": 251467,
      "node_id": "MDQ6VXNlcjI1MTQ2Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/251467?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/errordeveloper",
      "html_url": "https://github.com/errordeveloper",
      "followers_url": "https://api.github.com/users/errordeveloper/followers",
      "following_url": "https://api.github.com/users/errordeveloper/following{/other_user}",
      "gists_url": "https://api.github.com/users/errordeveloper/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/errordeveloper/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/errordeveloper/subscriptions",
      "organizations_url": "https://api.github.com/users/errordeveloper/orgs",
      "repos_url": "https://api.github.com/users/errordeveloper/repos",
      "events_url": "https://api.github.com/users/errordeveloper/events{/privacy}",
      "received_events_url": "https://api.github.com/users/errordeveloper/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-13T17:09:44Z",
    "updated_at": "2014-07-13T17:09:44Z",
    "body": "@alexcrichton by looking at `libnative/io/file_win32.rs`, it doesn't seem like there is a huge difference...\n\nThere is only an additional method:\n\n``` Rust\n    pub fn fd(&self) -> fd_t { self.inner.fd }\n\n    pub fn handle(&self) -> libc::HANDLE {\n        unsafe { libc::get_osfhandle(self.fd()) as libc::HANDLE }\n    }\n```\n\nSo I guess I could provide `get_handle` in addition to `get_fd` in the windows version.\n\nWe need to check with `libuv` also...\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/48846256/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/48846648",
    "html_url": "https://github.com/rust-lang/rust/pull/15643#issuecomment-48846648",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15643",
    "id": 48846648,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4ODQ2NjQ4",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-13T17:26:45Z",
    "updated_at": "2014-07-13T17:26:45Z",
    "body": "I'm not sure whether a file descriptor is a first-class thing in windows or what relation it has to HANDLE other than there's likely a one-to-one mapping. Most windows apis deal with a HANDLE instead of a file descriptor, so this change would definitely be favoring unix over windows.\n\nFrom your example above, however, this is why I've been hesitant to add it in the past. Many methods on these objects won't work if you start manually fiddling with flags on the file descriptor itself.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/48846648/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/48846725",
    "html_url": "https://github.com/rust-lang/rust/pull/15643#issuecomment-48846725",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15643",
    "id": 48846725,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4ODQ2NzI1",
    "user": {
      "login": "retep998",
      "id": 666308,
      "node_id": "MDQ6VXNlcjY2NjMwOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/666308?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/retep998",
      "html_url": "https://github.com/retep998",
      "followers_url": "https://api.github.com/users/retep998/followers",
      "following_url": "https://api.github.com/users/retep998/following{/other_user}",
      "gists_url": "https://api.github.com/users/retep998/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/retep998/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/retep998/subscriptions",
      "organizations_url": "https://api.github.com/users/retep998/orgs",
      "repos_url": "https://api.github.com/users/retep998/repos",
      "events_url": "https://api.github.com/users/retep998/events{/privacy}",
      "received_events_url": "https://api.github.com/users/retep998/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-13T17:29:52Z",
    "updated_at": "2014-07-13T17:29:52Z",
    "body": "Perhaps `get_fd` should be unsafe to warn you that working with file descriptors is an unsafe thing?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/48846725/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/48848136",
    "html_url": "https://github.com/rust-lang/rust/pull/15643#issuecomment-48848136",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15643",
    "id": 48848136,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4ODQ4MTM2",
    "user": {
      "login": "errordeveloper",
      "id": 251467,
      "node_id": "MDQ6VXNlcjI1MTQ2Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/251467?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/errordeveloper",
      "html_url": "https://github.com/errordeveloper",
      "followers_url": "https://api.github.com/users/errordeveloper/followers",
      "following_url": "https://api.github.com/users/errordeveloper/following{/other_user}",
      "gists_url": "https://api.github.com/users/errordeveloper/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/errordeveloper/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/errordeveloper/subscriptions",
      "organizations_url": "https://api.github.com/users/errordeveloper/orgs",
      "repos_url": "https://api.github.com/users/errordeveloper/repos",
      "events_url": "https://api.github.com/users/errordeveloper/events{/privacy}",
      "received_events_url": "https://api.github.com/users/errordeveloper/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-13T18:24:27Z",
    "updated_at": "2014-07-13T18:24:27Z",
    "body": "I have considered this and it's in the doc comment. There is not much you\ncan do with it apart from passing to a C function, which you will have to\nwrap into  an unsafe block anyway.\nThe FD is not a thing that you would have to keep secure anyway, a user can\nget all FD to each of the processes running with their UID without a lot of\neffort, if they had to be secure they wouldn't be numeric anyway. This is\nnot the right place to discuss security anyway, why did I even get started?\nAs far as Rust is concerned, it does not intend to make the result\napplication secure. It can only make it safer. Although, I think insecurity\nis a side effect of unsafe languages...\nOn 13 Jul 2014 18:30, \"Peter Atashian\" notifications@github.com wrote:\n\n> Perhaps get_fd should be unsafe to warn you that working with file\n> descriptors is an unsafe thing?\n> \n> ## \n> \n> Reply to this email directly or view it on GitHub\n> https://github.com/rust-lang/rust/pull/15643#issuecomment-48846725.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/48848136/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/48848511",
    "html_url": "https://github.com/rust-lang/rust/pull/15643#issuecomment-48848511",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15643",
    "id": 48848511,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4ODQ4NTEx",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-13T18:37:32Z",
    "updated_at": "2014-07-13T18:37:32Z",
    "body": "This is not necessarily a security bug, it has the possibility of becoming a memory safety bug. Functions in libnative (and possibly libuv as well) may be designed assuming complete control of a file descriptor. If this control is broken, the broken assumptions may lead to memory unsafety.\n\nI don't think we have any examples of this today, but that doesn't mean that it's impossible to have.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/48848511/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/48848698",
    "html_url": "https://github.com/rust-lang/rust/pull/15643#issuecomment-48848698",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15643",
    "id": 48848698,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4ODQ4Njk4",
    "user": {
      "login": "errordeveloper",
      "id": 251467,
      "node_id": "MDQ6VXNlcjI1MTQ2Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/251467?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/errordeveloper",
      "html_url": "https://github.com/errordeveloper",
      "followers_url": "https://api.github.com/users/errordeveloper/followers",
      "following_url": "https://api.github.com/users/errordeveloper/following{/other_user}",
      "gists_url": "https://api.github.com/users/errordeveloper/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/errordeveloper/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/errordeveloper/subscriptions",
      "organizations_url": "https://api.github.com/users/errordeveloper/orgs",
      "repos_url": "https://api.github.com/users/errordeveloper/repos",
      "events_url": "https://api.github.com/users/errordeveloper/events{/privacy}",
      "received_events_url": "https://api.github.com/users/errordeveloper/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-13T18:45:16Z",
    "updated_at": "2014-07-13T18:45:16Z",
    "body": "OK, sure. I'm not completely opposing making it an unsafe function. And,\nperhaps with suggested `with_c_fd` solution, it may be made somewhat safer\nwith respect to other functions... I would also propose adding a lock\nattribute around this and may be also add a guard for ensuring that only\nread-only access is allowed, perhaps. For example, `get_fd` could fail if\nit holds write access. Although it would be less useful that way... I'm not\nsure whether one can force to reopen the same FD though.\n\nSo best solution would probably be to just simply call those functions\nunsafe.\nOn 13 Jul 2014 19:37, \"Alex Crichton\" notifications@github.com wrote:\n\n> This is not necessarily a security bug, it has the possibility of becoming\n> a memory safety bug. Functions in libnative (and possibly libuv as well)\n> may be designed assuming complete control of a file descriptor. If this\n> control is broken, the broken assumptions may lead to memory unsafety.\n> \n> I don't think we have any examples of this today, but that doesn't mean\n> that it's impossible to have.\n> \n> ## \n> \n> Reply to this email directly or view it on GitHub\n> https://github.com/rust-lang/rust/pull/15643#issuecomment-48848511.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/48848698/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/48849619",
    "html_url": "https://github.com/rust-lang/rust/pull/15643#issuecomment-48849619",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15643",
    "id": 48849619,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4ODQ5NjE5",
    "user": {
      "login": "andrew-d",
      "id": 1079173,
      "node_id": "MDQ6VXNlcjEwNzkxNzM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1079173?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/andrew-d",
      "html_url": "https://github.com/andrew-d",
      "followers_url": "https://api.github.com/users/andrew-d/followers",
      "following_url": "https://api.github.com/users/andrew-d/following{/other_user}",
      "gists_url": "https://api.github.com/users/andrew-d/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/andrew-d/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/andrew-d/subscriptions",
      "organizations_url": "https://api.github.com/users/andrew-d/orgs",
      "repos_url": "https://api.github.com/users/andrew-d/repos",
      "events_url": "https://api.github.com/users/andrew-d/events{/privacy}",
      "received_events_url": "https://api.github.com/users/andrew-d/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-13T19:20:33Z",
    "updated_at": "2014-07-13T19:20:33Z",
    "body": "> I'm not sure whether a file descriptor is a first-class thing in windows or what relation it has to HANDLE other than there's likely a one-to-one mapping. Most windows apis deal with a HANDLE instead of a file descriptor, so this change would definitely be favoring unix over windows.\n\nFor what it's worth, a `HANDLE` on Windows is essentially the equivalent of the unix `fd` - it's what's used by the operating system, stored internally in the handle table of each process, etc..  `fd`s on Windows, on the other hand, are only used by the C runtime library, and I believe there are cases in which a CRT `fd` doesn't have a backing `HANDLE`, though some quick googling doesn't provide any information about this.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/48849619/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/48854345",
    "html_url": "https://github.com/rust-lang/rust/pull/15643#issuecomment-48854345",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15643",
    "id": 48854345,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4ODU0MzQ1",
    "user": {
      "login": "errordeveloper",
      "id": 251467,
      "node_id": "MDQ6VXNlcjI1MTQ2Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/251467?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/errordeveloper",
      "html_url": "https://github.com/errordeveloper",
      "followers_url": "https://api.github.com/users/errordeveloper/followers",
      "following_url": "https://api.github.com/users/errordeveloper/following{/other_user}",
      "gists_url": "https://api.github.com/users/errordeveloper/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/errordeveloper/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/errordeveloper/subscriptions",
      "organizations_url": "https://api.github.com/users/errordeveloper/orgs",
      "repos_url": "https://api.github.com/users/errordeveloper/repos",
      "events_url": "https://api.github.com/users/errordeveloper/events{/privacy}",
      "received_events_url": "https://api.github.com/users/errordeveloper/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-13T22:57:13Z",
    "updated_at": "2014-07-13T22:57:13Z",
    "body": "So my Stack Overflow post resulted in [a solution](http://stackoverflow.com/a/24719082/717998) that will work for what I am doing right now.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/48854345/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/48854693",
    "html_url": "https://github.com/rust-lang/rust/pull/15643#issuecomment-48854693",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15643",
    "id": 48854693,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4ODU0Njkz",
    "user": {
      "login": "errordeveloper",
      "id": 251467,
      "node_id": "MDQ6VXNlcjI1MTQ2Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/251467?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/errordeveloper",
      "html_url": "https://github.com/errordeveloper",
      "followers_url": "https://api.github.com/users/errordeveloper/followers",
      "following_url": "https://api.github.com/users/errordeveloper/following{/other_user}",
      "gists_url": "https://api.github.com/users/errordeveloper/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/errordeveloper/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/errordeveloper/subscriptions",
      "organizations_url": "https://api.github.com/users/errordeveloper/orgs",
      "repos_url": "https://api.github.com/users/errordeveloper/repos",
      "events_url": "https://api.github.com/users/errordeveloper/events{/privacy}",
      "received_events_url": "https://api.github.com/users/errordeveloper/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-13T23:12:57Z",
    "updated_at": "2014-07-13T23:14:25Z",
    "body": "I do still insist on this going forward.\n\n@alexcrichton you commented earlier:\n\n> This is not necessarily a security bug, it has the possibility of becoming a memory safety bug. Functions in libnative (and possibly libuv as well) may be designed assuming complete control of a file descriptor. If this control is broken, the broken assumptions may lead to memory unsafety.\n\nSo it does occur to me now, based on the solution posted on Stack Overflow, that `libnative` (and most likelly `libuv` too) will allow one to call `file.fd()`, it's just that `std::io::fs::File` tries to hide it away for some reason.\n\nPerhaps `fd()` and my `get_fd()` should be made unsafe for the reasons that we discussed? Although, personally I do not see those reasons being particularly strong. As I said, if one will be passing this to a C function call, they will need to explicitly say that it's going to be unsafe. In fact, I do think that operation of actually getting the numeric value of the file descriptor is 100% safe as such. It's what you do with it after.\n\nIn fact, one might actually simply use this to could how many files they have opened so far. As far as standard run time goes, it could actually attempt to protect form file descriptor leaks by preventing someone from opening the same file over and over again with the same mode... It would just tell you, that this had already been open and here is the original handle.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/48854693/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/48903917",
    "html_url": "https://github.com/rust-lang/rust/pull/15643#issuecomment-48903917",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15643",
    "id": 48903917,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4OTAzOTE3",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-14T14:10:28Z",
    "updated_at": "2014-07-14T14:10:28Z",
    "body": "The librustuv and libnative interfaces are likely to always be experimental and not intended for general consumption. They provide their own access to file descriptors out of necessity for the library itself, I wouldn't recommend relying on the native/rustuv interfaces for extracting file descriptors.\n\nIf we were to add this function, I believe that it should be `unsafe` as we don't know for sure that all backing support is indeed memory safe if a file descriptor is fiddled with. Additionally, it should generally be avoided and not be necessary.\n\nAlso, from what @andrew-d said about file descriptors on windows, this would be tying rust permanently to their C runtime library. I'm not entirely sure if that's desirable or not?\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/48903917/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49089063",
    "html_url": "https://github.com/rust-lang/rust/pull/15643#issuecomment-49089063",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15643",
    "id": 49089063,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MDg5MDYz",
    "user": {
      "login": "errordeveloper",
      "id": 251467,
      "node_id": "MDQ6VXNlcjI1MTQ2Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/251467?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/errordeveloper",
      "html_url": "https://github.com/errordeveloper",
      "followers_url": "https://api.github.com/users/errordeveloper/followers",
      "following_url": "https://api.github.com/users/errordeveloper/following{/other_user}",
      "gists_url": "https://api.github.com/users/errordeveloper/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/errordeveloper/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/errordeveloper/subscriptions",
      "organizations_url": "https://api.github.com/users/errordeveloper/orgs",
      "repos_url": "https://api.github.com/users/errordeveloper/repos",
      "events_url": "https://api.github.com/users/errordeveloper/events{/privacy}",
      "received_events_url": "https://api.github.com/users/errordeveloper/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-15T20:37:56Z",
    "updated_at": "2014-07-15T20:37:56Z",
    "body": "Another use case for this would when one wants to use `std::os::MemoryMap`, which takes a file descriptor and does so on windows also. If you look at the source code it calls `libc::get_osfhandle(fd)` to get the handle...\n\nAnyhow, right now I need to use `native::io::file::open`, if I want to use `std::os::MemoryMap`. Is this okay or I should ideally use `std::io::fs::File`?\n\n``` rust\nextern crate std;\nextern crate native;\nextern crate debug;\n\nuse native::io::file::open;\nuse std::rt::rtio::{Open, Read};\nuse std::os::{MemoryMap, MapReadable, MapWritable, MapFd};\n\nfn main() {\n  let path = \"test.bin\";\n  let file =\n    match open(&path.to_c_str(), Open, Read) {\n      Err(_) => { fail!(\"Something is terribly wrong!\"); },\n      Ok(f)  => { f },\n    };\n  let fmap = \n    match MemoryMap::new(4096u, [MapReadable, MapWritable, MapFd(file.fd())]) {\n      Err(_) => { fail!(\"Something is terribly wrong!\"); },\n      Ok(f)  => { f },\n    };\n  println!(\"{:?}\", fmap);\n}\n```\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49089063/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49102438",
    "html_url": "https://github.com/rust-lang/rust/pull/15643#issuecomment-49102438",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15643",
    "id": 49102438,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MTAyNDM4",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-15T22:39:00Z",
    "updated_at": "2014-07-15T22:39:00Z",
    "body": "Ok, after stewing for a bit I think I'd like to move forward with this. @errordeveloper, could you add the following pieces to the pr?\n- Add `get_fd` to all the other I/O primitives in `std::io` (where applicable). The ones that I can think of are:\n  - {Tcp, Unix}{Stream, Acceptor, Listener}\n  - UdpSocket,\n  - File\n  - PipeStream\n  - Std{Reader, Writer}\n- All methods can basically point to one other method to look for documentation\n- There should be stern documentation about the dangers of using raw file descriptors, I can help with the exact wording\n- Windows networking objects should be commented that they are returning a `SOCKET`, not a file descriptor\n- Comments should indicate that file descriptors on windows are C runtime artifacts, not HANDLE values.\n\nAnd some unresolved questions I also have:\n- Should `get_fd` be unsafe? (I would vote yes)\n- Should `get_fd` return an `int` instead of a `c_int`? This is largely due to `SOCKET` where it is a `c_uint` and this also may just vary per-platform. I would tend to lean towards yes to not expose C types, but I don't feel super strongly about this.\n- Is `get_fd` the best name? The sockets on windows definitely aren't file descriptors...\n- Should `get_fd` be a trait method? It's probably too much abstraction for now, so I would vote no. The upside is that you have to explicitly import something to look at the file descriptor.\n\nDoes that sounds ok? We can deal with the questions in time, and I'm around to help out with any questions you have, feel free to reach out on IRC! (I'm acrichto)\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49102438/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49105028",
    "html_url": "https://github.com/rust-lang/rust/pull/15643#issuecomment-49105028",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15643",
    "id": 49105028,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MTA1MDI4",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-15T23:11:06Z",
    "updated_at": "2014-07-15T23:11:06Z",
    "body": "> Is get_fd the best name? The sockets on windows definitely aren't file descriptors...\n\n`get_os_identifier`? (I guess people will likely be looking for \"file descriptor\" or \"fd\" when searching for it, so this may not be the most discoverable name.)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49105028/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49404096",
    "html_url": "https://github.com/rust-lang/rust/pull/15643#issuecomment-49404096",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15643",
    "id": 49404096,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NDA0MDk2",
    "user": {
      "login": "chris-morgan",
      "id": 392868,
      "node_id": "MDQ6VXNlcjM5Mjg2OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/392868?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chris-morgan",
      "html_url": "https://github.com/chris-morgan",
      "followers_url": "https://api.github.com/users/chris-morgan/followers",
      "following_url": "https://api.github.com/users/chris-morgan/following{/other_user}",
      "gists_url": "https://api.github.com/users/chris-morgan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chris-morgan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chris-morgan/subscriptions",
      "organizations_url": "https://api.github.com/users/chris-morgan/orgs",
      "repos_url": "https://api.github.com/users/chris-morgan/repos",
      "events_url": "https://api.github.com/users/chris-morgan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chris-morgan/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-18T07:45:20Z",
    "updated_at": "2014-07-18T07:45:20Z",
    "body": "I do not like this, Sam-I-Am.\n\nSupposing I wish to use a different runtime that doesn\u2019t use that sort of descriptor at all\u2014a bare metal case might do it, or perhaps an emscripten-specific runtime for running in the browser (I can easily imagine _that_ one having absolutely nothing to do with such magic numbers). I do not believe it is at all reasonable to expect to be able to have such a descriptor, at the language level at least.\n\nStill, for pragmatism\u2019s sake, it must evidently be exposed somewhere. Given that, I would say very strongly that such functions should be marked unsafe, and probably unstable also. I would think also that having it on a separate trait would be a good thing\u2014could the trait even live in the libc crate to make it absolutely clear that it\u2019s That Sort of Thing?\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49404096/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49404628",
    "html_url": "https://github.com/rust-lang/rust/pull/15643#issuecomment-49404628",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15643",
    "id": 49404628,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NDA0NjI4",
    "user": {
      "login": "chris-morgan",
      "id": 392868,
      "node_id": "MDQ6VXNlcjM5Mjg2OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/392868?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chris-morgan",
      "html_url": "https://github.com/chris-morgan",
      "followers_url": "https://api.github.com/users/chris-morgan/followers",
      "following_url": "https://api.github.com/users/chris-morgan/following{/other_user}",
      "gists_url": "https://api.github.com/users/chris-morgan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chris-morgan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chris-morgan/subscriptions",
      "organizations_url": "https://api.github.com/users/chris-morgan/orgs",
      "repos_url": "https://api.github.com/users/chris-morgan/repos",
      "events_url": "https://api.github.com/users/chris-morgan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chris-morgan/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-18T07:52:45Z",
    "updated_at": "2014-07-18T07:52:45Z",
    "body": "A benefit of using a trait for this is that you could then use it as a generic bound, e.g. for exposing a safe interface over `ssize_t sendfile(int out_fd, int in_fd, off_t *offset, size_t count)`.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49404628/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49405498",
    "html_url": "https://github.com/rust-lang/rust/pull/15643#issuecomment-49405498",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15643",
    "id": 49405498,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NDA1NDk4",
    "user": {
      "login": "errordeveloper",
      "id": 251467,
      "node_id": "MDQ6VXNlcjI1MTQ2Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/251467?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/errordeveloper",
      "html_url": "https://github.com/errordeveloper",
      "followers_url": "https://api.github.com/users/errordeveloper/followers",
      "following_url": "https://api.github.com/users/errordeveloper/following{/other_user}",
      "gists_url": "https://api.github.com/users/errordeveloper/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/errordeveloper/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/errordeveloper/subscriptions",
      "organizations_url": "https://api.github.com/users/errordeveloper/orgs",
      "repos_url": "https://api.github.com/users/errordeveloper/repos",
      "events_url": "https://api.github.com/users/errordeveloper/events{/privacy}",
      "received_events_url": "https://api.github.com/users/errordeveloper/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-18T08:05:03Z",
    "updated_at": "2014-07-18T08:05:03Z",
    "body": "I cannot disagree with you, Chris. I do however believe that current\nstandard run-time contains plenty of bits that wouldn't work on bare metal.\nMy original diff contains only changes for filesystem access abstractions,\nand I would argue whether filesystems should exist on certain kinds of\nembedded systems. In regards to sockets, nearly all of embedded stacks\nnumeric descriptors that are quite similar in nature, those that are\ndifferent in respect to this are, in fact, different in many other ways.\nOn 18 Jul 2014 08:45, \"Chris Morgan\" notifications@github.com wrote:\n\n> I do not like this, Sam-I-Am.\n> \n> Supposing I wish to use a different runtime that doesn't use that sort of\n> descriptor at all--a bare metal case might do it, or perhaps an\n> emscripten-specific runtime for running in the browser (I can easily\n> imagine _that_ one having absolutely nothing to do with such magic\n> numbers). I do not believe it is at all reasonable to expect to be able to\n> have such a descriptor, at the language level at least.\n> \n> Still, for pragmatism's sake, it must evidently be exposed somewhere.\n> Given that, I would say very strongly that such functions should be marked\n> unsafe, and probably unstable also. I would think also that having it on a\n> separate trait would be a good thing--could the trait even live in the libc\n> crate to make it absolutely clear that it's That Sort of Thing?\n> \n> ## \n> \n> Reply to this email directly or view it on GitHub\n> https://github.com/rust-lang/rust/pull/15643#issuecomment-49404096.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49405498/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49408274",
    "html_url": "https://github.com/rust-lang/rust/pull/15643#issuecomment-49408274",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15643",
    "id": 49408274,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NDA4Mjc0",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-18T08:42:30Z",
    "updated_at": "2014-07-21T02:52:56Z",
    "body": "> I would think also that having it on a separate trait would be a good thing\n\nA trait is useless for distiguishing things that only have sensible implementation under certain runtimes, the `std::io` interfaces are completely opaque to the underlying runtime, meaning an implementation for `File` would apply to a `File` objects in any runtimes, exactly the same as a freestanding method.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49408274/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49550791",
    "html_url": "https://github.com/rust-lang/rust/pull/15643#issuecomment-49550791",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15643",
    "id": 49550791,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NTUwNzkx",
    "user": {
      "login": "errordeveloper",
      "id": 251467,
      "node_id": "MDQ6VXNlcjI1MTQ2Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/251467?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/errordeveloper",
      "html_url": "https://github.com/errordeveloper",
      "followers_url": "https://api.github.com/users/errordeveloper/followers",
      "following_url": "https://api.github.com/users/errordeveloper/following{/other_user}",
      "gists_url": "https://api.github.com/users/errordeveloper/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/errordeveloper/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/errordeveloper/subscriptions",
      "organizations_url": "https://api.github.com/users/errordeveloper/orgs",
      "repos_url": "https://api.github.com/users/errordeveloper/repos",
      "events_url": "https://api.github.com/users/errordeveloper/events{/privacy}",
      "received_events_url": "https://api.github.com/users/errordeveloper/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-20T15:58:34Z",
    "updated_at": "2014-07-20T15:58:34Z",
    "body": "@huonw what do you say: add `get_fd()` to `std::io::File` or keep it how it is right now, requiring one to use `native::io::file::open`?\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49550791/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/50690322",
    "html_url": "https://github.com/rust-lang/rust/pull/15643#issuecomment-50690322",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15643",
    "id": 50690322,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwNjkwMzIy",
    "user": {
      "login": "errordeveloper",
      "id": 251467,
      "node_id": "MDQ6VXNlcjI1MTQ2Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/251467?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/errordeveloper",
      "html_url": "https://github.com/errordeveloper",
      "followers_url": "https://api.github.com/users/errordeveloper/followers",
      "following_url": "https://api.github.com/users/errordeveloper/following{/other_user}",
      "gists_url": "https://api.github.com/users/errordeveloper/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/errordeveloper/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/errordeveloper/subscriptions",
      "organizations_url": "https://api.github.com/users/errordeveloper/orgs",
      "repos_url": "https://api.github.com/users/errordeveloper/repos",
      "events_url": "https://api.github.com/users/errordeveloper/events{/privacy}",
      "received_events_url": "https://api.github.com/users/errordeveloper/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-30T22:40:22Z",
    "updated_at": "2014-07-30T22:40:22Z",
    "body": "I have just notice new rust-lang/rfcs#185... If that's to be implemented, I'd hold on with the `get_fd()` story.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/50690322/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/52109211",
    "html_url": "https://github.com/rust-lang/rust/pull/15643#issuecomment-52109211",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15643",
    "id": 52109211,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyMTA5MjEx",
    "user": {
      "login": "tbu-",
      "id": 6666593,
      "node_id": "MDQ6VXNlcjY2NjY1OTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6666593?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tbu-",
      "html_url": "https://github.com/tbu-",
      "followers_url": "https://api.github.com/users/tbu-/followers",
      "following_url": "https://api.github.com/users/tbu-/following{/other_user}",
      "gists_url": "https://api.github.com/users/tbu-/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tbu-/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tbu-/subscriptions",
      "organizations_url": "https://api.github.com/users/tbu-/orgs",
      "repos_url": "https://api.github.com/users/tbu-/repos",
      "events_url": "https://api.github.com/users/tbu-/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tbu-/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-13T20:52:41Z",
    "updated_at": "2014-08-13T20:52:41Z",
    "body": "I don't see why getting the file descriptor should be unsafe \u2013 getting a raw pointer from a `&` pointer isn't unsafe either, it's only that actually **using** it is unsafe.\n\nAs per the Rust design documents, reading private values from objects isn't considered unsafe if I remember correctly.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/52109211/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/52473136",
    "html_url": "https://github.com/rust-lang/rust/pull/15643#issuecomment-52473136",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15643",
    "id": 52473136,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyNDczMTM2",
    "user": {
      "login": "l0kod",
      "id": 1286585,
      "node_id": "MDQ6VXNlcjEyODY1ODU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1286585?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/l0kod",
      "html_url": "https://github.com/l0kod",
      "followers_url": "https://api.github.com/users/l0kod/followers",
      "following_url": "https://api.github.com/users/l0kod/following{/other_user}",
      "gists_url": "https://api.github.com/users/l0kod/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/l0kod/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/l0kod/subscriptions",
      "organizations_url": "https://api.github.com/users/l0kod/orgs",
      "repos_url": "https://api.github.com/users/l0kod/repos",
      "events_url": "https://api.github.com/users/l0kod/events{/privacy}",
      "received_events_url": "https://api.github.com/users/l0kod/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-18T10:06:20Z",
    "updated_at": "2014-08-18T10:06:20Z",
    "body": "First, about the `get_fd` method, I suggest to use something like the `FileDesc` struct (with `close_on_drop` set to `true`) instead of the `c_int` result (how should be typed to `fd_t` anyway).\n\nSecond, it would be safer to enclose the file descriptor use into a closure. What's unsafe about file descriptor is their lifetime: they can be closed by another piece of code, refer to a different file (i.e. `close` then `open`), or passed to an `execve` (`Command` close all file descriptor, except 0 to 2, before `execve` anyway, but some unsafe code could `execve` too).\n\nI don't think we need a `close_after` parameter, we just can make the file descriptor object live until the C binding close the raw file descriptor.\nIf we really need a persistent file descriptor we can `dup` it.\nFor `MemoryMap`-like struct, the Rust libraries should take care of file descriptor transfert/safety. Maybe `MapFd` should be created from a `RtioPipe`?\n\nWe could use a `with_fd` method inspired from the `with_c_str` but for the `RtioPipe` trait:\n\n```\nfn with_fd<T>(&self, f: |Option<&fd_t>| -> T) -> T;\n```\n\nI used `Option` hack because it's maybe not possible to get `fd_t` from any `RtioPipe` (`libuv`, special architecture?).\n\nThe problem is that we get `error: cannot call a generic method through an object`\u2026\nBy the way, is there plan to support generic method call through trait?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/52473136/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/52509085",
    "html_url": "https://github.com/rust-lang/rust/pull/15643#issuecomment-52509085",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15643",
    "id": 52509085,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyNTA5MDg1",
    "user": {
      "login": "l0kod",
      "id": 1286585,
      "node_id": "MDQ6VXNlcjEyODY1ODU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1286585?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/l0kod",
      "html_url": "https://github.com/l0kod",
      "followers_url": "https://api.github.com/users/l0kod/followers",
      "following_url": "https://api.github.com/users/l0kod/following{/other_user}",
      "gists_url": "https://api.github.com/users/l0kod/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/l0kod/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/l0kod/subscriptions",
      "organizations_url": "https://api.github.com/users/l0kod/orgs",
      "repos_url": "https://api.github.com/users/l0kod/repos",
      "events_url": "https://api.github.com/users/l0kod/events{/privacy}",
      "received_events_url": "https://api.github.com/users/l0kod/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-18T15:33:37Z",
    "updated_at": "2014-08-18T15:33:37Z",
    "body": "> First, about the `get_fd` method, I suggest to use something like the `FileDesc` struct (with `close_on_drop` set to `true`) instead of the `c_int` result (how should be typed to `fd_t` anyway).\n\nNot the right choice, prefer to return `&fd_t` to let the `RtioPipe` handle the file descriptor closing, but it sound unsafe anyway because the `RtioPipe` can `read`/`write`/`lseek`/`close` the same file descriptor.\nThe `with_fd` method definitely seems to be a better choice.\n\nTo properly handle file descriptor lifetime in bindings, the right thing to do is to wrap the bindings in a Rust object who handle the file descriptor closing.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/52509085/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/52614088",
    "html_url": "https://github.com/rust-lang/rust/pull/15643#issuecomment-52614088",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15643",
    "id": 52614088,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyNjE0MDg4",
    "user": {
      "login": "tbu-",
      "id": 6666593,
      "node_id": "MDQ6VXNlcjY2NjY1OTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6666593?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tbu-",
      "html_url": "https://github.com/tbu-",
      "followers_url": "https://api.github.com/users/tbu-/followers",
      "following_url": "https://api.github.com/users/tbu-/following{/other_user}",
      "gists_url": "https://api.github.com/users/tbu-/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tbu-/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tbu-/subscriptions",
      "organizations_url": "https://api.github.com/users/tbu-/orgs",
      "repos_url": "https://api.github.com/users/tbu-/repos",
      "events_url": "https://api.github.com/users/tbu-/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tbu-/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-19T10:12:46Z",
    "updated_at": "2014-08-19T10:12:46Z",
    "body": "> Second, it would be safer to enclose the file descriptor use into a closure. What's unsafe about file descriptor is their lifetime: they can be closed by another piece of code, refer to a different file (i.e. close then open), or passed to an execve (Command close all file descriptor, except 0 to 2, before execve anyway, but some unsafe code could execve too).\n\nI don't see how reading the file descriptor is unsafe in any way \u2013 only using them to construct other things should be unsafe. Compare\n\n```\n&3 as *const int\n```\n\n(which is safe) to\n\n```\nunsafe { *(&3 as *const int) }\n```\n\n(which is unsafe). Getting the raw value of a pointer is not unsafe at all, while actually using it is. This is how it should be handled with file descriptors IMO, getting them out of a structure is no problem at al \u2013 only using them to construct other things should be unsafe.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/52614088/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/52617736",
    "html_url": "https://github.com/rust-lang/rust/pull/15643#issuecomment-52617736",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15643",
    "id": 52617736,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyNjE3NzM2",
    "user": {
      "login": "l0kod",
      "id": 1286585,
      "node_id": "MDQ6VXNlcjEyODY1ODU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1286585?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/l0kod",
      "html_url": "https://github.com/l0kod",
      "followers_url": "https://api.github.com/users/l0kod/followers",
      "following_url": "https://api.github.com/users/l0kod/following{/other_user}",
      "gists_url": "https://api.github.com/users/l0kod/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/l0kod/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/l0kod/subscriptions",
      "organizations_url": "https://api.github.com/users/l0kod/orgs",
      "repos_url": "https://api.github.com/users/l0kod/repos",
      "events_url": "https://api.github.com/users/l0kod/events{/privacy}",
      "received_events_url": "https://api.github.com/users/l0kod/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-19T10:55:26Z",
    "updated_at": "2014-08-19T10:56:03Z",
    "body": "> I don't see how reading the file descriptor is unsafe in any way \u2013 only using them to construct other things should be unsafe.\n\nFor example, the `read` or `lseek` syscalls modify the file descriptor representation (in the kernel): it change the file offset where the initial owner could `read` or `write`. A file descriptor value can not really be \"read-only\" because interacting with it will update the kernel structure for this file descriptor.\n\n> Getting the raw value of a pointer is not unsafe at all, while actually using it is.\n\nThis is true for pointer but there is no relation with file descriptor. Your example is only about memory.\nRust understand memory management and can control it but file descriptors are managed by the kernel. So Rust should take care not to allow uncontrolled behavior with file descriptor value.\n\nThis is why I used the \"lifetime\" word. It's the same problem as memory management (i.e. to control the usage) but it's not the same way to prevent unsafe behavior.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/52617736/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/52666258",
    "html_url": "https://github.com/rust-lang/rust/pull/15643#issuecomment-52666258",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15643",
    "id": 52666258,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyNjY2MjU4",
    "user": {
      "login": "retep998",
      "id": 666308,
      "node_id": "MDQ6VXNlcjY2NjMwOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/666308?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/retep998",
      "html_url": "https://github.com/retep998",
      "followers_url": "https://api.github.com/users/retep998/followers",
      "following_url": "https://api.github.com/users/retep998/following{/other_user}",
      "gists_url": "https://api.github.com/users/retep998/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/retep998/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/retep998/subscriptions",
      "organizations_url": "https://api.github.com/users/retep998/orgs",
      "repos_url": "https://api.github.com/users/retep998/repos",
      "events_url": "https://api.github.com/users/retep998/events{/privacy}",
      "received_events_url": "https://api.github.com/users/retep998/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-19T17:09:38Z",
    "updated_at": "2014-08-19T17:09:38Z",
    "body": "A file descriptor on its own still can't be used as anything more than an integer value unless you use unsafe code. I'm really not seeing the difference between file descriptors and raw pointers since both are nothing more than integers until you use some unsafe code. And since you'll have to use unsafe code anyway to use the file descriptor, you could easily sidestep any imposed safety of a `with_fd` method. If having `with_fd` is seen as a good idea, then why not have `with_raw_ptr` for `&ptr`?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/52666258/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/52671585",
    "html_url": "https://github.com/rust-lang/rust/pull/15643#issuecomment-52671585",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15643",
    "id": 52671585,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyNjcxNTg1",
    "user": {
      "login": "tbu-",
      "id": 6666593,
      "node_id": "MDQ6VXNlcjY2NjY1OTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6666593?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tbu-",
      "html_url": "https://github.com/tbu-",
      "followers_url": "https://api.github.com/users/tbu-/followers",
      "following_url": "https://api.github.com/users/tbu-/following{/other_user}",
      "gists_url": "https://api.github.com/users/tbu-/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tbu-/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tbu-/subscriptions",
      "organizations_url": "https://api.github.com/users/tbu-/orgs",
      "repos_url": "https://api.github.com/users/tbu-/repos",
      "events_url": "https://api.github.com/users/tbu-/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tbu-/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-19T17:47:21Z",
    "updated_at": "2014-08-19T17:47:21Z",
    "body": "> For example, the `read` or `lseek` syscalls modify the file descriptor representation (in the kernel): it change the file offset where the initial owner could `read` or `write`. A file descriptor value can not really be \"read-only\" because interacting with it will update the kernel structure for this file descriptor.\n\nWell, `read` also modifies a raw pointer's content, e. g.:\n\n```\nlet mut buffer = [0u8, ..256];\nlet fd = 0i32;\nread(fd, &mut buffer[0] as *mut u8, buffer.len());\n```\n\n> This is true for pointer but there is no relation with file descriptor. Your example is only about memory.\n> Rust understand memory management and can control it but file descriptors are managed by the kernel. So Rust should take care not to allow uncontrolled behavior with file descriptor value.\n\nThe kernel also manages the underlying memory, and as shown above will happily write to any raw pointers I hand it.\n\nSo I think the solution should be that the syscalls are unsafe, as long as they take _raw_ filedescriptors or _raw_ pointers.\n\nOn a related note, there might be some useful way to wrap a file descriptor in a safe way, so it can be lended to different objects or moved into them without a whole `File` wrapping it.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/52671585/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/52712143",
    "html_url": "https://github.com/rust-lang/rust/pull/15643#issuecomment-52712143",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15643",
    "id": 52712143,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyNzEyMTQz",
    "user": {
      "login": "l0kod",
      "id": 1286585,
      "node_id": "MDQ6VXNlcjEyODY1ODU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1286585?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/l0kod",
      "html_url": "https://github.com/l0kod",
      "followers_url": "https://api.github.com/users/l0kod/followers",
      "following_url": "https://api.github.com/users/l0kod/following{/other_user}",
      "gists_url": "https://api.github.com/users/l0kod/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/l0kod/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/l0kod/subscriptions",
      "organizations_url": "https://api.github.com/users/l0kod/orgs",
      "repos_url": "https://api.github.com/users/l0kod/repos",
      "events_url": "https://api.github.com/users/l0kod/events{/privacy}",
      "received_events_url": "https://api.github.com/users/l0kod/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-19T22:56:23Z",
    "updated_at": "2014-08-19T22:58:01Z",
    "body": "> since you'll have to use unsafe code anyway to use the file descriptor, you could easily sidestep any imposed safety of a `with_fd` method.\n\nWell, the `with_fd` is not to \"impose\" safety but to avoid unsafe (distracted) use.\n\nThe `with_c_str` is useful to use a C string while being assured that this string exist: it allow Rust to know the pointer (use) _lifetime_. That way we can have a guaranty that the (binding) code using it does something meaningful (and the Rust runtime can cleanup the mess afterwards).\n\n> If having `with_fd` is seen as a good idea, then why not have `with_raw_ptr` for `&ptr`?\n\nWhy not? :)\n\n> Well, `read` also modifies a raw pointer's content\n\nThat's the purpose of `read` to write to memory, but it also change the file descriptor metadata.\n\n> On a related note, there might be some useful way to wrap a file descriptor in a safe way, so it can be lended to different objects or moved into them without a whole File wrapping it.\n\nThis is partially the purpose of the `with_fd`: to allow bindings to use file descriptor (in the safer way).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/52712143/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/52997004",
    "html_url": "https://github.com/rust-lang/rust/pull/15643#issuecomment-52997004",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15643",
    "id": 52997004,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyOTk3MDA0",
    "user": {
      "login": "tbu-",
      "id": 6666593,
      "node_id": "MDQ6VXNlcjY2NjY1OTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6666593?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tbu-",
      "html_url": "https://github.com/tbu-",
      "followers_url": "https://api.github.com/users/tbu-/followers",
      "following_url": "https://api.github.com/users/tbu-/following{/other_user}",
      "gists_url": "https://api.github.com/users/tbu-/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tbu-/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tbu-/subscriptions",
      "organizations_url": "https://api.github.com/users/tbu-/orgs",
      "repos_url": "https://api.github.com/users/tbu-/repos",
      "events_url": "https://api.github.com/users/tbu-/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tbu-/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-21T23:04:25Z",
    "updated_at": "2014-08-21T23:04:25Z",
    "body": "> Well, the `with_fd` is not to \"impose\" safety but to avoid unsafe (distracted) use.\n\nSo does the solution that I propose and is currently being implemented for raw pointers.\n\nI don't see how raw pointers and file descriptors are different here.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/52997004/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53052813",
    "html_url": "https://github.com/rust-lang/rust/pull/15643#issuecomment-53052813",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15643",
    "id": 53052813,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzMDUyODEz",
    "user": {
      "login": "l0kod",
      "id": 1286585,
      "node_id": "MDQ6VXNlcjEyODY1ODU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1286585?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/l0kod",
      "html_url": "https://github.com/l0kod",
      "followers_url": "https://api.github.com/users/l0kod/followers",
      "following_url": "https://api.github.com/users/l0kod/following{/other_user}",
      "gists_url": "https://api.github.com/users/l0kod/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/l0kod/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/l0kod/subscriptions",
      "organizations_url": "https://api.github.com/users/l0kod/orgs",
      "repos_url": "https://api.github.com/users/l0kod/repos",
      "events_url": "https://api.github.com/users/l0kod/events{/privacy}",
      "received_events_url": "https://api.github.com/users/l0kod/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-22T12:07:36Z",
    "updated_at": "2014-08-22T12:07:36Z",
    "body": "For raw pointers, the usual (safe) way to handle them correctly is to keep the pointed Rust object (e.g. `Vec`) \"alive\" (stay in scope) while manipulating the pointer (e.g. `.as_ptr()`).\nSo the programmer must manually check that this rule is respected.\n\nThe `with_fd` goal is to remove the manual check but let Rust handle it.\n\n> I don't see why getting the file descriptor should be unsafe \u2013 getting a raw pointer from a `&` pointer isn't unsafe either, it's only that actually **using** it is unsafe.\n\nI don't think getting a file descriptor should be unsafe. However Rust doesn't know that the raw file descriptor **use** is unsafe (and some people don't either).\n\n> So I think the solution should be that the syscalls are unsafe, as long as they take raw filedescriptors or raw pointers.\n\nRaw syscalls are unsafe but they are usually wrapped in \"safe\" functions.\n\n> I don't see how raw pointers and file descriptors are different here.\n\nRust know how to handle memory and that raw pointers are unsafe because their **use** is not checked by the compiler but by the programmer.\nFile descriptors are handled by the kernel and Rust doesn't know about their unsafety: there is no file descriptor dereferencing.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53052813/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53058681",
    "html_url": "https://github.com/rust-lang/rust/pull/15643#issuecomment-53058681",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15643",
    "id": 53058681,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzMDU4Njgx",
    "user": {
      "login": "tbu-",
      "id": 6666593,
      "node_id": "MDQ6VXNlcjY2NjY1OTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6666593?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tbu-",
      "html_url": "https://github.com/tbu-",
      "followers_url": "https://api.github.com/users/tbu-/followers",
      "following_url": "https://api.github.com/users/tbu-/following{/other_user}",
      "gists_url": "https://api.github.com/users/tbu-/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tbu-/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tbu-/subscriptions",
      "organizations_url": "https://api.github.com/users/tbu-/orgs",
      "repos_url": "https://api.github.com/users/tbu-/repos",
      "events_url": "https://api.github.com/users/tbu-/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tbu-/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-22T13:17:07Z",
    "updated_at": "2014-08-22T15:19:21Z",
    "body": "> Raw syscalls are unsafe but they are usually wrapped in \"safe\" functions.\n\n-- quote break --\n\n> I don't think getting a file descriptor should be unsafe. However Rust doesn't know that the raw file descriptor use is unsafe (and some people don't either).\n\nThe library should totally do this, isn't it doing that already? All functions taking a raw file descriptor and using it should be `unsafe`. Then add a type for an owned file descriptor `FileDesc` and provide a safe interface for it. Then you get borrowed file descriptors (`&mut FileDesc`) and shared file descriptors `RefCell<FileDesc>` for free.\n\nI believe that you think that what I propose is impossible. If that's the case, please say so, because I'm very sure that this is very possible. If you think what I'm proposing is impractical, please say so.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53058681/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53077708",
    "html_url": "https://github.com/rust-lang/rust/pull/15643#issuecomment-53077708",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15643",
    "id": 53077708,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzMDc3NzA4",
    "user": {
      "login": "tbu-",
      "id": 6666593,
      "node_id": "MDQ6VXNlcjY2NjY1OTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6666593?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tbu-",
      "html_url": "https://github.com/tbu-",
      "followers_url": "https://api.github.com/users/tbu-/followers",
      "following_url": "https://api.github.com/users/tbu-/following{/other_user}",
      "gists_url": "https://api.github.com/users/tbu-/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tbu-/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tbu-/subscriptions",
      "organizations_url": "https://api.github.com/users/tbu-/orgs",
      "repos_url": "https://api.github.com/users/tbu-/repos",
      "events_url": "https://api.github.com/users/tbu-/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tbu-/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-22T15:48:14Z",
    "updated_at": "2014-08-22T15:48:25Z",
    "body": "> The `with_fd` goal is to remove the manual check but let Rust handle it.\n\nThis would be the `&mut FileDesc` in my case.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53077708/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53080197",
    "html_url": "https://github.com/rust-lang/rust/pull/15643#issuecomment-53080197",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15643",
    "id": 53080197,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzMDgwMTk3",
    "user": {
      "login": "l0kod",
      "id": 1286585,
      "node_id": "MDQ6VXNlcjEyODY1ODU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1286585?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/l0kod",
      "html_url": "https://github.com/l0kod",
      "followers_url": "https://api.github.com/users/l0kod/followers",
      "following_url": "https://api.github.com/users/l0kod/following{/other_user}",
      "gists_url": "https://api.github.com/users/l0kod/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/l0kod/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/l0kod/subscriptions",
      "organizations_url": "https://api.github.com/users/l0kod/orgs",
      "repos_url": "https://api.github.com/users/l0kod/repos",
      "events_url": "https://api.github.com/users/l0kod/events{/privacy}",
      "received_events_url": "https://api.github.com/users/l0kod/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-22T16:05:56Z",
    "updated_at": "2014-08-22T16:05:56Z",
    "body": "> I believe that you think that what I propose is impossible.\n\nNo, I only want the safer way to deal with file descriptor :)\n\nThe `FileDesc` thing is quite close to my first proposition and the `RefCell<FileDesc>` looks like a winner if it's implemented in all syscalls and functions wrappers who deal with file descriptors and would require a mutable `FileDesc` (not a mutable internal `fd_t`) with `borrow_mut` to (exclusively) use the file descriptor, even for `read`-only call.\nThe interesting (and dangerous) thing is the **shared/locked file descriptor** wrapper.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53080197/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53082827",
    "html_url": "https://github.com/rust-lang/rust/pull/15643#issuecomment-53082827",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15643",
    "id": 53082827,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzMDgyODI3",
    "user": {
      "login": "l0kod",
      "id": 1286585,
      "node_id": "MDQ6VXNlcjEyODY1ODU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1286585?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/l0kod",
      "html_url": "https://github.com/l0kod",
      "followers_url": "https://api.github.com/users/l0kod/followers",
      "following_url": "https://api.github.com/users/l0kod/following{/other_user}",
      "gists_url": "https://api.github.com/users/l0kod/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/l0kod/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/l0kod/subscriptions",
      "organizations_url": "https://api.github.com/users/l0kod/orgs",
      "repos_url": "https://api.github.com/users/l0kod/repos",
      "events_url": "https://api.github.com/users/l0kod/events{/privacy}",
      "received_events_url": "https://api.github.com/users/l0kod/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-22T16:18:42Z",
    "updated_at": "2014-08-22T16:18:42Z",
    "body": "> would require a mutable `FileDesc` (not a mutable internal `fd_t`) with `borrow_mut` to (exclusively) use the file descriptor, even for `read`-only call.\n\nWe can't force some code to use `borrow_mut` to read a variable.\nI think the `RefCell<FileDesc>` should be wrapped into it's own `struct` to be able to control the `borrow_mut` behavior for any use (read or write) or maybe use a simple `Mutex` internally.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53082827/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53093094",
    "html_url": "https://github.com/rust-lang/rust/pull/15643#issuecomment-53093094",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15643",
    "id": 53093094,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzMDkzMDk0",
    "user": {
      "login": "tbu-",
      "id": 6666593,
      "node_id": "MDQ6VXNlcjY2NjY1OTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6666593?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tbu-",
      "html_url": "https://github.com/tbu-",
      "followers_url": "https://api.github.com/users/tbu-/followers",
      "following_url": "https://api.github.com/users/tbu-/following{/other_user}",
      "gists_url": "https://api.github.com/users/tbu-/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tbu-/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tbu-/subscriptions",
      "organizations_url": "https://api.github.com/users/tbu-/orgs",
      "repos_url": "https://api.github.com/users/tbu-/repos",
      "events_url": "https://api.github.com/users/tbu-/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tbu-/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-22T17:29:13Z",
    "updated_at": "2014-08-22T17:29:13Z",
    "body": "> even for `read`-only call.\n\nOf course \u2013 it's a write access, as it modifies the underlying stream (it moves the cursor position).\n\n> We can't force some code to use `borrow_mut` to read a variable.\n\nWe can, by letting all the functions modifying underlying structure (like moving the cursor, etc.) take a `&mut FileDesc`.\n\nThe good thing is, using my partially described FileDesc type, all the usual pattern will automagically work, _safely_. I'm talking about bare `FileDesc` passing, mutable borrowing `&mut FileDesc`, run-time borrowing `RefCell<FileDesc>`, sharing `Arc<RefCell<FileDesc>>` etc.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53093094/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53150431",
    "html_url": "https://github.com/rust-lang/rust/pull/15643#issuecomment-53150431",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15643",
    "id": 53150431,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzMTUwNDMx",
    "user": {
      "login": "l0kod",
      "id": 1286585,
      "node_id": "MDQ6VXNlcjEyODY1ODU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1286585?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/l0kod",
      "html_url": "https://github.com/l0kod",
      "followers_url": "https://api.github.com/users/l0kod/followers",
      "following_url": "https://api.github.com/users/l0kod/following{/other_user}",
      "gists_url": "https://api.github.com/users/l0kod/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/l0kod/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/l0kod/subscriptions",
      "organizations_url": "https://api.github.com/users/l0kod/orgs",
      "repos_url": "https://api.github.com/users/l0kod/repos",
      "events_url": "https://api.github.com/users/l0kod/events{/privacy}",
      "received_events_url": "https://api.github.com/users/l0kod/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-23T11:37:10Z",
    "updated_at": "2014-08-23T13:08:49Z",
    "body": "> We can, by letting all the functions modifying underlying structure (like moving the cursor, etc.) take a `&mut FileDesc`.\n\nIt's a bit artificial and it imply all functions using file descriptor anyway (except for printing or duplicating file descriptor maybe).\n\nI think it should affect a lot of code but it's worth a try.\n\nThe methods would probably looks like `get_ref_fd`, `get_mut_ref_fd` and `get_fd` (preferably less verbose).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53150431/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53246784",
    "html_url": "https://github.com/rust-lang/rust/pull/15643#issuecomment-53246784",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15643",
    "id": 53246784,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzMjQ2Nzg0",
    "user": {
      "login": "errordeveloper",
      "id": 251467,
      "node_id": "MDQ6VXNlcjI1MTQ2Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/251467?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/errordeveloper",
      "html_url": "https://github.com/errordeveloper",
      "followers_url": "https://api.github.com/users/errordeveloper/followers",
      "following_url": "https://api.github.com/users/errordeveloper/following{/other_user}",
      "gists_url": "https://api.github.com/users/errordeveloper/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/errordeveloper/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/errordeveloper/subscriptions",
      "organizations_url": "https://api.github.com/users/errordeveloper/orgs",
      "repos_url": "https://api.github.com/users/errordeveloper/repos",
      "events_url": "https://api.github.com/users/errordeveloper/events{/privacy}",
      "received_events_url": "https://api.github.com/users/errordeveloper/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-25T09:57:00Z",
    "updated_at": "2014-08-25T09:57:00Z",
    "body": "@l0kod @tbu-, thank you for joining this, it certainly starts to make much more sense now.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53246784/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53323222",
    "html_url": "https://github.com/rust-lang/rust/pull/15643#issuecomment-53323222",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15643",
    "id": 53323222,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzMzIzMjIy",
    "user": {
      "login": "l0kod",
      "id": 1286585,
      "node_id": "MDQ6VXNlcjEyODY1ODU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1286585?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/l0kod",
      "html_url": "https://github.com/l0kod",
      "followers_url": "https://api.github.com/users/l0kod/followers",
      "following_url": "https://api.github.com/users/l0kod/following{/other_user}",
      "gists_url": "https://api.github.com/users/l0kod/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/l0kod/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/l0kod/subscriptions",
      "organizations_url": "https://api.github.com/users/l0kod/orgs",
      "repos_url": "https://api.github.com/users/l0kod/repos",
      "events_url": "https://api.github.com/users/l0kod/events{/privacy}",
      "received_events_url": "https://api.github.com/users/l0kod/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-25T20:20:24Z",
    "updated_at": "2014-08-25T20:20:24Z",
    "body": "Some additional reflections about the `FileDesc` object:\n- About the name, does it make sense to use \"file descriptor\" instead of \"handle\" for Windows?\n- If implemented, a `clone` should do the same as calling `dup` on the raw file descriptor.\n- Probably for a dedicated issue but, I think it would make sense (for the next step) to extend `FileDesc` methods with `std::os` functions (e.g. `openat`, `linkat`, `dup`, `fstat`\u2026). And, if so, what about `Path` and `File` methods (i.e. `rename`, `copy`, `open`\u2026)?\n- What about declaring `FileDesc` in `std::os` or `std::fs`?\n- Do we need a `FileDesc` trait and multiple file descriptor types (e.g. `RegFileDesc`, `PipeFileDesc`, `SockFileDesc`\u2026 found with `fstat`) to follow the Rust typing style and add appropriate methods (e.g. only `mkdirat` for `DirFileDesc` type)?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53323222/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53485733",
    "html_url": "https://github.com/rust-lang/rust/pull/15643#issuecomment-53485733",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15643",
    "id": 53485733,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzNDg1NzMz",
    "user": {
      "login": "petrochenkov",
      "id": 5751617,
      "node_id": "MDQ6VXNlcjU3NTE2MTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5751617?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/petrochenkov",
      "html_url": "https://github.com/petrochenkov",
      "followers_url": "https://api.github.com/users/petrochenkov/followers",
      "following_url": "https://api.github.com/users/petrochenkov/following{/other_user}",
      "gists_url": "https://api.github.com/users/petrochenkov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/petrochenkov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/petrochenkov/subscriptions",
      "organizations_url": "https://api.github.com/users/petrochenkov/orgs",
      "repos_url": "https://api.github.com/users/petrochenkov/repos",
      "events_url": "https://api.github.com/users/petrochenkov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/petrochenkov/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-26T20:31:28Z",
    "updated_at": "2014-08-26T20:31:28Z",
    "body": "> About the name, does it make sense to use \"file descriptor\" instead of \"handle\" for Windows?\n\nYes, file descriptors in Windows are very similar to file descriptors in posix, use similar API and usually the most useful. (Example: http://msdn.microsoft.com/en-us/library/5fzwd5ss.aspx)\nFile handles are lower level mechanism, deal with WinAPI directly and are rarely touched by programmers. (Example: http://msdn.microsoft.com/en-us/library/windows/desktop/ms724211(v=vs.85).aspx)\n\n> this would be tying rust permanently to their C runtime library. I'm not entirely sure if that's desirable or not?\n\nIsn't it a necessary evil similar to \"tying rust permanently to glibc\"?\n\nI actually found this issue after I couldn't get anything lower level from std::io::fs::File to do some file locking. fs::File definitely should expose its underlying descriptor even if it implies safety issues. Otherwise if you have to access some specific OS mechanism in just one place, you will have to fall back to using libc all over the place.\nAs for naming, C++ calls such escape hatches \"native_handle\"s and leaves their meaning fully implementation defined and platform specific (for example, they can always be 0 if  it's necessary). I'd do the same and specify their meaning for each platform separately.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53485733/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53490888",
    "html_url": "https://github.com/rust-lang/rust/pull/15643#issuecomment-53490888",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15643",
    "id": 53490888,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzNDkwODg4",
    "user": {
      "login": "retep998",
      "id": 666308,
      "node_id": "MDQ6VXNlcjY2NjMwOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/666308?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/retep998",
      "html_url": "https://github.com/retep998",
      "followers_url": "https://api.github.com/users/retep998/followers",
      "following_url": "https://api.github.com/users/retep998/following{/other_user}",
      "gists_url": "https://api.github.com/users/retep998/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/retep998/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/retep998/subscriptions",
      "organizations_url": "https://api.github.com/users/retep998/orgs",
      "repos_url": "https://api.github.com/users/retep998/repos",
      "events_url": "https://api.github.com/users/retep998/events{/privacy}",
      "received_events_url": "https://api.github.com/users/retep998/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-26T20:57:24Z",
    "updated_at": "2014-08-26T20:57:24Z",
    "body": "I personally prefer `HANDLE` over a posix file descriptor while on Windows because it lets me use the full range of WinAPI methods which do significantly more than the equivalent posix functions, and sometimes your only option is the WinAPI versions (are there any posix methods that operate on file descriptors without an equivalent `HANDLE` version?). Granted you can always convert the two kinds of handles back and forth, but it just feels ugly that way.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53490888/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53491250",
    "html_url": "https://github.com/rust-lang/rust/pull/15643#issuecomment-53491250",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15643",
    "id": 53491250,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzNDkxMjUw",
    "user": {
      "login": "tbu-",
      "id": 6666593,
      "node_id": "MDQ6VXNlcjY2NjY1OTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6666593?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tbu-",
      "html_url": "https://github.com/tbu-",
      "followers_url": "https://api.github.com/users/tbu-/followers",
      "following_url": "https://api.github.com/users/tbu-/following{/other_user}",
      "gists_url": "https://api.github.com/users/tbu-/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tbu-/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tbu-/subscriptions",
      "organizations_url": "https://api.github.com/users/tbu-/orgs",
      "repos_url": "https://api.github.com/users/tbu-/repos",
      "events_url": "https://api.github.com/users/tbu-/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tbu-/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-26T20:59:47Z",
    "updated_at": "2014-08-26T21:00:15Z",
    "body": "What are file descriptors supposed to be on Windows? I only know of `HANDLE`s (and would have assumed that Rust will return these as FileDesc on Windows.)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53491250/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53491860",
    "html_url": "https://github.com/rust-lang/rust/pull/15643#issuecomment-53491860",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15643",
    "id": 53491860,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzNDkxODYw",
    "user": {
      "login": "thestinger",
      "id": 1505226,
      "node_id": "MDQ6VXNlcjE1MDUyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thestinger",
      "html_url": "https://github.com/thestinger",
      "followers_url": "https://api.github.com/users/thestinger/followers",
      "following_url": "https://api.github.com/users/thestinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions",
      "organizations_url": "https://api.github.com/users/thestinger/orgs",
      "repos_url": "https://api.github.com/users/thestinger/repos",
      "events_url": "https://api.github.com/users/thestinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thestinger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-26T21:03:50Z",
    "updated_at": "2014-08-26T21:03:50Z",
    "body": "It has numeric file descriptors in the C runtime, which can be converted to and from a `HANDLE`. It would be best to just use `HANDLE` on Windows and have a different type on different platforms. It could trigger a portability lint or whatever.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53491860/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53492729",
    "html_url": "https://github.com/rust-lang/rust/pull/15643#issuecomment-53492729",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15643",
    "id": 53492729,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzNDkyNzI5",
    "user": {
      "login": "thestinger",
      "id": 1505226,
      "node_id": "MDQ6VXNlcjE1MDUyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thestinger",
      "html_url": "https://github.com/thestinger",
      "followers_url": "https://api.github.com/users/thestinger/followers",
      "following_url": "https://api.github.com/users/thestinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions",
      "organizations_url": "https://api.github.com/users/thestinger/orgs",
      "repos_url": "https://api.github.com/users/thestinger/repos",
      "events_url": "https://api.github.com/users/thestinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thestinger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-26T21:09:18Z",
    "updated_at": "2014-08-26T21:09:29Z",
    "body": "Anyway, it would be nice to expose a proper `FileDesc` type with the reference counting ownership semantics of POSIX file descriptors and Windows `HANDLE`s.\n\n``` rust\npub struct FileDesc {\n    fd: c_int\n}\n\nimpl FileDesc {\n    pub unsafe fn from_handle(fd: c_int) -> FileDesc { ... }\n    pub fn as_handle(&self) -> c_int { ... }\n    pub fn into_handle(self) -> c_int { ... }\n    pub fn dup(&self) -> Result<FileDesc, Error> { ... }\n    pub fn read(&self, buffer: &mut [u8]) -> IoResult<uint> { ... }\n    pub fn write(&self, buffer: &[u8]) -> IoResult<uint> { ... }\n    ...\n}\n```\n\nAn important thing to keep in mind is that all files should be atomically `O_CLOEXEC` by default, so using `dup`, `dup2`, etc. rather than `fcntl` is wrong.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53492729/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53505104",
    "html_url": "https://github.com/rust-lang/rust/pull/15643#issuecomment-53505104",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15643",
    "id": 53505104,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzNTA1MTA0",
    "user": {
      "login": "l0kod",
      "id": 1286585,
      "node_id": "MDQ6VXNlcjEyODY1ODU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1286585?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/l0kod",
      "html_url": "https://github.com/l0kod",
      "followers_url": "https://api.github.com/users/l0kod/followers",
      "following_url": "https://api.github.com/users/l0kod/following{/other_user}",
      "gists_url": "https://api.github.com/users/l0kod/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/l0kod/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/l0kod/subscriptions",
      "organizations_url": "https://api.github.com/users/l0kod/orgs",
      "repos_url": "https://api.github.com/users/l0kod/repos",
      "events_url": "https://api.github.com/users/l0kod/events{/privacy}",
      "received_events_url": "https://api.github.com/users/l0kod/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-26T22:53:57Z",
    "updated_at": "2014-08-26T22:53:57Z",
    "body": "> `fd: c_inc`\n\nPreferable to use a dedicated `fd_t` type instead of `c_int`.\n\n> `impl FileDesc {`\n> \u2026\n> `pub fn read(&self, buffer: &mut [u8]) -> IoResult<uint> { ... }`\n\nLike I said previously, we should probably take care of file descriptor type (e.g. regular file, socket, directory) and their capabilities: it should not be possible to attempt a `read` on a directory file descriptor.\n\nTo avoid this, `FileDesc` should be a trait and an enum. Something like this:\n\n``` rust\ntrait BasicFileDesc {\n    pub unsafe fn from_handle(fd: fd_t) -> Self { \u2026 }\n    // \u2026\n    pub fn dup(&self) -> IoResult<Self> { \u2026 fcntl() \u2026 } // also called by clone()?\n}\nimpl BasicFileDesc for RegularFd;\n// same for all other file descriptor types\u2026\n\ntrait DirFileDesc {\n    pub fn openat(\u2026) -> IoResult<FileDesc> // enum defined below\n    pub fn getdents(\u2026) -> IoResult<DirEntry> // or readdir-like\n    // \u2026\n}\nimpl DirFileDesc for DirectoryFd;\n\ntrait RwFileDesc {\n    pub fn read(\u2026) -> IoResult<uint> { ... }\n    // \u2026\n}\nimpl RwFileDesc for RegularFd;\nimpl RwFileDesc for CharDevFd;\n// \u2026\n\ntrait DevFileDesc {\n    fn ioctl(\u2026) -> IoResult<()>\n    // \u2026\n}\nimpl DevFileDesc for CharDevFd;\n\nimpl CharDevFd {\n    fn isatty(\u2026) -> bool { \u2026 }\n}\n\nenum FileDesc {\n    Regular(RegularFd),\n    Directory(DirectoryFd), // implement openat, linkat\u2026\n    CharDev(CharDevFd), // implement ioctl, isatty\u2026\n    BlockDev(BlockDevFd), // implement ioctl\u2026\n    Pipe(PipeFd),\n    Symlink(SymlinkFd),\n    Socket(SocketFd),\n    Unknown(UnknownFd), // seems to be possible: bad thing for static typing but could implement all traits\n}\n```\n\nE.g. the `native::io::file::open` should then return the previously defined `IoResult<FileDesc>`.\n\n> An important thing to keep in mind is that all files should be atomically `O_CLOEXEC` by default, so using `dup`, `dup2`, etc. rather than `fcntl` is wrong.\n\nRight, `dup3` can also do it but is a bit more newer.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53505104/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53505327",
    "html_url": "https://github.com/rust-lang/rust/pull/15643#issuecomment-53505327",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15643",
    "id": 53505327,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzNTA1MzI3",
    "user": {
      "login": "thestinger",
      "id": 1505226,
      "node_id": "MDQ6VXNlcjE1MDUyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thestinger",
      "html_url": "https://github.com/thestinger",
      "followers_url": "https://api.github.com/users/thestinger/followers",
      "following_url": "https://api.github.com/users/thestinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions",
      "organizations_url": "https://api.github.com/users/thestinger/orgs",
      "repos_url": "https://api.github.com/users/thestinger/repos",
      "events_url": "https://api.github.com/users/thestinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thestinger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-26T22:56:31Z",
    "updated_at": "2014-08-26T22:56:31Z",
    "body": "@l0kod: `F_DUPFD_CLOEXEC` for `fcntl` is part of POSIX, and equivalent to `dup` with CLOEXEC. I don't think there's a standard equivalent for `dup2`, but yes, `dup3` can be used on Linux.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53505327/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53505549",
    "html_url": "https://github.com/rust-lang/rust/pull/15643#issuecomment-53505549",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15643",
    "id": 53505549,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzNTA1NTQ5",
    "user": {
      "login": "thestinger",
      "id": 1505226,
      "node_id": "MDQ6VXNlcjE1MDUyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thestinger",
      "html_url": "https://github.com/thestinger",
      "followers_url": "https://api.github.com/users/thestinger/followers",
      "following_url": "https://api.github.com/users/thestinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions",
      "organizations_url": "https://api.github.com/users/thestinger/orgs",
      "repos_url": "https://api.github.com/users/thestinger/repos",
      "events_url": "https://api.github.com/users/thestinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thestinger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-26T22:59:11Z",
    "updated_at": "2014-08-26T22:59:11Z",
    "body": "If you do this with an `enum`, you're responsible for including _every kind of file descriptor / handle_. On Linux, that includes signalfd, eventfd, timerfd, epoll and more. It's not _unsafe_ to call `read` on a file descriptor that's not readable, and a low-level type shouldn't be adding checks that aren't necessary for safety. There can be higher level abstractions, but that doesn't preclude having useful low-level functionality that it's built on.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53505549/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53506340",
    "html_url": "https://github.com/rust-lang/rust/pull/15643#issuecomment-53506340",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15643",
    "id": 53506340,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzNTA2MzQw",
    "user": {
      "login": "tbu-",
      "id": 6666593,
      "node_id": "MDQ6VXNlcjY2NjY1OTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6666593?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tbu-",
      "html_url": "https://github.com/tbu-",
      "followers_url": "https://api.github.com/users/tbu-/followers",
      "following_url": "https://api.github.com/users/tbu-/following{/other_user}",
      "gists_url": "https://api.github.com/users/tbu-/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tbu-/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tbu-/subscriptions",
      "organizations_url": "https://api.github.com/users/tbu-/orgs",
      "repos_url": "https://api.github.com/users/tbu-/repos",
      "events_url": "https://api.github.com/users/tbu-/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tbu-/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-26T23:08:51Z",
    "updated_at": "2014-08-26T23:08:51Z",
    "body": "Indeed, the whole point we wanted to achieve with this was compatiblity with low-level libraries in other languages \u2013 so wrapping it up as such an enum would have the wrong effect in my opinion.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53506340/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53506429",
    "html_url": "https://github.com/rust-lang/rust/pull/15643#issuecomment-53506429",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15643",
    "id": 53506429,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzNTA2NDI5",
    "user": {
      "login": "l0kod",
      "id": 1286585,
      "node_id": "MDQ6VXNlcjEyODY1ODU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1286585?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/l0kod",
      "html_url": "https://github.com/l0kod",
      "followers_url": "https://api.github.com/users/l0kod/followers",
      "following_url": "https://api.github.com/users/l0kod/following{/other_user}",
      "gists_url": "https://api.github.com/users/l0kod/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/l0kod/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/l0kod/subscriptions",
      "organizations_url": "https://api.github.com/users/l0kod/orgs",
      "repos_url": "https://api.github.com/users/l0kod/repos",
      "events_url": "https://api.github.com/users/l0kod/events{/privacy}",
      "received_events_url": "https://api.github.com/users/l0kod/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-26T23:09:42Z",
    "updated_at": "2014-08-26T23:09:42Z",
    "body": "OK, I missed some file descriptor types ;) but It's probably why `fstat` can return an unknown type.\nAll 7 types (plus the unknown) are defined by POSIX.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53506429/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53506755",
    "html_url": "https://github.com/rust-lang/rust/pull/15643#issuecomment-53506755",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15643",
    "id": 53506755,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzNTA2NzU1",
    "user": {
      "login": "l0kod",
      "id": 1286585,
      "node_id": "MDQ6VXNlcjEyODY1ODU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1286585?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/l0kod",
      "html_url": "https://github.com/l0kod",
      "followers_url": "https://api.github.com/users/l0kod/followers",
      "following_url": "https://api.github.com/users/l0kod/following{/other_user}",
      "gists_url": "https://api.github.com/users/l0kod/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/l0kod/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/l0kod/subscriptions",
      "organizations_url": "https://api.github.com/users/l0kod/orgs",
      "repos_url": "https://api.github.com/users/l0kod/repos",
      "events_url": "https://api.github.com/users/l0kod/events{/privacy}",
      "received_events_url": "https://api.github.com/users/l0kod/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-26T23:13:16Z",
    "updated_at": "2014-08-26T23:13:16Z",
    "body": "> wrapping it up as such an enum would have the wrong effect in my opinion.\n\nDoesn't it one of the goal of static typing: to avoid confusion between different things?\n\nI don't see why it would be a problem for binding with low-level library.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53506755/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53506921",
    "html_url": "https://github.com/rust-lang/rust/pull/15643#issuecomment-53506921",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15643",
    "id": 53506921,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzNTA2OTIx",
    "user": {
      "login": "tbu-",
      "id": 6666593,
      "node_id": "MDQ6VXNlcjY2NjY1OTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6666593?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tbu-",
      "html_url": "https://github.com/tbu-",
      "followers_url": "https://api.github.com/users/tbu-/followers",
      "following_url": "https://api.github.com/users/tbu-/following{/other_user}",
      "gists_url": "https://api.github.com/users/tbu-/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tbu-/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tbu-/subscriptions",
      "organizations_url": "https://api.github.com/users/tbu-/orgs",
      "repos_url": "https://api.github.com/users/tbu-/repos",
      "events_url": "https://api.github.com/users/tbu-/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tbu-/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-26T23:15:21Z",
    "updated_at": "2014-08-26T23:15:21Z",
    "body": "Because C doesn't understand these enums, it only \"understands\" the raw `FileDesc` type.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53506921/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53507145",
    "html_url": "https://github.com/rust-lang/rust/pull/15643#issuecomment-53507145",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15643",
    "id": 53507145,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzNTA3MTQ1",
    "user": {
      "login": "l0kod",
      "id": 1286585,
      "node_id": "MDQ6VXNlcjEyODY1ODU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1286585?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/l0kod",
      "html_url": "https://github.com/l0kod",
      "followers_url": "https://api.github.com/users/l0kod/followers",
      "following_url": "https://api.github.com/users/l0kod/following{/other_user}",
      "gists_url": "https://api.github.com/users/l0kod/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/l0kod/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/l0kod/subscriptions",
      "organizations_url": "https://api.github.com/users/l0kod/orgs",
      "repos_url": "https://api.github.com/users/l0kod/repos",
      "events_url": "https://api.github.com/users/l0kod/events{/privacy}",
      "received_events_url": "https://api.github.com/users/l0kod/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-26T23:18:19Z",
    "updated_at": "2014-08-26T23:18:19Z",
    "body": "Yes, C understand the raw `fd_t` but the FFI goal is to wrap unsafe functions in safe ones. High level typing is not a problem.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53507145/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53507223",
    "html_url": "https://github.com/rust-lang/rust/pull/15643#issuecomment-53507223",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15643",
    "id": 53507223,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzNTA3MjIz",
    "user": {
      "login": "thestinger",
      "id": 1505226,
      "node_id": "MDQ6VXNlcjE1MDUyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thestinger",
      "html_url": "https://github.com/thestinger",
      "followers_url": "https://api.github.com/users/thestinger/followers",
      "following_url": "https://api.github.com/users/thestinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions",
      "organizations_url": "https://api.github.com/users/thestinger/orgs",
      "repos_url": "https://api.github.com/users/thestinger/repos",
      "events_url": "https://api.github.com/users/thestinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thestinger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-26T23:19:12Z",
    "updated_at": "2014-08-26T23:20:12Z",
    "body": "By adding abstraction and typing restrictions, it's no longer a low-level library and can no longer express everything that you can in C. Exposing low-level functionality does not preclude having high-level abstractions built on top of them. It shouldn't go beyond what is necessary to achieve safety unless it's not making any use cases more difficult.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53507223/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53509091",
    "html_url": "https://github.com/rust-lang/rust/pull/15643#issuecomment-53509091",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15643",
    "id": 53509091,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzNTA5MDkx",
    "user": {
      "login": "l0kod",
      "id": 1286585,
      "node_id": "MDQ6VXNlcjEyODY1ODU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1286585?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/l0kod",
      "html_url": "https://github.com/l0kod",
      "followers_url": "https://api.github.com/users/l0kod/followers",
      "following_url": "https://api.github.com/users/l0kod/following{/other_user}",
      "gists_url": "https://api.github.com/users/l0kod/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/l0kod/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/l0kod/subscriptions",
      "organizations_url": "https://api.github.com/users/l0kod/orgs",
      "repos_url": "https://api.github.com/users/l0kod/repos",
      "events_url": "https://api.github.com/users/l0kod/events{/privacy}",
      "received_events_url": "https://api.github.com/users/l0kod/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-26T23:43:02Z",
    "updated_at": "2014-08-26T23:43:02Z",
    "body": "> By adding abstraction and typing restrictions, it's no longer a low-level library and can no longer express everything that you can in C.\n\nYes, that's the goal of proper wrapping, to avoid errors :)\n\nI don't see the difference of use between a single `FileDesc` and multiple ones with traits for low-level binding. The enum thing is not a problem if you use it for return value and take a trait for function argument.\n\nThe idea is that bindings who return file descriptors (e.g. `open(2)`) can tighten file descriptor type with `fstat`. Functions taking file descriptor as argument should use traits. Moreover, I don't see any problem if `UnknownFd` implement all traits. Am I missing something?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53509091/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53533860",
    "html_url": "https://github.com/rust-lang/rust/pull/15643#issuecomment-53533860",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15643",
    "id": 53533860,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzNTMzODYw",
    "user": {
      "login": "petrochenkov",
      "id": 5751617,
      "node_id": "MDQ6VXNlcjU3NTE2MTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5751617?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/petrochenkov",
      "html_url": "https://github.com/petrochenkov",
      "followers_url": "https://api.github.com/users/petrochenkov/followers",
      "following_url": "https://api.github.com/users/petrochenkov/following{/other_user}",
      "gists_url": "https://api.github.com/users/petrochenkov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/petrochenkov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/petrochenkov/subscriptions",
      "organizations_url": "https://api.github.com/users/petrochenkov/orgs",
      "repos_url": "https://api.github.com/users/petrochenkov/repos",
      "events_url": "https://api.github.com/users/petrochenkov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/petrochenkov/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-27T07:06:40Z",
    "updated_at": "2014-08-27T07:06:58Z",
    "body": "Plus to thestinger, I feel the primary goal is a possibility to use an operating system API in its entirety.\nAnd after that anybody can add, refine and discuss whatever abstractions and wrappers he wants.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53533860/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53799741",
    "html_url": "https://github.com/rust-lang/rust/pull/15643#issuecomment-53799741",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15643",
    "id": 53799741,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzNzk5NzQx",
    "user": {
      "login": "l0kod",
      "id": 1286585,
      "node_id": "MDQ6VXNlcjEyODY1ODU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1286585?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/l0kod",
      "html_url": "https://github.com/l0kod",
      "followers_url": "https://api.github.com/users/l0kod/followers",
      "following_url": "https://api.github.com/users/l0kod/following{/other_user}",
      "gists_url": "https://api.github.com/users/l0kod/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/l0kod/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/l0kod/subscriptions",
      "organizations_url": "https://api.github.com/users/l0kod/orgs",
      "repos_url": "https://api.github.com/users/l0kod/repos",
      "events_url": "https://api.github.com/users/l0kod/events{/privacy}",
      "received_events_url": "https://api.github.com/users/l0kod/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-28T21:11:01Z",
    "updated_at": "2014-08-28T21:11:01Z",
    "body": "Good news! libuv now support file descriptors: joyent/libuv#1435.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53799741/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53804535",
    "html_url": "https://github.com/rust-lang/rust/pull/15643#issuecomment-53804535",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15643",
    "id": 53804535,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzODA0NTM1",
    "user": {
      "login": "retep998",
      "id": 666308,
      "node_id": "MDQ6VXNlcjY2NjMwOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/666308?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/retep998",
      "html_url": "https://github.com/retep998",
      "followers_url": "https://api.github.com/users/retep998/followers",
      "following_url": "https://api.github.com/users/retep998/following{/other_user}",
      "gists_url": "https://api.github.com/users/retep998/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/retep998/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/retep998/subscriptions",
      "organizations_url": "https://api.github.com/users/retep998/orgs",
      "repos_url": "https://api.github.com/users/retep998/repos",
      "events_url": "https://api.github.com/users/retep998/events{/privacy}",
      "received_events_url": "https://api.github.com/users/retep998/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-28T21:35:37Z",
    "updated_at": "2014-08-28T21:35:37Z",
    "body": "Of particular note is that libuv provides `HANDLE` on Windows while Rust provides `c_int` file descriptors instead.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53804535/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/54766505",
    "html_url": "https://github.com/rust-lang/rust/pull/15643#issuecomment-54766505",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15643",
    "id": 54766505,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU0NzY2NTA1",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-09-08T00:29:58Z",
    "updated_at": "2014-09-08T00:29:58Z",
    "body": "Closing due to inactivity. There are many changes planned to the I/O libraries, especially libnative. While these changes settle down over the coming weeks, something like this will _definitely_ be included. I would recommend holding off to see how the new design of libnative works out.\n\nThe plan is to have high-level primitives in libstd which provide access to lower-level primitives in libnative which in turn provide access to the raw file descriptor/handle objects.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/54766505/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/54966145",
    "html_url": "https://github.com/rust-lang/rust/pull/15643#issuecomment-54966145",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15643",
    "id": 54966145,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU0OTY2MTQ1",
    "user": {
      "login": "errordeveloper",
      "id": 251467,
      "node_id": "MDQ6VXNlcjI1MTQ2Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/251467?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/errordeveloper",
      "html_url": "https://github.com/errordeveloper",
      "followers_url": "https://api.github.com/users/errordeveloper/followers",
      "following_url": "https://api.github.com/users/errordeveloper/following{/other_user}",
      "gists_url": "https://api.github.com/users/errordeveloper/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/errordeveloper/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/errordeveloper/subscriptions",
      "organizations_url": "https://api.github.com/users/errordeveloper/orgs",
      "repos_url": "https://api.github.com/users/errordeveloper/repos",
      "events_url": "https://api.github.com/users/errordeveloper/events{/privacy}",
      "received_events_url": "https://api.github.com/users/errordeveloper/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-09-09T13:11:34Z",
    "updated_at": "2014-09-09T13:11:34Z",
    "body": "@alexcrichton I am definitely looking forward to see those changes. Is there a tracking issues for it?\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/54966145/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/54977284",
    "html_url": "https://github.com/rust-lang/rust/pull/15643#issuecomment-54977284",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15643",
    "id": 54977284,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU0OTc3Mjg0",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-09-09T14:29:48Z",
    "updated_at": "2014-09-09T14:29:48Z",
    "body": "I'd follow https://github.com/rust-lang/rfcs/pull/219 which, although closed, will be updated with the next course of action.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/54977284/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/55053806",
    "html_url": "https://github.com/rust-lang/rust/pull/15643#issuecomment-55053806",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15643",
    "id": 55053806,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1MDUzODA2",
    "user": {
      "login": "aturon",
      "id": 709807,
      "node_id": "MDQ6VXNlcjcwOTgwNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/709807?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aturon",
      "html_url": "https://github.com/aturon",
      "followers_url": "https://api.github.com/users/aturon/followers",
      "following_url": "https://api.github.com/users/aturon/following{/other_user}",
      "gists_url": "https://api.github.com/users/aturon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aturon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aturon/subscriptions",
      "organizations_url": "https://api.github.com/users/aturon/orgs",
      "repos_url": "https://api.github.com/users/aturon/repos",
      "events_url": "https://api.github.com/users/aturon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aturon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-09-09T23:55:29Z",
    "updated_at": "2014-09-09T23:55:29Z",
    "body": "See (and please comment on!) [this new RFC](https://github.com/rust-lang/rfcs/pull/230).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/55053806/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62304332",
    "html_url": "https://github.com/rust-lang/rust/pull/15643#issuecomment-62304332",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15643",
    "id": 62304332,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMzA0MzMy",
    "user": {
      "login": "l0kod",
      "id": 1286585,
      "node_id": "MDQ6VXNlcjEyODY1ODU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1286585?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/l0kod",
      "html_url": "https://github.com/l0kod",
      "followers_url": "https://api.github.com/users/l0kod/followers",
      "following_url": "https://api.github.com/users/l0kod/following{/other_user}",
      "gists_url": "https://api.github.com/users/l0kod/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/l0kod/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/l0kod/subscriptions",
      "organizations_url": "https://api.github.com/users/l0kod/orgs",
      "repos_url": "https://api.github.com/users/l0kod/repos",
      "events_url": "https://api.github.com/users/l0kod/events{/privacy}",
      "received_events_url": "https://api.github.com/users/l0kod/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-09T14:01:59Z",
    "updated_at": "2014-11-09T14:01:59Z",
    "body": "Merged RFC: https://github.com/rust-lang/rfcs/blob/master/text/0230-remove-runtime.md\n\nRelated issue: #17325.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62304332/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/64095986",
    "html_url": "https://github.com/rust-lang/rust/pull/15643#issuecomment-64095986",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15643",
    "id": 64095986,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0MDk1OTg2",
    "user": {
      "login": "l0kod",
      "id": 1286585,
      "node_id": "MDQ6VXNlcjEyODY1ODU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1286585?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/l0kod",
      "html_url": "https://github.com/l0kod",
      "followers_url": "https://api.github.com/users/l0kod/followers",
      "following_url": "https://api.github.com/users/l0kod/following{/other_user}",
      "gists_url": "https://api.github.com/users/l0kod/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/l0kod/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/l0kod/subscriptions",
      "organizations_url": "https://api.github.com/users/l0kod/orgs",
      "repos_url": "https://api.github.com/users/l0kod/repos",
      "events_url": "https://api.github.com/users/l0kod/events{/privacy}",
      "received_events_url": "https://api.github.com/users/l0kod/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-22T21:22:35Z",
    "updated_at": "2014-11-22T21:22:35Z",
    "body": "New PR: #19169\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/64095986/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
