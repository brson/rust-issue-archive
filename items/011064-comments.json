[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/30907685",
    "html_url": "https://github.com/rust-lang/rust/pull/11064#issuecomment-30907685",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/11064",
    "id": 30907685,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwOTA3Njg1",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-12-19T06:18:06Z",
    "updated_at": "2013-12-19T06:45:23Z",
    "body": "This uses a lot of unsafe code, but I don't see a way around it to maintain efficiency.\n\nThe code there is essentially an optimised version of the following (which is several times slower):\n\n``` rust\nfn merge_sort_safe<T>(v: &mut [T], less_eq: |&T, &T| -> bool) {\n    if v.is_empty() { return }\n    let len = v.len();\n    let mut idx: ~[uint] = vec::with_capacity(len);\n\n    for start in iter::range_step(0, len, INSERTION) {\n        for i in range(start, cmp::min(start + INSERTION, len)) {\n            let mut j = i as int;\n            while j > start as int && !less_eq(&v[idx[j - 1]], &v[i]) {\n                j -= 1;\n            }\n            idx.insert(j as uint, i);\n        }\n    }\n\n    let mut width = INSERTION;\n    let mut next_idx = vec::with_capacity(len);\n    while width < len {\n        for start in iter::range_step(0, len, 2 * width) {\n            // the end of the first run/start of the second\n            let left_end = cmp::min(start + width, len);\n            // end of the second\n            let right_end = cmp::min(start + 2 * width, len);\n            let mut left = start;\n            let mut right = left_end;\n            for _ in range(start, right_end) {\n                let choose_left = left < left_end && (right >= right_end ||\n                                                      less_eq(&v[idx[left]], &v[idx[right]]));\n                next_idx.push(if choose_left {\n                    let l = idx[left];\n                    left += 1;\n                    l\n                } else {\n                    let r = idx[right];\n                    right += 1;\n                    r\n                })\n            }\n        }\n        swap(&mut idx, &mut next_idx);\n        next_idx.truncate(0);\n        width *= 2;\n    }\n\n    // trickery to put all the elements in the correct place.\n    let mut inverse_idx = next_idx;\n    inverse_idx.push_all(idx); // get the appropriate length; we overwrite it later.\n    for (i, &j) in idx.iter().enumerate() {\n        inverse_idx[j] = i\n    }\n\n    for i in range(0, len - 1) {\n        let idx_i = idx[i];\n        if idx_i == i { continue }\n        v.swap(i, idx_i);\n        idx.swap(i, inverse_idx[i]);\n        inverse_idx.swap(i,idx_i);\n    }\n}\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/30907685/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/30909234",
    "html_url": "https://github.com/rust-lang/rust/pull/11064#issuecomment-30909234",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/11064",
    "id": 30909234,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwOTA5MjM0",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-12-19T07:05:27Z",
    "updated_at": "2013-12-19T07:05:27Z",
    "body": "A few high-level questions before I dive too deep into the code:\n1. Have you considered other algorithms? The one that comes to mind for me is quicksort which I don't think needs the temporary storage. I also haven't implemented it in a serious setting, so I can't really speak to how reasonable it is to expect it.\n2. At least in ruby the `sort()` method takes no arguments, but `sort_by()` takes a closure for comparing to elements. I think there's also a flavor that takes a closure which maps an element to a sortable value. I don't think that we want to get too fancy with this, but it may be worth considering having the `sort()` method be the convenience method and have an extra one for the sort-by-closure method.\n\nOther than that, awesome work! At a quick glance this looks pretty awesome and I'm loving that diff stat.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/30909234/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/30909496",
    "html_url": "https://github.com/rust-lang/rust/pull/11064#issuecomment-30909496",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/11064",
    "id": 30909496,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwOTA5NDk2",
    "user": {
      "login": "thestinger",
      "id": 1505226,
      "node_id": "MDQ6VXNlcjE1MDUyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thestinger",
      "html_url": "https://github.com/thestinger",
      "followers_url": "https://api.github.com/users/thestinger/followers",
      "following_url": "https://api.github.com/users/thestinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions",
      "organizations_url": "https://api.github.com/users/thestinger/orgs",
      "repos_url": "https://api.github.com/users/thestinger/repos",
      "events_url": "https://api.github.com/users/thestinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thestinger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-12-19T07:13:33Z",
    "updated_at": "2013-12-19T07:13:33Z",
    "body": "@alexcrichton: quicksort has an O(n^2) worst-case without slowing it down by making it use median-of-median pivot selection and isn't a stable sort\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/30909496/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/30909726",
    "html_url": "https://github.com/rust-lang/rust/pull/11064#issuecomment-30909726",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/11064",
    "id": 30909726,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwOTA5NzI2",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-12-19T07:20:34Z",
    "updated_at": "2013-12-19T07:29:02Z",
    "body": "> Have you considered other algorithms?\n\nI was just going off @thestinger's suggestion of merge sort + insertion sort on #9819.\n\n> At least in ruby the sort() method takes no arguments, but sort_by() takes a closure for comparing to elements\n\nI'm happy to do this, I'm also currently experimenting with:\n\n``` rust\npub trait LessThanEqualComparator<T> {\n    fn less_eq(&self, a: &T, b: &T) -> bool;\n}\n\npub struct SortForward;\nimpl<T: Ord> LessThanEqualComparator<T> for SortForward {\n    fn less_eq(&self, a: &T, b: &T) -> bool { *a <= *b }\n}\n\npub struct SortReverse;\nimpl<T: Ord> LessThanEqualComparator<T> for SortReverse {\n    fn less_eq(&self, a: &T, b: &T) -> bool { *b <= *a }\n}\n\nimpl<'a, T> LessThanEqualComparator<T> for 'a |&T, &T| -> bool {\n    fn less_eq(&self, a: &T, b: &T) -> bool {\n        (*self)(a, b)\n    }\n}\n\n[...]\n\n    fn sort<Sort: LessThanEqualComparator>(self, less_eq: Sort);\n```\n\nwhich would avoid the boxed closure problem for a plain `a <= b` sort, but still be flexible, and avoid writing the error prone `|a,b| a <= b` repeatedly. I have a feeling that this will require type annotations on the closure, which may be too ugly (and it would require importing `std::vec::SortForward` etc, so the sugary `.sort()` method might still be nice).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/30909726/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/30921406",
    "html_url": "https://github.com/rust-lang/rust/pull/11064#issuecomment-30921406",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/11064",
    "id": 30921406,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwOTIxNDA2",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-12-19T11:16:59Z",
    "updated_at": "2013-12-19T12:05:28Z",
    "body": "I've added a commit that does the above suggestion, it _does_ require putting type signatures on the closures, which is fairly annoying. :( (I'm happy to drop it if necessary.)\n\nHowever, this adjusts the times to\n\n| n | original | trait |\n| --: | --: | --: |\n| 5 | 200 | 155 |\n| 100 | 6490 | 5900 |\n| 10000 | 1300000 | 1280000 |\n| 100000 | 16700000 | 16400000 |\n| sorted | 520000 | 310000 |\n| trend | 1310000 | 1250000 |\n\nIf it were split into `.sort()` and `.sort_by(<comparator>)` this might not be so ugly in practice.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/30921406/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/30923803",
    "html_url": "https://github.com/rust-lang/rust/pull/11064#issuecomment-30923803",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/11064",
    "id": 30923803,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwOTIzODAz",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-12-19T12:05:17Z",
    "updated_at": "2013-12-19T12:05:17Z",
    "body": "And added one for `.sort()` and `.sort_by(..)`. Unfortunately that requires adding a whole new trait and adding it to the prelude. :(\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/30923803/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/30970944",
    "html_url": "https://github.com/rust-lang/rust/pull/11064#issuecomment-30970944",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/11064",
    "id": 30970944,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwOTcwOTQ0",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-12-19T22:03:36Z",
    "updated_at": "2013-12-19T22:03:36Z",
    "body": "@brson and I were talking about this this morning, and here's some thoughts that we had (plus a few of my own with these updates).\n1. There are 3 flavors of sorting that I know of. `sort()` which requires `T: Ord`, `sort(|a| { ... })` which maps elements to a orderable-type, and `sort(|a, b| { ... })` which compares two elements directly. I think that `sort()` should _definitely_ be available (as is today), and `sort(|a, b| { ... })` is also quite useful (as you have right now), and I'm not entirely sure if we want `sort(|a| { ... })` for now. I think we can get by without it.\n2. The standard sort should be super fast. It appears that other programming languages don't necessarily put a huge focus on having the default sort being a stable sort. I personally have never cared about my sort being stable, but there are very real use cases which require this. Perhaps a good solution for this would be to have `extra::sort` with a fast stable sort (and maybe some other flavors), but the `std::sort` variant would be a super-fast explicitly not guaranteed to be stable sort. @brson mentions that the \"hot sorting algorithm\" today is timsort, which we apparently have an implementation of in libextra (but may need to be optimized).\n3. I think that the api should be a little different. I _always_ forget what order I need to do things in the closure. Should I return less than, less than or equal, or the inverse of these? You solve this well with a `less_eq` method (so it's clear), but this seems like yet another trait which isn't that necessary. It seems to be that a closure should be perfectly sufficient, but the return value of the closure should be `Ordering`. I still personally don't understand the difference between `Ord` and `TotalOrd`, but the basic idea that I would like to see is just returning the relative comparison between the two elements, and then the array is _always_ sorted smallest to largest. We could have convenient `ordering.invert()` methods for inverting how the array is sorted.\n\nHow does that sound?\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/30970944/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/30979819",
    "html_url": "https://github.com/rust-lang/rust/pull/11064#issuecomment-30979819",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/11064",
    "id": 30979819,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwOTc5ODE5",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-12-20T00:23:32Z",
    "updated_at": "2013-12-20T00:23:32Z",
    "body": "> @brson mentions that the \"hot sorting algorithm\" today is timsort, which we apparently have an implementation of in libextra (but may need to be optimized).\n\nIt definitely does; this algorithm here is much faster in general that the timsort in `extra` (although timsort is amazing on pre-sorted lists):\n\n| n | original | trait | timsort |\n| --: | --: | --: | --: |\n| 5 | 200 | 155 | 236 |\n| 100 | 6490 | 5900 | 24000 |\n| 10000 | 1300000 | 1280000 | 2810000 |\n| 100000 | 16700000 | 16400000 | 37000000 |\n| sorted | 520000 | 310000 | 15000 |\n| trend | 1310000 | 1250000 | 2770000 |\n\n> this seems like yet another trait which isn't that necessary. It seems to be that a closure should be perfectly sufficient\n\nThe point of the trait is to get static dispatch for a simple `a <= b` comparison since this is faster (see the table above); (I agree that it would be unnecessary if we had unboxed stack closures).\n\n> the return value of the closure should be Ordering\n\nSounds good.\n\nRe stability and the exact choice of algorithm, you'll have to talk to @thestinger, since I'm just following his suggestion on #9819.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/30979819/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/30981240",
    "html_url": "https://github.com/rust-lang/rust/pull/11064#issuecomment-30981240",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/11064",
    "id": 30981240,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwOTgxMjQw",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-12-20T00:54:31Z",
    "updated_at": "2013-12-20T00:54:31Z",
    "body": "I'm reading over the `tim_sort` code in `extra` now... there is a _lot_ of it (560 LOC for the implementation, not including any tests or anything) and it looks fairly complicated; I imagine that doing it with `unsafe` code would be hard to verify as correct, and will be hard to get to be as efficient as this (especially when avoiding `.clone`).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/30981240/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/30982748",
    "html_url": "https://github.com/rust-lang/rust/pull/11064#issuecomment-30982748",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/11064",
    "id": 30982748,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwOTgyNzQ4",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-12-20T01:29:54Z",
    "updated_at": "2013-12-20T01:29:54Z",
    "body": "This looks very nice, @huonw. Thanks.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/30982748/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/30982774",
    "html_url": "https://github.com/rust-lang/rust/pull/11064#issuecomment-30982774",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/11064",
    "id": 30982774,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwOTgyNzc0",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-12-20T01:30:29Z",
    "updated_at": "2013-12-20T01:30:29Z",
    "body": "Well commented.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/30982774/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/30987109",
    "html_url": "https://github.com/rust-lang/rust/pull/11064#issuecomment-30987109",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/11064",
    "id": 30987109,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwOTg3MTA5",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-12-20T03:44:31Z",
    "updated_at": "2013-12-20T03:44:31Z",
    "body": "Pushed the `less_eq` -> `Ordering` change. It makes some things ugly since it then requires `TotalOrd` which makes handling (for example) floats less nice (cc https://github.com/mozilla/rust/issues/5585 and https://github.com/mozilla/rust/issues/10320).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/30987109/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/31025544",
    "html_url": "https://github.com/rust-lang/rust/pull/11064#issuecomment-31025544",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/11064",
    "id": 31025544,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxMDI1NTQ0",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-12-20T17:17:16Z",
    "updated_at": "2013-12-20T17:17:16Z",
    "body": "@brson/@pcwalton and I were talking about this, and we're a little wary of the `Sort: SortComparator<T>` bound. It should always be the case that `arr.sort_by(|a, b| a.foo.cmp(&b.foo))` works, but in the future this will likely be done with an unboxed closure rather than a trait bound. For forward compatibility, we think that for now the argument should just be a closure. If we have a trait bound, code will eventually break because it relied on using the trait rather than a function-like thing which we're a little worried about.\n\nI realize that it's a little slower, but I would be more worried about forwards compatibility. What do you think?\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/31025544/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/31038416",
    "html_url": "https://github.com/rust-lang/rust/pull/11064#issuecomment-31038416",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/11064",
    "id": 31038416,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxMDM4NDE2",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-12-20T20:17:48Z",
    "updated_at": "2013-12-20T20:17:48Z",
    "body": "@alexcrichton Your comment, \"There are 3 flavors of sorting that I know of ...\" (which then listed three flavors, at least two of which were comparison-based sorts, not sure about the third) reminded me that I have been meaning to go back over this paper on Generic Discrimination based Sorting/Partitioning [1] [2], which I saw presented some years ago but never got a chance to really play with.\n\n(The idea, if I recall correctly, is a generalization of the ideas that drive a radix-sort to more general data structures, yielding \"linear time\" sorting, where I've quoted linear time because I'm sure there are certain assumptions that must be met.)\n\n[1] http://www.diku.dk/hjemmesider/ansatte/henglein/papers/henglein2007b.pdf\n\n[2] http://www.icfpconference.org/icfp2008/accepted/41.html\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/31038416/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/31077260",
    "html_url": "https://github.com/rust-lang/rust/pull/11064#issuecomment-31077260",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/11064",
    "id": 31077260,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxMDc3MjYw",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-12-22T02:19:54Z",
    "updated_at": "2013-12-22T02:19:54Z",
    "body": "Rebased out the trait addition (I agree with the backward-compatibility concerns).\n\n(I'm \"away\" at the moment, so iteration of this PR will be slow.)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/31077260/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
