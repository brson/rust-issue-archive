[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/70410859",
    "html_url": "https://github.com/rust-lang/rust/issues/21361#issuecomment-70410859",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21361",
    "id": 70410859,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwNDEwODU5",
    "user": {
      "login": "japaric",
      "id": 5018213,
      "node_id": "MDQ6VXNlcjUwMTgyMTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5018213?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/japaric",
      "html_url": "https://github.com/japaric",
      "followers_url": "https://api.github.com/users/japaric/followers",
      "following_url": "https://api.github.com/users/japaric/following{/other_user}",
      "gists_url": "https://api.github.com/users/japaric/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/japaric/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/japaric/subscriptions",
      "organizations_url": "https://api.github.com/users/japaric/orgs",
      "repos_url": "https://api.github.com/users/japaric/repos",
      "events_url": "https://api.github.com/users/japaric/events{/privacy}",
      "received_events_url": "https://api.github.com/users/japaric/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-18T14:48:48Z",
    "updated_at": "2015-01-18T14:48:48Z",
    "body": "I **think** a possible solution would be `impl Iterator for &mut Iterator`, that way `boxed.max()` would autoderef `boxed` from `Box<Iterator>` into `&mut Iterator` (because `Box` implements `DerefMut<Target=T>`) and then since `&mut Iterator` implements the `Iterator` trait, it would also implement `IteratorExt`. Let me see if that works.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/70410859/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/70411367",
    "html_url": "https://github.com/rust-lang/rust/issues/21361#issuecomment-70411367",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21361",
    "id": 70411367,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwNDExMzY3",
    "user": {
      "login": "japaric",
      "id": 5018213,
      "node_id": "MDQ6VXNlcjUwMTgyMTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5018213?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/japaric",
      "html_url": "https://github.com/japaric",
      "followers_url": "https://api.github.com/users/japaric/followers",
      "following_url": "https://api.github.com/users/japaric/following{/other_user}",
      "gists_url": "https://api.github.com/users/japaric/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/japaric/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/japaric/subscriptions",
      "organizations_url": "https://api.github.com/users/japaric/orgs",
      "repos_url": "https://api.github.com/users/japaric/repos",
      "events_url": "https://api.github.com/users/japaric/events{/privacy}",
      "received_events_url": "https://api.github.com/users/japaric/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-18T15:02:46Z",
    "updated_at": "2015-01-18T15:02:46Z",
    "body": "The idea works with the old `Iterator<T>` trait:\n\n``` rust\n#![no_implicit_prelude]\n\nuse std::boxed::Box;\nuse std::marker::Sized;\nuse std::option::Option;\n\ntrait Iterator<T> {\n    fn next(&mut self) -> Option<T>;\n}\n\nimpl<'a, T> Iterator<T> for &'a mut (Iterator<T> + 'a) {\n    fn next(&mut self) -> Option<T> {\n        loop {}\n    }\n}\n\ntrait IteratorExt<T>: Iterator<T> + Sized {\n    fn last(self) -> Option<T> {\n        loop {}\n    }\n}\n\nimpl<I, T> IteratorExt<T> for I where I: Iterator<T> {}\n\nfn test(mut it: Box<Iterator<u8> + 'static>) {\n    it.last();  // <-- it works\n}\n\nfn main() {}\n```\n\nBut I'm not quite sure how to `impl<'a> Iterator for &'a mut (Iterator + 'a)` with associated types. This gets rejected:\n\n``` rust\nimpl<'a, T> Iterator for &'a mut (Iterator<Item=T> + 'a) {\n//~^ error: the type parameter `T` is not constrained by the impl trait, self type, or predicates\n    type Item = T;\n}\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/70411367/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/70411804",
    "html_url": "https://github.com/rust-lang/rust/issues/21361#issuecomment-70411804",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21361",
    "id": 70411804,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwNDExODA0",
    "user": {
      "login": "japaric",
      "id": 5018213,
      "node_id": "MDQ6VXNlcjUwMTgyMTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5018213?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/japaric",
      "html_url": "https://github.com/japaric",
      "followers_url": "https://api.github.com/users/japaric/followers",
      "following_url": "https://api.github.com/users/japaric/following{/other_user}",
      "gists_url": "https://api.github.com/users/japaric/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/japaric/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/japaric/subscriptions",
      "organizations_url": "https://api.github.com/users/japaric/orgs",
      "repos_url": "https://api.github.com/users/japaric/repos",
      "events_url": "https://api.github.com/users/japaric/events{/privacy}",
      "received_events_url": "https://api.github.com/users/japaric/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-18T15:15:08Z",
    "updated_at": "2015-01-18T15:15:08Z",
    "body": "I think the last `impl` should be accepted, but it's not because of a bug, so I have filed #21363.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/70411804/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
