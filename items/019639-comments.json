[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/66200471",
    "html_url": "https://github.com/rust-lang/rust/issues/19639#issuecomment-66200471",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19639",
    "id": 66200471,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2MjAwNDcx",
    "user": {
      "login": "Thiez",
      "id": 204550,
      "node_id": "MDQ6VXNlcjIwNDU1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/204550?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Thiez",
      "html_url": "https://github.com/Thiez",
      "followers_url": "https://api.github.com/users/Thiez/followers",
      "following_url": "https://api.github.com/users/Thiez/following{/other_user}",
      "gists_url": "https://api.github.com/users/Thiez/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Thiez/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Thiez/subscriptions",
      "organizations_url": "https://api.github.com/users/Thiez/orgs",
      "repos_url": "https://api.github.com/users/Thiez/repos",
      "events_url": "https://api.github.com/users/Thiez/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Thiez/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-12-08T22:30:46Z",
    "updated_at": "2014-12-08T22:30:46Z",
    "body": "You mean something like:\n\n``` rust\nfn random_sample<A, T>(mut iter: A) -> Option<T>\n    where A: Iterator<T> {\n{\n    let mut elem = None;\n    let mut i = 1f64;\n    for new_item in iter {\n        if std::rand::random::<f64>() < (1f64/i) {\n            elem = Some(new_item);\n        }\n        i += 1.0;\n    }\n    elem\n}\n```\n\nI'm not sure such a thing would be used often enough to justify its existence. Perhaps if you were to combine it with cool techniques such as [resevoir sampling](http://en.wikipedia.org/wiki/Reservoir_sampling) it could make a nice (external) crate?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/66200471/reactions",
      "total_count": 3,
      "+1": 3,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/66201327",
    "html_url": "https://github.com/rust-lang/rust/issues/19639#issuecomment-66201327",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19639",
    "id": 66201327,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2MjAxMzI3",
    "user": {
      "login": "aturon",
      "id": 709807,
      "node_id": "MDQ6VXNlcjcwOTgwNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/709807?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aturon",
      "html_url": "https://github.com/aturon",
      "followers_url": "https://api.github.com/users/aturon/followers",
      "following_url": "https://api.github.com/users/aturon/following{/other_user}",
      "gists_url": "https://api.github.com/users/aturon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aturon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aturon/subscriptions",
      "organizations_url": "https://api.github.com/users/aturon/orgs",
      "repos_url": "https://api.github.com/users/aturon/repos",
      "events_url": "https://api.github.com/users/aturon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aturon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-12-08T22:36:27Z",
    "updated_at": "2014-12-08T22:36:27Z",
    "body": "> I'm not sure such a thing would be used often enough to justify its existence. Perhaps if you were to combine it with cool techniques such as [resevoir sampling](http://en.wikipedia.org/wiki/Reservoir_sampling) it could make a nice (external) crate?\n\nAgreed. Especially with https://crates.io/ working, we are increasingly pushing toward experimentation happening in the crates.io ecosystem, and bringing APIs into `std` more gradually after they've proved their worth \"on the market\".\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/66201327/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/66205428",
    "html_url": "https://github.com/rust-lang/rust/issues/19639#issuecomment-66205428",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19639",
    "id": 66205428,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2MjA1NDI4",
    "user": {
      "login": "Gankra",
      "id": 1136864,
      "node_id": "MDQ6VXNlcjExMzY4NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1136864?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Gankra",
      "html_url": "https://github.com/Gankra",
      "followers_url": "https://api.github.com/users/Gankra/followers",
      "following_url": "https://api.github.com/users/Gankra/following{/other_user}",
      "gists_url": "https://api.github.com/users/Gankra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Gankra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Gankra/subscriptions",
      "organizations_url": "https://api.github.com/users/Gankra/orgs",
      "repos_url": "https://api.github.com/users/Gankra/repos",
      "events_url": "https://api.github.com/users/Gankra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Gankra/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-12-08T23:06:26Z",
    "updated_at": "2014-12-08T23:06:26Z",
    "body": "Such functionality cannot be \"grafted on\" out-of-tree though. At least, if you want any scrap of performance on key-based collections.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/66205428/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/66211338",
    "html_url": "https://github.com/rust-lang/rust/issues/19639#issuecomment-66211338",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19639",
    "id": 66211338,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2MjExMzM4",
    "user": {
      "login": "aturon",
      "id": 709807,
      "node_id": "MDQ6VXNlcjcwOTgwNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/709807?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aturon",
      "html_url": "https://github.com/aturon",
      "followers_url": "https://api.github.com/users/aturon/followers",
      "following_url": "https://api.github.com/users/aturon/following{/other_user}",
      "gists_url": "https://api.github.com/users/aturon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aturon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aturon/subscriptions",
      "organizations_url": "https://api.github.com/users/aturon/orgs",
      "repos_url": "https://api.github.com/users/aturon/repos",
      "events_url": "https://api.github.com/users/aturon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aturon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-12-08T23:55:52Z",
    "updated_at": "2014-12-08T23:55:52Z",
    "body": "@Gankro \n\n> Such functionality cannot be \"grafted on\" out-of-tree though. At least, if you want any scrap of performance on key-based collections.\n\nFair point. I'm mostly saying, it'd be good to have some harder evidence that this would be widely used before we drop it into `std`.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/66211338/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/66212928",
    "html_url": "https://github.com/rust-lang/rust/issues/19639#issuecomment-66212928",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19639",
    "id": 66212928,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2MjEyOTI4",
    "user": {
      "login": "Gankra",
      "id": 1136864,
      "node_id": "MDQ6VXNlcjExMzY4NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1136864?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Gankra",
      "html_url": "https://github.com/Gankra",
      "followers_url": "https://api.github.com/users/Gankra/followers",
      "following_url": "https://api.github.com/users/Gankra/following{/other_user}",
      "gists_url": "https://api.github.com/users/Gankra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Gankra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Gankra/subscriptions",
      "organizations_url": "https://api.github.com/users/Gankra/orgs",
      "repos_url": "https://api.github.com/users/Gankra/repos",
      "events_url": "https://api.github.com/users/Gankra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Gankra/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-12-09T00:10:35Z",
    "updated_at": "2014-12-09T00:10:35Z",
    "body": "Actually, upon reflection it would _also_ be expensive to provide even if it was in-tree. For tree-based structures you would have to be able to know the size of the subtrees to get any kind of \"real\" random distribution.\n\nYou basically have to be able to get the kth element of the collection to support this functionality efficiently. In which case it would be easy to offer up out-of-tree.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/66212928/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/66212999",
    "html_url": "https://github.com/rust-lang/rust/issues/19639#issuecomment-66212999",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19639",
    "id": 66212999,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2MjEyOTk5",
    "user": {
      "login": "Gankra",
      "id": 1136864,
      "node_id": "MDQ6VXNlcjExMzY4NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1136864?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Gankra",
      "html_url": "https://github.com/Gankra",
      "followers_url": "https://api.github.com/users/Gankra/followers",
      "following_url": "https://api.github.com/users/Gankra/following{/other_user}",
      "gists_url": "https://api.github.com/users/Gankra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Gankra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Gankra/subscriptions",
      "organizations_url": "https://api.github.com/users/Gankra/orgs",
      "repos_url": "https://api.github.com/users/Gankra/repos",
      "events_url": "https://api.github.com/users/Gankra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Gankra/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-12-09T00:11:18Z",
    "updated_at": "2014-12-09T00:11:18Z",
    "body": "One could easily provide it out-of-tree on top of RandomAccessIterator.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/66212999/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/66246733",
    "html_url": "https://github.com/rust-lang/rust/issues/19639#issuecomment-66246733",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19639",
    "id": 66246733,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2MjQ2NzMz",
    "user": {
      "login": "aochagavia",
      "id": 5196584,
      "node_id": "MDQ6VXNlcjUxOTY1ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5196584?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aochagavia",
      "html_url": "https://github.com/aochagavia",
      "followers_url": "https://api.github.com/users/aochagavia/followers",
      "following_url": "https://api.github.com/users/aochagavia/following{/other_user}",
      "gists_url": "https://api.github.com/users/aochagavia/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aochagavia/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aochagavia/subscriptions",
      "organizations_url": "https://api.github.com/users/aochagavia/orgs",
      "repos_url": "https://api.github.com/users/aochagavia/repos",
      "events_url": "https://api.github.com/users/aochagavia/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aochagavia/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-12-09T07:59:53Z",
    "updated_at": "2014-12-09T07:59:53Z",
    "body": "I hadn't thought of the RandomAccessIterator... That would be a nice solution. I will close this and open an issue to provide a RandomAccessIterator for our collections.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/66246733/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
