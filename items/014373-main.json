{
  "url": "https://api.github.com/repos/rust-lang/rust/issues/14373",
  "repository_url": "https://api.github.com/repos/rust-lang/rust",
  "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/14373/labels{/name}",
  "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/14373/comments",
  "events_url": "https://api.github.com/repos/rust-lang/rust/issues/14373/events",
  "html_url": "https://github.com/rust-lang/rust/pull/14373",
  "id": 34147345,
  "node_id": "MDExOlB1bGxSZXF1ZXN0MTYyNTc5OTE=",
  "number": 14373,
  "title": "Implement RFC#2: Unused attribute lint",
  "user": {
    "login": "sfackler",
    "id": 1455697,
    "node_id": "MDQ6VXNlcjE0NTU2OTc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/sfackler",
    "html_url": "https://github.com/sfackler",
    "followers_url": "https://api.github.com/users/sfackler/followers",
    "following_url": "https://api.github.com/users/sfackler/following{/other_user}",
    "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions",
    "organizations_url": "https://api.github.com/users/sfackler/orgs",
    "repos_url": "https://api.github.com/users/sfackler/repos",
    "events_url": "https://api.github.com/users/sfackler/events{/privacy}",
    "received_events_url": "https://api.github.com/users/sfackler/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "labels": [],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [],
  "milestone": null,
  "comments": 7,
  "created_at": "2014-05-23T05:50:05Z",
  "updated_at": "2014-06-13T19:39:36Z",
  "closed_at": "2014-05-25T01:51:19Z",
  "author_association": "MEMBER",
  "type": null,
  "active_lock_reason": null,
  "draft": false,
  "pull_request": {
    "url": "https://api.github.com/repos/rust-lang/rust/pulls/14373",
    "html_url": "https://github.com/rust-lang/rust/pull/14373",
    "diff_url": "https://github.com/rust-lang/rust/pull/14373.diff",
    "patch_url": "https://github.com/rust-lang/rust/pull/14373.patch",
    "merged_at": "2014-05-25T01:51:20Z"
  },
  "body": "The compiler now tracks which attributes were actually looked at during the compilation process and warns for those that were unused.\n\nSome things of note:\n- The tracking is done via thread locals, as it made the implementation more straightforward. Note that this shouldn't hamper any future parallelization as each task can have its own thread local state which can be merged for the lint pass. If there are serious objections to this, I can restructure things to explicitly pass the state around.\n- There are a number of attributes that have to be special-cased and globally whitelisted. This happens for four reasons:\n  - The `doc` and `automatically_derived` attributes are used by rustdoc, but not by the compiler.\n  - The crate-level attributes `license`, `desc` and `comment` aren't currently used by anything.\n  - Stability attributes as well as `must_use` are checked only when the tagged item is used, so we can't guarantee that the compiler's looked at them.\n  - 12 attributes are used only in trans, which happens after the lint pass.\n#14300 is adding infrastructure to track lint state through trans, which this lint should also be able to use to handle the last case. For the other attributes, the right solution would probably involve a specific pass to mark uses that occur in the correct context. For example, a `doc` attribute attached to a match arm should generate a warning, but will not currently.\n\nRFC: 0002-attribute-usage\n",
  "closed_by": {
    "login": "bors",
    "id": 3372342,
    "node_id": "MDQ6VXNlcjMzNzIzNDI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/bors",
    "html_url": "https://github.com/bors",
    "followers_url": "https://api.github.com/users/bors/followers",
    "following_url": "https://api.github.com/users/bors/following{/other_user}",
    "gists_url": "https://api.github.com/users/bors/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bors/subscriptions",
    "organizations_url": "https://api.github.com/users/bors/orgs",
    "repos_url": "https://api.github.com/users/bors/repos",
    "events_url": "https://api.github.com/users/bors/events{/privacy}",
    "received_events_url": "https://api.github.com/users/bors/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/14373/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/14373/timeline",
  "performed_via_github_app": null,
  "state_reason": null,
  "_meta": {
    "type": "pr"
  }
}
