[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/95718115",
    "html_url": "https://github.com/rust-lang/rust/pull/24741#issuecomment-95718115",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24741",
    "id": 95718115,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk1NzE4MTE1",
    "user": {
      "login": "rust-highfive",
      "id": 7378925,
      "node_id": "MDQ6VXNlcjczNzg5MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7378925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rust-highfive",
      "html_url": "https://github.com/rust-highfive",
      "followers_url": "https://api.github.com/users/rust-highfive/followers",
      "following_url": "https://api.github.com/users/rust-highfive/following{/other_user}",
      "gists_url": "https://api.github.com/users/rust-highfive/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rust-highfive/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rust-highfive/subscriptions",
      "organizations_url": "https://api.github.com/users/rust-highfive/orgs",
      "repos_url": "https://api.github.com/users/rust-highfive/repos",
      "events_url": "https://api.github.com/users/rust-highfive/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rust-highfive/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-23T21:03:37Z",
    "updated_at": "2015-04-23T21:03:37Z",
    "body": "Thanks for the pull request, and welcome! The Rust team is excited to review your changes, and you should hear from @brson (or someone else) soon.\n\nIf any changes to this PR are deemed necessary, please add them as extra commits. This ensures that the reviewer can see what has changed since they last reviewed the code. The way Github handles out-of-date commits, this should also make it reasonably obvious what issues have or haven't been addressed. Large or tricky changes may require several passes of review and changes.\n\nPlease see [CONTRIBUTING.md](https://github.com/rust-lang/rust/blob/master/CONTRIBUTING.md) for more information.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/95718115/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/97216758",
    "html_url": "https://github.com/rust-lang/rust/pull/24741#issuecomment-97216758",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24741",
    "id": 97216758,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk3MjE2NzU4",
    "user": {
      "login": "cgwalters",
      "id": 244096,
      "node_id": "MDQ6VXNlcjI0NDA5Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cgwalters",
      "html_url": "https://github.com/cgwalters",
      "followers_url": "https://api.github.com/users/cgwalters/followers",
      "following_url": "https://api.github.com/users/cgwalters/following{/other_user}",
      "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions",
      "organizations_url": "https://api.github.com/users/cgwalters/orgs",
      "repos_url": "https://api.github.com/users/cgwalters/repos",
      "events_url": "https://api.github.com/users/cgwalters/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cgwalters/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-28T21:31:14Z",
    "updated_at": "2015-04-28T21:31:14Z",
    "body": "I read too quickly - Rust has its own mutex, but that doesn't help if there are other non-rust threads in the process.  I'll update this PR.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/97216758/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/97620305",
    "html_url": "https://github.com/rust-lang/rust/pull/24741#issuecomment-97620305",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24741",
    "id": 97620305,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk3NjIwMzA1",
    "user": {
      "login": "cgwalters",
      "id": 244096,
      "node_id": "MDQ6VXNlcjI0NDA5Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cgwalters",
      "html_url": "https://github.com/cgwalters",
      "followers_url": "https://api.github.com/users/cgwalters/followers",
      "following_url": "https://api.github.com/users/cgwalters/following{/other_user}",
      "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions",
      "organizations_url": "https://api.github.com/users/cgwalters/orgs",
      "repos_url": "https://api.github.com/users/cgwalters/repos",
      "events_url": "https://api.github.com/users/cgwalters/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cgwalters/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-30T00:30:12Z",
    "updated_at": "2015-04-30T00:30:12Z",
    "body": "Reworked to note that `libstd` does have an internal mutex.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/97620305/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/99251248",
    "html_url": "https://github.com/rust-lang/rust/pull/24741#issuecomment-99251248",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24741",
    "id": 99251248,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk5MjUxMjQ4",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-05T22:33:01Z",
    "updated_at": "2015-05-05T22:33:01Z",
    "body": "Thanks for the PR! I think this isn't quite the message we want to be sending, however, as \"possibly unsafe\" code is still unsafe and needs to be marked as such with `unsafe`, which these APIs cannot be. I think the wording may want to be toned down a bit in severity and simply mention that external users of `getenv` and `setenv` on Unix platforms are recommended to synchronize with Rust code to ensure that C doesn't corrupt the state that Rust sees.\n\nIt's possible that one day we will expose the environment variable lock to C to allow it to acquire it, but for now it's unlikely we'll commit to that so soon.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/99251248/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/99275883",
    "html_url": "https://github.com/rust-lang/rust/pull/24741#issuecomment-99275883",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24741",
    "id": 99275883,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk5Mjc1ODgz",
    "user": {
      "login": "cgwalters",
      "id": 244096,
      "node_id": "MDQ6VXNlcjI0NDA5Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cgwalters",
      "html_url": "https://github.com/cgwalters",
      "followers_url": "https://api.github.com/users/cgwalters/followers",
      "following_url": "https://api.github.com/users/cgwalters/following{/other_user}",
      "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions",
      "organizations_url": "https://api.github.com/users/cgwalters/orgs",
      "repos_url": "https://api.github.com/users/cgwalters/repos",
      "events_url": "https://api.github.com/users/cgwalters/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cgwalters/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-06T00:42:06Z",
    "updated_at": "2015-05-06T00:42:06Z",
    "body": "Hi @alexcrichton , thanks for the review!  I'm excited to make a small contribution to Rust =)  On to the topic:\n\nIt doesn't actually work to just wrap a mutex around `getenv()` because it returns a `const char *` - but that returned pointer can be invalidated by a subsequent `setenv()`.\n\nSee https://sourceware.org/bugzilla/show_bug.cgi?id=15607  (which is linked from https://bugs.freedesktop.org/show_bug.cgi?id=65681 )\n\nSo _every C library user_ including glibc itself (for things like `gettext()` would have to be changed to either use an allocating `getenv()` or hold an external mutex for the duration of their use of the pointers.\n\nIt's just not going to happen.  Or even if it did happen today, we'd still have many years of people running old glibc/rust/other C libraries (such as glib, which is a project I contribute to and where we saw this bug in the real world).\n\nI'm happy to reword, but I don't think we can recommend external synchronization for the above reasons.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/99275883/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/99420549",
    "html_url": "https://github.com/rust-lang/rust/pull/24741#issuecomment-99420549",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24741",
    "id": 99420549,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk5NDIwNTQ5",
    "user": {
      "login": "cgwalters",
      "id": 244096,
      "node_id": "MDQ6VXNlcjI0NDA5Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cgwalters",
      "html_url": "https://github.com/cgwalters",
      "followers_url": "https://api.github.com/users/cgwalters/followers",
      "following_url": "https://api.github.com/users/cgwalters/following{/other_user}",
      "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions",
      "organizations_url": "https://api.github.com/users/cgwalters/orgs",
      "repos_url": "https://api.github.com/users/cgwalters/repos",
      "events_url": "https://api.github.com/users/cgwalters/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cgwalters/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-06T11:14:29Z",
    "updated_at": "2015-05-06T11:14:29Z",
    "body": "Another option is to drop `set_var` and `remove_var` from libstd - anyone who wants to do this can drop to the OS-specific wrapper in e.g. `libc::setenv`.  It'd obviously be a breaking change.  But I suspect most uses of environment variable sets for the current process are OS specific anyways (e.g. things like `LD_LIBRARY_PATH`), the major exception probably being `PATH`.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/99420549/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/99446446",
    "html_url": "https://github.com/rust-lang/rust/pull/24741#issuecomment-99446446",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24741",
    "id": 99446446,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk5NDQ2NDQ2",
    "user": {
      "login": "cgwalters",
      "id": 244096,
      "node_id": "MDQ6VXNlcjI0NDA5Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cgwalters",
      "html_url": "https://github.com/cgwalters",
      "followers_url": "https://api.github.com/users/cgwalters/followers",
      "following_url": "https://api.github.com/users/cgwalters/following{/other_user}",
      "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions",
      "organizations_url": "https://api.github.com/users/cgwalters/orgs",
      "repos_url": "https://api.github.com/users/cgwalters/repos",
      "events_url": "https://api.github.com/users/cgwalters/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cgwalters/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-06T13:00:11Z",
    "updated_at": "2015-05-06T13:00:11Z",
    "body": "BTW, it looks like `rustc` itself is a nontrivial Rust application calling `env::set_var` which links to a large external C/C++ codebase named `LLVM` that calls the C `getenv()`.  Now from a quick look most of LLVM's invocations of `getenv()` happen pretty early so it might be OK today...but I didn't spend the time for a thorough analysis.  The bits in `driver.rs` are under `cfg!(windows)` so might be safe[1].\n\nAlso `std::dynamic_lib::DynamicLibrary::prepend_search_path()` is a global public API that wraps `std::set_var()`, but we could probably delete that and tell anyone who wants to do this to do it early in process startup via `libc::setenv`.  (Or better, use `RPATH` for at least Linux/ELF)\n\n[1] I actually don't know offhand all of the details of Windows threadsafety around this, but https://public.kitware.com/Bug/view.php?id=13156#c29334 is a useful comment in a thread.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/99446446/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/99538903",
    "html_url": "https://github.com/rust-lang/rust/pull/24741#issuecomment-99538903",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24741",
    "id": 99538903,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk5NTM4OTAz",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-06T17:04:36Z",
    "updated_at": "2015-05-06T17:04:36Z",
    "body": "> It doesn't actually work to just wrap a mutex around getenv() because it returns a const char \\* - but that returned pointer can be invalidated by a subsequent setenv().\n\nTrue, but this is why the two functions in Rust returned owned buffers, and I think it's still reasonable to require that external users at least synchronize access, even when using external libraries, to have this kind of protection.\n\n> Another option is to drop set_var and remove_var from libstd - anyone who wants to do this can drop to the OS-specific wrapper in e.g. libc::setenv\n\nUnfortunately I think this may be a non-starter. Not only is it a large breaking change, but it's not cross-platform as Windows environment variables work fairly differently.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/99538903/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/99570670",
    "html_url": "https://github.com/rust-lang/rust/pull/24741#issuecomment-99570670",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24741",
    "id": 99570670,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk5NTcwNjcw",
    "user": {
      "login": "cgwalters",
      "id": 244096,
      "node_id": "MDQ6VXNlcjI0NDA5Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cgwalters",
      "html_url": "https://github.com/cgwalters",
      "followers_url": "https://api.github.com/users/cgwalters/followers",
      "following_url": "https://api.github.com/users/cgwalters/following{/other_user}",
      "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions",
      "organizations_url": "https://api.github.com/users/cgwalters/orgs",
      "repos_url": "https://api.github.com/users/cgwalters/repos",
      "events_url": "https://api.github.com/users/cgwalters/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cgwalters/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-06T18:46:09Z",
    "updated_at": "2015-05-06T18:46:09Z",
    "body": "> True, but this is why the two functions in Rust returned owned\n> buffers,\n\nYes, there's no issues if one's program is 100% Rust. This PR is about\nprograms that aren't.\n\n>  and I think it's still reasonable to require that external users at\n>  least synchronize access, even when using external libraries, to have\n>  this kind of protection.\n\nI would assert that very few Rust program authors are going to be in a\nposition where they can (easily) change some of these external C\nlibraries. Carrying patches for glibc in particular if you want to make\nuse of `gettext` in this way would be hugely painful.\n\n> > Another option is to drop set_var and remove_var from libstd - anyone\n> > who wants to do this can drop to the OS-specific wrapper in e.g.\n> > libc::setenv\n> \n> Unfortunately I think this may be a non-starter. Not only is it a\n> large breaking change, but it's not cross-platform as Windows\n> environment variables work fairly differently.\n\nIt'd be painful, yes. Ideally this would have been caught far earlier.\n\nIt's possible that there are no Rust programs that are broken today -\nalthough I'm suspicious of the rustc/llvm interaction at least.\n\nBut several GNOME components were burned by this, as well as the Fedora\ninstaller Anaconda at least, and had to do some unwinding away from\n`setenv()`. Remember we're talking about use of freed memory, with all\nof the potential bad consequences. If things like `getenv(\"HOME\")` are\ncorrupted it's a risk.\n\nOn the plus side, the Rust `std::process::Command` already has correct\nand ergnomic ways to control the child environment.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/99570670/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/99695061",
    "html_url": "https://github.com/rust-lang/rust/pull/24741#issuecomment-99695061",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24741",
    "id": 99695061,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk5Njk1MDYx",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-07T03:03:06Z",
    "updated_at": "2015-05-07T03:03:06Z",
    "body": "> I would assert that very few Rust program authors are going to be in a position where they can (easily) change some of these external C libraries.\n\nRight, but it's not required to patch up existing libraries. This is perhaps just part of the contract of calling an `extern` function defined in C. Libraries typically do not race on getenv/setenv and this is simply another aspect which needs to be considered when calling out to foreign code (or providing a \"safe\" interface to foreign code). If races are possible then necessary synchronization must be provided between Rust and C to resolve the race.\n\nPut another way this is not an inherent unsafety of this method, but rather a contract which needs to be upheld when crossing the FFI boundary on some platforms.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/99695061/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/99860102",
    "html_url": "https://github.com/rust-lang/rust/pull/24741#issuecomment-99860102",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24741",
    "id": 99860102,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk5ODYwMTAy",
    "user": {
      "login": "cgwalters",
      "id": 244096,
      "node_id": "MDQ6VXNlcjI0NDA5Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cgwalters",
      "html_url": "https://github.com/cgwalters",
      "followers_url": "https://api.github.com/users/cgwalters/followers",
      "following_url": "https://api.github.com/users/cgwalters/following{/other_user}",
      "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions",
      "organizations_url": "https://api.github.com/users/cgwalters/orgs",
      "repos_url": "https://api.github.com/users/cgwalters/repos",
      "events_url": "https://api.github.com/users/cgwalters/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cgwalters/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-07T13:14:02Z",
    "updated_at": "2015-05-07T13:14:02Z",
    "body": "Let me state this plainly: I assert that if one's application has both\nmultithreading and a substantial body of nontrivial C/C++ (or any\nlanguage calling `getenv()`), it is going to be dangerous for _any_\nthread to invoke `setenv()`.\n\nThe only reliable thing to do is to call `setenv()` early in\nprocess startup only (i.e. near the top of `main()`), before any\nthreads are created.\n\nHere's a message from one of the glibc developers implying the above:\nhttps://sourceware.org/bugzilla/show_bug.cgi?id=15607#c2\n\nHere's a link I just found to a POSIX spec bug on this:\nhttp://austingroupbugs.net/view.php?id=188\n\n\"I.e., any program that wants to use getenv simply must refrain from\nusing setenv and putenv.\"\n\n> Right, but it's not required to patch up existing libraries. This is\n> perhaps just part of the contract of calling an extern function\n> defined in C. Libraries typically do not race on getenv/setenv\n\nWhat you're saying is that if I wanted my Rust app to use say\n`gettext(3)`, I could (if Rust exposed its current private mutex for\n`std::env`) synchronize using it by holding that mutex in a Rust\nwrapper for it?\n\nYes...except what if I'm trying to call a C library function which in\nturn uses `gettext(3)` (very common). Then I need to serialize that\nentire call using the environment lock.\n\nIn this case where the actual `getenv()` call is buried deep down in the\ninternals of a long-running C function, if you wrap a mutex around it,\nyou lose all of the parallelism you were trying to gain from running it\nin a thread in the first place.\n\nLet's take a real world example; say I'm writing Rust bindings for\nlibparted.\n\nhttp://git.savannah.gnu.org/cgit/parted.git/tree/libparted/disk.c?id=098bf9ca4c1ea7955ad683694c64f0201760de60#n152\n\nThere deep in the bowels of a disk probing function, it happens to call\n`getenv()`. And this is a classic \"debug by environment variable\" thing\nthat a C library author could add _at any time_ - even if you audited\nversion `X.Y` of the library for `getenv()`, it's very easy for `X.Y+1`\nto add a new call.\n\n(Ok, in the parted case above, at the most you'd have a read of freed\nmemory returning `TRUE`, resulting in a spurious `fprintf()`...)\n\nhttp://git.savannah.gnu.org/cgit/parted.git/tree/libparted/arch/linux.c?id=098bf9ca4c1ea7955ad683694c64f0201760de60#n469\n\nLooks like a better example where the library is actually trying to\nprocess the returned string.\n\nAnd if you're still thinking that it's reasonable for the author of Rust\nparted bindings to hold the `std::env` mutex around every invocation to\na parted function, there's an even harder case from my background, which\nis https://git.gnome.org/browse/glib We have a \"GDBus worker thread\"\ncreated by C code which calls `getenv()` - so wrapping the entrypoints\nwith an environment mutex wouldn't help synchronize the worker thread.\nTo make that work we'd need a C API to inject an external mutex to call\naround every invocation of `gettext()` and `getenv()`.\n\nThere really is no sane solution to this other than banning setenv after\nthreads have been created.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/99860102/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/101739459",
    "html_url": "https://github.com/rust-lang/rust/pull/24741#issuecomment-101739459",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24741",
    "id": 101739459,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwMTczOTQ1OQ==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-13T16:35:37Z",
    "updated_at": "2015-05-13T16:35:37Z",
    "body": "@cgwalters I definitely agree that this is a bug that comes up in practice, and it's definitely something that needs to be warned about, I think the message may just need to be updated slightly. For example, how about this?\n\n> Note that while concurrent access to environment variables is safe in Rust,\n> some platforms only expose inherently unsafe non-threadsafe APIs for\n> inspecting the environment.  As a result extra care needs to be taken when\n> auditing calls to `unsafe` external FFI functions to ensure that any\n> environment accesses are properly synchronized with accesses in Rust.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/101739459/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/101758812",
    "html_url": "https://github.com/rust-lang/rust/pull/24741#issuecomment-101758812",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24741",
    "id": 101758812,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwMTc1ODgxMg==",
    "user": {
      "login": "cgwalters",
      "id": 244096,
      "node_id": "MDQ6VXNlcjI0NDA5Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cgwalters",
      "html_url": "https://github.com/cgwalters",
      "followers_url": "https://api.github.com/users/cgwalters/followers",
      "following_url": "https://api.github.com/users/cgwalters/following{/other_user}",
      "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions",
      "organizations_url": "https://api.github.com/users/cgwalters/orgs",
      "repos_url": "https://api.github.com/users/cgwalters/repos",
      "events_url": "https://api.github.com/users/cgwalters/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cgwalters/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-13T17:53:39Z",
    "updated_at": "2015-05-13T17:53:39Z",
    "body": "I feel like that doesn't quite leave the reader with enough information to figure out \"how do I do this synchronization\" or in general find out more information about the issue.\n\nThere doesn't seem to be significant precedent for linking to URLs from documentation, but how about something like :arrow_up: ?  Happy to do other URLs too (could we use this PR?)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/101758812/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/101759111",
    "html_url": "https://github.com/rust-lang/rust/pull/24741#issuecomment-101759111",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24741",
    "id": 101759111,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwMTc1OTExMQ==",
    "user": {
      "login": "cgwalters",
      "id": 244096,
      "node_id": "MDQ6VXNlcjI0NDA5Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cgwalters",
      "html_url": "https://github.com/cgwalters",
      "followers_url": "https://api.github.com/users/cgwalters/followers",
      "following_url": "https://api.github.com/users/cgwalters/following{/other_user}",
      "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions",
      "organizations_url": "https://api.github.com/users/cgwalters/orgs",
      "repos_url": "https://api.github.com/users/cgwalters/repos",
      "events_url": "https://api.github.com/users/cgwalters/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cgwalters/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-13T17:54:52Z",
    "updated_at": "2015-05-13T17:54:52Z",
    "body": "(That said, I'm fine to just do exactly what you suggest in the interest of moving on from this issue)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/101759111/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/101796053",
    "html_url": "https://github.com/rust-lang/rust/pull/24741#issuecomment-101796053",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24741",
    "id": 101796053,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwMTc5NjA1Mw==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-13T19:57:08Z",
    "updated_at": "2015-05-13T19:57:08Z",
    "body": "Linking to an external site is definitely fine by me!\n- Re-reading what I wrote, could you re-word to \"As a result, extra care needs to be taken when auditing calls to unsafe external FFI functions to ensure that **external** environment accesses are...\"\n- Could you add a bit of text around the link? Something like `An example of this unsafety on Unix can be [found here][link].`\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/101796053/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/101807624",
    "html_url": "https://github.com/rust-lang/rust/pull/24741#issuecomment-101807624",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24741",
    "id": 101807624,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwMTgwNzYyNA==",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-13T20:37:58Z",
    "updated_at": "2015-05-13T20:37:58Z",
    "body": "Assigned to @alexcrichton \n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/101807624/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/101818392",
    "html_url": "https://github.com/rust-lang/rust/pull/24741#issuecomment-101818392",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24741",
    "id": 101818392,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwMTgxODM5Mg==",
    "user": {
      "login": "cgwalters",
      "id": 244096,
      "node_id": "MDQ6VXNlcjI0NDA5Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cgwalters",
      "html_url": "https://github.com/cgwalters",
      "followers_url": "https://api.github.com/users/cgwalters/followers",
      "following_url": "https://api.github.com/users/cgwalters/following{/other_user}",
      "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions",
      "organizations_url": "https://api.github.com/users/cgwalters/orgs",
      "repos_url": "https://api.github.com/users/cgwalters/repos",
      "events_url": "https://api.github.com/users/cgwalters/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cgwalters/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-13T21:16:54Z",
    "updated_at": "2015-05-13T21:16:54Z",
    "body": "Ok, pushed an update which does both of the above.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/101818392/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/101845349",
    "html_url": "https://github.com/rust-lang/rust/pull/24741#issuecomment-101845349",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24741",
    "id": 101845349,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwMTg0NTM0OQ==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-13T23:12:51Z",
    "updated_at": "2015-05-13T23:12:51Z",
    "body": "Thanks @cgwalters! It looks like there's only one piece remaining, the `make tidy` check is failing (the line lengths are over 100 chars). Perhaps syntax like this?\n\n```\nWords words words words [link][link].\n\n[link]: http://...\n```\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/101845349/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/101874861",
    "html_url": "https://github.com/rust-lang/rust/pull/24741#issuecomment-101874861",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24741",
    "id": 101874861,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwMTg3NDg2MQ==",
    "user": {
      "login": "cgwalters",
      "id": 244096,
      "node_id": "MDQ6VXNlcjI0NDA5Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cgwalters",
      "html_url": "https://github.com/cgwalters",
      "followers_url": "https://api.github.com/users/cgwalters/followers",
      "following_url": "https://api.github.com/users/cgwalters/following{/other_user}",
      "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions",
      "organizations_url": "https://api.github.com/users/cgwalters/orgs",
      "repos_url": "https://api.github.com/users/cgwalters/repos",
      "events_url": "https://api.github.com/users/cgwalters/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cgwalters/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-14T01:23:02Z",
    "updated_at": "2015-05-14T01:23:02Z",
    "body": "Oops, thanks.  OK, now I know about `make tidy`.  I ended up reworking it to link to two bugs, as together they link to lots of other information.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/101874861/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/101884392",
    "html_url": "https://github.com/rust-lang/rust/pull/24741#issuecomment-101884392",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24741",
    "id": 101884392,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwMTg4NDM5Mg==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-14T02:30:32Z",
    "updated_at": "2015-05-14T02:30:32Z",
    "body": "@bors: r+ 44a5bf1b7d8d16e73ab5631c4dd6bd5107079c5f rollup\n\nThanks!\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/101884392/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/101949388",
    "html_url": "https://github.com/rust-lang/rust/pull/24741#issuecomment-101949388",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24741",
    "id": 101949388,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwMTk0OTM4OA==",
    "user": {
      "login": "bors",
      "id": 3372342,
      "node_id": "MDQ6VXNlcjMzNzIzNDI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bors",
      "html_url": "https://github.com/bors",
      "followers_url": "https://api.github.com/users/bors/followers",
      "following_url": "https://api.github.com/users/bors/following{/other_user}",
      "gists_url": "https://api.github.com/users/bors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bors/subscriptions",
      "organizations_url": "https://api.github.com/users/bors/orgs",
      "repos_url": "https://api.github.com/users/bors/repos",
      "events_url": "https://api.github.com/users/bors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bors/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-14T07:15:53Z",
    "updated_at": "2015-05-14T07:15:53Z",
    "body": ":hourglass: Testing commit 44a5bf1 with merge 0a1a53d...\n",
    "author_association": "COLLABORATOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/101949388/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/101978666",
    "html_url": "https://github.com/rust-lang/rust/pull/24741#issuecomment-101978666",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24741",
    "id": 101978666,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwMTk3ODY2Ng==",
    "user": {
      "login": "bors",
      "id": 3372342,
      "node_id": "MDQ6VXNlcjMzNzIzNDI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bors",
      "html_url": "https://github.com/bors",
      "followers_url": "https://api.github.com/users/bors/followers",
      "following_url": "https://api.github.com/users/bors/following{/other_user}",
      "gists_url": "https://api.github.com/users/bors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bors/subscriptions",
      "organizations_url": "https://api.github.com/users/bors/orgs",
      "repos_url": "https://api.github.com/users/bors/repos",
      "events_url": "https://api.github.com/users/bors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bors/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-14T09:04:44Z",
    "updated_at": "2015-05-14T09:04:44Z",
    "body": ":sunny: Test successful - [auto-linux-32-nopt-t](http://buildbot.rust-lang.org/builders/auto-linux-32-nopt-t/builds/4945), [auto-linux-32-opt](http://buildbot.rust-lang.org/builders/auto-linux-32-opt/builds/4952), [auto-linux-64-nopt-t](http://buildbot.rust-lang.org/builders/auto-linux-64-nopt-t/builds/4909), [auto-linux-64-opt](http://buildbot.rust-lang.org/builders/auto-linux-64-opt/builds/4933), [auto-linux-64-x-android-t](http://buildbot.rust-lang.org/builders/auto-linux-64-x-android-t/builds/4902), [auto-mac-32-opt](http://buildbot.rust-lang.org/builders/auto-mac-32-opt/builds/4978), [auto-mac-64-nopt-t](http://buildbot.rust-lang.org/builders/auto-mac-64-nopt-t/builds/4973), [auto-mac-64-opt](http://buildbot.rust-lang.org/builders/auto-mac-64-opt/builds/4944), [auto-win-32-nopt-t](http://buildbot.rust-lang.org/builders/auto-win-32-nopt-t/builds/4637), [auto-win-32-opt](http://buildbot.rust-lang.org/builders/auto-win-32-opt/builds/4622), [auto-win-64-nopt-t](http://buildbot.rust-lang.org/builders/auto-win-64-nopt-t/builds/3433), [auto-win-64-opt](http://buildbot.rust-lang.org/builders/auto-win-64-opt/builds/3457)\n",
    "author_association": "COLLABORATOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/101978666/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/262842449",
    "html_url": "https://github.com/rust-lang/rust/pull/24741#issuecomment-262842449",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24741",
    "id": 262842449,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2Mjg0MjQ0OQ==",
    "user": {
      "login": "fweimer",
      "id": 2729073,
      "node_id": "MDQ6VXNlcjI3MjkwNzM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2729073?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fweimer",
      "html_url": "https://github.com/fweimer",
      "followers_url": "https://api.github.com/users/fweimer/followers",
      "following_url": "https://api.github.com/users/fweimer/following{/other_user}",
      "gists_url": "https://api.github.com/users/fweimer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fweimer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fweimer/subscriptions",
      "organizations_url": "https://api.github.com/users/fweimer/orgs",
      "repos_url": "https://api.github.com/users/fweimer/repos",
      "events_url": "https://api.github.com/users/fweimer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fweimer/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-11-24T20:42:48Z",
    "updated_at": "2016-11-24T20:44:17Z",
    "body": "Even without low-level races, `std::env::set_var` is not quite safe because you can change a variable (such as `TZ`), do something, and change it back to the original value, without impacting something else in the process which runs at the same time.\r\n\r\nThis problem would not go away if we provided thread-safe environment access at the libc layer. Therefore, I'm surprised the function isn't marked **`unsafe`**.",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/262842449/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/283710139",
    "html_url": "https://github.com/rust-lang/rust/pull/24741#issuecomment-283710139",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24741",
    "id": 283710139,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4MzcxMDEzOQ==",
    "user": {
      "login": "bstrie",
      "id": 865233,
      "node_id": "MDQ6VXNlcjg2NTIzMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/865233?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bstrie",
      "html_url": "https://github.com/bstrie",
      "followers_url": "https://api.github.com/users/bstrie/followers",
      "following_url": "https://api.github.com/users/bstrie/following{/other_user}",
      "gists_url": "https://api.github.com/users/bstrie/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bstrie/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bstrie/subscriptions",
      "organizations_url": "https://api.github.com/users/bstrie/orgs",
      "repos_url": "https://api.github.com/users/bstrie/repos",
      "events_url": "https://api.github.com/users/bstrie/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bstrie/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-03-02T16:51:47Z",
    "updated_at": "2017-03-02T16:51:47Z",
    "body": "@fweimer Can you use that behavior to demonstrate memory-unsafe behavior in a Rust program that does not use the `unsafe` keyword? If so, then it will be guaranteed to be addressed. (Though you should probably open a new issue for it.)",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/283710139/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/348517353",
    "html_url": "https://github.com/rust-lang/rust/pull/24741#issuecomment-348517353",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24741",
    "id": 348517353,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0ODUxNzM1Mw==",
    "user": {
      "login": "cgwalters",
      "id": 244096,
      "node_id": "MDQ6VXNlcjI0NDA5Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/244096?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cgwalters",
      "html_url": "https://github.com/cgwalters",
      "followers_url": "https://api.github.com/users/cgwalters/followers",
      "following_url": "https://api.github.com/users/cgwalters/following{/other_user}",
      "gists_url": "https://api.github.com/users/cgwalters/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cgwalters/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cgwalters/subscriptions",
      "organizations_url": "https://api.github.com/users/cgwalters/orgs",
      "repos_url": "https://api.github.com/users/cgwalters/repos",
      "events_url": "https://api.github.com/users/cgwalters/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cgwalters/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-12-01T15:03:41Z",
    "updated_at": "2017-12-01T15:03:41Z",
    "body": "Just for fun: from [my previous comment](https://github.com/rust-lang/rust/pull/24741#issuecomment-99860102)\r\n\r\n> Let's take a real world example; say I'm writing Rust bindings for\r\nlibparted.\r\n\r\nI just happened to notice my theoretical example exists now: https://github.com/pop-os/libparted\r\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/348517353/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
