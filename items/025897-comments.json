[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/107007552",
    "html_url": "https://github.com/rust-lang/rust/pull/25897#issuecomment-107007552",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25897",
    "id": 107007552,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNzAwNzU1Mg==",
    "user": {
      "login": "rust-highfive",
      "id": 7378925,
      "node_id": "MDQ6VXNlcjczNzg5MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7378925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rust-highfive",
      "html_url": "https://github.com/rust-highfive",
      "followers_url": "https://api.github.com/users/rust-highfive/followers",
      "following_url": "https://api.github.com/users/rust-highfive/following{/other_user}",
      "gists_url": "https://api.github.com/users/rust-highfive/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rust-highfive/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rust-highfive/subscriptions",
      "organizations_url": "https://api.github.com/users/rust-highfive/orgs",
      "repos_url": "https://api.github.com/users/rust-highfive/repos",
      "events_url": "https://api.github.com/users/rust-highfive/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rust-highfive/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-30T08:22:40Z",
    "updated_at": "2015-05-30T08:22:40Z",
    "body": "r? @aturon\n\n(rust_highfive has picked a reviewer for you, use r? to override)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/107007552/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/107017532",
    "html_url": "https://github.com/rust-lang/rust/pull/25897#issuecomment-107017532",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25897",
    "id": 107017532,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNzAxNzUzMg==",
    "user": {
      "login": "Manishearth",
      "id": 1617736,
      "node_id": "MDQ6VXNlcjE2MTc3MzY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1617736?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Manishearth",
      "html_url": "https://github.com/Manishearth",
      "followers_url": "https://api.github.com/users/Manishearth/followers",
      "following_url": "https://api.github.com/users/Manishearth/following{/other_user}",
      "gists_url": "https://api.github.com/users/Manishearth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Manishearth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Manishearth/subscriptions",
      "organizations_url": "https://api.github.com/users/Manishearth/orgs",
      "repos_url": "https://api.github.com/users/Manishearth/repos",
      "events_url": "https://api.github.com/users/Manishearth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Manishearth/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-30T09:51:49Z",
    "updated_at": "2015-05-30T09:51:49Z",
    "body": "Running it on the original testcase gives us\n\n``` rust\ntest.rs:11:18: 11:24 error: the trait `core::marker::Sync` is not implemented for the type `alloc::rc::Rc<u8>` [E0277]\ntest.rs:11      let guard = scoped(|| {\n                            ^~~~~~\nnote: in expansion of closure expansion\ntest.rs:9:22: 32:3 note: expansion site\ntest.rs:11:18: 11:24 note: `alloc::rc::Rc<u8>` cannot be shared between threads safely\ntest.rs:11      let guard = scoped(|| {\n                            ^~~~~~\nnote: in expansion of closure expansion\ntest.rs:9:22: 32:3 note: expansion site\nerror: aborting due to previous error\n```\n\nwhich is what we wanted\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/107017532/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/107017668",
    "html_url": "https://github.com/rust-lang/rust/pull/25897#issuecomment-107017668",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25897",
    "id": 107017668,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNzAxNzY2OA==",
    "user": {
      "login": "Manishearth",
      "id": 1617736,
      "node_id": "MDQ6VXNlcjE2MTc3MzY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1617736?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Manishearth",
      "html_url": "https://github.com/Manishearth",
      "followers_url": "https://api.github.com/users/Manishearth/followers",
      "following_url": "https://api.github.com/users/Manishearth/following{/other_user}",
      "gists_url": "https://api.github.com/users/Manishearth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Manishearth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Manishearth/subscriptions",
      "organizations_url": "https://api.github.com/users/Manishearth/orgs",
      "repos_url": "https://api.github.com/users/Manishearth/repos",
      "events_url": "https://api.github.com/users/Manishearth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Manishearth/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-30T09:56:53Z",
    "updated_at": "2015-05-30T10:37:12Z",
    "body": "This breaks the `cell_allowed()` test in the same file.\n\nOn that note, I'm skeptical as to why `Cell` should be allowed here in the first place. But I haven't figured out this API properly yet.\n\n``` rust\n/home/manishearth/Mozilla/rust/src/libstd/thread/scoped_tls.rs:75:13: 75:44 error: the trait `core::marker::Sync` is not implemented for the type `core::cell::UnsafeCell<u32>` [E0277]\n/home/manishearth/Mozilla/rust/src/libstd/thread/scoped_tls.rs:75             ::std::thread::ScopedKey::new();\n                                                                              ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n/home/manishearth/Mozilla/rust/src/libstd/thread/scoped_tls.rs:66:1: 87:2 note: in expansion of scoped_thread_local!\n/home/manishearth/Mozilla/rust/src/libstd/thread/scoped_tls.rs:262:9: 262:53 note: expansion site\n/home/manishearth/Mozilla/rust/src/libstd/thread/scoped_tls.rs:75:13: 75:44 note: `core::cell::UnsafeCell<u32>` cannot be shared between threads safely\n/home/manishearth/Mozilla/rust/src/libstd/thread/scoped_tls.rs:75             ::std::thread::ScopedKey::new();\n                                                                              ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n/home/manishearth/Mozilla/rust/src/libstd/thread/scoped_tls.rs:66:1: 87:2 note: in expansion of scoped_thread_local!\n/home/manishearth/Mozilla/rust/src/libstd/thread/scoped_tls.rs:262:9: 262:53 note: expansion site\nrustc: x86_64-unknown-linux-gnu/stage1/test/rbmltest-x86_64-unknown-linux-gnu\nrustc: x86_64-unknown-linux-gnu/stage1/test/alloctest-x86_64-unknown-linux-gnu\n/home/manishearth/Mozilla/rust/src/liballoc/lib.rs:82:12: 82:18 warning: unused or unknown feature, #[warn(unused_features)] on by default\n/home/manishearth/Mozilla/rust/src/liballoc/lib.rs:82 #![feature(unique)]\n```\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/107017668/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/107628432",
    "html_url": "https://github.com/rust-lang/rust/pull/25897#issuecomment-107628432",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25897",
    "id": 107628432,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNzYyODQzMg==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-06-01T16:32:59Z",
    "updated_at": "2015-06-01T16:32:59Z",
    "body": "I don't think this is what we want as one of the major uses of thread-local storage is _non_-`Sync` data. This API is unstable so there's no huge sense of urgency to fix it, so I'm going to close this in favor of discussion on #25894 instead.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/107628432/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
