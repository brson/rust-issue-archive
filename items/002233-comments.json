[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/5186827",
    "html_url": "https://github.com/rust-lang/rust/issues/2233#issuecomment-5186827",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/2233",
    "id": 5186827,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxODY4Mjc=",
    "user": {
      "login": "BrendanEich",
      "id": 313317,
      "node_id": "MDQ6VXNlcjMxMzMxNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/313317?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/BrendanEich",
      "html_url": "https://github.com/BrendanEich",
      "followers_url": "https://api.github.com/users/BrendanEich/followers",
      "following_url": "https://api.github.com/users/BrendanEich/following{/other_user}",
      "gists_url": "https://api.github.com/users/BrendanEich/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/BrendanEich/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/BrendanEich/subscriptions",
      "organizations_url": "https://api.github.com/users/BrendanEich/orgs",
      "repos_url": "https://api.github.com/users/BrendanEich/repos",
      "events_url": "https://api.github.com/users/BrendanEich/events{/privacy}",
      "received_events_url": "https://api.github.com/users/BrendanEich/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-04-17T21:44:06Z",
    "updated_at": "2012-04-17T21:44:06Z",
    "body": "Can you show some of the <code>while</code> loops in rustc and how they would transform?\n\nI can see losing <code>do</code>, test at the top is safest, but <code>while</code> is pretty useful in C/C++/JS.\n\n/be\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/5186827/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/5187446",
    "html_url": "https://github.com/rust-lang/rust/issues/2233#issuecomment-5187446",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/2233",
    "id": 5187446,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxODc0NDY=",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-04-17T22:17:30Z",
    "updated_at": "2012-04-17T22:17:30Z",
    "body": "OK, I went through the code base and picked out some representative functions. Most of them are simply iterating over a range. I think @marijnh has done this sort of exercise as well.\n\n```\n// Before\nfn to_str(v: t) -> str {\n    let mut i: uint = 0u;\n    let mut rs: str = \"\";\n    while i < v.nbits {\n        rs +=\n            alt tritv_get(v, i) {\n              dont_care { \"?\" }\n              ttrue { \"1\" }\n              tfalse { \"0\" }\n            };\n        i += 1u;\n    }\n    ret rs;\n}\n\n// After\nfn to_str(v: t) -> str {\n    let mut i: uint = 0u;\n    let mut rs: str = \"\";\n    uint::range(0, v.nbits) {|i|\n        rs +=\n            alt tritv_get(v, i) {\n              dont_care { \"?\" }\n              ttrue { \"1\" }\n              tfalse { \"0\" }\n            };\n        i += 1u;\n    }\n    ret rs;\n}\n\n\n// Before\nwhile find_pre_post_state_fn(fcx, f_decl, f_body) { }\n\n// After\nloop {\n    if find_pre_post_state_fn(fcx, f_decl, f_body) { break }\n}\n\n\n// Before\nlet mut i = 0u;\nlet mut data = [];\nlet mut offsets = [];\nwhile i < vec::len(ccx.shape_cx.tag_order) {\n    let did = ccx.shape_cx.tag_order[i];\n    let variants = ty::enum_variants(ccx.tcx, did);\n    let item_tyt = ty::lookup_item_type(ccx.tcx, did);\n    let ty_param_count = vec::len(*item_tyt.bounds);\n    // etc\n\n// After\nlet mut i = 0u;\nlet mut data = [];\nlet mut offsets = [];\nfor ccx.shape_cx.tag_order.each {||\n    let did = ccx.shape_cx.tag_order[i];\n    let variants = ty::enum_variants(ccx.tcx, did);\n    let item_tyt = ty::lookup_item_type(ccx.tcx, did);\n    let ty_param_count = vec::len(*item_tyt.bounds);\n    // etc\n\n\n// Before\nlet mut cx = cx;\nwhile option::is_none(cx.block_span) {\n    alt cx.parent {\n      parent_some(b) { cx = b; }\n      parent_none { fail; }\n    }\n}\n\n// After\nlet mut cx = cx;\nloop {\n    if option::is_none(cx.block_span) { break }\n    alt cx.parent {\n      parent_some(b) { cx = b; }\n      parent_none { fail; }\n    }\n}\n```\n\nI'll note that @dherman has expressed skepticism about this idea and I also think that removing `while` is possibly an absurd thing to do despite my desire to kill keywords.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/5187446/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/5188751",
    "html_url": "https://github.com/rust-lang/rust/issues/2233#issuecomment-5188751",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/2233",
    "id": 5188751,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxODg3NTE=",
    "user": {
      "login": "boggle",
      "id": 50886,
      "node_id": "MDQ6VXNlcjUwODg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/50886?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/boggle",
      "html_url": "https://github.com/boggle",
      "followers_url": "https://api.github.com/users/boggle/followers",
      "following_url": "https://api.github.com/users/boggle/following{/other_user}",
      "gists_url": "https://api.github.com/users/boggle/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/boggle/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/boggle/subscriptions",
      "organizations_url": "https://api.github.com/users/boggle/orgs",
      "repos_url": "https://api.github.com/users/boggle/repos",
      "events_url": "https://api.github.com/users/boggle/events{/privacy}",
      "received_events_url": "https://api.github.com/users/boggle/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-04-17T23:47:13Z",
    "updated_at": "2012-04-17T23:47:13Z",
    "body": "I feel uneasy about this: (1) people are very much used to `while` loops (2) is hard to read (see loop, find if, discover it ends with break) (3) `loop { if { break } }` contains an unnecessary additional negation (loop _un_less cond) and it is known from PL usability research that the amount of negation in boolean formulas directly translates into a higher chance of getting the control flow wrong.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/5188751/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/5197386",
    "html_url": "https://github.com/rust-lang/rust/issues/2233#issuecomment-5197386",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/2233",
    "id": 5197386,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxOTczODY=",
    "user": {
      "login": "bstrie",
      "id": 865233,
      "node_id": "MDQ6VXNlcjg2NTIzMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/865233?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bstrie",
      "html_url": "https://github.com/bstrie",
      "followers_url": "https://api.github.com/users/bstrie/followers",
      "following_url": "https://api.github.com/users/bstrie/following{/other_user}",
      "gists_url": "https://api.github.com/users/bstrie/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bstrie/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bstrie/subscriptions",
      "organizations_url": "https://api.github.com/users/bstrie/orgs",
      "repos_url": "https://api.github.com/users/bstrie/repos",
      "events_url": "https://api.github.com/users/bstrie/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bstrie/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-04-18T12:35:01Z",
    "updated_at": "2012-04-18T12:35:23Z",
    "body": "Also keep in mind how the keyword will sound with the labeled break/continue from #2216. For a loop labeled `foo`, saying `skip foo` sounds (sort of) like you're telling it to skip the next iteration of foo.\n\nI submit `pass`, which has precedence as a keyword from Python (though with a different meaning here).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/5197386/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/5198243",
    "html_url": "https://github.com/rust-lang/rust/issues/2233#issuecomment-5198243",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/2233",
    "id": 5198243,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxOTgyNDM=",
    "user": {
      "login": "boggle",
      "id": 50886,
      "node_id": "MDQ6VXNlcjUwODg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/50886?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/boggle",
      "html_url": "https://github.com/boggle",
      "followers_url": "https://api.github.com/users/boggle/followers",
      "following_url": "https://api.github.com/users/boggle/following{/other_user}",
      "gists_url": "https://api.github.com/users/boggle/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/boggle/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/boggle/subscriptions",
      "organizations_url": "https://api.github.com/users/boggle/orgs",
      "repos_url": "https://api.github.com/users/boggle/repos",
      "events_url": "https://api.github.com/users/boggle/events{/privacy}",
      "received_events_url": "https://api.github.com/users/boggle/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-04-18T13:21:08Z",
    "updated_at": "2012-04-18T13:21:08Z",
    "body": "I think 'pass' is good.  A four letter word and not used frequently as a variable name. \n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/5198243/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/5199611",
    "html_url": "https://github.com/rust-lang/rust/issues/2233#issuecomment-5199611",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/2233",
    "id": 5199611,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxOTk2MTE=",
    "user": {
      "login": "bstrie",
      "id": 865233,
      "node_id": "MDQ6VXNlcjg2NTIzMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/865233?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bstrie",
      "html_url": "https://github.com/bstrie",
      "followers_url": "https://api.github.com/users/bstrie/followers",
      "following_url": "https://api.github.com/users/bstrie/following{/other_user}",
      "gists_url": "https://api.github.com/users/bstrie/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bstrie/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bstrie/subscriptions",
      "organizations_url": "https://api.github.com/users/bstrie/orgs",
      "repos_url": "https://api.github.com/users/bstrie/repos",
      "events_url": "https://api.github.com/users/bstrie/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bstrie/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-04-18T14:22:54Z",
    "updated_at": "2012-04-18T14:22:54Z",
    "body": "...Sorry, that above comment was intended for 2229.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/5199611/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/5204405",
    "html_url": "https://github.com/rust-lang/rust/issues/2233#issuecomment-5204405",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/2233",
    "id": 5204405,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyMDQ0MDU=",
    "user": {
      "login": "graydon",
      "id": 14097,
      "node_id": "MDQ6VXNlcjE0MDk3",
      "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/graydon",
      "html_url": "https://github.com/graydon",
      "followers_url": "https://api.github.com/users/graydon/followers",
      "following_url": "https://api.github.com/users/graydon/following{/other_user}",
      "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/graydon/subscriptions",
      "organizations_url": "https://api.github.com/users/graydon/orgs",
      "repos_url": "https://api.github.com/users/graydon/repos",
      "events_url": "https://api.github.com/users/graydon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/graydon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-04-18T17:46:07Z",
    "updated_at": "2012-04-18T17:46:07Z",
    "body": "There is some precedent in Sather for this. It only has one form of loop, infinite, introduced by `loop`. You break out wherever you want to break out.\n\nMy personal preference, though, is to keep `while` as a convenience form.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/5204405/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/5231182",
    "html_url": "https://github.com/rust-lang/rust/issues/2233#issuecomment-5231182",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/2233",
    "id": 5231182,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyMzExODI=",
    "user": {
      "login": "catamorphism",
      "id": 427212,
      "node_id": "MDQ6VXNlcjQyNzIxMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/427212?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/catamorphism",
      "html_url": "https://github.com/catamorphism",
      "followers_url": "https://api.github.com/users/catamorphism/followers",
      "following_url": "https://api.github.com/users/catamorphism/following{/other_user}",
      "gists_url": "https://api.github.com/users/catamorphism/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/catamorphism/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/catamorphism/subscriptions",
      "organizations_url": "https://api.github.com/users/catamorphism/orgs",
      "repos_url": "https://api.github.com/users/catamorphism/repos",
      "events_url": "https://api.github.com/users/catamorphism/events{/privacy}",
      "received_events_url": "https://api.github.com/users/catamorphism/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-04-19T20:25:55Z",
    "updated_at": "2012-04-19T20:25:55Z",
    "body": "Is it possible to implement `while` with a macro that desugars into `loop` / `break`, etc.? If yes, then I'm ok with abolishing `while`. If no, I'd be reluctant to abolish it. Yes, it's true that you can do everything with `loop`, but it doesn't always seem natural.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/5231182/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/5231410",
    "html_url": "https://github.com/rust-lang/rust/issues/2233#issuecomment-5231410",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/2233",
    "id": 5231410,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyMzE0MTA=",
    "user": {
      "login": "bstrie",
      "id": 865233,
      "node_id": "MDQ6VXNlcjg2NTIzMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/865233?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bstrie",
      "html_url": "https://github.com/bstrie",
      "followers_url": "https://api.github.com/users/bstrie/followers",
      "following_url": "https://api.github.com/users/bstrie/following{/other_user}",
      "gists_url": "https://api.github.com/users/bstrie/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bstrie/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bstrie/subscriptions",
      "organizations_url": "https://api.github.com/users/bstrie/orgs",
      "repos_url": "https://api.github.com/users/bstrie/repos",
      "events_url": "https://api.github.com/users/bstrie/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bstrie/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-04-19T20:35:21Z",
    "updated_at": "2012-04-19T20:35:21Z",
    "body": "The familiarity factor of `while` is more than worth the cost of a keyword, I think.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/5231410/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/6090800",
    "html_url": "https://github.com/rust-lang/rust/issues/2233#issuecomment-6090800",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/2233",
    "id": 6090800,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwOTA4MDA=",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-06-04T01:13:43Z",
    "updated_at": "2012-06-04T01:13:43Z",
    "body": "I think this is not going to happen. Closing.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/6090800/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
