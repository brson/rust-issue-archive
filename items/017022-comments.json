[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/77775665",
    "html_url": "https://github.com/rust-lang/rust/issues/17022#issuecomment-77775665",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/17022",
    "id": 77775665,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3Nzc1NjY1",
    "user": {
      "login": "iopq",
      "id": 1817528,
      "node_id": "MDQ6VXNlcjE4MTc1Mjg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1817528?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/iopq",
      "html_url": "https://github.com/iopq",
      "followers_url": "https://api.github.com/users/iopq/followers",
      "following_url": "https://api.github.com/users/iopq/following{/other_user}",
      "gists_url": "https://api.github.com/users/iopq/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/iopq/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iopq/subscriptions",
      "organizations_url": "https://api.github.com/users/iopq/orgs",
      "repos_url": "https://api.github.com/users/iopq/repos",
      "events_url": "https://api.github.com/users/iopq/events{/privacy}",
      "received_events_url": "https://api.github.com/users/iopq/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-08T21:31:49Z",
    "updated_at": "2015-03-08T21:31:49Z",
    "body": "This is the top search result on this issue, but I'm a little confused on how to fix it. Can you suggest a work-around until it's fixed?\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/77775665/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/227913815",
    "html_url": "https://github.com/rust-lang/rust/issues/17022#issuecomment-227913815",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/17022",
    "id": 227913815,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyNzkxMzgxNQ==",
    "user": {
      "login": "durka",
      "id": 47007,
      "node_id": "MDQ6VXNlcjQ3MDA3",
      "avatar_url": "https://avatars.githubusercontent.com/u/47007?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/durka",
      "html_url": "https://github.com/durka",
      "followers_url": "https://api.github.com/users/durka/followers",
      "following_url": "https://api.github.com/users/durka/following{/other_user}",
      "gists_url": "https://api.github.com/users/durka/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/durka/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/durka/subscriptions",
      "organizations_url": "https://api.github.com/users/durka/orgs",
      "repos_url": "https://api.github.com/users/durka/repos",
      "events_url": "https://api.github.com/users/durka/events{/privacy}",
      "received_events_url": "https://api.github.com/users/durka/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-06-23T00:08:16Z",
    "updated_at": "2016-06-23T00:08:16Z",
    "body": "# Triage\n\nFor @iopq (hope you have moved on by now \ud83d\ude1d ) and others, the fix is to remove the extra set of braces, assuming the macro body consists of items (if it is statements or expressions, you can't use this macro outside of a function anyway).\n\nNew code: (nearly the same)\n\n``` rust\nmacro_rules! x {\n    () => {{\n        struct Foo;\n    }}\n}\n\nx!();\n```\n\nThe same perplexing error is printed but also\n\n```\n<anon>:7:1: 7:6 note: caused by the macro expansion here; the usage of `x!` is likely invalid in item context\n<anon>:7 x!();\n```\n\nwhich tells you what is wrong but gives no hint as to how to fix it. Ideally, the compiler would drop the weasel words and tell you _why_ the macro is illegal in item context, as well as a help saying that double braces aren't required when a macro generates solely items.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/227913815/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1212025497",
    "html_url": "https://github.com/rust-lang/rust/issues/17022#issuecomment-1212025497",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/17022",
    "id": 1212025497,
    "node_id": "IC_kwDOAAsO6M5IPgqZ",
    "user": {
      "login": "TimJentzsch",
      "id": 13908946,
      "node_id": "MDQ6VXNlcjEzOTA4OTQ2",
      "avatar_url": "https://avatars.githubusercontent.com/u/13908946?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TimJentzsch",
      "html_url": "https://github.com/TimJentzsch",
      "followers_url": "https://api.github.com/users/TimJentzsch/followers",
      "following_url": "https://api.github.com/users/TimJentzsch/following{/other_user}",
      "gists_url": "https://api.github.com/users/TimJentzsch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TimJentzsch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TimJentzsch/subscriptions",
      "organizations_url": "https://api.github.com/users/TimJentzsch/orgs",
      "repos_url": "https://api.github.com/users/TimJentzsch/repos",
      "events_url": "https://api.github.com/users/TimJentzsch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TimJentzsch/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2022-08-11T13:56:40Z",
    "updated_at": "2022-08-11T13:56:40Z",
    "body": "Current output with `1.65.0-nightly (2022-08-10 29e4a9ee0253cd39e552)`:\r\n\r\n```rust\r\nmacro_rules! x {\r\n    () => {{\r\n        struct Foo;\r\n    }}\r\n}\r\n\r\nx!();\r\n```\r\n\r\n```\r\nerror: macro expansion ignores token `{` and any following\r\n --> src/lib.rs:2:12\r\n  |\r\n2 |       () => {{\r\n  |  ____________^\r\n3 | |         struct Foo;\r\n4 | |     }}\r\n  | |_____^\r\n...\r\n7 |   x!();\r\n  |   ---- caused by the macro expansion here\r\n  |\r\n  = note: the usage of `x!` is likely invalid in item context\r\n```",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1212025497/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/2068267626",
    "html_url": "https://github.com/rust-lang/rust/issues/17022#issuecomment-2068267626",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/17022",
    "id": 2068267626,
    "node_id": "IC_kwDOAAsO6M57R0Jq",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2024-04-21T23:43:46Z",
    "updated_at": "2024-04-21T23:43:59Z",
    "body": "This looks to have been accidentally closed by a sub-tree update misinterpreting \"fix #17022\" in a rust-analyzer commit.\r\n\r\nhttps://play.rust-lang.org/?version=stable&mode=debug&edition=2021&gist=224f0e3ad5f0a2c7bb21b4be1ee45994\r\n\r\n```\r\nerror: macro expansion ignores token `{` and any following\r\n --> src/lib.rs:2:12\r\n  |\r\n2 |     () => {{\r\n  |            ^\r\n...\r\n7 | x!();\r\n  | ---- caused by the macro expansion here\r\n  |\r\n  = note: the usage of `x!` is likely invalid in item context\r\n```\r\n\r\nThis might be fine to stay closed, though \ud83d\ude04 ",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/2068267626/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
