[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/40301548",
    "html_url": "https://github.com/rust-lang/rust/issues/13492#issuecomment-40301548",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/13492",
    "id": 40301548,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwMzAxNTQ4",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-04-13T07:33:25Z",
    "updated_at": "2014-04-13T07:34:58Z",
    "body": "You can compile the core libraries with debug symbols yourself using `make RUSTFLAGS='-g'`, however, I'm not 100% sure that the bootstrap succeeds with debug-info (historically, this is why the `--enable-debug` flag does not enable debugging symbols: the support wasn't good enough).\n\nIf it does work, and @michaelwoerister thinks that we're ready, then maybe we could enable `-g` when configured with `--enable-debug`.\n\n(On that note: it would probably be a good idea for us to be able to just enable debugging for the non-compiler libs, since debug info isn't free, and the compiler libraries are already rather large and slow to compile.)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/40301548/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/40580895",
    "html_url": "https://github.com/rust-lang/rust/issues/13492#issuecomment-40580895",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/13492",
    "id": 40580895,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNTgwODk1",
    "user": {
      "login": "michaelwoerister",
      "id": 1825894,
      "node_id": "MDQ6VXNlcjE4MjU4OTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1825894?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michaelwoerister",
      "html_url": "https://github.com/michaelwoerister",
      "followers_url": "https://api.github.com/users/michaelwoerister/followers",
      "following_url": "https://api.github.com/users/michaelwoerister/following{/other_user}",
      "gists_url": "https://api.github.com/users/michaelwoerister/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michaelwoerister/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michaelwoerister/subscriptions",
      "organizations_url": "https://api.github.com/users/michaelwoerister/orgs",
      "repos_url": "https://api.github.com/users/michaelwoerister/repos",
      "events_url": "https://api.github.com/users/michaelwoerister/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michaelwoerister/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-04-16T09:41:26Z",
    "updated_at": "2014-04-16T09:41:26Z",
    "body": "Currently, using `make RUSTFLAGS='-g'` does not work because of #13213. The issue has been fixed but I think the current snapshot does not yet contain the fix.\n\nBut the RUSTFLAGS solution does not leave much control really and can certainly be improved on. One important constraint to take into account here is that debuginfo doesn't work very well for optimized code. At the same time we may not want to have an unoptimized version of `rustc` (which really is rather slow) just because we need a debug version of `librand`. So this should definitely be controllable separately. However, this is where the bootstrapping setup might cause some trouble, since `rustc` relies on the same libraries that are later linked into user code. I suspect that an unoptimized `libstd` could considerably slow down an optimized version of `rustc`. So for people that don't need debug symbols for the compiler itself, there would have to be two versions of `libstd` and the extra libraries: \n- an optimized version for use with an optimized `rustc`\n- an unoptimized version for linking into debug builds\n\nPeople working on the compiler might want to have an unoptimized version of `rustc` with debuginfo which would then also have to be linked to unoptimized libraries. Note that all of this is still a separate issue from debug logging that is enabled when configuring with `--enable-debug`. Also, one might conceivably also want an optimized build with debuginfo (which can still be useful) and an unoptimized build without debuginfo (for space reasons).\n\nIn conclusion, this is all a bit more complicated than it might seem at first sight. One way to support all possible scenarios would be to always create all combinations of `optimization * debuginfo` for std and extra and then somehow let the users decide what they want to link against. But that would increase compilation time and space requirements quit a bit. I would at least want to be able to opt out of that; `rustc` already takes long enough to compile.\n\nI'll have to think about this a little more. Any comments are very welcome of course!\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/40580895/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/71144147",
    "html_url": "https://github.com/rust-lang/rust/issues/13492#issuecomment-71144147",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/13492",
    "id": 71144147,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxMTQ0MTQ3",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-23T03:53:51Z",
    "updated_at": "2015-01-23T03:53:51Z",
    "body": "Given that #13213 has been merged, I'm giving this a close. Improvements are always welcome though!\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/71144147/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
