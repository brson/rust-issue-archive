[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/33890498",
    "html_url": "https://github.com/rust-lang/rust/pull/11981#issuecomment-33890498",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/11981",
    "id": 33890498,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzODkwNDk4",
    "user": {
      "login": "thestinger",
      "id": 1505226,
      "node_id": "MDQ6VXNlcjE1MDUyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thestinger",
      "html_url": "https://github.com/thestinger",
      "followers_url": "https://api.github.com/users/thestinger/followers",
      "following_url": "https://api.github.com/users/thestinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions",
      "organizations_url": "https://api.github.com/users/thestinger/orgs",
      "repos_url": "https://api.github.com/users/thestinger/repos",
      "events_url": "https://api.github.com/users/thestinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thestinger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-02-02T02:54:23Z",
    "updated_at": "2014-02-02T02:56:00Z",
    "body": "`clock_gettime(CLOCK_MONOTONIC)` also uses the VDSO, although I think it does a bit more work and there's no reason to not use the coarse one here. Both are actually subject to clock skew (time slowed or sped up) on Linux but will never jump backwards or forwards. The `CLOCK_MONOTONIC_RAW` function isn't subject to clock skew but skips the VDSO and may run too slow or too fast on hardware where the CPU's timer isn't great (thus, skew).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/33890498/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/33894145",
    "html_url": "https://github.com/rust-lang/rust/pull/11981#issuecomment-33894145",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/11981",
    "id": 33894145,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzODk0MTQ1",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-02-02T07:15:09Z",
    "updated_at": "2014-02-02T07:15:09Z",
    "body": "This is an interesting idea, but sadly I don't think the code will do much as-is. The `timer_other.rs` file is currently only compiled for osx/freebsd/android, so the code in question won't actually be used (linux uses `timer_timerfd.rs`).\n\nWe do have another \"precise timer\" in `src/libextra/time.rs` which is indeed compiled for linux. I personally don't know much about the array of clocks that linux provides, but #11233 may be of interest (lots of discussion over there).\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/33894145/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/33898064",
    "html_url": "https://github.com/rust-lang/rust/pull/11981#issuecomment-33898064",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/11981",
    "id": 33898064,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzODk4MDY0",
    "user": {
      "login": "bnoordhuis",
      "id": 275871,
      "node_id": "MDQ6VXNlcjI3NTg3MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/275871?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bnoordhuis",
      "html_url": "https://github.com/bnoordhuis",
      "followers_url": "https://api.github.com/users/bnoordhuis/followers",
      "following_url": "https://api.github.com/users/bnoordhuis/following{/other_user}",
      "gists_url": "https://api.github.com/users/bnoordhuis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bnoordhuis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bnoordhuis/subscriptions",
      "organizations_url": "https://api.github.com/users/bnoordhuis/orgs",
      "repos_url": "https://api.github.com/users/bnoordhuis/repos",
      "events_url": "https://api.github.com/users/bnoordhuis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bnoordhuis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-02-02T11:27:25Z",
    "updated_at": "2014-02-02T11:27:25Z",
    "body": "Ah, sorry about that.  I checked for clock_getres() and clock_gettime() calls afterwards with strace but those probably come from somewhere else then.\n\n> clock_gettime(CLOCK_MONOTONIC) also uses the VDSO, although I think it does a bit more work and there's no reason to not use the coarse one here.\n\nThat's true insofar that clock_gettime(CLOCK_MONOTONIC) starts out as a call to __vdso_clock_gettime() but that function falls back to making a system call when there is no reliable hardware clock to read from (most virtualized systems.)\n\nAnd as you say, it does more work.  It's also very expensive when running a non-paravirt kernel under a hypervisor because the hypervisor traps the rdtsc instruction.  Anyway, I suppose that's all academic for now.  :-)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/33898064/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/33900899",
    "html_url": "https://github.com/rust-lang/rust/pull/11981#issuecomment-33900899",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/11981",
    "id": 33900899,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzOTAwODk5",
    "user": {
      "login": "thestinger",
      "id": 1505226,
      "node_id": "MDQ6VXNlcjE1MDUyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thestinger",
      "html_url": "https://github.com/thestinger",
      "followers_url": "https://api.github.com/users/thestinger/followers",
      "following_url": "https://api.github.com/users/thestinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions",
      "organizations_url": "https://api.github.com/users/thestinger/orgs",
      "repos_url": "https://api.github.com/users/thestinger/repos",
      "events_url": "https://api.github.com/users/thestinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thestinger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-02-02T13:59:14Z",
    "updated_at": "2014-02-02T13:59:14Z",
    "body": "Is the `now` function just used for relative timers? If that's the only use, then it should certainly use _one of_ the monotonic clocks. I don't know if it should use the coarse clock or the regular one, but it appears that with the current interface it can use the coarse one without a loss.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/33900899/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/33900914",
    "html_url": "https://github.com/rust-lang/rust/pull/11981#issuecomment-33900914",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/11981",
    "id": 33900914,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzOTAwOTE0",
    "user": {
      "login": "thestinger",
      "id": 1505226,
      "node_id": "MDQ6VXNlcjE1MDUyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thestinger",
      "html_url": "https://github.com/thestinger",
      "followers_url": "https://api.github.com/users/thestinger/followers",
      "following_url": "https://api.github.com/users/thestinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions",
      "organizations_url": "https://api.github.com/users/thestinger/orgs",
      "repos_url": "https://api.github.com/users/thestinger/repos",
      "events_url": "https://api.github.com/users/thestinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thestinger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-02-02T13:59:51Z",
    "updated_at": "2014-02-02T13:59:51Z",
    "body": "(sorry for the noise, I just woke up! :P)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/33900914/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/33977817",
    "html_url": "https://github.com/rust-lang/rust/pull/11981#issuecomment-33977817",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/11981",
    "id": 33977817,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzOTc3ODE3",
    "user": {
      "login": "bnoordhuis",
      "id": 275871,
      "node_id": "MDQ6VXNlcjI3NTg3MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/275871?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bnoordhuis",
      "html_url": "https://github.com/bnoordhuis",
      "followers_url": "https://api.github.com/users/bnoordhuis/followers",
      "following_url": "https://api.github.com/users/bnoordhuis/following{/other_user}",
      "gists_url": "https://api.github.com/users/bnoordhuis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bnoordhuis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bnoordhuis/subscriptions",
      "organizations_url": "https://api.github.com/users/bnoordhuis/orgs",
      "repos_url": "https://api.github.com/users/bnoordhuis/repos",
      "events_url": "https://api.github.com/users/bnoordhuis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bnoordhuis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-02-03T17:25:17Z",
    "updated_at": "2014-02-03T17:25:17Z",
    "body": "> Is the now function just used for relative timers? If that's the only use, then it should certainly use one of the monotonic clocks.\n\nYes, agreed.  This PR was me working up to a cross-platform solution with some Linux-only performance optimizations thrown in for the sake of it. I'll try to revisit it later this week.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/33977817/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
