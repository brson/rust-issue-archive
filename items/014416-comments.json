[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/44124148",
    "html_url": "https://github.com/rust-lang/rust/issues/14416#issuecomment-44124148",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14416",
    "id": 44124148,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0MTI0MTQ4",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-05-25T08:16:52Z",
    "updated_at": "2014-05-25T08:16:52Z",
    "body": "I can mentor this.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/44124148/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/44802675",
    "html_url": "https://github.com/rust-lang/rust/issues/14416#issuecomment-44802675",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14416",
    "id": 44802675,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0ODAyNjc1",
    "user": {
      "login": "kaseyc",
      "id": 2405952,
      "node_id": "MDQ6VXNlcjI0MDU5NTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2405952?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kaseyc",
      "html_url": "https://github.com/kaseyc",
      "followers_url": "https://api.github.com/users/kaseyc/followers",
      "following_url": "https://api.github.com/users/kaseyc/following{/other_user}",
      "gists_url": "https://api.github.com/users/kaseyc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kaseyc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kaseyc/subscriptions",
      "organizations_url": "https://api.github.com/users/kaseyc/orgs",
      "repos_url": "https://api.github.com/users/kaseyc/repos",
      "events_url": "https://api.github.com/users/kaseyc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kaseyc/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-06-02T05:16:32Z",
    "updated_at": "2014-06-02T05:16:32Z",
    "body": "What would working on this entail?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/44802675/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/45441989",
    "html_url": "https://github.com/rust-lang/rust/issues/14416#issuecomment-45441989",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14416",
    "id": 45441989,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NDQxOTg5",
    "user": {
      "login": "nebffa",
      "id": 4462152,
      "node_id": "MDQ6VXNlcjQ0NjIxNTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4462152?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nebffa",
      "html_url": "https://github.com/nebffa",
      "followers_url": "https://api.github.com/users/nebffa/followers",
      "following_url": "https://api.github.com/users/nebffa/following{/other_user}",
      "gists_url": "https://api.github.com/users/nebffa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nebffa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nebffa/subscriptions",
      "organizations_url": "https://api.github.com/users/nebffa/orgs",
      "repos_url": "https://api.github.com/users/nebffa/repos",
      "events_url": "https://api.github.com/users/nebffa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nebffa/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-06-08T16:59:52Z",
    "updated_at": "2014-06-08T16:59:52Z",
    "body": "Hey I'd like to work on this issue - it looks like we'll need to work on the linker. I'm reading up on it to work out what might need changing.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/45441989/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/45443195",
    "html_url": "https://github.com/rust-lang/rust/issues/14416#issuecomment-45443195",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14416",
    "id": 45443195,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NDQzMTk1",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-06-08T17:43:32Z",
    "updated_at": "2014-06-08T17:43:32Z",
    "body": "The linker doesn't need to be modified. The error message today comes out of src/librustc/metadata/loader.rs:133. It just needs to be smarter about looking at the candidates it _did_ find, and what was requested to link against, rather than just saying \"not found\".\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/45443195/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/45462959",
    "html_url": "https://github.com/rust-lang/rust/issues/14416#issuecomment-45462959",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14416",
    "id": 45462959,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NDYyOTU5",
    "user": {
      "login": "nebffa",
      "id": 4462152,
      "node_id": "MDQ6VXNlcjQ0NjIxNTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4462152?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nebffa",
      "html_url": "https://github.com/nebffa",
      "followers_url": "https://api.github.com/users/nebffa/followers",
      "following_url": "https://api.github.com/users/nebffa/following{/other_user}",
      "gists_url": "https://api.github.com/users/nebffa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nebffa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nebffa/subscriptions",
      "organizations_url": "https://api.github.com/users/nebffa/orgs",
      "repos_url": "https://api.github.com/users/nebffa/repos",
      "events_url": "https://api.github.com/users/nebffa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nebffa/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-06-09T05:52:34Z",
    "updated_at": "2014-06-09T05:52:34Z",
    "body": "Cool - this could be done in one of two places in `src/librustc/metadata/loader.rs`:\n1. `fn crate_matches`\n2. `fn find_library_crate` \n\nI think it would be better suited in `crate_matches` since some rejection of crates already happens in here, whereas `find_library_crate` doesn't do that\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/45462959/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46114536",
    "html_url": "https://github.com/rust-lang/rust/issues/14416#issuecomment-46114536",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14416",
    "id": 46114536,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MTE0NTM2",
    "user": {
      "login": "nebffa",
      "id": 4462152,
      "node_id": "MDQ6VXNlcjQ0NjIxNTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4462152?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nebffa",
      "html_url": "https://github.com/nebffa",
      "followers_url": "https://api.github.com/users/nebffa/followers",
      "following_url": "https://api.github.com/users/nebffa/following{/other_user}",
      "gists_url": "https://api.github.com/users/nebffa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nebffa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nebffa/subscriptions",
      "organizations_url": "https://api.github.com/users/nebffa/orgs",
      "repos_url": "https://api.github.com/users/nebffa/repos",
      "events_url": "https://api.github.com/users/nebffa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nebffa/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-06-15T12:29:53Z",
    "updated_at": "2014-06-15T12:30:18Z",
    "body": "Hey @cmr, I've been trying to do some work on this - I'm having trouble finding where exactly the path gets searched to find possible crates. Any idea where it might be?\n\n`FileSearch.search` in `loader.rs` seems to just search for `.so` and `.rlib` libraries, but not `.a` (static libraries).\n\nAlso the speed of compilation is a bit of a bottleneck :p\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46114536/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/58676837",
    "html_url": "https://github.com/rust-lang/rust/issues/14416#issuecomment-58676837",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14416",
    "id": 58676837,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4Njc2ODM3",
    "user": {
      "login": "JIghtuse",
      "id": 908960,
      "node_id": "MDQ6VXNlcjkwODk2MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/908960?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JIghtuse",
      "html_url": "https://github.com/JIghtuse",
      "followers_url": "https://api.github.com/users/JIghtuse/followers",
      "following_url": "https://api.github.com/users/JIghtuse/following{/other_user}",
      "gists_url": "https://api.github.com/users/JIghtuse/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JIghtuse/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JIghtuse/subscriptions",
      "organizations_url": "https://api.github.com/users/JIghtuse/orgs",
      "repos_url": "https://api.github.com/users/JIghtuse/repos",
      "events_url": "https://api.github.com/users/JIghtuse/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JIghtuse/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-10-10T16:04:09Z",
    "updated_at": "2014-10-10T16:04:09Z",
    "body": "Can I fix this? I found a place where loader looks for candidates for crates. Relevant code looks like this:\n\n```\nlet (hash, rlib) = if file.starts_with(rlib_prefix.as_slice()) &&\n        file.ends_with(\".rlib\") {\n    (file.slice(rlib_prefix.len(), file.len() - \".rlib\".len()),\n     true)\n} else if dypair.map_or(false, |(_, suffix)| {\n    file.starts_with(dylib_prefix.get_ref().as_slice()) &&\n    file.ends_with(suffix)\n}) {\n    let (_, suffix) = dypair.unwrap();\n    let dylib_prefix = dylib_prefix.get_ref().as_slice();\n    (file.slice(dylib_prefix.len(), file.len() - suffix.len()),\n     false)\n} else {\n    return FileDoesntMatch\n};\n```\n\nSo, we can add our warning message to the last else clause. We need to be careful though. I've discovered with RUST_LOG that rustc first looks for all files in its path (isn't it ineffective on directories with many files?). Then the loader does what showed above: tries to match filename to rlib or dypair. By comparing crate name with \"lib{crate_name}.a\" we can catch mentioned in the issue case. We probably should to check for .so files too?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/58676837/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/58741078",
    "html_url": "https://github.com/rust-lang/rust/issues/14416#issuecomment-58741078",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14416",
    "id": 58741078,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4NzQxMDc4",
    "user": {
      "login": "JIghtuse",
      "id": 908960,
      "node_id": "MDQ6VXNlcjkwODk2MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/908960?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JIghtuse",
      "html_url": "https://github.com/JIghtuse",
      "followers_url": "https://api.github.com/users/JIghtuse/followers",
      "following_url": "https://api.github.com/users/JIghtuse/following{/other_user}",
      "gists_url": "https://api.github.com/users/JIghtuse/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JIghtuse/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JIghtuse/subscriptions",
      "organizations_url": "https://api.github.com/users/JIghtuse/orgs",
      "repos_url": "https://api.github.com/users/JIghtuse/repos",
      "events_url": "https://api.github.com/users/JIghtuse/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JIghtuse/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-10-11T07:24:34Z",
    "updated_at": "2014-10-11T07:24:34Z",
    "body": "We need to be even more careful. I've used `span_err()`, but it aborts compilation immedieately. Changed to `sess.span_warn()`\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/58741078/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/58744169",
    "html_url": "https://github.com/rust-lang/rust/issues/14416#issuecomment-58744169",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14416",
    "id": 58744169,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4NzQ0MTY5",
    "user": {
      "login": "JIghtuse",
      "id": 908960,
      "node_id": "MDQ6VXNlcjkwODk2MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/908960?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JIghtuse",
      "html_url": "https://github.com/JIghtuse",
      "followers_url": "https://api.github.com/users/JIghtuse/followers",
      "following_url": "https://api.github.com/users/JIghtuse/following{/other_user}",
      "gists_url": "https://api.github.com/users/JIghtuse/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JIghtuse/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JIghtuse/subscriptions",
      "organizations_url": "https://api.github.com/users/JIghtuse/orgs",
      "repos_url": "https://api.github.com/users/JIghtuse/repos",
      "events_url": "https://api.github.com/users/JIghtuse/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JIghtuse/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-10-11T09:41:08Z",
    "updated_at": "2014-10-11T09:59:48Z",
    "body": "Example output:\n\n```\n$ rustc foo.rs   \nfoo.rs:1:1: 1:18 warning: found staticlib `bar` instead of rlib `bar`, please compile using --crate-type rlib instead.\nfoo.rs:1 extern crate bar;\n         ^~~~~~~~~~~~~~~~~\nfoo.rs:1:1: 1:18 error: can't find crate for `bar`\nfoo.rs:1 extern crate bar;\n         ^~~~~~~~~~~~~~~~~\nerror: aborting due to previous error\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/58744169/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/73359281",
    "html_url": "https://github.com/rust-lang/rust/issues/14416#issuecomment-73359281",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14416",
    "id": 73359281,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczMzU5Mjgx",
    "user": {
      "login": "Potpourri",
      "id": 1174908,
      "node_id": "MDQ6VXNlcjExNzQ5MDg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1174908?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Potpourri",
      "html_url": "https://github.com/Potpourri",
      "followers_url": "https://api.github.com/users/Potpourri/followers",
      "following_url": "https://api.github.com/users/Potpourri/following{/other_user}",
      "gists_url": "https://api.github.com/users/Potpourri/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Potpourri/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Potpourri/subscriptions",
      "organizations_url": "https://api.github.com/users/Potpourri/orgs",
      "repos_url": "https://api.github.com/users/Potpourri/repos",
      "events_url": "https://api.github.com/users/Potpourri/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Potpourri/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-02-07T10:47:46Z",
    "updated_at": "2015-02-07T10:47:46Z",
    "body": "Fixed in #21978\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/73359281/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
