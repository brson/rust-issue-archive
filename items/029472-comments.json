[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/152500942",
    "html_url": "https://github.com/rust-lang/rust/issues/29472#issuecomment-152500942",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29472",
    "id": 152500942,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MjUwMDk0Mg==",
    "user": {
      "login": "hanna-kruppe",
      "id": 2311707,
      "node_id": "MDQ6VXNlcjIzMTE3MDc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2311707?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hanna-kruppe",
      "html_url": "https://github.com/hanna-kruppe",
      "followers_url": "https://api.github.com/users/hanna-kruppe/followers",
      "following_url": "https://api.github.com/users/hanna-kruppe/following{/other_user}",
      "gists_url": "https://api.github.com/users/hanna-kruppe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hanna-kruppe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hanna-kruppe/subscriptions",
      "organizations_url": "https://api.github.com/users/hanna-kruppe/orgs",
      "repos_url": "https://api.github.com/users/hanna-kruppe/repos",
      "events_url": "https://api.github.com/users/hanna-kruppe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hanna-kruppe/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-30T11:33:11Z",
    "updated_at": "2015-10-30T11:39:42Z",
    "body": "[1.2999999999999999 != 1.3](https://play.rust-lang.org/?gist=3b40c092a2d09585b4f5&version=stable). Pretty printing should not be inaccurate by default. However, we've long wanted a mode that prints the shortest exact literal, see #24612 for some discussion. The difference to the default behavior would be that it would use exponential notation when that gives a shorter result. This mode should probably accept a precision `.N` and use _at most_ this many digits, i.e. omit the pointless zeros that can be seen in your example. Then one can opt-in into short, pretty, slightly inaccurate outputs.\n\nAside:\n\n>  It's highly important feature for serialization libs.\n\nWouldn't serialization libraries want accuracy more than pleasing human readers?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/152500942/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/152526815",
    "html_url": "https://github.com/rust-lang/rust/issues/29472#issuecomment-152526815",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29472",
    "id": 152526815,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MjUyNjgxNQ==",
    "user": {
      "login": "therustmonk",
      "id": 418920,
      "node_id": "MDQ6VXNlcjQxODkyMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/418920?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/therustmonk",
      "html_url": "https://github.com/therustmonk",
      "followers_url": "https://api.github.com/users/therustmonk/followers",
      "following_url": "https://api.github.com/users/therustmonk/following{/other_user}",
      "gists_url": "https://api.github.com/users/therustmonk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/therustmonk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/therustmonk/subscriptions",
      "organizations_url": "https://api.github.com/users/therustmonk/orgs",
      "repos_url": "https://api.github.com/users/therustmonk/repos",
      "events_url": "https://api.github.com/users/therustmonk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/therustmonk/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-30T13:31:03Z",
    "updated_at": "2015-10-30T13:31:03Z",
    "body": "Thank you for conception.\n\n> Wouldn't serialization libraries want accuracy more than pleasing human readers?\n\nNot by humans. But problem becoming little deeper... I have some Lua code, which contains parameters that numeric constants. I used to pure Lua to JSON serializer which calls Lua's `tostring` that calls `sprintf` inside. It produces `0.1` to `0.1`. But when I take parameter directly from Lua state as numeric (= C `double`) and serialize it I get `0.10000000000000001` value in JSON. I don't do any calculations inside Lua or Rust with that constant but values differs (Maybe there is dirty value transformation during interpreting Lua code, because constant has inaccurate value inside Lua VM). `sprintf` + `g` solves it.\n\n #24612 doesn't provide a twin for `g` option. Is there another activity in this direction?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/152526815/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/152529468",
    "html_url": "https://github.com/rust-lang/rust/issues/29472#issuecomment-152529468",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29472",
    "id": 152529468,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MjUyOTQ2OA==",
    "user": {
      "login": "hanna-kruppe",
      "id": 2311707,
      "node_id": "MDQ6VXNlcjIzMTE3MDc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2311707?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hanna-kruppe",
      "html_url": "https://github.com/hanna-kruppe",
      "followers_url": "https://api.github.com/users/hanna-kruppe/followers",
      "following_url": "https://api.github.com/users/hanna-kruppe/following{/other_user}",
      "gists_url": "https://api.github.com/users/hanna-kruppe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hanna-kruppe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hanna-kruppe/subscriptions",
      "organizations_url": "https://api.github.com/users/hanna-kruppe/orgs",
      "repos_url": "https://api.github.com/users/hanna-kruppe/repos",
      "events_url": "https://api.github.com/users/hanna-kruppe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hanna-kruppe/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-30T13:44:01Z",
    "updated_at": "2015-10-30T13:46:59Z",
    "body": "`0.10000000000000001` equals `0.1`, so accuracy is not a reason to print the former. I can only assume your JSON serializer is being stupid, possibly aided by Lua indeed mangling the value internally. In any case, Rust's float formatting will never print `0.10000000000000001`, it will only use as many decimal digits as necessary, with the aforementioned caveat that it isn't allowed to use exponential notation. Of course the latter is still a big problem if you have numbers as large as `1e300`.\n\nNo, AFAIK there hasn't been any activity on a `%g`-analogue. Several people including myself want it but nobody wants it enough to implement it themselves. Perhaps this issue will change that.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/152529468/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/152547943",
    "html_url": "https://github.com/rust-lang/rust/issues/29472#issuecomment-152547943",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29472",
    "id": 152547943,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MjU0Nzk0Mw==",
    "user": {
      "login": "therustmonk",
      "id": 418920,
      "node_id": "MDQ6VXNlcjQxODkyMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/418920?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/therustmonk",
      "html_url": "https://github.com/therustmonk",
      "followers_url": "https://api.github.com/users/therustmonk/followers",
      "following_url": "https://api.github.com/users/therustmonk/following{/other_user}",
      "gists_url": "https://api.github.com/users/therustmonk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/therustmonk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/therustmonk/subscriptions",
      "organizations_url": "https://api.github.com/users/therustmonk/orgs",
      "repos_url": "https://api.github.com/users/therustmonk/repos",
      "events_url": "https://api.github.com/users/therustmonk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/therustmonk/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-30T14:57:57Z",
    "updated_at": "2015-10-30T14:57:57Z",
    "body": "I've found better example:\n\n``` rust\nfn main() {\n    let mut x = 0.1;\n    for z in (1..100) {\n        x = x + 0.01;\n        println!(\"{}\", x);\n    }\n}\n```\n\nit prints:\n\n``` rust\n0.11\n0.12\n0.13\n0.14\n0.15000000000000002\n0.16000000000000003\n0.17000000000000004\n0.18000000000000005\n0.19000000000000006\n0.20000000000000007\n0.21000000000000008\n0.22000000000000008\n```\n\nThat's really terrible print )\nIt seems other languages use `g` as default print strategy. What do you think about it?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/152547943/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/152556365",
    "html_url": "https://github.com/rust-lang/rust/issues/29472#issuecomment-152556365",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29472",
    "id": 152556365,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MjU1NjM2NQ==",
    "user": {
      "login": "hanna-kruppe",
      "id": 2311707,
      "node_id": "MDQ6VXNlcjIzMTE3MDc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2311707?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hanna-kruppe",
      "html_url": "https://github.com/hanna-kruppe",
      "followers_url": "https://api.github.com/users/hanna-kruppe/followers",
      "following_url": "https://api.github.com/users/hanna-kruppe/following{/other_user}",
      "gists_url": "https://api.github.com/users/hanna-kruppe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hanna-kruppe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hanna-kruppe/subscriptions",
      "organizations_url": "https://api.github.com/users/hanna-kruppe/orgs",
      "repos_url": "https://api.github.com/users/hanna-kruppe/repos",
      "events_url": "https://api.github.com/users/hanna-kruppe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hanna-kruppe/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-30T15:29:11Z",
    "updated_at": "2015-10-30T15:31:56Z",
    "body": "This is an example of floating point arithmetic being inaccurate. The number _really is_ closer to `0.22000000000000008` than to `0.22` and trying to hide that doesn't do a service to anyone:\n- it misleads people who try to find out how two numbers could possibly be not equal\n- it is a hazard for serialization, because it rounds during an operation that one might not expect to round\n- it doesn't confront float newbies with the reality of float arithmetic (which they _will_ run into)\n\nBesides, I do not buy that other languages do round by default. Here's [Java](http://ideone.com/DsqsG8), [JavaScript](http://ideone.com/lIVlJv), [Python](http://ideone.com/0vFijm), [Ruby](http://ideone.com/ljhEOj) giving identical or very similar output. Either `%g` does not do what you think it does, or these languages do not use `%g`.\n\nAlso, changing the default is tricky because lots of programs rely on the exact current behavior. Rounding the output _might_ not break any programs (though it will make some of them less accurate, if they read the output back in), but as explained above I am opposed to that anyway.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/152556365/reactions",
      "total_count": 3,
      "+1": 3,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/152741967",
    "html_url": "https://github.com/rust-lang/rust/issues/29472#issuecomment-152741967",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29472",
    "id": 152741967,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1Mjc0MTk2Nw==",
    "user": {
      "login": "therustmonk",
      "id": 418920,
      "node_id": "MDQ6VXNlcjQxODkyMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/418920?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/therustmonk",
      "html_url": "https://github.com/therustmonk",
      "followers_url": "https://api.github.com/users/therustmonk/followers",
      "following_url": "https://api.github.com/users/therustmonk/following{/other_user}",
      "gists_url": "https://api.github.com/users/therustmonk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/therustmonk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/therustmonk/subscriptions",
      "organizations_url": "https://api.github.com/users/therustmonk/orgs",
      "repos_url": "https://api.github.com/users/therustmonk/repos",
      "events_url": "https://api.github.com/users/therustmonk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/therustmonk/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-31T15:15:55Z",
    "updated_at": "2015-10-31T15:15:55Z",
    "body": "I think you are right, `0.22000000000000008` is value we have in memory, and it's bad idea to change its representation. But using another formatting library is uncomfortable to print nice-looking values.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/152741967/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/152742633",
    "html_url": "https://github.com/rust-lang/rust/issues/29472#issuecomment-152742633",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29472",
    "id": 152742633,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1Mjc0MjYzMw==",
    "user": {
      "login": "hanna-kruppe",
      "id": 2311707,
      "node_id": "MDQ6VXNlcjIzMTE3MDc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2311707?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hanna-kruppe",
      "html_url": "https://github.com/hanna-kruppe",
      "followers_url": "https://api.github.com/users/hanna-kruppe/followers",
      "following_url": "https://api.github.com/users/hanna-kruppe/following{/other_user}",
      "gists_url": "https://api.github.com/users/hanna-kruppe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hanna-kruppe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hanna-kruppe/subscriptions",
      "organizations_url": "https://api.github.com/users/hanna-kruppe/orgs",
      "repos_url": "https://api.github.com/users/hanna-kruppe/repos",
      "events_url": "https://api.github.com/users/hanna-kruppe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hanna-kruppe/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-31T15:25:14Z",
    "updated_at": "2015-10-31T17:11:53Z",
    "body": "I absolutely agree with you that there should be a formatting operator that is prettier and can also round to N decimal digits while remaining pretty. I just don't want it to round _by default_.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/152742633/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/152751516",
    "html_url": "https://github.com/rust-lang/rust/issues/29472#issuecomment-152751516",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29472",
    "id": 152751516,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1Mjc1MTUxNg==",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-31T17:11:29Z",
    "updated_at": "2015-10-31T17:11:29Z",
    "body": "cc me\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/152751516/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/153041078",
    "html_url": "https://github.com/rust-lang/rust/issues/29472#issuecomment-153041078",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29472",
    "id": 153041078,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MzA0MTA3OA==",
    "user": {
      "login": "roquendm",
      "id": 6418477,
      "node_id": "MDQ6VXNlcjY0MTg0Nzc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6418477?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/roquendm",
      "html_url": "https://github.com/roquendm",
      "followers_url": "https://api.github.com/users/roquendm/followers",
      "following_url": "https://api.github.com/users/roquendm/following{/other_user}",
      "gists_url": "https://api.github.com/users/roquendm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/roquendm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/roquendm/subscriptions",
      "organizations_url": "https://api.github.com/users/roquendm/orgs",
      "repos_url": "https://api.github.com/users/roquendm/repos",
      "events_url": "https://api.github.com/users/roquendm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/roquendm/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-11-02T14:52:36Z",
    "updated_at": "2015-11-02T14:52:36Z",
    "body": "If you want to error free load/store floating point via text files and target multiple languages...use hexadecimal.  Using decimal is a recipe for pain.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/153041078/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/153078162",
    "html_url": "https://github.com/rust-lang/rust/issues/29472#issuecomment-153078162",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29472",
    "id": 153078162,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MzA3ODE2Mg==",
    "user": {
      "login": "hanna-kruppe",
      "id": 2311707,
      "node_id": "MDQ6VXNlcjIzMTE3MDc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2311707?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hanna-kruppe",
      "html_url": "https://github.com/hanna-kruppe",
      "followers_url": "https://api.github.com/users/hanna-kruppe/followers",
      "following_url": "https://api.github.com/users/hanna-kruppe/following{/other_user}",
      "gists_url": "https://api.github.com/users/hanna-kruppe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hanna-kruppe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hanna-kruppe/subscriptions",
      "organizations_url": "https://api.github.com/users/hanna-kruppe/orgs",
      "repos_url": "https://api.github.com/users/hanna-kruppe/repos",
      "events_url": "https://api.github.com/users/hanna-kruppe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hanna-kruppe/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-11-02T16:43:00Z",
    "updated_at": "2015-11-02T16:43:54Z",
    "body": "@roquendm\n\nIt's true that decimal representation of binary floats has many downsides, but unfortunately it is also very convenient for humans. Decimal output must exist, might as well make it as pretty as possible while remaining accurate &mdash; to say nothing of output for end users that is never read back in. And the really hard part of the implementation is already solved, loading and storing floating point number is already correct in Rust today. It may have to round when first reading decimal input, but every subsequent load-store cycle preserves the bits exactly.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/153078162/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/153089074",
    "html_url": "https://github.com/rust-lang/rust/issues/29472#issuecomment-153089074",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29472",
    "id": 153089074,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MzA4OTA3NA==",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-11-02T17:19:57Z",
    "updated_at": "2015-11-02T17:19:57Z",
    "body": "@rkruppe I had assumed that the suggestion to use hexadecimal was a response to the scenario given above where one is trying to serialize data between Lua and Rust.  (But then again, it was unclear whom @roquendm 's comment was actually directed at... the \"and target multiple languages\" part was what made me think the text was targetted at @DenisKolodin )\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/153089074/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/153093798",
    "html_url": "https://github.com/rust-lang/rust/issues/29472#issuecomment-153093798",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29472",
    "id": 153093798,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MzA5Mzc5OA==",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-11-02T17:31:16Z",
    "updated_at": "2015-11-02T17:31:16Z",
    "body": "> #24612 doesn't provide a twin for `g` option. Is there another activity in this direction?\n\nThe discussion on #24612 did (in a [comment](https://github.com/rust-lang/rust/pull/24612#issuecomment-94634677)) mention how we might want to make `Display` (`{}`) and `Debug` (`{:?}`) outputs differ in their semantics.  `Display` would be a rough analogue to `g` and `Debug` would continue to mean `f`.\n\nBut its not clear how far we would actually want to go with this.  It would probably better to allocate a separate format modifier for this purpose, e.g. `{:g}`. (What did `g` stand for, anyway? I've always assumed it was chosen just because its the next letter after `f`, but that won't suffice for selecting a name for [a `std::fmt` trait](https://doc.rust-lang.org/std/fmt/#formatting-traits)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/153093798/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/153098032",
    "html_url": "https://github.com/rust-lang/rust/issues/29472#issuecomment-153098032",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29472",
    "id": 153098032,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MzA5ODAzMg==",
    "user": {
      "login": "hanna-kruppe",
      "id": 2311707,
      "node_id": "MDQ6VXNlcjIzMTE3MDc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2311707?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hanna-kruppe",
      "html_url": "https://github.com/hanna-kruppe",
      "followers_url": "https://api.github.com/users/hanna-kruppe/followers",
      "following_url": "https://api.github.com/users/hanna-kruppe/following{/other_user}",
      "gists_url": "https://api.github.com/users/hanna-kruppe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hanna-kruppe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hanna-kruppe/subscriptions",
      "organizations_url": "https://api.github.com/users/hanna-kruppe/orgs",
      "repos_url": "https://api.github.com/users/hanna-kruppe/repos",
      "events_url": "https://api.github.com/users/hanna-kruppe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hanna-kruppe/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-11-02T17:48:22Z",
    "updated_at": "2015-11-02T17:48:22Z",
    "body": "Since `#` is the \"pretty print\" operator for some kinds of output (e.g. `{:#?}`) and in all other case at least selects an _alternative_ format (`{:#x}` for example), I think `{:#}` and `{:#?}` would be an appropriate spelling. I do not know if this is what @DenisKolodin wants, but in any case reading his posts gave me this thought.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/153098032/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/153164477",
    "html_url": "https://github.com/rust-lang/rust/issues/29472#issuecomment-153164477",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29472",
    "id": 153164477,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MzE2NDQ3Nw==",
    "user": {
      "login": "roquendm",
      "id": 6418477,
      "node_id": "MDQ6VXNlcjY0MTg0Nzc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6418477?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/roquendm",
      "html_url": "https://github.com/roquendm",
      "followers_url": "https://api.github.com/users/roquendm/followers",
      "following_url": "https://api.github.com/users/roquendm/following{/other_user}",
      "gists_url": "https://api.github.com/users/roquendm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/roquendm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/roquendm/subscriptions",
      "organizations_url": "https://api.github.com/users/roquendm/orgs",
      "repos_url": "https://api.github.com/users/roquendm/repos",
      "events_url": "https://api.github.com/users/roquendm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/roquendm/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-11-02T21:35:21Z",
    "updated_at": "2015-11-02T21:35:21Z",
    "body": "Indeed my comment was \"if one wants to (as simply as possible) be bit-exact across all languages which might read/write the data in a text based format\" then use hex floats,\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/153164477/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/169177651",
    "html_url": "https://github.com/rust-lang/rust/issues/29472#issuecomment-169177651",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29472",
    "id": 169177651,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2OTE3NzY1MQ==",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-01-06T00:27:48Z",
    "updated_at": "2016-01-06T00:27:48Z",
    "body": "Nominating to discuss:\n1. making `Display` and `Debug` differ\n2. using `#` as the \"pretty\"/`%g` version\n3. adding `{:g}` for prettier output (the main benefit of this IMO, is automatically choosing between exponential and non-exponential notation, in addition to the already-discussed fact it doesn't try to round-tripping)\n\nI'm not a huge fan of 1, but 2 doesn't seem crazy... although 3 and/or people just using e.g. `{:.3}` seems less subtle.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/169177651/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/169261887",
    "html_url": "https://github.com/rust-lang/rust/issues/29472#issuecomment-169261887",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29472",
    "id": 169261887,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2OTI2MTg4Nw==",
    "user": {
      "login": "therustmonk",
      "id": 418920,
      "node_id": "MDQ6VXNlcjQxODkyMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/418920?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/therustmonk",
      "html_url": "https://github.com/therustmonk",
      "followers_url": "https://api.github.com/users/therustmonk/followers",
      "following_url": "https://api.github.com/users/therustmonk/following{/other_user}",
      "gists_url": "https://api.github.com/users/therustmonk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/therustmonk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/therustmonk/subscriptions",
      "organizations_url": "https://api.github.com/users/therustmonk/orgs",
      "repos_url": "https://api.github.com/users/therustmonk/repos",
      "events_url": "https://api.github.com/users/therustmonk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/therustmonk/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-01-06T08:00:25Z",
    "updated_at": "2016-01-06T08:00:25Z",
    "body": "I see in the doc that: `#` - is alternative form of printing the _same value_. Maybe we don't have to add round surprise to alternate (`#`) specifier. But `g` also is not a format trait because value changes.\n\nWhat about to use `-` sign? It isn't used now, but semantic hints us to substraction or shrinking.\n\n``` rust\nprintln!(\"{:-}\", 1.2999999999999999);\n// 1.3\nprintln!(\"{:-?}\", 1.2999999999999999);\n// 1.3\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/169261887/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/169279095",
    "html_url": "https://github.com/rust-lang/rust/issues/29472#issuecomment-169279095",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29472",
    "id": 169279095,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2OTI3OTA5NQ==",
    "user": {
      "login": "hanna-kruppe",
      "id": 2311707,
      "node_id": "MDQ6VXNlcjIzMTE3MDc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2311707?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hanna-kruppe",
      "html_url": "https://github.com/hanna-kruppe",
      "followers_url": "https://api.github.com/users/hanna-kruppe/followers",
      "following_url": "https://api.github.com/users/hanna-kruppe/following{/other_user}",
      "gists_url": "https://api.github.com/users/hanna-kruppe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hanna-kruppe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hanna-kruppe/subscriptions",
      "organizations_url": "https://api.github.com/users/hanna-kruppe/orgs",
      "repos_url": "https://api.github.com/users/hanna-kruppe/repos",
      "events_url": "https://api.github.com/users/hanna-kruppe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hanna-kruppe/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-01-06T09:45:27Z",
    "updated_at": "2016-01-06T09:48:25Z",
    "body": "`Display` and `Debug` already differ for [signed zeros](https://play.rust-lang.org/?gist=f86eeace50f951932b47&version=stable). However, that's the only difference and as I already expressed my opposition for either `{}` or `{:?}` to round.\n\n> (the main benefit of this IMO, is automatically choosing between exponential and non-exponential notation, in addition to the already-discussed fact it doesn't try to round-tripping)\n\nI'm not sure what you're saying here, can't the `#` route also take the liberty to switch between exponential and decimal notation?\n\n@DenisKolodin `{:-}` is already a valid format specifier, though it's currently \"not used\" (which seems to mean \"ignored\"). However, as `+` is currently used for something related to the sign of the output, using `-` for something completely unrelated is pretty confusing IMHO.\n\n---\n\nAnother thing that bugs me about a direct `%g`-analogue is the question of how many digits it should round to by default. C specifies 6 according to cppreference.com, but that seems completely arbitrary and it seems unlikely that this is the ideal value for most use cases. I would rather have the option (whether it be `:#`, `:g`, or something else) by itself only enable the dynamic switch to exponential notation. If _additionally_ a precision is specified via `.N`, then:\n- round to so many digits, obviously\n- strip trailing zeros, if any\n- still switch to exponential, only now the threshold depends on the precision\n\nThis is pretty much what C's `%.Ng` does. The default would still be accurate and thus use up to ~17 decimal digits --- if you want less, you can specify it and (unlike with `{:.N}`) still get decent output if rounding was unnecessary or the number is huge or tiny.\n\nNB: I would also prefer ordinary `{:.N}` to strip trailing zeros, though I can see the guarantee of \"exactly N decimal digits\" be useful in some contexts.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/169279095/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/170108468",
    "html_url": "https://github.com/rust-lang/rust/issues/29472#issuecomment-170108468",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29472",
    "id": 170108468,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MDEwODQ2OA==",
    "user": {
      "login": "aturon",
      "id": 709807,
      "node_id": "MDQ6VXNlcjcwOTgwNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/709807?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aturon",
      "html_url": "https://github.com/aturon",
      "followers_url": "https://api.github.com/users/aturon/followers",
      "following_url": "https://api.github.com/users/aturon/following{/other_user}",
      "gists_url": "https://api.github.com/users/aturon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aturon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aturon/subscriptions",
      "organizations_url": "https://api.github.com/users/aturon/orgs",
      "repos_url": "https://api.github.com/users/aturon/repos",
      "events_url": "https://api.github.com/users/aturon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aturon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-01-08T20:03:17Z",
    "updated_at": "2016-01-08T20:03:17Z",
    "body": "**Libs team consensus**: any of the changes being discussed here should go through the RFC process. The team would be wiling to consider an RFC for any of the options [@huonw mentioned](https://github.com/rust-lang/rust/issues/29472#issuecomment-169177651), but would be particularly keen for either option 2 or 3.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/170108468/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
