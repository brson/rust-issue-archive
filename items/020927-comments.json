[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/70190355",
    "html_url": "https://github.com/rust-lang/rust/issues/20927#issuecomment-70190355",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20927",
    "id": 70190355,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwMTkwMzU1",
    "user": {
      "login": "murarth",
      "id": 1332722,
      "node_id": "MDQ6VXNlcjEzMzI3MjI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1332722?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/murarth",
      "html_url": "https://github.com/murarth",
      "followers_url": "https://api.github.com/users/murarth/followers",
      "following_url": "https://api.github.com/users/murarth/following{/other_user}",
      "gists_url": "https://api.github.com/users/murarth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/murarth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/murarth/subscriptions",
      "organizations_url": "https://api.github.com/users/murarth/orgs",
      "repos_url": "https://api.github.com/users/murarth/repos",
      "events_url": "https://api.github.com/users/murarth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/murarth/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-16T00:41:38Z",
    "updated_at": "2015-01-16T00:41:38Z",
    "body": "So, it turns out that implementing this isn't as straightforward as I thought it would be.\nIt runs into something like #19839:\n\n```\n#[derive(PartialEq)]\nstruct Foo<T> {\n    bar: Bar<T>,\n}\n\nstruct Bar<T> {}\n```\n\nThe generated `impl` places a bound on `T: PartialEq<U>` in `Foo<T>` and for any `U`, but doesn't place a bound on `Bar<T>: PartialEq<Bar<U>>`, which it attempts to compare in the generated methods. This causes a compile error, stating that `Bar<T>` cannot be compared.\n\nSo, I suppose this will have to wait until the `derive` syntax extension becomes a bit more sophisticated.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/70190355/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/70930334",
    "html_url": "https://github.com/rust-lang/rust/issues/20927#issuecomment-70930334",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20927",
    "id": 70930334,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwOTMwMzM0",
    "user": {
      "login": "Gankra",
      "id": 1136864,
      "node_id": "MDQ6VXNlcjExMzY4NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1136864?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Gankra",
      "html_url": "https://github.com/Gankra",
      "followers_url": "https://api.github.com/users/Gankra/followers",
      "following_url": "https://api.github.com/users/Gankra/following{/other_user}",
      "gists_url": "https://api.github.com/users/Gankra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Gankra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Gankra/subscriptions",
      "organizations_url": "https://api.github.com/users/Gankra/orgs",
      "repos_url": "https://api.github.com/users/Gankra/repos",
      "events_url": "https://api.github.com/users/Gankra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Gankra/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-21T21:59:36Z",
    "updated_at": "2015-01-21T21:59:36Z",
    "body": "@nikomatsakis would this run afoul of any of your coherence strategies?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/70930334/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/105091808",
    "html_url": "https://github.com/rust-lang/rust/issues/20927#issuecomment-105091808",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20927",
    "id": 105091808,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNTA5MTgwOA==",
    "user": {
      "login": "shepmaster",
      "id": 174509,
      "node_id": "MDQ6VXNlcjE3NDUwOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/174509?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shepmaster",
      "html_url": "https://github.com/shepmaster",
      "followers_url": "https://api.github.com/users/shepmaster/followers",
      "following_url": "https://api.github.com/users/shepmaster/following{/other_user}",
      "gists_url": "https://api.github.com/users/shepmaster/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shepmaster/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shepmaster/subscriptions",
      "organizations_url": "https://api.github.com/users/shepmaster/orgs",
      "repos_url": "https://api.github.com/users/shepmaster/repos",
      "events_url": "https://api.github.com/users/shepmaster/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shepmaster/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-25T02:03:32Z",
    "updated_at": "2015-05-25T02:03:32Z",
    "body": "@murarth Is your branch available anywhere for perusal?\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/105091808/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/105092919",
    "html_url": "https://github.com/rust-lang/rust/issues/20927#issuecomment-105092919",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20927",
    "id": 105092919,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNTA5MjkxOQ==",
    "user": {
      "login": "murarth",
      "id": 1332722,
      "node_id": "MDQ6VXNlcjEzMzI3MjI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1332722?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/murarth",
      "html_url": "https://github.com/murarth",
      "followers_url": "https://api.github.com/users/murarth/followers",
      "following_url": "https://api.github.com/users/murarth/following{/other_user}",
      "gists_url": "https://api.github.com/users/murarth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/murarth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/murarth/subscriptions",
      "organizations_url": "https://api.github.com/users/murarth/orgs",
      "repos_url": "https://api.github.com/users/murarth/repos",
      "events_url": "https://api.github.com/users/murarth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/murarth/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-25T02:13:53Z",
    "updated_at": "2015-05-25T02:13:53Z",
    "body": "@shepmaster: Sure. It's severely outdated at this point and the standard library won't compile with it, but other than that, it worked. https://github.com/murarth/rust/tree/derive-generic\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/105092919/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/105099327",
    "html_url": "https://github.com/rust-lang/rust/issues/20927#issuecomment-105099327",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20927",
    "id": 105099327,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNTA5OTMyNw==",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-25T02:49:38Z",
    "updated_at": "2015-05-25T02:49:38Z",
    "body": "This is impossible to do by-default now, since it is backwards incompatible. At least, it is if we don't do something like `Bar<T>: PartialEq<Bar<U>>`. But this exposes implementation details, so probably isn't what we want to do.\n\nHowever, I could definitely imagine adding an opt-in way to do this.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/105099327/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/105255727",
    "html_url": "https://github.com/rust-lang/rust/issues/20927#issuecomment-105255727",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20927",
    "id": 105255727,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNTI1NTcyNw==",
    "user": {
      "login": "shepmaster",
      "id": 174509,
      "node_id": "MDQ6VXNlcjE3NDUwOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/174509?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shepmaster",
      "html_url": "https://github.com/shepmaster",
      "followers_url": "https://api.github.com/users/shepmaster/followers",
      "following_url": "https://api.github.com/users/shepmaster/following{/other_user}",
      "gists_url": "https://api.github.com/users/shepmaster/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shepmaster/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shepmaster/subscriptions",
      "organizations_url": "https://api.github.com/users/shepmaster/orgs",
      "repos_url": "https://api.github.com/users/shepmaster/repos",
      "events_url": "https://api.github.com/users/shepmaster/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shepmaster/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-25T15:52:55Z",
    "updated_at": "2015-05-25T15:52:55Z",
    "body": "Here's @huonw's example of the backwards incompatibility from our IRC conversation:\n\n``` rust\nstruct Foo<T> { ... }\n\n/* manual impl */\nimpl<T> PartialEq for Foo<T> { ... }\n\n#[derive(PartialEq)]\nstruct Bar<T> {\n    x: Foo<T>,\n}\n```\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/105255727/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/105255836",
    "html_url": "https://github.com/rust-lang/rust/issues/20927#issuecomment-105255836",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20927",
    "id": 105255836,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNTI1NTgzNg==",
    "user": {
      "login": "shepmaster",
      "id": 174509,
      "node_id": "MDQ6VXNlcjE3NDUwOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/174509?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shepmaster",
      "html_url": "https://github.com/shepmaster",
      "followers_url": "https://api.github.com/users/shepmaster/followers",
      "following_url": "https://api.github.com/users/shepmaster/following{/other_user}",
      "gists_url": "https://api.github.com/users/shepmaster/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shepmaster/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shepmaster/subscriptions",
      "organizations_url": "https://api.github.com/users/shepmaster/orgs",
      "repos_url": "https://api.github.com/users/shepmaster/repos",
      "events_url": "https://api.github.com/users/shepmaster/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shepmaster/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-25T15:54:14Z",
    "updated_at": "2015-05-25T15:54:14Z",
    "body": "> adding an opt-in way to do this\n\nOne concrete idea was extending the derive syntax:\n\n``` rust\n#[derive(PartialEq(with-awesome-flexibility))]\nstruct Foo<T> { ... }\n```\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/105255836/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/263699115",
    "html_url": "https://github.com/rust-lang/rust/issues/20927#issuecomment-263699115",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20927",
    "id": 263699115,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MzY5OTExNQ==",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-11-29T21:07:49Z",
    "updated_at": "2016-11-29T21:07:49Z",
    "body": "Triage; no change",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/263699115/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/345485659",
    "html_url": "https://github.com/rust-lang/rust/issues/20927#issuecomment-345485659",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20927",
    "id": 345485659,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NTQ4NTY1OQ==",
    "user": {
      "login": "dtolnay",
      "id": 1940490,
      "node_id": "MDQ6VXNlcjE5NDA0OTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1940490?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dtolnay",
      "html_url": "https://github.com/dtolnay",
      "followers_url": "https://api.github.com/users/dtolnay/followers",
      "following_url": "https://api.github.com/users/dtolnay/following{/other_user}",
      "gists_url": "https://api.github.com/users/dtolnay/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dtolnay/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dtolnay/subscriptions",
      "organizations_url": "https://api.github.com/users/dtolnay/orgs",
      "repos_url": "https://api.github.com/users/dtolnay/repos",
      "events_url": "https://api.github.com/users/dtolnay/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dtolnay/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-11-19T01:57:32Z",
    "updated_at": "2017-11-19T01:57:32Z",
    "body": "I agree that this could be handled better by the derives in the standard library. Thanks for the discussion! Since this has a potential to interact in confusing ways with type inference, I would prefer to see this explored in an RFC. There are at least two promising ways to go with this, either by making the derived impls smarter out of the box (which will hinge on what happens with https://github.com/rust-lang/rfcs/issues/917) or by requiring the programmer to tweak the derived impl using attributes.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/345485659/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
