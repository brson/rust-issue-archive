[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/13326261",
    "html_url": "https://github.com/rust-lang/rust/issues/4851#issuecomment-13326261",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/4851",
    "id": 13326261,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMzI2MjYx",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-02-09T04:33:30Z",
    "updated_at": "2013-02-09T04:33:30Z",
    "body": "No, you can't do this.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/13326261/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/13326274",
    "html_url": "https://github.com/rust-lang/rust/issues/4851#issuecomment-13326274",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/4851",
    "id": 13326274,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMzI2Mjc0",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-02-09T04:34:44Z",
    "updated_at": "2013-02-09T04:34:44Z",
    "body": "One possible workaround is to make a \"newtype\" for your `@Foo` type, like this:\n\n```\nstruct AtFoo(@Foo)\n```\n\nthen use `AtFoo` everywhere.\n\nClosing since this check is working as designed.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/13326274/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/13338456",
    "html_url": "https://github.com/rust-lang/rust/issues/4851#issuecomment-13338456",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/4851",
    "id": 13338456,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMzM4NDU2",
    "user": {
      "login": "pkgw",
      "id": 59598,
      "node_id": "MDQ6VXNlcjU5NTk4",
      "avatar_url": "https://avatars.githubusercontent.com/u/59598?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pkgw",
      "html_url": "https://github.com/pkgw",
      "followers_url": "https://api.github.com/users/pkgw/followers",
      "following_url": "https://api.github.com/users/pkgw/following{/other_user}",
      "gists_url": "https://api.github.com/users/pkgw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pkgw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pkgw/subscriptions",
      "organizations_url": "https://api.github.com/users/pkgw/orgs",
      "repos_url": "https://api.github.com/users/pkgw/repos",
      "events_url": "https://api.github.com/users/pkgw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pkgw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-02-09T20:50:50Z",
    "updated_at": "2013-02-09T20:50:50Z",
    "body": "If there's no simple workaround on that end, I'd argue that the default ToStr implementations for pointers-to-ToStr should be removed. If I have some non-small data structure and I care about the to_str(), I'm probably going to also be passing around pointers to the structure. The way I see it, it's _far_ more likely that I'll want\n\n```\n(@foo).to_str() = foo.to_str()\n```\n\nrather than\n\n```\n(@foo).to_str() = \"@\" + foo.to_str()\n```\n\nbut more broadly, I will want control over the to_str result without having to resort to awkward hacks such as AtFoo. As evidence for the superfluity of the current @(ToStr) and ~(ToStr) implementations, if I comment them out, the whole system recompiles just fine.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/13338456/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/13338725",
    "html_url": "https://github.com/rust-lang/rust/issues/4851#issuecomment-13338725",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/4851",
    "id": 13338725,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMzM4NzI1",
    "user": {
      "login": "pkgw",
      "id": 59598,
      "node_id": "MDQ6VXNlcjU5NTk4",
      "avatar_url": "https://avatars.githubusercontent.com/u/59598?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pkgw",
      "html_url": "https://github.com/pkgw",
      "followers_url": "https://api.github.com/users/pkgw/followers",
      "following_url": "https://api.github.com/users/pkgw/following{/other_user}",
      "gists_url": "https://api.github.com/users/pkgw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pkgw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pkgw/subscriptions",
      "organizations_url": "https://api.github.com/users/pkgw/orgs",
      "repos_url": "https://api.github.com/users/pkgw/repos",
      "events_url": "https://api.github.com/users/pkgw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pkgw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-02-09T21:07:04Z",
    "updated_at": "2013-02-09T21:15:23Z",
    "body": "Oh, and here's a variation that seems more like a genuine error in the impl-finder to me:\n\nIf I comment out both impls in my first example, unsurprisingly I get an error that there are no implementations for ToStr for `<V7>` which presumably corresponds to `@Foo`.\n\nIf I provide only the implementation for `@Foo`, but comment out the impl for plain Foo, I still get an error that there are two impls available: `__extensions__::to_str` and  `core::to_str::__extensions__::to_str`. Looking at the set of impls in core.to_str; I think that the impl for @(ToStr) must be kicking in even though in this case only `@Foo` is ToStr, not `Foo`.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/13338725/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/13341051",
    "html_url": "https://github.com/rust-lang/rust/issues/4851#issuecomment-13341051",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/4851",
    "id": 13341051,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMzQxMDUx",
    "user": {
      "login": "catamorphism",
      "id": 427212,
      "node_id": "MDQ6VXNlcjQyNzIxMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/427212?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/catamorphism",
      "html_url": "https://github.com/catamorphism",
      "followers_url": "https://api.github.com/users/catamorphism/followers",
      "following_url": "https://api.github.com/users/catamorphism/following{/other_user}",
      "gists_url": "https://api.github.com/users/catamorphism/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/catamorphism/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/catamorphism/subscriptions",
      "organizations_url": "https://api.github.com/users/catamorphism/orgs",
      "repos_url": "https://api.github.com/users/catamorphism/repos",
      "events_url": "https://api.github.com/users/catamorphism/events{/privacy}",
      "received_events_url": "https://api.github.com/users/catamorphism/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-02-09T23:32:32Z",
    "updated_at": "2013-02-09T23:32:32Z",
    "body": "Removing the default implementations here is a change worth considering -- @pkgw , please file a new issue with the RFC tag if you want to propose that. Thanks!\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/13341051/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
