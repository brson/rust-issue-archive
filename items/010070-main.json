{
  "url": "https://api.github.com/repos/rust-lang/rust/issues/10070",
  "repository_url": "https://api.github.com/repos/rust-lang/rust",
  "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/10070/labels{/name}",
  "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/10070/comments",
  "events_url": "https://api.github.com/repos/rust-lang/rust/issues/10070/events",
  "html_url": "https://github.com/rust-lang/rust/pull/10070",
  "id": 21607705,
  "node_id": "MDExOlB1bGxSZXF1ZXN0OTQxMzIxMw==",
  "number": 10070,
  "title": "Fire fewer homing missiles",
  "user": {
    "login": "alexcrichton",
    "id": 64996,
    "node_id": "MDQ6VXNlcjY0OTk2",
    "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/alexcrichton",
    "html_url": "https://github.com/alexcrichton",
    "followers_url": "https://api.github.com/users/alexcrichton/followers",
    "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
    "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
    "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
    "repos_url": "https://api.github.com/users/alexcrichton/repos",
    "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
    "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "labels": [],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [],
  "milestone": null,
  "comments": 4,
  "created_at": "2013-10-25T18:27:49Z",
  "updated_at": "2014-06-13T13:37:33Z",
  "closed_at": "2013-10-26T08:06:11Z",
  "author_association": "MEMBER",
  "type": null,
  "active_lock_reason": null,
  "draft": false,
  "pull_request": {
    "url": "https://api.github.com/repos/rust-lang/rust/pulls/10070",
    "html_url": "https://github.com/rust-lang/rust/pull/10070",
    "diff_url": "https://github.com/rust-lang/rust/pull/10070.diff",
    "patch_url": "https://github.com/rust-lang/rust/pull/10070.patch",
    "merged_at": "2013-10-26T08:06:12Z"
  },
  "body": "This optimizes the `home_for_io` code path by requiring fewer scheduler\noperations in some situtations.\n\nWhen moving to your home scheduler, this no longer forces a context switch if\nyou're already on the home scheduler. Instead, the homing code now simply pins\nyou to your current scheduler (making it so you can't be stolen away). If you're\nnot on your home scheduler, then we context switch away, sending you to your\nhome scheduler.\n\nWhen the I/O operation is done, then we also no longer forcibly trigger a\ncontext switch. Instead, the action is cased on whether the task is homed or\nnot. If a task does not have a home, then the task is re-flagged as not having a\nhome and no context switch is performed. If a task is homed to the current\nscheduler, then we don't do anything, and if the task is homed to a foreign\nscheduler, then it's sent along its merry way.\n\nI verified that there are about a third as many `write` syscalls done in print\noperations now. Libuv uses write to implement async handles, and the homing\nbefore and after each I/O operation was triggering a write on these async\nhandles. Additionally, using the terrible benchmark of printing 10k times in a\nloop, this drives the runtime from 0.6s down to 0.3s (yay!).\n",
  "closed_by": {
    "login": "bors",
    "id": 3372342,
    "node_id": "MDQ6VXNlcjMzNzIzNDI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/bors",
    "html_url": "https://github.com/bors",
    "followers_url": "https://api.github.com/users/bors/followers",
    "following_url": "https://api.github.com/users/bors/following{/other_user}",
    "gists_url": "https://api.github.com/users/bors/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bors/subscriptions",
    "organizations_url": "https://api.github.com/users/bors/orgs",
    "repos_url": "https://api.github.com/users/bors/repos",
    "events_url": "https://api.github.com/users/bors/events{/privacy}",
    "received_events_url": "https://api.github.com/users/bors/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/10070/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/10070/timeline",
  "performed_via_github_app": null,
  "state_reason": null,
  "_meta": {
    "type": "pr"
  }
}
