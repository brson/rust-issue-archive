[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/54702974",
    "html_url": "https://github.com/rust-lang/rust/issues/17033#issuecomment-54702974",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/17033",
    "id": 54702974,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU0NzAyOTc0",
    "user": {
      "login": "mdinger",
      "id": 4156987,
      "node_id": "MDQ6VXNlcjQxNTY5ODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4156987?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mdinger",
      "html_url": "https://github.com/mdinger",
      "followers_url": "https://api.github.com/users/mdinger/followers",
      "following_url": "https://api.github.com/users/mdinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/mdinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mdinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mdinger/subscriptions",
      "organizations_url": "https://api.github.com/users/mdinger/orgs",
      "repos_url": "https://api.github.com/users/mdinger/repos",
      "events_url": "https://api.github.com/users/mdinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mdinger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-09-06T05:16:14Z",
    "updated_at": "2014-09-06T14:21:04Z",
    "body": "I shrunk this to a much smaller test case.\n\nrgsl.rs:\n\n``` rust\nuse std::intrinsics::sinf64;\n\npub type function<T> = fn(x: f64, p: &mut T) -> f64;\n\nstruct InternParam<'r, T:'r> {\n    func: ::function<T>,\n    param: &'r mut T,\n    p2: f64\n}\n\nstruct fn_fourier_params<'r, T:'r> {\n    omega: f64,\n    function: &'r mut ::function<T>,\n    arg: &'r mut T\n}\n\nunsafe fn fn_sin<T>(x: f64, p: &mut fn_fourier_params<T>) -> f64 {\n    let f = p.function;\n    let w = p.omega;\n    let wx = w * x;\n    let sinwx = sinf64(wx);\n\n    f(x, p.arg) * sinwx\n}\n```\n\nBuild output:\n\n``` bash\n$ cargo build\n   Compiling rust-GSL v0.4.9 (file:///home/mdinger/Programs/gsl/rust-GSL)\nsrc/rgsl.rs:23:5: 23:16 error: internal compiler error: &mut fn(f64, &mut T) -> f64 was a subtype of &mut fn(<generic #15>, <generic #16>) -> <generic #14> but now is not?\nsrc/rgsl.rs:23     f(x, p.arg) * sinwx\n                   ^~~~~~~~~~~\nnote: the compiler hit an unexpected failure path. this is a bug.\nnote: we would appreciate a bug report: http://doc.rust-lang.org/complement-bugreport.html\nnote: run with `RUST_BACKTRACE=1` for a backtrace\ntask 'rustc' failed at 'Box<Any>', /home/rustbuild/src/rust-buildbot/slave/nightly-linux/build/src/libsyntax/ast_util.rs:776\n\n\nCould not compile `rust-GSL`.\n\nTo learn more, run the command again with --verbose.\n```\n\n[EDIT]\nI've edited this to be up to date with my repository.\nRemoved the branch after he got minimum testcase.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/54702974/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/54707972",
    "html_url": "https://github.com/rust-lang/rust/issues/17033#issuecomment-54707972",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/17033",
    "id": 54707972,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU0NzA3OTcy",
    "user": {
      "login": "GuillaumeGomez",
      "id": 3050060,
      "node_id": "MDQ6VXNlcjMwNTAwNjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/GuillaumeGomez",
      "html_url": "https://github.com/GuillaumeGomez",
      "followers_url": "https://api.github.com/users/GuillaumeGomez/followers",
      "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}",
      "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions",
      "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs",
      "repos_url": "https://api.github.com/users/GuillaumeGomez/repos",
      "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}",
      "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-09-06T09:51:49Z",
    "updated_at": "2014-09-06T09:51:49Z",
    "body": "It's a lot better like that, thanks !\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/54707972/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/54708667",
    "html_url": "https://github.com/rust-lang/rust/issues/17033#issuecomment-54708667",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/17033",
    "id": 54708667,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU0NzA4NjY3",
    "user": {
      "login": "ghost",
      "id": 10137,
      "node_id": "MDQ6VXNlcjEwMTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ghost",
      "html_url": "https://github.com/ghost",
      "followers_url": "https://api.github.com/users/ghost/followers",
      "following_url": "https://api.github.com/users/ghost/following{/other_user}",
      "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
      "organizations_url": "https://api.github.com/users/ghost/orgs",
      "repos_url": "https://api.github.com/users/ghost/repos",
      "events_url": "https://api.github.com/users/ghost/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ghost/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-09-06T10:27:02Z",
    "updated_at": "2014-09-06T10:27:11Z",
    "body": "Minimal:\n\n``` rust\nfn f<'r>(p: &'r mut fn(p: &mut ())) {\n    p(())\n}\n\nfn main() {}\n```\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/54708667/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/54798254",
    "html_url": "https://github.com/rust-lang/rust/issues/17033#issuecomment-54798254",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/17033",
    "id": 54798254,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU0Nzk4MjU0",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-09-08T10:03:44Z",
    "updated_at": "2014-09-08T10:03:44Z",
    "body": "cc me\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/54798254/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/59891628",
    "html_url": "https://github.com/rust-lang/rust/issues/17033#issuecomment-59891628",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/17033",
    "id": 59891628,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5ODkxNjI4",
    "user": {
      "login": "cakey",
      "id": 975331,
      "node_id": "MDQ6VXNlcjk3NTMzMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/975331?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cakey",
      "html_url": "https://github.com/cakey",
      "followers_url": "https://api.github.com/users/cakey/followers",
      "following_url": "https://api.github.com/users/cakey/following{/other_user}",
      "gists_url": "https://api.github.com/users/cakey/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cakey/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cakey/subscriptions",
      "organizations_url": "https://api.github.com/users/cakey/orgs",
      "repos_url": "https://api.github.com/users/cakey/repos",
      "events_url": "https://api.github.com/users/cakey/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cakey/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-10-21T07:55:06Z",
    "updated_at": "2014-10-21T07:58:34Z",
    "body": "Hey,\nWasn't sure where else to put this, but I came across a bug that seems similar:\n\nCode:\n\n```\nuse std::iter::AdditiveIterator;\n\nfn adder(args: [f64]) -> f64 {\n    args.sum()\n}\n\nfn main() {\n\n}\n```\n\nReport:\n\n```\n/Users/b.shaw/Projects/rust/bug.rs:4:5: 4:15 error: internal compiler error: &mut [f64] was a subtype of &mut <generic #38> but now is not?\n/Users/b.shaw/Projects/rust/bug.rs:4     args.sum()\n                                             ^~~~~~~~~~\nnote: the compiler hit an unexpected failure path. this is a bug.\nnote: we would appreciate a bug report: http://doc.rust-lang.org/complement-bugreport.html\nnote: run with `RUST_BACKTRACE=1` for a backtrace\ntask 'rustc' failed at 'Box<Any>', /Users/rustbuild/src/rust-buildbot/slave/nightly-mac/build/src/libsyntax/diagnostic.rs:116\n```\n\n(On Mac 10.10 nightly installer)\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/59891628/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/61098257",
    "html_url": "https://github.com/rust-lang/rust/issues/17033#issuecomment-61098257",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/17033",
    "id": 61098257,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxMDk4MjU3",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-10-30T14:17:26Z",
    "updated_at": "2014-10-30T14:17:45Z",
    "body": "@cakey I don't see that error when checking with a local build (at least not anymore). You may want to upgrade. Note also that the code is illegal.  A working version looks something like this (maybe there's a nicer way to do it, not sure):\n\n```\nuse std::iter::AdditiveIterator;\n\nfn adder(args: &[f64]) -> f64 {\n    args.iter().map(|x| *x).sum()\n}\n\nfn main() {\n\n}\n```\n\nUPDATE: fixed code example\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/61098257/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/61154060",
    "html_url": "https://github.com/rust-lang/rust/issues/17033#issuecomment-61154060",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/17033",
    "id": 61154060,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxMTU0MDYw",
    "user": {
      "login": "cakey",
      "id": 975331,
      "node_id": "MDQ6VXNlcjk3NTMzMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/975331?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cakey",
      "html_url": "https://github.com/cakey",
      "followers_url": "https://api.github.com/users/cakey/followers",
      "following_url": "https://api.github.com/users/cakey/following{/other_user}",
      "gists_url": "https://api.github.com/users/cakey/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cakey/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cakey/subscriptions",
      "organizations_url": "https://api.github.com/users/cakey/orgs",
      "repos_url": "https://api.github.com/users/cakey/repos",
      "events_url": "https://api.github.com/users/cakey/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cakey/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-10-30T19:19:16Z",
    "updated_at": "2014-10-30T19:19:16Z",
    "body": "@nikomatsakis Seems to be fixed! Nice.\nYeah I know the code was bad, but figured it still shouldn't crash the compiler!\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/61154060/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
