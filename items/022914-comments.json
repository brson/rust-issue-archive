[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/76563343",
    "html_url": "https://github.com/rust-lang/rust/issues/22914#issuecomment-76563343",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/22914",
    "id": 76563343,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2NTYzMzQz",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-01T01:50:23Z",
    "updated_at": "2015-03-01T01:50:23Z",
    "body": "`PhantomData<T>` allows you to describe that a type acts as if it stores a value of type `T`, e.g. maybe one is having to use opaque pointers or otherwise disguise the fact that there is a `T` contained in the value, or need to have a lifetime without having an actual `&` reference to attach it to.  This is what is meant by \"fake field\": a `PhantomData` field doesn't actually store any data, but it behaves as if it does.\n\nIf you have a lifetime, and the type is acting like a reference, then `PhantomData<&'a ...>` (or `PhantomData<&'a mut ...>`) is the recommended approach. It's hard to be more specific without knowing your exact use-case, though.\n\n---\n\nIn any case, the major motivation for `PhantomData` is to avoiding having to think in terms of co*variance, and instead just think of what the intended \"storage\" of a type is. The RFC is meant to serve as a technical reference to describe the behaviour unambiguously. I definitely agree that the current docs are not as helpful as they could be.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/76563343/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/76564157",
    "html_url": "https://github.com/rust-lang/rust/issues/22914#issuecomment-76564157",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/22914",
    "id": 76564157,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2NTY0MTU3",
    "user": {
      "login": "kornelski",
      "id": 72159,
      "node_id": "MDQ6VXNlcjcyMTU5",
      "avatar_url": "https://avatars.githubusercontent.com/u/72159?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kornelski",
      "html_url": "https://github.com/kornelski",
      "followers_url": "https://api.github.com/users/kornelski/followers",
      "following_url": "https://api.github.com/users/kornelski/following{/other_user}",
      "gists_url": "https://api.github.com/users/kornelski/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kornelski/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kornelski/subscriptions",
      "organizations_url": "https://api.github.com/users/kornelski/orgs",
      "repos_url": "https://api.github.com/users/kornelski/repos",
      "events_url": "https://api.github.com/users/kornelski/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kornelski/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-01T02:21:33Z",
    "updated_at": "2015-03-01T02:24:51Z",
    "body": "I see you've used lifetime as part of `PhantomData`'s type. In my code I've used `_marker: &'a std::marker::PhantomData<[u8]>` and got confusing error messages. That bit in the documentation would help a lot! (just saying `T` is very unhelpful)\n\nBTW: the first paragraph in your comment is already clearer to me than the documentation :)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/76564157/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/76574337",
    "html_url": "https://github.com/rust-lang/rust/issues/22914#issuecomment-76574337",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/22914",
    "id": 76574337,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2NTc0MzM3",
    "user": {
      "login": "mdinger",
      "id": 4156987,
      "node_id": "MDQ6VXNlcjQxNTY5ODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4156987?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mdinger",
      "html_url": "https://github.com/mdinger",
      "followers_url": "https://api.github.com/users/mdinger/followers",
      "following_url": "https://api.github.com/users/mdinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/mdinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mdinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mdinger/subscriptions",
      "organizations_url": "https://api.github.com/users/mdinger/orgs",
      "repos_url": "https://api.github.com/users/mdinger/repos",
      "events_url": "https://api.github.com/users/mdinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mdinger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-01T04:54:34Z",
    "updated_at": "2015-03-01T04:54:54Z",
    "body": "The [rustbyexample](http://rustbyexample.com/generics/phantom.html) example seems relevant. A previous example was referenced at the [mozilla research blog](https://blog.mozilla.org/research/2014/06/23/static-checking-of-units-in-servo/) though I think rustbyexample is clearer. Note that the syntax of this example has changed recently. That `PhantomData` didn't used to be required.\n\nIf indeed what you need is something similar, you should flag it on rustbyexample for a more practical example.\n\n@huonw I was only aware of using phantom types in for use cases like unit system manipulation and such. If you can provide the gist of what other things they can be used for I can probably shoehorn it into an rustbyexample example(s) (there's IRC if I get stuck). Though I don't know when I'd get to it.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/76574337/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/76582819",
    "html_url": "https://github.com/rust-lang/rust/issues/22914#issuecomment-76582819",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/22914",
    "id": 76582819,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2NTgyODE5",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-01T06:34:42Z",
    "updated_at": "2015-03-01T06:34:42Z",
    "body": "@mdinger `PhantomData` is designed as a low-level building block to enable certain types of unsafe code to be written safely. The relationship to phantom types (as used for dimensional analysis etc.) is the name (almost-coincidence) and the fact that the language doesn't allow type parameters to be left completely unused (meaning a phantom type has to be mentioned, e.g, in `PhantomData`, to let the code compile).\n\nAlmost instances of phantom types for dimensional analysis won't care about the precise variance (unlike unsafe/low-level code) and so just need to make the compiler shut up. :)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/76582819/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/76583086",
    "html_url": "https://github.com/rust-lang/rust/issues/22914#issuecomment-76583086",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/22914",
    "id": 76583086,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2NTgzMDg2",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-01T06:36:58Z",
    "updated_at": "2015-03-01T06:36:58Z",
    "body": "@pornel great that you've made progress!\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/76583086/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/76587875",
    "html_url": "https://github.com/rust-lang/rust/issues/22914#issuecomment-76587875",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/22914",
    "id": 76587875,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2NTg3ODc1",
    "user": {
      "login": "mdinger",
      "id": 4156987,
      "node_id": "MDQ6VXNlcjQxNTY5ODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4156987?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mdinger",
      "html_url": "https://github.com/mdinger",
      "followers_url": "https://api.github.com/users/mdinger/followers",
      "following_url": "https://api.github.com/users/mdinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/mdinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mdinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mdinger/subscriptions",
      "organizations_url": "https://api.github.com/users/mdinger/orgs",
      "repos_url": "https://api.github.com/users/mdinger/repos",
      "events_url": "https://api.github.com/users/mdinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mdinger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-01T08:31:08Z",
    "updated_at": "2015-03-01T08:31:08Z",
    "body": "Okay. The distinction between them is definitely unclear then too (in the docs).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/76587875/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/76748344",
    "html_url": "https://github.com/rust-lang/rust/issues/22914#issuecomment-76748344",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/22914",
    "id": 76748344,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2NzQ4MzQ0",
    "user": {
      "login": "bluss",
      "id": 3209739,
      "node_id": "MDQ6VXNlcjMyMDk3Mzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3209739?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bluss",
      "html_url": "https://github.com/bluss",
      "followers_url": "https://api.github.com/users/bluss/followers",
      "following_url": "https://api.github.com/users/bluss/following{/other_user}",
      "gists_url": "https://api.github.com/users/bluss/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bluss/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bluss/subscriptions",
      "organizations_url": "https://api.github.com/users/bluss/orgs",
      "repos_url": "https://api.github.com/users/bluss/repos",
      "events_url": "https://api.github.com/users/bluss/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bluss/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-02T16:46:42Z",
    "updated_at": "2015-03-02T16:46:42Z",
    "body": "If it's just to make the compiler shut up, then it's a good indication that the old default was better (not needing PhantomData for most unused type parameters).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/76748344/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/76749107",
    "html_url": "https://github.com/rust-lang/rust/issues/22914#issuecomment-76749107",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/22914",
    "id": 76749107,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2NzQ5MTA3",
    "user": {
      "login": "alexchandel",
      "id": 637714,
      "node_id": "MDQ6VXNlcjYzNzcxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/637714?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexchandel",
      "html_url": "https://github.com/alexchandel",
      "followers_url": "https://api.github.com/users/alexchandel/followers",
      "following_url": "https://api.github.com/users/alexchandel/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexchandel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexchandel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexchandel/subscriptions",
      "organizations_url": "https://api.github.com/users/alexchandel/orgs",
      "repos_url": "https://api.github.com/users/alexchandel/repos",
      "events_url": "https://api.github.com/users/alexchandel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexchandel/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-02T16:50:14Z",
    "updated_at": "2015-03-02T16:50:14Z",
    "body": "@pornel I sympathize. PhantomData and PhantomFn are Byzantine to me as well, and I'm hitting several issues in rlibc because of them.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/76749107/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/76753576",
    "html_url": "https://github.com/rust-lang/rust/issues/22914#issuecomment-76753576",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/22914",
    "id": 76753576,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2NzUzNTc2",
    "user": {
      "login": "kornelski",
      "id": 72159,
      "node_id": "MDQ6VXNlcjcyMTU5",
      "avatar_url": "https://avatars.githubusercontent.com/u/72159?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kornelski",
      "html_url": "https://github.com/kornelski",
      "followers_url": "https://api.github.com/users/kornelski/followers",
      "following_url": "https://api.github.com/users/kornelski/following{/other_user}",
      "gists_url": "https://api.github.com/users/kornelski/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kornelski/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kornelski/subscriptions",
      "organizations_url": "https://api.github.com/users/kornelski/orgs",
      "repos_url": "https://api.github.com/users/kornelski/repos",
      "events_url": "https://api.github.com/users/kornelski/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kornelski/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-02T17:11:28Z",
    "updated_at": "2015-03-02T17:11:28Z",
    "body": "@bluss [That bit me](http://stackoverflow.com/questions/28000462/how-to-specify-that-method-argument-must-have-longer-lifetime-than-selfs-lifeti), because unused parameter did absolutely nothing, even when I used a parameter with the same name a method. I don't mind having a marker, I just needed to learn how to use it.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/76753576/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/76843130",
    "html_url": "https://github.com/rust-lang/rust/issues/22914#issuecomment-76843130",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/22914",
    "id": 76843130,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2ODQzMTMw",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-02T22:42:13Z",
    "updated_at": "2015-03-02T22:45:33Z",
    "body": "> If it's just to make the compiler shut up, then it's a good indication that the old default was better (not needing PhantomData for most unused type parameters).\n\nTo be clear, it is just the use of 'unused' type parameters for dimensional analysis/tagging where the details of the precise `PhantomData` used aren't so important. It is _extremely_ important for data structures building on `unsafe` (or otherwise not using their lifetime/type parameters directly internally) to get their `PhantomData` uses correct, as they are actually informing the compiler of information necessary for safety. There has been a regular stream of bugs/problems discovered in types in this repo due to the old default not helping with `unsafe` code. (I imagine that many external libs with `unsafe` data structures have had to insert `PhantomData`'s since the change... meaning they were likely incorrect too.)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/76843130/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
