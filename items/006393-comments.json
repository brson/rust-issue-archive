[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/17731451",
    "html_url": "https://github.com/rust-lang/rust/issues/6393#issuecomment-17731451",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6393",
    "id": 17731451,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3NzMxNDUx",
    "user": {
      "login": "metajack",
      "id": 28357,
      "node_id": "MDQ6VXNlcjI4MzU3",
      "avatar_url": "https://avatars.githubusercontent.com/u/28357?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/metajack",
      "html_url": "https://github.com/metajack",
      "followers_url": "https://api.github.com/users/metajack/followers",
      "following_url": "https://api.github.com/users/metajack/following{/other_user}",
      "gists_url": "https://api.github.com/users/metajack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/metajack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/metajack/subscriptions",
      "organizations_url": "https://api.github.com/users/metajack/orgs",
      "repos_url": "https://api.github.com/users/metajack/repos",
      "events_url": "https://api.github.com/users/metajack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/metajack/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-05-10T16:52:01Z",
    "updated_at": "2013-05-10T16:52:01Z",
    "body": "nominating for production ready\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/17731451/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/17734236",
    "html_url": "https://github.com/rust-lang/rust/issues/6393#issuecomment-17734236",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6393",
    "id": 17734236,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3NzM0MjM2",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-05-10T17:44:39Z",
    "updated_at": "2013-05-10T17:44:39Z",
    "body": "I would call this either well-defined or backwards-compat.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/17734236/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/18014491",
    "html_url": "https://github.com/rust-lang/rust/issues/6393#issuecomment-18014491",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6393",
    "id": 18014491,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4MDE0NDkx",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-05-16T17:03:34Z",
    "updated_at": "2013-05-16T17:03:34Z",
    "body": "Examples from Jack\n\n[09:57:06] <jack1> https://github.com/mozilla/servo/blob/master/src/components/servo/layout/box_builder.rs#L387-L411\n[10:02:06] <jack1> https://github.com/mozilla/servo/pull/435\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/18014491/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/18014573",
    "html_url": "https://github.com/rust-lang/rust/issues/6393#issuecomment-18014573",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6393",
    "id": 18014573,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4MDE0NTcz",
    "user": {
      "login": "metajack",
      "id": 28357,
      "node_id": "MDQ6VXNlcjI4MzU3",
      "avatar_url": "https://avatars.githubusercontent.com/u/28357?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/metajack",
      "html_url": "https://github.com/metajack",
      "followers_url": "https://api.github.com/users/metajack/followers",
      "following_url": "https://api.github.com/users/metajack/following{/other_user}",
      "gists_url": "https://api.github.com/users/metajack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/metajack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/metajack/subscriptions",
      "organizations_url": "https://api.github.com/users/metajack/orgs",
      "repos_url": "https://api.github.com/users/metajack/repos",
      "events_url": "https://api.github.com/users/metajack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/metajack/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-05-16T17:04:52Z",
    "updated_at": "2013-05-16T17:04:52Z",
    "body": "The code got reorganized, but here is the specific appeasement of the borrow checker i had to do:\n\nhttps://github.com/metajack/servo/commit/5324cabbf8757fa68b1aa36548b992041be94ef9\n\nhttps://github.com/metajack/servo/commit/7234635aa580c8a821003882e77d8e043d247687\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/18014573/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/18127703",
    "html_url": "https://github.com/rust-lang/rust/issues/6393#issuecomment-18127703",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6393",
    "id": 18127703,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4MTI3NzAz",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-05-20T00:25:59Z",
    "updated_at": "2013-05-20T00:25:59Z",
    "body": "After some discussion, it's clear that the real problem here is that the borrow checker makes no effort to track aliases, but rather always relies on the region system to determine when a borrow goes out of scope. I am reluctant to change this, at least not in the short term, because there are a number of other outstanding issues I'd like to address first and any changes would be a significant modification to the borrow checker.  See issue #6613 for another related example and a somewhat detailed explanation.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/18127703/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/18128527",
    "html_url": "https://github.com/rust-lang/rust/issues/6393#issuecomment-18128527",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6393",
    "id": 18128527,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4MTI4NTI3",
    "user": {
      "login": "cscott",
      "id": 156080,
      "node_id": "MDQ6VXNlcjE1NjA4MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/156080?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cscott",
      "html_url": "https://github.com/cscott",
      "followers_url": "https://api.github.com/users/cscott/followers",
      "following_url": "https://api.github.com/users/cscott/following{/other_user}",
      "gists_url": "https://api.github.com/users/cscott/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cscott/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cscott/subscriptions",
      "organizations_url": "https://api.github.com/users/cscott/orgs",
      "repos_url": "https://api.github.com/users/cscott/repos",
      "events_url": "https://api.github.com/users/cscott/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cscott/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-05-20T01:17:05Z",
    "updated_at": "2013-05-20T01:17:05Z",
    "body": "I wonder if we could improve the error messages to make it more clear what's going on? Lexical scopes are relatively easy to understand, but in the examples of this issue that I've stumbled across it was by no means obvious what was going on.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/18128527/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/18358106",
    "html_url": "https://github.com/rust-lang/rust/issues/6393#issuecomment-18358106",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6393",
    "id": 18358106,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4MzU4MTA2",
    "user": {
      "login": "graydon",
      "id": 14097,
      "node_id": "MDQ6VXNlcjE0MDk3",
      "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/graydon",
      "html_url": "https://github.com/graydon",
      "followers_url": "https://api.github.com/users/graydon/followers",
      "following_url": "https://api.github.com/users/graydon/following{/other_user}",
      "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/graydon/subscriptions",
      "organizations_url": "https://api.github.com/users/graydon/orgs",
      "repos_url": "https://api.github.com/users/graydon/repos",
      "events_url": "https://api.github.com/users/graydon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/graydon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-05-23T17:18:13Z",
    "updated_at": "2013-05-23T17:18:13Z",
    "body": "just a bug, removing milestone/nomination.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/18358106/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/18358253",
    "html_url": "https://github.com/rust-lang/rust/issues/6393#issuecomment-18358253",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6393",
    "id": 18358253,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4MzU4MjUz",
    "user": {
      "login": "graydon",
      "id": 14097,
      "node_id": "MDQ6VXNlcjE0MDk3",
      "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/graydon",
      "html_url": "https://github.com/graydon",
      "followers_url": "https://api.github.com/users/graydon/followers",
      "following_url": "https://api.github.com/users/graydon/following{/other_user}",
      "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/graydon/subscriptions",
      "organizations_url": "https://api.github.com/users/graydon/orgs",
      "repos_url": "https://api.github.com/users/graydon/repos",
      "events_url": "https://api.github.com/users/graydon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/graydon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-05-23T17:20:26Z",
    "updated_at": "2013-05-23T17:20:26Z",
    "body": "accepted for far future milestone\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/18358253/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/21319289",
    "html_url": "https://github.com/rust-lang/rust/issues/6393#issuecomment-21319289",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6393",
    "id": 21319289,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxMzE5Mjg5",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-07-21T23:33:24Z",
    "updated_at": "2013-07-21T23:33:24Z",
    "body": "triage bump\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/21319289/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/24307095",
    "html_url": "https://github.com/rust-lang/rust/issues/6393#issuecomment-24307095",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6393",
    "id": 24307095,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0MzA3MDk1",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-09-12T10:00:28Z",
    "updated_at": "2013-09-12T10:00:28Z",
    "body": "I've had some thoughts about the best way to fix this. My basic plan is that we would have a notion of when a value \"escapes\". It will take some work to formalize that notion. Basically, when a borrowed pointer is created, we will then track whether it has escaped. When the pointer is [dead](http://en.wikipedia.org/wiki/Live_variable_analysis), if it is has not escaped, this can be considered to kill the loan. This basic idea covers cases like \"let p = &...; use-p-a-bit-but-never-again; expect-loan-to-be-expired-here;\" Part of the analysis will be a rule that indicates when a return value that contains a borrowed pointer can be considered not to have escaped yet. This would cover cases like \"match table.find(...) { ... None => { expect-table-not-to-be-loaned-here; } }\"\n\nThe most  interesting part of all this is the escaping rules, of course. I think that the rules would have to take into account the formal definition of the function, and in particular to take advantage of the knowledge bound lifetimes give us. For example, most escape analyses would consider a pointer `p` to escape if they see a call like `foo(p)`. But we would not necessarily have to do so. If the function were declared as:\n\n```\nfn foo<'a>(x: &'a T) { ... }\n```\n\nthen in fact we know that `foo` does not hold on to `p` for any longer than the lifetime `a`. However, a function like `bar` would have to be considered as escaping:\n\n```\nfn bar<'a>(x: &'a T, y: &mut &'a T)\n```\n\nSo presumably the escaping rules would have to consider whether the bound lifetime appeared in a mutable location or not. This is effectively a form of type-based alias analysis. Similar reasoning I think applies to function return values. Hence `find` ought to be considered to return a non-escaped result:\n\n```\nfn find<'a>(&'a self, k: &K) -> Option<&'a V>\n```\n\nThe reason here is that because `'a` is bound on `find`, it cannot appear in the `Self` or `K` type parameters, and hence we know it can't be stored in those, and it does not appear in any mutable locations. (Note that we can apply the same inference algorithm as is used today and which will be used as part of the fix for #3598 to tell us whether lifetimes appears in a mutable location)\n\nAnother way to think about this is not that the loan is expired _early_, but rather that the scope of a loan begins (typically) as tied to the borrowed _variable_ and not the full lifetime, and is only promoted to the full lifetime when the variable _escapes_. \n\nReborrows are a slight complication, but they can be handled in various ways. A reborrow is when you borrow the contents of a borrowed pointer -- they happen _all the time_ because the compiler inserts them automatically into almost every method call. Consider a borowed pointer `let p = &v` and a reborrow like `let q = &*p`. It'd be nice if when `q` was dead, you could use `p` again -- and if both `p` and `q` were dead, you could use `v` again (presuming neither `p` nor `q` escapes). The complication here is that if `q` escapes, `p` must be considered escaped up until the lifetime of `q` expires. But I think that this falls out _somewhat_ naturally from how we handle it today: that is, the compiler notes that `q` has borrowed `p` for (initially) the lifetime \"q\" (that is, of the variable itself) and if `q` should escape, that would be promoted to the full lexical lifetime. I guess the tricky part is in the dataflow, knowing where to insert the kills -- we can't insert the kill for `p` right away when `p` goes dead if it is reborrowed. Oh well, I'll not waste more time on this, it seems do-able, and at worst there are simpler solutions that would be adequate for common situations (e.g., consider `p` to have escaped for the full lifetime of `q`, regardless of whether the `q` loan escapes or not).\n\nAnyway, more thought is warranted, but I'm starting to see how this could work. I'm still reluctant to embark on any extensions like this until #2202 and #8624 are fixed, those being the two known problems with borrowck. I'd also like to have more progress on a soundness proof before we go about extending the system. The other extension that is on the timeline is #6268.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/24307095/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/25407184",
    "html_url": "https://github.com/rust-lang/rust/issues/6393#issuecomment-25407184",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6393",
    "id": 25407184,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1NDA3MTg0",
    "user": {
      "login": "toffaletti",
      "id": 145012,
      "node_id": "MDQ6VXNlcjE0NTAxMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/145012?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/toffaletti",
      "html_url": "https://github.com/toffaletti",
      "followers_url": "https://api.github.com/users/toffaletti/followers",
      "following_url": "https://api.github.com/users/toffaletti/following{/other_user}",
      "gists_url": "https://api.github.com/users/toffaletti/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/toffaletti/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/toffaletti/subscriptions",
      "organizations_url": "https://api.github.com/users/toffaletti/orgs",
      "repos_url": "https://api.github.com/users/toffaletti/repos",
      "events_url": "https://api.github.com/users/toffaletti/events{/privacy}",
      "received_events_url": "https://api.github.com/users/toffaletti/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-09-30T21:17:50Z",
    "updated_at": "2013-09-30T21:17:50Z",
    "body": "I believe I've run into this bug. My use-case and work-around attempts:\n\nhttps://gist.github.com/toffaletti/6770126\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/25407184/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/30665145",
    "html_url": "https://github.com/rust-lang/rust/issues/6393#issuecomment-30665145",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6393",
    "id": 30665145,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwNjY1MTQ1",
    "user": {
      "login": "ezyang",
      "id": 13564,
      "node_id": "MDQ6VXNlcjEzNTY0",
      "avatar_url": "https://avatars.githubusercontent.com/u/13564?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ezyang",
      "html_url": "https://github.com/ezyang",
      "followers_url": "https://api.github.com/users/ezyang/followers",
      "following_url": "https://api.github.com/users/ezyang/following{/other_user}",
      "gists_url": "https://api.github.com/users/ezyang/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ezyang/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ezyang/subscriptions",
      "organizations_url": "https://api.github.com/users/ezyang/orgs",
      "repos_url": "https://api.github.com/users/ezyang/repos",
      "events_url": "https://api.github.com/users/ezyang/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ezyang/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-12-16T14:42:50Z",
    "updated_at": "2013-12-16T14:42:50Z",
    "body": "Here's another example of this bug (I think):\n\n``` rust\nuse std::util;\n\nenum List<T> {\n    Cons(T, ~List<T>),\n    Nil\n}\n\nfn find_mut<'a,T>(prev: &'a mut ~List<T>, pred: |&T| -> bool) -> Option<&'a mut ~List<T>> {\n    match prev {\n        &~Cons(ref x, _) if pred(x) => {}, // NB: can't return Some(prev) here\n        &~Cons(_, ref mut rs) => return find_mut(rs, pred),\n        &~Nil => return None\n    };\n    return Some(prev)\n}\n```\n\nI'd like to write:\n\n``` rust\nfn find_mut<'a,T>(prev: &'a mut ~List<T>, pred: |&T| -> bool) -> Option<&'a mut ~List<T>> {\n    match prev {\n        &~Cons(ref x, _) if pred(x) => return Some(prev),\n        &~Cons(_, ref mut rs) => return find_mut(rs, pred),\n        &~Nil => return None\n    }\n}\n```\n\nreasoning that the `x` borrow goes dead as soon as we finish evaluating the predicate, but of course, the borrow extends for the entire match right now.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/30665145/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/34622564",
    "html_url": "https://github.com/rust-lang/rust/issues/6393#issuecomment-34622564",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6393",
    "id": 34622564,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NjIyNTY0",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-02-10T11:39:54Z",
    "updated_at": "2014-02-10T11:39:54Z",
    "body": "I've had more thoughts about how to code this up. My basic plan is that for each loan there would be two bits: an escaped version and a non-escaped version. Initially we add the non-escaped version. When a reference escapes, we add the escaped bits. When a variable (or temporary, etc) goes dead, we kill the non-escaped bits -- but leave the escaped bits (if set) untouched. I believe this covers all major examples.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/34622564/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/34634335",
    "html_url": "https://github.com/rust-lang/rust/issues/6393#issuecomment-34634335",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6393",
    "id": 34634335,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NjM0MzM1",
    "user": {
      "login": "flaper87",
      "id": 13816,
      "node_id": "MDQ6VXNlcjEzODE2",
      "avatar_url": "https://avatars.githubusercontent.com/u/13816?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/flaper87",
      "html_url": "https://github.com/flaper87",
      "followers_url": "https://api.github.com/users/flaper87/followers",
      "following_url": "https://api.github.com/users/flaper87/following{/other_user}",
      "gists_url": "https://api.github.com/users/flaper87/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/flaper87/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/flaper87/subscriptions",
      "organizations_url": "https://api.github.com/users/flaper87/orgs",
      "repos_url": "https://api.github.com/users/flaper87/repos",
      "events_url": "https://api.github.com/users/flaper87/events{/privacy}",
      "received_events_url": "https://api.github.com/users/flaper87/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-02-10T14:04:44Z",
    "updated_at": "2014-02-10T14:04:44Z",
    "body": "cc @flaper87\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/34634335/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/34984540",
    "html_url": "https://github.com/rust-lang/rust/issues/6393#issuecomment-34984540",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6393",
    "id": 34984540,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0OTg0NTQw",
    "user": {
      "login": "arjantop",
      "id": 52403,
      "node_id": "MDQ6VXNlcjUyNDAz",
      "avatar_url": "https://avatars.githubusercontent.com/u/52403?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/arjantop",
      "html_url": "https://github.com/arjantop",
      "followers_url": "https://api.github.com/users/arjantop/followers",
      "following_url": "https://api.github.com/users/arjantop/following{/other_user}",
      "gists_url": "https://api.github.com/users/arjantop/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/arjantop/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/arjantop/subscriptions",
      "organizations_url": "https://api.github.com/users/arjantop/orgs",
      "repos_url": "https://api.github.com/users/arjantop/repos",
      "events_url": "https://api.github.com/users/arjantop/events{/privacy}",
      "received_events_url": "https://api.github.com/users/arjantop/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-02-13T14:48:01Z",
    "updated_at": "2014-02-13T14:48:01Z",
    "body": "Does this issue cover this?\n\n```\nuse std::io::{MemReader, EndOfFile, IoResult};\n\nfn read_block<'a>(r: &mut Reader, buf: &'a mut [u8]) -> IoResult<&'a [u8]> {\n    match r.read(buf) {\n        Ok(len) => Ok(buf.slice_to(len)),\n        Err(err) => {\n            if err.kind == EndOfFile {\n                Ok(buf.slice_to(0))\n            } else {\n                Err(err)\n            }\n        }\n    }\n}\n\nfn main() {\n    let mut buf = [0u8, ..2];\n    let mut reader = MemReader::new(~[67u8, ..10]);\n    let mut block = read_block(&mut reader, buf);\n    loop {\n        //process block\n        block = read_block(&mut reader, buf); //error here\n}\n```\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/34984540/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/36047536",
    "html_url": "https://github.com/rust-lang/rust/issues/6393#issuecomment-36047536",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6393",
    "id": 36047536,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2MDQ3NTM2",
    "user": {
      "login": "lilyball",
      "id": 714,
      "node_id": "MDQ6VXNlcjcxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/714?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lilyball",
      "html_url": "https://github.com/lilyball",
      "followers_url": "https://api.github.com/users/lilyball/followers",
      "following_url": "https://api.github.com/users/lilyball/following{/other_user}",
      "gists_url": "https://api.github.com/users/lilyball/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lilyball/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lilyball/subscriptions",
      "organizations_url": "https://api.github.com/users/lilyball/orgs",
      "repos_url": "https://api.github.com/users/lilyball/repos",
      "events_url": "https://api.github.com/users/lilyball/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lilyball/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-02-25T19:28:38Z",
    "updated_at": "2014-02-25T19:28:38Z",
    "body": "cc me\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/36047536/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/40485306",
    "html_url": "https://github.com/rust-lang/rust/issues/6393#issuecomment-40485306",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6393",
    "id": 40485306,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNDg1MzA2",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-04-15T14:08:23Z",
    "updated_at": "2014-04-15T14:08:23Z",
    "body": "Good examples in #9113 \n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/40485306/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/41272541",
    "html_url": "https://github.com/rust-lang/rust/issues/6393#issuecomment-41272541",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6393",
    "id": 41272541,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMjcyNTQx",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-04-24T12:12:10Z",
    "updated_at": "2014-04-24T12:12:10Z",
    "body": "cc me\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/41272541/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/43577689",
    "html_url": "https://github.com/rust-lang/rust/issues/6393#issuecomment-43577689",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6393",
    "id": 43577689,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNTc3Njg5",
    "user": {
      "login": "SergioBenitez",
      "id": 1480321,
      "node_id": "MDQ6VXNlcjE0ODAzMjE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1480321?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SergioBenitez",
      "html_url": "https://github.com/SergioBenitez",
      "followers_url": "https://api.github.com/users/SergioBenitez/followers",
      "following_url": "https://api.github.com/users/SergioBenitez/following{/other_user}",
      "gists_url": "https://api.github.com/users/SergioBenitez/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SergioBenitez/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SergioBenitez/subscriptions",
      "organizations_url": "https://api.github.com/users/SergioBenitez/orgs",
      "repos_url": "https://api.github.com/users/SergioBenitez/repos",
      "events_url": "https://api.github.com/users/SergioBenitez/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SergioBenitez/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-05-20T01:30:13Z",
    "updated_at": "2014-05-20T01:30:13Z",
    "body": "I could be mistaken, but the following code seems to be hitting this bug as well:\n\n```\nstruct MyThing<'r> {\n  int_ref: &'r int,\n  val: int\n}\n\nimpl<'r> MyThing<'r> {\n  fn new(int_ref: &'r int, val: int) -> MyThing<'r> {\n    MyThing {\n      int_ref: int_ref,\n      val: val\n    }\n  }\n\n  fn set_val(&'r mut self, val: int) {\n    self.val = val;\n  }\n}\n\n\nfn main() {\n  let to_ref = 10;\n  let mut thing = MyThing::new(&to_ref, 30);\n  thing.set_val(50);\n\n  println!(\"{}\", thing.val);\n}\n```\n\nIdeally, the mutable borrow caused by calling set_val would end as soon as the function returns. Note that removing the 'int_ref' field from the struct (and associated code) causes the issue to go away. The behavior is inconsistent.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/43577689/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/43578596",
    "html_url": "https://github.com/rust-lang/rust/issues/6393#issuecomment-43578596",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6393",
    "id": 43578596,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNTc4NTk2",
    "user": {
      "login": "lilyball",
      "id": 714,
      "node_id": "MDQ6VXNlcjcxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/714?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lilyball",
      "html_url": "https://github.com/lilyball",
      "followers_url": "https://api.github.com/users/lilyball/followers",
      "following_url": "https://api.github.com/users/lilyball/following{/other_user}",
      "gists_url": "https://api.github.com/users/lilyball/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lilyball/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lilyball/subscriptions",
      "organizations_url": "https://api.github.com/users/lilyball/orgs",
      "repos_url": "https://api.github.com/users/lilyball/repos",
      "events_url": "https://api.github.com/users/lilyball/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lilyball/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-05-20T01:49:10Z",
    "updated_at": "2014-05-20T01:49:10Z",
    "body": "@SergioBenitez I don't think that's the same issue. You're explicitly requesting that the lifetime of the `&mut self` reference be the same as the lifetime of the struct.\n\nBut you don't need to do this. You don't need a lifetime in `set_val()` at all.\n\n``` rust\nfn set_val(&mut self, val: int) {\n    self.val = val;\n}\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/43578596/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/57673221",
    "html_url": "https://github.com/rust-lang/rust/issues/6393#issuecomment-57673221",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6393",
    "id": 57673221,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3NjczMjIx",
    "user": {
      "login": "emk",
      "id": 36963,
      "node_id": "MDQ6VXNlcjM2OTYz",
      "avatar_url": "https://avatars.githubusercontent.com/u/36963?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emk",
      "html_url": "https://github.com/emk",
      "followers_url": "https://api.github.com/users/emk/followers",
      "following_url": "https://api.github.com/users/emk/following{/other_user}",
      "gists_url": "https://api.github.com/users/emk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emk/subscriptions",
      "organizations_url": "https://api.github.com/users/emk/orgs",
      "repos_url": "https://api.github.com/users/emk/repos",
      "events_url": "https://api.github.com/users/emk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emk/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-10-02T18:01:37Z",
    "updated_at": "2014-10-02T18:01:37Z",
    "body": "I found another case that's pretty tricky to fix:\n\n``` rust\n/// A buffer which breaks chunks only after the specified boundary\n/// sequence, or at the end of a file, but nowhere else.\npub struct ChunkBuffer<'a, T: Buffer+'a> {\n    input:  &'a mut T,\n    boundary: Vec<u8>,\n    buffer: Vec<u8>\n}\n\nimpl<'a, T: Buffer+'a> ChunkBuffer<'a,T> {\n    // Called internally to make `buffer` valid.  This is where all our\n    // evil magic lives.\n    fn top_up<'b>(&'b mut self) -> IoResult<&'b [u8]> {\n        // ...\n    }\n}\n\nimpl<'a,T: Buffer+'a> Buffer for ChunkBuffer<'a,T> {\n    fn fill_buf<'a>(&'a mut self) -> IoResult<&'a [u8]> {\n        if self.buffer.as_slice().contains_slice(self.boundary.as_slice()) {\n            // Exit 1: Valid data in our local buffer.\n            Ok(self.buffer.as_slice())\n        } else if self.buffer.len() > 0 {\n            // Exit 2: Add some more data to our local buffer so that it's\n            // valid (see invariants for top_up).\n            self.top_up()\n        } else {\n            {\n                // Exit 3: Exit on error.\n                let read = try!(self.input.fill_buf());\n                if read.contains_slice(self.boundary.as_slice()) {\n                    // Exit 4: Valid input from self.input. Yay!\n                    return Ok(read)\n                }\n            }\n            // Exit 5: Accumulate sufficient data in our local buffer (see\n            // invariants for top_up).\n            self.top_up()\n        }\n    }\n```\n\n\u2026which gives:\n\n```\n/path/to/mylib/src/buffer.rs:168:13: 168:17 error: cannot borrow `*self` as mutable more than once at a time\n/path/to/mylib/src/buffer.rs:168             self.top_up()\n                                                        ^~~~\n/path/to/mylib/src/buffer.rs:160:33: 160:43 note: previous borrow of `*self.input` occurs here; the mutable borrow prevents subsequent moves, borrows, or modification of `*self.input` until the borrow ends\n/path/to/mylib/src/buffer.rs:160                 let read = try!(self.input.fill_buf());\n                                                                            ^~~~~~~~~~\n<std macros>:1:1: 3:2 note: in expansion of try!\n/path/to/mylib/src/buffer.rs:160:28: 160:56 note: expansion site\n/path/to/mylib/src/buffer.rs:170:6: 170:6 note: previous borrow ends here\n/path/to/mylib/src/buffer.rs:149     fn fill_buf<'a>(&'a mut self) -> IoResult<&'a [u8]> {\n...\n/path/to/mylib/src/buffer.rs:170     }\n```\n\nThis is basically equivalent to #12147. The variable `read` is buried in an inner scope, but the `return` binds `read`'s lifetime to that of the entire function. Most of the obvious workarounds fail:\n1. I can't call `input.fill_buf` twice, because the `Buffer` interface doesn't guarantee that it returns the data I just validated the second time. If I _do_ try this, the code is technically incorrect but the type checker passes it happily.\n2. I can't do much about `top_up`, because it's an evil piece of code that needs to mutate everything in complicated ways.\n3. I can't move the offending bind+test+return into another function, because the new API will still have all the same issues (unless `if let` allows me to test _then_ bind?).\n\nIt almost feels as if the `'a` constraint ideally shouldn't get propagated the whole way back to `read`. but I'm in over my head here. I'm going to try `if let` next.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/57673221/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/57682957",
    "html_url": "https://github.com/rust-lang/rust/issues/6393#issuecomment-57682957",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6393",
    "id": 57682957,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3NjgyOTU3",
    "user": {
      "login": "emk",
      "id": 36963,
      "node_id": "MDQ6VXNlcjM2OTYz",
      "avatar_url": "https://avatars.githubusercontent.com/u/36963?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emk",
      "html_url": "https://github.com/emk",
      "followers_url": "https://api.github.com/users/emk/followers",
      "following_url": "https://api.github.com/users/emk/following{/other_user}",
      "gists_url": "https://api.github.com/users/emk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emk/subscriptions",
      "organizations_url": "https://api.github.com/users/emk/orgs",
      "repos_url": "https://api.github.com/users/emk/repos",
      "events_url": "https://api.github.com/users/emk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emk/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-10-02T18:49:30Z",
    "updated_at": "2014-10-02T18:49:30Z",
    "body": "Well, `if let` didn't make it into the build last night, but since it's supposedly just an AST rewrite, I guess it probably fails in the same way as `match` does (which I've also tried here).\n\nI'm not sure how to proceed, short of using `unsafe`.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/57682957/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/57700520",
    "html_url": "https://github.com/rust-lang/rust/issues/6393#issuecomment-57700520",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6393",
    "id": 57700520,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3NzAwNTIw",
    "user": {
      "login": "emk",
      "id": 36963,
      "node_id": "MDQ6VXNlcjM2OTYz",
      "avatar_url": "https://avatars.githubusercontent.com/u/36963?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emk",
      "html_url": "https://github.com/emk",
      "followers_url": "https://api.github.com/users/emk/followers",
      "following_url": "https://api.github.com/users/emk/following{/other_user}",
      "gists_url": "https://api.github.com/users/emk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emk/subscriptions",
      "organizations_url": "https://api.github.com/users/emk/orgs",
      "repos_url": "https://api.github.com/users/emk/repos",
      "events_url": "https://api.github.com/users/emk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emk/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-10-02T20:33:26Z",
    "updated_at": "2014-10-02T20:33:26Z",
    "body": "My current hack here looks like this:\n\n``` rust\nimpl<'a,T: Buffer+'a> Buffer for ChunkBuffer<'a,T> {\n    fn fill_buf<'a>(&'a mut self) -> IoResult<&'a [u8]> {\n        // ...\n\n            { // Block A.\n                let read_or_err = self.input.fill_buf();\n                match read_or_err {\n                    Err(err) => { return Err(err); }\n                    Ok(read) => {\n                        if read.contains_slice(self.boundary.as_slice()) {\n                               return Ok(unsafe { transmute(read) });\n                        }\n                    }\n                }\n            }\n            self.top_up()\n```\n\nThe theory here is that I'm dropping the lifetime off of `read` (which was bound to `self.input`), and immediately applying a new lifetime based on `self`, which owns `self.input`. Ideally, I want `read` to have a lexical lifetime equal to Block A, and I don't want it to get hoisted up to the _lexical_ block level just because I passed it to `return`. Obviously the lifetime checker still needs to prove that the result has a lifetime compatible with `'a`, but I don't understand why that means LIFETIME(`read`) needs to be unified with LIFETIME(`'a`).\n\nIt's entirely possible that I'm massively confused, or that my code is horribly unsafe. :-) But it does feel like this should work, if only because I can call `return self.input.fill_buf()` without any problem at all. Is there any way to formalize that intuition?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/57700520/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/57838657",
    "html_url": "https://github.com/rust-lang/rust/issues/6393#issuecomment-57838657",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6393",
    "id": 57838657,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3ODM4NjU3",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-10-03T18:57:30Z",
    "updated_at": "2014-10-03T18:57:30Z",
    "body": "@emk so this is the \"hard code\" that SEME regions (that is, non-lexical regions) do not fix, at least not by themselves. I have some ideas for how to fix it nicely in the compiler, but it's a non-trivial extension to SEME regions. There is usually a way to workaround this by restructuring the code. Let me see if I can play around with it and produce a nice example.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/57838657/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/58517921",
    "html_url": "https://github.com/rust-lang/rust/issues/6393#issuecomment-58517921",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6393",
    "id": 58517921,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4NTE3OTIx",
    "user": {
      "login": "bstrie",
      "id": 865233,
      "node_id": "MDQ6VXNlcjg2NTIzMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/865233?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bstrie",
      "html_url": "https://github.com/bstrie",
      "followers_url": "https://api.github.com/users/bstrie/followers",
      "following_url": "https://api.github.com/users/bstrie/following{/other_user}",
      "gists_url": "https://api.github.com/users/bstrie/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bstrie/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bstrie/subscriptions",
      "organizations_url": "https://api.github.com/users/bstrie/orgs",
      "repos_url": "https://api.github.com/users/bstrie/repos",
      "events_url": "https://api.github.com/users/bstrie/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bstrie/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-10-09T14:31:33Z",
    "updated_at": "2014-10-09T14:31:33Z",
    "body": "I would like to know if this is being reconsidered for 1.0. This has been coming up a _lot_ recently, and I fear that this will vault from a papercut to a flesh wound once 1.0 brings a rush of attention. As Rust's most visible and talked-about feature, it's very important for borrowing to be polished and usable.\n\nIs there a timeframe on an RFC for this?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/58517921/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/58558808",
    "html_url": "https://github.com/rust-lang/rust/issues/6393#issuecomment-58558808",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6393",
    "id": 58558808,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4NTU4ODA4",
    "user": {
      "login": "Gankra",
      "id": 1136864,
      "node_id": "MDQ6VXNlcjExMzY4NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1136864?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Gankra",
      "html_url": "https://github.com/Gankra",
      "followers_url": "https://api.github.com/users/Gankra/followers",
      "following_url": "https://api.github.com/users/Gankra/following{/other_user}",
      "gists_url": "https://api.github.com/users/Gankra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Gankra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Gankra/subscriptions",
      "organizations_url": "https://api.github.com/users/Gankra/orgs",
      "repos_url": "https://api.github.com/users/Gankra/repos",
      "events_url": "https://api.github.com/users/Gankra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Gankra/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-10-09T18:51:49Z",
    "updated_at": "2014-10-09T18:51:49Z",
    "body": "@nikomatsakis I have a real-world simple example that fell out of working on the Entry API, if it helps:\n\n```\nuse std::collections::SmallIntMap;\n\nenum Foo<'a>{ A(&'a mut SmallIntMap<uint>), B(&'a mut uint) }\n\nfn main() {\n    let mut map = SmallIntMap::<uint>::new();\n    do_stuff(&mut map);\n}\n\nfn do_stuff(map: &mut SmallIntMap<uint>) -> Foo {\n    match map.find_mut(&1) {\n        None => {},  // Definitely can't return A here because of lexical scopes\n        Some(val) => return B(val),\n    }\n    return A(map); // ERROR: borrowed at find_mut???\n}\n```\n\n[playpen](http://is.gd/9bL7vw)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/58558808/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/58562193",
    "html_url": "https://github.com/rust-lang/rust/issues/6393#issuecomment-58562193",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6393",
    "id": 58562193,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4NTYyMTkz",
    "user": {
      "login": "aturon",
      "id": 709807,
      "node_id": "MDQ6VXNlcjcwOTgwNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/709807?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aturon",
      "html_url": "https://github.com/aturon",
      "followers_url": "https://api.github.com/users/aturon/followers",
      "following_url": "https://api.github.com/users/aturon/following{/other_user}",
      "gists_url": "https://api.github.com/users/aturon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aturon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aturon/subscriptions",
      "organizations_url": "https://api.github.com/users/aturon/orgs",
      "repos_url": "https://api.github.com/users/aturon/repos",
      "events_url": "https://api.github.com/users/aturon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aturon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-10-09T19:14:49Z",
    "updated_at": "2014-10-09T19:14:49Z",
    "body": "@bstrie Both @pcwalton and @zwarich spent some time trying to actually implement this work (with a possible RFC coming hand-in-hand). They ran into some unexpected complexity that means it would take much more work than hoped. I think everyone agrees with you that these limitations are important and can impact the first impression of the language, but it's hard to balance that against backwards-incompatible changes that are already scheduled.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/58562193/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/59214065",
    "html_url": "https://github.com/rust-lang/rust/issues/6393#issuecomment-59214065",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6393",
    "id": 59214065,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5MjE0MDY1",
    "user": {
      "login": "ntrel",
      "id": 1107820,
      "node_id": "MDQ6VXNlcjExMDc4MjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1107820?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ntrel",
      "html_url": "https://github.com/ntrel",
      "followers_url": "https://api.github.com/users/ntrel/followers",
      "following_url": "https://api.github.com/users/ntrel/following{/other_user}",
      "gists_url": "https://api.github.com/users/ntrel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ntrel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ntrel/subscriptions",
      "organizations_url": "https://api.github.com/users/ntrel/orgs",
      "repos_url": "https://api.github.com/users/ntrel/repos",
      "events_url": "https://api.github.com/users/ntrel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ntrel/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-10-15T14:30:58Z",
    "updated_at": "2014-10-15T14:30:58Z",
    "body": "https://github.com/rust-lang/rfcs/pull/396\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/59214065/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/68172918",
    "html_url": "https://github.com/rust-lang/rust/issues/6393#issuecomment-68172918",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6393",
    "id": 68172918,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4MTcyOTE4",
    "user": {
      "login": "blaenk",
      "id": 84680,
      "node_id": "MDQ6VXNlcjg0Njgw",
      "avatar_url": "https://avatars.githubusercontent.com/u/84680?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/blaenk",
      "html_url": "https://github.com/blaenk",
      "followers_url": "https://api.github.com/users/blaenk/followers",
      "following_url": "https://api.github.com/users/blaenk/following{/other_user}",
      "gists_url": "https://api.github.com/users/blaenk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/blaenk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/blaenk/subscriptions",
      "organizations_url": "https://api.github.com/users/blaenk/orgs",
      "repos_url": "https://api.github.com/users/blaenk/repos",
      "events_url": "https://api.github.com/users/blaenk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/blaenk/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-12-27T08:50:59Z",
    "updated_at": "2014-12-30T03:21:33Z",
    "body": "I feel that if this isn't resolved by 1.0, it's the kind of thing that will lead people to blame the borrow checking approach altogether, when this problem isn't an inherently unsolvable problem with borrow checking AFAIK.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/68172918/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/68599177",
    "html_url": "https://github.com/rust-lang/rust/issues/6393#issuecomment-68599177",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6393",
    "id": 68599177,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4NTk5MTc3",
    "user": {
      "login": "mtanski",
      "id": 41035,
      "node_id": "MDQ6VXNlcjQxMDM1",
      "avatar_url": "https://avatars.githubusercontent.com/u/41035?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mtanski",
      "html_url": "https://github.com/mtanski",
      "followers_url": "https://api.github.com/users/mtanski/followers",
      "following_url": "https://api.github.com/users/mtanski/following{/other_user}",
      "gists_url": "https://api.github.com/users/mtanski/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mtanski/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mtanski/subscriptions",
      "organizations_url": "https://api.github.com/users/mtanski/orgs",
      "repos_url": "https://api.github.com/users/mtanski/repos",
      "events_url": "https://api.github.com/users/mtanski/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mtanski/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-03T15:56:29Z",
    "updated_at": "2015-01-03T15:56:29Z",
    "body": "@blaenk It's hard not to blame the borrow checker, I've run into this and similar (like @Gankro) on a daily basis. It's frustrating when the the usual solution is gyrations (eg. a work around) / or comments to restructure your code to be more \"immutable\", functional, etc.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/68599177/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/68607950",
    "html_url": "https://github.com/rust-lang/rust/issues/6393#issuecomment-68607950",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6393",
    "id": 68607950,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4NjA3OTUw",
    "user": {
      "login": "blaenk",
      "id": 84680,
      "node_id": "MDQ6VXNlcjg0Njgw",
      "avatar_url": "https://avatars.githubusercontent.com/u/84680?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/blaenk",
      "html_url": "https://github.com/blaenk",
      "followers_url": "https://api.github.com/users/blaenk/followers",
      "following_url": "https://api.github.com/users/blaenk/following{/other_user}",
      "gists_url": "https://api.github.com/users/blaenk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/blaenk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/blaenk/subscriptions",
      "organizations_url": "https://api.github.com/users/blaenk/orgs",
      "repos_url": "https://api.github.com/users/blaenk/repos",
      "events_url": "https://api.github.com/users/blaenk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/blaenk/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-03T20:16:15Z",
    "updated_at": "2015-01-03T20:16:15Z",
    "body": "@mtanski Yeah, but the fault _does_ lie in the borrow checker AFAIK, it's not incorrect to blame it. What I'm referring to is that it may lead newcomers to believe that it's an inherent, fundamental, unsolvable problem with the borrow checking _approach_, which is a pretty insidious, and AFAIK, incorrect, belief.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/68607950/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/89847753",
    "html_url": "https://github.com/rust-lang/rust/issues/6393#issuecomment-89847753",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6393",
    "id": 89847753,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg5ODQ3NzUz",
    "user": {
      "login": "userxfce",
      "id": 663793,
      "node_id": "MDQ6VXNlcjY2Mzc5Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/663793?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/userxfce",
      "html_url": "https://github.com/userxfce",
      "followers_url": "https://api.github.com/users/userxfce/followers",
      "following_url": "https://api.github.com/users/userxfce/following{/other_user}",
      "gists_url": "https://api.github.com/users/userxfce/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/userxfce/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/userxfce/subscriptions",
      "organizations_url": "https://api.github.com/users/userxfce/orgs",
      "repos_url": "https://api.github.com/users/userxfce/repos",
      "events_url": "https://api.github.com/users/userxfce/events{/privacy}",
      "received_events_url": "https://api.github.com/users/userxfce/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-05T20:33:37Z",
    "updated_at": "2015-04-05T20:37:15Z",
    "body": "For the case: \"let p = &...; use-p-a-bit-but-never-again; expect-loan-to-be-expired-here;\" I would find acceptable for now a kill(p) instruction to manually declare end of scope for that borrow. Later versions could simply ignore this instruction if it is not needed or flag it as an error if re-use of p is detected after it.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/89847753/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/89848449",
    "html_url": "https://github.com/rust-lang/rust/issues/6393#issuecomment-89848449",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6393",
    "id": 89848449,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg5ODQ4NDQ5",
    "user": {
      "login": "userxfce",
      "id": 663793,
      "node_id": "MDQ6VXNlcjY2Mzc5Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/663793?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/userxfce",
      "html_url": "https://github.com/userxfce",
      "followers_url": "https://api.github.com/users/userxfce/followers",
      "following_url": "https://api.github.com/users/userxfce/following{/other_user}",
      "gists_url": "https://api.github.com/users/userxfce/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/userxfce/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/userxfce/subscriptions",
      "organizations_url": "https://api.github.com/users/userxfce/orgs",
      "repos_url": "https://api.github.com/users/userxfce/repos",
      "events_url": "https://api.github.com/users/userxfce/events{/privacy}",
      "received_events_url": "https://api.github.com/users/userxfce/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-05T20:40:56Z",
    "updated_at": "2015-04-05T20:40:56Z",
    "body": "``` rust\n/* (wanted) */\n/*\nfn main() {\n\n    let mut x = 10;\n\n    let y = &mut x;\n\n    println!(\"x={}, y={}\", x, *y);\n\n    *y = 11;\n\n    println!(\"x={}, y={}\", x, *y);\n}\n*/\n\n/* had to */\nfn main() {\n\n    let mut x = 10;\n    {\n        let y = &x;\n\n        println!(\"x={}, y={}\", x, *y);\n    }\n\n    {\n        let y = &mut x;\n\n        *y = 11;\n    }\n\n    let y = &x;\n\n    println!(\"x={}, y={}\", x, *y);\n}\n```\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/89848449/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/89854334",
    "html_url": "https://github.com/rust-lang/rust/issues/6393#issuecomment-89854334",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6393",
    "id": 89854334,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg5ODU0MzM0",
    "user": {
      "login": "seanmonstar",
      "id": 51479,
      "node_id": "MDQ6VXNlcjUxNDc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/51479?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/seanmonstar",
      "html_url": "https://github.com/seanmonstar",
      "followers_url": "https://api.github.com/users/seanmonstar/followers",
      "following_url": "https://api.github.com/users/seanmonstar/following{/other_user}",
      "gists_url": "https://api.github.com/users/seanmonstar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/seanmonstar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/seanmonstar/subscriptions",
      "organizations_url": "https://api.github.com/users/seanmonstar/orgs",
      "repos_url": "https://api.github.com/users/seanmonstar/repos",
      "events_url": "https://api.github.com/users/seanmonstar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/seanmonstar/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-05T21:24:51Z",
    "updated_at": "2015-04-05T21:24:51Z",
    "body": "There's the drop() method in the prelude that does that. But doesn't seem\nto help with mutable borrows.\n\nOn Sun, Apr 5, 2015, 1:41 PM axeoth notifications@github.com wrote:\n\n> /\\* (wanted) _//_fn main() {    let mut x = 10;    let y = &mut x;    println!(\"x={}, y={}\", x, _y);    *y = 11;    println!(\"x={}, y={}\", x, *y);}_/\n> /\\* had to */fn main() {\n> \n> ```\n> let mut x = 10;\n> {\n>     let y = &x;\n> \n>     println!(\"x={}, y={}\", x, *y);\n> }\n> \n> {\n>     let y = &mut x;\n> \n>     *y = 11;\n> }\n> \n> let y = &x;\n> \n> println!(\"x={}, y={}\", x, *y);\n> ```\n> \n> }\n> \n> \u2014\n> Reply to this email directly or view it on GitHub\n> https://github.com/rust-lang/rust/issues/6393#issuecomment-89848449.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/89854334/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/93835235",
    "html_url": "https://github.com/rust-lang/rust/issues/6393#issuecomment-93835235",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6393",
    "id": 93835235,
    "node_id": "MDEyOklzc3VlQ29tbWVudDkzODM1MjM1",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-16T20:42:31Z",
    "updated_at": "2015-04-16T20:42:31Z",
    "body": "Closing in favor of https://github.com/rust-lang/rfcs/issues/811\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/93835235/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/244426261",
    "html_url": "https://github.com/rust-lang/rust/issues/6393#issuecomment-244426261",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6393",
    "id": 244426261,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0NDQyNjI2MQ==",
    "user": {
      "login": "vitiral",
      "id": 5587659,
      "node_id": "MDQ6VXNlcjU1ODc2NTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5587659?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vitiral",
      "html_url": "https://github.com/vitiral",
      "followers_url": "https://api.github.com/users/vitiral/followers",
      "following_url": "https://api.github.com/users/vitiral/following{/other_user}",
      "gists_url": "https://api.github.com/users/vitiral/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vitiral/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vitiral/subscriptions",
      "organizations_url": "https://api.github.com/users/vitiral/orgs",
      "repos_url": "https://api.github.com/users/vitiral/repos",
      "events_url": "https://api.github.com/users/vitiral/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vitiral/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-09-02T16:40:12Z",
    "updated_at": "2016-09-02T16:40:12Z",
    "body": "@metajack the link for your original code is a 404. Can you include it inline for people reading this bug?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/244426261/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/244428514",
    "html_url": "https://github.com/rust-lang/rust/issues/6393#issuecomment-244428514",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6393",
    "id": 244428514,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0NDQyODUxNA==",
    "user": {
      "login": "metajack",
      "id": 28357,
      "node_id": "MDQ6VXNlcjI4MzU3",
      "avatar_url": "https://avatars.githubusercontent.com/u/28357?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/metajack",
      "html_url": "https://github.com/metajack",
      "followers_url": "https://api.github.com/users/metajack/followers",
      "following_url": "https://api.github.com/users/metajack/following{/other_user}",
      "gists_url": "https://api.github.com/users/metajack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/metajack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/metajack/subscriptions",
      "organizations_url": "https://api.github.com/users/metajack/orgs",
      "repos_url": "https://api.github.com/users/metajack/repos",
      "events_url": "https://api.github.com/users/metajack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/metajack/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-09-02T16:49:42Z",
    "updated_at": "2016-09-02T16:49:42Z",
    "body": "After some digging, I believe this is equivalent to the original code:\nhttps://github.com/servo/servo/blob/5e406fab7ee60d9d8077d52d296f52500d72a2f6/src/servo/layout/box_builder.rs#L374\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/244428514/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/244428979",
    "html_url": "https://github.com/rust-lang/rust/issues/6393#issuecomment-244428979",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6393",
    "id": 244428979,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0NDQyODk3OQ==",
    "user": {
      "login": "metajack",
      "id": 28357,
      "node_id": "MDQ6VXNlcjI4MzU3",
      "avatar_url": "https://avatars.githubusercontent.com/u/28357?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/metajack",
      "html_url": "https://github.com/metajack",
      "followers_url": "https://api.github.com/users/metajack/followers",
      "following_url": "https://api.github.com/users/metajack/following{/other_user}",
      "gists_url": "https://api.github.com/users/metajack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/metajack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/metajack/subscriptions",
      "organizations_url": "https://api.github.com/users/metajack/orgs",
      "repos_url": "https://api.github.com/users/metajack/repos",
      "events_url": "https://api.github.com/users/metajack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/metajack/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-09-02T16:51:41Z",
    "updated_at": "2016-09-02T16:51:41Z",
    "body": "Or rather, that's the workaround I used when I filed this bug. The original code before that change seems to be this:\nhttps://github.com/servo/servo/blob/7267f806a7817e48b0ac0c9c4aa23a8a0d288b03/src/servo/layout/box_builder.rs#L387-L399\n\nI'm not sure how relevant these specific examples are now since they were pre-Rust 1.0.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/244428979/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/244430039",
    "html_url": "https://github.com/rust-lang/rust/issues/6393#issuecomment-244430039",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6393",
    "id": 244430039,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0NDQzMDAzOQ==",
    "user": {
      "login": "vitiral",
      "id": 5587659,
      "node_id": "MDQ6VXNlcjU1ODc2NTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5587659?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vitiral",
      "html_url": "https://github.com/vitiral",
      "followers_url": "https://api.github.com/users/vitiral/followers",
      "following_url": "https://api.github.com/users/vitiral/following{/other_user}",
      "gists_url": "https://api.github.com/users/vitiral/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vitiral/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vitiral/subscriptions",
      "organizations_url": "https://api.github.com/users/vitiral/orgs",
      "repos_url": "https://api.github.com/users/vitiral/repos",
      "events_url": "https://api.github.com/users/vitiral/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vitiral/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-09-02T16:55:46Z",
    "updated_at": "2016-09-02T16:55:46Z",
    "body": "@metajack it would be great to have an ultra simple (post 1.0) example in the top of this issue. This issue is now part of https://github.com/rust-lang/rfcs/issues/811\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/244430039/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/244430435",
    "html_url": "https://github.com/rust-lang/rust/issues/6393#issuecomment-244430435",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6393",
    "id": 244430435,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0NDQzMDQzNQ==",
    "user": {
      "login": "jethrogb",
      "id": 1132307,
      "node_id": "MDQ6VXNlcjExMzIzMDc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1132307?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jethrogb",
      "html_url": "https://github.com/jethrogb",
      "followers_url": "https://api.github.com/users/jethrogb/followers",
      "following_url": "https://api.github.com/users/jethrogb/following{/other_user}",
      "gists_url": "https://api.github.com/users/jethrogb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jethrogb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jethrogb/subscriptions",
      "organizations_url": "https://api.github.com/users/jethrogb/orgs",
      "repos_url": "https://api.github.com/users/jethrogb/repos",
      "events_url": "https://api.github.com/users/jethrogb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jethrogb/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-09-02T16:57:16Z",
    "updated_at": "2016-09-02T16:57:16Z",
    "body": "``` rust\nfn main() {\n    let mut nums=vec![10i,11,12,13];\n    *nums.get_mut(nums.len()-2)=2;\n}\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/244430435/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/244434238",
    "html_url": "https://github.com/rust-lang/rust/issues/6393#issuecomment-244434238",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6393",
    "id": 244434238,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0NDQzNDIzOA==",
    "user": {
      "login": "metajack",
      "id": 28357,
      "node_id": "MDQ6VXNlcjI4MzU3",
      "avatar_url": "https://avatars.githubusercontent.com/u/28357?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/metajack",
      "html_url": "https://github.com/metajack",
      "followers_url": "https://api.github.com/users/metajack/followers",
      "following_url": "https://api.github.com/users/metajack/following{/other_user}",
      "gists_url": "https://api.github.com/users/metajack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/metajack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/metajack/subscriptions",
      "organizations_url": "https://api.github.com/users/metajack/orgs",
      "repos_url": "https://api.github.com/users/metajack/repos",
      "events_url": "https://api.github.com/users/metajack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/metajack/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-09-02T17:12:43Z",
    "updated_at": "2016-09-02T17:12:43Z",
    "body": "I think what I was complaining about was something like this:\nhttps://is.gd/yfxUfw\n\nThat particular case appears to work now.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/244434238/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/271840794",
    "html_url": "https://github.com/rust-lang/rust/issues/6393#issuecomment-271840794",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6393",
    "id": 271840794,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTg0MDc5NA==",
    "user": {
      "login": "Wyverald",
      "id": 453203,
      "node_id": "MDQ6VXNlcjQ1MzIwMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/453203?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Wyverald",
      "html_url": "https://github.com/Wyverald",
      "followers_url": "https://api.github.com/users/Wyverald/followers",
      "following_url": "https://api.github.com/users/Wyverald/following{/other_user}",
      "gists_url": "https://api.github.com/users/Wyverald/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Wyverald/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Wyverald/subscriptions",
      "organizations_url": "https://api.github.com/users/Wyverald/orgs",
      "repos_url": "https://api.github.com/users/Wyverald/repos",
      "events_url": "https://api.github.com/users/Wyverald/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Wyverald/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-01-11T11:03:53Z",
    "updated_at": "2017-01-11T11:03:53Z",
    "body": "@vitiral An example in today's Rust that I believe applies:\r\n\r\n```rust\r\nfn main() {\r\n    let mut vec = vec!();\r\n    \r\n    match vec.first() {\r\n        None => vec.push(5),\r\n        Some(v) => unreachable!(),\r\n    }\r\n}\r\n```\r\n\r\nThe `None` arm fails borrowck.\r\n\r\nCuriously, if you don't try to capture `int` in the `Some` arm (ie. use `Some(_)`), it compiles.",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/271840794/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/271896913",
    "html_url": "https://github.com/rust-lang/rust/issues/6393#issuecomment-271896913",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6393",
    "id": 271896913,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTg5NjkxMw==",
    "user": {
      "login": "vitiral",
      "id": 5587659,
      "node_id": "MDQ6VXNlcjU1ODc2NTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5587659?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vitiral",
      "html_url": "https://github.com/vitiral",
      "followers_url": "https://api.github.com/users/vitiral/followers",
      "following_url": "https://api.github.com/users/vitiral/following{/other_user}",
      "gists_url": "https://api.github.com/users/vitiral/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vitiral/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vitiral/subscriptions",
      "organizations_url": "https://api.github.com/users/vitiral/orgs",
      "repos_url": "https://api.github.com/users/vitiral/repos",
      "events_url": "https://api.github.com/users/vitiral/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vitiral/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-01-11T15:23:32Z",
    "updated_at": "2017-01-11T15:23:32Z",
    "body": "@wyverland oh ya, I hit that just yesterday, pretty annoying. \r\n\r\n@metajack can you edit the first post to include that example? ",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/271896913/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/353304531",
    "html_url": "https://github.com/rust-lang/rust/issues/6393#issuecomment-353304531",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6393",
    "id": 353304531,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MzMwNDUzMQ==",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-12-21T09:38:35Z",
    "updated_at": "2017-12-21T09:38:35Z",
    "body": "It's not yet hit nightly, but I just want to say that this now compiles:\r\n\r\n```rust\r\n#![feature(nll)]\r\n\r\nfn main() {\r\n    let mut vec = vec!();\r\n\r\n    match vec.first() {\r\n        None => vec.push(5),\r\n        Some(v) => unreachable!(),\r\n    }\r\n}\r\n```",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/353304531/reactions",
      "total_count": 26,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 18,
      "confused": 0,
      "heart": 8,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
