[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/66857865",
    "html_url": "https://github.com/rust-lang/rust/issues/19791#issuecomment-66857865",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19791",
    "id": 66857865,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2ODU3ODY1",
    "user": {
      "login": "Nercury",
      "id": 106180,
      "node_id": "MDQ6VXNlcjEwNjE4MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/106180?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Nercury",
      "html_url": "https://github.com/Nercury",
      "followers_url": "https://api.github.com/users/Nercury/followers",
      "following_url": "https://api.github.com/users/Nercury/following{/other_user}",
      "gists_url": "https://api.github.com/users/Nercury/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Nercury/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Nercury/subscriptions",
      "organizations_url": "https://api.github.com/users/Nercury/orgs",
      "repos_url": "https://api.github.com/users/Nercury/repos",
      "events_url": "https://api.github.com/users/Nercury/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Nercury/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-12-13T00:59:52Z",
    "updated_at": "2014-12-13T00:59:52Z",
    "body": "Backtrace:\n\n```\nstack backtrace:\n   1:        0x107b265c0 - rt::backtrace::imp::write::h276c1d3da30d25d7bVx\n   2:        0x107b297d0 - failure::on_fail::h26104c4e5109e22dPhy\n   3:        0x107d7ad95 - unwind::begin_unwind_inner::hfa8e57738653fe8fFBc\n   4:        0x1072da0d7 - unwind::begin_unwind::h3249923926675629605\n   5:        0x1072daa8f - diagnostic::Handler::bug::h1673c0a29453129cbaF\n   6:        0x1050be778 - session::Session::bug::h09ebd830ac6d13fblMz\n   7:        0x10532a8a2 - middle::ty::hash_crate_independent::closure.96589\n   8:        0x10532af7f - middle::ty::hash_crate_independent::closure.96599\n   9:        0x105307723 - middle::ty::walk_ty::closure.94468\n  10:        0x1053fbe1e - middle::ty::maybe_walk_ty::closure.94478\n  11:        0x1051a73d3 - middle::ty::maybe_walk_ty::h6e515205c1509074mAf\n  12:        0x1051a7455 - middle::ty::maybe_walk_ty::h6e515205c1509074mAf\n  13:        0x10532a820 - middle::ty::hash_crate_independent::hf4bd8bffe870a1f0kGj\n  14:        0x104cdca94 - trans::intrinsic::trans_intrinsic_call::h2b3b59e4eb2f2b6dNcD\n  15:        0x104caa82b - trans::callee::trans_call_inner::hbd39e21b08b3e49e13g\n  16:        0x104cebabe - trans::expr::trans_rvalue_dps_unadjusted::h4191e842202cc935cgj\n  17:        0x104ca1783 - trans::expr::trans_into::h87b2b20cddb6e2bcWMh\n  18:        0x104ca2460 - trans::controlflow::trans_block::h92c650bfe835c6e0FYd\n  19:        0x104ceac3d - trans::expr::trans_rvalue_dps_unadjusted::h4191e842202cc935cgj\n  20:        0x104ca1783 - trans::expr::trans_into::h87b2b20cddb6e2bcWMh\n  21:        0x104ca2460 - trans::controlflow::trans_block::h92c650bfe835c6e0FYd\n  22:        0x104d4ff63 - trans::base::trans_closure::h8599ef4c8af09dcbVfu\n  23:        0x104c94f50 - trans::base::trans_fn::hd9fe0820c71be153cru\n  24:        0x104c96cc9 - trans::monomorphize::monomorphic_fn::h5f84861ef240adf0Yqd\n  25:        0x104ccc81e - trans::callee::trans_fn_ref_with_substs::h6f3e02f49fb07bfadIg\n  26:        0x104cc934e - trans::callee::trans_fn_ref::hc71677feb48bfed6vng\n  27:        0x104cd8e76 - trans::callee::trans_call::closure.38397\n  28:        0x104ca8e74 - trans::callee::trans_call_inner::hbd39e21b08b3e49e13g\n  29:        0x104cebabe - trans::expr::trans_rvalue_dps_unadjusted::h4191e842202cc935cgj\n  30:        0x104ce7d74 - trans::expr::trans_unadjusted::h8607f7db8bb3fae4UCi\n  31:        0x104ca2a59 - trans::expr::trans::h553e065ec2b35466IQh\n  32:        0x104cfe811 - trans::expr::trans_addr_of::h8fb8e63f184c2049Q3j\n  33:        0x104ce8556 - trans::expr::trans_unadjusted::h8607f7db8bb3fae4UCi\n  34:        0x104ca183c - trans::expr::trans_into::h87b2b20cddb6e2bcWMh\n  35:        0x104d03efa - trans::expr::trans_adt::h4744b63c2ff7d25eVMj\n  36:        0x104ceb7e3 - trans::expr::trans_rvalue_dps_unadjusted::h4191e842202cc935cgj\n  37:        0x104ce7d74 - trans::expr::trans_unadjusted::h8607f7db8bb3fae4UCi\n  38:        0x104ca2a59 - trans::expr::trans::h553e065ec2b35466IQh\n  39:        0x104d6f096 - trans::_match::trans_match_inner::he8ec62a86a1f68a1BCx\n  40:        0x104ceabd6 - trans::expr::trans_rvalue_dps_unadjusted::h4191e842202cc935cgj\n  41:        0x104ca1783 - trans::expr::trans_into::h87b2b20cddb6e2bcWMh\n  42:        0x104ca074c - trans::controlflow::trans_stmt_semi::h607474dd67b6c7f2MXd\n  43:        0x104ca21cd - trans::controlflow::trans_block::h92c650bfe835c6e0FYd\n  44:        0x104d4ff63 - trans::base::trans_closure::h8599ef4c8af09dcbVfu\n  45:        0x104c94f50 - trans::base::trans_fn::hd9fe0820c71be153cru\n  46:        0x104c964f5 - trans::monomorphize::monomorphic_fn::h5f84861ef240adf0Yqd\n  47:        0x104ccc81e - trans::callee::trans_fn_ref_with_substs::h6f3e02f49fb07bfadIg\n  48:        0x104cc934e - trans::callee::trans_fn_ref::hc71677feb48bfed6vng\n  49:        0x104cd8e76 - trans::callee::trans_call::closure.38397\n  50:        0x104ca8e74 - trans::callee::trans_call_inner::hbd39e21b08b3e49e13g\n  51:        0x104cebabe - trans::expr::trans_rvalue_dps_unadjusted::h4191e842202cc935cgj\n  52:        0x104ca1783 - trans::expr::trans_into::h87b2b20cddb6e2bcWMh\n  53:        0x104ca074c - trans::controlflow::trans_stmt_semi::h607474dd67b6c7f2MXd\n  54:        0x104ca21cd - trans::controlflow::trans_block::h92c650bfe835c6e0FYd\n  55:        0x104d4ff63 - trans::base::trans_closure::h8599ef4c8af09dcbVfu\n  56:        0x104c94f50 - trans::base::trans_fn::hd9fe0820c71be153cru\n  57:        0x104c8f7d0 - trans::base::trans_item::h500da4689dfe0ec2eMu\n  58:        0x104d51759 - trans::base::trans_mod::hde21d18912c60861JRu\n  59:        0x104d5681b - trans::base::trans_crate::hcdd1861394aada8coIv\n  60:        0x10455acf4 - driver::phase_4_translate_to_llvm::ha8b95de82e05b0beVCa\n  61:        0x10454275a - driver::compile_input::hde6371ddee42c3f7pba\n  62:        0x1045d828d - run_compiler::h06c79cf9e1e33dfbEYb\n  63:        0x1045d6cee - run::closure.21409\n  64:        0x1045e812e - task::TaskBuilder::try_future::closure.22863\n  65:        0x107aff833 - task::TaskBuilder::spawn_internal::closure.30632\n  66:        0x107d7899d - task::Task::spawn::closure.5567\n  67:        0x107de016c - rust_try_inner\n  68:        0x107de0156 - rust_try\n  69:        0x107d78a77 - unwind::try::he77b5a8881543410Wqc\n  70:        0x107d7884c - task::Task::run::he429ca3c5047a629fIb\n  71:        0x107d7854f - task::Task::spawn::closure.5543\n  72:        0x107d79e57 - thread::thread_start::h6870b75b36f51b8cwZb\n  73:     0x7fff8f02d899 - _pthread_body\n  74:     0x7fff8f02d72a - _pthread_struct_init\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/66857865/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/66867509",
    "html_url": "https://github.com/rust-lang/rust/issues/19791#issuecomment-66867509",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19791",
    "id": 66867509,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2ODY3NTA5",
    "user": {
      "login": "bkoropoff",
      "id": 2101303,
      "node_id": "MDQ6VXNlcjIxMDEzMDM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2101303?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bkoropoff",
      "html_url": "https://github.com/bkoropoff",
      "followers_url": "https://api.github.com/users/bkoropoff/followers",
      "following_url": "https://api.github.com/users/bkoropoff/following{/other_user}",
      "gists_url": "https://api.github.com/users/bkoropoff/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bkoropoff/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bkoropoff/subscriptions",
      "organizations_url": "https://api.github.com/users/bkoropoff/orgs",
      "repos_url": "https://api.github.com/users/bkoropoff/repos",
      "events_url": "https://api.github.com/users/bkoropoff/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bkoropoff/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-12-13T06:50:08Z",
    "updated_at": "2014-12-13T06:50:08Z",
    "body": "Well, this is interesting.  It's broken all the way back to 0.10.  I think it's been a bug in the type id implementation since it first landed.  Here's a smaller test case:\n\n``` rust\nuse std::intrinsics::TypeId;\n\nfn main() {\n    TypeId::of::<fn<'a>(&'a int)>();\n}\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/66867509/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/66867682",
    "html_url": "https://github.com/rust-lang/rust/issues/19791#issuecomment-66867682",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19791",
    "id": 66867682,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2ODY3Njgy",
    "user": {
      "login": "bkoropoff",
      "id": 2101303,
      "node_id": "MDQ6VXNlcjIxMDEzMDM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2101303?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bkoropoff",
      "html_url": "https://github.com/bkoropoff",
      "followers_url": "https://api.github.com/users/bkoropoff/followers",
      "following_url": "https://api.github.com/users/bkoropoff/following{/other_user}",
      "gists_url": "https://api.github.com/users/bkoropoff/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bkoropoff/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bkoropoff/subscriptions",
      "organizations_url": "https://api.github.com/users/bkoropoff/orgs",
      "repos_url": "https://api.github.com/users/bkoropoff/repos",
      "events_url": "https://api.github.com/users/bkoropoff/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bkoropoff/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-12-13T06:58:23Z",
    "updated_at": "2014-12-13T17:53:08Z",
    "body": "@alexcrichton, is there a particular reason `hash_crate_independent` explicitly checks that all regions it encounters are `'static`?  Trans doesn't seem to go out of its way to erase late-bound regions in fn type signatures, which results in this ICE.  I could add a call to `normalize_ty` in trans to fix this, but it would be cheaper to just ignore regions during hashing.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/66867682/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/66888222",
    "html_url": "https://github.com/rust-lang/rust/issues/19791#issuecomment-66888222",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19791",
    "id": 66888222,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2ODg4MjIy",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-12-13T19:37:42Z",
    "updated_at": "2014-12-13T19:37:42Z",
    "body": "Ended up catching me [on IRC](https://botbot.me/mozilla/rust-internals/2014-12-13/?msg=27483133&page=6)\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/66888222/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/66889630",
    "html_url": "https://github.com/rust-lang/rust/issues/19791#issuecomment-66889630",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19791",
    "id": 66889630,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2ODg5NjMw",
    "user": {
      "login": "bkoropoff",
      "id": 2101303,
      "node_id": "MDQ6VXNlcjIxMDEzMDM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2101303?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bkoropoff",
      "html_url": "https://github.com/bkoropoff",
      "followers_url": "https://api.github.com/users/bkoropoff/followers",
      "following_url": "https://api.github.com/users/bkoropoff/following{/other_user}",
      "gists_url": "https://api.github.com/users/bkoropoff/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bkoropoff/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bkoropoff/subscriptions",
      "organizations_url": "https://api.github.com/users/bkoropoff/orgs",
      "repos_url": "https://api.github.com/users/bkoropoff/repos",
      "events_url": "https://api.github.com/users/bkoropoff/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bkoropoff/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-12-13T20:16:24Z",
    "updated_at": "2014-12-13T20:16:24Z",
    "body": "It seems we actually want to take late-bound regions into account when hashing.  For example, the following should hold:\n\n``` rust\nTypeId::of::<fn(&'static int)>() != TypeId::of::<for<'a> fn(&'a int)>()\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/66889630/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
