[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/130401302",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-130401302",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 130401302,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMDQwMTMwMg==",
    "user": {
      "login": "Gankra",
      "id": 1136864,
      "node_id": "MDQ6VXNlcjExMzY4NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1136864?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Gankra",
      "html_url": "https://github.com/Gankra",
      "followers_url": "https://api.github.com/users/Gankra/followers",
      "following_url": "https://api.github.com/users/Gankra/following{/other_user}",
      "gists_url": "https://api.github.com/users/Gankra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Gankra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Gankra/subscriptions",
      "organizations_url": "https://api.github.com/users/Gankra/orgs",
      "repos_url": "https://api.github.com/users/Gankra/repos",
      "events_url": "https://api.github.com/users/Gankra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Gankra/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-08-12T18:25:24Z",
    "updated_at": "2015-08-12T18:25:24Z",
    "body": "I'm not a fan of NonZero. I would like a more robust system that can hook into the things described in https://github.com/rust-lang/rfcs/issues/1230. \n\nUnique is great, but I would like to rename it to Owned to better reflect what its actual semantics are (e.g. it's fine to have other pointers into it just like it's fine for Box). \n\nI would like to add a Shared equivalent for Rc/Arc to use. This is blocked by https://github.com/rust-lang/rust/issues/26905\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/130401302/reactions",
      "total_count": 5,
      "+1": 5,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/149387292",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-149387292",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 149387292,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0OTM4NzI5Mg==",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-20T00:46:33Z",
    "updated_at": "2015-10-20T00:46:33Z",
    "body": "I expanded this issue to cover the new `Shared` type (https://github.com/rust-lang/rust/pull/29110).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/149387292/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/149402813",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-149402813",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 149402813,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0OTQwMjgxMw==",
    "user": {
      "login": "Gankra",
      "id": 1136864,
      "node_id": "MDQ6VXNlcjExMzY4NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1136864?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Gankra",
      "html_url": "https://github.com/Gankra",
      "followers_url": "https://api.github.com/users/Gankra/followers",
      "following_url": "https://api.github.com/users/Gankra/following{/other_user}",
      "gists_url": "https://api.github.com/users/Gankra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Gankra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Gankra/subscriptions",
      "organizations_url": "https://api.github.com/users/Gankra/orgs",
      "repos_url": "https://api.github.com/users/Gankra/repos",
      "events_url": "https://api.github.com/users/Gankra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Gankra/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-20T02:08:06Z",
    "updated_at": "2015-10-20T02:08:06Z",
    "body": "CC @SimonSapin \n\nDoes Shared/Unique cover all your NonZero usecases?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/149402813/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/149524852",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-149524852",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 149524852,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0OTUyNDg1Mg==",
    "user": {
      "login": "eddyb",
      "id": 77424,
      "node_id": "MDQ6VXNlcjc3NDI0",
      "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eddyb",
      "html_url": "https://github.com/eddyb",
      "followers_url": "https://api.github.com/users/eddyb/followers",
      "following_url": "https://api.github.com/users/eddyb/following{/other_user}",
      "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions",
      "organizations_url": "https://api.github.com/users/eddyb/orgs",
      "repos_url": "https://api.github.com/users/eddyb/repos",
      "events_url": "https://api.github.com/users/eddyb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eddyb/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-20T10:58:17Z",
    "updated_at": "2015-10-20T10:58:54Z",
    "body": "I commented about this in #29110, reposting here for visibility:\n\nThe `Deref` impls on these types are bad interfaces because they remove the optimizations `NonZero` can trigger, specifically the control-flow ones (not the layout optimizations, which are unaffected).\n\nThey also allow writing `*p` where `p` is a `ptr::Unique<T>` or a `ptr::Shared<T>` to obtain a `*mut T`, which might make unsafe code more confusing (you need `**p` to get at the `T` lvalue).\n\n`NonZero` and wrappers such as `Unique` and `Shared`, should use a `Cell`-like API (`.get()` and `.set()` - or just `.get()`, really), allowing LLVM to reason about their non-nullability.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/149524852/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/154760887",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-154760887",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 154760887,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1NDc2MDg4Nw==",
    "user": {
      "login": "Gankra",
      "id": 1136864,
      "node_id": "MDQ6VXNlcjExMzY4NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1136864?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Gankra",
      "html_url": "https://github.com/Gankra",
      "followers_url": "https://api.github.com/users/Gankra/followers",
      "following_url": "https://api.github.com/users/Gankra/following{/other_user}",
      "gists_url": "https://api.github.com/users/Gankra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Gankra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Gankra/subscriptions",
      "organizations_url": "https://api.github.com/users/Gankra/orgs",
      "repos_url": "https://api.github.com/users/Gankra/repos",
      "events_url": "https://api.github.com/users/Gankra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Gankra/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-11-07T22:47:16Z",
    "updated_at": "2015-11-07T22:47:16Z",
    "body": "@eddyb alternatively, we could just promote these types to compiler primitives, right? Have them coerce to raw pointers or summat? This may also improve debug perf, as there's less abstraction in the way if it's really \"just\" a raw pointer, and not a Foo(Bar(*const T)) that is accessed through two levels of methods.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/154760887/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/187259625",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-187259625",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 187259625,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4NzI1OTYyNQ==",
    "user": {
      "login": "alexreg",
      "id": 67036,
      "node_id": "MDQ6VXNlcjY3MDM2",
      "avatar_url": "https://avatars.githubusercontent.com/u/67036?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexreg",
      "html_url": "https://github.com/alexreg",
      "followers_url": "https://api.github.com/users/alexreg/followers",
      "following_url": "https://api.github.com/users/alexreg/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexreg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexreg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexreg/subscriptions",
      "organizations_url": "https://api.github.com/users/alexreg/orgs",
      "repos_url": "https://api.github.com/users/alexreg/repos",
      "events_url": "https://api.github.com/users/alexreg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexreg/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-02-22T16:45:35Z",
    "updated_at": "2016-02-22T16:46:05Z",
    "body": "I agree with @eddyb's comment about using a `Cell`-like API for `NonZero` (and other types). It makes semantic sense.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/187259625/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/215901035",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-215901035",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 215901035,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxNTkwMTAzNQ==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-04-29T22:47:14Z",
    "updated_at": "2016-04-29T22:47:20Z",
    "body": "The libs team decided to not move these APIs into FCP this cycle because the `NonZero` type is at the heart of all of them, and we're the _least_ sure about `NonZero`.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/215901035/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/220819938",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-220819938",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 220819938,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMDgxOTkzOA==",
    "user": {
      "login": "SimonSapin",
      "id": 291359,
      "node_id": "MDQ6VXNlcjI5MTM1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SimonSapin",
      "html_url": "https://github.com/SimonSapin",
      "followers_url": "https://api.github.com/users/SimonSapin/followers",
      "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}",
      "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions",
      "organizations_url": "https://api.github.com/users/SimonSapin/orgs",
      "repos_url": "https://api.github.com/users/SimonSapin/repos",
      "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SimonSapin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-05-22T08:10:57Z",
    "updated_at": "2016-05-22T08:10:57Z",
    "body": "> CC @SimonSapin\n> \n> Does Shared/Unique cover all your NonZero usecases?\n\n(Answering with a small delay\u2026 :))\n\nUnfortunately no. We would like to use `NonZero<u64>` instead of `u64` in [`string_cache::Atom`](https://github.com/servo/string-cache), but we can\u2019t at the moment because `NonZero`\u2019s field being private prevents matching on it in a pattern: https://internals.rust-lang.org/t/matching-on-struct-patterns-with-private-read-only-fields/3499\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/220819938/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/222897149",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-222897149",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 222897149,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMjg5NzE0OQ==",
    "user": {
      "login": "rbtcollins",
      "id": 499678,
      "node_id": "MDQ6VXNlcjQ5OTY3OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/499678?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rbtcollins",
      "html_url": "https://github.com/rbtcollins",
      "followers_url": "https://api.github.com/users/rbtcollins/followers",
      "following_url": "https://api.github.com/users/rbtcollins/following{/other_user}",
      "gists_url": "https://api.github.com/users/rbtcollins/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rbtcollins/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rbtcollins/subscriptions",
      "organizations_url": "https://api.github.com/users/rbtcollins/orgs",
      "repos_url": "https://api.github.com/users/rbtcollins/repos",
      "events_url": "https://api.github.com/users/rbtcollins/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rbtcollins/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-06-01T05:34:44Z",
    "updated_at": "2016-06-01T05:34:44Z",
    "body": "I don't know if this is the right place to comment, but I'm binding some C code and Unique appears perfect - except that it exposes the unsafe rather than that being internal - meaning that I need a further wrapper around it - since I know the C ptr in question isn't going to be freed randomly, and I know that its not null, I want to hide the unsafe entirely from further out users.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/222897149/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/231558256",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-231558256",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 231558256,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzMTU1ODI1Ng==",
    "user": {
      "login": "DemiMarie",
      "id": 6395399,
      "node_id": "MDQ6VXNlcjYzOTUzOTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6395399?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DemiMarie",
      "html_url": "https://github.com/DemiMarie",
      "followers_url": "https://api.github.com/users/DemiMarie/followers",
      "following_url": "https://api.github.com/users/DemiMarie/following{/other_user}",
      "gists_url": "https://api.github.com/users/DemiMarie/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DemiMarie/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DemiMarie/subscriptions",
      "organizations_url": "https://api.github.com/users/DemiMarie/orgs",
      "repos_url": "https://api.github.com/users/DemiMarie/repos",
      "events_url": "https://api.github.com/users/DemiMarie/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DemiMarie/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-07-09T22:02:28Z",
    "updated_at": "2016-07-09T22:02:28Z",
    "body": "@rbtcollins My suggestion would be to write a wrapper struct that has a `Unique` as a member, and that frees the pointer in the `Unique` in its `Drop` impl.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/231558256/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/234177468",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-234177468",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 234177468,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzNDE3NzQ2OA==",
    "user": {
      "login": "Ericson2314",
      "id": 1055245,
      "node_id": "MDQ6VXNlcjEwNTUyNDU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1055245?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Ericson2314",
      "html_url": "https://github.com/Ericson2314",
      "followers_url": "https://api.github.com/users/Ericson2314/followers",
      "following_url": "https://api.github.com/users/Ericson2314/following{/other_user}",
      "gists_url": "https://api.github.com/users/Ericson2314/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Ericson2314/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Ericson2314/subscriptions",
      "organizations_url": "https://api.github.com/users/Ericson2314/orgs",
      "repos_url": "https://api.github.com/users/Ericson2314/repos",
      "events_url": "https://api.github.com/users/Ericson2314/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Ericson2314/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-07-21T07:25:41Z",
    "updated_at": "2016-07-21T07:25:41Z",
    "body": "N.B. `*move` from https://github.com/rust-lang/rfcs/pull/1646 would almost surely replace this. \n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/234177468/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/269726075",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-269726075",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 269726075,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2OTcyNjA3NQ==",
    "user": {
      "login": "dtolnay",
      "id": 1940490,
      "node_id": "MDQ6VXNlcjE5NDA0OTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1940490?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dtolnay",
      "html_url": "https://github.com/dtolnay",
      "followers_url": "https://api.github.com/users/dtolnay/followers",
      "following_url": "https://api.github.com/users/dtolnay/following{/other_user}",
      "gists_url": "https://api.github.com/users/dtolnay/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dtolnay/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dtolnay/subscriptions",
      "organizations_url": "https://api.github.com/users/dtolnay/orgs",
      "repos_url": "https://api.github.com/users/dtolnay/repos",
      "events_url": "https://api.github.com/users/dtolnay/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dtolnay/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-12-30T03:00:46Z",
    "updated_at": "2016-12-30T03:00:46Z",
    "body": "If we keep NonZero or something like it, I would love a safe (checked) way to construct one. Currently the single line of unsafe code in Serde is constructing a NonZero.\r\n\r\n```rust\r\nif value == Zero::zero() {\r\n    return Err(Error::invalid_value(\"expected a non-zero value\"))\r\n}\r\nunsafe {\r\n    Ok(NonZero::new(value))\r\n}\r\n```",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/269726075/reactions",
      "total_count": 7,
      "+1": 7,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/291568256",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-291568256",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 291568256,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5MTU2ODI1Ng==",
    "user": {
      "login": "Gankra",
      "id": 1136864,
      "node_id": "MDQ6VXNlcjExMzY4NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1136864?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Gankra",
      "html_url": "https://github.com/Gankra",
      "followers_url": "https://api.github.com/users/Gankra/followers",
      "following_url": "https://api.github.com/users/Gankra/following{/other_user}",
      "gists_url": "https://api.github.com/users/Gankra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Gankra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Gankra/subscriptions",
      "organizations_url": "https://api.github.com/users/Gankra/orgs",
      "repos_url": "https://api.github.com/users/Gankra/repos",
      "events_url": "https://api.github.com/users/Gankra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Gankra/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-04-04T17:11:44Z",
    "updated_at": "2017-04-04T17:11:44Z",
    "body": "I'm making changes to this API in this PR https://github.com/rust-lang/rust/pull/41064",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/291568256/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/298997174",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-298997174",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 298997174,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5ODk5NzE3NA==",
    "user": {
      "login": "SimonSapin",
      "id": 291359,
      "node_id": "MDQ6VXNlcjI5MTM1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SimonSapin",
      "html_url": "https://github.com/SimonSapin",
      "followers_url": "https://api.github.com/users/SimonSapin/followers",
      "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}",
      "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions",
      "organizations_url": "https://api.github.com/users/SimonSapin/orgs",
      "repos_url": "https://api.github.com/users/SimonSapin/repos",
      "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SimonSapin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-05-03T18:32:49Z",
    "updated_at": "2017-05-03T18:32:49Z",
    "body": "Would it make sense for `NonZero` to be an attribute of fields rather than a wrapper type? That would enable `string_cache::Atom` to use it. Currently it can\u2019t because we have a macro that expands to an `Atom` struct literal that can be used as a pattern in a `match` expression, so all transitive fields must be public.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/298997174/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/300530242",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-300530242",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 300530242,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMDUzMDI0Mg==",
    "user": {
      "login": "Gankra",
      "id": 1136864,
      "node_id": "MDQ6VXNlcjExMzY4NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1136864?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Gankra",
      "html_url": "https://github.com/Gankra",
      "followers_url": "https://api.github.com/users/Gankra/followers",
      "following_url": "https://api.github.com/users/Gankra/following{/other_user}",
      "gists_url": "https://api.github.com/users/Gankra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Gankra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Gankra/subscriptions",
      "organizations_url": "https://api.github.com/users/Gankra/orgs",
      "repos_url": "https://api.github.com/users/Gankra/repos",
      "events_url": "https://api.github.com/users/Gankra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Gankra/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-05-10T16:02:05Z",
    "updated_at": "2017-05-10T16:02:05Z",
    "body": "I would like to propose we stabilize these APIs now that my changes in #41064 have landed. They have varying levels of controversy, so here's my priority's prefs:\r\n\r\n* Shared should absolutely be stabilized ASAP. I don't think it needs any more work.\r\n\r\n* Unique should probably be stabilized, but doesn't really need to be, and might want some more scrutiny. Anyone who wants to use it can use Shared, because they provide the same API and there's no actual optimization benefits between the two today. They should probably also use Shared anyway to avoid running into UB that isn't even specified yet.\r\n\r\n* NonZero could be stabilized, but it's always going to be a lame hack API, and I don't think it really matters (Shared does most of its work). That said I don't think NonZero will conflict with any future system that would theoretically obsolete it, so it's probably fine to stabilize it with a shrug.\r\n\r\nYou can view the current APIs here:\r\n\r\n* Shared: https://doc.rust-lang.org/nightly/std/ptr/struct.Shared.html\r\n* Unique: https://doc.rust-lang.org/nightly/std/ptr/struct.Unique.html\r\n* NonZero: https://doc.rust-lang.org/nightly/core/nonzero/struct.NonZero.html\r\n\r\n[I discuss some rationale for their design here](https://github.com/rust-lang/rust/pull/41064#issuecomment-298671581)\r\n\r\nThe major change is that the `Deref` impls are dead, as they confused LLVM. Now you explicitly call `get` on NonZero, or `as_ptr` on Shared/Unique.\r\n\r\nShared and Unique are now exactly the same (covariant, nonzero, takes/produces *mut), except for this distinction:\r\n\r\n> Shared is similar to Unique, except that it doesn't make any aliasing guarantees, and doesn't derive Send and Sync. Note that unlike `&T`, Shared has no special mutability requirements. Shared may mutate data aliased by other Shared pointers. More precise rules require Rust to develop an actual aliasing model.\r\n\r\nThis basically leaves Shared spec'd as \"`*mut` if it worked the way you wished it would\". There's potentially room for something between Unique and Shared to capture the subtle aliasing semantics that Rc and Arc have, but we desperately need a type like Shared for the broader ecosystem, and it's not like we have immediate plans to add more aliasing metadata to Shared/Unique.\r\n\r\nUnique on the other hand is spec'd as having aliasing guarantees \"as if\" the `Unique<T>` were a `T`, whatever we decide those aliasing guarantees are. \r\n\r\nBasically I punted on needing to spec Rust's aliasing rules by giving these two types the aliasing rules of other types.\r\n\r\nSome controversial points to note during FCP:\r\n\r\n1. Shared/Unique are now Copy. This is basically an ergonomics thing, to make them as similar to `*mut` as possible. It's unsafe code, we should be getting out of our users' way. I have mild concern this is sketchy for Unique with its new aliasing model, but mostly I don't think it will matter.\r\n\r\n2. Shared is now covariant, even though it's \"aliased and mutable\". Why? Because it would literally be useless otherwise. Arc, Rc, LinkedList, and every other type that uses Shared needs covariance, and there's no way to \"undo\" invariance. Yes this is a foot gun. No I don't think it's a big deal (it's almost always right -- literally always right for the stdlib). Shared's documentation highlights the issue.\r\n\r\n3. Shared/Unique don't require/guarantee alignment when they dangle. This means enums potentially miss out on Even More Tagging Optimizations. However it means that users can do their own by-hand tagging optimizations. For instance HashMap does this today. \r\n\r\n@nikomatsakis briefly mused on having a TaggedUnique type to allow misalignment during storage that would provide conveniences for masking off or extracting the align-bits. \r\n\r\nI updated the stdlib so everyone but HashMap is now setting their dangling Unique/Shared pointers to `mem::align_of::<T>`, and deprecated `heap::EMPTY`. Shared and Unique now have `::empty()` constructors that will handle this for you (bonus: they're safe, unlike `::new()`). It would be backwards compatible to require alignment now, and abandon it later if it turns out to be more trouble than it's worth. However all current nightly users of Shared/Unique may miss this is a new requirement.\r\n\r\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/300530242/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/300565495",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-300565495",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 300565495,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMDU2NTQ5NQ==",
    "user": {
      "login": "SimonSapin",
      "id": 291359,
      "node_id": "MDQ6VXNlcjI5MTM1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SimonSapin",
      "html_url": "https://github.com/SimonSapin",
      "followers_url": "https://api.github.com/users/SimonSapin/followers",
      "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}",
      "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions",
      "organizations_url": "https://api.github.com/users/SimonSapin/orgs",
      "repos_url": "https://api.github.com/users/SimonSapin/repos",
      "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SimonSapin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-05-10T18:03:29Z",
    "updated_at": "2017-05-10T18:03:29Z",
    "body": "1. Big +1 to stabilizing `Shared`\r\n2. If `Unique` can always be replaced with `Shared` (plus maybe impls for `Send` or `Sync`), why shouldn\u2019t it be removed entirely?\r\n3. Of all the potential uses of `NonZero` that I know of, all but one can/should use `Shared` (which in turn uses `NonZero` internally). The remaining one is `string_cache`, it can not use `NonZero` in its current API either because `NonZero`\u2019s field is private, which prevents it from being matched in a pattern.\r\n\r\n   So I have no desire to see the current `NonZero` stabilized. I\u2019d like to see something else that would allow pattern matching, but I don\u2019t know how to do that without also introducing unsoundness. (A public field could be set to zero.)",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/300565495/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/300566594",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-300566594",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 300566594,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMDU2NjU5NA==",
    "user": {
      "login": "Amanieu",
      "id": 278509,
      "node_id": "MDQ6VXNlcjI3ODUwOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/278509?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Amanieu",
      "html_url": "https://github.com/Amanieu",
      "followers_url": "https://api.github.com/users/Amanieu/followers",
      "following_url": "https://api.github.com/users/Amanieu/following{/other_user}",
      "gists_url": "https://api.github.com/users/Amanieu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Amanieu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Amanieu/subscriptions",
      "organizations_url": "https://api.github.com/users/Amanieu/orgs",
      "repos_url": "https://api.github.com/users/Amanieu/repos",
      "events_url": "https://api.github.com/users/Amanieu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Amanieu/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-05-10T18:07:37Z",
    "updated_at": "2017-05-10T18:07:37Z",
    "body": "I'm actually most excited about `NonZero` myself. It's very useful for integer ID values, where a value of 0 is an invalid ID. Wrapping these types in `NonZero` would allow them to be wrapped in an `Option` at no extra cost in space. Using an `Option` is much more ergonomic than checking for `0` everywhere (it's basically the same issue as nullable pointers).",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/300566594/reactions",
      "total_count": 3,
      "+1": 3,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/300592155",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-300592155",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 300592155,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMDU5MjE1NQ==",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-05-10T19:45:19Z",
    "updated_at": "2017-05-10T19:45:19Z",
    "body": "I frequently use `NonZero` with integers as well; though what I **really** want is `NonMax` (since I am always doing this with indices, and `0` is a perfectly good index). I tend to write some newtype to mask it for me. ",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/300592155/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/300596162",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-300596162",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 300596162,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMDU5NjE2Mg==",
    "user": {
      "login": "Amanieu",
      "id": 278509,
      "node_id": "MDQ6VXNlcjI3ODUwOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/278509?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Amanieu",
      "html_url": "https://github.com/Amanieu",
      "followers_url": "https://api.github.com/users/Amanieu/followers",
      "following_url": "https://api.github.com/users/Amanieu/following{/other_user}",
      "gists_url": "https://api.github.com/users/Amanieu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Amanieu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Amanieu/subscriptions",
      "organizations_url": "https://api.github.com/users/Amanieu/orgs",
      "repos_url": "https://api.github.com/users/Amanieu/repos",
      "events_url": "https://api.github.com/users/Amanieu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Amanieu/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-05-10T20:01:51Z",
    "updated_at": "2017-05-10T20:01:51Z",
    "body": "Or -1, which is commonly used to indicate an invalid index. One way to do this with the current `NonZero` is to add 1 to whatever value you are storing (0 => None, 1 => Some(0), 2 => Some(1), etc).",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/300596162/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/300621905",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-300621905",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 300621905,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMDYyMTkwNQ==",
    "user": {
      "login": "SimonSapin",
      "id": 291359,
      "node_id": "MDQ6VXNlcjI5MTM1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SimonSapin",
      "html_url": "https://github.com/SimonSapin",
      "followers_url": "https://api.github.com/users/SimonSapin/followers",
      "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}",
      "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions",
      "organizations_url": "https://api.github.com/users/SimonSapin/orgs",
      "repos_url": "https://api.github.com/users/SimonSapin/repos",
      "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SimonSapin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-05-10T21:44:50Z",
    "updated_at": "2017-05-10T21:44:50Z",
    "body": "Stabilizing `NonZero` probably involves stabilizing the `Zeroable` trait and re-exporting them in `std`. Is `core::nonzero` / `std::nonzero` the desired module name?",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/300621905/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/300626130",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-300626130",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 300626130,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMDYyNjEzMA==",
    "user": {
      "login": "Gankra",
      "id": 1136864,
      "node_id": "MDQ6VXNlcjExMzY4NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1136864?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Gankra",
      "html_url": "https://github.com/Gankra",
      "followers_url": "https://api.github.com/users/Gankra/followers",
      "following_url": "https://api.github.com/users/Gankra/following{/other_user}",
      "gists_url": "https://api.github.com/users/Gankra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Gankra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Gankra/subscriptions",
      "organizations_url": "https://api.github.com/users/Gankra/orgs",
      "repos_url": "https://api.github.com/users/Gankra/repos",
      "events_url": "https://api.github.com/users/Gankra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Gankra/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-05-10T22:03:39Z",
    "updated_at": "2017-05-10T22:03:39Z",
    "body": "Zeroable shouldn't need to be stabilized, I don't think?",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/300626130/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/300771865",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-300771865",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 300771865,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMDc3MTg2NQ==",
    "user": {
      "login": "SimonSapin",
      "id": 291359,
      "node_id": "MDQ6VXNlcjI5MTM1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SimonSapin",
      "html_url": "https://github.com/SimonSapin",
      "followers_url": "https://api.github.com/users/SimonSapin/followers",
      "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}",
      "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions",
      "organizations_url": "https://api.github.com/users/SimonSapin/orgs",
      "repos_url": "https://api.github.com/users/SimonSapin/repos",
      "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SimonSapin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-05-11T12:18:24Z",
    "updated_at": "2017-05-11T12:18:24Z",
    "body": "I think that stabilizing APIs that have bounds on a trait without stabilizing that trait should not become a habit. It\u2019s been done a couple times, and is maybe acceptable when we have yet to figure out some details of the trait before stabilizing it, but I don\u2019t think we should do it if the trait does not have a path to stabilization at all.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/300771865/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/303900376",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-303900376",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 303900376,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMzkwMDM3Ng==",
    "user": {
      "login": "joshlf",
      "id": 1046063,
      "node_id": "MDQ6VXNlcjEwNDYwNjM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1046063?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/joshlf",
      "html_url": "https://github.com/joshlf",
      "followers_url": "https://api.github.com/users/joshlf/followers",
      "following_url": "https://api.github.com/users/joshlf/following{/other_user}",
      "gists_url": "https://api.github.com/users/joshlf/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/joshlf/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/joshlf/subscriptions",
      "organizations_url": "https://api.github.com/users/joshlf/orgs",
      "repos_url": "https://api.github.com/users/joshlf/repos",
      "events_url": "https://api.github.com/users/joshlf/events{/privacy}",
      "received_events_url": "https://api.github.com/users/joshlf/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-05-25T01:51:39Z",
    "updated_at": "2017-05-25T01:51:39Z",
    "body": "@Amanieu @nikomatsakis \r\n> I'm actually most excited about `NonZero` myself. It's very useful for integer ID values, where a value of 0 is an invalid ID. Wrapping these types in `NonZero` would allow them to be wrapped in an `Option` at no extra cost in space. Using an `Option` is much more ergonomic than checking for `0` everywhere (it's basically the same issue as nullable pointers).\r\n\r\n> I frequently use `NonZero` with integers as well; though what I really want is `NonMax` (since I am always doing this with indices, and `0` is a perfectly good index). I tend to write some newtype to mask it for me.\r\n\r\nAt some point, doesn't this turn into a discussion of what generalized properties should be encoded in the type system (with the extreme case being full-on refinement types)? I'm not trying to shut this discussion down, but in fact do the opposite - I think it'd be an interesting exercise to consider the total scope of properties of the form \"this variable can only take values in this subset of its domain\" that we might want to encode in the type system. We've already mentioned non-zero, non-max, and non-negative. What others would be reasonable/useful?",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/303900376/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/303903551",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-303903551",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 303903551,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMzkwMzU1MQ==",
    "user": {
      "login": "Gankra",
      "id": 1136864,
      "node_id": "MDQ6VXNlcjExMzY4NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1136864?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Gankra",
      "html_url": "https://github.com/Gankra",
      "followers_url": "https://api.github.com/users/Gankra/followers",
      "following_url": "https://api.github.com/users/Gankra/following{/other_user}",
      "gists_url": "https://api.github.com/users/Gankra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Gankra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Gankra/subscriptions",
      "organizations_url": "https://api.github.com/users/Gankra/orgs",
      "repos_url": "https://api.github.com/users/Gankra/repos",
      "events_url": "https://api.github.com/users/Gankra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Gankra/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-05-25T02:15:35Z",
    "updated_at": "2017-05-25T02:15:35Z",
    "body": "This is very out of scope for this issue, IMO.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/303903551/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/303939441",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-303939441",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 303939441,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMzkzOTQ0MQ==",
    "user": {
      "login": "eddyb",
      "id": 77424,
      "node_id": "MDQ6VXNlcjc3NDI0",
      "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eddyb",
      "html_url": "https://github.com/eddyb",
      "followers_url": "https://api.github.com/users/eddyb/followers",
      "following_url": "https://api.github.com/users/eddyb/following{/other_user}",
      "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions",
      "organizations_url": "https://api.github.com/users/eddyb/orgs",
      "repos_url": "https://api.github.com/users/eddyb/repos",
      "events_url": "https://api.github.com/users/eddyb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eddyb/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-05-25T07:03:13Z",
    "updated_at": "2017-05-25T07:04:04Z",
    "body": "I still want the \"common\" constructor of `NonZero` to be `T -> Option<NonZero<T>>`.\r\nIt's safe, a noop and you're doing the check *somewhere* anyway (except for some unsafe APIs).\r\nWe could really be using `NonZero<usize> -> Option<Unique<u8>>` as the `malloc` signature.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/303939441/reactions",
      "total_count": 8,
      "+1": 8,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/311821231",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-311821231",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 311821231,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxMTgyMTIzMQ==",
    "user": {
      "login": "SimonSapin",
      "id": 291359,
      "node_id": "MDQ6VXNlcjI5MTM1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SimonSapin",
      "html_url": "https://github.com/SimonSapin",
      "followers_url": "https://api.github.com/users/SimonSapin/followers",
      "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}",
      "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions",
      "organizations_url": "https://api.github.com/users/SimonSapin/orgs",
      "repos_url": "https://api.github.com/users/SimonSapin/repos",
      "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SimonSapin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-06-28T23:36:50Z",
    "updated_at": "2017-06-28T23:36:50Z",
    "body": "> I still want the \"common\" constructor of NonZero to be T -> Option<NonZero<T>>.\r\n\r\nYes. I\u2019ve opened https://github.com/rust-lang/rust/pull/42959 to do this.\r\n\r\n----\r\n\r\nWith that change, I\u2019d like to propose FCP\u00a0to stabilize `Shared`. It\u2019s been around for more than long enough, and I think we\u2019ll have addressed all known concerns.\r\n\r\nI\u2019m not proposing to stabilize (yet) `Unique` because its value over `Shared` seems uncertain. And not `NonZero` either because I think we should not stabilize an API that involves a trait bound without stabilizing that trait, and I feel `Zeroable` is not polished enough (though I don\u2019t have a concrete proposal for it, sorry).",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/311821231/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/311919692",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-311919692",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 311919692,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxMTkxOTY5Mg==",
    "user": {
      "login": "SimonSapin",
      "id": 291359,
      "node_id": "MDQ6VXNlcjI5MTM1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SimonSapin",
      "html_url": "https://github.com/SimonSapin",
      "followers_url": "https://api.github.com/users/SimonSapin/followers",
      "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}",
      "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions",
      "organizations_url": "https://api.github.com/users/SimonSapin/orgs",
      "repos_url": "https://api.github.com/users/SimonSapin/repos",
      "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SimonSapin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-06-29T09:55:31Z",
    "updated_at": "2017-06-29T09:55:31Z",
    "body": "A hack to get the equivalent of `NonZero<usize>`, `NonZero<*const T>`, or `NonZero<*mut T>` on stable Rust is to abuse `&'static T` (in a properly encapsulated struct):\r\n\r\n```rust\r\n#[derive(Copy, Clone)]\r\npub struct NonZeroUsize(&'static ());\r\n\r\nimpl NonZeroUsize {\r\n    #[inline]\r\n    pub unsafe fn new(value: usize) -> Self {\r\n        NonZeroUsize(&*(value as *const ()))\r\n    }\r\n\r\n    #[inline]\r\n    pub fn get(self) -> usize {\r\n        self.0 as *const () as usize\r\n    }\r\n}\r\n```\r\n\r\n(I\u2019m not sure who invented/discovered it first. @bholley? @Manishearth?)",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/311919692/reactions",
      "total_count": 2,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 2,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/311993072",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-311993072",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 311993072,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxMTk5MzA3Mg==",
    "user": {
      "login": "Manishearth",
      "id": 1617736,
      "node_id": "MDQ6VXNlcjE2MTc3MzY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1617736?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Manishearth",
      "html_url": "https://github.com/Manishearth",
      "followers_url": "https://api.github.com/users/Manishearth/followers",
      "following_url": "https://api.github.com/users/Manishearth/following{/other_user}",
      "gists_url": "https://api.github.com/users/Manishearth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Manishearth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Manishearth/subscriptions",
      "organizations_url": "https://api.github.com/users/Manishearth/orgs",
      "repos_url": "https://api.github.com/users/Manishearth/repos",
      "events_url": "https://api.github.com/users/Manishearth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Manishearth/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-06-29T14:57:31Z",
    "updated_at": "2017-06-29T14:57:31Z",
    "body": "I think it was emilio or mystor.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/311993072/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/312070992",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-312070992",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 312070992,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxMjA3MDk5Mg==",
    "user": {
      "login": "bholley",
      "id": 377435,
      "node_id": "MDQ6VXNlcjM3NzQzNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/377435?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bholley",
      "html_url": "https://github.com/bholley",
      "followers_url": "https://api.github.com/users/bholley/followers",
      "following_url": "https://api.github.com/users/bholley/following{/other_user}",
      "gists_url": "https://api.github.com/users/bholley/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bholley/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bholley/subscriptions",
      "organizations_url": "https://api.github.com/users/bholley/orgs",
      "repos_url": "https://api.github.com/users/bholley/repos",
      "events_url": "https://api.github.com/users/bholley/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bholley/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-06-29T19:11:50Z",
    "updated_at": "2017-06-29T19:11:50Z",
    "body": "It was actually @nox, though he may be embarrassed to admit it. ;-)",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/312070992/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/312249070",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-312249070",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 312249070,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxMjI0OTA3MA==",
    "user": {
      "login": "Kixunil",
      "id": 1178779,
      "node_id": "MDQ6VXNlcjExNzg3Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1178779?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Kixunil",
      "html_url": "https://github.com/Kixunil",
      "followers_url": "https://api.github.com/users/Kixunil/followers",
      "following_url": "https://api.github.com/users/Kixunil/following{/other_user}",
      "gists_url": "https://api.github.com/users/Kixunil/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Kixunil/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Kixunil/subscriptions",
      "organizations_url": "https://api.github.com/users/Kixunil/orgs",
      "repos_url": "https://api.github.com/users/Kixunil/repos",
      "events_url": "https://api.github.com/users/Kixunil/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Kixunil/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-06-30T11:59:32Z",
    "updated_at": "2017-06-30T11:59:32Z",
    "body": "@SimonSapin I invented that technique independently too. However, in case of `&'static ()` I fear that compiler could \"optimize\" the reference into NULL, since `()` doesn't actually exist.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/312249070/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/312253541",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-312253541",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 312253541,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxMjI1MzU0MQ==",
    "user": {
      "login": "nox",
      "id": 123095,
      "node_id": "MDQ6VXNlcjEyMzA5NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/123095?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nox",
      "html_url": "https://github.com/nox",
      "followers_url": "https://api.github.com/users/nox/followers",
      "following_url": "https://api.github.com/users/nox/following{/other_user}",
      "gists_url": "https://api.github.com/users/nox/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nox/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nox/subscriptions",
      "organizations_url": "https://api.github.com/users/nox/orgs",
      "repos_url": "https://api.github.com/users/nox/repos",
      "events_url": "https://api.github.com/users/nox/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nox/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-06-30T12:24:22Z",
    "updated_at": "2017-06-30T12:24:22Z",
    "body": "There is no fear to have, this can't happen.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/312253541/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/312271703",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-312271703",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 312271703,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxMjI3MTcwMw==",
    "user": {
      "login": "Kixunil",
      "id": 1178779,
      "node_id": "MDQ6VXNlcjExNzg3Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1178779?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Kixunil",
      "html_url": "https://github.com/Kixunil",
      "followers_url": "https://api.github.com/users/Kixunil/followers",
      "following_url": "https://api.github.com/users/Kixunil/following{/other_user}",
      "gists_url": "https://api.github.com/users/Kixunil/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Kixunil/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Kixunil/subscriptions",
      "organizations_url": "https://api.github.com/users/Kixunil/orgs",
      "repos_url": "https://api.github.com/users/Kixunil/repos",
      "events_url": "https://api.github.com/users/Kixunil/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Kixunil/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-06-30T13:48:15Z",
    "updated_at": "2017-06-30T13:48:15Z",
    "body": "Seems like I got confused [by this RFC](https://users.rust-lang.org/t/pre-rfc-zero-sized-references-to-zero-sized-types/7744).",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/312271703/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/312279821",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-312279821",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 312279821,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxMjI3OTgyMQ==",
    "user": {
      "login": "SimonSapin",
      "id": 291359,
      "node_id": "MDQ6VXNlcjI5MTM1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SimonSapin",
      "html_url": "https://github.com/SimonSapin",
      "followers_url": "https://api.github.com/users/SimonSapin/followers",
      "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}",
      "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions",
      "organizations_url": "https://api.github.com/users/SimonSapin/orgs",
      "repos_url": "https://api.github.com/users/SimonSapin/repos",
      "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SimonSapin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-06-30T14:19:40Z",
    "updated_at": "2017-06-30T14:19:40Z",
    "body": "That RFC would break too much code to justify implementing it in Rust 3.0.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/312279821/reactions",
      "total_count": 4,
      "+1": 0,
      "-1": 0,
      "laugh": 3,
      "hooray": 0,
      "confused": 1,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/312412112",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-312412112",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 312412112,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxMjQxMjExMg==",
    "user": {
      "login": "SimonSapin",
      "id": 291359,
      "node_id": "MDQ6VXNlcjI5MTM1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SimonSapin",
      "html_url": "https://github.com/SimonSapin",
      "followers_url": "https://api.github.com/users/SimonSapin/followers",
      "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}",
      "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions",
      "organizations_url": "https://api.github.com/users/SimonSapin/orgs",
      "repos_url": "https://api.github.com/users/SimonSapin/repos",
      "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SimonSapin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-07-01T05:33:13Z",
    "updated_at": "2017-07-01T05:33:13Z",
    "body": "Back on topic:\r\n\r\n>> I still want the \"common\" constructor of NonZero to be T -> Option<NonZero<T>>.\r\n>\r\n> Yes. I\u2019ve opened https://github.com/rust-lang/rust/pull/42959 to do this.\r\n\r\nSomething came up in this PR\u2019s discussion. I renamed the existing `new` constructors to `new_unchecked` and changed all usage with `sed`. It turns out that most uses, at least in the standard library, did not do a zero/null check themselves because the value is known to be non-zero / non-null, for example a pointer from `Box::into_raw`. So if changed to the checked constructor they would use `.unwrap()`. It\u2019s debatable which of an `unsafe` block or using `.unwrap()` is preferable.\r\n\r\nI think we should have both checked and unchecked constructors. I don\u2019t mind much which one is \"the default\" (which one gets to be named `new`). Thoughts?",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/312412112/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/312412541",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-312412541",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 312412541,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxMjQxMjU0MQ==",
    "user": {
      "login": "Kixunil",
      "id": 1178779,
      "node_id": "MDQ6VXNlcjExNzg3Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1178779?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Kixunil",
      "html_url": "https://github.com/Kixunil",
      "followers_url": "https://api.github.com/users/Kixunil/followers",
      "following_url": "https://api.github.com/users/Kixunil/following{/other_user}",
      "gists_url": "https://api.github.com/users/Kixunil/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Kixunil/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Kixunil/subscriptions",
      "organizations_url": "https://api.github.com/users/Kixunil/orgs",
      "repos_url": "https://api.github.com/users/Kixunil/repos",
      "events_url": "https://api.github.com/users/Kixunil/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Kixunil/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-07-01T05:44:33Z",
    "updated_at": "2017-07-01T05:44:33Z",
    "body": "When creating newtypes with invariants I (almost?) always provide `fn new(val: Type) -> Option<Self>` and `unsafe fn new_unchecked(val: Type) -> Self`. I see no reason why standard library should do it differently.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/312412541/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/312412824",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-312412824",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 312412824,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxMjQxMjgyNA==",
    "user": {
      "login": "SimonSapin",
      "id": 291359,
      "node_id": "MDQ6VXNlcjI5MTM1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SimonSapin",
      "html_url": "https://github.com/SimonSapin",
      "followers_url": "https://api.github.com/users/SimonSapin/followers",
      "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}",
      "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions",
      "organizations_url": "https://api.github.com/users/SimonSapin/orgs",
      "repos_url": "https://api.github.com/users/SimonSapin/repos",
      "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SimonSapin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-07-01T05:51:41Z",
    "updated_at": "2017-07-01T05:53:27Z",
    "body": "Yes, `foo` + `foo_unchecked` is the precedent in the standard library too. Thought to be honest I care more about pushing this stuff to stabilization than about exact naming. I wouldn\u2019t really mind `new_checked` + `new`.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/312412824/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/312414241",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-312414241",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 312414241,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxMjQxNDI0MQ==",
    "user": {
      "login": "eddyb",
      "id": 77424,
      "node_id": "MDQ6VXNlcjc3NDI0",
      "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eddyb",
      "html_url": "https://github.com/eddyb",
      "followers_url": "https://api.github.com/users/eddyb/followers",
      "following_url": "https://api.github.com/users/eddyb/following{/other_user}",
      "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions",
      "organizations_url": "https://api.github.com/users/eddyb/orgs",
      "repos_url": "https://api.github.com/users/eddyb/repos",
      "events_url": "https://api.github.com/users/eddyb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eddyb/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-07-01T06:28:46Z",
    "updated_at": "2017-07-01T06:28:46Z",
    "body": "> because the value is known to be non-zero / non-null\r\n\r\nThen *the type* should reflect that (e.g. in allocators). `Box::into_raw` is a bit unfortunate I suppose.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/312414241/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/312446837",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-312446837",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 312446837,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxMjQ0NjgzNw==",
    "user": {
      "login": "Ixrec",
      "id": 5285357,
      "node_id": "MDQ6VXNlcjUyODUzNTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5285357?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Ixrec",
      "html_url": "https://github.com/Ixrec",
      "followers_url": "https://api.github.com/users/Ixrec/followers",
      "following_url": "https://api.github.com/users/Ixrec/following{/other_user}",
      "gists_url": "https://api.github.com/users/Ixrec/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Ixrec/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Ixrec/subscriptions",
      "organizations_url": "https://api.github.com/users/Ixrec/orgs",
      "repos_url": "https://api.github.com/users/Ixrec/repos",
      "events_url": "https://api.github.com/users/Ixrec/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Ixrec/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-07-01T18:01:19Z",
    "updated_at": "2017-07-01T18:02:22Z",
    "body": "We could add a `Box::into_nonzero` method for unsafe-but-not-FFI use cases like https://github.com/rust-lang/rust/pull/42959",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/312446837/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/312446896",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-312446896",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 312446896,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxMjQ0Njg5Ng==",
    "user": {
      "login": "eddyb",
      "id": 77424,
      "node_id": "MDQ6VXNlcjc3NDI0",
      "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eddyb",
      "html_url": "https://github.com/eddyb",
      "followers_url": "https://api.github.com/users/eddyb/followers",
      "following_url": "https://api.github.com/users/eddyb/following{/other_user}",
      "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions",
      "organizations_url": "https://api.github.com/users/eddyb/orgs",
      "repos_url": "https://api.github.com/users/eddyb/repos",
      "events_url": "https://api.github.com/users/eddyb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eddyb/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-07-01T18:02:35Z",
    "updated_at": "2017-07-01T18:02:35Z",
    "body": "@Ixrec `Unique` and/or `Shared` are a bit closer to what `Box` is.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/312446896/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/312452299",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-312452299",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 312452299,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxMjQ1MjI5OQ==",
    "user": {
      "login": "SimonSapin",
      "id": 291359,
      "node_id": "MDQ6VXNlcjI5MTM1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SimonSapin",
      "html_url": "https://github.com/SimonSapin",
      "followers_url": "https://api.github.com/users/SimonSapin/followers",
      "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}",
      "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions",
      "organizations_url": "https://api.github.com/users/SimonSapin/orgs",
      "repos_url": "https://api.github.com/users/SimonSapin/repos",
      "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SimonSapin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-07-01T19:50:25Z",
    "updated_at": "2017-07-01T19:50:25Z",
    "body": "Perhaps also add conversions between `Unique<T>`, `Shared<T>`, and `NonZero<*mut T>`?",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/312452299/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/312685189",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-312685189",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 312685189,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxMjY4NTE4OQ==",
    "user": {
      "login": "aturon",
      "id": 709807,
      "node_id": "MDQ6VXNlcjcwOTgwNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/709807?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aturon",
      "html_url": "https://github.com/aturon",
      "followers_url": "https://api.github.com/users/aturon/followers",
      "following_url": "https://api.github.com/users/aturon/following{/other_user}",
      "gists_url": "https://api.github.com/users/aturon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aturon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aturon/subscriptions",
      "organizations_url": "https://api.github.com/users/aturon/orgs",
      "repos_url": "https://api.github.com/users/aturon/repos",
      "events_url": "https://api.github.com/users/aturon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aturon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-07-03T16:11:21Z",
    "updated_at": "2017-07-03T16:11:21Z",
    "body": "I'm proposing FCP for `Shared`, though feel free to argue for stabilization of other pieces as well.\r\n\r\n@rfcbot fcp merge",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/312685189/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/312687919",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-312687919",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 312687919,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxMjY4NzkxOQ==",
    "user": {
      "login": "SimonSapin",
      "id": 291359,
      "node_id": "MDQ6VXNlcjI5MTM1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SimonSapin",
      "html_url": "https://github.com/SimonSapin",
      "followers_url": "https://api.github.com/users/SimonSapin/followers",
      "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}",
      "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions",
      "organizations_url": "https://api.github.com/users/SimonSapin/orgs",
      "repos_url": "https://api.github.com/users/SimonSapin/repos",
      "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SimonSapin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-07-03T16:25:10Z",
    "updated_at": "2017-07-03T16:25:10Z",
    "body": "While I\u2019m happy to see progress happening, we should decide on https://github.com/rust-lang/rust/pull/42959#issuecomment-312186551 first.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/312687919/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/312690095",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-312690095",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 312690095,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxMjY5MDA5NQ==",
    "user": {
      "login": "Kixunil",
      "id": 1178779,
      "node_id": "MDQ6VXNlcjExNzg3Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1178779?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Kixunil",
      "html_url": "https://github.com/Kixunil",
      "followers_url": "https://api.github.com/users/Kixunil/followers",
      "following_url": "https://api.github.com/users/Kixunil/following{/other_user}",
      "gists_url": "https://api.github.com/users/Kixunil/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Kixunil/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Kixunil/subscriptions",
      "organizations_url": "https://api.github.com/users/Kixunil/orgs",
      "repos_url": "https://api.github.com/users/Kixunil/repos",
      "events_url": "https://api.github.com/users/Kixunil/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Kixunil/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-07-03T16:36:21Z",
    "updated_at": "2017-07-03T16:36:21Z",
    "body": "Any reason why there's no `impl<T> From<NonZero<T>> for T`?\r\n\r\nI think `NonZero` might be used in safe code too to guarantee that some number is not zero. That would mean `unsafe fn new_unchecked()` is probably preferable.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/312690095/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/312690735",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-312690735",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 312690735,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxMjY5MDczNQ==",
    "user": {
      "login": "aturon",
      "id": 709807,
      "node_id": "MDQ6VXNlcjcwOTgwNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/709807?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aturon",
      "html_url": "https://github.com/aturon",
      "followers_url": "https://api.github.com/users/aturon/followers",
      "following_url": "https://api.github.com/users/aturon/following{/other_user}",
      "gists_url": "https://api.github.com/users/aturon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aturon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aturon/subscriptions",
      "organizations_url": "https://api.github.com/users/aturon/orgs",
      "repos_url": "https://api.github.com/users/aturon/repos",
      "events_url": "https://api.github.com/users/aturon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aturon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-07-03T16:40:01Z",
    "updated_at": "2017-07-03T16:40:01Z",
    "body": "@SimonSapin ah, hadn't gotten there in my inbox triage yet.\r\n\r\nI'm basically with @alexcrichton: I think it's fine to have both variants, don't have a strong opinion on which should be the \"default\", except that it should match expected/existing usage. @Gankro, do you have thoughts?",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/312690735/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/312692640",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-312692640",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 312692640,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxMjY5MjY0MA==",
    "user": {
      "login": "rfcbot",
      "id": 20760818,
      "node_id": "MDQ6VXNlcjIwNzYwODE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/20760818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rfcbot",
      "html_url": "https://github.com/rfcbot",
      "followers_url": "https://api.github.com/users/rfcbot/followers",
      "following_url": "https://api.github.com/users/rfcbot/following{/other_user}",
      "gists_url": "https://api.github.com/users/rfcbot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rfcbot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rfcbot/subscriptions",
      "organizations_url": "https://api.github.com/users/rfcbot/orgs",
      "repos_url": "https://api.github.com/users/rfcbot/repos",
      "events_url": "https://api.github.com/users/rfcbot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rfcbot/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-07-03T16:50:18Z",
    "updated_at": "2017-08-01T20:17:57Z",
    "body": "Team member @aturon has proposed to merge this. The next step is review by the rest of the tagged teams:\n\n* [ ] @BurntSushi\n* [ ] @Kimundi\n* [x] @alexcrichton\n* [x] @aturon\n* [ ] @brson\n* [ ] @dtolnay\n* [ ] @sfackler\n\nConcerns:\n\n* ~~new-unchecked~~ resolved by https://github.com/rust-lang/rust/issues/27730#issuecomment-316238408\n\nOnce these reviewers reach consensus, this will enter its final comment period. If you spot a major issue that hasn't been raised at any point in this process, please speak up!\n\nSee [this document](https://github.com/dikaiosune/rust-dashboard/blob/master/RFCBOT.md) for info about what commands tagged team members can give me.",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/312692640/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/312701228",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-312701228",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 312701228,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxMjcwMTIyOA==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-07-03T17:37:52Z",
    "updated_at": "2017-07-03T17:37:52Z",
    "body": "@rfcbot concern new-unchecked\r\n\r\nJust to make sure we don't lose this...\r\n\r\nI'm not even sure if @aturon's proposed stabilization covers this method, but I'm sort of assuming it does. This method has not landed yet and is proposed in #42959. I feel that it's not ready yet because it was added but all existing uses of `new` now use `new_unchecked`, which to me seems like we're calling the \"idiomatic constructor\" `new_unchecked` and the rarely used constructor `new`. I think we may want a better balance of concerns here, more conversions as mentioned above, or *something* before stabilizing such a method.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/312701228/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/312705304",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-312705304",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 312705304,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxMjcwNTMwNA==",
    "user": {
      "login": "SimonSapin",
      "id": 291359,
      "node_id": "MDQ6VXNlcjI5MTM1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SimonSapin",
      "html_url": "https://github.com/SimonSapin",
      "followers_url": "https://api.github.com/users/SimonSapin/followers",
      "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}",
      "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions",
      "organizations_url": "https://api.github.com/users/SimonSapin/orgs",
      "repos_url": "https://api.github.com/users/SimonSapin/repos",
      "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SimonSapin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-07-03T18:01:49Z",
    "updated_at": "2017-07-03T18:01:49Z",
    "body": "The status quo is that `new` is unchecked (and unsafe) and is the only constructor. I think that adding checked constructors is uncontroversial. So options are:\r\n\r\n* `fn new_checked(\u2026) -> Option<Self>` and `unsafe fn new(\u2026) -> Self`\r\n* `fn new_checked(\u2026) -> Option<Self>` and `unsafe fn new_unchecked(\u2026) -> Self`\r\n* `fn new(\u2026) -> Option<Self>` and `unsafe fn new_unchecked(\u2026) -> Self`\r\n\r\nThey correspond respectively to the first commit of #42959, the first two commits, and all three commits.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/312705304/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/312740081",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-312740081",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 312740081,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxMjc0MDA4MQ==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-07-03T21:55:36Z",
    "updated_at": "2017-07-03T21:55:36Z",
    "body": "Given what I've currently seen (everything in libstd uses the \"unchecked constructor\") I'd avocate omitting a checked constructor from a first pass at stabilization.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/312740081/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 1,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/312746939",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-312746939",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 312746939,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxMjc0NjkzOQ==",
    "user": {
      "login": "glaebhoerl",
      "id": 1216629,
      "node_id": "MDQ6VXNlcjEyMTY2Mjk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1216629?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/glaebhoerl",
      "html_url": "https://github.com/glaebhoerl",
      "followers_url": "https://api.github.com/users/glaebhoerl/followers",
      "following_url": "https://api.github.com/users/glaebhoerl/following{/other_user}",
      "gists_url": "https://api.github.com/users/glaebhoerl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/glaebhoerl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/glaebhoerl/subscriptions",
      "organizations_url": "https://api.github.com/users/glaebhoerl/orgs",
      "repos_url": "https://api.github.com/users/glaebhoerl/repos",
      "events_url": "https://api.github.com/users/glaebhoerl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/glaebhoerl/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-07-03T23:01:06Z",
    "updated_at": "2017-07-03T23:01:06Z",
    "body": "> Given what I've currently seen (everything in libstd uses the \"unchecked constructor\")\r\n\r\nJust to be clear, this is intended to mean \"nothing currently in `libstd` *wants* the checked constructor\", rather than \"nothing uses it because it doesn't yet exist\"?",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/312746939/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/312754664",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-312754664",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 312754664,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxMjc1NDY2NA==",
    "user": {
      "login": "SimonSapin",
      "id": 291359,
      "node_id": "MDQ6VXNlcjI5MTM1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SimonSapin",
      "html_url": "https://github.com/SimonSapin",
      "followers_url": "https://api.github.com/users/SimonSapin/followers",
      "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}",
      "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions",
      "organizations_url": "https://api.github.com/users/SimonSapin/orgs",
      "repos_url": "https://api.github.com/users/SimonSapin/repos",
      "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SimonSapin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-07-04T00:37:10Z",
    "updated_at": "2017-07-04T00:42:25Z",
    "body": "@glaebhoerl There\u2019s some of both.\r\n\r\nAlright, I went through every call site changed in #42959 (which I initially made mechanically with `sed`). Results below\r\n\r\nIt\u2019s not as clear-cut as @alexcrichton suggests. First, most calls could be made unnecessary. Of the few remaining ones, most could be either `unsafe` unchecked or checked + unwrapping. I think we generally prefer safety by default (for example with checked slice indexing), resorting to unsafety when some piece of code turns out to be part of hot loops and the optimizer turns out to be unable to prove enough invariants to eliminate checks. But it\u2019s not clear at all that this trade-off was made consciously in *any* case here, since the checked constructors did not exist before that PR.\r\n\r\n----\r\n\r\nI counted 31 call sites outside of tests.\r\n\r\n* 21 can be replaced with new APIs that encode non-zeroness in their signature, removing the need for checking or unsafely assuming:\r\n\r\n  * Adding conversions between `Unique<T>`, `Shared<T>`, `NonZero<*mut T>`, and possibly `NonZero<*const T>`, with up to 6 new impls of the `From` trait. This would replace 2 calls directly, and more when combined with following items.\r\n  * Various memory allocations APIs like `Alloc::alloc` return a pointer that is guaranteed to be non-null. They should encode this in their signature by returning e.g. `Unique<T>` instead of `*mut T`. Would replace 5 calls.\r\n  * `Box::into_raw` also returns a `*mut T` that is guaranteed to be non-null. A new `Box::into_unique(Box<T>) -> Unique<T>` method could be added, replacing 9 calls.\r\n  * 2 calls have a parameter of the form `ptr.offset(offset_of!(\u2026))` perhaps `offset_of!` should return `Shared<T>`?\r\n  * 2 calls convert their argument from `&mut T` to `*mut T`. More `From` impls?\r\n  * `Vec::into_iter` uses `Shared::new_unchecked(self.as_mut_ptr())`. This could be replace by a new `RawVec` method that returns its `Unique<T>` field as such, not just as `*mut T`.\r\n\r\n* One call (in `btree::node::NodeRef::ascend`) does an explicit null check, and could match on the return value of a checked constructor instead.\r\n\r\n* Three calls are in functions that are themselves unsafe, take a `*mut T` parameter, and document that the caller must not pass null pointers. Since unsafety is already involved, these probably should keep using the unchecked constructor. (If these APIs were not stable already, we should consider making them take `Shared<T>` or `Unique<T>` instead.)\r\n\r\n* 6 calls use the unchecked constructor in an unsafe block, but could just as well use the checked one and then use `.unwrap()`.It\u2019s a subjective call whether unsafety or unwrapping is preferable.\r\n\r\n  * `Shared::empty` and `Unique::empty` are constructors based on `mem::align_of`, whose return value is always >= 1.\r\n  * One call has an argument of the form `(x as u32) + 1`.\r\n  * Three calls do manual pointer tagging (starting from `&T` or `Unique<T>`), so `From` impls wouldn\u2019t help there.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/312754664/reactions",
      "total_count": 5,
      "+1": 5,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/312754967",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-312754967",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 312754967,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxMjc1NDk2Nw==",
    "user": {
      "login": "SimonSapin",
      "id": 291359,
      "node_id": "MDQ6VXNlcjI5MTM1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SimonSapin",
      "html_url": "https://github.com/SimonSapin",
      "followers_url": "https://api.github.com/users/SimonSapin/followers",
      "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}",
      "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions",
      "organizations_url": "https://api.github.com/users/SimonSapin/orgs",
      "repos_url": "https://api.github.com/users/SimonSapin/repos",
      "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SimonSapin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-07-04T00:40:52Z",
    "updated_at": "2017-07-04T00:40:52Z",
    "body": "By the way, this shows that `Unique<T>` and `Shared<T>` are mostly interchangeable. According to https://github.com/rust-lang/rust/issues/27730#issuecomment-300530242 the only difference is that `Unique<T>` has additional non-aliasing semantics that could potentially enable future optimizations. But such optimizations apparently don\u2019t exist yet, so they\u2019re effectively the same in today\u2019s compilers.\r\n\r\nIs it really worth having two separate types? The name `Shared` mostly only makes sense when opposed to `Unique`. If the two types were to be merged into one, what should it be called?",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/312754967/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/312861401",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-312861401",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 312861401,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxMjg2MTQwMQ==",
    "user": {
      "login": "Kixunil",
      "id": 1178779,
      "node_id": "MDQ6VXNlcjExNzg3Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1178779?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Kixunil",
      "html_url": "https://github.com/Kixunil",
      "followers_url": "https://api.github.com/users/Kixunil/followers",
      "following_url": "https://api.github.com/users/Kixunil/following{/other_user}",
      "gists_url": "https://api.github.com/users/Kixunil/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Kixunil/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Kixunil/subscriptions",
      "organizations_url": "https://api.github.com/users/Kixunil/orgs",
      "repos_url": "https://api.github.com/users/Kixunil/repos",
      "events_url": "https://api.github.com/users/Kixunil/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Kixunil/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-07-04T12:07:23Z",
    "updated_at": "2017-07-04T12:07:23Z",
    "body": "@SimonSapin I like your analysis very much! More conversion impls and some refactoring seem like way to go for me.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/312861401/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/312946969",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-312946969",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 312946969,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxMjk0Njk2OQ==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-07-04T20:12:39Z",
    "updated_at": "2017-07-04T20:12:39Z",
    "body": "Hm with that information I'm not sure I understand the rationale for having a checked constructor. It seems like there's one btree location that wants a checked part (maybe) and others don't? Otherwise if we have to overhaul everything and add dozens of conversions, why don't we just stick with the status quote as an `unsafe` function? Are usage contexts for these types not already incredibly unsafe regardless?",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/312946969/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/312947655",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-312947655",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 312947655,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxMjk0NzY1NQ==",
    "user": {
      "login": "SimonSapin",
      "id": 291359,
      "node_id": "MDQ6VXNlcjI5MTM1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SimonSapin",
      "html_url": "https://github.com/SimonSapin",
      "followers_url": "https://api.github.com/users/SimonSapin/followers",
      "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}",
      "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions",
      "organizations_url": "https://api.github.com/users/SimonSapin/orgs",
      "repos_url": "https://api.github.com/users/SimonSapin/repos",
      "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SimonSapin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-07-04T20:18:58Z",
    "updated_at": "2017-07-04T20:18:58Z",
    "body": "The unsafe unchecked constructor is not going away. I\u2019m proposing adding additional APIs to make `unsafe` unnecessary in most cases.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/312947655/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/312949056",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-312949056",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 312949056,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxMjk0OTA1Ng==",
    "user": {
      "login": "Kixunil",
      "id": 1178779,
      "node_id": "MDQ6VXNlcjExNzg3Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1178779?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Kixunil",
      "html_url": "https://github.com/Kixunil",
      "followers_url": "https://api.github.com/users/Kixunil/followers",
      "following_url": "https://api.github.com/users/Kixunil/following{/other_user}",
      "gists_url": "https://api.github.com/users/Kixunil/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Kixunil/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Kixunil/subscriptions",
      "organizations_url": "https://api.github.com/users/Kixunil/orgs",
      "repos_url": "https://api.github.com/users/Kixunil/repos",
      "events_url": "https://api.github.com/users/Kixunil/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Kixunil/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-07-04T20:32:32Z",
    "updated_at": "2017-07-04T20:32:32Z",
    "body": "@alexcrichton I've encountered many instances when I knew a value can't be zero and wanted to express it. `NonZero<T>` is perfect fit for this because it also enables compiler optimization. It'd suck if all the code that want's to create `NonZero<T>` would have to use `unsafe` - that is exactly what is **not** the design goal of Rust.\r\n\r\nFor one example, look at [this](https://github.com/nix-rust/nix/pull/629) recently merged PR. There is `Pid` newtype and probably could be `NonZero`. (Well, according to [Wikipedia](https://en.wikipedia.org/wiki/Process_identifier) PID 0 can be scheduler, but I don't know how useful is that in practice.) Why using `unsafe` there?\r\n\r\nAlso `slice::windows()` (and `chunks(_mut)`) accepts non-zero size (sadly, changing the API to accept `NonZero<usize>` would be breaking change.)\r\n\r\nI wonder how much hits would we get from running `rg ' != 0' stdlib`.\r\n\r\nI believe that `NonZero<T>` is basically a newtype and it definitely should have safe constructor.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/312949056/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/315336752",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-315336752",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 315336752,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNTMzNjc1Mg==",
    "user": {
      "login": "SimonSapin",
      "id": 291359,
      "node_id": "MDQ6VXNlcjI5MTM1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SimonSapin",
      "html_url": "https://github.com/SimonSapin",
      "followers_url": "https://api.github.com/users/SimonSapin/followers",
      "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}",
      "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions",
      "organizations_url": "https://api.github.com/users/SimonSapin/orgs",
      "repos_url": "https://api.github.com/users/SimonSapin/repos",
      "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SimonSapin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-07-14T11:24:23Z",
    "updated_at": "2017-07-14T11:24:23Z",
    "body": "> 21 can be replaced with new APIs that encode non-zeroness in their signature, removing the need for checking or unsafely assuming\r\n\r\nI\u2019ve added commits to #42959 to do some of this.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/315336752/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/315492440",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-315492440",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 315492440,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNTQ5MjQ0MA==",
    "user": {
      "login": "joshlf",
      "id": 1046063,
      "node_id": "MDQ6VXNlcjEwNDYwNjM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1046063?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/joshlf",
      "html_url": "https://github.com/joshlf",
      "followers_url": "https://api.github.com/users/joshlf/followers",
      "following_url": "https://api.github.com/users/joshlf/following{/other_user}",
      "gists_url": "https://api.github.com/users/joshlf/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/joshlf/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/joshlf/subscriptions",
      "organizations_url": "https://api.github.com/users/joshlf/orgs",
      "repos_url": "https://api.github.com/users/joshlf/repos",
      "events_url": "https://api.github.com/users/joshlf/events{/privacy}",
      "received_events_url": "https://api.github.com/users/joshlf/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-07-14T23:47:40Z",
    "updated_at": "2017-07-14T23:47:40Z",
    "body": "@SimonSapin \r\n\r\n>  According to [#27730 (comment)](https://github.com/rust-lang/rust/issues/27730#issuecomment-300530242) the only difference is that `Unique<T>` has additional non-aliasing semantics that could potentially enable future optimizations. But such optimizations apparently don\u2019t exist yet, so they\u2019re effectively the same in today\u2019s compilers.\r\n\r\nTo clarify, does this mean that the only difference between `*mut T` and `Shared<T>` is that the latter cannot be null?",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/315492440/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/315492732",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-315492732",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 315492732,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNTQ5MjczMg==",
    "user": {
      "login": "Manishearth",
      "id": 1617736,
      "node_id": "MDQ6VXNlcjE2MTc3MzY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1617736?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Manishearth",
      "html_url": "https://github.com/Manishearth",
      "followers_url": "https://api.github.com/users/Manishearth/followers",
      "following_url": "https://api.github.com/users/Manishearth/following{/other_user}",
      "gists_url": "https://api.github.com/users/Manishearth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Manishearth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Manishearth/subscriptions",
      "organizations_url": "https://api.github.com/users/Manishearth/orgs",
      "repos_url": "https://api.github.com/users/Manishearth/repos",
      "events_url": "https://api.github.com/users/Manishearth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Manishearth/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-07-14T23:50:17Z",
    "updated_at": "2017-07-14T23:50:17Z",
    "body": "@joshlf `Shared<T>` also has the correct Send/Sync impls and the correct variance via PhantomData.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/315492732/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/315494884",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-315494884",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 315494884,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNTQ5NDg4NA==",
    "user": {
      "login": "Gankra",
      "id": 1136864,
      "node_id": "MDQ6VXNlcjExMzY4NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1136864?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Gankra",
      "html_url": "https://github.com/Gankra",
      "followers_url": "https://api.github.com/users/Gankra/followers",
      "following_url": "https://api.github.com/users/Gankra/following{/other_user}",
      "gists_url": "https://api.github.com/users/Gankra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Gankra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Gankra/subscriptions",
      "organizations_url": "https://api.github.com/users/Gankra/orgs",
      "repos_url": "https://api.github.com/users/Gankra/repos",
      "events_url": "https://api.github.com/users/Gankra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Gankra/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-07-15T00:10:24Z",
    "updated_at": "2017-07-15T00:10:24Z",
    "body": "Shared doesn't have Send/Sync impls",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/315494884/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/315495808",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-315495808",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 315495808,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNTQ5NTgwOA==",
    "user": {
      "login": "Manishearth",
      "id": 1617736,
      "node_id": "MDQ6VXNlcjE2MTc3MzY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1617736?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Manishearth",
      "html_url": "https://github.com/Manishearth",
      "followers_url": "https://api.github.com/users/Manishearth/followers",
      "following_url": "https://api.github.com/users/Manishearth/following{/other_user}",
      "gists_url": "https://api.github.com/users/Manishearth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Manishearth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Manishearth/subscriptions",
      "organizations_url": "https://api.github.com/users/Manishearth/orgs",
      "repos_url": "https://api.github.com/users/Manishearth/repos",
      "events_url": "https://api.github.com/users/Manishearth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Manishearth/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-07-15T00:22:47Z",
    "updated_at": "2017-07-15T00:22:47Z",
    "body": "Oh, right",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/315495808/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/315505248",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-315505248",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 315505248,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNTUwNTI0OA==",
    "user": {
      "login": "joshlf",
      "id": 1046063,
      "node_id": "MDQ6VXNlcjEwNDYwNjM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1046063?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/joshlf",
      "html_url": "https://github.com/joshlf",
      "followers_url": "https://api.github.com/users/joshlf/followers",
      "following_url": "https://api.github.com/users/joshlf/following{/other_user}",
      "gists_url": "https://api.github.com/users/joshlf/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/joshlf/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/joshlf/subscriptions",
      "organizations_url": "https://api.github.com/users/joshlf/orgs",
      "repos_url": "https://api.github.com/users/joshlf/repos",
      "events_url": "https://api.github.com/users/joshlf/events{/privacy}",
      "received_events_url": "https://api.github.com/users/joshlf/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-07-15T03:08:40Z",
    "updated_at": "2017-07-15T03:08:40Z",
    "body": "@Manishearth Looks like [variance isn't the issue](https://doc.rust-lang.org/1.11.0/src/core/up/src/libcore/ptr.rs.html#749-757), just ownership of a `T` for the purposes of the dropck rule.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/315505248/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/316236397",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-316236397",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 316236397,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNjIzNjM5Nw==",
    "user": {
      "login": "aturon",
      "id": 709807,
      "node_id": "MDQ6VXNlcjcwOTgwNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/709807?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aturon",
      "html_url": "https://github.com/aturon",
      "followers_url": "https://api.github.com/users/aturon/followers",
      "following_url": "https://api.github.com/users/aturon/following{/other_user}",
      "gists_url": "https://api.github.com/users/aturon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aturon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aturon/subscriptions",
      "organizations_url": "https://api.github.com/users/aturon/orgs",
      "repos_url": "https://api.github.com/users/aturon/repos",
      "events_url": "https://api.github.com/users/aturon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aturon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-07-19T00:23:21Z",
    "updated_at": "2017-07-19T00:23:21Z",
    "body": "The libs team talked about this issue a bit in our meeting today:\r\n\r\n- We agreed with @SimonSapin that proving checked default constructors, and unchecked variants, is the right way to go. In particular, it would be easy to think that `Shared` was just another form of raw pointer, and that using it with null is perfectly fine. If you're doing so within already-unsafe blocks, you could get UB without ever realizing it. At the very least, the `_unchecked` variants give you a heads up that there's a relevant contract.\r\n\r\n- As to the `Unique`/`Shared` distinction: this seems to come down, to some degree, on what we're ultimately trying to achieve with these types.\r\n  - The original vision, as I understand it, was for these types to be aids in writing unsafe code correctly. The distinction signals intent, and at least aids with auto traits.\r\n  - On the other hand, we could instead see these types as essentially a way to get a stable `NonZeroPtr` type, in which case unifying them would be fine.\r\n\r\nWriting this up, it occurs to me that these two perspectives on the types are not mutually-exclusive: we could stabilize `NonZeroPtr` now and consider the others later.\r\n\r\nOnce we reach consensus on this point, I think we're ready to go.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/316236397/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/316238408",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-316238408",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 316238408,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNjIzODQwOA==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-07-19T00:38:05Z",
    "updated_at": "2017-07-19T00:38:05Z",
    "body": "@rfcbot resolved new-unchecked\r\n\r\nThe [associated PR](@rfcbot concern new-unchecked) has been updated with `From` and such conversions, and looks good to me.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/316238408/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/316249594",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-316249594",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 316249594,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNjI0OTU5NA==",
    "user": {
      "login": "Gankra",
      "id": 1136864,
      "node_id": "MDQ6VXNlcjExMzY4NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1136864?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Gankra",
      "html_url": "https://github.com/Gankra",
      "followers_url": "https://api.github.com/users/Gankra/followers",
      "following_url": "https://api.github.com/users/Gankra/following{/other_user}",
      "gists_url": "https://api.github.com/users/Gankra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Gankra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Gankra/subscriptions",
      "organizations_url": "https://api.github.com/users/Gankra/orgs",
      "repos_url": "https://api.github.com/users/Gankra/repos",
      "events_url": "https://api.github.com/users/Gankra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Gankra/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-07-19T01:55:47Z",
    "updated_at": "2017-07-19T01:55:47Z",
    "body": "As I believe I've stated above. I am happy with publically stabilizing Shared (what you call NonZeroPtr) and keeping Unique alive in the stdlib. It's nice-to-have and has no cost for us.\r\n\r\nI am massively apathetic about naming at this point. Shared could be called UnsafePtr or RawPtr or Ptr. I don't want NonZero in the name, though (if you want a Totally Honest name you need to call it NonZeroCovariantPtrThatMaybeOwns).",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/316249594/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/316270316",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-316270316",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 316270316,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNjI3MDMxNg==",
    "user": {
      "login": "joshlf",
      "id": 1046063,
      "node_id": "MDQ6VXNlcjEwNDYwNjM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1046063?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/joshlf",
      "html_url": "https://github.com/joshlf",
      "followers_url": "https://api.github.com/users/joshlf/followers",
      "following_url": "https://api.github.com/users/joshlf/following{/other_user}",
      "gists_url": "https://api.github.com/users/joshlf/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/joshlf/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/joshlf/subscriptions",
      "organizations_url": "https://api.github.com/users/joshlf/orgs",
      "repos_url": "https://api.github.com/users/joshlf/repos",
      "events_url": "https://api.github.com/users/joshlf/events{/privacy}",
      "received_events_url": "https://api.github.com/users/joshlf/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-07-19T04:36:46Z",
    "updated_at": "2017-07-19T04:36:46Z",
    "body": "> On the other hand, we could instead see these types as essentially a way to get a stable `NonZeroPtr` type, in which case unifying them would be fine.\r\n\r\n> if you want a Totally Honest name you need to call it NonZeroCovariantPtrThatMaybeOwns\r\n\r\nWould `NonZeroPtr` have the same ownership semantics as `Shared`, or would it literally just be \"`*mut T` except that it can't be zero\"?",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/316270316/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/316411459",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-316411459",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 316411459,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNjQxMTQ1OQ==",
    "user": {
      "login": "Gankra",
      "id": 1136864,
      "node_id": "MDQ6VXNlcjExMzY4NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1136864?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Gankra",
      "html_url": "https://github.com/Gankra",
      "followers_url": "https://api.github.com/users/Gankra/followers",
      "following_url": "https://api.github.com/users/Gankra/following{/other_user}",
      "gists_url": "https://api.github.com/users/Gankra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Gankra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Gankra/subscriptions",
      "organizations_url": "https://api.github.com/users/Gankra/orgs",
      "repos_url": "https://api.github.com/users/Gankra/repos",
      "events_url": "https://api.github.com/users/Gankra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Gankra/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-07-19T14:48:14Z",
    "updated_at": "2017-07-19T14:48:14Z",
    "body": "I am like 50% sure the ownership part is actually meaningless now. It only mattered for dropck when we did it, and I think the dropck aspect has been removed.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/316411459/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/316413411",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-316413411",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 316413411,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNjQxMzQxMQ==",
    "user": {
      "login": "SimonSapin",
      "id": 291359,
      "node_id": "MDQ6VXNlcjI5MTM1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SimonSapin",
      "html_url": "https://github.com/SimonSapin",
      "followers_url": "https://api.github.com/users/SimonSapin/followers",
      "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}",
      "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions",
      "organizations_url": "https://api.github.com/users/SimonSapin/orgs",
      "repos_url": "https://api.github.com/users/SimonSapin/repos",
      "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SimonSapin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-07-19T14:54:19Z",
    "updated_at": "2017-07-19T14:54:19Z",
    "body": "They still both contain `PhantomData<T>` whereas `NonZero<*const T>` doesn\u2019t. Does that not affect dropck, if `T` contains a reference with a lifetime?",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/316413411/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/316415664",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-316415664",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 316415664,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNjQxNTY2NA==",
    "user": {
      "login": "Gankra",
      "id": 1136864,
      "node_id": "MDQ6VXNlcjExMzY4NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1136864?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Gankra",
      "html_url": "https://github.com/Gankra",
      "followers_url": "https://api.github.com/users/Gankra/followers",
      "following_url": "https://api.github.com/users/Gankra/following{/other_user}",
      "gists_url": "https://api.github.com/users/Gankra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Gankra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Gankra/subscriptions",
      "organizations_url": "https://api.github.com/users/Gankra/orgs",
      "repos_url": "https://api.github.com/users/Gankra/repos",
      "events_url": "https://api.github.com/users/Gankra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Gankra/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-07-19T15:01:17Z",
    "updated_at": "2017-07-19T15:01:17Z",
    "body": "I'm saying the latest version of dropck doesn't contain the same magic that made this matter. Specifically PhantomData<T> turned off magic, and now it's just always off, with unsafe opt-in attributes. \r\n\r\nI'm verifying this now.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/316415664/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/316432083",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-316432083",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 316432083,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNjQzMjA4Mw==",
    "user": {
      "login": "Gankra",
      "id": 1136864,
      "node_id": "MDQ6VXNlcjExMzY4NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1136864?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Gankra",
      "html_url": "https://github.com/Gankra",
      "followers_url": "https://api.github.com/users/Gankra/followers",
      "following_url": "https://api.github.com/users/Gankra/following{/other_user}",
      "gists_url": "https://api.github.com/users/Gankra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Gankra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Gankra/subscriptions",
      "organizations_url": "https://api.github.com/users/Gankra/orgs",
      "repos_url": "https://api.github.com/users/Gankra/repos",
      "events_url": "https://api.github.com/users/Gankra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Gankra/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-07-19T15:54:14Z",
    "updated_at": "2017-07-19T15:55:40Z",
    "body": "Shared appears to behave identically to `*const T` now, meaning PhantomData<T> is no longer important for Shared. Its only uses are making something invariant and deriving Send/Sync, neither of which are used by Shared.\r\n\r\nThe only question is if this will be true *for all eternity*. I think so, but I need to verify with @pnkfelix and @nikomatsakis.\r\n\r\n```rust\r\n#![feature(shared, generic_param_attrs, dropck_eyepatch)]\r\n\r\nuse std::ptr::Shared;\r\n\r\nstruct FooMayPeak<T, U, V> {\r\n    t: *const T,\r\n    u: Shared<U>,\r\n    v: V,\r\n}\r\n\r\nstruct FooBlind<T, U, V> {\r\n    t: *const T,\r\n    u: Shared<U>,\r\n    v: V,\r\n}\r\n\r\nimpl<T, U, V> Drop for FooMayPeak<T, U, V> { fn drop(&mut self) { } }\r\n\r\nunsafe impl<\r\n    #[may_dangle] T, \r\n    #[may_dangle] U, \r\n    #[may_dangle] V,\r\n> Drop for FooBlind<T, U, V> { fn drop(&mut self) { } }\r\n\r\nfn main() {\r\n    let (t, mut u, v, fooMayPeak, fooBlind);\r\n    \r\n    t = 0;\r\n    u = 1;\r\n    v = 2;\r\n    unsafe {\r\n        fooMayPeak = FooMayPeak { t: &&t as *const &_, u: Shared::new(&mut &u), v: &v };\r\n        fooBlind   = FooBlind   { t: &&t as *const &_, u: Shared::new(&mut &u), v: &v };\r\n    }\r\n}\r\n```\r\n\r\n```text\r\nerror[E0597]: `t` does not live long enough\r\n  --> src/main.rs:35:1\r\n   |\r\n32 |         fooMayPeak = FooMayPeak { t: &&t as *const &_, u: Shared::new(&mut &u), v: &v };\r\n   |                                        - borrow occurs here\r\n...\r\n35 | }\r\n   | ^ `t` dropped here while still borrowed\r\n   |\r\n   = note: values in a scope are dropped in the opposite order they are created\r\n\r\nerror[E0597]: `u` does not live long enough\r\n  --> src/main.rs:35:1\r\n   |\r\n32 |         fooMayPeak = FooMayPeak { t: &&t as *const &_, u: Shared::new(&mut &u), v: &v };\r\n   |                                                                             - borrow occurs here\r\n...\r\n35 | }\r\n   | ^ `u` dropped here while still borrowed\r\n   |\r\n   = note: values in a scope are dropped in the opposite order they are created\r\n\r\nerror[E0597]: `v` does not live long enough\r\n  --> src/main.rs:35:1\r\n   |\r\n32 |         fooMayPeak = FooMayPeak { t: &&t as *const &_, u: Shared::new(&mut &u), v: &v };\r\n   |                                                                                     - borrow occurs here\r\n...\r\n35 | }\r\n   | ^ `v` dropped here while still borrowed\r\n   |\r\n   = note: values in a scope are dropped in the opposite order they are created\r\n\r\nerror: aborting due to 3 previous errors\r\n```\r\n\r\nhttps://play.rust-lang.org/?gist=5a36b477ff3291a72bc9878de2795f5a&version=nightly\r\n\r\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/316432083/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/316525183",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-316525183",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 316525183,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNjUyNTE4Mw==",
    "user": {
      "login": "SimonSapin",
      "id": 291359,
      "node_id": "MDQ6VXNlcjI5MTM1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SimonSapin",
      "html_url": "https://github.com/SimonSapin",
      "followers_url": "https://api.github.com/users/SimonSapin/followers",
      "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}",
      "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions",
      "organizations_url": "https://api.github.com/users/SimonSapin/orgs",
      "repos_url": "https://api.github.com/users/SimonSapin/repos",
      "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SimonSapin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-07-19T21:36:40Z",
    "updated_at": "2017-07-20T08:05:58Z",
    "body": "I\u2019m in favor of replacing both `Shared<T>` and `Unique<T>` with <s>`NonZeroPtr<T>`</s> `NonNullPtr<T>`, and stabilizing that.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/316525183/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/316585373",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-316585373",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 316585373,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNjU4NTM3Mw==",
    "user": {
      "login": "eddyb",
      "id": 77424,
      "node_id": "MDQ6VXNlcjc3NDI0",
      "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eddyb",
      "html_url": "https://github.com/eddyb",
      "followers_url": "https://api.github.com/users/eddyb/followers",
      "following_url": "https://api.github.com/users/eddyb/following{/other_user}",
      "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions",
      "organizations_url": "https://api.github.com/users/eddyb/orgs",
      "repos_url": "https://api.github.com/users/eddyb/repos",
      "events_url": "https://api.github.com/users/eddyb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eddyb/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-07-20T03:21:16Z",
    "updated_at": "2017-07-20T03:21:16Z",
    "body": "I'd use `NonNullPtr` as the name, but agree with the rest.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/316585373/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/316628279",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-316628279",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 316628279,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNjYyODI3OQ==",
    "user": {
      "login": "glaebhoerl",
      "id": 1216629,
      "node_id": "MDQ6VXNlcjEyMTY2Mjk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1216629?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/glaebhoerl",
      "html_url": "https://github.com/glaebhoerl",
      "followers_url": "https://api.github.com/users/glaebhoerl/followers",
      "following_url": "https://api.github.com/users/glaebhoerl/following{/other_user}",
      "gists_url": "https://api.github.com/users/glaebhoerl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/glaebhoerl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/glaebhoerl/subscriptions",
      "organizations_url": "https://api.github.com/users/glaebhoerl/orgs",
      "repos_url": "https://api.github.com/users/glaebhoerl/repos",
      "events_url": "https://api.github.com/users/glaebhoerl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/glaebhoerl/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-07-20T08:02:42Z",
    "updated_at": "2017-07-20T08:02:42Z",
    "body": "Is this implicitly admitting that the `*const` vs. `*mut` distinction was a mistake? (considering that we don't seem intent on preserving the distinction here)",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/316628279/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/316629215",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-316629215",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 316629215,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNjYyOTIxNQ==",
    "user": {
      "login": "SimonSapin",
      "id": 291359,
      "node_id": "MDQ6VXNlcjI5MTM1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SimonSapin",
      "html_url": "https://github.com/SimonSapin",
      "followers_url": "https://api.github.com/users/SimonSapin/followers",
      "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}",
      "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions",
      "organizations_url": "https://api.github.com/users/SimonSapin/orgs",
      "repos_url": "https://api.github.com/users/SimonSapin/repos",
      "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SimonSapin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-07-20T08:06:53Z",
    "updated_at": "2017-07-20T08:06:53Z",
    "body": "(For what it\u2019s worth, the distinction between `Shared` and `Unique` is already unrelated to that between `*const` and `*mut`.)",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/316629215/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/316647550",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-316647550",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 316647550,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNjY0NzU1MA==",
    "user": {
      "login": "glaebhoerl",
      "id": 1216629,
      "node_id": "MDQ6VXNlcjEyMTY2Mjk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1216629?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/glaebhoerl",
      "html_url": "https://github.com/glaebhoerl",
      "followers_url": "https://api.github.com/users/glaebhoerl/followers",
      "following_url": "https://api.github.com/users/glaebhoerl/following{/other_user}",
      "gists_url": "https://api.github.com/users/glaebhoerl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/glaebhoerl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/glaebhoerl/subscriptions",
      "organizations_url": "https://api.github.com/users/glaebhoerl/orgs",
      "repos_url": "https://api.github.com/users/glaebhoerl/repos",
      "events_url": "https://api.github.com/users/glaebhoerl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/glaebhoerl/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-07-20T09:20:48Z",
    "updated_at": "2017-07-20T09:20:48Z",
    "body": "(Yeah I know, collapsing down to a single type just brings it into even starker relief.)",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/316647550/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/316679379",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-316679379",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 316679379,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNjY3OTM3OQ==",
    "user": {
      "login": "Gankra",
      "id": 1136864,
      "node_id": "MDQ6VXNlcjExMzY4NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1136864?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Gankra",
      "html_url": "https://github.com/Gankra",
      "followers_url": "https://api.github.com/users/Gankra/followers",
      "following_url": "https://api.github.com/users/Gankra/following{/other_user}",
      "gists_url": "https://api.github.com/users/Gankra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Gankra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Gankra/subscriptions",
      "organizations_url": "https://api.github.com/users/Gankra/orgs",
      "repos_url": "https://api.github.com/users/Gankra/repos",
      "events_url": "https://api.github.com/users/Gankra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Gankra/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-07-20T11:47:25Z",
    "updated_at": "2017-07-20T11:47:25Z",
    "body": "The entire point of Shared and Unique is \"wow everything about raw pointers suck for writing actual Rust code, let's redo them\". There's reasons for every aspect of the raw pointer design, but the final result is unpleasant.\r\n\r\n`*const` vs `*mut` is broadly useless in practice, but this is mostly a factor of their variance, which forces us to use `*const` and cast everywhere. In principle the variance they have is good, in that it's a safe default, but it's ultimately frustrating because of how variance works (invariance is irreversible). Supposedly having both is useful for FFI; I have no strong opinions on this.\r\n\r\nThe fact that they're non-null is frustrating, as it makes us jump through hoops for optimizations, while making unsafe code less rustic. Them being nullable is ostensibly a safe default for their use in FFI. Swift notably made its unsafe pointers non-nullable, but it makes Optionals a lot more ergonomic too.\r\n\r\nThe (now dead?) \"owns a T\" design was a bad default because it forced developers to know about some obscure thing and opt out of it or risk UB.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/316679379/reactions",
      "total_count": 3,
      "+1": 2,
      "-1": 1,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/316682853",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-316682853",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 316682853,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNjY4Mjg1Mw==",
    "user": {
      "login": "SimonSapin",
      "id": 291359,
      "node_id": "MDQ6VXNlcjI5MTM1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SimonSapin",
      "html_url": "https://github.com/SimonSapin",
      "followers_url": "https://api.github.com/users/SimonSapin/followers",
      "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}",
      "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions",
      "organizations_url": "https://api.github.com/users/SimonSapin/orgs",
      "repos_url": "https://api.github.com/users/SimonSapin/repos",
      "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SimonSapin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-07-20T12:04:35Z",
    "updated_at": "2017-07-20T12:04:35Z",
    "body": "It might be interesting if we could guarantee the the memory layout of `Option<NonNullPtr<T>>` (or whatever it ends up being called) for FFI.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/316682853/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/316688438",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-316688438",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 316688438,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNjY4ODQzOA==",
    "user": {
      "login": "Gankra",
      "id": 1136864,
      "node_id": "MDQ6VXNlcjExMzY4NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1136864?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Gankra",
      "html_url": "https://github.com/Gankra",
      "followers_url": "https://api.github.com/users/Gankra/followers",
      "following_url": "https://api.github.com/users/Gankra/following{/other_user}",
      "gists_url": "https://api.github.com/users/Gankra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Gankra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Gankra/subscriptions",
      "organizations_url": "https://api.github.com/users/Gankra/orgs",
      "repos_url": "https://api.github.com/users/Gankra/repos",
      "events_url": "https://api.github.com/users/Gankra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Gankra/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-07-20T12:31:21Z",
    "updated_at": "2017-07-20T12:35:39Z",
    "body": "Correction: felix has produced an example where PhantomData implying ownership is live-and-well (which I've edited down for clarity). \r\n\r\n```rust\r\n// Illustration of a case where PhantomData is providing necessary ownership\r\n// info to rustc.\r\n//\r\n// MyBox2<T> uses just a `*const T` to hold the `T` it owns.\r\n// MyBox3<T> has both a `*const T` AND a PhantomData<T>; the latter communicates\r\n// its ownership relationship with `T`.\r\n//\r\n// Skim down to `fn f2()` to see the relevant case, \r\n// and compare it to `fn f3()`. When you run the program,\r\n// the output will include:\r\n//\r\n// drop PrintOnDrop(mb2b, PrintOnDrop(\"v2b\", 13, INVALID), Valid)\r\n//\r\n// (However, in the absence of #[may_dangle], the compiler will constrain\r\n// things in a manner that may indeed imply that PhantomData is unnecessary;\r\n// pnkfelix is not 100% sure of this claim yet, though.)\r\n\r\n#![feature(dropck_eyepatch, generic_param_attrs)]\r\n\r\nuse std::fmt;\r\nuse std::marker::PhantomData;\r\nuse std::mem;\r\nuse std::ptr;\r\n\r\n// Debugging code to verify UAF-like behaviour\r\n\r\n#[derive(Copy, Clone, Debug)]\r\nenum State { INVALID, Valid }\r\n\r\n#[derive(Debug)]\r\nstruct PrintOnDrop<T: fmt::Debug>(&'static str, T, State);\r\n\r\nimpl<T: fmt::Debug> PrintOnDrop<T> {\r\n    fn new(name: &'static str, t: T) -> Self {\r\n        PrintOnDrop(name, t, State::Valid)\r\n    }\r\n}\r\n\r\nimpl<T: fmt::Debug> Drop for PrintOnDrop<T> {\r\n    fn drop(&mut self) {\r\n        println!(\"drop PrintOnDrop({}, {:?}, {:?})\",\r\n                 self.0,\r\n                 self.1,\r\n                 self.2);\r\n        self.2 = State::INVALID;\r\n    }\r\n}\r\n\r\n\r\n\r\n// Box impls (identical except for PhantomData)\r\n\r\nstruct MyBox2<T> { v: *const T }\r\nstruct MyBox3<T> { v: *const T, _pd: PhantomData<T> }\r\n\r\n// We want this to be *legal*. This destructor is not \r\n// allowed to call methods on `T` (since it may be in\r\n// an invalid state), but it should be allowed to drop\r\n// instances of `T` as it deconstructs itself.\r\n//\r\n// (Note however that the compiler has no knowledge\r\n//  that `MyBox2<T>` owns an instance of `T`.)\r\n\r\nunsafe impl<#[may_dangle] T> Drop for MyBox2<T> {\r\n    fn drop(&mut self) { unsafe { Box::from_raw(self.v as *mut T); } }\r\n}\r\nunsafe impl<#[may_dangle] T> Drop for MyBox3<T> {\r\n    fn drop(&mut self) { unsafe { Box::from_raw(self.v as *mut T); } }\r\n}\r\nimpl<T> MyBox2<T> {\r\n    fn new(t: T) -> Self { unsafe { MyBox2 { v: Box::into_raw(Box::new(t)) } } }\r\n}\r\nimpl<T> MyBox3<T> {\r\n    fn new(t: T) -> Self { unsafe { MyBox3 { v: Box::into_raw(Box::new(t)), _pd: Default::default() } } }\r\n}\r\n\r\n\r\n\r\nfn f2() {\r\n    {\r\n        let (v2a, _mb2a); // Sound, and compiles!\r\n        v2a = PrintOnDrop::new(\"v2a\", 13);\r\n        _mb2a = MyBox2::new(PrintOnDrop::new(\"mb2a\", &v2a));\r\n    }\r\n\r\n    {\r\n        let (_mb2b, v2b); // Unsound and compiles!\r\n        v2b = PrintOnDrop::new(\"v2b\", 13);\r\n        _mb2b = MyBox2::new(PrintOnDrop::new(\"mb2b\", &v2b));\r\n        // namely, v2b dropped before _mb2b, but latter contains\r\n        // value that attempts to access v2b when being dropped.\r\n    }\r\n}\r\n\r\nfn f3() {\r\n    let v3; let _mb3;\r\n    // let (_mb3, v3); // Unsound, won't compile due to dropck\r\n    v3 = PrintOnDrop::new(\"v3\", 13);\r\n    _mb3 = MyBox3::new(PrintOnDrop::new(\"mb3\", &v3));\r\n}\r\n\r\nfn main() {\r\n    f2(); f3();\r\n}\r\n```\r\n\r\nProduces:\r\n\r\n```\r\ndrop PrintOnDrop(mb2a, PrintOnDrop(\"v2a\", 13, Valid), Valid)\r\ndrop PrintOnDrop(v2a, 13, Valid)\r\ndrop PrintOnDrop(v2b, 13, Valid)\r\ndrop PrintOnDrop(mb2b, PrintOnDrop(\"v2b\", 13, INVALID), Valid)\r\ndrop PrintOnDrop(mb3, PrintOnDrop(\"v3\", 13, Valid), Valid)\r\ndrop PrintOnDrop(v3, 13, Valid)\r\n```\r\n\r\nBut if you toggle the commented out line in v3:\r\n\r\n```\r\nerror[E0597]: `v3` does not live long enough\r\n   --> src/main.rs:106:1\r\n    |\r\n105 |     _mb3 = MyBox3::new(PrintOnDrop::new(\"mb3\", &v3));\r\n    |                                                 -- borrow occurs here\r\n106 | }\r\n    | ^ `v3` dropped here while still borrowed\r\n    |\r\n    = note: values in a scope are dropped in the opposite order they are created\r\n```\r\n\r\nhttps://play.rust-lang.org/?gist=d0fd8a737281cb70a7d6f85fd0862dec&version=nightly\r\n\r\n\r\nThis is a very interesting quote that I want to investigate, though:\r\n\r\n> (However, in the absence of #[may_dangle], the compiler will constrain\r\n> things in a manner that may indeed imply that PhantomData is unnecessary;\r\n> pnkfelix is not 100% sure of this claim yet, though.)",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/316688438/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/318300153",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-318300153",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 318300153,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxODMwMDE1Mw==",
    "user": {
      "login": "Firstyear",
      "id": 271005,
      "node_id": "MDQ6VXNlcjI3MTAwNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/271005?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Firstyear",
      "html_url": "https://github.com/Firstyear",
      "followers_url": "https://api.github.com/users/Firstyear/followers",
      "following_url": "https://api.github.com/users/Firstyear/following{/other_user}",
      "gists_url": "https://api.github.com/users/Firstyear/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Firstyear/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Firstyear/subscriptions",
      "organizations_url": "https://api.github.com/users/Firstyear/orgs",
      "repos_url": "https://api.github.com/users/Firstyear/repos",
      "events_url": "https://api.github.com/users/Firstyear/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Firstyear/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-07-27T08:49:16Z",
    "updated_at": "2017-07-27T08:49:16Z",
    "body": "I want to ask about the use of this in FFI function definitions. \r\n\r\nSay I have:\r\n\r\n```\r\nfn (ptr: *mut i64)\r\n```\r\n\r\nIt would be *nice* (for some form of nice which probably can't exist in FFI land...) if you could express this as:\r\n\r\n```\r\nfn(ptr: Shared<i64>)\r\n```\r\n\r\nInstead. Is there a reason this isn't possible? Is this something that could be pursued or not? ",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/318300153/reactions",
      "total_count": 3,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 1,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/318301776",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-318301776",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 318301776,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxODMwMTc3Ng==",
    "user": {
      "login": "SimonSapin",
      "id": 291359,
      "node_id": "MDQ6VXNlcjI5MTM1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SimonSapin",
      "html_url": "https://github.com/SimonSapin",
      "followers_url": "https://api.github.com/users/SimonSapin/followers",
      "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}",
      "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions",
      "organizations_url": "https://api.github.com/users/SimonSapin/orgs",
      "repos_url": "https://api.github.com/users/SimonSapin/repos",
      "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SimonSapin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-07-27T08:55:57Z",
    "updated_at": "2017-07-27T08:55:57Z",
    "body": "@Firstyear I think this would be valid if we add `#[repr(transparent)]` to the type definitions\u2026 once that\u2019s implemented: https://github.com/rust-lang/rust/issues/43036. And I think we should.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/318301776/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/321113483",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-321113483",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 321113483,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyMTExMzQ4Mw==",
    "user": {
      "login": "aturon",
      "id": 709807,
      "node_id": "MDQ6VXNlcjcwOTgwNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/709807?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aturon",
      "html_url": "https://github.com/aturon",
      "followers_url": "https://api.github.com/users/aturon/followers",
      "following_url": "https://api.github.com/users/aturon/following{/other_user}",
      "gists_url": "https://api.github.com/users/aturon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aturon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aturon/subscriptions",
      "organizations_url": "https://api.github.com/users/aturon/orgs",
      "repos_url": "https://api.github.com/users/aturon/repos",
      "events_url": "https://api.github.com/users/aturon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aturon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-08-08T23:53:06Z",
    "updated_at": "2017-08-08T23:53:06Z",
    "body": "Status update: this is currently waiting on @Gankro tracking down the details relevant to the question he raised.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/321113483/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/321367661",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-321367661",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 321367661,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyMTM2NzY2MQ==",
    "user": {
      "login": "repax",
      "id": 10134307,
      "node_id": "MDQ6VXNlcjEwMTM0MzA3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10134307?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/repax",
      "html_url": "https://github.com/repax",
      "followers_url": "https://api.github.com/users/repax/followers",
      "following_url": "https://api.github.com/users/repax/following{/other_user}",
      "gists_url": "https://api.github.com/users/repax/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/repax/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/repax/subscriptions",
      "organizations_url": "https://api.github.com/users/repax/orgs",
      "repos_url": "https://api.github.com/users/repax/repos",
      "events_url": "https://api.github.com/users/repax/events{/privacy}",
      "received_events_url": "https://api.github.com/users/repax/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-08-09T20:10:27Z",
    "updated_at": "2017-08-09T20:10:27Z",
    "body": "Forgive my ignorance, but `NonZero` is what allows `Option` of references to be optimised as nullable pointers?\r\n\r\nWould it be possible to do a similar thing for `Option` of floating point types, using the special case of `NaN`? I understand that `NaN` technically isn't a kind of `Zero` but it can represent the absence of a value.",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/321367661/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/321368158",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-321368158",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 321368158,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyMTM2ODE1OA==",
    "user": {
      "login": "Manishearth",
      "id": 1617736,
      "node_id": "MDQ6VXNlcjE2MTc3MzY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1617736?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Manishearth",
      "html_url": "https://github.com/Manishearth",
      "followers_url": "https://api.github.com/users/Manishearth/followers",
      "following_url": "https://api.github.com/users/Manishearth/following{/other_user}",
      "gists_url": "https://api.github.com/users/Manishearth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Manishearth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Manishearth/subscriptions",
      "organizations_url": "https://api.github.com/users/Manishearth/orgs",
      "repos_url": "https://api.github.com/users/Manishearth/repos",
      "events_url": "https://api.github.com/users/Manishearth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Manishearth/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-08-09T20:12:43Z",
    "updated_at": "2017-08-09T20:12:43Z",
    "body": "Not by default, no. NaN is a totally valid floating point value. Null is not a valid value for a reference.\r\n\r\nYou could have a `NonNaN<T>` that wraps around floats to mark them as \"never NaN\". I'm skeptical this will be very useful.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/321368158/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/321407677",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-321407677",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 321407677,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyMTQwNzY3Nw==",
    "user": {
      "login": "Gankra",
      "id": 1136864,
      "node_id": "MDQ6VXNlcjExMzY4NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1136864?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Gankra",
      "html_url": "https://github.com/Gankra",
      "followers_url": "https://api.github.com/users/Gankra/followers",
      "following_url": "https://api.github.com/users/Gankra/following{/other_user}",
      "gists_url": "https://api.github.com/users/Gankra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Gankra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Gankra/subscriptions",
      "organizations_url": "https://api.github.com/users/Gankra/orgs",
      "repos_url": "https://api.github.com/users/Gankra/repos",
      "events_url": "https://api.github.com/users/Gankra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Gankra/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-08-09T23:20:28Z",
    "updated_at": "2017-08-09T23:20:28Z",
    "body": "Please direct all future enum optimization requests to https://github.com/rust-lang/rfcs/issues/1230",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/321407677/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/324200134",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-324200134",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 324200134,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyNDIwMDEzNA==",
    "user": {
      "login": "aturon",
      "id": 709807,
      "node_id": "MDQ6VXNlcjcwOTgwNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/709807?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aturon",
      "html_url": "https://github.com/aturon",
      "followers_url": "https://api.github.com/users/aturon/followers",
      "following_url": "https://api.github.com/users/aturon/following{/other_user}",
      "gists_url": "https://api.github.com/users/aturon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aturon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aturon/subscriptions",
      "organizations_url": "https://api.github.com/users/aturon/orgs",
      "repos_url": "https://api.github.com/users/aturon/repos",
      "events_url": "https://api.github.com/users/aturon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aturon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-08-23T02:04:23Z",
    "updated_at": "2017-08-23T02:04:23Z",
    "body": "@rfcbot fcp cancel\r\n\r\nCalling off FCP until @Gankro has a chance to sort out details around `PhantomData`.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/324200134/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/324207903",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-324207903",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 324207903,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyNDIwNzkwMw==",
    "user": {
      "login": "rfcbot",
      "id": 20760818,
      "node_id": "MDQ6VXNlcjIwNzYwODE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/20760818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rfcbot",
      "html_url": "https://github.com/rfcbot",
      "followers_url": "https://api.github.com/users/rfcbot/followers",
      "following_url": "https://api.github.com/users/rfcbot/following{/other_user}",
      "gists_url": "https://api.github.com/users/rfcbot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rfcbot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rfcbot/subscriptions",
      "organizations_url": "https://api.github.com/users/rfcbot/orgs",
      "repos_url": "https://api.github.com/users/rfcbot/repos",
      "events_url": "https://api.github.com/users/rfcbot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rfcbot/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-08-23T03:02:22Z",
    "updated_at": "2017-08-23T03:02:22Z",
    "body": "@aturon proposal cancelled.",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/324207903/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/352800629",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-352800629",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 352800629,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MjgwMDYyOQ==",
    "user": {
      "login": "SimonSapin",
      "id": 291359,
      "node_id": "MDQ6VXNlcjI5MTM1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SimonSapin",
      "html_url": "https://github.com/SimonSapin",
      "followers_url": "https://api.github.com/users/SimonSapin/followers",
      "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}",
      "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions",
      "organizations_url": "https://api.github.com/users/SimonSapin/orgs",
      "repos_url": "https://api.github.com/users/SimonSapin/repos",
      "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SimonSapin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-12-19T15:55:48Z",
    "updated_at": "2017-12-19T15:55:48Z",
    "body": "The `PhantomData` concern has been resolved in https://github.com/rust-lang/rust/pull/46749.\r\n\r\nSo I\u2019d like to propose now:\r\n\r\n* Rename `Shared<T>` to `NonNull<T>` and stabilize it. (Being in the `ptr` module is enough to say that it\u2019s a pointer. I\u2019m not very attached to this specific name though.)\r\n* Rename `Box<T>` methods `from_unique`/`into_unique` to `from_nonnull`/`into_nonnull` (or whatever names are deemed appropriate), replace `Unique<T>` with `NonNull<T>` in their signatures, and stabilize them.\r\n*  Replace `Unique<T>` with `NonNull<T>` in the signatures of methods of the `Alloc` trait.\r\n* Mark `Unique` \u201cpermanently-unstable\u201d by replacing remaining occurrences of `#[unstable(feature = \"unique\", issue = \"27730\")]` with:\r\n\r\n  ```rust\r\n  #[unstable(feature = \"ptr_internals\", issue = \"0\", reason = \"\\\r\n      use NonNull instead and consider PhantomData<T> (if you also use #[may_dangle]), \\\r\n      Send, and/or Sync\")]\r\n  ```\r\n\r\n  (Maybe the `reason` string is only useful on the struct definition.) Ideally it would be made private to some crate instead, but it needs to be used in both liballoc and libstd.\r\n* (Leave `NonZero` and `Zeroable` unstable for now, and subject to future bikeshedding.)",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/352800629/reactions",
      "total_count": 3,
      "+1": 3,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/353597891",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-353597891",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 353597891,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MzU5Nzg5MQ==",
    "user": {
      "login": "RReverser",
      "id": 557590,
      "node_id": "MDQ6VXNlcjU1NzU5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/557590?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/RReverser",
      "html_url": "https://github.com/RReverser",
      "followers_url": "https://api.github.com/users/RReverser/followers",
      "following_url": "https://api.github.com/users/RReverser/following{/other_user}",
      "gists_url": "https://api.github.com/users/RReverser/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/RReverser/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/RReverser/subscriptions",
      "organizations_url": "https://api.github.com/users/RReverser/orgs",
      "repos_url": "https://api.github.com/users/RReverser/repos",
      "events_url": "https://api.github.com/users/RReverser/events{/privacy}",
      "received_events_url": "https://api.github.com/users/RReverser/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-12-22T13:24:50Z",
    "updated_at": "2017-12-22T13:24:50Z",
    "body": "Instead of `NonZero`, now that we have https://github.com/rust-lang/rust/pull/45225, would it be possible to make `0xFFFF...` (`-1 as *const _`) the invalid value for pointers? It's anyway usually not possible to put anything meaningful or even allocate something there, and it would automatically allow optimisations for pointers without wrappers.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/353597891/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/353599660",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-353599660",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 353599660,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MzU5OTY2MA==",
    "user": {
      "login": "SimonSapin",
      "id": 291359,
      "node_id": "MDQ6VXNlcjI5MTM1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SimonSapin",
      "html_url": "https://github.com/SimonSapin",
      "followers_url": "https://api.github.com/users/SimonSapin/followers",
      "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}",
      "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions",
      "organizations_url": "https://api.github.com/users/SimonSapin/orgs",
      "repos_url": "https://api.github.com/users/SimonSapin/repos",
      "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SimonSapin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-12-22T13:36:15Z",
    "updated_at": "2017-12-22T13:36:15Z",
    "body": "* `Option<&T>::None` is documented as being represented as NULL: https://doc.rust-lang.org/nomicon/other-reprs.html Changing that would like break code that uses FFI or/and `unsafe`. Similarly for `&mut T` and `Box<T>`, and maybe also other smart pointers.\r\n* Representing in the type system that a pointer is non-null is useful, regardless of memory layout.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/353599660/reactions",
      "total_count": 3,
      "+1": 3,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/353656693",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-353656693",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 353656693,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MzY1NjY5Mw==",
    "user": {
      "login": "SimonSapin",
      "id": 291359,
      "node_id": "MDQ6VXNlcjI5MTM1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SimonSapin",
      "html_url": "https://github.com/SimonSapin",
      "followers_url": "https://api.github.com/users/SimonSapin/followers",
      "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}",
      "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions",
      "organizations_url": "https://api.github.com/users/SimonSapin/orgs",
      "repos_url": "https://api.github.com/users/SimonSapin/repos",
      "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SimonSapin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-12-22T18:58:22Z",
    "updated_at": "2017-12-22T18:58:22Z",
    "body": "> So I\u2019d like to propose now: [\u2026]\r\n\r\nhttps://github.com/rust-lang/rust/pull/46952 implements this.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/353656693/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/353735758",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-353735758",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 353735758,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MzczNTc1OA==",
    "user": {
      "login": "RalfJung",
      "id": 330628,
      "node_id": "MDQ6VXNlcjMzMDYyOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/RalfJung",
      "html_url": "https://github.com/RalfJung",
      "followers_url": "https://api.github.com/users/RalfJung/followers",
      "following_url": "https://api.github.com/users/RalfJung/following{/other_user}",
      "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions",
      "organizations_url": "https://api.github.com/users/RalfJung/orgs",
      "repos_url": "https://api.github.com/users/RalfJung/repos",
      "events_url": "https://api.github.com/users/RalfJung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/RalfJung/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-12-23T16:37:48Z",
    "updated_at": "2017-12-23T16:37:48Z",
    "body": "> Instead of NonZero, now that we have #45225, would it be possible to make 0xFFFF... (-1 as *const _) the invalid value for pointers?\r\n\r\nThat would make `-1 as usize as *const _` undefined behavior, wouldn't it?",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/353735758/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/354683802",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-354683802",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 354683802,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NDY4MzgwMg==",
    "user": {
      "login": "Kixunil",
      "id": 1178779,
      "node_id": "MDQ6VXNlcjExNzg3Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1178779?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Kixunil",
      "html_url": "https://github.com/Kixunil",
      "followers_url": "https://api.github.com/users/Kixunil/followers",
      "following_url": "https://api.github.com/users/Kixunil/following{/other_user}",
      "gists_url": "https://api.github.com/users/Kixunil/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Kixunil/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Kixunil/subscriptions",
      "organizations_url": "https://api.github.com/users/Kixunil/orgs",
      "repos_url": "https://api.github.com/users/Kixunil/repos",
      "events_url": "https://api.github.com/users/Kixunil/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Kixunil/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-01-01T23:11:50Z",
    "updated_at": "2018-01-01T23:11:50Z",
    "body": "@RalfJung creating raw pointer with invalid value isn't UB. Did you mean something else?",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/354683802/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/354688180",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-354688180",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 354688180,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NDY4ODE4MA==",
    "user": {
      "login": "nox",
      "id": 123095,
      "node_id": "MDQ6VXNlcjEyMzA5NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/123095?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nox",
      "html_url": "https://github.com/nox",
      "followers_url": "https://api.github.com/users/nox/followers",
      "following_url": "https://api.github.com/users/nox/following{/other_user}",
      "gists_url": "https://api.github.com/users/nox/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nox/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nox/subscriptions",
      "organizations_url": "https://api.github.com/users/nox/orgs",
      "repos_url": "https://api.github.com/users/nox/repos",
      "events_url": "https://api.github.com/users/nox/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nox/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-01-02T00:32:28Z",
    "updated_at": "2018-01-02T00:32:28Z",
    "body": "They meant that `0xFFFF` cannot be used for the `None` value in `Option<*const T>` because `Some(0xFFFF as *const _)` is a totally legit Rust value.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/354688180/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/354688734",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-354688734",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 354688734,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NDY4ODczNA==",
    "user": {
      "login": "RReverser",
      "id": 557590,
      "node_id": "MDQ6VXNlcjU1NzU5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/557590?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/RReverser",
      "html_url": "https://github.com/RReverser",
      "followers_url": "https://api.github.com/users/RReverser/followers",
      "following_url": "https://api.github.com/users/RReverser/following{/other_user}",
      "gists_url": "https://api.github.com/users/RReverser/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/RReverser/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/RReverser/subscriptions",
      "organizations_url": "https://api.github.com/users/RReverser/orgs",
      "repos_url": "https://api.github.com/users/RReverser/repos",
      "events_url": "https://api.github.com/users/RReverser/events{/privacy}",
      "received_events_url": "https://api.github.com/users/RReverser/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-01-02T00:43:43Z",
    "updated_at": "2018-01-02T00:44:25Z",
    "body": "@nox Well, yes, that would be breaking change in exchange of allowing `Some(NULL)` to become a valid value. Currently it's not, even though NULL is very popular and much more likely to occur as a real pointer through FFI, so each `slice::from_raw_parts`, `str::from_raw_parts` etc. call currently needs to be guarded with `if (!....is_null()) ...` because officially neither of these APIs accept `NULL` yet don't reject it.\r\n\r\nAlthough I realise that such breaking change is probably impossible at this point and unlikely to be accepted, the FFI situation with NULL pointers is currently somewhat fragile and I'd love if it would be possible to accept them as any others in such APIs without guards.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/354688734/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/354720887",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-354720887",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 354720887,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NDcyMDg4Nw==",
    "user": {
      "login": "SimonSapin",
      "id": 291359,
      "node_id": "MDQ6VXNlcjI5MTM1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SimonSapin",
      "html_url": "https://github.com/SimonSapin",
      "followers_url": "https://api.github.com/users/SimonSapin/followers",
      "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}",
      "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions",
      "organizations_url": "https://api.github.com/users/SimonSapin/orgs",
      "repos_url": "https://api.github.com/users/SimonSapin/repos",
      "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SimonSapin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-01-02T08:35:53Z",
    "updated_at": "2018-01-02T08:35:53Z",
    "body": "@RReverser I\u2019m not sure if you already know that and are only using a writing shorthand, but `Some(ptr::null())` is a valid value of `Option<*const T>` today, and that won\u2019t change. NULL is only forbidden for types that contain `NonZero<T>`, `&T` or `&mut T`. And for `&T`/`&mut T` NULL not really a special case: callers of for example `slice::from_raw_parts` need to ensure that the pointer points to valid memory, not just that it is non-null.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/354720887/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/354746068",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-354746068",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 354746068,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NDc0NjA2OA==",
    "user": {
      "login": "RalfJung",
      "id": 330628,
      "node_id": "MDQ6VXNlcjMzMDYyOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/RalfJung",
      "html_url": "https://github.com/RalfJung",
      "followers_url": "https://api.github.com/users/RalfJung/followers",
      "following_url": "https://api.github.com/users/RalfJung/following{/other_user}",
      "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions",
      "organizations_url": "https://api.github.com/users/RalfJung/orgs",
      "repos_url": "https://api.github.com/users/RalfJung/repos",
      "events_url": "https://api.github.com/users/RalfJung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/RalfJung/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-01-02T11:15:06Z",
    "updated_at": "2018-01-02T11:15:49Z",
    "body": "> NULL is very popular and much more likely to occur as a real pointer through FFI\r\n\r\nThis isn't about probabilities. \"Likely\" and \"unlikely\" do not matter, only \"possible\" and \"impossible\" do. Raw pointers represent C pointers and hence every value is possible.\r\n\r\n> so each slice::from_raw_parts, str::from_raw_parts etc. call currently needs to be guarded with if (!....is_null()) ... because officially neither of these APIs accept NULL yet don't reject it\r\n\r\n`slice::from_raw_parts` requires much more than non-NULL-ness. It requires the pointer to also be aligned and pointing to a valid allocation and whatever it points to must not be mutated for the duration of the lifetime. The last two points cannot be tested for during execution. That's why these functions are `unsafe`: They accept way fewer arguments than their type gives away.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/354746068/reactions",
      "total_count": 3,
      "+1": 3,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/354810254",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-354810254",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 354810254,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NDgxMDI1NA==",
    "user": {
      "login": "RReverser",
      "id": 557590,
      "node_id": "MDQ6VXNlcjU1NzU5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/557590?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/RReverser",
      "html_url": "https://github.com/RReverser",
      "followers_url": "https://api.github.com/users/RReverser/followers",
      "following_url": "https://api.github.com/users/RReverser/following{/other_user}",
      "gists_url": "https://api.github.com/users/RReverser/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/RReverser/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/RReverser/subscriptions",
      "organizations_url": "https://api.github.com/users/RReverser/orgs",
      "repos_url": "https://api.github.com/users/RReverser/repos",
      "events_url": "https://api.github.com/users/RReverser/events{/privacy}",
      "received_events_url": "https://api.github.com/users/RReverser/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-01-02T16:41:13Z",
    "updated_at": "2018-01-02T16:41:13Z",
    "body": "@SimonSapin Yes, thanks, I was using `NULL` shorthand for reference; should've clarified that.\r\n\r\nThe thing special about null is that zero-length slices quite commonly don't have such requirement in C libraries, and Rust doesn't read memory from zero-length slices either, but because of that requirement one needs to wrap each `::from_raw_parts` call into `if len != 0 { ...::from_raw_parts(ptr, len) } else { &[] }`. That's the only thing that bothers me as it's easy to miss even with `unsafe` block, and it's not very clear why Rust itself can't enforce this by creating `&[]` internally instead of having a mention in docs (that would have almost zero overhead while would make these functions somewhat easier to use).",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/354810254/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/355573447",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-355573447",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 355573447,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NTU3MzQ0Nw==",
    "user": {
      "login": "HyeonuPark",
      "id": 11769971,
      "node_id": "MDQ6VXNlcjExNzY5OTcx",
      "avatar_url": "https://avatars.githubusercontent.com/u/11769971?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/HyeonuPark",
      "html_url": "https://github.com/HyeonuPark",
      "followers_url": "https://api.github.com/users/HyeonuPark/followers",
      "following_url": "https://api.github.com/users/HyeonuPark/following{/other_user}",
      "gists_url": "https://api.github.com/users/HyeonuPark/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/HyeonuPark/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/HyeonuPark/subscriptions",
      "organizations_url": "https://api.github.com/users/HyeonuPark/orgs",
      "repos_url": "https://api.github.com/users/HyeonuPark/repos",
      "events_url": "https://api.github.com/users/HyeonuPark/events{/privacy}",
      "received_events_url": "https://api.github.com/users/HyeonuPark/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-01-05T14:54:33Z",
    "updated_at": "2018-01-05T14:54:33Z",
    "body": "Just wonder why `NonZero::new()` is not `const fn` as Rust's NPO guarantees that this is no-op.",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/355573447/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/355609282",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-355609282",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 355609282,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NTYwOTI4Mg==",
    "user": {
      "login": "SimonSapin",
      "id": 291359,
      "node_id": "MDQ6VXNlcjI5MTM1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SimonSapin",
      "html_url": "https://github.com/SimonSapin",
      "followers_url": "https://api.github.com/users/SimonSapin/followers",
      "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}",
      "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions",
      "organizations_url": "https://api.github.com/users/SimonSapin/orgs",
      "repos_url": "https://api.github.com/users/SimonSapin/repos",
      "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SimonSapin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-01-05T17:08:26Z",
    "updated_at": "2018-01-05T17:08:26Z",
    "body": "It happens to compile to a no-op after optimizations for primitive integer and pointer/reference types, but it is implemented with an `if` which is currently not allowed in `const fn`. With Miri integration hopefully it can become a `const fn` later.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/355609282/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/355666949",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-355666949",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 355666949,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NTY2Njk0OQ==",
    "user": {
      "login": "Kixunil",
      "id": 1178779,
      "node_id": "MDQ6VXNlcjExNzg3Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1178779?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Kixunil",
      "html_url": "https://github.com/Kixunil",
      "followers_url": "https://api.github.com/users/Kixunil/followers",
      "following_url": "https://api.github.com/users/Kixunil/following{/other_user}",
      "gists_url": "https://api.github.com/users/Kixunil/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Kixunil/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Kixunil/subscriptions",
      "organizations_url": "https://api.github.com/users/Kixunil/orgs",
      "repos_url": "https://api.github.com/users/Kixunil/repos",
      "events_url": "https://api.github.com/users/Kixunil/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Kixunil/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-01-05T21:13:37Z",
    "updated_at": "2018-01-05T21:13:37Z",
    "body": "Why it isn't implemented as `[None, Some(val)][val.is_null() as usize]`? That'd allow const evaluation even now.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/355666949/reactions",
      "total_count": 2,
      "+1": 0,
      "-1": 0,
      "laugh": 2,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/355709352",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-355709352",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 355709352,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NTcwOTM1Mg==",
    "user": {
      "login": "HyeonuPark",
      "id": 11769971,
      "node_id": "MDQ6VXNlcjExNzY5OTcx",
      "avatar_url": "https://avatars.githubusercontent.com/u/11769971?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/HyeonuPark",
      "html_url": "https://github.com/HyeonuPark",
      "followers_url": "https://api.github.com/users/HyeonuPark/followers",
      "following_url": "https://api.github.com/users/HyeonuPark/following{/other_user}",
      "gists_url": "https://api.github.com/users/HyeonuPark/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/HyeonuPark/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/HyeonuPark/subscriptions",
      "organizations_url": "https://api.github.com/users/HyeonuPark/orgs",
      "repos_url": "https://api.github.com/users/HyeonuPark/repos",
      "events_url": "https://api.github.com/users/HyeonuPark/events{/privacy}",
      "received_events_url": "https://api.github.com/users/HyeonuPark/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-01-06T00:59:33Z",
    "updated_at": "2018-01-06T05:05:51Z",
    "body": "Or just `transmute`, as it's guaranteed to be no-op by language.\r\n\r\nEdit: Nevermind, for `transmute`, I found [this comment](https://github.com/rust-lang/rust/issues/24111#issuecomment-323503459) that transmute requires miri integration to be const fn",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/355709352/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/355738410",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-355738410",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 355738410,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NTczODQxMA==",
    "user": {
      "login": "Kixunil",
      "id": 1178779,
      "node_id": "MDQ6VXNlcjExNzg3Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1178779?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Kixunil",
      "html_url": "https://github.com/Kixunil",
      "followers_url": "https://api.github.com/users/Kixunil/followers",
      "following_url": "https://api.github.com/users/Kixunil/following{/other_user}",
      "gists_url": "https://api.github.com/users/Kixunil/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Kixunil/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Kixunil/subscriptions",
      "organizations_url": "https://api.github.com/users/Kixunil/orgs",
      "repos_url": "https://api.github.com/users/Kixunil/repos",
      "events_url": "https://api.github.com/users/Kixunil/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Kixunil/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-01-06T10:36:30Z",
    "updated_at": "2018-01-06T10:36:30Z",
    "body": "The point is to conditionally return `Some` or `None`",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/355738410/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/355739366",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-355739366",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 355739366,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NTczOTM2Ng==",
    "user": {
      "login": "SimonSapin",
      "id": 291359,
      "node_id": "MDQ6VXNlcjI5MTM1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SimonSapin",
      "html_url": "https://github.com/SimonSapin",
      "followers_url": "https://api.github.com/users/SimonSapin/followers",
      "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}",
      "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions",
      "organizations_url": "https://api.github.com/users/SimonSapin/orgs",
      "repos_url": "https://api.github.com/users/SimonSapin/repos",
      "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SimonSapin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-01-06T10:57:13Z",
    "updated_at": "2018-01-06T10:57:13Z",
    "body": "@Kixunil that\u2019s an\u2026 interesting idea. But I just tried and hit `error[E0379]: trait fns cannot be declared const`.\r\n\r\n@HyeonuPark `Zeroable` is a public trait that any crate can implement for its types, but that doesn\u2019t change the memory layout of e.g. `Option<Foo>`, so `transmute` would be incorrect. In fact, the size of `Foo` and `Option<Foo>` might not be the same, and trying to `transmute` does cause `error[E0512]: transmute called with types of different sizes`.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/355739366/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/355739402",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-355739402",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 355739402,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NTczOTQwMg==",
    "user": {
      "login": "eddyb",
      "id": 77424,
      "node_id": "MDQ6VXNlcjc3NDI0",
      "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eddyb",
      "html_url": "https://github.com/eddyb",
      "followers_url": "https://api.github.com/users/eddyb/followers",
      "following_url": "https://api.github.com/users/eddyb/following{/other_user}",
      "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions",
      "organizations_url": "https://api.github.com/users/eddyb/orgs",
      "repos_url": "https://api.github.com/users/eddyb/repos",
      "events_url": "https://api.github.com/users/eddyb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eddyb/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-01-06T10:58:05Z",
    "updated_at": "2018-01-06T10:58:05Z",
    "body": "`Zeroable` should be `unsafe trait` FWIW, but `transmute` is checked too early for this, I guess.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/355739402/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/355741804",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-355741804",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 355741804,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NTc0MTgwNA==",
    "user": {
      "login": "HyeonuPark",
      "id": 11769971,
      "node_id": "MDQ6VXNlcjExNzY5OTcx",
      "avatar_url": "https://avatars.githubusercontent.com/u/11769971?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/HyeonuPark",
      "html_url": "https://github.com/HyeonuPark",
      "followers_url": "https://api.github.com/users/HyeonuPark/followers",
      "following_url": "https://api.github.com/users/HyeonuPark/following{/other_user}",
      "gists_url": "https://api.github.com/users/HyeonuPark/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/HyeonuPark/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/HyeonuPark/subscriptions",
      "organizations_url": "https://api.github.com/users/HyeonuPark/orgs",
      "repos_url": "https://api.github.com/users/HyeonuPark/repos",
      "events_url": "https://api.github.com/users/HyeonuPark/events{/privacy}",
      "received_events_url": "https://api.github.com/users/HyeonuPark/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-01-06T11:47:11Z",
    "updated_at": "2018-01-06T11:47:11Z",
    "body": "Ah yeah that's the point, I think `Zeroable` should be `unsafe trait`, and also auto-impl.\r\n\r\nAs I understand, `Option<NonZero<Foo>>` has same size as `Foo` and `Option<NonZero<Foo>>::None` is identical with `std::mem::zeroed()`, as `NonZero` is used by compiler to perform NPO(Please tell me if this is wrong). Then something like this can be possible.\r\n\r\n```\r\nstruct Foo(usize);\r\n\r\nimpl Zeroable for Foo {\r\n    fn is_zero(&self) -> bool {\r\n        self.0 != 0 // really!\r\n    }\r\n}\r\n\r\nfn main() {\r\n    let zero = Foo(0);\r\n    let one = Foo(1);\r\n\r\n    assert_eq(NonZero::new(zero), None); // as underlying memory is all zero\r\n    assert_eq(NonZero::new(one), None);  // as `one.is_zero()` is true\r\n}\r\n```\r\n\r\nDoes this code makes sense?",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/355741804/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/355741970",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-355741970",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 355741970,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NTc0MTk3MA==",
    "user": {
      "login": "eddyb",
      "id": 77424,
      "node_id": "MDQ6VXNlcjc3NDI0",
      "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eddyb",
      "html_url": "https://github.com/eddyb",
      "followers_url": "https://api.github.com/users/eddyb/followers",
      "following_url": "https://api.github.com/users/eddyb/following{/other_user}",
      "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions",
      "organizations_url": "https://api.github.com/users/eddyb/orgs",
      "repos_url": "https://api.github.com/users/eddyb/repos",
      "events_url": "https://api.github.com/users/eddyb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eddyb/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-01-06T11:50:42Z",
    "updated_at": "2018-01-06T11:50:42Z",
    "body": "We should maybe abuse trait privacy (if we can, at all) to make it impossible to implement the trait outside of `libcore` - we don't really support more types than primitives, in `NonZero`.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/355741970/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/355742501",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-355742501",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 355742501,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NTc0MjUwMQ==",
    "user": {
      "login": "SimonSapin",
      "id": 291359,
      "node_id": "MDQ6VXNlcjI5MTM1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SimonSapin",
      "html_url": "https://github.com/SimonSapin",
      "followers_url": "https://api.github.com/users/SimonSapin/followers",
      "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}",
      "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions",
      "organizations_url": "https://api.github.com/users/SimonSapin/orgs",
      "repos_url": "https://api.github.com/users/SimonSapin/repos",
      "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SimonSapin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-01-06T12:01:45Z",
    "updated_at": "2018-01-06T12:01:45Z",
    "body": "I was hoping to land https://github.com/rust-lang/rust/pull/46952 and get `Shared` / `NonNull` out of the way first, but my plan is to propose removing the `Zeroable` trait and replace `NonZero` with 12 types like `NonZeroUsize` and `NonZeroI32`, similar to atomic integer types. That way we avoid the questions of making the trait an auto trait or attempting to prevent more impls of it, since there is no trait.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/355742501/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/355763605",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-355763605",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 355763605,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NTc2MzYwNQ==",
    "user": {
      "login": "eddyb",
      "id": 77424,
      "node_id": "MDQ6VXNlcjc3NDI0",
      "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eddyb",
      "html_url": "https://github.com/eddyb",
      "followers_url": "https://api.github.com/users/eddyb/followers",
      "following_url": "https://api.github.com/users/eddyb/following{/other_user}",
      "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions",
      "organizations_url": "https://api.github.com/users/eddyb/orgs",
      "repos_url": "https://api.github.com/users/eddyb/repos",
      "events_url": "https://api.github.com/users/eddyb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eddyb/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-01-06T17:54:39Z",
    "updated_at": "2018-01-06T17:54:39Z",
    "body": "Assuming you mean via a hidden private `NonZero`, then you don't even need to change to compiler.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/355763605/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/355764218",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-355764218",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 355764218,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NTc2NDIxOA==",
    "user": {
      "login": "SimonSapin",
      "id": 291359,
      "node_id": "MDQ6VXNlcjI5MTM1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SimonSapin",
      "html_url": "https://github.com/SimonSapin",
      "followers_url": "https://api.github.com/users/SimonSapin/followers",
      "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}",
      "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions",
      "organizations_url": "https://api.github.com/users/SimonSapin/orgs",
      "repos_url": "https://api.github.com/users/SimonSapin/repos",
      "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SimonSapin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-01-06T18:03:36Z",
    "updated_at": "2018-01-06T18:03:36Z",
    "body": "Right, I meant \"remove\" as far as the public API is concerned. We can have a private generic type (with or without a trait bound) in the implementation, or whatever\u2019s easier to maintain for the compiler.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/355764218/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/359245459",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-359245459",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 359245459,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1OTI0NTQ1OQ==",
    "user": {
      "login": "SimonSapin",
      "id": 291359,
      "node_id": "MDQ6VXNlcjI5MTM1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SimonSapin",
      "html_url": "https://github.com/SimonSapin",
      "followers_url": "https://api.github.com/users/SimonSapin/followers",
      "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}",
      "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions",
      "organizations_url": "https://api.github.com/users/SimonSapin/orgs",
      "repos_url": "https://api.github.com/users/SimonSapin/repos",
      "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SimonSapin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-01-21T12:41:02Z",
    "updated_at": "2018-01-21T12:41:02Z",
    "body": "Shared is now renamed NonNull and stable; Unique is a permanently-unstable internal implementation detail of std: https://github.com/rust-lang/rust/pull/47631\r\n\r\nThis only leaves NonZero for this tracking issue, which is now mostly only useful for integers.\r\n\r\nI just published https://github.com/rust-lang/rfcs/pull/2307 which propose adding 12 concrete types like `NonZeroU32`, deprecating NonZero, and later making it private. That last step would (finally!) close this tracking issue.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/359245459/reactions",
      "total_count": 5,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 5,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/359245490",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-359245490",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 359245490,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1OTI0NTQ5MA==",
    "user": {
      "login": "SimonSapin",
      "id": 291359,
      "node_id": "MDQ6VXNlcjI5MTM1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SimonSapin",
      "html_url": "https://github.com/SimonSapin",
      "followers_url": "https://api.github.com/users/SimonSapin/followers",
      "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}",
      "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions",
      "organizations_url": "https://api.github.com/users/SimonSapin/orgs",
      "repos_url": "https://api.github.com/users/SimonSapin/repos",
      "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SimonSapin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-01-21T12:41:36Z",
    "updated_at": "2018-01-21T12:41:36Z",
    "body": "Also some NonNull follow up: https://github.com/rust-lang/rust/pull/47631",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/359245490/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/366277248",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-366277248",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 366277248,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2NjI3NzI0OA==",
    "user": {
      "login": "SimonSapin",
      "id": 291359,
      "node_id": "MDQ6VXNlcjI5MTM1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SimonSapin",
      "html_url": "https://github.com/SimonSapin",
      "followers_url": "https://api.github.com/users/SimonSapin/followers",
      "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}",
      "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions",
      "organizations_url": "https://api.github.com/users/SimonSapin/orgs",
      "repos_url": "https://api.github.com/users/SimonSapin/repos",
      "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SimonSapin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-02-16T16:02:52Z",
    "updated_at": "2018-02-16T16:02:52Z",
    "body": "> I published https://github.com/rust-lang/rfcs/pull/2307 which propose adding 12 concrete types like `NonZeroU32`, deprecating NonZero, and later making it private. That last step would (finally!) close this tracking issue.\r\n\r\nImplementation PR, ready to merge: https://github.com/rust-lang/rust/pull/48265\r\n\r\n* Add new `#[unstable]` types in `core::num` and `std::num`\r\n* Deprecate `core::nonzero`\r\n\r\nAfter whatever time is appropriate for the deprecation period of unstable features, we can land https://github.com/SimonSapin/rust/pull/1 to make `core::nonzero` private and leave just enough in it to support its public wrappers.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/366277248/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/367984976",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-367984976",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 367984976,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2Nzk4NDk3Ng==",
    "user": {
      "login": "matklad",
      "id": 1711539,
      "node_id": "MDQ6VXNlcjE3MTE1Mzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/matklad",
      "html_url": "https://github.com/matklad",
      "followers_url": "https://api.github.com/users/matklad/followers",
      "following_url": "https://api.github.com/users/matklad/following{/other_user}",
      "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/matklad/subscriptions",
      "organizations_url": "https://api.github.com/users/matklad/orgs",
      "repos_url": "https://api.github.com/users/matklad/repos",
      "events_url": "https://api.github.com/users/matklad/events{/privacy}",
      "received_events_url": "https://api.github.com/users/matklad/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-02-23T11:30:48Z",
    "updated_at": "2018-02-23T11:42:25Z",
    "body": "Hm, this probably way too late, but are we sure that the name should be `NonNull<T>`? It seems to me that `NonNull` overemphasizes, well, non-nullness of this type, while in fact the real trick is, in my understanding, **covariant `*mut`**. At least, some folks on Reddit emphasize optimizations over variance: https://www.reddit.com/r/rust/comments/7zmfuu/when_should_nonnull_be_used/ :) \r\n\r\nWould just a `Ptr<T>` be a better name? \r\n\r\nEDIT: nvm, see that this already was discussed in another issue: https://github.com/rust-lang/rust/pull/46952#issuecomment-354726205",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/367984976/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/367997613",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-367997613",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 367997613,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2Nzk5NzYxMw==",
    "user": {
      "login": "SimonSapin",
      "id": 291359,
      "node_id": "MDQ6VXNlcjI5MTM1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SimonSapin",
      "html_url": "https://github.com/SimonSapin",
      "followers_url": "https://api.github.com/users/SimonSapin/followers",
      "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}",
      "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions",
      "organizations_url": "https://api.github.com/users/SimonSapin/orgs",
      "repos_url": "https://api.github.com/users/SimonSapin/repos",
      "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SimonSapin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-02-23T12:34:40Z",
    "updated_at": "2018-02-23T12:34:40Z",
    "body": "The enum optimization is my motivation for pushing this feature to stabilization, FWIW.\r\n\r\nI think you could already get covariance before by using `*const T` (or wrapping it in some other type outside of std). This aspect of `ptr::NonNull` is just library code, there is no compiler magic. Also it hasn\u2019t happened to me to actively change some code to make it covariant. (Though maybe the stuff I used was already covariant and I just didn\u2019t realize that was important?)",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/367997613/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/375807474",
    "html_url": "https://github.com/rust-lang/rust/issues/27730#issuecomment-375807474",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27730",
    "id": 375807474,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NTgwNzQ3NA==",
    "user": {
      "login": "SimonSapin",
      "id": 291359,
      "node_id": "MDQ6VXNlcjI5MTM1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SimonSapin",
      "html_url": "https://github.com/SimonSapin",
      "followers_url": "https://api.github.com/users/SimonSapin/followers",
      "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}",
      "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions",
      "organizations_url": "https://api.github.com/users/SimonSapin/orgs",
      "repos_url": "https://api.github.com/users/SimonSapin/repos",
      "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SimonSapin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-03-23T21:48:54Z",
    "updated_at": "2018-03-23T21:48:54Z",
    "body": "Tracking issue for the new `num::NonZero*` types: https://github.com/rust-lang/rust/issues/49137",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/375807474/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
