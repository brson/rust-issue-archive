[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23580572",
    "html_url": "https://github.com/rust-lang/rust/issues/8883#issuecomment-23580572",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8883",
    "id": 23580572,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzNTgwNTcy",
    "user": {
      "login": "catamorphism",
      "id": 427212,
      "node_id": "MDQ6VXNlcjQyNzIxMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/427212?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/catamorphism",
      "html_url": "https://github.com/catamorphism",
      "followers_url": "https://api.github.com/users/catamorphism/followers",
      "following_url": "https://api.github.com/users/catamorphism/following{/other_user}",
      "gists_url": "https://api.github.com/users/catamorphism/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/catamorphism/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/catamorphism/subscriptions",
      "organizations_url": "https://api.github.com/users/catamorphism/orgs",
      "repos_url": "https://api.github.com/users/catamorphism/repos",
      "events_url": "https://api.github.com/users/catamorphism/events{/privacy}",
      "received_events_url": "https://api.github.com/users/catamorphism/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-08-30T18:25:58Z",
    "updated_at": "2013-08-30T18:25:58Z",
    "body": "Nominating for milestone 5 (production-ready)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23580572/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23581014",
    "html_url": "https://github.com/rust-lang/rust/issues/8883#issuecomment-23581014",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8883",
    "id": 23581014,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzNTgxMDE0",
    "user": {
      "login": "catamorphism",
      "id": 427212,
      "node_id": "MDQ6VXNlcjQyNzIxMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/427212?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/catamorphism",
      "html_url": "https://github.com/catamorphism",
      "followers_url": "https://api.github.com/users/catamorphism/followers",
      "following_url": "https://api.github.com/users/catamorphism/following{/other_user}",
      "gists_url": "https://api.github.com/users/catamorphism/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/catamorphism/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/catamorphism/subscriptions",
      "organizations_url": "https://api.github.com/users/catamorphism/orgs",
      "repos_url": "https://api.github.com/users/catamorphism/repos",
      "events_url": "https://api.github.com/users/catamorphism/events{/privacy}",
      "received_events_url": "https://api.github.com/users/catamorphism/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-08-30T18:35:29Z",
    "updated_at": "2013-08-30T18:35:29Z",
    "body": "Correcting myself: I guess the first part of the code (with only type definitions) should compile, so the compiler is doing the right thing there. However, the `main` function, which calls json methods, shouldn't, since there is no json impl for this particular instance of `TreeMap`.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23581014/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23596016",
    "html_url": "https://github.com/rust-lang/rust/issues/8883#issuecomment-23596016",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8883",
    "id": 23596016,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzNTk2MDE2",
    "user": {
      "login": "bluss",
      "id": 3209739,
      "node_id": "MDQ6VXNlcjMyMDk3Mzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3209739?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bluss",
      "html_url": "https://github.com/bluss",
      "followers_url": "https://api.github.com/users/bluss/followers",
      "following_url": "https://api.github.com/users/bluss/following{/other_user}",
      "gists_url": "https://api.github.com/users/bluss/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bluss/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bluss/subscriptions",
      "organizations_url": "https://api.github.com/users/bluss/orgs",
      "repos_url": "https://api.github.com/users/bluss/repos",
      "events_url": "https://api.github.com/users/bluss/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bluss/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-08-31T00:06:43Z",
    "updated_at": "2013-08-31T00:14:10Z",
    "body": "Ah, I know.\n\nYou're mixing the Encodable/Decodable traits with json's different \"ToJson\" encoder. Json can do both (to some extent??)\n\n(I think this is a mundane issue of extra::json being incorrect, not about deriving and type inference. It's too late for me to disentangle serialize and json at the moment).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23596016/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23962987",
    "html_url": "https://github.com/rust-lang/rust/issues/8883#issuecomment-23962987",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8883",
    "id": 23962987,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzOTYyOTg3",
    "user": {
      "login": "bluss",
      "id": 3209739,
      "node_id": "MDQ6VXNlcjMyMDk3Mzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3209739?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bluss",
      "html_url": "https://github.com/bluss",
      "followers_url": "https://api.github.com/users/bluss/followers",
      "following_url": "https://api.github.com/users/bluss/following{/other_user}",
      "gists_url": "https://api.github.com/users/bluss/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bluss/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bluss/subscriptions",
      "organizations_url": "https://api.github.com/users/bluss/orgs",
      "repos_url": "https://api.github.com/users/bluss/repos",
      "events_url": "https://api.github.com/users/bluss/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bluss/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-09-06T19:18:10Z",
    "updated_at": "2013-09-06T19:18:10Z",
    "body": "I think the real issue is #9028 \n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23962987/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/24141147",
    "html_url": "https://github.com/rust-lang/rust/issues/8883#issuecomment-24141147",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8883",
    "id": 24141147,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0MTQxMTQ3",
    "user": {
      "login": "brandonson",
      "id": 1870695,
      "node_id": "MDQ6VXNlcjE4NzA2OTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1870695?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brandonson",
      "html_url": "https://github.com/brandonson",
      "followers_url": "https://api.github.com/users/brandonson/followers",
      "following_url": "https://api.github.com/users/brandonson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brandonson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brandonson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brandonson/subscriptions",
      "organizations_url": "https://api.github.com/users/brandonson/orgs",
      "repos_url": "https://api.github.com/users/brandonson/repos",
      "events_url": "https://api.github.com/users/brandonson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brandonson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-09-10T08:15:59Z",
    "updated_at": "2013-09-10T08:15:59Z",
    "body": "I think that what we're actually seeing here has something to do with `extra::json`'s implementation of Encodable assuming (incorrectly) that it'll only ever get maps with `~str` keys.  Given the implementations of Encodable in `extra::serialize` for HashMap and TreeMap, this is evidently not true.  So it outputs keys assuming that they're valid json keys, but unfortunately no such restriction exists for Encodable maps.\n\nIt seems to me that any map with keys which implement Encodable should be valid to encode using `Encodable::encode`, which is why this compiles and runs.  Maps with non-~str keys should don't work with `ToJson::to_json`, but that should have no effect on the example code here.\n\nIt still doesn't look like a deriving vs type inference, but neither does it seem like a problem with different encoding between ToJson and Encoder.  I think it's just incorrect implementation details in the `emit_map_XXX` methods for `json::Encoder`.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/24141147/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/24340815",
    "html_url": "https://github.com/rust-lang/rust/issues/8883#issuecomment-24340815",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8883",
    "id": 24340815,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0MzQwODE1",
    "user": {
      "login": "catamorphism",
      "id": 427212,
      "node_id": "MDQ6VXNlcjQyNzIxMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/427212?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/catamorphism",
      "html_url": "https://github.com/catamorphism",
      "followers_url": "https://api.github.com/users/catamorphism/followers",
      "following_url": "https://api.github.com/users/catamorphism/following{/other_user}",
      "gists_url": "https://api.github.com/users/catamorphism/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/catamorphism/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/catamorphism/subscriptions",
      "organizations_url": "https://api.github.com/users/catamorphism/orgs",
      "repos_url": "https://api.github.com/users/catamorphism/repos",
      "events_url": "https://api.github.com/users/catamorphism/events{/privacy}",
      "received_events_url": "https://api.github.com/users/catamorphism/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-09-12T17:42:06Z",
    "updated_at": "2013-09-12T17:42:06Z",
    "body": "Just a bug\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/24340815/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/24343662",
    "html_url": "https://github.com/rust-lang/rust/issues/8883#issuecomment-24343662",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8883",
    "id": 24343662,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0MzQzNjYy",
    "user": {
      "login": "erickt",
      "id": 84711,
      "node_id": "MDQ6VXNlcjg0NzEx",
      "avatar_url": "https://avatars.githubusercontent.com/u/84711?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/erickt",
      "html_url": "https://github.com/erickt",
      "followers_url": "https://api.github.com/users/erickt/followers",
      "following_url": "https://api.github.com/users/erickt/following{/other_user}",
      "gists_url": "https://api.github.com/users/erickt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/erickt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/erickt/subscriptions",
      "organizations_url": "https://api.github.com/users/erickt/orgs",
      "repos_url": "https://api.github.com/users/erickt/repos",
      "events_url": "https://api.github.com/users/erickt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/erickt/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-09-12T18:19:21Z",
    "updated_at": "2013-09-12T18:19:21Z",
    "body": "The underlying issue here is that even though the JSON spec says objects cannot have non-key strings, but the way `serialize::Encodable` is written `json::Encoder` cannot validate that the map key type is a string. Once we have generators (#7746), I have a plan to rewrite the encoders to generate tagged values, which should allow an Encoder to inspect the type of the key of a Map.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/24343662/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/70728434",
    "html_url": "https://github.com/rust-lang/rust/issues/8883#issuecomment-70728434",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8883",
    "id": 70728434,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwNzI4NDM0",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-20T20:38:59Z",
    "updated_at": "2015-01-20T20:38:59Z",
    "body": "Encodable has been moved out into its own crate, and so if this issue is still relevant, it belongs there. however, so much has changed since this was originally posted that I'm not even sure if it is. If anyone thinks it is, please open something at https://github.com/rust-lang/rustc-serialize/issues\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/70728434/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
