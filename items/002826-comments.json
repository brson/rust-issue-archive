[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/6827526",
    "html_url": "https://github.com/rust-lang/rust/issues/2826#issuecomment-6827526",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/2826",
    "id": 6827526,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4Mjc1MjY=",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-07-07T23:37:00Z",
    "updated_at": "2012-07-07T23:37:40Z",
    "body": "So when we do this, how are you going to create pointers?\n\n```\nlet x: @int = @0;\nlet y: ~int = ~0;\n// I would expect this\nlet z: *int = *0;\n// But is this what we're going to get?\nlet z: *int = &0;\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/6827526/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/6862501",
    "html_url": "https://github.com/rust-lang/rust/issues/2826#issuecomment-6862501",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/2826",
    "id": 6862501,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4NjI1MDE=",
    "user": {
      "login": "graydon",
      "id": 14097,
      "node_id": "MDQ6VXNlcjE0MDk3",
      "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/graydon",
      "html_url": "https://github.com/graydon",
      "followers_url": "https://api.github.com/users/graydon/followers",
      "following_url": "https://api.github.com/users/graydon/following{/other_user}",
      "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/graydon/subscriptions",
      "organizations_url": "https://api.github.com/users/graydon/orgs",
      "repos_url": "https://api.github.com/users/graydon/repos",
      "events_url": "https://api.github.com/users/graydon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/graydon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-07-09T23:05:08Z",
    "updated_at": "2012-07-09T23:05:08Z",
    "body": "Yes, `let z: *int = &0;`\n\nI must admit to not liking this asymmetry. I'm not sure what to do instead. The whole thing arises because the `&` operator isn't merely a value constructor; there are _two_ possible things we can imagine it meaning in patterns: take-a-pointer or match-existing-pointer. We have to choose which of those to make it mean. We can make one of the following code scenarios work, but only if we sacrifice the other.\n\n```\n  alt foo { bar(&x) { ... } }  // take-a-pointer to x\n  alt foo { baz(*x) { ... } }  // match-existing-pointer, deref\n  let quux : *x = &10;         // but yuck, type constructor != expr operator\n  let &garply = 10;            // garply is type *int, pointing to 10\n```\n\n```\n  alt foo { bar(*x) { ... } }  // take-a-pointer to x\n  alt foo { baz(&x) { ... } }  // match-existing-pointer, deref\n  let quux : &x = &10;         // but ahh, type constructor == expr operator\n  let *garply = 10;            // also type &int, pointing to 10, but even less intuitive?\n```\n\nThe former reads more like C, the latter reads more like Cyclone. Weirdly, if we go with the first it will also be possible to write `let &x = 10;` to mean the same thing as `let x = &10;`\n\nGiven these, I tend to agree with @nikomatsakis that the C-style (as this bug is aiming for) is the \"lesser evil\". Any strong opinions either way?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/6862501/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/6862934",
    "html_url": "https://github.com/rust-lang/rust/issues/2826#issuecomment-6862934",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/2826",
    "id": 6862934,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4NjI5MzQ=",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-07-09T23:28:23Z",
    "updated_at": "2012-07-09T23:31:16Z",
    "body": "There is also this:\n\n```\n  alt foo { bar(&x) { ... } }  // take-a-pointer to x\n  alt foo { baz(^x) { ... } }  // match-existing-pointer, deref\n  let quux : ^x = ^10;         // but ahh, type constructor == expr operator\n  let &garply = 10;\n```\n\nWith `*` as the unsafe pointer. Since there's no way to construct a value into an unsafe pointer, that doesn't have the problem for `*`, while keeping the parallels with the heap pointers. I think.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/6862934/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/6863508",
    "html_url": "https://github.com/rust-lang/rust/issues/2826#issuecomment-6863508",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/2826",
    "id": 6863508,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4NjM1MDg=",
    "user": {
      "login": "graydon",
      "id": 14097,
      "node_id": "MDQ6VXNlcjE0MDk3",
      "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/graydon",
      "html_url": "https://github.com/graydon",
      "followers_url": "https://api.github.com/users/graydon/followers",
      "following_url": "https://api.github.com/users/graydon/following{/other_user}",
      "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/graydon/subscriptions",
      "organizations_url": "https://api.github.com/users/graydon/orgs",
      "repos_url": "https://api.github.com/users/graydon/repos",
      "events_url": "https://api.github.com/users/graydon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/graydon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-07-10T00:06:44Z",
    "updated_at": "2012-07-10T00:06:44Z",
    "body": "It's possible (and I certainly prefer `^` as the safe-ref sigil, leaving `*` as unsafe-ptr) though ... would `&` exist as an expression operator at all in that case? In what I was proposing earlier, it would; in what you just wrote here, it looks like it only exists in pattern position.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/6863508/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/6864023",
    "html_url": "https://github.com/rust-lang/rust/issues/2826#issuecomment-6864023",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/2826",
    "id": 6864023,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4NjQwMjM=",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-07-10T00:49:24Z",
    "updated_at": "2012-07-10T00:49:52Z",
    "body": "I kind of like using a different sigil for pattern matching. I don't understand exactly why we need to be able to take arbitrary pointers to the inside of patterns anyway - isn't that what pattern bindings do already?\n\n```\nalt x { &y { } }\nalt x { y { } }\n```\n\nDon't both these just create a pointer to x named y?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/6864023/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/6864223",
    "html_url": "https://github.com/rust-lang/rust/issues/2826#issuecomment-6864223",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/2826",
    "id": 6864223,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4NjQyMjM=",
    "user": {
      "login": "graydon",
      "id": 14097,
      "node_id": "MDQ6VXNlcjE0MDk3",
      "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/graydon",
      "html_url": "https://github.com/graydon",
      "followers_url": "https://api.github.com/users/graydon/followers",
      "following_url": "https://api.github.com/users/graydon/following{/other_user}",
      "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/graydon/subscriptions",
      "organizations_url": "https://api.github.com/users/graydon/orgs",
      "repos_url": "https://api.github.com/users/graydon/repos",
      "events_url": "https://api.github.com/users/graydon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/graydon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-07-10T01:03:30Z",
    "updated_at": "2012-07-10T01:03:30Z",
    "body": "No, patterns are to become value-copying, so the former would either treat x as a pointer and copy-out the pointee or take-a-reference to x; and the latter would make a copy of x.\n\nWe're discussing this more on IRC because part way through the change, it is looking uglier and uglier to follow the path proposed here. Maybe `*`-in-patterns is the lesser evil after all.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/6864223/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/6864563",
    "html_url": "https://github.com/rust-lang/rust/issues/2826#issuecomment-6864563",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/2826",
    "id": 6864563,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4NjQ1NjM=",
    "user": {
      "login": "graydon",
      "id": 14097,
      "node_id": "MDQ6VXNlcjE0MDk3",
      "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/graydon",
      "html_url": "https://github.com/graydon",
      "followers_url": "https://api.github.com/users/graydon/followers",
      "following_url": "https://api.github.com/users/graydon/following{/other_user}",
      "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/graydon/subscriptions",
      "organizations_url": "https://api.github.com/users/graydon/orgs",
      "repos_url": "https://api.github.com/users/graydon/repos",
      "events_url": "https://api.github.com/users/graydon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/graydon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-07-10T01:26:57Z",
    "updated_at": "2012-07-10T01:26:57Z",
    "body": "Ok, consensus that we had this figured out at its least-painful setting back in the first two messages of the thread:\n\nhttps://mail.mozilla.org/pipermail/rust-dev/2012-June/001935.html\nhttps://mail.mozilla.org/pipermail/rust-dev/2012-June/001936.html\n\nAnd that we should, therefore, follow this plan:\n- Leave `&` meaning borrowed-reference and `*` meaning unsafe-pointer. Matches C++ intuitions.\n- Introduce `ref` as a keyword for binding-by-reference in a pattern.\n- Make `&` as a pattern mean match-a-borrowed-reference.\n\nSo be it! Least work and makes C++ people comfortable. Done. Backing out the `^` stuff and closing this bug!\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/6864563/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/6980236",
    "html_url": "https://github.com/rust-lang/rust/issues/2826#issuecomment-6980236",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/2826",
    "id": 6980236,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5ODAyMzY=",
    "user": {
      "login": "cpeterso",
      "id": 629193,
      "node_id": "MDQ6VXNlcjYyOTE5Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/629193?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cpeterso",
      "html_url": "https://github.com/cpeterso",
      "followers_url": "https://api.github.com/users/cpeterso/followers",
      "following_url": "https://api.github.com/users/cpeterso/following{/other_user}",
      "gists_url": "https://api.github.com/users/cpeterso/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cpeterso/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cpeterso/subscriptions",
      "organizations_url": "https://api.github.com/users/cpeterso/orgs",
      "repos_url": "https://api.github.com/users/cpeterso/repos",
      "events_url": "https://api.github.com/users/cpeterso/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cpeterso/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-07-14T05:25:55Z",
    "updated_at": "2012-07-14T05:52:39Z",
    "body": "btw, Microsoft's Managed C++ and C++/CLI use ^ for safe pointers and \\* for unsafe pointers, so that is another (admittedly weak :) precedent supporting your final decision to not use ^ for unsafe pointers.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/6980236/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
