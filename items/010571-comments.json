[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/28860105",
    "html_url": "https://github.com/rust-lang/rust/issues/10571#issuecomment-28860105",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10571",
    "id": 28860105,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4ODYwMTA1",
    "user": {
      "login": "sfackler",
      "id": 1455697,
      "node_id": "MDQ6VXNlcjE0NTU2OTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sfackler",
      "html_url": "https://github.com/sfackler",
      "followers_url": "https://api.github.com/users/sfackler/followers",
      "following_url": "https://api.github.com/users/sfackler/following{/other_user}",
      "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions",
      "organizations_url": "https://api.github.com/users/sfackler/orgs",
      "repos_url": "https://api.github.com/users/sfackler/repos",
      "events_url": "https://api.github.com/users/sfackler/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sfackler/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-20T02:59:59Z",
    "updated_at": "2013-11-20T02:59:59Z",
    "body": "I feel a little weird having Rust types like `Option` \"infect\" C FFI bindings, but nullable function pointers are currently done with `Option<extern \"C\" fn()>` so it'd at least be consistent with that.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/28860105/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29011652",
    "html_url": "https://github.com/rust-lang/rust/issues/10571#issuecomment-29011652",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10571",
    "id": 29011652,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5MDExNjUy",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-21T18:46:42Z",
    "updated_at": "2013-11-21T18:46:42Z",
    "body": "We need to discuss this further, there are interesting issues on both sides of this.    P-backcompat-lang.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29011652/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29012148",
    "html_url": "https://github.com/rust-lang/rust/issues/10571#issuecomment-29012148",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10571",
    "id": 29012148,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5MDEyMTQ4",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-21T18:52:25Z",
    "updated_at": "2013-11-21T18:52:25Z",
    "body": "Some comments:\n- Scalar casts might have to go, since you could do `0 as *T`. iirc\n  casting integers to *T is mostly allowed for embedded null in static\n  constants, the need for which goes away here.\n- The reason #10570 wasn't implemented was precisely because `*T` is nullable and hence `Some(null)` is a \"legit\" value.\n\nUpside of the change:\n- More accurate types \n- Static constants can write `Foo { x: None }` instead\n  of `Foo { x: 0 as *uint }`\n\nDownside of the change:\n- Extern bindings would have to say `Option<*T>` if \n  they want to accept null\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29012148/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29018826",
    "html_url": "https://github.com/rust-lang/rust/issues/10571#issuecomment-29018826",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10571",
    "id": 29018826,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5MDE4ODI2",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-21T20:07:26Z",
    "updated_at": "2013-11-21T20:07:26Z",
    "body": "See some discussion in #9788 \n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29018826/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29019172",
    "html_url": "https://github.com/rust-lang/rust/issues/10571#issuecomment-29019172",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10571",
    "id": 29019172,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5MDE5MTcy",
    "user": {
      "login": "glaebhoerl",
      "id": 1216629,
      "node_id": "MDQ6VXNlcjEyMTY2Mjk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1216629?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/glaebhoerl",
      "html_url": "https://github.com/glaebhoerl",
      "followers_url": "https://api.github.com/users/glaebhoerl/followers",
      "following_url": "https://api.github.com/users/glaebhoerl/following{/other_user}",
      "gists_url": "https://api.github.com/users/glaebhoerl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/glaebhoerl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/glaebhoerl/subscriptions",
      "organizations_url": "https://api.github.com/users/glaebhoerl/orgs",
      "repos_url": "https://api.github.com/users/glaebhoerl/repos",
      "events_url": "https://api.github.com/users/glaebhoerl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/glaebhoerl/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-21T20:11:42Z",
    "updated_at": "2013-11-21T20:11:42Z",
    "body": "I like this a lot. (It's similar to what I tried proposing a few months ago.) I think the mentioned downside is an upside. It _should_ be explicit whether nulls are possible or not. Why should it be different for `*T` than any other type?\n\nIf we do this then the `Option` optimization would also automatically apply to user-defined types written in terms of `*T`, and if we also do the thing where `*T` is multi-word for unsized types, then basically people can just use `*T` in a natural way and everything else gets taken care of.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29019172/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29358351",
    "html_url": "https://github.com/rust-lang/rust/issues/10571#issuecomment-29358351",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10571",
    "id": 29358351,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5MzU4MzUx",
    "user": {
      "login": "Aatch",
      "id": 342416,
      "node_id": "MDQ6VXNlcjM0MjQxNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/342416?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Aatch",
      "html_url": "https://github.com/Aatch",
      "followers_url": "https://api.github.com/users/Aatch/followers",
      "following_url": "https://api.github.com/users/Aatch/following{/other_user}",
      "gists_url": "https://api.github.com/users/Aatch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Aatch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Aatch/subscriptions",
      "organizations_url": "https://api.github.com/users/Aatch/orgs",
      "repos_url": "https://api.github.com/users/Aatch/repos",
      "events_url": "https://api.github.com/users/Aatch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Aatch/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-27T03:51:46Z",
    "updated_at": "2013-11-27T03:51:46Z",
    "body": "My issue with this is that I consider the current enum-pointer optimization to be just that, an optimization, and relying on that behaviour doesn't sit right with me. Currently, `Option<~T>` just _happens_ to be represented as a nullable pointer, but if it wasn't all current Rust code _should_ continue working as before.\n\nI am firmly against anything that makes `*T` behave noticeably differently in any way, shape or form to some C pointer. I always considered raw pointers to be the place where Rust just left you alone to do your own thing.\n\nThis also, for some reason, singles out 0 as a bad value. The whole point of the raw pointers is that Rust cannot determine if they point to _any_ valid location. Why should we treat 0 as special in this case? What about other bogus pointers? What about tagged pointers? They aren't safe either and I don't see how dubiously preventing `NULL` gains anything other than overhead and the illusion of safety. Because it's not like this actually _prevents_ `*T` from being `NULL`, it just prevents you from _constructing_ one. If I forget to wrap my pointer return in an Option, somebody could assume that `NULL` isn't a possible value, even though that isn't true. Or I could pass a `**T` through and have _that_ be turned to null.\n\nI can see this only producing misleading code and faulty assumptions. Canonicalising `Option<*T>` as \"null raw pointer\" only muddies the water because the implication, that `*T` is not null, isn't true.\n\nIf `Option<*T>` _is_ implemented as a nullable pointer, I'm not too worried, but I am firmly against making `Option<*T>` _the_ nullable pointer.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29358351/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29358531",
    "html_url": "https://github.com/rust-lang/rust/issues/10571#issuecomment-29358531",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10571",
    "id": 29358531,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5MzU4NTMx",
    "user": {
      "login": "lilyball",
      "id": 714,
      "node_id": "MDQ6VXNlcjcxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/714?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lilyball",
      "html_url": "https://github.com/lilyball",
      "followers_url": "https://api.github.com/users/lilyball/followers",
      "following_url": "https://api.github.com/users/lilyball/following{/other_user}",
      "gists_url": "https://api.github.com/users/lilyball/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lilyball/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lilyball/subscriptions",
      "organizations_url": "https://api.github.com/users/lilyball/orgs",
      "repos_url": "https://api.github.com/users/lilyball/repos",
      "events_url": "https://api.github.com/users/lilyball/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lilyball/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-27T03:57:28Z",
    "updated_at": "2013-11-27T03:57:28Z",
    "body": "I extremely strongly agree with @Aatch. Making `*T` non-nullable seems to violate the entire point of `*T`.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29358531/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29358997",
    "html_url": "https://github.com/rust-lang/rust/issues/10571#issuecomment-29358997",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10571",
    "id": 29358997,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5MzU4OTk3",
    "user": {
      "login": "apoelstra",
      "id": 1351933,
      "node_id": "MDQ6VXNlcjEzNTE5MzM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/apoelstra",
      "html_url": "https://github.com/apoelstra",
      "followers_url": "https://api.github.com/users/apoelstra/followers",
      "following_url": "https://api.github.com/users/apoelstra/following{/other_user}",
      "gists_url": "https://api.github.com/users/apoelstra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/apoelstra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
      "organizations_url": "https://api.github.com/users/apoelstra/orgs",
      "repos_url": "https://api.github.com/users/apoelstra/repos",
      "events_url": "https://api.github.com/users/apoelstra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/apoelstra/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-27T04:12:50Z",
    "updated_at": "2013-11-27T04:12:50Z",
    "body": "I also agree with @Aatch. <code>*T</code> already signifies \"here be dragons\". Let's at least make sure the dragons have C semantics.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29358997/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29359316",
    "html_url": "https://github.com/rust-lang/rust/issues/10571#issuecomment-29359316",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10571",
    "id": 29359316,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5MzU5MzE2",
    "user": {
      "login": "jruderman",
      "id": 692547,
      "node_id": "MDQ6VXNlcjY5MjU0Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/692547?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jruderman",
      "html_url": "https://github.com/jruderman",
      "followers_url": "https://api.github.com/users/jruderman/followers",
      "following_url": "https://api.github.com/users/jruderman/following{/other_user}",
      "gists_url": "https://api.github.com/users/jruderman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jruderman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jruderman/subscriptions",
      "organizations_url": "https://api.github.com/users/jruderman/orgs",
      "repos_url": "https://api.github.com/users/jruderman/repos",
      "events_url": "https://api.github.com/users/jruderman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jruderman/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-27T04:23:21Z",
    "updated_at": "2013-11-27T04:23:21Z",
    "body": "I approve of this change. It will ensure that writers of C bindings document their assumptions and that their code is consistent with their assumptions. In debug builds, Rust could automatically insert assertions to test these assumptions (e.g. that certain C functions never return null).\n\n> Why should we treat 0 as special in this case? What about other bogus pointers? What about tagged pointers?\n\nThey are not pointers! They should be represented by corresponding Rust types depending on how they differ from pointers (both 0 and 1 are special; low bits are meant to be lopped off; etc). In the worst case, they can be represented in Rust as (newtyped) uints.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29359316/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29359364",
    "html_url": "https://github.com/rust-lang/rust/issues/10571#issuecomment-29359364",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10571",
    "id": 29359364,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5MzU5MzY0",
    "user": {
      "login": "thestinger",
      "id": 1505226,
      "node_id": "MDQ6VXNlcjE1MDUyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thestinger",
      "html_url": "https://github.com/thestinger",
      "followers_url": "https://api.github.com/users/thestinger/followers",
      "following_url": "https://api.github.com/users/thestinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions",
      "organizations_url": "https://api.github.com/users/thestinger/orgs",
      "repos_url": "https://api.github.com/users/thestinger/repos",
      "events_url": "https://api.github.com/users/thestinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thestinger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-27T04:25:04Z",
    "updated_at": "2013-11-27T04:25:31Z",
    "body": "This could be really annoying in kernel code where `0` isn't a special pointer. LLVM currently lacks full support for this, but it will get there.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29359364/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29361282",
    "html_url": "https://github.com/rust-lang/rust/issues/10571#issuecomment-29361282",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10571",
    "id": 29361282,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5MzYxMjgy",
    "user": {
      "login": "glaebhoerl",
      "id": 1216629,
      "node_id": "MDQ6VXNlcjEyMTY2Mjk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1216629?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/glaebhoerl",
      "html_url": "https://github.com/glaebhoerl",
      "followers_url": "https://api.github.com/users/glaebhoerl/followers",
      "following_url": "https://api.github.com/users/glaebhoerl/following{/other_user}",
      "gists_url": "https://api.github.com/users/glaebhoerl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/glaebhoerl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/glaebhoerl/subscriptions",
      "organizations_url": "https://api.github.com/users/glaebhoerl/orgs",
      "repos_url": "https://api.github.com/users/glaebhoerl/repos",
      "events_url": "https://api.github.com/users/glaebhoerl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/glaebhoerl/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-27T05:30:49Z",
    "updated_at": "2013-11-27T05:35:56Z",
    "body": "> Because it's not like this actually prevents `*T` from being NULL, it just prevents you from constructing one. If I forget to wrap my pointer return in an Option, somebody could assume that NULL isn't a possible value, even though that isn't true. Or I could pass a `**T` through and have that be turned to null.\n\nIf this is referring to `extern` functions, then it's an objection I was going to raise myself before I realized that it's true of _any_ type. The signatures of foreign functions are not checked in any way and it's entirely the programmer's responsibility to get them correct. If she doesn't, then implicit `transmute()`s will happen left and right, and `Option<*T>` to `*T` is no more special in this sense than any of the other possibilities.\n\n> If `Option<*T>` is implemented as a nullable pointer, I'm not too worried, but I am firmly against making `Option<*T>` _the_ nullable pointer.\n\nHow then would you distinguish `Some(0)` from `None`?\n\nI don't get the attachment to C semantics, either. We have no trouble learning from C's mistakes in other parts of the language. Where else in the semantics (not syntax) of the language do we say \"we have to do it this way because C does it this way, period\", even if another way might be better? Why here?\n\nFinally, do (plural) you feel the same way about function pointers, where the same things (non-nullable, need `Option`) are true?\n\nThings I agree with are that writing the null pointer optimization in stone and assuming `0` is an invalid value even when it's not necessarily (e.g. kernels) isn't super, but I feel that these are smaller problems than the benefits.\n\nOne further concern I would raise from an ergonomics perspective, overlapping with but not quite the same as things above, is that if it looks like a C pointer, and it sure does, then people are going to expect that it behaves like a C pointer (to some degree this might already be apparent). They're going to think it's the same thing as in C and use it in their `extern fn`s indiscriminately, suffer unpleasant effects, and get really surprised when they learn that they have to wrap it in `Option` when null is an option. To avoid falling into uncanny valleys, if the semantics change, then maybe the syntax should too.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29361282/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29362709",
    "html_url": "https://github.com/rust-lang/rust/issues/10571#issuecomment-29362709",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10571",
    "id": 29362709,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5MzYyNzA5",
    "user": {
      "login": "Aatch",
      "id": 342416,
      "node_id": "MDQ6VXNlcjM0MjQxNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/342416?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Aatch",
      "html_url": "https://github.com/Aatch",
      "followers_url": "https://api.github.com/users/Aatch/followers",
      "following_url": "https://api.github.com/users/Aatch/following{/other_user}",
      "gists_url": "https://api.github.com/users/Aatch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Aatch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Aatch/subscriptions",
      "organizations_url": "https://api.github.com/users/Aatch/orgs",
      "repos_url": "https://api.github.com/users/Aatch/repos",
      "events_url": "https://api.github.com/users/Aatch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Aatch/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-27T06:19:20Z",
    "updated_at": "2013-11-27T06:19:20Z",
    "body": "@glehel I don't like the idea of pushing systems concerns further to the side in a _systems_ programming language. There needs to be _some_ type that you can use to directly deal with the hardware without Rust sticking it's nose in. We have pointers that don't follow C semantics. We do need one that does. This isn't something we can change, we _have_ to deal with C code. \n\nAs for other values being passed to extern code being made into illegal values, yes, you're right, but in those cases either some has gone terribly wrong or you are making a terrible mistake.\n\nMy issue is that it gives the illusion of safety where it's blatantly false. It's basically saying \"these pointers are never null, except when they are\", because it's not like the compiler will catch the little things like forgetting to wrap some type in an Option.\n\nLastly, what, in light of these criticisms, would this change gain you? It doesn't make raw pointers any more safe. It doesn't make writing FFI bindings any easier, it _could_ help catch a class of errors, but only by introducing a new class. All it does, to me, is make things more complicated for no good reason.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29362709/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29363314",
    "html_url": "https://github.com/rust-lang/rust/issues/10571#issuecomment-29363314",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10571",
    "id": 29363314,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5MzYzMzE0",
    "user": {
      "login": "lilyball",
      "id": 714,
      "node_id": "MDQ6VXNlcjcxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/714?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lilyball",
      "html_url": "https://github.com/lilyball",
      "followers_url": "https://api.github.com/users/lilyball/followers",
      "following_url": "https://api.github.com/users/lilyball/following{/other_user}",
      "gists_url": "https://api.github.com/users/lilyball/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lilyball/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lilyball/subscriptions",
      "organizations_url": "https://api.github.com/users/lilyball/orgs",
      "repos_url": "https://api.github.com/users/lilyball/repos",
      "events_url": "https://api.github.com/users/lilyball/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lilyball/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-27T06:38:31Z",
    "updated_at": "2013-11-27T06:38:31Z",
    "body": "@Aatch Agreed. Furthermore, all current FFI bindings can be created pretty easily by looking purely at the types involved in the C declaration. This absolutely is not the case with a non-nullable `*T` vs `Option<*T>`. The only way to know which type is correct is to read documentation, assuming the documentation even bothers to define behavior surrounding `NULL`, or even exists or is correct. And besides the gigantic headache this causes for deciding which types to use, it also completely breaks any ability to use automated FFI generation (e.g. rust-bindgen), because the automation tool can't possibly know whether it should be using `*T` or `Option<*T>`.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29363314/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29364959",
    "html_url": "https://github.com/rust-lang/rust/issues/10571#issuecomment-29364959",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10571",
    "id": 29364959,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5MzY0OTU5",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-27T07:29:24Z",
    "updated_at": "2013-11-27T07:29:24Z",
    "body": "@kballard fwiw, GCC and [clang](http://clang-analyzer.llvm.org/annotations.html#attr_nonnull) have custom `nonnull` and `returns_nonnull` attributes for specifying that certain arguments are not null.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29364959/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29366524",
    "html_url": "https://github.com/rust-lang/rust/issues/10571#issuecomment-29366524",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10571",
    "id": 29366524,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5MzY2NTI0",
    "user": {
      "login": "lilyball",
      "id": 714,
      "node_id": "MDQ6VXNlcjcxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/714?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lilyball",
      "html_url": "https://github.com/lilyball",
      "followers_url": "https://api.github.com/users/lilyball/followers",
      "following_url": "https://api.github.com/users/lilyball/following{/other_user}",
      "gists_url": "https://api.github.com/users/lilyball/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lilyball/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lilyball/subscriptions",
      "organizations_url": "https://api.github.com/users/lilyball/orgs",
      "repos_url": "https://api.github.com/users/lilyball/repos",
      "events_url": "https://api.github.com/users/lilyball/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lilyball/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-27T08:10:22Z",
    "updated_at": "2013-11-27T08:10:22Z",
    "body": "@huonw Sure, but almost no code ever uses it. And note that it's an opt-in to being non-nullable, whereas the proposal here makes it an opt-out.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29366524/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29369532",
    "html_url": "https://github.com/rust-lang/rust/issues/10571#issuecomment-29369532",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10571",
    "id": 29369532,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5MzY5NTMy",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-27T09:11:58Z",
    "updated_at": "2013-11-27T09:11:58Z",
    "body": "@nikomatsakis you listed as one upside of the change: \"More accurate types\"; I think that would be more correctly stated as \"more _precise_ types\"; all doing this can buy you (I think) is the ability to directly express in a Rust-ic fashion a distinction between a nonnullable and a nullable pointer.  But as they said in my high school chemistry class, precision is not accuracy.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29369532/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29369685",
    "html_url": "https://github.com/rust-lang/rust/issues/10571#issuecomment-29369685",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10571",
    "id": 29369685,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5MzY5Njg1",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-27T09:14:32Z",
    "updated_at": "2013-11-27T09:20:09Z",
    "body": "This comment from @Aatch, \"If `Option<*T>` is implemented as a nullable pointer, I'm not too worried, but I am firmly against making `Option<*T>` _the_ nullable pointer.\" (emphasis added), sent me on a thought exercise.\n\nThere are potentially three or more options here, not two, and I do not know which niko intended from the original description.\n1. Keep things as they are; `sizeof::<Option<*int>>() != sizeof::<*int>`, null ptr is always a `*T`,   extern bindings use `*T` for all ptr parameters and return types.\n2. Give `*T` and `Option<*T>` the _same_ domain of representation values.  `sizeof::<Option<*int>>() == sizeof::<*int>`, but the native representation of the null-ptr value (presumably a `0` word) would belong to both types (and would be expressed via `ptr::null()` for the former via `None` for the latter).  `0 as *T` still \"works\", and we keep `std::ptr::null<T>() -> *T`.  extern bindings can choose to use either of the two variants (though presumably conventions of usage should naturally arise).  The expression `let p = 0 as *T; Some(p)` still results in an unboxed null ptr value at runtime, which is _silently reinterpreted_ by the language as `None`.  (Let us put aside the question of whether the compiler has to respect the potential for this behind-the-scenes coercion between variants, which could invalidate certain hypothetical static flow analyses.)\n3. Make `*T` a proper subset of `Option<*T>`; in correct executions obeying all the (type) rules, the null ptr is not a `*T` in Rust code.  Instead, null ptrs are canonically a `None` in Rust.  `sizeof::<Option<*int>>() == sizeof::<*int>`.  (There are subvariants of this option, e.g. whether breaking this rule causes a `fail!` at a C \u2192 Rust FFI boundary, implying runtime checks that we probably do not want, or if breakage just silently passes at C \u2192 Rust transitions, which means that we would have to provide some sort of `is_null` primitive on `*T` to allow code to actually check these things before dereferencing the pointer, and `Some(p)` on such a pointer would again be silently reinterpreted as `None`; really this latter subvariant just strikes me as a weak version of option 2.)\n\nFrom the debates on this ticket, it seems like a lot of people have been assuming that some variant of (3) is what is being proposed.\n\n(There are also subvariants of (2.), for example where we remove `0 as *T` and `std::ptr::null<T>() -> *T`, or keep only one of them, etc.  I am pretty sure niko was not proposing (2) as it was written above, as one can see from the discussion on #9788.  I do not want to try to work through all the implications of those subvariants now, though doing so may be necessary to make an actual decision; the important high-level point is that in option (2), the two types have the same domain of representation values.)\n\nSo, @nikomatsakis: can you clarify which (sub)variant were you proposing?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29369685/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29374633",
    "html_url": "https://github.com/rust-lang/rust/issues/10571#issuecomment-29374633",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10571",
    "id": 29374633,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5Mzc0NjMz",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-27T10:38:35Z",
    "updated_at": "2013-11-27T10:38:35Z",
    "body": "@pnkfelix I was proposing option 3, though I had considered Option 2 for a while. I find the \"hands off my `*T`\" argument mildly persuasive. We're a bit inconsistent in this regard so far: we rejected lifetimes on raw pointers (like C), but distinguish `*` and `*mut` and cannot represent `*const` (unlike C), and we include null pointers in the domain of `*T` (like C). I think I dislike being in the middle. I find the thought of making unsafe pointers as unsafe as they can possibly be, and I also like the thought of making them as safe as they can be. \n\nThe main motivator here is the fact that we permit casts from random integers to `*T` _in safe code_ just to accommodate null pointers, which already have a perfectly good and safe representation. In other words, we want people to be able to write static constants that include `0 as *T`. This seems like a lose-lose to me: it's awkward to write and it introduces a random safe transmute where others are not considered safe. Of course we could address the `123 as *T` thing by adding a `nullptr` keyword a la C++. It'd be trivial to do and might be worth it.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29374633/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29374656",
    "html_url": "https://github.com/rust-lang/rust/issues/10571#issuecomment-29374656",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10571",
    "id": 29374656,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5Mzc0NjU2",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-27T10:38:59Z",
    "updated_at": "2013-11-27T10:38:59Z",
    "body": "Oh, the other motivator is that I think it's genuinely surprising that `Option<~T>` is a single word but `Option<*T>` is not. I was certainly surprised.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29374656/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29374688",
    "html_url": "https://github.com/rust-lang/rust/issues/10571#issuecomment-29374688",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10571",
    "id": 29374688,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5Mzc0Njg4",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-27T10:39:34Z",
    "updated_at": "2013-11-27T10:39:34Z",
    "body": "And one parting thought -- I agree that in general enum repr should remain undefined, but I am ok with specifying the pointer optimization. I suspect it'll be a de facto standard whatever we do.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29374688/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29375082",
    "html_url": "https://github.com/rust-lang/rust/issues/10571#issuecomment-29375082",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10571",
    "id": 29375082,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5Mzc1MDgy",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-27T10:45:56Z",
    "updated_at": "2013-11-27T10:45:56Z",
    "body": "Hmm, I was thinking more about the question of kernel code. My first thought was since one could still construct a `*T` whose value was 0, this shouldn't be a problem _in practice_ for kernel authors, but then I guess we'd be robbing them of the ability to have useful `Option<*T>` types, which is perhaps too bad. \n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29375082/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29375308",
    "html_url": "https://github.com/rust-lang/rust/issues/10571#issuecomment-29375308",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10571",
    "id": 29375308,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5Mzc1MzA4",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-27T10:49:29Z",
    "updated_at": "2013-11-27T10:49:29Z",
    "body": "On Wed, Nov 27, 2013 at 01:12:01AM -0800, Felix S Klock II wrote:\n\n> But as they said in my high school chemistry class, precision is not accuracy.\n\nTrue. But then, ain't that always the case? But I guess it's\nparticularly the case here, since these values frequent the border\nbetween the C badlands and Rust-ic civilization.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29375308/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29375608",
    "html_url": "https://github.com/rust-lang/rust/issues/10571#issuecomment-29375608",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10571",
    "id": 29375608,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5Mzc1NjA4",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-27T10:54:30Z",
    "updated_at": "2013-11-27T10:55:52Z",
    "body": "My original instinct was to go with option 1: \"Keep things as they are\".  I think the main reason why I'm considering alternatives is that I too find it genuinely surprising that `Option<~T>` is a single word but `Option<*T>` is not.\n\n@nikomatsakis what about an option 2 subvariant where we also remove `0 as *T`; people who want to write null static constants would have to use the `Option<*T>` instead, and we provide some methods in `std::ptr` to allow easy transitions between `Option<*T>` and `*T` ?\n\n(This is basically my way of trying to deal with my option 3 probably being a weak version of option 2.)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29375608/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29376005",
    "html_url": "https://github.com/rust-lang/rust/issues/10571#issuecomment-29376005",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10571",
    "id": 29376005,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5Mzc2MDA1",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-27T11:00:55Z",
    "updated_at": "2013-11-27T11:05:50Z",
    "body": "By the way, in case it is unclear, I do find it distasteful (emphatically \"_not_ clever\") that a consequence of option 2 as I described it (and I think in expected practice, option 3 as well) an application of  `|p:*int| { Some(p) }` can effectively return `None`.  That alone is enough to push me pretty far back into the camp of (1) \"Keep things as they are.\"\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29376005/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29383287",
    "html_url": "https://github.com/rust-lang/rust/issues/10571#issuecomment-29383287",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10571",
    "id": 29383287,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5MzgzMjg3",
    "user": {
      "login": "glaebhoerl",
      "id": 1216629,
      "node_id": "MDQ6VXNlcjEyMTY2Mjk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1216629?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/glaebhoerl",
      "html_url": "https://github.com/glaebhoerl",
      "followers_url": "https://api.github.com/users/glaebhoerl/followers",
      "following_url": "https://api.github.com/users/glaebhoerl/following{/other_user}",
      "gists_url": "https://api.github.com/users/glaebhoerl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/glaebhoerl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/glaebhoerl/subscriptions",
      "organizations_url": "https://api.github.com/users/glaebhoerl/orgs",
      "repos_url": "https://api.github.com/users/glaebhoerl/repos",
      "events_url": "https://api.github.com/users/glaebhoerl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/glaebhoerl/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-27T13:16:43Z",
    "updated_at": "2013-11-27T13:24:43Z",
    "body": "@kballard \n\n> And besides the gigantic headache this causes for deciding which types to use, it also completely breaks any ability to use automated FFI generation (e.g. rust-bindgen), because the automation tool can't possibly know whether it should be using `*T` or `Option<*T>`.\n\nAutomation tools would/should stick to `Option<*T>`, which is always a good conservative approximation. After all, it's what's semantically equivalent to current practice, while `*T` is only syntactically the same - another example of the syntax leading astray.\n\n@Aatch\n\n> My issue is that it gives the illusion of safety where it's blatantly false. It's basically saying \"these pointers are never null, except when they are\", because it's not like the compiler will catch the little things like forgetting to wrap some type in an Option.\n\nHere too, if the story is that the syntax of nullable pointers is changing from `*T` to `Option<*T>`, then the right thing is to follow that change and use `Option<*T>` in `extern`s. That should be considered the overwhelming default, and again, it's the type semantically equivalent to C's `T*`, so it's _clearly_ the one to use if `T*` is the type on the other side. What does this gain you? Now the compiler forces you to check for `None`. If you're _really_ sure that it can't ever be that, and don't want to have to check, _then_ you can change the type to be just `*T`. You have to make this choice about what to assume _already_ in every function that deals with pointers coming from C, when you choose (or forget) whether to check for `.is_null()` before dereferencing them. The difference is that the assumptions would be explicitly documented in the types, and checked by the compiler. Which, again, is the same decision made everywhere else in Rust, for good reason. Implicit nulls lead to bugs, and it makes no more sense to borrow that idea from C here than it does anywhere else.\n\nThere are two wrinkles. One is that `*T` is easier to write than `Option<*T>`, which is awkward if we want the default in `extern`s to be the latter. This is unfortunate, and I'm not sure what could be done about it. (And again, if the semantics of `*T` are changing to be even less like C's `T*`, then I think the syntax should also be changed to not resemble it so much - I'm not sure to what.)\n\nThe other wrinkle is that, as mentioned earlier, `0` isn't used everywhere as a sentinel value for \"pointers not pointing at anything\": in some scenarios, it's a legal address. But on the one hand, my impression is that the world in which it _is_ used this way is far, far larger than the world where it's not. And on the other hand, it's not like C itself escapes making this choice! In C `0` is legal literal of type `T*`, while no other number is. Why, pray, does it make sense for C to distinguish the memory address `0` in this way, when it's no different from any other address? If it makes sense for C to distinguish it, so too for Rust.\n\nAnother direction you could approach it from. What's going unmentioned is the other major use case for unsafe pointers: as building blocks for Rustic smart pointers, and in data structures with invariants the type system can't express. In these cases you almost never want implicit nullability, and in fact it's a hindrance because it means that `Option<Rc<T>>` doesn't automatically qualify for the null pointer optimization. I think it would be worthwhile to have a separate `NonNullPtr<T>` type no matter what, if `*T` is not it, for these scenarios, to be able to have explicit null checking and to have the `Option` optimization propagate naturally. The question then becomes whether it makes sense to have both `Option<NonNullPtr<T>>` and `*T` as separate types. (And for the N+1th time, if `*T` is not nullable, then I don't think it should be called `*T` - I'm just sticking to that for now to avoid confusing the discussion further.)\n\n@pnkfelix: I agree that I don't like Option 2 either. :-)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29383287/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29393662",
    "html_url": "https://github.com/rust-lang/rust/issues/10571#issuecomment-29393662",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10571",
    "id": 29393662,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5MzkzNjYy",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-27T15:37:44Z",
    "updated_at": "2013-11-27T15:37:44Z",
    "body": "On Wed, Nov 27, 2013 at 03:00:58AM -0800, Felix S Klock II wrote:\n\n> ...an application of `|p:*int| { Some(p) }` can effectively return `None`...\n\nYes, clearly this is suprising too.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29393662/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29393965",
    "html_url": "https://github.com/rust-lang/rust/issues/10571#issuecomment-29393965",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10571",
    "id": 29393965,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5MzkzOTY1",
    "user": {
      "login": "thestinger",
      "id": 1505226,
      "node_id": "MDQ6VXNlcjE1MDUyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thestinger",
      "html_url": "https://github.com/thestinger",
      "followers_url": "https://api.github.com/users/thestinger/followers",
      "following_url": "https://api.github.com/users/thestinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions",
      "organizations_url": "https://api.github.com/users/thestinger/orgs",
      "repos_url": "https://api.github.com/users/thestinger/repos",
      "events_url": "https://api.github.com/users/thestinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thestinger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-27T15:40:59Z",
    "updated_at": "2013-11-27T15:40:59Z",
    "body": "@nikomatsakis: On second thought, kernels wanting to use 0 pointers for something real will probably need a project-wide attribute like `#[no_std]` to flip off the same optimization used for `&T`.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29393965/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29407782",
    "html_url": "https://github.com/rust-lang/rust/issues/10571#issuecomment-29407782",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10571",
    "id": 29407782,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5NDA3Nzgy",
    "user": {
      "login": "lilyball",
      "id": 714,
      "node_id": "MDQ6VXNlcjcxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/714?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lilyball",
      "html_url": "https://github.com/lilyball",
      "followers_url": "https://api.github.com/users/lilyball/followers",
      "following_url": "https://api.github.com/users/lilyball/following{/other_user}",
      "gists_url": "https://api.github.com/users/lilyball/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lilyball/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lilyball/subscriptions",
      "organizations_url": "https://api.github.com/users/lilyball/orgs",
      "repos_url": "https://api.github.com/users/lilyball/repos",
      "events_url": "https://api.github.com/users/lilyball/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lilyball/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-27T18:23:07Z",
    "updated_at": "2013-11-27T18:23:07Z",
    "body": "> The main motivator here is the fact that we permit casts from random integers to `*T` in safe code just to accommodate null pointers, which already have a perfectly good and safe representation. In other words, we want people to be able to write static constants that include `0 as *T`. This seems like a lose-lose to me: it's awkward to write and it introduces a random safe transmute where others are not considered safe. Of course we could address the `123 as *T` thing by adding a `nullptr` keyword a la C++. It'd be trivial to do and might be worth it.\n\nYou don't even need a keyword, you could just use something like `ptr::null()` that returns the appropriately-typed null pointer (although I suppose you'd need a separate `ptr::mut_null()` to get `*mut T`). But I disagree that this is even necessary. It's been said time and time again that merely having a `*T` is not unsafe; the only unsafe action is to _dereference_ the `*T`. To that end I see nothing wrong with `0 as *T`. You can't construct other pointers willy-nilly like this because doing so would break the invariants of the pointer (e.g. that the pointer is always valid). But `*T` has no invariants at all, so the ability to construct random values of `*T` is not problematic. In fact, I would go so far as to say that the current solution is the simplest solution out of everything proposed here, and in the absence of some overwhelming reason to make things more complicated, simplicity should win. We're already trying to make the language a bit simpler elsewhere (e.g. simplicity is the stated reason why we have no once stack closures), so why turn around and add in unnecessary complexity here?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29407782/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29469266",
    "html_url": "https://github.com/rust-lang/rust/issues/10571#issuecomment-29469266",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10571",
    "id": 29469266,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5NDY5MjY2",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-28T15:08:43Z",
    "updated_at": "2013-11-28T15:08:43Z",
    "body": "Keep in mind that what when you say \"*T can point anywhere at anything\", you're invoking [undefined behavior](http://llvm.org/docs/LangRef.html#pointer-aliasing-rules) in LLVM.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29469266/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29482931",
    "html_url": "https://github.com/rust-lang/rust/issues/10571#issuecomment-29482931",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10571",
    "id": 29482931,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5NDgyOTMx",
    "user": {
      "login": "lilyball",
      "id": 714,
      "node_id": "MDQ6VXNlcjcxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/714?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lilyball",
      "html_url": "https://github.com/lilyball",
      "followers_url": "https://api.github.com/users/lilyball/followers",
      "following_url": "https://api.github.com/users/lilyball/following{/other_user}",
      "gists_url": "https://api.github.com/users/lilyball/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lilyball/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lilyball/subscriptions",
      "organizations_url": "https://api.github.com/users/lilyball/orgs",
      "repos_url": "https://api.github.com/users/lilyball/repos",
      "events_url": "https://api.github.com/users/lilyball/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lilyball/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-28T19:58:57Z",
    "updated_at": "2013-11-28T19:58:57Z",
    "body": "@cmr As far as I'm aware, it's only undefined if you _dereference_ the `*T`. Merely having one is perfectly fine.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29482931/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29827776",
    "html_url": "https://github.com/rust-lang/rust/issues/10571#issuecomment-29827776",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10571",
    "id": 29827776,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5ODI3Nzc2",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-12-04T17:48:49Z",
    "updated_at": "2013-12-04T17:49:23Z",
    "body": "I agreed with this at first, but I don't anymore.\n\nI was working with some embedded code where 0 was a valid _and used_ pointer. WIth this change, I wouldn't be able to use Rust for that project. `*T` is our escape hatch, and restrictions on it reduce its utility IMO (if we say that `*T` is non-nullable, then I need to make a newtype and load/store with inline asm. Although, with smart pointers, that wouldn't be so bad....).\n\nWhat does this change actually win us, anyway? I don't find the upsides particularly compelling.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29827776/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29837250",
    "html_url": "https://github.com/rust-lang/rust/issues/10571#issuecomment-29837250",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10571",
    "id": 29837250,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5ODM3MjUw",
    "user": {
      "login": "glaebhoerl",
      "id": 1216629,
      "node_id": "MDQ6VXNlcjEyMTY2Mjk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1216629?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/glaebhoerl",
      "html_url": "https://github.com/glaebhoerl",
      "followers_url": "https://api.github.com/users/glaebhoerl/followers",
      "following_url": "https://api.github.com/users/glaebhoerl/following{/other_user}",
      "gists_url": "https://api.github.com/users/glaebhoerl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/glaebhoerl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/glaebhoerl/subscriptions",
      "organizations_url": "https://api.github.com/users/glaebhoerl/orgs",
      "repos_url": "https://api.github.com/users/glaebhoerl/repos",
      "events_url": "https://api.github.com/users/glaebhoerl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/glaebhoerl/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-12-04T19:34:55Z",
    "updated_at": "2013-12-04T19:35:32Z",
    "body": "@cmr: as @thestinger pointed out, this is just as relevant for other pointer types, i.e. you can't have `&T` pointing to `0` either if `&T` has the `Option` optimization. Was that not relevant / couldn't it be? And there's also still the inconsistency with `fn` values if `*T` is nullable and those are not.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29837250/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29841913",
    "html_url": "https://github.com/rust-lang/rust/issues/10571#issuecomment-29841913",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10571",
    "id": 29841913,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5ODQxOTEz",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-12-04T20:26:12Z",
    "updated_at": "2013-12-04T20:26:12Z",
    "body": "I'm not worried about those other types. `*T` is my way of _getting around_\nthe other types' limitations.\n\nOn Wed, Dec 4, 2013 at 2:35 PM, G\u00e1bor Lehel notifications@github.comwrote:\n\n> @cmr https://github.com/cmr: as @thestingerhttps://github.com/thestingerpointed out, this is just as relevant for other pointer types, i.e. you\n> can't have &T pointing to 0 either if &T is nullable. Was that not\n> relevant / couldn't it be? And there's also still the inconsistency with\n> fn values if *T is nullable and those are not.\n> \n> \u2014\n> Reply to this email directly or view it on GitHubhttps://github.com/mozilla/rust/issues/10571#issuecomment-29837250\n> .\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29841913/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29844325",
    "html_url": "https://github.com/rust-lang/rust/issues/10571#issuecomment-29844325",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10571",
    "id": 29844325,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5ODQ0MzI1",
    "user": {
      "login": "glaebhoerl",
      "id": 1216629,
      "node_id": "MDQ6VXNlcjEyMTY2Mjk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1216629?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/glaebhoerl",
      "html_url": "https://github.com/glaebhoerl",
      "followers_url": "https://api.github.com/users/glaebhoerl/followers",
      "following_url": "https://api.github.com/users/glaebhoerl/following{/other_user}",
      "gists_url": "https://api.github.com/users/glaebhoerl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/glaebhoerl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/glaebhoerl/subscriptions",
      "organizations_url": "https://api.github.com/users/glaebhoerl/orgs",
      "repos_url": "https://api.github.com/users/glaebhoerl/repos",
      "events_url": "https://api.github.com/users/glaebhoerl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/glaebhoerl/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-12-04T20:53:28Z",
    "updated_at": "2013-12-04T20:55:05Z",
    "body": "I'm wondering what the precise meaning of `*T` is at all. The type system doesn't enforce various invariants on it (lifetime, ownership, mutability, etc.): okay. But is the programmer expected to obey them instead (which ones?), where violating them invokes undefined behaviour?  For example, is it expected to point to valid data of the given type even when it's not being dereferenced? What about mutation through two different `*mut T`, or mutation of the pointee of a `*T`? What about the garbage collector? How does it know when to follow a `*T` pointer, to find out whether `Gc<U>` values are transitively reachable through it, and when not to?\n\nWhat I have bouncing around in my head is that maybe there should be two types. One that shares all of the same properties and type system invariants as the safe pointer types, including non-nullability, except that it's up to the programmer, rather than the compiler, to uphold them, potentially gets followed by the GC, and so forth. This would mainly be used for things like smart pointers and data structures. And one that's truly just a raw memory address \"like in C\" (or perhaps instead asm?), without nothing at all assumed about it, the programmer can dereference it if she wants to or she can not, and otherwise it's just as inert as an `uint` (and is probably just a newtype over one). It wouldn't have any invariants except that you shouldn't use it to break the invariants of other types which do have them. This would mainly be used for interaction with foreign code and other low-level things.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29844325/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29844588",
    "html_url": "https://github.com/rust-lang/rust/issues/10571#issuecomment-29844588",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10571",
    "id": 29844588,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5ODQ0NTg4",
    "user": {
      "login": "lilyball",
      "id": 714,
      "node_id": "MDQ6VXNlcjcxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/714?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lilyball",
      "html_url": "https://github.com/lilyball",
      "followers_url": "https://api.github.com/users/lilyball/followers",
      "following_url": "https://api.github.com/users/lilyball/following{/other_user}",
      "gists_url": "https://api.github.com/users/lilyball/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lilyball/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lilyball/subscriptions",
      "organizations_url": "https://api.github.com/users/lilyball/orgs",
      "repos_url": "https://api.github.com/users/lilyball/repos",
      "events_url": "https://api.github.com/users/lilyball/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lilyball/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-12-04T20:56:18Z",
    "updated_at": "2013-12-04T20:56:18Z",
    "body": "I would not expect the garbage collector to ever follow a `*T`. Besides the fact that doing so is unsafe, any `*T` in Rust code that actually points to a garbage-collector-managed value would be expected to have a `&T` somewhere else on the stack that points to it already.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29844588/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29844750",
    "html_url": "https://github.com/rust-lang/rust/issues/10571#issuecomment-29844750",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10571",
    "id": 29844750,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5ODQ0NzUw",
    "user": {
      "login": "thestinger",
      "id": 1505226,
      "node_id": "MDQ6VXNlcjE1MDUyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thestinger",
      "html_url": "https://github.com/thestinger",
      "followers_url": "https://api.github.com/users/thestinger/followers",
      "following_url": "https://api.github.com/users/thestinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions",
      "organizations_url": "https://api.github.com/users/thestinger/orgs",
      "repos_url": "https://api.github.com/users/thestinger/repos",
      "events_url": "https://api.github.com/users/thestinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thestinger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-12-04T20:57:49Z",
    "updated_at": "2013-12-04T21:01:32Z",
    "body": "In C, you're not allowed to do pointer arithmetic outside of the bounds of an object (with a special case allowing one-byte-past-the-end), you're not allowed to do make arbitrary casts between pointers and you're definitely not allowed to dereference a null/dangling pointer. They're not _just an address_ at all, and it's not possible to write something like an XOR-linked-list without hitting undefined behaviour due to the aliasing/derived pointer rules you must respect. LLVM inherits almost all of these semantics from C and `unsafe` Rust code needs to respect them.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29844750/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29845061",
    "html_url": "https://github.com/rust-lang/rust/issues/10571#issuecomment-29845061",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10571",
    "id": 29845061,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5ODQ1MDYx",
    "user": {
      "login": "glaebhoerl",
      "id": 1216629,
      "node_id": "MDQ6VXNlcjEyMTY2Mjk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1216629?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/glaebhoerl",
      "html_url": "https://github.com/glaebhoerl",
      "followers_url": "https://api.github.com/users/glaebhoerl/followers",
      "following_url": "https://api.github.com/users/glaebhoerl/following{/other_user}",
      "gists_url": "https://api.github.com/users/glaebhoerl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/glaebhoerl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/glaebhoerl/subscriptions",
      "organizations_url": "https://api.github.com/users/glaebhoerl/orgs",
      "repos_url": "https://api.github.com/users/glaebhoerl/repos",
      "events_url": "https://api.github.com/users/glaebhoerl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/glaebhoerl/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-12-04T21:01:13Z",
    "updated_at": "2013-12-04T21:01:31Z",
    "body": "@kballard what about `Rc<Gc<T>>` then? Or you could imagine the `Gc` being embedded arbitrarily deeper inside structs, enums, other pointers and so forth.\n\n@thestinger I know, which is why I said \"or perhaps instead asm?\". I don't personally care how C-like versus uint-like it is or isn't.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29845061/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29845274",
    "html_url": "https://github.com/rust-lang/rust/issues/10571#issuecomment-29845274",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10571",
    "id": 29845274,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5ODQ1Mjc0",
    "user": {
      "login": "lilyball",
      "id": 714,
      "node_id": "MDQ6VXNlcjcxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/714?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lilyball",
      "html_url": "https://github.com/lilyball",
      "followers_url": "https://api.github.com/users/lilyball/followers",
      "following_url": "https://api.github.com/users/lilyball/following{/other_user}",
      "gists_url": "https://api.github.com/users/lilyball/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lilyball/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lilyball/subscriptions",
      "organizations_url": "https://api.github.com/users/lilyball/orgs",
      "repos_url": "https://api.github.com/users/lilyball/repos",
      "events_url": "https://api.github.com/users/lilyball/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lilyball/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-12-04T21:03:37Z",
    "updated_at": "2013-12-04T21:03:37Z",
    "body": "@glehel: Hrm, I hadn't considered the fact that `Rc<T>` would hold on to `T` via a `*T`.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29845274/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29846195",
    "html_url": "https://github.com/rust-lang/rust/issues/10571#issuecomment-29846195",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10571",
    "id": 29846195,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5ODQ2MTk1",
    "user": {
      "login": "thestinger",
      "id": 1505226,
      "node_id": "MDQ6VXNlcjE1MDUyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thestinger",
      "html_url": "https://github.com/thestinger",
      "followers_url": "https://api.github.com/users/thestinger/followers",
      "following_url": "https://api.github.com/users/thestinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions",
      "organizations_url": "https://api.github.com/users/thestinger/orgs",
      "repos_url": "https://api.github.com/users/thestinger/repos",
      "events_url": "https://api.github.com/users/thestinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thestinger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-12-04T21:14:37Z",
    "updated_at": "2013-12-04T21:14:37Z",
    "body": "C++ programmers aren't going to be willing to make compromises for garbage collection, so it can't dictate the design of the language. If it's intended to be a fully optional feature, it's entirely a library/compiler issue and doesn't belong in language design. The standard library can use as many attributes as needed to support it.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29846195/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29852474",
    "html_url": "https://github.com/rust-lang/rust/issues/10571#issuecomment-29852474",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10571",
    "id": 29852474,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5ODUyNDc0",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-12-04T22:28:29Z",
    "updated_at": "2013-12-04T22:34:12Z",
    "body": "my assumption has been that when we add a proper Gc<T>, we will probably have to also add some way for 3rd party libraries providing smart pointers and/or allocators to properly interoperate with it.  (And if a library does not o cannot interoperate with it, then a task won't be able to compose that library with the Gc -- though I hope that attempts to perform erroneous compositions would at least be statically detected rather than dynamic failures.)\n\nThe design is still quite fuzzy in my head, but this may involve any/all of:\n1. A bound (e.g. `Traceable`) that a smart-pointer would say up front that it supports (and/or that its type parameters support)\n2. A memory registration method telling the Gc how to resolve interior pointers to block-headers and their types\n\nThese topics remain to be worked out.\n\n(I was about to say \"I don't know what bearing the above has on the issue of making `*T` not-nullable\", but of course I remembered the core issue is whether the Gc would be expected to trace through a field of type `*T`.  We've had some discussion of that option internally, but my current inclination is to say \"No, the Gc will not trace through `*T`; ~~gc-reachable~~ gc-heap memory reachable via `*T` has to be kept alive (and perhaps also pinned in place) via some other protocol.\")\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29852474/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29852676",
    "html_url": "https://github.com/rust-lang/rust/issues/10571#issuecomment-29852676",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10571",
    "id": 29852676,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5ODUyNjc2",
    "user": {
      "login": "thestinger",
      "id": 1505226,
      "node_id": "MDQ6VXNlcjE1MDUyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thestinger",
      "html_url": "https://github.com/thestinger",
      "followers_url": "https://api.github.com/users/thestinger/followers",
      "following_url": "https://api.github.com/users/thestinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions",
      "organizations_url": "https://api.github.com/users/thestinger/orgs",
      "repos_url": "https://api.github.com/users/thestinger/repos",
      "events_url": "https://api.github.com/users/thestinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thestinger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-12-04T22:30:39Z",
    "updated_at": "2013-12-04T22:33:06Z",
    "body": "@pnkfelix: I expected it would be something like adding an attribute to fields with raw pointers the garbage collector should trace through. Anyway, adding lots of pain to low-level code is an incentive to maintain another library ecosystem.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29852676/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29852836",
    "html_url": "https://github.com/rust-lang/rust/issues/10571#issuecomment-29852836",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10571",
    "id": 29852836,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5ODUyODM2",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-12-04T22:32:28Z",
    "updated_at": "2013-12-04T22:32:36Z",
    "body": "@thestinger hmm, I admit that my definition of \"some other protocol\" had not included that option.  But I'm going to take the liberty of reinterpreting my own comment to now include that option, (though I'm still not sure if its what I would go with).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29852836/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/33232243",
    "html_url": "https://github.com/rust-lang/rust/issues/10571#issuecomment-33232243",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10571",
    "id": 33232243,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMjMyMjQz",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-01-24T15:33:46Z",
    "updated_at": "2014-01-24T15:33:46Z",
    "body": "I withdraw this suggestion.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/33232243/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
