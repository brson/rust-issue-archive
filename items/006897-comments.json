[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/18801079",
    "html_url": "https://github.com/rust-lang/rust/issues/6897#issuecomment-18801079",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6897",
    "id": 18801079,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4ODAxMDc5",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-06-02T03:06:13Z",
    "updated_at": "2013-06-02T03:08:02Z",
    "body": "```\n19:56 <@brson> what are the most important metrics for measuring allocator performance?\n19:57 < strcat> brson: small allocation speed/overhead, fragmentation (hard to measure, I assume) and lock contention\n19:57 < strcat> I guess checking peak memory usage of a rustc build would be a good metric\n19:58 < strcat> brson: the core-map test has a good test for the small allocs (treemap)\n19:58 < strcat> could also try it with a bunch of threads\n20:02 < strcat> brson: no, just binaries linked against librustrt.so\n20:02 < strcat> brson: I don't think it would matter much for LLVM because they use their own allocator things\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/18801079/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/18801210",
    "html_url": "https://github.com/rust-lang/rust/issues/6897#issuecomment-18801210",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6897",
    "id": 18801210,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4ODAxMjEw",
    "user": {
      "login": "thestinger",
      "id": 1505226,
      "node_id": "MDQ6VXNlcjE1MDUyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thestinger",
      "html_url": "https://github.com/thestinger",
      "followers_url": "https://api.github.com/users/thestinger/followers",
      "following_url": "https://api.github.com/users/thestinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions",
      "organizations_url": "https://api.github.com/users/thestinger/orgs",
      "repos_url": "https://api.github.com/users/thestinger/repos",
      "events_url": "https://api.github.com/users/thestinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thestinger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-06-02T03:17:22Z",
    "updated_at": "2013-06-02T03:22:00Z",
    "body": "By the way, to check peak memory usage on Linux:\n\n(assuming `/sys/fs/cgroup` is mounted, and the kernel has support for the memory cgroup)\n\n```\n# mkdir /sys/fs/cgroup/memory/rust\n# echo 0 > /sys/fs/cgroup/memory/rust/tasks tasks # to add the current process to the cgroup\n# su -l non_root_user\n$ exec process_to_test \n```\n\nand then when it finishes:\n\n```\n# cat /sys/fs/cgroup/memory/rust/memory.max_usage_in_bytes\n# rmdir /sys/fs/cgroup/memory/rust\n```\n\nYou can do this with `make` since a cgroup accounts for all of the subprocesses too.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/18801210/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/18806891",
    "html_url": "https://github.com/rust-lang/rust/issues/6897#issuecomment-18806891",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6897",
    "id": 18806891,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4ODA2ODkx",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-06-02T13:11:07Z",
    "updated_at": "2013-06-02T13:11:07Z",
    "body": "Numbers for core-map benchmark on windows 8: https://gist.github.com/cmr/fdec972a739b893671d0\nNumbers for core-map benchmark on linux (glibc 2.17) including tcmalloc: https://gist.github.com/cmr/8f675944ba45f3277cfd\n\nAdditionally on linux, max memory usages:\n\n| glibc | tcmalloc | jemalloc |\n| --- | --- | --- |\n| 170033152 (166048K) | 247701504 (241896K) | 189943808 (185492K) |\n\nHowever, I'm not sure these numbers mean anything. Watching htop as they run shows periodic spikes where res doesn't go above 100M and then a huge spike up to the max. jemalloc definitely has the lowest overall RES over time, about half that of glibc. tcmalloc hits the max and it looks like it never frees anything.\n\n@pcwalton Recalling a discussion from IRC, @thestinger did some benchs of jemalloc vs tcmalloc and found the performance was near identical. jemalloc was chosen for better runtime reporting and such.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/18806891/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/18807015",
    "html_url": "https://github.com/rust-lang/rust/issues/6897#issuecomment-18807015",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6897",
    "id": 18807015,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4ODA3MDE1",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-06-02T13:22:44Z",
    "updated_at": "2013-06-02T13:24:51Z",
    "body": "Using the benchmark from https://www.citi.umich.edu/u/cel/linux-scalability/reports/malloc.html, I get the following:\n\n### glibc\n\n```\nThread 333063936 adjusted timing: 0.675780 seconds for 16777216 requests of 1024 bytes.\nThread 349849344 adjusted timing: 0.911601 seconds for 16777216 requests of 1024 bytes.\nThread 324671232 adjusted timing: 0.914302 seconds for 16777216 requests of 1024 bytes.\nThread 341456640 adjusted timing: 1.035064 seconds for 16777216 requests of 1024 bytes.\n```\n\n### jemalloc\n\n```\nThread -79698176 adjusted timing: 0.263953 seconds for 16777216 requests of 1024 bytes.\nThread -71305472 adjusted timing: 0.363943 seconds for 16777216 requests of 1024 bytes.\nThread -88090880 adjusted timing: 0.356622 seconds for 16777216 requests of 1024 bytes.\nThread -54528256 adjusted timing: 0.357841 seconds for 16777216 requests of 1024 bytes.\n```\n\n### tcmalloc\n\n```\nThread -951392512 adjusted timing: 0.217104 seconds for 16777216 requests of 1024 bytes.\nThread -926214400 adjusted timing: 0.217926 seconds for 16777216 requests of 1024 bytes.\nThread -934607104 adjusted timing: 0.222338 seconds for 16777216 requests of 1024 bytes.\nThread -942999808 adjusted timing: 0.341169 seconds for 16777216 requests of 1024 bytes.\n```\n\nWhen bumping it up to 8 threads, jemalloc performs a bit worse than tcmalloc:\n\n### jemalloc\n\n```\nThread -2067810560 adjusted timing: 0.495102 seconds for 16777216 requests of 1024 bytes.\nThread -2084595968 adjusted timing: 0.501311 seconds for 16777216 requests of 1024 bytes.\nThread -2017462528 adjusted timing: 0.502598 seconds for 16777216 requests of 1024 bytes.\nThread -2059417856 adjusted timing: 0.499790 seconds for 16777216 requests of 1024 bytes.\nThread -2034239744 adjusted timing: 0.502179 seconds for 16777216 requests of 1024 bytes.\nThread -2051025152 adjusted timing: 0.500838 seconds for 16777216 requests of 1024 bytes.\nThread -2076203264 adjusted timing: 0.510907 seconds for 16777216 requests of 1024 bytes.\nThread -2042632448 adjusted timing: 0.529690 seconds for 16777216 requests of 1024 bytes.\n```\n\n### tcmalloc\n\n```\nThread 1207236352 adjusted timing: 0.415216 seconds for 16777216 requests of 1024 bytes.\nThread 1224021760 adjusted timing: 0.437269 seconds for 16777216 requests of 1024 bytes.\nThread 1165272832 adjusted timing: 0.418753 seconds for 16777216 requests of 1024 bytes.\nThread 1215629056 adjusted timing: 0.436506 seconds for 16777216 requests of 1024 bytes.\nThread 1198843648 adjusted timing: 0.437209 seconds for 16777216 requests of 1024 bytes.\nThread 1173665536 adjusted timing: 0.433804 seconds for 16777216 requests of 1024 bytes.\nThread 1182058240 adjusted timing: 0.398201 seconds for 16777216 requests of 1024 bytes.\nThread 1190450944 adjusted timing: 0.391288 seconds for 16777216 requests of 1024 bytes.\n```\n\nBut, for much smaller allocations, jemalloc _way_ outperforms tcmalloc:\n\n### jemalloc\n\n```\nThread -1669343488 adjusted timing: 0.275617 seconds for 16777216 requests of 8 bytes.\nThread -1652558080 adjusted timing: 0.295337 seconds for 16777216 requests of 8 bytes.\nThread -1635780864 adjusted timing: 0.315195 seconds for 16777216 requests of 8 bytes.\nThread -1660950784 adjusted timing: 0.318332 seconds for 16777216 requests of 8 bytes.\n```\n\n### tcmalloc\n\n```\nThread 180864768 adjusted timing: 0.775013 seconds for 16777216 requests of 8 bytes.\nThread 197650176 adjusted timing: 0.934877 seconds for 16777216 requests of 8 bytes.\nThread 172472064 adjusted timing: 1.055541 seconds for 16777216 requests of 8 bytes.\nThread 189257472 adjusted timing: 1.031184 seconds for 16777216 requests of 8 bytes.\n```\n\nThis is only a cursory overview of runtime performance, but it seems like jemalloc is the better choice overall.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/18807015/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/18808504",
    "html_url": "https://github.com/rust-lang/rust/issues/6897#issuecomment-18808504",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6897",
    "id": 18808504,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4ODA4NTA0",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-06-02T16:02:56Z",
    "updated_at": "2013-06-02T16:02:56Z",
    "body": "Building rustc like `x86_64-unknown-linux-gnu/stage2/bin/rustc --no-trans --cfg stage2 -O -Z no-debug-borrows --target=x86_64-unknown-linux-gnu -o x86_64-unknown-linux-gnu/stage2/lib/rustc/x86_64-unknown-linux-gnu/lib/librustc.so /home/cmr/hacking/rust-incoming/src/librustc/rustc.rc` gives me:\n\n|  | glibc | jemalloc |\n| --- | --- | --- |\n| **time** | 0:14.01 | 0:12.17 |\n| **memory** | 536544K | 589868K |\n\njemalloc is tuned via `opt.lg_dirty_mult` which controls 'Per-arena minimum ratio (log base 2) of active to dirty pages' before purging pages. It may just not be being reached, which could explain the higher memory use, but I'm not sure.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/18808504/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/18808605",
    "html_url": "https://github.com/rust-lang/rust/issues/6897#issuecomment-18808605",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6897",
    "id": 18808605,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4ODA4NjA1",
    "user": {
      "login": "thestinger",
      "id": 1505226,
      "node_id": "MDQ6VXNlcjE1MDUyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thestinger",
      "html_url": "https://github.com/thestinger",
      "followers_url": "https://api.github.com/users/thestinger/followers",
      "following_url": "https://api.github.com/users/thestinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions",
      "organizations_url": "https://api.github.com/users/thestinger/orgs",
      "repos_url": "https://api.github.com/users/thestinger/repos",
      "events_url": "https://api.github.com/users/thestinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thestinger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-06-02T16:09:30Z",
    "updated_at": "2013-06-02T16:09:30Z",
    "body": "@cmr: is that VIRT or RES?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/18808605/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/18808622",
    "html_url": "https://github.com/rust-lang/rust/issues/6897#issuecomment-18808622",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6897",
    "id": 18808622,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4ODA4NjIy",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-06-02T16:10:52Z",
    "updated_at": "2013-06-02T16:10:52Z",
    "body": "@thestinger as measured with cgroups, memory.max_usage_in_bytes\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/18808622/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/18809029",
    "html_url": "https://github.com/rust-lang/rust/issues/6897#issuecomment-18809029",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6897",
    "id": 18809029,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4ODA5MDI5",
    "user": {
      "login": "thestinger",
      "id": 1505226,
      "node_id": "MDQ6VXNlcjE1MDUyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thestinger",
      "html_url": "https://github.com/thestinger",
      "followers_url": "https://api.github.com/users/thestinger/followers",
      "following_url": "https://api.github.com/users/thestinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions",
      "organizations_url": "https://api.github.com/users/thestinger/orgs",
      "repos_url": "https://api.github.com/users/thestinger/repos",
      "events_url": "https://api.github.com/users/thestinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thestinger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-06-02T16:32:56Z",
    "updated_at": "2013-06-02T16:32:56Z",
    "body": "Oh, so that's the true physical memory usage then.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/18809029/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/19079842",
    "html_url": "https://github.com/rust-lang/rust/issues/6897#issuecomment-19079842",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6897",
    "id": 19079842,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE5MDc5ODQy",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-06-06T23:01:08Z",
    "updated_at": "2013-06-06T23:02:57Z",
    "body": "On linux, bench/msgsend-pipes with the `RUST_BENCH` difficulty bumped up to `~[~\"\", ~\"10000000\", ~\"32\"]`.\n\nbefore:\n\n```\nbrian@brian-ThinkPad-W520:~/dev/rust3/build$ time RUST_BENCH=1 x86_64-unknown-linux-gnu/test/bench/msgsend-pipes.stage1-x86_64-unknown-linux-gnu\nCount is 1000000000\nTest took 12.40329822 seconds\nThroughput=806237.165326 per sec\n\nreal    0m12.497s\nuser    0m18.017s\nsys     0m6.020s\nbrian@brian-ThinkPad-W520:~/dev/rust3/build$ time RUST_BENCH=1 x86_64-unknown-linux-gnu/test/bench/msgsend-pipes.stage1-x86_64-unknown-linux-gnu\nCount is 1000000000\nTest took 14.62787277 seconds\nThroughput=683626.400137 per sec\n\nreal    0m14.718s\nuser    0m21.233s\nsys     0m9.113s\nbrian@brian-ThinkPad-W520:~/dev/rust3/build$ time RUST_BENCH=1 x86_64-unknown-linux-gnu/test/bench/msgsend-pipes.stage1-x86_64-unknown-linux-gnu\nCount is 1000000000\nTest took 12.58228702 seconds\nThroughput=794768.07211 per sec\n\nreal    0m12.682s\nuser    0m18.565s\nsys     0m6.040s\n```\n\nafter:\n\n```\nbrian@brian-ThinkPad-W520:~/dev/rust3/build$ time RUST_BENCH=1 x86_64-unknown-linux-gnu/test/bench/msgsend-pipes.stage1-x86_64-unknown-linux-gnu\nCount is 1000000000\nTest took 7.96421961 seconds\nThroughput=1255615.802732 per sec\n\nreal    0m7.980s\nuser    0m11.169s\nsys     0m0.652s\n\nbrian@brian-ThinkPad-W520:~/dev/rust3/build$ time RUST_BENCH=1 x86_64-unknown-linux-gnu/test/bench/msgsend-pipes.stage1-x86_64-unknown-linux-gnu\nCount is 1000000000\nTest took 7.7545624 seconds\nThroughput=1289563.419319 per sec\n\nreal    0m7.768s\nuser    0m10.901s\nsys     0m0.796s\n\nbrian@brian-ThinkPad-W520:~/dev/rust3/build$ time RUST_BENCH=1 x86_64-unknown-linux-gnu/test/bench/msgsend-pipes.stage1-x86_64-unknown-linux-gnu\nCount is 1000000000\nTest took 7.62918568 seconds\nThroughput=1310755.880838 per sec\n\nreal    0m7.645s\nuser    0m10.845s\nsys     0m0.700s\n```\n\nThe mean time changed from 13.1s to 7.7s\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/19079842/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/19086152",
    "html_url": "https://github.com/rust-lang/rust/issues/6897#issuecomment-19086152",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6897",
    "id": 19086152,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE5MDg2MTUy",
    "user": {
      "login": "thestinger",
      "id": 1505226,
      "node_id": "MDQ6VXNlcjE1MDUyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thestinger",
      "html_url": "https://github.com/thestinger",
      "followers_url": "https://api.github.com/users/thestinger/followers",
      "following_url": "https://api.github.com/users/thestinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions",
      "organizations_url": "https://api.github.com/users/thestinger/orgs",
      "repos_url": "https://api.github.com/users/thestinger/repos",
      "events_url": "https://api.github.com/users/thestinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thestinger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-06-07T02:43:21Z",
    "updated_at": "2013-06-07T02:43:21Z",
    "body": "This landed as 5d2cadb.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/19086152/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
