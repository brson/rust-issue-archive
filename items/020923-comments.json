[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69485016",
    "html_url": "https://github.com/rust-lang/rust/issues/20923#issuecomment-69485016",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20923",
    "id": 69485016,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5NDg1MDE2",
    "user": {
      "login": "sfackler",
      "id": 1455697,
      "node_id": "MDQ6VXNlcjE0NTU2OTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sfackler",
      "html_url": "https://github.com/sfackler",
      "followers_url": "https://api.github.com/users/sfackler/followers",
      "following_url": "https://api.github.com/users/sfackler/following{/other_user}",
      "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions",
      "organizations_url": "https://api.github.com/users/sfackler/orgs",
      "repos_url": "https://api.github.com/users/sfackler/repos",
      "events_url": "https://api.github.com/users/sfackler/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sfackler/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-11T06:14:10Z",
    "updated_at": "2015-01-11T06:14:10Z",
    "body": "cc @kmcallister \n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69485016/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69680104",
    "html_url": "https://github.com/rust-lang/rust/issues/20923#issuecomment-69680104",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20923",
    "id": 69680104,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5NjgwMTA0",
    "user": {
      "login": "kmcallister",
      "id": 444997,
      "node_id": "MDQ6VXNlcjQ0NDk5Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/444997?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kmcallister",
      "html_url": "https://github.com/kmcallister",
      "followers_url": "https://api.github.com/users/kmcallister/followers",
      "following_url": "https://api.github.com/users/kmcallister/following{/other_user}",
      "gists_url": "https://api.github.com/users/kmcallister/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kmcallister/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kmcallister/subscriptions",
      "organizations_url": "https://api.github.com/users/kmcallister/orgs",
      "repos_url": "https://api.github.com/users/kmcallister/repos",
      "events_url": "https://api.github.com/users/kmcallister/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kmcallister/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-13T01:25:09Z",
    "updated_at": "2015-01-13T01:25:09Z",
    "body": "I don't think copy-pasting from the source file is an acceptable solution for a production compiler.  We need to strip comments at the very least.  I do want to solve this problem in some way, maybe just a better pretty-printer for TTs.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69680104/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69680322",
    "html_url": "https://github.com/rust-lang/rust/issues/20923#issuecomment-69680322",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20923",
    "id": 69680322,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5NjgwMzIy",
    "user": {
      "login": "sfackler",
      "id": 1455697,
      "node_id": "MDQ6VXNlcjE0NTU2OTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sfackler",
      "html_url": "https://github.com/sfackler",
      "followers_url": "https://api.github.com/users/sfackler/followers",
      "following_url": "https://api.github.com/users/sfackler/following{/other_user}",
      "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions",
      "organizations_url": "https://api.github.com/users/sfackler/orgs",
      "repos_url": "https://api.github.com/users/sfackler/repos",
      "events_url": "https://api.github.com/users/sfackler/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sfackler/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-13T01:27:26Z",
    "updated_at": "2015-01-13T01:27:26Z",
    "body": "What exactly is the downside of copy-pasting from a source file? Why would we need to strip comments?\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69680322/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/71384149",
    "html_url": "https://github.com/rust-lang/rust/issues/20923#issuecomment-71384149",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20923",
    "id": 71384149,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxMzg0MTQ5",
    "user": {
      "login": "sfackler",
      "id": 1455697,
      "node_id": "MDQ6VXNlcjE0NTU2OTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sfackler",
      "html_url": "https://github.com/sfackler",
      "followers_url": "https://api.github.com/users/sfackler/followers",
      "following_url": "https://api.github.com/users/sfackler/following{/other_user}",
      "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions",
      "organizations_url": "https://api.github.com/users/sfackler/orgs",
      "repos_url": "https://api.github.com/users/sfackler/repos",
      "events_url": "https://api.github.com/users/sfackler/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sfackler/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-25T18:15:24Z",
    "updated_at": "2015-01-25T18:15:24Z",
    "body": "I am becoming increasingly concerned about the current approach. A _correctness_ issue have been discovered with the current approach: #20701. It's been papered over by adding a heuristic to the token tree pretty printer to tell it to make its output of arbitrary token tree sequences look more like Rust source. I am not at all convinced that this is the only correctness issue present.\n\nHow confident are we that making the token tree pretty printer output Rust won't break token trees that aren't supposed to represent Rust source code?\n\nIs the error output that the compiler currently displays for these kinds of errors in macro expansion acceptable in a production compiler? Are we planning on rewriting and fixing the token tree pretty printer in the next month and a half?\n\nAs I see it, there is a large set of Bad Things that happen due to the current serialization approach, and the plan for correcting those Bad Things is fuzzy at best. Could you please identify a concrete Bad Thing that happens with the old approach? As far as I can tell, all we're doing right now is applying a lossy anti-compression algorithm to macro sources.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/71384149/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/71465234",
    "html_url": "https://github.com/rust-lang/rust/issues/20923#issuecomment-71465234",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20923",
    "id": 71465234,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxNDY1MjM0",
    "user": {
      "login": "kmcallister",
      "id": 444997,
      "node_id": "MDQ6VXNlcjQ0NDk5Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/444997?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kmcallister",
      "html_url": "https://github.com/kmcallister",
      "followers_url": "https://api.github.com/users/kmcallister/followers",
      "following_url": "https://api.github.com/users/kmcallister/following{/other_user}",
      "gists_url": "https://api.github.com/users/kmcallister/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kmcallister/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kmcallister/subscriptions",
      "organizations_url": "https://api.github.com/users/kmcallister/orgs",
      "repos_url": "https://api.github.com/users/kmcallister/repos",
      "events_url": "https://api.github.com/users/kmcallister/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kmcallister/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-26T14:08:33Z",
    "updated_at": "2015-01-26T14:09:00Z",
    "body": "I think it's very surprising if comments in your source code can make it into the compiled binary.  Someone will leak something sensitive or embarrassing and it'll be real bad for them and for us.\n\nAlso I think it's weird to include source code solely for the purpose of better error reporting.  But \u2014 we do lots of weird things; that's not a very strong argument against.  I'd believe that this is the only workable solution with macros.  I don't know offhand what other compilers for languages with macros do.\n\nThe fact that we need character-accurate source to reconstruct a token tree seems like a massive deficiency in the Rust lexer/parser, and maybe the grammar itself?  But I agree there's little chance of that being fixed for 1.0.  Really I wanted to use a binary serialization of token trees, much as we do for generics & cross-crate inlining, but in light of the error reporting issue I don't think that's workable.\n\nAnyway I didn't expect the pretty-printing approach to have such severe downsides.  Perhaps the right approach is to strip comments directly from the character stream, and maybe normalize whitespace if it produces better errors.  I'm confident I can get that done in time for the beta release.  This ticket is high on my list for macro reform v2.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/71465234/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/71467861",
    "html_url": "https://github.com/rust-lang/rust/issues/20923#issuecomment-71467861",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20923",
    "id": 71467861,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxNDY3ODYx",
    "user": {
      "login": "kmcallister",
      "id": 444997,
      "node_id": "MDQ6VXNlcjQ0NDk5Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/444997?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kmcallister",
      "html_url": "https://github.com/kmcallister",
      "followers_url": "https://api.github.com/users/kmcallister/followers",
      "following_url": "https://api.github.com/users/kmcallister/following{/other_user}",
      "gists_url": "https://api.github.com/users/kmcallister/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kmcallister/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kmcallister/subscriptions",
      "organizations_url": "https://api.github.com/users/kmcallister/orgs",
      "repos_url": "https://api.github.com/users/kmcallister/repos",
      "events_url": "https://api.github.com/users/kmcallister/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kmcallister/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-26T14:27:16Z",
    "updated_at": "2015-01-26T14:27:16Z",
    "body": "The old approach may have licensing issues as well.  Is a compiled `rlib` of a macro-only crate effectively a source redistribution? Do I need to comply with license terms pertaining to redistributing source?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/71467861/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/91361014",
    "html_url": "https://github.com/rust-lang/rust/issues/20923#issuecomment-91361014",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20923",
    "id": 91361014,
    "node_id": "MDEyOklzc3VlQ29tbWVudDkxMzYxMDE0",
    "user": {
      "login": "kmcallister",
      "id": 444997,
      "node_id": "MDQ6VXNlcjQ0NDk5Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/444997?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kmcallister",
      "html_url": "https://github.com/kmcallister",
      "followers_url": "https://api.github.com/users/kmcallister/followers",
      "following_url": "https://api.github.com/users/kmcallister/following{/other_user}",
      "gists_url": "https://api.github.com/users/kmcallister/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kmcallister/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kmcallister/subscriptions",
      "organizations_url": "https://api.github.com/users/kmcallister/orgs",
      "repos_url": "https://api.github.com/users/kmcallister/repos",
      "events_url": "https://api.github.com/users/kmcallister/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kmcallister/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-09T21:29:46Z",
    "updated_at": "2015-04-09T21:29:46Z",
    "body": "I'm not going to have time to work on this for 1.0-final, sorry.\n\nIf you want to switch back to including source, that's fine by me as long as it's clearly documented.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/91361014/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/260758044",
    "html_url": "https://github.com/rust-lang/rust/issues/20923#issuecomment-260758044",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20923",
    "id": 260758044,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MDc1ODA0NA==",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-11-15T20:29:06Z",
    "updated_at": "2016-11-15T20:29:06Z",
    "body": "This seems much nicer today:\n\n``` rust\n\nerror: no method named `write_fmt` found for type `&mut {integer}` in the current scope\n --> foo.rs:2:5\n  |\n2 |     write!(&mut 2, \"\");\n  |     ^^^^^^^^^^^^^^^^^^^\n  |\n  = note: this error originates in a macro outside of the current crate\n\nerror: aborting due to previous error\n```\n\n@sfackler what do you think?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/260758044/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/260759245",
    "html_url": "https://github.com/rust-lang/rust/issues/20923#issuecomment-260759245",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20923",
    "id": 260759245,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MDc1OTI0NQ==",
    "user": {
      "login": "sfackler",
      "id": 1455697,
      "node_id": "MDQ6VXNlcjE0NTU2OTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sfackler",
      "html_url": "https://github.com/sfackler",
      "followers_url": "https://api.github.com/users/sfackler/followers",
      "following_url": "https://api.github.com/users/sfackler/following{/other_user}",
      "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions",
      "organizations_url": "https://api.github.com/users/sfackler/orgs",
      "repos_url": "https://api.github.com/users/sfackler/repos",
      "events_url": "https://api.github.com/users/sfackler/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sfackler/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-11-15T20:33:46Z",
    "updated_at": "2016-11-15T20:33:46Z",
    "body": "\ud83d\udc4d \n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/260759245/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
