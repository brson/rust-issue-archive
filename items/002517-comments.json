[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/6157649",
    "html_url": "https://github.com/rust-lang/rust/issues/2517#issuecomment-6157649",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/2517",
    "id": 6157649,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNTc2NDk=",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-06-06T17:54:46Z",
    "updated_at": "2012-06-06T17:54:46Z",
    "body": "I would prefer a more general proposal.  That is, something like this: in patterns, a reference to a variable means \"copy out\" and a reference preceded by `&` means \"take a pointer\".  So:\n\n```\nalt opt {\n    some(x) { ... }  // copies x \n    none { ... }\n} \n```\n\nwhereas\n\n```\nalt opt {\n    some(&x) { ... }  // x is a pointer into opt\n    none { ... }\n} \n```\n\nthis would apply equally to let patterns.  `let (a, b) = pair` would copy out, whereas `let (&a, &b) = pair` would take pointers.\n\nI think this hinges on `&P` not being a valid pattern form, though, which implies that region pointers need a different sigil, since I think it makes sense to have a pattern form that matches against region pointers.  My thought was that region pointers ought to be `*P` and unsafe pointers being `*unsafe P`.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/6157649/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/6195100",
    "html_url": "https://github.com/rust-lang/rust/issues/2517#issuecomment-6195100",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/2517",
    "id": 6195100,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxOTUxMDA=",
    "user": {
      "login": "pcwalton",
      "id": 157897,
      "node_id": "MDQ6VXNlcjE1Nzg5Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/157897?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pcwalton",
      "html_url": "https://github.com/pcwalton",
      "followers_url": "https://api.github.com/users/pcwalton/followers",
      "following_url": "https://api.github.com/users/pcwalton/following{/other_user}",
      "gists_url": "https://api.github.com/users/pcwalton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pcwalton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pcwalton/subscriptions",
      "organizations_url": "https://api.github.com/users/pcwalton/orgs",
      "repos_url": "https://api.github.com/users/pcwalton/repos",
      "events_url": "https://api.github.com/users/pcwalton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pcwalton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-06-08T05:47:38Z",
    "updated_at": "2012-06-08T05:47:38Z",
    "body": "You can already move out of tuples when you destructure them. What's actually biting you here is the wily argument modes. The reason the implicit copy is happening is that, in your lambda block, `ab` is actually by-reference mode. Thus move is disallowed and you're getting the warning about the implicit copy. If `ab` were by-copy or by-move, then you would be able to destructure without copying as you would expect.\n\nThe right way to fix this is, as Niko suggested above, `let (&a, &b) = pair`, as well as getting rid of argument modes so this whole thing will be less confusing.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/6195100/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/6221446",
    "html_url": "https://github.com/rust-lang/rust/issues/2517#issuecomment-6221446",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/2517",
    "id": 6221446,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMjE0NDY=",
    "user": {
      "login": "pcwalton",
      "id": 157897,
      "node_id": "MDQ6VXNlcjE1Nzg5Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/157897?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pcwalton",
      "html_url": "https://github.com/pcwalton",
      "followers_url": "https://api.github.com/users/pcwalton/followers",
      "following_url": "https://api.github.com/users/pcwalton/following{/other_user}",
      "gists_url": "https://api.github.com/users/pcwalton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pcwalton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pcwalton/subscriptions",
      "organizations_url": "https://api.github.com/users/pcwalton/orgs",
      "repos_url": "https://api.github.com/users/pcwalton/repos",
      "events_url": "https://api.github.com/users/pcwalton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pcwalton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-06-09T16:38:22Z",
    "updated_at": "2012-06-09T16:38:22Z",
    "body": "Closing this as not-a-bug.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/6221446/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
