[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/97491746",
    "html_url": "https://github.com/rust-lang/rust/issues/24950#issuecomment-97491746",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24950",
    "id": 97491746,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk3NDkxNzQ2",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-29T16:31:29Z",
    "updated_at": "2015-04-29T16:31:29Z",
    "body": "triage: P-medium -- annoying, but there exists a workaround\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/97491746/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/97493372",
    "html_url": "https://github.com/rust-lang/rust/issues/24950#issuecomment-97493372",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24950",
    "id": 97493372,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk3NDkzMzcy",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-29T16:35:13Z",
    "updated_at": "2015-04-29T16:35:13Z",
    "body": "I assigned myself but have not yet actively started working on this... it occurs to me it is not entirely clear when this upcast should be done in method dispatch. Perhaps just whenever the (fully transformed) receiver is of the form `&Foo` or `&mut Foo` trait object? And this kind of relates to the general desire to do upcasting to allow for calls implemented on supertraits.\n\nThe most obvious thing to do would be to wait until we've fully autoderefered to a trait object type (`Flow+'a`, in this case), but that would not fix this example. It would fix the example if the impl were implemented `Flow` and the method were `&mut self`, though.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/97493372/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/97502506",
    "html_url": "https://github.com/rust-lang/rust/issues/24950#issuecomment-97502506",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24950",
    "id": 97502506,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk3NTAyNTA2",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-29T16:51:59Z",
    "updated_at": "2015-04-29T16:51:59Z",
    "body": "Note for future people triaging this bug: there are easy modifications of @nikomatsakis 's test that exhibit the same compile failure that will not infinite loop after this is fixed; for example, this:\n\n``` rust\npub trait Flow {\n    fn foo();\n}\n\npub trait LayoutDamageComputation {\n    fn compute_layout_damage(self);\n    fn children(&self) -> Vec<Self>;\n}\n\nimpl<'a> LayoutDamageComputation for &'a mut (Flow + 'a) {\n    fn compute_layout_damage(self) {\n        for k in self.children() {\n            k.compute_layout_damage();\n            k.compute_layout_damage();\n        }\n    }\n    fn children(&self) -> Vec<&'a mut (Flow + 'a)> { vec![] }\n}\n\nfn main() { }\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/97502506/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/97509499",
    "html_url": "https://github.com/rust-lang/rust/issues/24950#issuecomment-97509499",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24950",
    "id": 97509499,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk3NTA5NDk5",
    "user": {
      "login": "SimonSapin",
      "id": 291359,
      "node_id": "MDQ6VXNlcjI5MTM1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SimonSapin",
      "html_url": "https://github.com/SimonSapin",
      "followers_url": "https://api.github.com/users/SimonSapin/followers",
      "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}",
      "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions",
      "organizations_url": "https://api.github.com/users/SimonSapin/orgs",
      "repos_url": "https://api.github.com/users/SimonSapin/repos",
      "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SimonSapin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-29T17:17:28Z",
    "updated_at": "2015-04-29T17:17:28Z",
    "body": "> triage: P-medium -- annoying, but there exists a workaround\n\nThe work around exists, but is hardly discoverable\u2026 unless \u201cevery one ask Niko about their borrowck errors\u201d is acceptable ;)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/97509499/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/98168324",
    "html_url": "https://github.com/rust-lang/rust/issues/24950#issuecomment-98168324",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24950",
    "id": 98168324,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk4MTY4MzI0",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-01T16:13:53Z",
    "updated_at": "2015-05-01T16:13:53Z",
    "body": "@SimonSapin indeed. I intend to fix this soon -- it's just that I don't think it's a \"stop everything\" emergency (which is what we are trying to use P-High for).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/98168324/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/98173711",
    "html_url": "https://github.com/rust-lang/rust/issues/24950#issuecomment-98173711",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24950",
    "id": 98173711,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk4MTczNzEx",
    "user": {
      "login": "SimonSapin",
      "id": 291359,
      "node_id": "MDQ6VXNlcjI5MTM1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SimonSapin",
      "html_url": "https://github.com/SimonSapin",
      "followers_url": "https://api.github.com/users/SimonSapin/followers",
      "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}",
      "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions",
      "organizations_url": "https://api.github.com/users/SimonSapin/orgs",
      "repos_url": "https://api.github.com/users/SimonSapin/repos",
      "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SimonSapin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-01T16:35:09Z",
    "updated_at": "2015-05-01T16:35:09Z",
    "body": "Ok, fair enough.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/98173711/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/232721253",
    "html_url": "https://github.com/rust-lang/rust/issues/24950#issuecomment-232721253",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24950",
    "id": 232721253,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzMjcyMTI1Mw==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-07-14T16:40:10Z",
    "updated_at": "2016-07-14T16:40:10Z",
    "body": "triage: P-low\n\nWe've gone this long w/o a fix, probably not P-medium anymore (esp b/c there's a workaround). Also removing @nikomatsakis as an assignee as I don't think this is actively being worked on.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/232721253/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/434698096",
    "html_url": "https://github.com/rust-lang/rust/issues/24950#issuecomment-434698096",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24950",
    "id": 434698096,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNDY5ODA5Ng==",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-10-31T14:00:59Z",
    "updated_at": "2018-10-31T14:00:59Z",
    "body": "Triage: i now get\r\n\r\n```\r\nerror[E0038]: the trait `Flow` cannot be made into an object\r\n  --> src/main.rs:11:10\r\n   |\r\n11 | impl<'a> LayoutDamageComputation for &'a mut (Flow + 'a) {\r\n   |          ^^^^^^^^^^^^^^^^^^^^^^^ the trait `Flow` cannot be made into an object\r\n   |\r\n   = note: method `foo` has no receiver\r\n\r\nerror[E0038]: the trait `Flow` cannot be made into an object\r\n  --> src/main.rs:12:5\r\n   |\r\n12 |     fn compute_layout_damage(self) {\r\n   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ the trait `Flow` cannot be made into an object\r\n   |\r\n   = note: method `foo` has no receiver\r\n\r\n```\r\n\r\nfor all cases, including the \"fixed\" ones. Was this bug fixed in the last two years?",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/434698096/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1074855231",
    "html_url": "https://github.com/rust-lang/rust/issues/24950#issuecomment-1074855231",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24950",
    "id": 1074855231,
    "node_id": "IC_kwDOAAsO6M5AEP0_",
    "user": {
      "login": "Spoonbender",
      "id": 6010433,
      "node_id": "MDQ6VXNlcjYwMTA0MzM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6010433?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Spoonbender",
      "html_url": "https://github.com/Spoonbender",
      "followers_url": "https://api.github.com/users/Spoonbender/followers",
      "following_url": "https://api.github.com/users/Spoonbender/following{/other_user}",
      "gists_url": "https://api.github.com/users/Spoonbender/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Spoonbender/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Spoonbender/subscriptions",
      "organizations_url": "https://api.github.com/users/Spoonbender/orgs",
      "repos_url": "https://api.github.com/users/Spoonbender/repos",
      "events_url": "https://api.github.com/users/Spoonbender/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Spoonbender/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2022-03-22T08:06:56Z",
    "updated_at": "2022-03-22T08:06:56Z",
    "body": "Triage: no change\r\n\r\nAdjusted example code based on [Felix's](https://github.com/rust-lang/rust/issues/24950#issuecomment-97502506):\r\n```rust\r\npub trait Flow {\r\n    fn foo(&self);\r\n}\r\n\r\npub trait LayoutDamageComputation {\r\n    fn compute_layout_damage(self);\r\n    fn children(&self) -> Vec<Self> where Self: Sized;\r\n}\r\n\r\nimpl<'a> LayoutDamageComputation for &'a mut (dyn Flow + 'a) {\r\n    fn compute_layout_damage(self) {\r\n        for k in self.children() {\r\n            k.compute_layout_damage();\r\n            k.compute_layout_damage();\r\n        }\r\n    }\r\n    fn children(&self) -> Vec<&'a mut (dyn Flow + 'a)> { vec![] }\r\n}\r\n\r\nfn main() { }\r\n```\r\n\r\noutput:\r\n```\r\nCompiling playground v0.0.1 (/playground)\r\nerror[[E0499]](https://doc.rust-lang.org/stable/error-index.html#E0499): cannot borrow `*k` as mutable more than once at a time\r\n  --> src/main.rs:14:13\r\n   |\r\n10 | impl<'a> LayoutDamageComputation for &'a mut (dyn Flow + 'a) {\r\n   |      -- lifetime `'a` defined here\r\n...\r\n13 |             k.compute_layout_damage();\r\n   |             -------------------------\r\n   |             |\r\n   |             first mutable borrow occurs here\r\n   |             argument requires that `*k` is borrowed for `'a`\r\n14 |             k.compute_layout_damage();\r\n   |             ^^^^^^^^^^^^^^^^^^^^^^^^^ second mutable borrow occurs here\r\n\r\nFor more information about this error, try `rustc --explain E0499`.\r\nerror: could not compile `playground` due to previous error\r\n```",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1074855231/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
