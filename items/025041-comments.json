[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/98265895",
    "html_url": "https://github.com/rust-lang/rust/issues/25041#issuecomment-98265895",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25041",
    "id": 98265895,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk4MjY1ODk1",
    "user": {
      "login": "BurntSushi",
      "id": 456674,
      "node_id": "MDQ6VXNlcjQ1NjY3NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/456674?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/BurntSushi",
      "html_url": "https://github.com/BurntSushi",
      "followers_url": "https://api.github.com/users/BurntSushi/followers",
      "following_url": "https://api.github.com/users/BurntSushi/following{/other_user}",
      "gists_url": "https://api.github.com/users/BurntSushi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/BurntSushi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/BurntSushi/subscriptions",
      "organizations_url": "https://api.github.com/users/BurntSushi/orgs",
      "repos_url": "https://api.github.com/users/BurntSushi/repos",
      "events_url": "https://api.github.com/users/BurntSushi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/BurntSushi/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-02T00:14:07Z",
    "updated_at": "2015-05-02T00:14:07Z",
    "body": "Another data point:\n\n``` rust\ntrait Foo {}\nimpl<F, A, T> Foo for F where F: Fn(A) -> T {}\n```\n\nproduces\n\n```\n<anon>:2:9: 2:10 error: the type parameter `A` is not constrained by the impl trait, self type, or predicates [E0207]\n<anon>:2 impl<F, A, T> Foo for F where F: Fn(A) -> T {}\n                 ^\n<anon>:2:12: 2:13 error: the type parameter `T` is not constrained by the impl trait, self type, or predicates [E0207]\n<anon>:2 impl<F, A, T> Foo for F where F: Fn(A) -> T {}\n```\n\nWhich says _both_ types are not constrained. Weird.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/98265895/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/136861512",
    "html_url": "https://github.com/rust-lang/rust/issues/25041#issuecomment-136861512",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25041",
    "id": 136861512,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzNjg2MTUxMg==",
    "user": {
      "login": "tomjakubowski",
      "id": 667901,
      "node_id": "MDQ6VXNlcjY2NzkwMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/667901?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tomjakubowski",
      "html_url": "https://github.com/tomjakubowski",
      "followers_url": "https://api.github.com/users/tomjakubowski/followers",
      "following_url": "https://api.github.com/users/tomjakubowski/following{/other_user}",
      "gists_url": "https://api.github.com/users/tomjakubowski/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tomjakubowski/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tomjakubowski/subscriptions",
      "organizations_url": "https://api.github.com/users/tomjakubowski/orgs",
      "repos_url": "https://api.github.com/users/tomjakubowski/repos",
      "events_url": "https://api.github.com/users/tomjakubowski/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tomjakubowski/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-09-01T21:06:29Z",
    "updated_at": "2015-09-01T21:06:29Z",
    "body": "a slightly reduced test case demonstrating that it's not the Fn family of traits in particular:\n\nhttps://play.rust-lang.org/?gist=93a594257a2c08bd33c3&version=nightly\n\n```\ntrait MyFn<In> {\n    type Out;\n}\n\ntrait Foo {}\n\nimpl<F, A> Foo for F where F: MyFn<A, Out=()> {}\n\nfn main() {}\n```\n\n```\n<anon>:7:9: 7:10 error: the type parameter `A` is not constrained by the impl trait, self type, or predicates [E0207]\n<anon>:7 impl<F, A> Foo for F where F: MyFn<A, Out=()> {}\n                 ^\n<anon>:7:9: 7:10 help: see the detailed explanation for E0207\nerror: aborting due to previous error\nplaypen: application terminated with error code 101\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/136861512/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/137165731",
    "html_url": "https://github.com/rust-lang/rust/issues/25041#issuecomment-137165731",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25041",
    "id": 137165731,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzNzE2NTczMQ==",
    "user": {
      "login": "arielb1",
      "id": 1830974,
      "node_id": "MDQ6VXNlcjE4MzA5NzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1830974?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/arielb1",
      "html_url": "https://github.com/arielb1",
      "followers_url": "https://api.github.com/users/arielb1/followers",
      "following_url": "https://api.github.com/users/arielb1/following{/other_user}",
      "gists_url": "https://api.github.com/users/arielb1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/arielb1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/arielb1/subscriptions",
      "organizations_url": "https://api.github.com/users/arielb1/orgs",
      "repos_url": "https://api.github.com/users/arielb1/repos",
      "events_url": "https://api.github.com/users/arielb1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/arielb1/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-09-02T16:46:33Z",
    "updated_at": "2015-09-02T16:46:33Z",
    "body": "This is completely intentional - see rust-lang/rfcs#447. You can (given `#![feature(unboxed_closures)]`) manually implement `Fn` with multiple distinct sets of input parameters:\n\n``` Rust\n#![feature(unboxed_closures,core)]\nuse std::mem;\n\ntrait Foo {\n    fn foo(&self) -> usize;\n}\nimpl<F, A> Foo for F where F: FnOnce(A) {\n    fn foo(&self) -> usize { mem::size_of::<A>() }\n}\n\nstruct S;\nimpl FnOnce<(u32,)> for S {\n    type Output = ();\n    extern \"rust-call\" fn call_once(self, _args: (u32,)) {}\n}\nimpl FnOnce<(u8,)> for S {\n    type Output = ();\n    extern \"rust-call\" fn call_once(self, _args: (u8,)) {}\n}\nfn main() {\n    println!(\"{}\", <S as Foo>::foo(&S)); // which impl is used?\n}\n```\n\nThe \"correct\" fix is probably to add a type parameter to `foo`.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/137165731/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/142047208",
    "html_url": "https://github.com/rust-lang/rust/issues/25041#issuecomment-142047208",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25041",
    "id": 142047208,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0MjA0NzIwOA==",
    "user": {
      "login": "alevy",
      "id": 4689,
      "node_id": "MDQ6VXNlcjQ2ODk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4689?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alevy",
      "html_url": "https://github.com/alevy",
      "followers_url": "https://api.github.com/users/alevy/followers",
      "following_url": "https://api.github.com/users/alevy/following{/other_user}",
      "gists_url": "https://api.github.com/users/alevy/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alevy/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alevy/subscriptions",
      "organizations_url": "https://api.github.com/users/alevy/orgs",
      "repos_url": "https://api.github.com/users/alevy/repos",
      "events_url": "https://api.github.com/users/alevy/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alevy/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-09-21T17:17:24Z",
    "updated_at": "2015-09-21T17:17:24Z",
    "body": "There seems to be a related issue in which the checker is overly conservative:\n\n```\ntrait Foo {}\n\nstruct Bar<T> { _b: T }\n\nimpl<E, T: Unsize<E>> Foo for Bar<T> {}\n```\n\ndoes not compile, even though `E` can be determined uniquely.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/142047208/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/142061001",
    "html_url": "https://github.com/rust-lang/rust/issues/25041#issuecomment-142061001",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25041",
    "id": 142061001,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0MjA2MTAwMQ==",
    "user": {
      "login": "arielb1",
      "id": 1830974,
      "node_id": "MDQ6VXNlcjE4MzA5NzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1830974?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/arielb1",
      "html_url": "https://github.com/arielb1",
      "followers_url": "https://api.github.com/users/arielb1/followers",
      "following_url": "https://api.github.com/users/arielb1/following{/other_user}",
      "gists_url": "https://api.github.com/users/arielb1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/arielb1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/arielb1/subscriptions",
      "organizations_url": "https://api.github.com/users/arielb1/orgs",
      "repos_url": "https://api.github.com/users/arielb1/repos",
      "events_url": "https://api.github.com/users/arielb1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/arielb1/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-09-21T17:56:37Z",
    "updated_at": "2015-09-21T18:02:23Z",
    "body": "@alevy \n\n`Unsize` is a trait with a type parameter, not an associated type. ~~I don't remember why @eddyb did it that way, but this is how it is.~~ `[u8; 1]` implements both `Unsize<[u8]>` and `Unsize<fmt::Debug>`.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/142061001/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/142062884",
    "html_url": "https://github.com/rust-lang/rust/issues/25041#issuecomment-142062884",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25041",
    "id": 142062884,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0MjA2Mjg4NA==",
    "user": {
      "login": "eddyb",
      "id": 77424,
      "node_id": "MDQ6VXNlcjc3NDI0",
      "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eddyb",
      "html_url": "https://github.com/eddyb",
      "followers_url": "https://api.github.com/users/eddyb/followers",
      "following_url": "https://api.github.com/users/eddyb/following{/other_user}",
      "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions",
      "organizations_url": "https://api.github.com/users/eddyb/orgs",
      "repos_url": "https://api.github.com/users/eddyb/repos",
      "events_url": "https://api.github.com/users/eddyb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eddyb/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-09-21T18:04:30Z",
    "updated_at": "2015-09-21T18:04:30Z",
    "body": "Each type can implement many traits and `T: Trait` implies `T: Unsize<Trait>` (if the trait is object-safe).\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/142062884/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/142065398",
    "html_url": "https://github.com/rust-lang/rust/issues/25041#issuecomment-142065398",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25041",
    "id": 142065398,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0MjA2NTM5OA==",
    "user": {
      "login": "alevy",
      "id": 4689,
      "node_id": "MDQ6VXNlcjQ2ODk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4689?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alevy",
      "html_url": "https://github.com/alevy",
      "followers_url": "https://api.github.com/users/alevy/followers",
      "following_url": "https://api.github.com/users/alevy/following{/other_user}",
      "gists_url": "https://api.github.com/users/alevy/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alevy/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alevy/subscriptions",
      "organizations_url": "https://api.github.com/users/alevy/orgs",
      "repos_url": "https://api.github.com/users/alevy/repos",
      "events_url": "https://api.github.com/users/alevy/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alevy/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-09-21T18:15:54Z",
    "updated_at": "2015-09-21T18:15:54Z",
    "body": "But if you know `T`, you also know `E`. `Bar<T>` means that you know `T`, so `E` is never ambiguous in the impl.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/142065398/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/142066828",
    "html_url": "https://github.com/rust-lang/rust/issues/25041#issuecomment-142066828",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25041",
    "id": 142066828,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0MjA2NjgyOA==",
    "user": {
      "login": "eddyb",
      "id": 77424,
      "node_id": "MDQ6VXNlcjc3NDI0",
      "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eddyb",
      "html_url": "https://github.com/eddyb",
      "followers_url": "https://api.github.com/users/eddyb/followers",
      "following_url": "https://api.github.com/users/eddyb/following{/other_user}",
      "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions",
      "organizations_url": "https://api.github.com/users/eddyb/orgs",
      "repos_url": "https://api.github.com/users/eddyb/repos",
      "events_url": "https://api.github.com/users/eddyb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eddyb/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-09-21T18:21:58Z",
    "updated_at": "2015-09-21T18:21:58Z",
    "body": "@alevy That's just plain wrong, there are many possible substitutions for `E`, @arielb1 even gave an example....\nUnless you meant to write `Unsize<[E]>`.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/142066828/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/142093897",
    "html_url": "https://github.com/rust-lang/rust/issues/25041#issuecomment-142093897",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25041",
    "id": 142093897,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0MjA5Mzg5Nw==",
    "user": {
      "login": "alevy",
      "id": 4689,
      "node_id": "MDQ6VXNlcjQ2ODk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4689?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alevy",
      "html_url": "https://github.com/alevy",
      "followers_url": "https://api.github.com/users/alevy/followers",
      "following_url": "https://api.github.com/users/alevy/following{/other_user}",
      "gists_url": "https://api.github.com/users/alevy/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alevy/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alevy/subscriptions",
      "organizations_url": "https://api.github.com/users/alevy/orgs",
      "repos_url": "https://api.github.com/users/alevy/repos",
      "events_url": "https://api.github.com/users/alevy/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alevy/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-09-21T20:03:30Z",
    "updated_at": "2015-09-21T20:03:30Z",
    "body": "@eddyb I see. you're right. I actually did mean `Unsize<[E]>`, but  I don't understand why that makes a difference. Will try to ask on IRC instead of spamming this issue though.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/142093897/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/162998129",
    "html_url": "https://github.com/rust-lang/rust/issues/25041#issuecomment-162998129",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25041",
    "id": 162998129,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2Mjk5ODEyOQ==",
    "user": {
      "login": "shepmaster",
      "id": 174509,
      "node_id": "MDQ6VXNlcjE3NDUwOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/174509?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shepmaster",
      "html_url": "https://github.com/shepmaster",
      "followers_url": "https://api.github.com/users/shepmaster/followers",
      "following_url": "https://api.github.com/users/shepmaster/following{/other_user}",
      "gists_url": "https://api.github.com/users/shepmaster/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shepmaster/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shepmaster/subscriptions",
      "organizations_url": "https://api.github.com/users/shepmaster/orgs",
      "repos_url": "https://api.github.com/users/shepmaster/repos",
      "events_url": "https://api.github.com/users/shepmaster/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shepmaster/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-12-08T20:02:00Z",
    "updated_at": "2015-12-08T20:02:00Z",
    "body": "Is the error message misleading, or am I missing a nuance?\n\n``` rust\ntrait Foo {}\n\nimpl<F, A> Foo for F\n    where F: Fn(A),\n          A: Foo,\n{}\n```\n\nHas the error\n\n> the type parameter `A` is not constrained by the impl trait, self type, **or predicates**\n\nBut, I _do_ have a constraint on `A` in the predicates \u2014 `A: Foo`. Which part of \"constraint\" or \"predicate\" am I misreading?\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/162998129/reactions",
      "total_count": 3,
      "+1": 3,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/163116176",
    "html_url": "https://github.com/rust-lang/rust/issues/25041#issuecomment-163116176",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25041",
    "id": 163116176,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2MzExNjE3Ng==",
    "user": {
      "login": "eddyb",
      "id": 77424,
      "node_id": "MDQ6VXNlcjc3NDI0",
      "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eddyb",
      "html_url": "https://github.com/eddyb",
      "followers_url": "https://api.github.com/users/eddyb/followers",
      "following_url": "https://api.github.com/users/eddyb/following{/other_user}",
      "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions",
      "organizations_url": "https://api.github.com/users/eddyb/orgs",
      "repos_url": "https://api.github.com/users/eddyb/repos",
      "events_url": "https://api.github.com/users/eddyb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eddyb/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-12-09T05:36:33Z",
    "updated_at": "2015-12-09T05:36:33Z",
    "body": "@shepmaster it's definitely misleading - effectively, what it's trying to tell you is that it cannot get `A` back from either the implemented trait (`Foo`) or the type implemented on (`F`).\n`F: Fn(A)` is not enough to extract `A` from `F` because one `F` type can have multiple  `Fn` impls with various arguments (although this wouldn't happen with closures).\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/163116176/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/169097028",
    "html_url": "https://github.com/rust-lang/rust/issues/25041#issuecomment-169097028",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25041",
    "id": 169097028,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2OTA5NzAyOA==",
    "user": {
      "login": "bfops",
      "id": 196249,
      "node_id": "MDQ6VXNlcjE5NjI0OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/196249?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bfops",
      "html_url": "https://github.com/bfops",
      "followers_url": "https://api.github.com/users/bfops/followers",
      "following_url": "https://api.github.com/users/bfops/following{/other_user}",
      "gists_url": "https://api.github.com/users/bfops/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bfops/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bfops/subscriptions",
      "organizations_url": "https://api.github.com/users/bfops/orgs",
      "repos_url": "https://api.github.com/users/bfops/repos",
      "events_url": "https://api.github.com/users/bfops/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bfops/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-01-05T18:56:42Z",
    "updated_at": "2016-01-05T18:58:37Z",
    "body": "I'm hitting this issue too. Is it true for all functions and closures that `A` is uniquely specified by the type of `F`? It would be nice to have a trait that enforces that, since most of the types that implement `Fn`/`FnMut`/`FnOnce` have a specified input and return type.\n\n```\ntrait ActuallyAFn {\n  type Param;\n  type Return;\n  fn call(&self, param: Self::Param) -> Return;\n}\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/169097028/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/269271232",
    "html_url": "https://github.com/rust-lang/rust/issues/25041#issuecomment-269271232",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25041",
    "id": 269271232,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2OTI3MTIzMg==",
    "user": {
      "login": "J-F-Liu",
      "id": 1472963,
      "node_id": "MDQ6VXNlcjE0NzI5NjM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1472963?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/J-F-Liu",
      "html_url": "https://github.com/J-F-Liu",
      "followers_url": "https://api.github.com/users/J-F-Liu/followers",
      "following_url": "https://api.github.com/users/J-F-Liu/following{/other_user}",
      "gists_url": "https://api.github.com/users/J-F-Liu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/J-F-Liu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/J-F-Liu/subscriptions",
      "organizations_url": "https://api.github.com/users/J-F-Liu/orgs",
      "repos_url": "https://api.github.com/users/J-F-Liu/repos",
      "events_url": "https://api.github.com/users/J-F-Liu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/J-F-Liu/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-12-27T05:17:29Z",
    "updated_at": "2016-12-27T05:17:29Z",
    "body": "I also meet this issue while writing the following code:\r\n```rust\r\nuse std::ops::Add;\r\n\r\npub struct Input<'a, I: 'a> {\r\n  pub data: &'a [I],\r\n  pub position: usize,\r\n}\r\n\r\nimpl<'a, I: 'a> Input<'a, I> {\r\n  pub fn new(input: &'a [I]) -> Input<I> {\r\n    Input {\r\n      data: input,\r\n      position: 0,\r\n    }\r\n  }\r\n\r\n  pub fn current(&self) -> Option<I>\r\n    where I: Copy + Clone + 'static\r\n  {\r\n    if self.position < self.data.len() {\r\n      Some(self.data[self.position])\r\n    } else {\r\n      None\r\n    }\r\n  }\r\n\r\n  pub fn advance(&mut self) {\r\n    self.position += 1;\r\n  }\r\n}\r\n\r\n#[derive(Debug, PartialEq)]\r\npub enum Error {\r\n  Incomplete,\r\n  Mismatch { message: String, position: usize },\r\n}\r\n\r\npub type Result<O> = ::std::result::Result<O, Error>;\r\n\r\npub struct Parser<I, O> {\r\n  method: Box<Fn(&mut Input<I>) -> Result<O>>,\r\n}\r\n\r\nimpl<I, O> Parser<I, O> {\r\n  pub fn new<P>(parse: P) -> Parser<I, O>\r\n    where P: Fn(&mut Input<I>) -> Result<O> + 'static\r\n  {\r\n    Parser { method: Box::new(parse) }\r\n  }\r\n\r\n  pub fn parse(&self, input: &mut Input<I>) -> Result<O> {\r\n    (self.method)(input)\r\n  }\r\n}\r\n\r\nimpl<I, O1, O2> Add for Parser<I, O1> {\r\n  type Output = Parser<I, (O1, O2)>;\r\n\r\n  fn add(self, other: Parser<I, O2>) -> Self::Output\r\n    where I: 'static,\r\n          O1: 'static,\r\n          O2: 'static\r\n  {\r\n    Parser::new(move |input: &mut Input<I>| {\r\n      self.parse(input).and_then(|out1| other.parse(input).map(|out2| (out1, out2)))\r\n    })\r\n  }\r\n}\r\n```\r\nThe error message is:\r\n```\r\nerror[E0207]: the type parameter `O2` is not constrained by the impl trait, self type, or predicates\r\n  --> src/parser.rs:81:13\r\n   |\r\n81 | impl<I, O1, O2> Add for Parser<I, O1> {\r\n   |             ^^ unconstrained type parameter\r\n```",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/269271232/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/269286140",
    "html_url": "https://github.com/rust-lang/rust/issues/25041#issuecomment-269286140",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25041",
    "id": 269286140,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2OTI4NjE0MA==",
    "user": {
      "login": "eddyb",
      "id": 77424,
      "node_id": "MDQ6VXNlcjc3NDI0",
      "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eddyb",
      "html_url": "https://github.com/eddyb",
      "followers_url": "https://api.github.com/users/eddyb/followers",
      "following_url": "https://api.github.com/users/eddyb/following{/other_user}",
      "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions",
      "organizations_url": "https://api.github.com/users/eddyb/orgs",
      "repos_url": "https://api.github.com/users/eddyb/repos",
      "events_url": "https://api.github.com/users/eddyb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eddyb/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-12-27T07:45:57Z",
    "updated_at": "2016-12-27T07:49:03Z",
    "body": "@J-F-Liu Completely intentional, associated types are supposed to be determined from `Self` and trait parameters *alone* but yours is extra generic.\r\n\r\n**EDIT**: on a third read I noticed the `O2` in the `add` argument. If the `add` signature correct then you forgot to specify the optional RHS type, i.e. the `impl` should not be for `Add` but `Add<Parser<I, O2>>`.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/269286140/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/269438721",
    "html_url": "https://github.com/rust-lang/rust/issues/25041#issuecomment-269438721",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25041",
    "id": 269438721,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2OTQzODcyMQ==",
    "user": {
      "login": "J-F-Liu",
      "id": 1472963,
      "node_id": "MDQ6VXNlcjE0NzI5NjM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1472963?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/J-F-Liu",
      "html_url": "https://github.com/J-F-Liu",
      "followers_url": "https://api.github.com/users/J-F-Liu/followers",
      "following_url": "https://api.github.com/users/J-F-Liu/following{/other_user}",
      "gists_url": "https://api.github.com/users/J-F-Liu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/J-F-Liu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/J-F-Liu/subscriptions",
      "organizations_url": "https://api.github.com/users/J-F-Liu/orgs",
      "repos_url": "https://api.github.com/users/J-F-Liu/repos",
      "events_url": "https://api.github.com/users/J-F-Liu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/J-F-Liu/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-12-28T07:35:45Z",
    "updated_at": "2016-12-28T09:16:12Z",
    "body": "@eddby ah, thanks, the following code works:\r\n```rust\r\nimpl<I, O, U> Add<Parser<I, U>> for Parser<I, O> {\r\n    type Output = Parser<I, (O, U)>;\r\n\r\n    fn add(self, other: Parser<I, U>) -> Self::Output\r\n        where I: 'static,\r\n              O: 'static,\r\n              U: 'static\r\n    {\r\n        Parser::new(move |input: &mut Input<I>| {\r\n            self.parse(input).and_then(|out1| other.parse(input).map(|out2| (out1, out2)))\r\n        })\r\n    }\r\n}\r\n```\r\nThe above code is critical for my [parser combinator library](https://github.com/J-F-Liu/pom).",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/269438721/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/277595412",
    "html_url": "https://github.com/rust-lang/rust/issues/25041#issuecomment-277595412",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25041",
    "id": 277595412,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3NzU5NTQxMg==",
    "user": {
      "login": "J-F-Liu",
      "id": 1472963,
      "node_id": "MDQ6VXNlcjE0NzI5NjM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1472963?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/J-F-Liu",
      "html_url": "https://github.com/J-F-Liu",
      "followers_url": "https://api.github.com/users/J-F-Liu/followers",
      "following_url": "https://api.github.com/users/J-F-Liu/following{/other_user}",
      "gists_url": "https://api.github.com/users/J-F-Liu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/J-F-Liu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/J-F-Liu/subscriptions",
      "organizations_url": "https://api.github.com/users/J-F-Liu/orgs",
      "repos_url": "https://api.github.com/users/J-F-Liu/repos",
      "events_url": "https://api.github.com/users/J-F-Liu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/J-F-Liu/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-02-06T06:20:56Z",
    "updated_at": "2017-02-06T06:20:56Z",
    "body": "While writing pom 2.0 meet this error again:\r\n```rust\r\npub enum Error {\r\n  Incomplete,\r\n  Mismatch { message: String, position: usize },\r\n  Conversion { message: String, position: usize },\r\n  Custom { message: String, position: usize, inner: Option<Box<Error>> },\r\n}\r\npub type Result<O> = ::std::result::Result<O, Error>;\r\npub trait Parser<'a, I, O> {\r\n  fn parse(&self, input: &'a [I], start: usize) -> Result<(O, usize)>;\r\n}\r\n\r\npub struct Left<P1, P2>(P1, P2);\r\nimpl<'a, I, O1, O2, P1: Parser<'a, I, O1>, P2: Parser<'a, I, O2>> Parser<'a, I, O1> for Left<P1, P2> {\r\n  fn parse(&self, input: &'a [I], start: usize) -> Result<(O1, usize)> {\r\n    self.0.parse(input, start).and_then(|(out1, pos1)|\r\n      self.1.parse(input, pos1).map(|(_, pos2)|\r\n        (out1, pos2)\r\n      )\r\n    )\r\n  }\r\n}\r\n```\r\n```\r\n13 | impl<'a, I, O1, O2, P1: Parser<'a, I, O1>, P2: Parser<'a, I, O2>> Parser<'a, I, O1> for Left<P1, P2> {\r\n   |                 ^^ unconstrained type parameter\r\n```\r\nCan not be solved this time. I tried to add PhantomData, but transfer the error to the following code:\r\n```rust\r\nimpl<P, Q, O> Sub<Combinator<Q>> for Combinator<P>\r\n{\r\n  type Output = Combinator<Left<P,Q,O>>;\r\n\r\n  fn sub(self, other: Combinator<Q>) -> Self::Output {\r\n    Combinator(Left(self.0, other.0, PhantomData))\r\n  }\r\n}\r\n```\r\n```\r\n429 | impl<P, Q, O> Sub<Combinator<Q>> for Combinator<P>\r\n    |            ^ unconstrained type parameter\r\n```",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/277595412/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/303524797",
    "html_url": "https://github.com/rust-lang/rust/issues/25041#issuecomment-303524797",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25041",
    "id": 303524797,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMzUyNDc5Nw==",
    "user": {
      "login": "rkarp",
      "id": 11368735,
      "node_id": "MDQ6VXNlcjExMzY4NzM1",
      "avatar_url": "https://avatars.githubusercontent.com/u/11368735?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rkarp",
      "html_url": "https://github.com/rkarp",
      "followers_url": "https://api.github.com/users/rkarp/followers",
      "following_url": "https://api.github.com/users/rkarp/following{/other_user}",
      "gists_url": "https://api.github.com/users/rkarp/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rkarp/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rkarp/subscriptions",
      "organizations_url": "https://api.github.com/users/rkarp/orgs",
      "repos_url": "https://api.github.com/users/rkarp/repos",
      "events_url": "https://api.github.com/users/rkarp/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rkarp/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-05-23T20:38:14Z",
    "updated_at": "2017-05-23T20:38:14Z",
    "body": "Interestingly, this works:\r\n```rust\r\nuse std::marker::PhantomData;\r\n\r\ntrait Foo {}\r\n\r\nstruct Function<F, I, O> {\r\n    in_p: PhantomData<I>,\r\n    out_p: PhantomData<O>,\r\n    function: F\r\n}\r\n\r\nimpl<F, I, O> Foo for Function<F, I, O>\r\n    where F: Fn(I) -> O\r\n{}\r\n```\r\nBut this doesn't:\r\n```rust\r\nuse std::marker::PhantomData;\r\n\r\ntrait Foo {}\r\n\r\nstruct Function<F> {\r\n    function: F\r\n}\r\n\r\nimpl<F, I, O> Foo for Function<F>\r\n    where F: Fn(I) -> O\r\n{}\r\n```",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/303524797/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/303587223",
    "html_url": "https://github.com/rust-lang/rust/issues/25041#issuecomment-303587223",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25041",
    "id": 303587223,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMzU4NzIyMw==",
    "user": {
      "login": "eddyb",
      "id": 77424,
      "node_id": "MDQ6VXNlcjc3NDI0",
      "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eddyb",
      "html_url": "https://github.com/eddyb",
      "followers_url": "https://api.github.com/users/eddyb/followers",
      "following_url": "https://api.github.com/users/eddyb/following{/other_user}",
      "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions",
      "organizations_url": "https://api.github.com/users/eddyb/orgs",
      "repos_url": "https://api.github.com/users/eddyb/repos",
      "events_url": "https://api.github.com/users/eddyb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eddyb/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-05-24T01:10:05Z",
    "updated_at": "2017-05-24T01:10:05Z",
    "body": "@rkap That is a direct consequence of our rules. Do note that you don't need `O` in a `PhantomData` because it's fully determined by `F` and `I`.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/303587223/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1142436116",
    "html_url": "https://github.com/rust-lang/rust/issues/25041#issuecomment-1142436116",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25041",
    "id": 1142436116,
    "node_id": "IC_kwDOAAsO6M5EGDEU",
    "user": {
      "login": "maxammann",
      "id": 905221,
      "node_id": "MDQ6VXNlcjkwNTIyMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/905221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/maxammann",
      "html_url": "https://github.com/maxammann",
      "followers_url": "https://api.github.com/users/maxammann/followers",
      "following_url": "https://api.github.com/users/maxammann/following{/other_user}",
      "gists_url": "https://api.github.com/users/maxammann/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/maxammann/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/maxammann/subscriptions",
      "organizations_url": "https://api.github.com/users/maxammann/orgs",
      "repos_url": "https://api.github.com/users/maxammann/repos",
      "events_url": "https://api.github.com/users/maxammann/events{/privacy}",
      "received_events_url": "https://api.github.com/users/maxammann/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2022-05-31T17:52:03Z",
    "updated_at": "2022-05-31T17:52:34Z",
    "body": "I tried to implement a pipeline with steps. Steps implement the Processable trait. I failed to implement that trait directly for `Fn(I, Context) -> O`.\r\n\r\nI suppose this is not possible, right now, correct?\r\n\r\n```rust\r\n\r\npub struct PipelineContext {\r\n}\r\n\r\nimpl PipelineContext {\r\n    pub fn teardown(self) -> Box<dyn PipelineProcessor> {\r\n        self.processor\r\n    }\r\n}\r\n\r\npub trait Processable {\r\n    type Input;\r\n    type Output;\r\n\r\n    fn process(&self, input: Self::Input, context: &mut PipelineContext) -> Self::Output;\r\n}\r\n\r\npub struct PipelineStep<P, N>\r\nwhere\r\n    P: Processable,\r\n    N: Processable<Input = P::Output>,\r\n{\r\n    process: P,\r\n    next: N,\r\n}\r\n\r\nimpl<P, N> PipelineStep<P, N>\r\nwhere\r\n    P: Processable,\r\n    N: Processable<Input = P::Output>,\r\n{\r\n    pub fn new(process: P, next: N) -> Self {\r\n        Self { process, next }\r\n    }\r\n}\r\n\r\nimpl<P, N> Processable for PipelineStep<P, N>\r\nwhere\r\n    P: Processable,\r\n    N: Processable<Input = P::Output>,\r\n{\r\n    type Input = P::Input;\r\n    type Output = N::Output;\r\n\r\n    fn process(&self, input: Self::Input, context: &mut PipelineContext) -> Self::Output {\r\n        let output = self.process.process(input, context);\r\n        self.next.process(output, context)\r\n    }\r\n}\r\n\r\npub struct EndStep<I> {\r\n    phantom: PhantomData<I>,\r\n}\r\n\r\nimpl<I> Default for EndStep<I> {\r\n    fn default() -> Self {\r\n        Self {\r\n            phantom: PhantomData::default(),\r\n        }\r\n    }\r\n}\r\n\r\nimpl<I> Processable for EndStep<I> {\r\n    type Input = I;\r\n    type Output = I;\r\n\r\n    fn process(&self, input: Self::Input, _context: &mut PipelineContext) -> Self::Output {\r\n        input\r\n    }\r\n}\r\n\r\nimpl<I, O> Processable for &fn(input: I, context: &mut PipelineContext) -> O {\r\n    type Input = I;\r\n    type Output = O;\r\n\r\n    fn process(&self, input: Self::Input, context: &mut PipelineContext) -> Self::Output {\r\n        (self)(input, context)\r\n    }\r\n}\r\n\r\nimpl<I, O> Processable for fn(input: I, context: &mut PipelineContext) -> O {\r\n    type Input = I;\r\n    type Output = O;\r\n\r\n    fn process(&self, input: Self::Input, context: &mut PipelineContext) -> Self::Output {\r\n        (self)(input, context)\r\n    }\r\n}\r\n\r\npub struct ClosureProcessable<F, I, O>\r\nwhere\r\n    F: Fn(I, &mut PipelineContext) -> O,\r\n{\r\n    func: F,\r\n    phantom_i: PhantomData<I>,\r\n}\r\n\r\nimpl<F, I, O> Processable for ClosureProcessable<F, I, O>\r\nwhere\r\n    F: Fn(I, &mut PipelineContext) -> O,\r\n{\r\n    type Input = I;\r\n    type Output = O;\r\n\r\n    fn process(&self, input: Self::Input, context: &mut PipelineContext) -> Self::Output {\r\n        (self.func)(input, context)\r\n    }\r\n}\r\n\r\n#[cfg(test)]\r\nmod tests {\r\n    use crate::io::pipeline::{\r\n        ClosureProcessable, EndStep, PipelineContext, PipelineProcessor, PipelineStep, Processable,\r\n    };\r\n    use std::sync::mpsc;\r\n\r\n    pub struct DummyPipelineProcessor;\r\n\r\n    impl PipelineProcessor for DummyPipelineProcessor {}\r\n\r\n    fn add_one(input: u32, context: &mut PipelineContext) -> u8 {\r\n        input as u8 + 1\r\n    }\r\n\r\n    fn add_two(input: u8, context: &mut PipelineContext) -> u32 {\r\n        input as u32 + 2\r\n    }\r\n\r\n    #[test]\r\n    fn test() {\r\n        let mut context = PipelineContext {\r\n        };\r\n        let output: u32 = PipelineStep {\r\n            process: add_two as fn(u8, &mut PipelineContext) -> u32,\r\n            next: EndStep::default(),\r\n        }\r\n        .process(5u8, &mut context);\r\n\r\n        assert_eq!(output, 7);\r\n\r\n        let output = PipelineStep {\r\n            process: add_one as fn(u32, &mut PipelineContext) -> u8,\r\n            next: PipelineStep {\r\n                process: add_two as fn(u8, &mut PipelineContext) -> u32,\r\n                next: EndStep::default(),\r\n            },\r\n        }\r\n        .process(5u32, &mut context);\r\n\r\n        assert_eq!(output, 8);\r\n\r\n        let output: u32 = PipelineStep {\r\n            process: ClosureProcessable {\r\n                func: |input: u8, context| -> u32 {\r\n                    return input as u32 + 2;\r\n                },\r\n                phantom_i: Default::default(),\r\n            },\r\n            next: EndStep::default(),\r\n        }\r\n        .process(5u8, &mut context);\r\n\r\n        assert_eq!(output, 7);\r\n    }\r\n}\r\n```",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1142436116/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1146480861",
    "html_url": "https://github.com/rust-lang/rust/issues/25041#issuecomment-1146480861",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25041",
    "id": 1146480861,
    "node_id": "IC_kwDOAAsO6M5EVejd",
    "user": {
      "login": "eddyb",
      "id": 77424,
      "node_id": "MDQ6VXNlcjc3NDI0",
      "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eddyb",
      "html_url": "https://github.com/eddyb",
      "followers_url": "https://api.github.com/users/eddyb/followers",
      "following_url": "https://api.github.com/users/eddyb/following{/other_user}",
      "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions",
      "organizations_url": "https://api.github.com/users/eddyb/orgs",
      "repos_url": "https://api.github.com/users/eddyb/repos",
      "events_url": "https://api.github.com/users/eddyb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eddyb/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2022-06-04T00:45:39Z",
    "updated_at": "2022-06-04T00:45:39Z",
    "body": "@maxammann It's not just \"right now\", the definition of that trait is incompatible with Rust functions.\r\n\r\nThat is, this trait definition:\r\n```rust\r\npub trait Processable {\r\n    type Input;\r\n    type Output;\r\n\r\n    fn process(&self, input: Self::Input, context: &mut PipelineContext) -> Self::Output;\r\n}\r\n```\r\n\r\nSuggests that every implementer of `Processable` can *only* ever have one input and one output type.\r\n\r\nIt's suitable for `() -> (Input, Output)` *not* `Input -> Output`.\r\n\r\n<hr/>\r\n\r\nI didn't check if everything else is agreeable with this version, but it's the arguably correct one:\r\n```rust\r\npub trait Processable<I> {\r\n    type Output;\r\n\r\n    fn process(&self, input: I, context: &mut PipelineContext) -> Self::Output;\r\n}\r\n```",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1146480861/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1146601223",
    "html_url": "https://github.com/rust-lang/rust/issues/25041#issuecomment-1146601223",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25041",
    "id": 1146601223,
    "node_id": "IC_kwDOAAsO6M5EV78H",
    "user": {
      "login": "maxammann",
      "id": 905221,
      "node_id": "MDQ6VXNlcjkwNTIyMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/905221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/maxammann",
      "html_url": "https://github.com/maxammann",
      "followers_url": "https://api.github.com/users/maxammann/followers",
      "following_url": "https://api.github.com/users/maxammann/following{/other_user}",
      "gists_url": "https://api.github.com/users/maxammann/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/maxammann/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/maxammann/subscriptions",
      "organizations_url": "https://api.github.com/users/maxammann/orgs",
      "repos_url": "https://api.github.com/users/maxammann/repos",
      "events_url": "https://api.github.com/users/maxammann/events{/privacy}",
      "received_events_url": "https://api.github.com/users/maxammann/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2022-06-04T12:36:55Z",
    "updated_at": "2022-06-04T12:36:55Z",
    "body": "\n> I didn't check if everything else is agreeable with this version, but it's the arguably correct one:\n> ```rust\n> pub trait Processable<I> {\n>     type Output;\n> \n>     fn process(&self, input: I, context: &mut PipelineContext) -> Self::Output;\n> }\n> ```\n\nSo, my definition of Processable works nicely for my usecase even though it is incompstible with functions.\n\nI already tried for implement the quoted version of Processable for Fn(I) -> O. I failed because of the same reasons. The problem was that I was unable to forward the generic I from Processable to the Fn.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1146601223/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
