[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/58036964",
    "html_url": "https://github.com/rust-lang/rust/issues/17795#issuecomment-58036964",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/17795",
    "id": 58036964,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4MDM2OTY0",
    "user": {
      "login": "ahmedcharles",
      "id": 3112514,
      "node_id": "MDQ6VXNlcjMxMTI1MTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3112514?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ahmedcharles",
      "html_url": "https://github.com/ahmedcharles",
      "followers_url": "https://api.github.com/users/ahmedcharles/followers",
      "following_url": "https://api.github.com/users/ahmedcharles/following{/other_user}",
      "gists_url": "https://api.github.com/users/ahmedcharles/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ahmedcharles/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ahmedcharles/subscriptions",
      "organizations_url": "https://api.github.com/users/ahmedcharles/orgs",
      "repos_url": "https://api.github.com/users/ahmedcharles/repos",
      "events_url": "https://api.github.com/users/ahmedcharles/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ahmedcharles/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-10-06T15:43:04Z",
    "updated_at": "2014-10-06T15:43:04Z",
    "body": "Just curious, what's bindgen? Are there docs on how to use it?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/58036964/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/58043397",
    "html_url": "https://github.com/rust-lang/rust/issues/17795#issuecomment-58043397",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/17795",
    "id": 58043397,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4MDQzMzk3",
    "user": {
      "login": "eddyb",
      "id": 77424,
      "node_id": "MDQ6VXNlcjc3NDI0",
      "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eddyb",
      "html_url": "https://github.com/eddyb",
      "followers_url": "https://api.github.com/users/eddyb/followers",
      "following_url": "https://api.github.com/users/eddyb/following{/other_user}",
      "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions",
      "organizations_url": "https://api.github.com/users/eddyb/orgs",
      "repos_url": "https://api.github.com/users/eddyb/repos",
      "events_url": "https://api.github.com/users/eddyb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eddyb/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-10-06T16:21:37Z",
    "updated_at": "2014-10-06T16:21:37Z",
    "body": "@ahmedcharles I've updated the description with a link to [bindgen](https://github.com/crabtw/rust-bindgen).\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/58043397/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/168230918",
    "html_url": "https://github.com/rust-lang/rust/issues/17795#issuecomment-168230918",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/17795",
    "id": 168230918,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2ODIzMDkxOA==",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-12-31T18:08:16Z",
    "updated_at": "2015-12-31T18:08:16Z",
    "body": "I spoke about this with @eddyb on IRC today. This is especially pernicious, because we could be accidentally getting UB in corner cases.\n\nA tactic to close this bug:\n1. Generate headers from LLVM with bindgen\n2. Run diff\n3. see if any of it is a particular issue.\n\nHumans looking at it will probably be needed, given that bindgen isn't perfect.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/168230918/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/329266606",
    "html_url": "https://github.com/rust-lang/rust/issues/17795#issuecomment-329266606",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/17795",
    "id": 329266606,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyOTI2NjYwNg==",
    "user": {
      "login": "tamird",
      "id": 1535036,
      "node_id": "MDQ6VXNlcjE1MzUwMzY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1535036?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tamird",
      "html_url": "https://github.com/tamird",
      "followers_url": "https://api.github.com/users/tamird/followers",
      "following_url": "https://api.github.com/users/tamird/following{/other_user}",
      "gists_url": "https://api.github.com/users/tamird/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tamird/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tamird/subscriptions",
      "organizations_url": "https://api.github.com/users/tamird/orgs",
      "repos_url": "https://api.github.com/users/tamird/repos",
      "events_url": "https://api.github.com/users/tamird/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tamird/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-09-13T19:07:09Z",
    "updated_at": "2017-09-13T19:07:09Z",
    "body": "I took a look at this, starting with the rather naive:\r\n```sh\r\n#!/usr/bin/env sh\r\n\r\nset -eu\r\n\r\nLLVM_CONFIG_PATH=$(find build -name llvm-config -type f | head -n1)\r\nCXX_FLAGS=$($LLVM_CONFIG_PATH --cxxflags)\r\n\r\necho CXX_FLAGS: $CXX_FLAGS\r\n\r\nRUST_BACKTRACE=1 bindgen $@ src/rustllvm/rustllvm.h -o src/librustc_llvm/ffi.rs -- $CXX_FLAGS\r\n```\r\nwhich produces the output:\r\n```\r\n$ ./bindgen.sh\r\nCXX_FLAGS: -I/Users/tamird/src/rust/build/x86_64-apple-darwin/llvm/include -ffunction-sections -fdata-sections -fPIC -m64 -stdlib=libc++ -fPIC -fvisibility-inlines-hidden -Wall -W -Wno-unused-parameter -Wwrite-strings -Wcast-qual -Wmissing-field-initializers -pedantic -Wno-long-long -Wcovered-switch-default -Wnon-virtual-dtor -Wdelete-non-virtual-dtor -Wstring-conversion -Werror=date-time -std=c++11 -O3 -DNDEBUG -fno-exceptions -fno-rtti -D__STDC_CONSTANT_MACROS -D__STDC_FORMAT_MACROS -D__STDC_LIMIT_MACROS\r\nerror: invalid argument '-std=c++11' not allowed with 'C/ObjC', err: true\r\nthread 'main' panicked at 'Unable to generate bindings: ()', src/libcore/result.rs:906:4\r\nstack backtrace:\r\n   0: std::sys::imp::backtrace::tracing::imp::unwind_backtrace\r\n   1: std::sys_common::backtrace::_print\r\n   2: std::panicking::default_hook::{{closure}}\r\n   3: std::panicking::default_hook\r\n   4: std::panicking::rust_panic_with_hook\r\n   5: std::panicking::begin_panic\r\n   6: std::panicking::begin_panic_fmt\r\n   7: rust_begin_unwind\r\n   8: core::panicking::panic_fmt\r\n   9: core::result::unwrap_failed\r\n  10: std::panicking::try::do_call\r\n  11: __rust_maybe_catch_panic\r\n  12: bindgen::main\r\n  13: __rust_maybe_catch_panic\r\n  14: std::rt::lang_start\r\n```",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/329266606/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/329267323",
    "html_url": "https://github.com/rust-lang/rust/issues/17795#issuecomment-329267323",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/17795",
    "id": 329267323,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyOTI2NzMyMw==",
    "user": {
      "login": "tamird",
      "id": 1535036,
      "node_id": "MDQ6VXNlcjE1MzUwMzY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1535036?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tamird",
      "html_url": "https://github.com/tamird",
      "followers_url": "https://api.github.com/users/tamird/followers",
      "following_url": "https://api.github.com/users/tamird/following{/other_user}",
      "gists_url": "https://api.github.com/users/tamird/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tamird/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tamird/subscriptions",
      "organizations_url": "https://api.github.com/users/tamird/orgs",
      "repos_url": "https://api.github.com/users/tamird/repos",
      "events_url": "https://api.github.com/users/tamird/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tamird/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-09-13T19:10:06Z",
    "updated_at": "2017-09-13T19:10:06Z",
    "body": "Using `--cflags` rather than `--cxxflags` produces c++ parsing failures:\r\n```\r\n$ ./bindgen.sh\r\nC_FLAGS: -I/Users/tamird/src/rust/build/x86_64-apple-darwin/llvm/include -ffunction-sections -fdata-sections -fPIC -m64 -stdlib=libc++ -fPIC -Wall -W -Wno-unused-parameter -Wwrite-strings -Wmissing-field-initializers -pedantic -Wno-long-long -Wcovered-switch-default -Wdelete-non-virtual-dtor -Wstring-conversion -Werror=date-time -O3 -DNDEBUG -D__STDC_CONSTANT_MACROS -D__STDC_FORMAT_MACROS -D__STDC_LIMIT_MACROS\r\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/__config:263:9: error: unknown type name '__char16_t'\r\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/__config:264:9: error: unknown type name '__char32_t'\r\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/__config:403:1: error: unknown type name 'namespace'\r\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/__config:403:14: error: expected ';' after top level declarator\r\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/__config:598:1: error: unknown type name 'template'\r\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/__config:598:10: error: expected identifier or '('\r\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/__config:599:1: error: unknown type name 'template'\r\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/__config:599:10: error: expected identifier or '('\r\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/cstddef:44:1: error: unknown type name 'namespace'\r\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/cstddef:44:1: error: expected ';' after top level declarator\r\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/cstring:67:1: error: unknown type name 'namespace'\r\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/cstring:67:1: error: expected ';' after top level declarator\r\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/new:135:38: error: expected ';' after top level declarator\r\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/new:136:30: error: variable has incomplete type 'void'\r\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/new:136:38: error: expected ';' after top level declarator\r\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/new:137:30: error: variable has incomplete type 'void'\r\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/new:137:38: error: expected ';' after top level declarator\r\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/new:144:38: error: expected ';' after top level declarator\r\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/new:149:38: error: expected ';' after top level declarator\r\nfatal error: too many errors emitted, stopping now [-ferror-limit=]\r\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/__config:263:9: error: unknown type name '__char16_t', err: true\r\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/__config:264:9: error: unknown type name '__char32_t', err: true\r\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/__config:403:1: error: unknown type name 'namespace', err: true\r\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/__config:403:14: error: expected ';' after top level declarator, err: true\r\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/__config:598:1: error: unknown type name 'template', err: true\r\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/__config:598:10: error: expected identifier or '(', err: true\r\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/__config:599:1: error: unknown type name 'template', err: true\r\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/__config:599:10: error: expected identifier or '(', err: true\r\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/cstddef:44:1: error: unknown type name 'namespace', err: true\r\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/cstddef:44:1: error: expected ';' after top level declarator, err: true\r\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/cstring:67:1: error: unknown type name 'namespace', err: true\r\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/cstring:67:1: error: expected ';' after top level declarator, err: true\r\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/new:135:38: error: expected ';' after top level declarator, err: true\r\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/new:136:30: error: variable has incomplete type 'void', err: true\r\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/new:136:38: error: expected ';' after top level declarator, err: true\r\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/new:137:30: error: variable has incomplete type 'void', err: true\r\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/new:137:38: error: expected ';' after top level declarator, err: true\r\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/new:144:38: error: expected ';' after top level declarator, err: true\r\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/new:149:38: error: expected ';' after top level declarator, err: true\r\nfatal error: too many errors emitted, stopping now [-ferror-limit=], err: true\r\nthread 'main' panicked at 'Unable to generate bindings: ()', src/libcore/result.rs:906:4\r\nstack backtrace:\r\n   0: std::sys::imp::backtrace::tracing::imp::unwind_backtrace\r\n   1: std::sys_common::backtrace::_print\r\n   2: std::panicking::default_hook::{{closure}}\r\n   3: std::panicking::default_hook\r\n   4: std::panicking::rust_panic_with_hook\r\n   5: std::panicking::begin_panic\r\n   6: std::panicking::begin_panic_fmt\r\n   7: rust_begin_unwind\r\n   8: core::panicking::panic_fmt\r\n   9: core::result::unwrap_failed\r\n  10: std::panicking::try::do_call\r\n  11: __rust_maybe_catch_panic\r\n  12: bindgen::main\r\n  13: __rust_maybe_catch_panic\r\n  14: std::rt::lang_start\r\n```",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/329267323/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/329318754",
    "html_url": "https://github.com/rust-lang/rust/issues/17795#issuecomment-329318754",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/17795",
    "id": 329318754,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyOTMxODc1NA==",
    "user": {
      "login": "tamird",
      "id": 1535036,
      "node_id": "MDQ6VXNlcjE1MzUwMzY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1535036?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tamird",
      "html_url": "https://github.com/tamird",
      "followers_url": "https://api.github.com/users/tamird/followers",
      "following_url": "https://api.github.com/users/tamird/following{/other_user}",
      "gists_url": "https://api.github.com/users/tamird/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tamird/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tamird/subscriptions",
      "organizations_url": "https://api.github.com/users/tamird/orgs",
      "repos_url": "https://api.github.com/users/tamird/repos",
      "events_url": "https://api.github.com/users/tamird/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tamird/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-09-13T22:49:24Z",
    "updated_at": "2017-09-13T22:49:24Z",
    "body": "Ah, renaming `rustllvm.h` to `rustllvm.hpp` gets this further, but we hit https://github.com/rust-lang-nursery/rust-bindgen/issues/492:\r\n```\r\n./bindgen.sh 2>bindgen.stderr\r\n```\r\n[gist containing bindgen.sh & bindgen.stderr](https://gist.github.com/anonymous/d20daf345e3b7512061c719e15684bb9)",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/329318754/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1345381134",
    "html_url": "https://github.com/rust-lang/rust/issues/17795#issuecomment-1345381134",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/17795",
    "id": 1345381134,
    "node_id": "IC_kwDOAAsO6M5QMOMO",
    "user": {
      "login": "FreezyLemon",
      "id": 13467374,
      "node_id": "MDQ6VXNlcjEzNDY3Mzc0",
      "avatar_url": "https://avatars.githubusercontent.com/u/13467374?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/FreezyLemon",
      "html_url": "https://github.com/FreezyLemon",
      "followers_url": "https://api.github.com/users/FreezyLemon/followers",
      "following_url": "https://api.github.com/users/FreezyLemon/following{/other_user}",
      "gists_url": "https://api.github.com/users/FreezyLemon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/FreezyLemon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/FreezyLemon/subscriptions",
      "organizations_url": "https://api.github.com/users/FreezyLemon/orgs",
      "repos_url": "https://api.github.com/users/FreezyLemon/repos",
      "events_url": "https://api.github.com/users/FreezyLemon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/FreezyLemon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2022-12-10T20:45:24Z",
    "updated_at": "2022-12-10T20:49:05Z",
    "body": "If someone's interested in this (like me, originally), I'll save you some time:\r\n\r\nThe above PR #46353 was rejected due to A) bindgen needing an unwanted dependency and B) the team preferring a validation of the bindings over re-generating the bindings automatically via bindgen. (This is understandable, as the hand-written bindings are way nicer than bindgens output)\r\n\r\n`ctest` was proposed as a crate that allows testing the existing bindings. However, after some research, `ctest` is pretty much [abandoned](https://github.com/gnzlbg/ctest) and even the fork [ctest2](https://github.com/JohnTitor/ctest2) suffers from [outdated dependencies](https://github.com/JohnTitor/ctest2/issues/36#issuecomment-1140130806), which results in the crate practically being unable to handle `rustc_codegen_llvm` which is the crate that would need to be parsed. I tried.\r\n\r\nThe way I see it, the validation can't be reliably automated at the moment unless `ctest2` gets a major update/rewrite or an alternative pops up (maybe with syn-based parsing).\r\n\r\nEdit: Actually, it might be possible. For example. libz-sys [uses](https://github.com/rust-lang/libz-sys/tree/main/systest) `ctest2`. I guess the code in libz-sys is simple enough to be parsed by the outdated syntex crate. Technically, the bindings could be moved to a separate crate (e.g. `rustc_llvm_bindings`) and if the code is simple/\"old\" enough, syntex and ctest should be able to handle it.",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1345381134/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1345386334",
    "html_url": "https://github.com/rust-lang/rust/issues/17795#issuecomment-1345386334",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/17795",
    "id": 1345386334,
    "node_id": "IC_kwDOAAsO6M5QMPde",
    "user": {
      "login": "cuviper",
      "id": 36186,
      "node_id": "MDQ6VXNlcjM2MTg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/36186?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cuviper",
      "html_url": "https://github.com/cuviper",
      "followers_url": "https://api.github.com/users/cuviper/followers",
      "following_url": "https://api.github.com/users/cuviper/following{/other_user}",
      "gists_url": "https://api.github.com/users/cuviper/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cuviper/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cuviper/subscriptions",
      "organizations_url": "https://api.github.com/users/cuviper/orgs",
      "repos_url": "https://api.github.com/users/cuviper/repos",
      "events_url": "https://api.github.com/users/cuviper/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cuviper/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2022-12-10T21:17:52Z",
    "updated_at": "2022-12-10T21:17:52Z",
    "body": "I think the bindings should probably move to `rustc_llvm`, since that's the one that actually prepares the link library, like a typical `*-sys` crate. That's also where we define our C++ shims, then we would have all LLVM ffi in one place.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1345386334/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1345563709",
    "html_url": "https://github.com/rust-lang/rust/issues/17795#issuecomment-1345563709",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/17795",
    "id": 1345563709,
    "node_id": "IC_kwDOAAsO6M5QM6w9",
    "user": {
      "login": "FreezyLemon",
      "id": 13467374,
      "node_id": "MDQ6VXNlcjEzNDY3Mzc0",
      "avatar_url": "https://avatars.githubusercontent.com/u/13467374?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/FreezyLemon",
      "html_url": "https://github.com/FreezyLemon",
      "followers_url": "https://api.github.com/users/FreezyLemon/followers",
      "following_url": "https://api.github.com/users/FreezyLemon/following{/other_user}",
      "gists_url": "https://api.github.com/users/FreezyLemon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/FreezyLemon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/FreezyLemon/subscriptions",
      "organizations_url": "https://api.github.com/users/FreezyLemon/orgs",
      "repos_url": "https://api.github.com/users/FreezyLemon/repos",
      "events_url": "https://api.github.com/users/FreezyLemon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/FreezyLemon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2022-12-11T14:04:40Z",
    "updated_at": "2022-12-11T14:04:40Z",
    "body": "Oh, I didn't know a crate like that already existed. I'll take a look, maybe it's possible to get ctest to work with it.",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1345563709/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1345588391",
    "html_url": "https://github.com/rust-lang/rust/issues/17795#issuecomment-1345588391",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/17795",
    "id": 1345588391,
    "node_id": "IC_kwDOAAsO6M5QNAyn",
    "user": {
      "login": "FreezyLemon",
      "id": 13467374,
      "node_id": "MDQ6VXNlcjEzNDY3Mzc0",
      "avatar_url": "https://avatars.githubusercontent.com/u/13467374?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/FreezyLemon",
      "html_url": "https://github.com/FreezyLemon",
      "followers_url": "https://api.github.com/users/FreezyLemon/followers",
      "following_url": "https://api.github.com/users/FreezyLemon/following{/other_user}",
      "gists_url": "https://api.github.com/users/FreezyLemon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/FreezyLemon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/FreezyLemon/subscriptions",
      "organizations_url": "https://api.github.com/users/FreezyLemon/orgs",
      "repos_url": "https://api.github.com/users/FreezyLemon/repos",
      "events_url": "https://api.github.com/users/FreezyLemon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/FreezyLemon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2022-12-11T15:49:29Z",
    "updated_at": "2022-12-11T15:49:29Z",
    "body": "ctest still fails at parsing even after moving ffi.rs to `rustc_llvm`. It might be possible by refactoring the code, but it's not trivial. It's honestly not something I'm willing to spend more time on at the moment. It might make more sense to \"just wait\" and hope ctest gets an update",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1345588391/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
