[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/45454318",
    "html_url": "https://github.com/rust-lang/rust/issues/14761#issuecomment-45454318",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14761",
    "id": 45454318,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NDU0MzE4",
    "user": {
      "login": "thestinger",
      "id": 1505226,
      "node_id": "MDQ6VXNlcjE1MDUyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thestinger",
      "html_url": "https://github.com/thestinger",
      "followers_url": "https://api.github.com/users/thestinger/followers",
      "following_url": "https://api.github.com/users/thestinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions",
      "organizations_url": "https://api.github.com/users/thestinger/orgs",
      "repos_url": "https://api.github.com/users/thestinger/repos",
      "events_url": "https://api.github.com/users/thestinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thestinger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-06-09T01:15:35Z",
    "updated_at": "2014-06-09T01:16:00Z",
    "body": "The specific Rust code you're comparing with is missing.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/45454318/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/45455033",
    "html_url": "https://github.com/rust-lang/rust/issues/14761#issuecomment-45455033",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14761",
    "id": 45455033,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NDU1MDMz",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-06-09T01:41:09Z",
    "updated_at": "2014-06-09T01:42:29Z",
    "body": "> This causes an entire allocation\n\nWhat do you mean by this? (There is no allocation occuring.)\n\nIn any case, I tried it myself:\n\n``` rust\n#[start]\nfn main(_: int, _: **u8) -> int {\n    (bytes!(\"TEXT!\").as_ptr()) as int\n}\n```\n\nwhich compiles to the following with `-O`:\n\n``` llvm\n; ModuleID = '14761.rs'\ntarget datalayout = \"e-i64:64-f80:128-n8:16:32:64-S128\"\ntarget triple = \"x86_64-unknown-linux-gnu\"\n\n@const = private constant [5 x i8] c\"TEXT!\"\n\n; Function Attrs: nounwind readnone\ndefine i64 @main(i64, i8** nocapture readnone) unnamed_addr #0 {\ntop:\n  ret i64 ptrtoint ([5 x i8]* @const to i64)\n}\n\nattributes #0 = { nounwind readnone \"split-stack\" }\n```\n\nYou C code gives:\n\n``` llvm\n; ModuleID = '14761.c'\ntarget datalayout = \"e-p:64:64:64-i1:8:8-i8:8:8-i16:16:16-i32:32:32-i64:64:64-f32:32:32-f64:64:64-v64:64:64-v128:128:128-a0:0:64-s0:64:64-f80:128:128-n8:16:32:64-S128\"\ntarget triple = \"x86_64-pc-linux-gnu\"\n\n@.str = private unnamed_addr constant [6 x i8] c\"TEXT!\\00\", align 1\n\n; Function Attrs: nounwind readnone uwtable\ndefine i32 @main() #0 {\n  ret i32 ptrtoint ([6 x i8]* @.str to i32)\n}\n\nattributes #0 = { nounwind readnone uwtable \"less-precise-fpmad\"=\"false\" \"no-frame-pointer-elim\"=\"false\" \"no-frame-pointer-elim-non-leaf\"=\"false\" \"no-infs-fp-math\"=\"false\" \"no-nans-fp-math\"=\"false\" \"unsafe-fp-math\"=\"false\" \"use-soft-float\"=\"false\" }\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/45455033/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/45455189",
    "html_url": "https://github.com/rust-lang/rust/issues/14761#issuecomment-45455189",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14761",
    "id": 45455189,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NDU1MTg5",
    "user": {
      "login": "taralx",
      "id": 1036808,
      "node_id": "MDQ6VXNlcjEwMzY4MDg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1036808?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/taralx",
      "html_url": "https://github.com/taralx",
      "followers_url": "https://api.github.com/users/taralx/followers",
      "following_url": "https://api.github.com/users/taralx/following{/other_user}",
      "gists_url": "https://api.github.com/users/taralx/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/taralx/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/taralx/subscriptions",
      "organizations_url": "https://api.github.com/users/taralx/orgs",
      "repos_url": "https://api.github.com/users/taralx/repos",
      "events_url": "https://api.github.com/users/taralx/events{/privacy}",
      "received_events_url": "https://api.github.com/users/taralx/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-06-09T01:46:03Z",
    "updated_at": "2014-06-09T01:46:03Z",
    "body": "Okay, I'm still trying to track this down. It's apparently linked to which specific triple I'm using -- sometimes the right thing happens, and sometimes a bunch of ugly pointer math appears that breaks llvm's optimization phase. I'll update the main part of this when I understand what's going on.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/45455189/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/45455195",
    "html_url": "https://github.com/rust-lang/rust/issues/14761#issuecomment-45455195",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14761",
    "id": 45455195,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NDU1MTk1",
    "user": {
      "login": "taralx",
      "id": 1036808,
      "node_id": "MDQ6VXNlcjEwMzY4MDg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1036808?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/taralx",
      "html_url": "https://github.com/taralx",
      "followers_url": "https://api.github.com/users/taralx/followers",
      "following_url": "https://api.github.com/users/taralx/following{/other_user}",
      "gists_url": "https://api.github.com/users/taralx/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/taralx/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/taralx/subscriptions",
      "organizations_url": "https://api.github.com/users/taralx/orgs",
      "repos_url": "https://api.github.com/users/taralx/repos",
      "events_url": "https://api.github.com/users/taralx/events{/privacy}",
      "received_events_url": "https://api.github.com/users/taralx/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-06-09T01:46:16Z",
    "updated_at": "2014-06-09T01:46:16Z",
    "body": "Strike that -- I'll open a new issue when I understand what's going on.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/45455195/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
