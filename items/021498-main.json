{
  "url": "https://api.github.com/repos/rust-lang/rust/issues/21498",
  "repository_url": "https://api.github.com/repos/rust-lang/rust",
  "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/21498/labels{/name}",
  "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/21498/comments",
  "events_url": "https://api.github.com/repos/rust-lang/rust/issues/21498/events",
  "html_url": "https://github.com/rust-lang/rust/pull/21498",
  "id": 55116367,
  "node_id": "MDExOlB1bGxSZXF1ZXN0Mjc4MTkzNDM=",
  "number": 21498,
  "title": "Fix #15149 test, and allow it to run with noexec /tmp on POSIX systems.",
  "user": {
    "login": "quantheory",
    "id": 1740206,
    "node_id": "MDQ6VXNlcjE3NDAyMDY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1740206?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/quantheory",
    "html_url": "https://github.com/quantheory",
    "followers_url": "https://api.github.com/users/quantheory/followers",
    "following_url": "https://api.github.com/users/quantheory/following{/other_user}",
    "gists_url": "https://api.github.com/users/quantheory/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/quantheory/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/quantheory/subscriptions",
    "organizations_url": "https://api.github.com/users/quantheory/orgs",
    "repos_url": "https://api.github.com/users/quantheory/repos",
    "events_url": "https://api.github.com/users/quantheory/events{/privacy}",
    "received_events_url": "https://api.github.com/users/quantheory/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "labels": [],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "huonw",
    "id": 1203825,
    "node_id": "MDQ6VXNlcjEyMDM4MjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/huonw",
    "html_url": "https://github.com/huonw",
    "followers_url": "https://api.github.com/users/huonw/followers",
    "following_url": "https://api.github.com/users/huonw/following{/other_user}",
    "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
    "organizations_url": "https://api.github.com/users/huonw/orgs",
    "repos_url": "https://api.github.com/users/huonw/repos",
    "events_url": "https://api.github.com/users/huonw/events{/privacy}",
    "received_events_url": "https://api.github.com/users/huonw/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 12,
  "created_at": "2015-01-22T05:37:08Z",
  "updated_at": "2015-01-25T16:09:51Z",
  "closed_at": "2015-01-25T16:09:51Z",
  "author_association": "CONTRIBUTOR",
  "type": null,
  "active_lock_reason": null,
  "draft": false,
  "pull_request": {
    "url": "https://api.github.com/repos/rust-lang/rust/pulls/21498",
    "html_url": "https://github.com/rust-lang/rust/pull/21498",
    "diff_url": "https://github.com/rust-lang/rust/pull/21498.diff",
    "patch_url": "https://github.com/rust-lang/rust/pull/21498.patch",
    "merged_at": "2015-01-25T16:09:51Z"
  },
  "body": "While trying to experiment with changes for some other issues, I noticed that the test for #15149 was failing because I have `/tmp` mounted as `noexec` on my Linux box, and that test tries to run out of a temporary directory. This may not be the most common case, but it's not rare by any means, because executing from a world-writable directory is a security problem. (For this reason, some kernel options/mods such as grsecurity also can prevent this on Linux.) I instead copy the executable to a directory created in the build tree, following the example of the `process-spawn-with-unicode-params` test.\n\nAfter I made that change, I noticed that I'd made a mistake, but the test was still passing, because the \"parent\" process was not actually checking the status of the \"child\" process, meaning that the assertion in the child could never cause the overall test to fail. (I don't know if this has always been the case, or if it has something to do with either Windows or a change in the semantics of `spawn`.) So I fixed the test so that it would fail correctly, then fixed my original mistake so that it would pass again.\n\nThe one big problem with this is that I haven't set up any machines of my own so that I can build on Windows, which is the platform this test was targeted at in the first place! That might take a while to address on my end. So I need someone else to check this on Windows.\n",
  "closed_by": {
    "login": "bors",
    "id": 3372342,
    "node_id": "MDQ6VXNlcjMzNzIzNDI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/bors",
    "html_url": "https://github.com/bors",
    "followers_url": "https://api.github.com/users/bors/followers",
    "following_url": "https://api.github.com/users/bors/following{/other_user}",
    "gists_url": "https://api.github.com/users/bors/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bors/subscriptions",
    "organizations_url": "https://api.github.com/users/bors/orgs",
    "repos_url": "https://api.github.com/users/bors/repos",
    "events_url": "https://api.github.com/users/bors/events{/privacy}",
    "received_events_url": "https://api.github.com/users/bors/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/21498/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/21498/timeline",
  "performed_via_github_app": null,
  "state_reason": null,
  "_meta": {
    "type": "pr"
  }
}
