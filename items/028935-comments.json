[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/163074090",
    "html_url": "https://github.com/rust-lang/rust/issues/28935#issuecomment-163074090",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/28935",
    "id": 163074090,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2MzA3NDA5MA==",
    "user": {
      "login": "gwillen",
      "id": 458997,
      "node_id": "MDQ6VXNlcjQ1ODk5Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/458997?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gwillen",
      "html_url": "https://github.com/gwillen",
      "followers_url": "https://api.github.com/users/gwillen/followers",
      "following_url": "https://api.github.com/users/gwillen/following{/other_user}",
      "gists_url": "https://api.github.com/users/gwillen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gwillen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gwillen/subscriptions",
      "organizations_url": "https://api.github.com/users/gwillen/orgs",
      "repos_url": "https://api.github.com/users/gwillen/repos",
      "events_url": "https://api.github.com/users/gwillen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gwillen/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-12-09T01:04:16Z",
    "updated_at": "2015-12-09T01:05:07Z",
    "body": "I'm also running into something that appears to be this issue. I'm indexing a Vec, so the implementation of IndexMut is not under my control. I can try to make a reduced example using Vec if it would be helpful. EDIT: oh, it seems that 29869 already contains such an example.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/163074090/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/336297190",
    "html_url": "https://github.com/rust-lang/rust/issues/28935#issuecomment-336297190",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/28935",
    "id": 336297190,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNjI5NzE5MA==",
    "user": {
      "login": "PeterHatch",
      "id": 3161425,
      "node_id": "MDQ6VXNlcjMxNjE0MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3161425?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/PeterHatch",
      "html_url": "https://github.com/PeterHatch",
      "followers_url": "https://api.github.com/users/PeterHatch/followers",
      "following_url": "https://api.github.com/users/PeterHatch/following{/other_user}",
      "gists_url": "https://api.github.com/users/PeterHatch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/PeterHatch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/PeterHatch/subscriptions",
      "organizations_url": "https://api.github.com/users/PeterHatch/orgs",
      "repos_url": "https://api.github.com/users/PeterHatch/repos",
      "events_url": "https://api.github.com/users/PeterHatch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/PeterHatch/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-10-12T22:36:36Z",
    "updated_at": "2017-10-12T22:36:36Z",
    "body": "Just wanted to note that I encountered this bug.",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/336297190/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/433055914",
    "html_url": "https://github.com/rust-lang/rust/issues/28935#issuecomment-433055914",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/28935",
    "id": 433055914,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMzA1NTkxNA==",
    "user": {
      "login": "shepmaster",
      "id": 174509,
      "node_id": "MDQ6VXNlcjE3NDUwOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/174509?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shepmaster",
      "html_url": "https://github.com/shepmaster",
      "followers_url": "https://api.github.com/users/shepmaster/followers",
      "following_url": "https://api.github.com/users/shepmaster/following{/other_user}",
      "gists_url": "https://api.github.com/users/shepmaster/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shepmaster/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shepmaster/subscriptions",
      "organizations_url": "https://api.github.com/users/shepmaster/orgs",
      "repos_url": "https://api.github.com/users/shepmaster/repos",
      "events_url": "https://api.github.com/users/shepmaster/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shepmaster/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-10-25T13:42:35Z",
    "updated_at": "2018-10-25T13:46:27Z",
    "body": "This [came up on Stack Overflow](https://stackoverflow.com/q/52989901/155423). A simplified example:\r\n\r\n ```rust\r\nuse std::cell::RefCell;\r\n\r\nfn f(v: Vec<RefCell<u8>>) {\r\n    let _t = &mut *v[0].borrow_mut();\r\n}\r\n\r\nfn main() {}\r\n```\r\n\r\n```\r\nerror[E0596]: cannot borrow immutable argument `v` as mutable\r\n --> src/main.rs:4:20\r\n  |\r\n3 | fn f(v: Vec<RefCell<u8>>) {\r\n  |      - consider changing this to `mut v`\r\n4 |     let _t = &mut *v[0].borrow_mut();\r\n  |                    ^ cannot borrow mutably\r\n```\r\n\r\nWorkarounds include:\r\n\r\n1. Using extra braces:\r\n\r\n    ```rust\r\n    fn f(v: Vec<RefCell<u8>>) {\r\n        let _t = &mut *{ v[0].borrow_mut() };\r\n    }\r\n    ```\r\n\r\n1. Calling `Index::index` explicitly:\r\n\r\n    ```rust\r\n    fn f(v: Vec<RefCell<u8>>) {\r\n        use std::ops::Index;\r\n        let _t = &mut *v.index(0).borrow_mut();\r\n    }\r\n    ```\r\n\r\n1. Calling `RefCell::borrow` explicitly:\r\n\r\n    ```rust\r\n    fn f(v: Vec<RefCell<u8>>) {\r\n        let _t = &mut *RefCell::borrow_mut(&v[0]);\r\n    }\r\n    ```",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/433055914/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1024790569",
    "html_url": "https://github.com/rust-lang/rust/issues/28935#issuecomment-1024790569",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/28935",
    "id": 1024790569,
    "node_id": "IC_kwDOAAsO6M49FRAp",
    "user": {
      "login": "jackh726",
      "id": 31162821,
      "node_id": "MDQ6VXNlcjMxMTYyODIx",
      "avatar_url": "https://avatars.githubusercontent.com/u/31162821?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jackh726",
      "html_url": "https://github.com/jackh726",
      "followers_url": "https://api.github.com/users/jackh726/followers",
      "following_url": "https://api.github.com/users/jackh726/following{/other_user}",
      "gists_url": "https://api.github.com/users/jackh726/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jackh726/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jackh726/subscriptions",
      "organizations_url": "https://api.github.com/users/jackh726/orgs",
      "repos_url": "https://api.github.com/users/jackh726/repos",
      "events_url": "https://api.github.com/users/jackh726/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jackh726/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2022-01-29T01:09:36Z",
    "updated_at": "2022-01-29T01:09:36Z",
    "body": "This compiles now. Marking as needs-test (unsure if there is one that covers this already)",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1024790569/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
