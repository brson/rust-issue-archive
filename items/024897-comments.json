[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/97131678",
    "html_url": "https://github.com/rust-lang/rust/issues/24897#issuecomment-97131678",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24897",
    "id": 97131678,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk3MTMxNjc4",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-28T16:42:53Z",
    "updated_at": "2015-04-28T16:42:53Z",
    "body": "The bug here is that `*const T` and `*mut T` are classified as the same kind of pointer, so when the `Deref` implementation is seen it inlines the inherent methods from those two pointer types, and both have an `is_null` method. This would likely be dealt by not having both pointer types be represented as the same type in rustdoc.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/97131678/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/203139567",
    "html_url": "https://github.com/rust-lang/rust/issues/24897#issuecomment-203139567",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24897",
    "id": 203139567,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwMzEzOTU2Nw==",
    "user": {
      "login": "pmarcelll",
      "id": 1909968,
      "node_id": "MDQ6VXNlcjE5MDk5Njg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1909968?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pmarcelll",
      "html_url": "https://github.com/pmarcelll",
      "followers_url": "https://api.github.com/users/pmarcelll/followers",
      "following_url": "https://api.github.com/users/pmarcelll/following{/other_user}",
      "gists_url": "https://api.github.com/users/pmarcelll/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pmarcelll/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pmarcelll/subscriptions",
      "organizations_url": "https://api.github.com/users/pmarcelll/orgs",
      "repos_url": "https://api.github.com/users/pmarcelll/repos",
      "events_url": "https://api.github.com/users/pmarcelll/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pmarcelll/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-03-29T22:31:59Z",
    "updated_at": "2016-03-29T22:31:59Z",
    "body": "`Unique` changed, so this specific issue is no longer relevant.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/203139567/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/434710133",
    "html_url": "https://github.com/rust-lang/rust/issues/24897#issuecomment-434710133",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24897",
    "id": 434710133,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNDcxMDEzMw==",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-10-31T14:33:38Z",
    "updated_at": "2018-10-31T14:33:38Z",
    "body": "So, in attempting to recreate this bug, I first looked at https://doc.rust-lang.org/1.0.0/core/ptr/struct.Unique.html to see what it looked like when `Unique` existed. I then used this code:\r\n\r\n```rust\r\nuse std::ops::Deref;\r\n\r\npub struct Unique<T: ?Sized> {\r\n    pointer: *const T,\r\n}\r\n\r\nimpl<T:?Sized> Deref for Unique<T> {\r\n    type Target = *mut T;\r\n\r\n    #[inline]\r\n    fn deref<'a>(&'a self) -> &'a *mut T {\r\n        unsafe { mem::transmute(&*self.pointer) }\r\n    }\r\n}\r\n```\r\n\r\nThis gives\r\n\r\n![image](https://user-images.githubusercontent.com/27786/47795139-5623ff80-dcf8-11e8-9254-caf357498dd5.png)\r\n\r\nwith no methods at all! That seems... strange?",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/434710133/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/562837635",
    "html_url": "https://github.com/rust-lang/rust/issues/24897#issuecomment-562837635",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24897",
    "id": 562837635,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2MjgzNzYzNQ==",
    "user": {
      "login": "jrvidal",
      "id": 1636604,
      "node_id": "MDQ6VXNlcjE2MzY2MDQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1636604?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jrvidal",
      "html_url": "https://github.com/jrvidal",
      "followers_url": "https://api.github.com/users/jrvidal/followers",
      "following_url": "https://api.github.com/users/jrvidal/following{/other_user}",
      "gists_url": "https://api.github.com/users/jrvidal/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jrvidal/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jrvidal/subscriptions",
      "organizations_url": "https://api.github.com/users/jrvidal/orgs",
      "repos_url": "https://api.github.com/users/jrvidal/repos",
      "events_url": "https://api.github.com/users/jrvidal/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jrvidal/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2019-12-07T10:22:55Z",
    "updated_at": "2019-12-07T10:22:55Z",
    "body": "I spent some time looking into this, and there are a couple of intertwined issues. \r\n\r\n* First, we don't seem to properly add the relevant `Deref` targets to the set of implementations that should be displayed, in particular when those targets are primitives. I tried the same example mentioned above and it works with slices and `str`, but not with any other primitive. This happens in the `collect-trait-impls` pass.\r\n* Also, even when hacking a bit to make it find the relevant targets, we end up not displaying any methods:\r\n![Screenshot at 2019-12-07 11:16:37](https://user-images.githubusercontent.com/1636604/70372730-2d9b0b80-18e3-11ea-9d64-36486a5f859b.png)\r\n    This happens because (almost?) all methods in primitives have by-value `self`, and we don't show those methods in \"Methods from `Deref`\" blocks.\r\n\r\nSo it seems that the first issue to solve is to make rustdoc display Deref-inherited methods with by-value `self` when the target is `Copy`. This, however, has been discussed before (https://github.com/rust-lang/rust/issues/30607, https://github.com/rust-lang/rust/pull/33396, https://github.com/rust-lang/rust/issues/39550, https://github.com/rust-lang/rust/pull/45645) and deemed too difficult.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/562837635/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
