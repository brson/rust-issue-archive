[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/13100668",
    "html_url": "https://github.com/rust-lang/rust/issues/4788#issuecomment-13100668",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/4788",
    "id": 13100668,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMTAwNjY4",
    "user": {
      "login": "brendanzab",
      "id": 695077,
      "node_id": "MDQ6VXNlcjY5NTA3Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/695077?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brendanzab",
      "html_url": "https://github.com/brendanzab",
      "followers_url": "https://api.github.com/users/brendanzab/followers",
      "following_url": "https://api.github.com/users/brendanzab/following{/other_user}",
      "gists_url": "https://api.github.com/users/brendanzab/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brendanzab/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brendanzab/subscriptions",
      "organizations_url": "https://api.github.com/users/brendanzab/orgs",
      "repos_url": "https://api.github.com/users/brendanzab/repos",
      "events_url": "https://api.github.com/users/brendanzab/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brendanzab/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-02-04T21:31:28Z",
    "updated_at": "2013-02-04T22:11:06Z",
    "body": "Yeah, I'm concerned about this. Warnings about failure is always worrying - it would be better if this could be enforced via the type system. I've been working hard at a refactor of the numeric modules, but this design issue is making it hard to merge: https://github.com/bjz/rust/tree/incoming/src/libcore/num\n\nFrom my perspective, infinities and NaNs should be defined [in a separate Float trait](https://github.com/bjz/rust/blob/incoming/src/libcore/num/num.rs#L52) like so:\n\n```\npub trait Float: Num {\n    static pure fn NaN() -> Self;\n    static pure fn infinity() -> Self;\n    static pure fn neg_infinity() -> Self;\n\n    pure fn is_infinite(&self) -> bool;\n    pure fn is_finite(&self) -> bool;\n    pure fn is_NaN(&self) -> bool;\n    ...\n}\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/13100668/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/13100714",
    "html_url": "https://github.com/rust-lang/rust/issues/4788#issuecomment-13100714",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/4788",
    "id": 13100714,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMTAwNzE0",
    "user": {
      "login": "brendanzab",
      "id": 695077,
      "node_id": "MDQ6VXNlcjY5NTA3Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/695077?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brendanzab",
      "html_url": "https://github.com/brendanzab",
      "followers_url": "https://api.github.com/users/brendanzab/followers",
      "following_url": "https://api.github.com/users/brendanzab/following{/other_user}",
      "gists_url": "https://api.github.com/users/brendanzab/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brendanzab/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brendanzab/subscriptions",
      "organizations_url": "https://api.github.com/users/brendanzab/orgs",
      "repos_url": "https://api.github.com/users/brendanzab/repos",
      "events_url": "https://api.github.com/users/brendanzab/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brendanzab/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-02-04T21:32:36Z",
    "updated_at": "2013-02-04T21:32:36Z",
    "body": "Related: #4789 \n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/13100714/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/13101499",
    "html_url": "https://github.com/rust-lang/rust/issues/4788#issuecomment-13101499",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/4788",
    "id": 13101499,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMTAxNDk5",
    "user": {
      "login": "brendanzab",
      "id": 695077,
      "node_id": "MDQ6VXNlcjY5NTA3Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/695077?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brendanzab",
      "html_url": "https://github.com/brendanzab",
      "followers_url": "https://api.github.com/users/brendanzab/followers",
      "following_url": "https://api.github.com/users/brendanzab/following{/other_user}",
      "gists_url": "https://api.github.com/users/brendanzab/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brendanzab/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brendanzab/subscriptions",
      "organizations_url": "https://api.github.com/users/brendanzab/orgs",
      "repos_url": "https://api.github.com/users/brendanzab/repos",
      "events_url": "https://api.github.com/users/brendanzab/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brendanzab/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-02-04T21:47:43Z",
    "updated_at": "2013-02-04T21:47:43Z",
    "body": "The current implementation:\n\n[libcore/num/num.rs](https://github.com/mozilla/rust/blob/incoming/src/libcore/num/num.rs#L68)\n\n```\n// Generic math functions:\n\n/// Dynamically calculates the value `inf` (`1/0`).\n/// Can fail on integer types.\n#[inline(always)]\npub pure fn infinity<T: Num One Zero>() -> T {\n    let _0: T = Zero::zero();\n    let _1: T = One::one();\n    _1 / _0\n}\n\n/// Dynamically calculates the value `-inf` (`-1/0`).\n/// Can fail on integer types.\n#[inline(always)]\npub pure fn neg_infinity<T: Num One Zero>() -> T {\n    let _0: T = Zero::zero();\n    let _1: T = One::one();\n    - _1 / _0\n}\n\n/// Dynamically calculates the value `NaN` (`0/0`).\n/// Can fail on integer types.\n#[inline(always)]\npub pure fn NaN<T: Num Zero>() -> T {\n    let _0: T = Zero::zero();\n    _0 / _0\n}\n\n/// Returns `true` if `num` has the value `inf` (`1/0`).\n/// Can fail on integer types.\n#[inline(always)]\npub pure fn is_infinity<T: Num One Zero Eq>(num: &T) -> bool {\n    (*num) == (infinity::<T>())\n}\n\n/// Returns `true` if `num` has the value `-inf` (`-1/0`).\n/// Can fail on integer types.\n#[inline(always)]\npub pure fn is_neg_infinity<T: Num One Zero Eq>(num: &T) -> bool {\n    (*num) == (neg_infinity::<T>())\n}\n\n/// Returns `true` if `num` has the value `NaN` (is not equal to itself).\n#[inline(always)]\npub pure fn is_NaN<T: Num Eq>(num: &T) -> bool {\n    (*num) != (*num)\n}\n\n/// Returns `true` if `num` has the value `-0` (`1/num == -1/0`).\n/// Can fail on integer types.\n#[inline(always)]\npub pure fn is_neg_zero<T: Num One Zero Eq>(num: &T) -> bool {\n    let _1: T = One::one();\n    let _0: T = Zero::zero();\n    *num == _0 && is_neg_infinity(&(_1 / *num))\n}\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/13101499/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/13129477",
    "html_url": "https://github.com/rust-lang/rust/issues/4788#issuecomment-13129477",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/4788",
    "id": 13129477,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMTI5NDc3",
    "user": {
      "login": "kud1ing",
      "id": 391975,
      "node_id": "MDQ6VXNlcjM5MTk3NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/391975?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kud1ing",
      "html_url": "https://github.com/kud1ing",
      "followers_url": "https://api.github.com/users/kud1ing/followers",
      "following_url": "https://api.github.com/users/kud1ing/following{/other_user}",
      "gists_url": "https://api.github.com/users/kud1ing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kud1ing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kud1ing/subscriptions",
      "organizations_url": "https://api.github.com/users/kud1ing/orgs",
      "repos_url": "https://api.github.com/users/kud1ing/repos",
      "events_url": "https://api.github.com/users/kud1ing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kud1ing/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-02-05T13:41:03Z",
    "updated_at": "2013-02-05T13:41:09Z",
    "body": "Haskell uses a typeclass RealFloat: http://www.bucephalus.org/text/Haskell98numbers/Haskell98numbers.png\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/13129477/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/13149323",
    "html_url": "https://github.com/rust-lang/rust/issues/4788#issuecomment-13149323",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/4788",
    "id": 13149323,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMTQ5MzIz",
    "user": {
      "login": "brendanzab",
      "id": 695077,
      "node_id": "MDQ6VXNlcjY5NTA3Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/695077?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brendanzab",
      "html_url": "https://github.com/brendanzab",
      "followers_url": "https://api.github.com/users/brendanzab/followers",
      "following_url": "https://api.github.com/users/brendanzab/following{/other_user}",
      "gists_url": "https://api.github.com/users/brendanzab/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brendanzab/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brendanzab/subscriptions",
      "organizations_url": "https://api.github.com/users/brendanzab/orgs",
      "repos_url": "https://api.github.com/users/brendanzab/repos",
      "events_url": "https://api.github.com/users/brendanzab/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brendanzab/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-02-05T20:13:23Z",
    "updated_at": "2013-02-05T20:13:23Z",
    "body": "Thanks for that, that's very useful.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/13149323/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/13160925",
    "html_url": "https://github.com/rust-lang/rust/issues/4788#issuecomment-13160925",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/4788",
    "id": 13160925,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMTYwOTI1",
    "user": {
      "login": "Kimundi",
      "id": 2903206,
      "node_id": "MDQ6VXNlcjI5MDMyMDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2903206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Kimundi",
      "html_url": "https://github.com/Kimundi",
      "followers_url": "https://api.github.com/users/Kimundi/followers",
      "following_url": "https://api.github.com/users/Kimundi/following{/other_user}",
      "gists_url": "https://api.github.com/users/Kimundi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Kimundi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Kimundi/subscriptions",
      "organizations_url": "https://api.github.com/users/Kimundi/orgs",
      "repos_url": "https://api.github.com/users/Kimundi/repos",
      "events_url": "https://api.github.com/users/Kimundi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Kimundi/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-02-06T00:39:02Z",
    "updated_at": "2013-02-06T00:39:02Z",
    "body": "Just as in #4789, as the writer of these functions I'm aware that they are bad solution, but I needed them for being able to handle both integers and floats correctly in the string conversion functions. The problem is simple: If the inf and NaN functions are only reachable for Floats, then the only two options for a function that works with all numbers but has to special case inf and NaN are:\n- Not to require the trait bound, thus not check for them, and because of that possible failing because calculations on inf and NaN don't work like on normal values.\n- Require the trait bound, being able to check for them, thus not being able to use integers numbers even thought the operation would be even safer on them, because the special values don't exist there.\n\nA possible solution might be a 'SpecialValue' trait where NaN, inf and -inf are an Option<T>, depending on whether the numeric type has them or not, but that again would mean unnecessary impls...\n\nReally, maybe I'm being an Idiot here, or not giving it enough time, but I don't see how it's possible with the proposed system to write generic functions that can work with _both_ integers and floats. :(\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/13160925/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/13181138",
    "html_url": "https://github.com/rust-lang/rust/issues/4788#issuecomment-13181138",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/4788",
    "id": 13181138,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMTgxMTM4",
    "user": {
      "login": "kud1ing",
      "id": 391975,
      "node_id": "MDQ6VXNlcjM5MTk3NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/391975?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kud1ing",
      "html_url": "https://github.com/kud1ing",
      "followers_url": "https://api.github.com/users/kud1ing/followers",
      "following_url": "https://api.github.com/users/kud1ing/following{/other_user}",
      "gists_url": "https://api.github.com/users/kud1ing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kud1ing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kud1ing/subscriptions",
      "organizations_url": "https://api.github.com/users/kud1ing/orgs",
      "repos_url": "https://api.github.com/users/kud1ing/repos",
      "events_url": "https://api.github.com/users/kud1ing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kud1ing/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-02-06T13:12:12Z",
    "updated_at": "2013-02-06T13:12:12Z",
    "body": "See #4819 \n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/13181138/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/13766788",
    "html_url": "https://github.com/rust-lang/rust/issues/4788#issuecomment-13766788",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/4788",
    "id": 13766788,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzNzY2Nzg4",
    "user": {
      "login": "Kimundi",
      "id": 2903206,
      "node_id": "MDQ6VXNlcjI5MDMyMDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2903206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Kimundi",
      "html_url": "https://github.com/Kimundi",
      "followers_url": "https://api.github.com/users/Kimundi/followers",
      "following_url": "https://api.github.com/users/Kimundi/following{/other_user}",
      "gists_url": "https://api.github.com/users/Kimundi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Kimundi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Kimundi/subscriptions",
      "organizations_url": "https://api.github.com/users/Kimundi/orgs",
      "repos_url": "https://api.github.com/users/Kimundi/repos",
      "events_url": "https://api.github.com/users/Kimundi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Kimundi/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-02-19T10:53:45Z",
    "updated_at": "2013-02-19T10:53:45Z",
    "body": "This can be closed now, those functions got removed again.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/13766788/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/13784750",
    "html_url": "https://github.com/rust-lang/rust/issues/4788#issuecomment-13784750",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/4788",
    "id": 13784750,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzNzg0NzUw",
    "user": {
      "login": "catamorphism",
      "id": 427212,
      "node_id": "MDQ6VXNlcjQyNzIxMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/427212?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/catamorphism",
      "html_url": "https://github.com/catamorphism",
      "followers_url": "https://api.github.com/users/catamorphism/followers",
      "following_url": "https://api.github.com/users/catamorphism/following{/other_user}",
      "gists_url": "https://api.github.com/users/catamorphism/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/catamorphism/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/catamorphism/subscriptions",
      "organizations_url": "https://api.github.com/users/catamorphism/orgs",
      "repos_url": "https://api.github.com/users/catamorphism/repos",
      "events_url": "https://api.github.com/users/catamorphism/events{/privacy}",
      "received_events_url": "https://api.github.com/users/catamorphism/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-02-19T17:15:41Z",
    "updated_at": "2013-02-19T17:15:41Z",
    "body": "Fixed in 3edc7c0b9cbdf1b396c81fe1700f0816b9f239d0\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/13784750/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
