[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/150917260",
    "html_url": "https://github.com/rust-lang/rust/issues/26448#issuecomment-150917260",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26448",
    "id": 150917260,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MDkxNzI2MA==",
    "user": {
      "login": "arielb1",
      "id": 1830974,
      "node_id": "MDQ6VXNlcjE4MzA5NzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1830974?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/arielb1",
      "html_url": "https://github.com/arielb1",
      "followers_url": "https://api.github.com/users/arielb1/followers",
      "following_url": "https://api.github.com/users/arielb1/following{/other_user}",
      "gists_url": "https://api.github.com/users/arielb1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/arielb1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/arielb1/subscriptions",
      "organizations_url": "https://api.github.com/users/arielb1/orgs",
      "repos_url": "https://api.github.com/users/arielb1/repos",
      "events_url": "https://api.github.com/users/arielb1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/arielb1/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-25T11:55:16Z",
    "updated_at": "2015-10-25T11:55:16Z",
    "body": "cc #29188\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/150917260/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/151245412",
    "html_url": "https://github.com/rust-lang/rust/issues/26448#issuecomment-151245412",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26448",
    "id": 151245412,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MTI0NTQxMg==",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-26T18:47:33Z",
    "updated_at": "2015-10-26T18:47:33Z",
    "body": "Without having dug too deply into these examples, I think they are perhaps related to https://github.com/rust-lang/rust/issues/21974. But I am not totally sure. #21988 may fix some of the examples, but it does not fix the first one.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/151245412/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/173477954",
    "html_url": "https://github.com/rust-lang/rust/issues/26448#issuecomment-173477954",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26448",
    "id": 173477954,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MzQ3Nzk1NA==",
    "user": {
      "login": "DanielKeep",
      "id": 77238,
      "node_id": "MDQ6VXNlcjc3MjM4",
      "avatar_url": "https://avatars.githubusercontent.com/u/77238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DanielKeep",
      "html_url": "https://github.com/DanielKeep",
      "followers_url": "https://api.github.com/users/DanielKeep/followers",
      "following_url": "https://api.github.com/users/DanielKeep/following{/other_user}",
      "gists_url": "https://api.github.com/users/DanielKeep/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DanielKeep/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DanielKeep/subscriptions",
      "organizations_url": "https://api.github.com/users/DanielKeep/orgs",
      "repos_url": "https://api.github.com/users/DanielKeep/repos",
      "events_url": "https://api.github.com/users/DanielKeep/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DanielKeep/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-01-21T06:59:06Z",
    "updated_at": "2016-01-21T07:05:04Z",
    "body": "Just ran head-first into this.  Here's a reduced example, tested on playpen nightly as of 2016-01-21 and 1.7.0-nightly commit 4405944b9414d9d39d98c988c420b77e93acba96\n\n``` rust\nuse std::marker::PhantomData;\n\nstruct Ident<Output>(PhantomData<Output>);\n\ntrait ScanFromStr {\n    fn scan_from() -> Option<&'static str>;\n}\n\nimpl<'a, Output> ScanFromStr for Ident<Output>\nwhere &'a str: Into<Output> {\n    fn scan_from() -> Option<&'static str> {\n        Some(\"expected identifier\")\n    }\n}\n\nfn main() {}\n```\n\nHowever, niconii on IRC discovered that this particular case can be worked around like so:\n\n``` rust\nuse std::marker::PhantomData;\n\nstruct Ident<Output>(PhantomData<Output>);\n\ntrait ScanFromStr {\n    fn scan_from() -> Option<&'static str>;\n}\n\nimpl<'a, Output> ScanFromStr for Ident<Output>\nwhere for<'b> &'b str: Into<Output> {\n    fn scan_from() -> Option<&'static str> {\n        Some(\"expected identifier\")\n    }\n}\n\nfn main() {}\n```\n\n(Note the modification to the `where` clause.)\n\n**Edit**: sadly, this doesn't help with the original, unreduced case, as the solution causes _new_ problems (`&str !impl for<'b> Into<&'b str>`).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/173477954/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/173794570",
    "html_url": "https://github.com/rust-lang/rust/issues/26448#issuecomment-173794570",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26448",
    "id": 173794570,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3Mzc5NDU3MA==",
    "user": {
      "login": "DanielKeep",
      "id": 77238,
      "node_id": "MDQ6VXNlcjc3MjM4",
      "avatar_url": "https://avatars.githubusercontent.com/u/77238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DanielKeep",
      "html_url": "https://github.com/DanielKeep",
      "followers_url": "https://api.github.com/users/DanielKeep/followers",
      "following_url": "https://api.github.com/users/DanielKeep/following{/other_user}",
      "gists_url": "https://api.github.com/users/DanielKeep/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DanielKeep/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DanielKeep/subscriptions",
      "organizations_url": "https://api.github.com/users/DanielKeep/orgs",
      "repos_url": "https://api.github.com/users/DanielKeep/repos",
      "events_url": "https://api.github.com/users/DanielKeep/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DanielKeep/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-01-22T03:30:47Z",
    "updated_at": "2016-01-22T03:30:47Z",
    "body": "I've also run into something that is suspiciously similar, except that it fails to compile with a _different_ error message on stable, but compiles correctly on beta.  This seems really strange, and makes me wonder if maybe this is interacting badly with something _else_...\n\n``` rust\nuse std::marker::PhantomData;\n\npub enum ScanErrorKind {\n    Syntax(&'static str),\n}\n\npub trait ScanFromStr<'a>: Sized {\n    type Output;\n    fn scan_from(s: &'a str) -> Result<(Self::Output, usize), ScanErrorKind>;\n}\n\npub struct Everything<'a, Output=&'a str>(PhantomData<(&'a (), Output)>);\n\nimpl<'a, Output> ScanFromStr<'a> for Everything<'a, Output> where &'a str: Into<Output> {\n    type Output = Output;\n    fn scan_from(s: &'a str) -> Result<(Self::Output, usize), ScanErrorKind> {\n        Ok((s.into(), s.len()))\n    }\n}\n\nfn main() {}\n```\n\nCompiling with stable `1.6.0` yields:\n\n``` rust\n.\\local\\boom.rs:13:23: 13:48 error: mismatched types:\n expected `core::marker::Sized`,\n    found `core::marker::Sized`\n(lifetime mismatch) [E0308]\n.\\local\\boom.rs:13     fn scan_from() -> Result<(), ScanErrorKind> {\n                                         ^~~~~~~~~~~~~~~~~~~~~~~~~\n.\\local\\boom.rs:13:23: 13:48 help: run `rustc --explain E0308` to see a detailed explanation\n.\\local\\boom.rs:13:49: 15:6 note: the lifetime 'a as defined on the block at 13:48...\n.\\local\\boom.rs:13     fn scan_from() -> Result<(), ScanErrorKind> {\n.\\local\\boom.rs:14         Ok(())\n.\\local\\boom.rs:15     }\nnote: ...does not necessarily outlive the static lifetime\nerror: aborting due to previous error\n```\n\nCurrent beta and nightly compile just fine.  Interestingly, if I change `Ok(())` to `panic!()`, it stops compiling on nightly, like my previous example.  It almost feels like whatever the problem here is, _part_ of it was papered over between stable/beta, but the underlying problem wasn't fixed.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/173794570/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/459117933",
    "html_url": "https://github.com/rust-lang/rust/issues/26448#issuecomment-459117933",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26448",
    "id": 459117933,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1OTExNzkzMw==",
    "user": {
      "login": "memoryruins",
      "id": 6868531,
      "node_id": "MDQ6VXNlcjY4Njg1MzE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6868531?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/memoryruins",
      "html_url": "https://github.com/memoryruins",
      "followers_url": "https://api.github.com/users/memoryruins/followers",
      "following_url": "https://api.github.com/users/memoryruins/following{/other_user}",
      "gists_url": "https://api.github.com/users/memoryruins/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/memoryruins/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/memoryruins/subscriptions",
      "organizations_url": "https://api.github.com/users/memoryruins/orgs",
      "repos_url": "https://api.github.com/users/memoryruins/repos",
      "events_url": "https://api.github.com/users/memoryruins/events{/privacy}",
      "received_events_url": "https://api.github.com/users/memoryruins/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2019-01-30T21:33:33Z",
    "updated_at": "2019-01-30T21:33:33Z",
    "body": "Triage: all of OP's examples now compile on both editions.\r\n`rustc: 1.32.0`",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/459117933/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 1,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/459128033",
    "html_url": "https://github.com/rust-lang/rust/issues/26448#issuecomment-459128033",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26448",
    "id": 459128033,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1OTEyODAzMw==",
    "user": {
      "login": "daboross",
      "id": 1152146,
      "node_id": "MDQ6VXNlcjExNTIxNDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1152146?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/daboross",
      "html_url": "https://github.com/daboross",
      "followers_url": "https://api.github.com/users/daboross/followers",
      "following_url": "https://api.github.com/users/daboross/following{/other_user}",
      "gists_url": "https://api.github.com/users/daboross/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/daboross/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/daboross/subscriptions",
      "organizations_url": "https://api.github.com/users/daboross/orgs",
      "repos_url": "https://api.github.com/users/daboross/repos",
      "events_url": "https://api.github.com/users/daboross/events{/privacy}",
      "received_events_url": "https://api.github.com/users/daboross/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2019-01-30T22:04:10Z",
    "updated_at": "2019-01-30T22:04:10Z",
    "body": "Tried to read through the issue when I got this notification and had no idea what it was, then looked at date! Can't believe it's been 3 years.\r\n\r\nThank you for finding the issue and retesting it.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/459128033/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 1,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/459130010",
    "html_url": "https://github.com/rust-lang/rust/issues/26448#issuecomment-459130010",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26448",
    "id": 459130010,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1OTEzMDAxMA==",
    "user": {
      "login": "matthewjasper",
      "id": 20113453,
      "node_id": "MDQ6VXNlcjIwMTEzNDUz",
      "avatar_url": "https://avatars.githubusercontent.com/u/20113453?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/matthewjasper",
      "html_url": "https://github.com/matthewjasper",
      "followers_url": "https://api.github.com/users/matthewjasper/followers",
      "following_url": "https://api.github.com/users/matthewjasper/following{/other_user}",
      "gists_url": "https://api.github.com/users/matthewjasper/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/matthewjasper/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/matthewjasper/subscriptions",
      "organizations_url": "https://api.github.com/users/matthewjasper/orgs",
      "repos_url": "https://api.github.com/users/matthewjasper/repos",
      "events_url": "https://api.github.com/users/matthewjasper/events{/privacy}",
      "received_events_url": "https://api.github.com/users/matthewjasper/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2019-01-30T22:10:18Z",
    "updated_at": "2019-01-30T22:10:18Z",
    "body": "The fix appears to have been in `1.30`, this needs a test if we don't already have one.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/459130010/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
