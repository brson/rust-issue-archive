[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/216176567",
    "html_url": "https://github.com/rust-lang/rust/issues/22692#issuecomment-216176567",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/22692",
    "id": 216176567,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxNjE3NjU2Nw==",
    "user": {
      "login": "birkenfeld",
      "id": 144359,
      "node_id": "MDQ6VXNlcjE0NDM1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/144359?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/birkenfeld",
      "html_url": "https://github.com/birkenfeld",
      "followers_url": "https://api.github.com/users/birkenfeld/followers",
      "following_url": "https://api.github.com/users/birkenfeld/following{/other_user}",
      "gists_url": "https://api.github.com/users/birkenfeld/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/birkenfeld/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/birkenfeld/subscriptions",
      "organizations_url": "https://api.github.com/users/birkenfeld/orgs",
      "repos_url": "https://api.github.com/users/birkenfeld/repos",
      "events_url": "https://api.github.com/users/birkenfeld/events{/privacy}",
      "received_events_url": "https://api.github.com/users/birkenfeld/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-05-02T09:40:11Z",
    "updated_at": "2016-05-02T09:40:11Z",
    "body": "Current error:\n\n```\n<anon>:2:13: 2:19 error: `String` is the name of a struct or struct variant, but this expression uses it like a function name [E0423]\n<anon>:2     let _ = String.new();\n                     ^~~~~~\n<anon>:2:13: 2:19 help: see the detailed explanation for E0423\n<anon>:2:13: 2:19 help: did you mean to write: `String { /* fields */ }`?\n```\n\nNot ideal either...\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/216176567/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/336315568",
    "html_url": "https://github.com/rust-lang/rust/issues/22692#issuecomment-336315568",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/22692",
    "id": 336315568,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNjMxNTU2OA==",
    "user": {
      "login": "estebank",
      "id": 1606434,
      "node_id": "MDQ6VXNlcjE2MDY0MzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/estebank",
      "html_url": "https://github.com/estebank",
      "followers_url": "https://api.github.com/users/estebank/followers",
      "following_url": "https://api.github.com/users/estebank/following{/other_user}",
      "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/estebank/subscriptions",
      "organizations_url": "https://api.github.com/users/estebank/orgs",
      "repos_url": "https://api.github.com/users/estebank/repos",
      "events_url": "https://api.github.com/users/estebank/events{/privacy}",
      "received_events_url": "https://api.github.com/users/estebank/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-10-13T00:15:24Z",
    "updated_at": "2017-10-13T00:15:24Z",
    "body": "Current output:\r\n\r\n```\r\nerror[E0423]: expected value, found struct `String`\r\n --> src/main.rs:2:13\r\n  |\r\n2 |     let _ = String.new();\r\n  |             ^^^^^^ did you mean `String { /* fields */ }`?\r\n```\r\n\r\n---\r\n\r\nI believe the following would be appropriate output:\r\n\r\n```\r\nerror[E0423]: expected value, found struct `String`\r\n --> src/main.rs:2:13\r\n  |\r\n2 |     let _ = String.new();\r\n  |             ^^^^^^---- help: did you mean to call static method `new`?: `String::new`\r\n```",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/336315568/reactions",
      "total_count": 3,
      "+1": 3,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/354357541",
    "html_url": "https://github.com/rust-lang/rust/issues/22692#issuecomment-354357541",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/22692",
    "id": 354357541,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NDM1NzU0MQ==",
    "user": {
      "login": "sourcefrog",
      "id": 346355,
      "node_id": "MDQ6VXNlcjM0NjM1NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/346355?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sourcefrog",
      "html_url": "https://github.com/sourcefrog",
      "followers_url": "https://api.github.com/users/sourcefrog/followers",
      "following_url": "https://api.github.com/users/sourcefrog/following{/other_user}",
      "gists_url": "https://api.github.com/users/sourcefrog/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sourcefrog/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sourcefrog/subscriptions",
      "organizations_url": "https://api.github.com/users/sourcefrog/orgs",
      "repos_url": "https://api.github.com/users/sourcefrog/repos",
      "events_url": "https://api.github.com/users/sourcefrog/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sourcefrog/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-12-28T21:03:29Z",
    "updated_at": "2017-12-28T21:03:29Z",
    "body": "I'd like to work on this. I think I can see where to change it. If someone wants to mentor let me know, otherwise I might ask on IRC or Discourse if I get stuck.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/354357541/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/354852280",
    "html_url": "https://github.com/rust-lang/rust/issues/22692#issuecomment-354852280",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/22692",
    "id": 354852280,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NDg1MjI4MA==",
    "user": {
      "login": "estebank",
      "id": 1606434,
      "node_id": "MDQ6VXNlcjE2MDY0MzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/estebank",
      "html_url": "https://github.com/estebank",
      "followers_url": "https://api.github.com/users/estebank/followers",
      "following_url": "https://api.github.com/users/estebank/following{/other_user}",
      "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/estebank/subscriptions",
      "organizations_url": "https://api.github.com/users/estebank/orgs",
      "repos_url": "https://api.github.com/users/estebank/repos",
      "events_url": "https://api.github.com/users/estebank/events{/privacy}",
      "received_events_url": "https://api.github.com/users/estebank/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-01-02T19:20:03Z",
    "updated_at": "2018-01-02T19:48:32Z",
    "body": "@sourcefrog feel free to do so and to reach out to anyone in the team! As soon as you have some code written, make an early PR so that we can take a look at it and provide feedback on the code itself.\r\n\r\nAlso, you should probably be looking at `librustc_resolve/lib.rs:smart_resolve_path_fragment`, which is where the suggestion is being provided. The only problem I see is that because this happens before typecheck, I don't think you can verify wether `new` is a method of `String` yet, but you can still provide it as a suggestion as a best effort guess.\r\n\r\n---\r\n\r\nFor the code `String.new()`, [`smart_resolve_path_fragment`'s argument `source`](https://github.com/rust-lang/rust/blob/687d3d15ba726dbb1ac6b85223ebe0e98c6820cc/src/librustc_resolve/lib.rs#L2554) will be `Expr(Some(expr(10: String.new())))`. In [the suggestion path](https://github.com/rust-lang/rust/blob/687d3d15ba726dbb1ac6b85223ebe0e98c6820cc/src/librustc_resolve/lib.rs#L2700-L2714) you would need to check if source is an `Expr` and that it is a method call. If it is, instead of suggesting `$Type { /* fields */ }` suggest `$Type::$method_name` on the `Expr`'s span.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/354852280/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/420724906",
    "html_url": "https://github.com/rust-lang/rust/issues/22692#issuecomment-420724906",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/22692",
    "id": 420724906,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyMDcyNDkwNg==",
    "user": {
      "login": "dsciarra",
      "id": 2036702,
      "node_id": "MDQ6VXNlcjIwMzY3MDI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2036702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dsciarra",
      "html_url": "https://github.com/dsciarra",
      "followers_url": "https://api.github.com/users/dsciarra/followers",
      "following_url": "https://api.github.com/users/dsciarra/following{/other_user}",
      "gists_url": "https://api.github.com/users/dsciarra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dsciarra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dsciarra/subscriptions",
      "organizations_url": "https://api.github.com/users/dsciarra/orgs",
      "repos_url": "https://api.github.com/users/dsciarra/repos",
      "events_url": "https://api.github.com/users/dsciarra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dsciarra/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-09-12T17:07:25Z",
    "updated_at": "2018-09-12T17:07:59Z",
    "body": "@estebank \r\n1. what is `$Type::`? a substring of `String.new()`, or is `$Type` a type?\r\n2. how to check that the argument `source` is a method call? is `$method_name` then the other part of the string `String.new()`?\r\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/420724906/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/420730146",
    "html_url": "https://github.com/rust-lang/rust/issues/22692#issuecomment-420730146",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/22692",
    "id": 420730146,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyMDczMDE0Ng==",
    "user": {
      "login": "estebank",
      "id": 1606434,
      "node_id": "MDQ6VXNlcjE2MDY0MzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/estebank",
      "html_url": "https://github.com/estebank",
      "followers_url": "https://api.github.com/users/estebank/followers",
      "following_url": "https://api.github.com/users/estebank/following{/other_user}",
      "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/estebank/subscriptions",
      "organizations_url": "https://api.github.com/users/estebank/orgs",
      "repos_url": "https://api.github.com/users/estebank/repos",
      "events_url": "https://api.github.com/users/estebank/events{/privacy}",
      "received_events_url": "https://api.github.com/users/estebank/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-09-12T17:24:07Z",
    "updated_at": "2018-09-12T17:24:12Z",
    "body": "`$Type` is just a way to refer to `String` (or any type that appears in the code). `$method_name` would be `new` in `String.new()`.\r\n\r\nYou need to check that `source` is `PathSource::Expr(Expr { kind: ExprKind::Call { ty, fun, args}, .. })`, where `ty` is the `self` type, `fun` is an `ExprRef` containing an `Expr`. I'm not sure about the exact `Expr` tree for the method call without looking at a running example, but this should give you an idea of the direction to take (and I would just add some `debug` statements or start up the debugger to see it).",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/420730146/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
