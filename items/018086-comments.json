[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/59325521",
    "html_url": "https://github.com/rust-lang/rust/issues/18086#issuecomment-59325521",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18086",
    "id": 59325521,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5MzI1NTIx",
    "user": {
      "login": "rprichard",
      "id": 1572855,
      "node_id": "MDQ6VXNlcjE1NzI4NTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1572855?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rprichard",
      "html_url": "https://github.com/rprichard",
      "followers_url": "https://api.github.com/users/rprichard/followers",
      "following_url": "https://api.github.com/users/rprichard/following{/other_user}",
      "gists_url": "https://api.github.com/users/rprichard/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rprichard/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rprichard/subscriptions",
      "organizations_url": "https://api.github.com/users/rprichard/orgs",
      "repos_url": "https://api.github.com/users/rprichard/repos",
      "events_url": "https://api.github.com/users/rprichard/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rprichard/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-10-16T07:47:39Z",
    "updated_at": "2014-10-16T07:47:39Z",
    "body": "This llvm-dev thread looks relevant: http://lists.cs.uiuc.edu/pipermail/llvmdev/2012-October/054629.html\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/59325521/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/66899677",
    "html_url": "https://github.com/rust-lang/rust/issues/18086#issuecomment-66899677",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18086",
    "id": 66899677,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2ODk5Njc3",
    "user": {
      "login": "XMPPwocky",
      "id": 1250666,
      "node_id": "MDQ6VXNlcjEyNTA2NjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1250666?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/XMPPwocky",
      "html_url": "https://github.com/XMPPwocky",
      "followers_url": "https://api.github.com/users/XMPPwocky/followers",
      "following_url": "https://api.github.com/users/XMPPwocky/following{/other_user}",
      "gists_url": "https://api.github.com/users/XMPPwocky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/XMPPwocky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/XMPPwocky/subscriptions",
      "organizations_url": "https://api.github.com/users/XMPPwocky/orgs",
      "repos_url": "https://api.github.com/users/XMPPwocky/repos",
      "events_url": "https://api.github.com/users/XMPPwocky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/XMPPwocky/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-12-14T02:03:16Z",
    "updated_at": "2014-12-14T02:03:16Z",
    "body": "This is currently blocking a lot of things I'd like to do in Rust, and is requiring an awful C wrapper library just for calling conventions. \n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/66899677/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/168234567",
    "html_url": "https://github.com/rust-lang/rust/issues/18086#issuecomment-168234567",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18086",
    "id": 168234567,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2ODIzNDU2Nw==",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-12-31T18:52:33Z",
    "updated_at": "2015-12-31T18:52:33Z",
    "body": "Traige: trying to reproduce, adding `#![feature(libc)]` to `fastcall_caller.rs` so as not to bother with extern crates, I now get\n\n```\nnote: /usr/bin/ld.gold.real: warning: skipping incompatible ./libfastcall_callee.a while searching for fastcall_callee\n/usr/bin/ld.gold.real: error: cannot find -lfastcall_callee\nfastcall_caller.0.o:fastcall_caller.0.rs:function main::h11bb15aa3118a7afoaa: error: undefined reference to 'callee'\nfastcall_caller.0.o:fastcall_caller.0.rs:function main::h11bb15aa3118a7afoaa: error: undefined reference to 'callee'\ncollect2: error: ld returned 1 exit status\n```\n\nThis seems better than a segfault, but still not good?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/168234567/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/208331450",
    "html_url": "https://github.com/rust-lang/rust/issues/18086#issuecomment-208331450",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18086",
    "id": 208331450,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwODMzMTQ1MA==",
    "user": {
      "login": "pravic",
      "id": 724639,
      "node_id": "MDQ6VXNlcjcyNDYzOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/724639?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pravic",
      "html_url": "https://github.com/pravic",
      "followers_url": "https://api.github.com/users/pravic/followers",
      "following_url": "https://api.github.com/users/pravic/following{/other_user}",
      "gists_url": "https://api.github.com/users/pravic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pravic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pravic/subscriptions",
      "organizations_url": "https://api.github.com/users/pravic/orgs",
      "repos_url": "https://api.github.com/users/pravic/repos",
      "events_url": "https://api.github.com/users/pravic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pravic/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-04-11T13:07:33Z",
    "updated_at": "2016-04-11T13:07:33Z",
    "body": "Same here. It seems, \"fastcall\" is not correct still: [testcase](https://gist.github.com/pravic/47a4fb6b517950ad9a95fdb8ae27b69e).\n\n``` rust\nextern \"fastcall\" fn inner_call(a: u32, b: u8, c: u16) -> u32 {\n    a + b as u32 + c as u32\n}\n\n#[link(name=\"outer\")]\nextern \"fastcall\"\n{\n    fn outer_call(a: u32, b: u8, c: u16) -> u32;\n}\n\nfn main() {\n    let r1 = inner_call(1,2,3);\n    let r2 = unsafe { outer_call(1,2,3) };\n    println!(\"fcall: {} and {}\", r1, r2);\n}\n```\n\n``` c\nunsigned __fastcall outer_call(unsigned int a, unsigned char b, unsigned short c) {\n    return a + b + c;\n}\n```\n\nMeta\n\n> rustc 1.9.0-nightly (526f2bf5c 2016-04-09)\n> binary: rustc\n> commit-hash: 526f2bf5c534308193246e13ab2da8b3c0cf3cbb\n> commit-date: 2016-04-09\n> host: i686-pc-windows-msvc\n> release: 1.9.0-nightly\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/208331450/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/208577116",
    "html_url": "https://github.com/rust-lang/rust/issues/18086#issuecomment-208577116",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18086",
    "id": 208577116,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwODU3NzExNg==",
    "user": {
      "login": "eddyb",
      "id": 77424,
      "node_id": "MDQ6VXNlcjc3NDI0",
      "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eddyb",
      "html_url": "https://github.com/eddyb",
      "followers_url": "https://api.github.com/users/eddyb/followers",
      "following_url": "https://api.github.com/users/eddyb/following{/other_user}",
      "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions",
      "organizations_url": "https://api.github.com/users/eddyb/orgs",
      "repos_url": "https://api.github.com/users/eddyb/repos",
      "events_url": "https://api.github.com/users/eddyb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eddyb/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-04-11T21:49:46Z",
    "updated_at": "2016-04-11T21:50:02Z",
    "body": "From @pravic's examples, `clang` generates:\n\n``` llvm\ndeclare x86_fastcallcc i32 @\"\\01@outer_call@12\"(i32 inreg, i8 inreg zeroext, i16 zeroext)\n```\n\nWhile `rustc` only has:\n\n``` llvm\ndeclare x86_fastcallcc i32 @outer_call(i32, i8 zeroext, i16 zeroext)\n```\n\nNaming aside (it ends up linking just fine), we're missing `inreg` attributes. cc @dotdash\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/208577116/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/241173449",
    "html_url": "https://github.com/rust-lang/rust/issues/18086#issuecomment-241173449",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18086",
    "id": 241173449,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0MTE3MzQ0OQ==",
    "user": {
      "login": "Ericson2314",
      "id": 1055245,
      "node_id": "MDQ6VXNlcjEwNTUyNDU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1055245?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Ericson2314",
      "html_url": "https://github.com/Ericson2314",
      "followers_url": "https://api.github.com/users/Ericson2314/followers",
      "following_url": "https://api.github.com/users/Ericson2314/following{/other_user}",
      "gists_url": "https://api.github.com/users/Ericson2314/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Ericson2314/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Ericson2314/subscriptions",
      "organizations_url": "https://api.github.com/users/Ericson2314/orgs",
      "repos_url": "https://api.github.com/users/Ericson2314/repos",
      "events_url": "https://api.github.com/users/Ericson2314/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Ericson2314/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-08-20T02:25:39Z",
    "updated_at": "2017-03-09T19:09:53Z",
    "body": "@whitequark @edef1c we could use this for libfringe.\r\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/241173449/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
