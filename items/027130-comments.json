[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/122697617",
    "html_url": "https://github.com/rust-lang/rust/issues/27130#issuecomment-122697617",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27130",
    "id": 122697617,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyMjY5NzYxNw==",
    "user": {
      "login": "eefriedman",
      "id": 12769964,
      "node_id": "MDQ6VXNlcjEyNzY5OTY0",
      "avatar_url": "https://avatars.githubusercontent.com/u/12769964?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eefriedman",
      "html_url": "https://github.com/eefriedman",
      "followers_url": "https://api.github.com/users/eefriedman/followers",
      "following_url": "https://api.github.com/users/eefriedman/following{/other_user}",
      "gists_url": "https://api.github.com/users/eefriedman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eefriedman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eefriedman/subscriptions",
      "organizations_url": "https://api.github.com/users/eefriedman/orgs",
      "repos_url": "https://api.github.com/users/eefriedman/repos",
      "events_url": "https://api.github.com/users/eefriedman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eefriedman/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-19T19:42:39Z",
    "updated_at": "2015-07-19T19:42:39Z",
    "body": "The first example is much harder for LLVM to optimize because each iteration of the loop stores to a value which would be globally visible if the loop panics.  I think LLVM would figure it out with the right set of optimization passes, though.\n\nThe other examples are much easier to optimize because LLVM can trivially eliminate the stack traffic using scalarrepl.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/122697617/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/122701081",
    "html_url": "https://github.com/rust-lang/rust/issues/27130#issuecomment-122701081",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27130",
    "id": 122701081,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyMjcwMTA4MQ==",
    "user": {
      "login": "hanna-kruppe",
      "id": 2311707,
      "node_id": "MDQ6VXNlcjIzMTE3MDc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2311707?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hanna-kruppe",
      "html_url": "https://github.com/hanna-kruppe",
      "followers_url": "https://api.github.com/users/hanna-kruppe/followers",
      "following_url": "https://api.github.com/users/hanna-kruppe/following{/other_user}",
      "gists_url": "https://api.github.com/users/hanna-kruppe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hanna-kruppe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hanna-kruppe/subscriptions",
      "organizations_url": "https://api.github.com/users/hanna-kruppe/orgs",
      "repos_url": "https://api.github.com/users/hanna-kruppe/repos",
      "events_url": "https://api.github.com/users/hanna-kruppe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hanna-kruppe/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-19T20:20:21Z",
    "updated_at": "2015-07-19T20:20:21Z",
    "body": "According to the LLVM IR, the `&mut &[u8]`parameter is `noalias` and it's not passed to the `panic` function as argument. Rust-semantics wise I also don't see how the slice would escape in case of a panic. I'm not an expert on either, but I don't see how LLVM could consider it to be escaping.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/122701081/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/122706904",
    "html_url": "https://github.com/rust-lang/rust/issues/27130#issuecomment-122706904",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27130",
    "id": 122706904,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyMjcwNjkwNA==",
    "user": {
      "login": "eefriedman",
      "id": 12769964,
      "node_id": "MDQ6VXNlcjEyNzY5OTY0",
      "avatar_url": "https://avatars.githubusercontent.com/u/12769964?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eefriedman",
      "html_url": "https://github.com/eefriedman",
      "followers_url": "https://api.github.com/users/eefriedman/followers",
      "following_url": "https://api.github.com/users/eefriedman/following{/other_user}",
      "gists_url": "https://api.github.com/users/eefriedman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eefriedman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eefriedman/subscriptions",
      "organizations_url": "https://api.github.com/users/eefriedman/orgs",
      "repos_url": "https://api.github.com/users/eefriedman/repos",
      "events_url": "https://api.github.com/users/eefriedman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eefriedman/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-19T21:00:12Z",
    "updated_at": "2015-07-19T21:00:12Z",
    "body": "The slice \"escapes\" like so:\n\n``` rust\nuse std::sync::Mutex;\nuse std::sync::Arc;\n\npub fn trim_in_place(a: &mut &[u8]) {\n    while a.first() == Some(&42) {\n        *a = &a[2..];\n    }\n}\n\nfn main() {\n    static X: &'static [u8] = &[42, 0, 42];\n    let m = Arc::new(Mutex::new(X));\n    let m2 = m.clone();\n    let _ = std::thread::spawn(move || {\n        let mut r = m.lock().unwrap();\n        trim_in_place(&mut *r)\n    }).join();\n    let r = match m2.lock() {\n        Ok(r) => r,\n        Err(r) => r.into_inner()\n    };\n    assert_eq!(*r, &[42]);\n}\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/122706904/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/122901047",
    "html_url": "https://github.com/rust-lang/rust/issues/27130#issuecomment-122901047",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27130",
    "id": 122901047,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyMjkwMTA0Nw==",
    "user": {
      "login": "dotdash",
      "id": 230962,
      "node_id": "MDQ6VXNlcjIzMDk2Mg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/230962?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dotdash",
      "html_url": "https://github.com/dotdash",
      "followers_url": "https://api.github.com/users/dotdash/followers",
      "following_url": "https://api.github.com/users/dotdash/following{/other_user}",
      "gists_url": "https://api.github.com/users/dotdash/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dotdash/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dotdash/subscriptions",
      "organizations_url": "https://api.github.com/users/dotdash/orgs",
      "repos_url": "https://api.github.com/users/dotdash/repos",
      "events_url": "https://api.github.com/users/dotdash/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dotdash/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-20T14:22:03Z",
    "updated_at": "2015-07-20T14:22:03Z",
    "body": "The mentioned transformation that leads to better code is what @reinerp suggested here: https://github.com/rust-lang/rust/issues/26494#issuecomment-114176829\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/122901047/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/123024287",
    "html_url": "https://github.com/rust-lang/rust/issues/27130#issuecomment-123024287",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27130",
    "id": 123024287,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyMzAyNDI4Nw==",
    "user": {
      "login": "dotdash",
      "id": 230962,
      "node_id": "MDQ6VXNlcjIzMDk2Mg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/230962?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dotdash",
      "html_url": "https://github.com/dotdash",
      "followers_url": "https://api.github.com/users/dotdash/followers",
      "following_url": "https://api.github.com/users/dotdash/following{/other_user}",
      "gists_url": "https://api.github.com/users/dotdash/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dotdash/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dotdash/subscriptions",
      "organizations_url": "https://api.github.com/users/dotdash/orgs",
      "repos_url": "https://api.github.com/users/dotdash/repos",
      "events_url": "https://api.github.com/users/dotdash/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dotdash/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-20T20:29:40Z",
    "updated_at": "2015-07-20T20:30:00Z",
    "body": "I'm preparing a PR that will eliminate the extra null check. For the loop itself, I don't have a fix for rustc (yet?), but this optimizes better:\n\n``` rust\npub fn trim_in_place(a: &mut &[u8]) {\n    let mut x = *a;\n    while x.first() == Some(&42) {\n        x = &x[1..];\n    }\n    *a = x;\n}\n```\n\nYou get the tight loop with that, and with the PR I'm preparing, the result is this:\n\n``` asm\n_ZN13trim_in_place20h5d93414c92587a1aeaaE:\n    .cfi_startproc\n    movq    (%rdi), %rax\n    movq    8(%rdi), %rdx\n    xorl    %ecx, %ecx\n    testq   %rdx, %rdx\n    je  .LBB0_5\n    xorl    %ecx, %ecx\n    .align  16, 0x90\n.LBB0_2:\n    movzbl  (%rax), %esi\n    cmpl    $42, %esi\n    jne .LBB0_3\n    incq    %rax\n    decq    %rdx\n    jne .LBB0_2\n    jmp .LBB0_5\n.LBB0_3:\n    movq    %rdx, %rcx\n.LBB0_5:\n    movq    %rax, (%rdi)\n    movq    %rcx, 8(%rdi)\n    retq\n```\n\nStill slightly weird WRT its usage of `rcx`, but at least the loop looks good.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/123024287/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/123563110",
    "html_url": "https://github.com/rust-lang/rust/issues/27130#issuecomment-123563110",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27130",
    "id": 123563110,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyMzU2MzExMA==",
    "user": {
      "login": "Aatch",
      "id": 342416,
      "node_id": "MDQ6VXNlcjM0MjQxNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/342416?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Aatch",
      "html_url": "https://github.com/Aatch",
      "followers_url": "https://api.github.com/users/Aatch/followers",
      "following_url": "https://api.github.com/users/Aatch/following{/other_user}",
      "gists_url": "https://api.github.com/users/Aatch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Aatch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Aatch/subscriptions",
      "organizations_url": "https://api.github.com/users/Aatch/orgs",
      "repos_url": "https://api.github.com/users/Aatch/repos",
      "events_url": "https://api.github.com/users/Aatch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Aatch/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-22T05:05:30Z",
    "updated_at": "2015-07-22T05:05:30Z",
    "body": "@dotdash yeah, LLVM register usage can be a little weird sometimes. It's live-range analysis can produce some odd results at times, meaning that it won't re-use a register even it can.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/123563110/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/275453429",
    "html_url": "https://github.com/rust-lang/rust/issues/27130#issuecomment-275453429",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27130",
    "id": 275453429,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3NTQ1MzQyOQ==",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-01-26T17:30:49Z",
    "updated_at": "2017-01-26T17:30:49Z",
    "body": "@rkruppe still a problem?",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/275453429/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/275465454",
    "html_url": "https://github.com/rust-lang/rust/issues/27130#issuecomment-275465454",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27130",
    "id": 275465454,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3NTQ2NTQ1NA==",
    "user": {
      "login": "dotdash",
      "id": 230962,
      "node_id": "MDQ6VXNlcjIzMDk2Mg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/230962?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dotdash",
      "html_url": "https://github.com/dotdash",
      "followers_url": "https://api.github.com/users/dotdash/followers",
      "following_url": "https://api.github.com/users/dotdash/following{/other_user}",
      "gists_url": "https://api.github.com/users/dotdash/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dotdash/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dotdash/subscriptions",
      "organizations_url": "https://api.github.com/users/dotdash/orgs",
      "repos_url": "https://api.github.com/users/dotdash/repos",
      "events_url": "https://api.github.com/users/dotdash/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dotdash/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-01-26T18:13:13Z",
    "updated_at": "2017-01-26T18:13:13Z",
    "body": "@brson still as bad in stable and beta, but it even regressed from there in nightly :-/\r\n\r\n```assembly\r\n_ZN8rust_out13trim_in_place17ha198dc1ee798e461E:\r\n\t.cfi_startproc\r\n\tpushq\t%rax\r\n.Ltmp0:\r\n\t.cfi_def_cfa_offset 16\r\n\tmovq\t8(%rdi), %rax\r\n\tjmp\t.LBB0_1\r\n\t.p2align\t4, 0x90\r\n.LBB0_5:\r\n\tincq\t(%rdi)\r\n\tmovq\t%rax, 8(%rdi)\r\n.LBB0_1:\r\n\tdecq\t%rax\r\n\tcmpq\t$-1, %rax\r\n\tsetne\t%cl\r\n\tje\t.LBB0_3\r\n\tmovq\t(%rdi), %rcx\r\n\tcmpb\t$42, (%rcx)\r\n\tsete\t%cl\r\n.LBB0_3:\r\n\ttestb\t%cl, %cl\r\n\tje\t.LBB0_6\r\n\tcmpq\t$-1, %rax\r\n\tjne\t.LBB0_5\r\n\tmovl\t$1, %edi\r\n\txorl\t%esi, %esi\r\n\tcallq\t_ZN4core5slice22slice_index_order_fail17h9eb379df958d4186E@PLT\r\n.LBB0_6:\r\n\tpopq\t%rax\r\n\tretq\r\n.Lfunc_end0:\r\n\t.size\t_ZN8rust_out13trim_in_place17ha198dc1ee798e461E, .Lfunc_end0-_ZN8rust_out13trim_in_place17ha198dc1ee798e461E\r\n\t.cfi_endproc\r\n```",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/275465454/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/275922541",
    "html_url": "https://github.com/rust-lang/rust/issues/27130#issuecomment-275922541",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27130",
    "id": 275922541,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3NTkyMjU0MQ==",
    "user": {
      "login": "dotdash",
      "id": 230962,
      "node_id": "MDQ6VXNlcjIzMDk2Mg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/230962?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dotdash",
      "html_url": "https://github.com/dotdash",
      "followers_url": "https://api.github.com/users/dotdash/followers",
      "following_url": "https://api.github.com/users/dotdash/following{/other_user}",
      "gists_url": "https://api.github.com/users/dotdash/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dotdash/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dotdash/subscriptions",
      "organizations_url": "https://api.github.com/users/dotdash/orgs",
      "repos_url": "https://api.github.com/users/dotdash/repos",
      "events_url": "https://api.github.com/users/dotdash/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dotdash/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-01-29T15:49:01Z",
    "updated_at": "2017-01-29T15:49:01Z",
    "body": "OK, so the regression here is interesting. Thanks to a change in #38854 which makes us avoid FCA loads/stores in favor of memcpys, LLVM got a bit better at understanding this code and sees that `<Option<&u8]> as PartialEq>::eq` is only called with a single unique value for the RHS , so it specializes the function. Unfortunately this happens before some other optimizations can kick in, and while LLVM could optimize the generic code, it fails with the specialized version. ",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/275922541/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/275950528",
    "html_url": "https://github.com/rust-lang/rust/issues/27130#issuecomment-275950528",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27130",
    "id": 275950528,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3NTk1MDUyOA==",
    "user": {
      "login": "dotdash",
      "id": 230962,
      "node_id": "MDQ6VXNlcjIzMDk2Mg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/230962?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dotdash",
      "html_url": "https://github.com/dotdash",
      "followers_url": "https://api.github.com/users/dotdash/followers",
      "following_url": "https://api.github.com/users/dotdash/following{/other_user}",
      "gists_url": "https://api.github.com/users/dotdash/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dotdash/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dotdash/subscriptions",
      "organizations_url": "https://api.github.com/users/dotdash/orgs",
      "repos_url": "https://api.github.com/users/dotdash/repos",
      "events_url": "https://api.github.com/users/dotdash/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dotdash/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-01-29T22:12:31Z",
    "updated_at": "2017-01-29T22:12:31Z",
    "body": "I've found some a few places where tweaking things in LLVM would prevent this from regressing, the most promising one being a fix to folding zexts into PHIs with only two incoming values, a special case that is currently not handled. \r\nSince I'm not fully aware of the implications this might have, I asked about that on the mailing list: http://lists.llvm.org/pipermail/llvm-dev/2017-January/109631.html\r\n\r\nA patch on top of the current LLVM trunk at least gets rid of the regression, though the original problem still remains.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/275950528/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/277450450",
    "html_url": "https://github.com/rust-lang/rust/issues/27130#issuecomment-277450450",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27130",
    "id": 277450450,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3NzQ1MDQ1MA==",
    "user": {
      "login": "dotdash",
      "id": 230962,
      "node_id": "MDQ6VXNlcjIzMDk2Mg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/230962?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dotdash",
      "html_url": "https://github.com/dotdash",
      "followers_url": "https://api.github.com/users/dotdash/followers",
      "following_url": "https://api.github.com/users/dotdash/following{/other_user}",
      "gists_url": "https://api.github.com/users/dotdash/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dotdash/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dotdash/subscriptions",
      "organizations_url": "https://api.github.com/users/dotdash/orgs",
      "repos_url": "https://api.github.com/users/dotdash/repos",
      "events_url": "https://api.github.com/users/dotdash/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dotdash/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-02-04T14:47:18Z",
    "updated_at": "2017-02-04T14:47:18Z",
    "body": "The patch to handle the \"regression\" has landed in LLVM trunk",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/277450450/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/277469357",
    "html_url": "https://github.com/rust-lang/rust/issues/27130#issuecomment-277469357",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27130",
    "id": 277469357,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3NzQ2OTM1Nw==",
    "user": {
      "login": "arielb1",
      "id": 1830974,
      "node_id": "MDQ6VXNlcjE4MzA5NzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1830974?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/arielb1",
      "html_url": "https://github.com/arielb1",
      "followers_url": "https://api.github.com/users/arielb1/followers",
      "following_url": "https://api.github.com/users/arielb1/following{/other_user}",
      "gists_url": "https://api.github.com/users/arielb1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/arielb1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/arielb1/subscriptions",
      "organizations_url": "https://api.github.com/users/arielb1/orgs",
      "repos_url": "https://api.github.com/users/arielb1/repos",
      "events_url": "https://api.github.com/users/arielb1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/arielb1/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-02-04T19:33:29Z",
    "updated_at": "2017-02-04T19:33:29Z",
    "body": "@dotdash \r\n\r\nCould we backport it?",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/277469357/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/277480314",
    "html_url": "https://github.com/rust-lang/rust/issues/27130#issuecomment-277480314",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27130",
    "id": 277480314,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3NzQ4MDMxNA==",
    "user": {
      "login": "dotdash",
      "id": 230962,
      "node_id": "MDQ6VXNlcjIzMDk2Mg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/230962?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dotdash",
      "html_url": "https://github.com/dotdash",
      "followers_url": "https://api.github.com/users/dotdash/followers",
      "following_url": "https://api.github.com/users/dotdash/following{/other_user}",
      "gists_url": "https://api.github.com/users/dotdash/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dotdash/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dotdash/subscriptions",
      "organizations_url": "https://api.github.com/users/dotdash/orgs",
      "repos_url": "https://api.github.com/users/dotdash/repos",
      "events_url": "https://api.github.com/users/dotdash/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dotdash/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-02-04T21:46:16Z",
    "updated_at": "2017-02-04T21:46:16Z",
    "body": "@arielb1 we probably could (can't check right now), but I'm not sure how useful it is in real world code. The commit is https://github.com/llvm-mirror/llvm/commit/7c4d39c349ffd1396a2569c154293a41243dc433",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/277480314/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/377943229",
    "html_url": "https://github.com/rust-lang/rust/issues/27130#issuecomment-377943229",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27130",
    "id": 377943229,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3Nzk0MzIyOQ==",
    "user": {
      "login": "nox",
      "id": 123095,
      "node_id": "MDQ6VXNlcjEyMzA5NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/123095?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nox",
      "html_url": "https://github.com/nox",
      "followers_url": "https://api.github.com/users/nox/followers",
      "following_url": "https://api.github.com/users/nox/following{/other_user}",
      "gists_url": "https://api.github.com/users/nox/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nox/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nox/subscriptions",
      "organizations_url": "https://api.github.com/users/nox/orgs",
      "repos_url": "https://api.github.com/users/nox/repos",
      "events_url": "https://api.github.com/users/nox/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nox/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-04-02T14:36:55Z",
    "updated_at": "2018-04-02T14:36:55Z",
    "body": "The \"regression\" is no more, but the original issue still persists.\r\n\r\nhttps://godbolt.org/g/i6iMJa\r\n\r\nCc @rust-lang/wg-codegen ",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/377943229/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/449732865",
    "html_url": "https://github.com/rust-lang/rust/issues/27130#issuecomment-449732865",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27130",
    "id": 449732865,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0OTczMjg2NQ==",
    "user": {
      "login": "nikic",
      "id": 216080,
      "node_id": "MDQ6VXNlcjIxNjA4MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/216080?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikic",
      "html_url": "https://github.com/nikic",
      "followers_url": "https://api.github.com/users/nikic/followers",
      "following_url": "https://api.github.com/users/nikic/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikic/subscriptions",
      "organizations_url": "https://api.github.com/users/nikic/orgs",
      "repos_url": "https://api.github.com/users/nikic/repos",
      "events_url": "https://api.github.com/users/nikic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikic/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-12-24T13:13:11Z",
    "updated_at": "2018-12-24T13:13:11Z",
    "body": "Looks like the bounds check is being optimized away since rustc 1.25.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/449732865/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/449852609",
    "html_url": "https://github.com/rust-lang/rust/issues/27130#issuecomment-449852609",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27130",
    "id": 449852609,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0OTg1MjYwOQ==",
    "user": {
      "login": "oli-obk",
      "id": 332036,
      "node_id": "MDQ6VXNlcjMzMjAzNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/oli-obk",
      "html_url": "https://github.com/oli-obk",
      "followers_url": "https://api.github.com/users/oli-obk/followers",
      "following_url": "https://api.github.com/users/oli-obk/following{/other_user}",
      "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions",
      "organizations_url": "https://api.github.com/users/oli-obk/orgs",
      "repos_url": "https://api.github.com/users/oli-obk/repos",
      "events_url": "https://api.github.com/users/oli-obk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/oli-obk/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-12-25T14:01:07Z",
    "updated_at": "2018-12-25T14:01:07Z",
    "body": "Do we have any perf tests that tell us when we regress it?",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/449852609/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/450189701",
    "html_url": "https://github.com/rust-lang/rust/issues/27130#issuecomment-450189701",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27130",
    "id": 450189701,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MDE4OTcwMQ==",
    "user": {
      "login": "anp",
      "id": 6812281,
      "node_id": "MDQ6VXNlcjY4MTIyODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6812281?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/anp",
      "html_url": "https://github.com/anp",
      "followers_url": "https://api.github.com/users/anp/followers",
      "following_url": "https://api.github.com/users/anp/following{/other_user}",
      "gists_url": "https://api.github.com/users/anp/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/anp/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/anp/subscriptions",
      "organizations_url": "https://api.github.com/users/anp/orgs",
      "repos_url": "https://api.github.com/users/anp/repos",
      "events_url": "https://api.github.com/users/anp/events{/privacy}",
      "received_events_url": "https://api.github.com/users/anp/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-12-27T16:52:45Z",
    "updated_at": "2018-12-27T16:52:45Z",
    "body": "I would assume that a regression would show up *somewhere* in lolbench, but there are a lot of events showing up there currently with no effort yet to triage or reproduce them, so I doubt we'll know based on those until the tooling is further along.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/450189701/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/667568772",
    "html_url": "https://github.com/rust-lang/rust/issues/27130#issuecomment-667568772",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27130",
    "id": 667568772,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2NzU2ODc3Mg==",
    "user": {
      "login": "bugadani",
      "id": 977627,
      "node_id": "MDQ6VXNlcjk3NzYyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/977627?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bugadani",
      "html_url": "https://github.com/bugadani",
      "followers_url": "https://api.github.com/users/bugadani/followers",
      "following_url": "https://api.github.com/users/bugadani/following{/other_user}",
      "gists_url": "https://api.github.com/users/bugadani/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bugadani/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bugadani/subscriptions",
      "organizations_url": "https://api.github.com/users/bugadani/orgs",
      "repos_url": "https://api.github.com/users/bugadani/repos",
      "events_url": "https://api.github.com/users/bugadani/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bugadani/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-08-01T18:14:10Z",
    "updated_at": "2020-08-01T18:14:10Z",
    "body": "I don't know how helpful this is, but it looks like rustc really likes to math patterns: https://rust.godbolt.org/z/TP9zKc",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/667568772/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/680080415",
    "html_url": "https://github.com/rust-lang/rust/issues/27130#issuecomment-680080415",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27130",
    "id": 680080415,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4MDA4MDQxNQ==",
    "user": {
      "login": "bugadani",
      "id": 977627,
      "node_id": "MDQ6VXNlcjk3NzYyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/977627?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bugadani",
      "html_url": "https://github.com/bugadani",
      "followers_url": "https://api.github.com/users/bugadani/followers",
      "following_url": "https://api.github.com/users/bugadani/following{/other_user}",
      "gists_url": "https://api.github.com/users/bugadani/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bugadani/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bugadani/subscriptions",
      "organizations_url": "https://api.github.com/users/bugadani/orgs",
      "repos_url": "https://api.github.com/users/bugadani/repos",
      "events_url": "https://api.github.com/users/bugadani/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bugadani/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-08-25T15:02:29Z",
    "updated_at": "2020-08-25T15:02:29Z",
    "body": "This issue seems to be fixed in nightly.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/680080415/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/701865585",
    "html_url": "https://github.com/rust-lang/rust/issues/27130#issuecomment-701865585",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27130",
    "id": 701865585,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwMTg2NTU4NQ==",
    "user": {
      "login": "JohnTitor",
      "id": 25030997,
      "node_id": "MDQ6VXNlcjI1MDMwOTk3",
      "avatar_url": "https://avatars.githubusercontent.com/u/25030997?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JohnTitor",
      "html_url": "https://github.com/JohnTitor",
      "followers_url": "https://api.github.com/users/JohnTitor/followers",
      "following_url": "https://api.github.com/users/JohnTitor/following{/other_user}",
      "gists_url": "https://api.github.com/users/JohnTitor/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JohnTitor/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JohnTitor/subscriptions",
      "organizations_url": "https://api.github.com/users/JohnTitor/orgs",
      "repos_url": "https://api.github.com/users/JohnTitor/repos",
      "events_url": "https://api.github.com/users/JohnTitor/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JohnTitor/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-10-01T03:51:29Z",
    "updated_at": "2020-10-01T03:51:29Z",
    "body": "The test is added by #75910, closing.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/701865585/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
