[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69484282",
    "html_url": "https://github.com/rust-lang/rust/issues/20797#issuecomment-69484282",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20797",
    "id": 69484282,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5NDg0Mjgy",
    "user": {
      "login": "erickt",
      "id": 84711,
      "node_id": "MDQ6VXNlcjg0NzEx",
      "avatar_url": "https://avatars.githubusercontent.com/u/84711?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/erickt",
      "html_url": "https://github.com/erickt",
      "followers_url": "https://api.github.com/users/erickt/followers",
      "following_url": "https://api.github.com/users/erickt/following{/other_user}",
      "gists_url": "https://api.github.com/users/erickt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/erickt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/erickt/subscriptions",
      "organizations_url": "https://api.github.com/users/erickt/orgs",
      "repos_url": "https://api.github.com/users/erickt/repos",
      "events_url": "https://api.github.com/users/erickt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/erickt/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-11T05:29:28Z",
    "updated_at": "2015-01-11T05:29:28Z",
    "body": "I just ran into this as well with a smaller example:\n\n``` rust\nstruct Peekable<I> where I: Iterator {\n    _iter: I,\n    _next: Option<<I as Iterator>::Item>,\n}\n\nfn main() {\n    let mut iter = Vec::<i32>::new().into_iter();\n    let next = iter.next();\n    let _v = Peekable {\n        _iter: iter,\n        _next : next,\n    };\n}\n```\n\nWith this error:\n\n```\nerror: internal compiler error: get_unique_type_id_of_type() - unexpected type: <collections::vec::IntoIter<i32> as core::iter::Iterator>::Item, ty_projection(ProjectionTy { trait_ref: Rc(TraitRef { def_id: DefId { krate: 2u32, node: 42866u32 }, substs: Substs { types: VecPerParamSpace {TypeSpace: [], SelfSpace: [TyS { sty: ty_struct(DefId { krate: 3u32, node: 36733u32 }, Substs { types: VecPerParamSpace {TypeSpace: [TyS { sty: ty_int(i32), flags: 0, region_depth: 0u32 }], SelfSpace: [], FnSpace: [], }, regions: ErasedRegions }), flags: 0, region_depth: 0u32 }], FnSpace: [], }, regions: NonerasedRegions(VecPerParamSpace {TypeSpace: [], SelfSpace: [], FnSpace: [], }) } }), item_name: \"Item\"(67) })\nnote: the compiler unexpectedly panicked. this is a bug.\nnote: we would appreciate a bug report: http://doc.rust-lang.org/complement-bugreport.html\nnote: run with `RUST_BACKTRACE=1` for a backtrace\nthread 'rustc' panicked at 'Box<Any>', /Users/rustbuild/src/rust-buildbot/slave/nightly-dist-rustc-mac/build/src/libsyntax/diagnostic.rs:182\n\nstack backtrace:\n   1:        0x1113f24b5 - sys::backtrace::write::h64ca2fb259c4ae97lCt\n   2:        0x11141494f - failure::on_fail::h64ff5ae6887860cc0Hz\n   3:        0x1113805ca - rt::unwind::begin_unwind_inner::h1d4bc098fd350446Qpz\n   4:        0x10f0880b7 - rt::unwind::begin_unwind::h1123425023578864118\n   5:        0x10f088a28 - diagnostic::Handler::bug::h6d2bfe842975d6e0tWF\n   6:        0x10e68c788 - session::Session::bug::h5da8d79b0a6f5276iRq\n   7:        0x10deb5805 - trans::debuginfo::TypeMap<'tcx>::get_unique_type_id_of_type::hf00d365d13fe5f42rGD\n   8:        0x10deb9557 - trans::debuginfo::TypeMap<'tcx>::get_unique_type_id_of_type::from_def_id_and_substs::h891ec143e99916f43PD\n   9:        0x10deb5705 - trans::debuginfo::TypeMap<'tcx>::get_unique_type_id_of_type::hf00d365d13fe5f42rGD\n  10:        0x10debb7cb - trans::debuginfo::type_metadata::h9edd372a193ff094RSF\n  11:        0x10dec3cf5 - trans::debuginfo::StructMemberDescriptionFactory<'tcx>::create_member_descriptions::unboxed_closure.45659\n  12:        0x10dec37b2 - vec::Vec<T>.FromIterator<T>::from_iter::h4078323428656498456\n  13:        0x10debf54d - trans::debuginfo::StructMemberDescriptionFactory<'tcx>::create_member_descriptions::he532502aebbbff41j9E\n  14:        0x10dec23e2 - trans::debuginfo::RecursiveTypeDescription<'tcx>::finalize::h4e94b4649bcaa46e26E\n  15:        0x10debc539 - trans::debuginfo::type_metadata::h9edd372a193ff094RSF\n  16:        0x10debdad2 - trans::debuginfo::declare_local::h82cfc8c7fa3e6298CPE\n  17:        0x10debd32d - ast_util::walk_pat::walk_pat_::h14410195268450947789\n  18:        0x10dda22a7 - trans::controlflow::trans_block::h1b3762e019b88de7B3d\n  19:        0x10de6ba39 - trans::base::trans_closure::h83147acece2ec0c6EYt\n  20:        0x10dd8d5f5 - trans::base::trans_fn::h99bd3c17ad60972dj9t\n  21:        0x10dd88d4e - trans::base::trans_item::hdbddd5abd5742b0cEwu\n  22:        0x10de7202c - trans::base::trans_crate::h6077c32a4f7ba4e9lsv\n  23:        0x10dc2eb3e - driver::phase_4_translate_to_llvm::ha92297f2357a645fPFa\n  24:        0x10dc0af4b - driver::compile_input::h31580cbd7ea87613xba\n  25:        0x10dcd5fda - monitor::unboxed_closure.22557\n  26:        0x10dcd4735 - thunk::F.Invoke<A, R>::invoke::h6367419564961841226\n  27:        0x10dcd3510 - rt::unwind::try::try_fn::h7763956589852599824\n  28:        0x11147b2a9 - rust_try_inner\n  29:        0x11147b296 - rust_try\n  30:        0x10dcd3c0c - thunk::F.Invoke<A, R>::invoke::h16724184168577887652\n  31:        0x111402154 - sys::thread::thread_start::hbd8f2f8bdd3a3baadrw\n  32:     0x7fff9358c2fc - _pthread_body\n  33:     0x7fff9358c279 - _pthread_body\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69484282/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69765679",
    "html_url": "https://github.com/rust-lang/rust/issues/20797#issuecomment-69765679",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20797",
    "id": 69765679,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5NzY1Njc5",
    "user": {
      "login": "kinghajj",
      "id": 3409,
      "node_id": "MDQ6VXNlcjM0MDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3409?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kinghajj",
      "html_url": "https://github.com/kinghajj",
      "followers_url": "https://api.github.com/users/kinghajj/followers",
      "following_url": "https://api.github.com/users/kinghajj/following{/other_user}",
      "gists_url": "https://api.github.com/users/kinghajj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kinghajj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kinghajj/subscriptions",
      "organizations_url": "https://api.github.com/users/kinghajj/orgs",
      "repos_url": "https://api.github.com/users/kinghajj/repos",
      "events_url": "https://api.github.com/users/kinghajj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kinghajj/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-13T15:51:36Z",
    "updated_at": "2015-01-13T15:51:36Z",
    "body": "bors should not have closed this issue, as I mentioned in #20960, my original example still causes an ICE even after that pull request was merged.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69765679/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69809400",
    "html_url": "https://github.com/rust-lang/rust/issues/20797#issuecomment-69809400",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20797",
    "id": 69809400,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5ODA5NDAw",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-13T20:01:25Z",
    "updated_at": "2015-01-13T20:01:25Z",
    "body": "@kinghajj can you retest on the latest master? It seems to work for me, I suspect because of https://github.com/rust-lang/rust/pull/20955 \n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69809400/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69866511",
    "html_url": "https://github.com/rust-lang/rust/issues/20797#issuecomment-69866511",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20797",
    "id": 69866511,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5ODY2NTEx",
    "user": {
      "login": "kinghajj",
      "id": 3409,
      "node_id": "MDQ6VXNlcjM0MDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3409?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kinghajj",
      "html_url": "https://github.com/kinghajj",
      "followers_url": "https://api.github.com/users/kinghajj/followers",
      "following_url": "https://api.github.com/users/kinghajj/following{/other_user}",
      "gists_url": "https://api.github.com/users/kinghajj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kinghajj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kinghajj/subscriptions",
      "organizations_url": "https://api.github.com/users/kinghajj/orgs",
      "repos_url": "https://api.github.com/users/kinghajj/repos",
      "events_url": "https://api.github.com/users/kinghajj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kinghajj/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-14T04:09:05Z",
    "updated_at": "2015-01-14T04:09:05Z",
    "body": "No luck yet.\n\n```\nbash-3.2$ rustc -V\nrustc 1.0.0-dev (170c4399e 2015-01-14 00:41:55 +0000)\nbash-3.2$ RUST_BACKTRACE=1 cargo test\n   Compiling subpaths v0.0.1 (file:///Users/samuel/Documents/Programming/filehash/src/subpaths)\nerror: internal compiler error: type_of with ty_projection\nnote: the compiler unexpectedly panicked. this is a bug.\nnote: we would appreciate a bug report: http://doc.rust-lang.org/complement-bugreport.html\nnote: run with `RUST_BACKTRACE=1` for a backtrace\nthread 'rustc' panicked at 'Box<Any>', /Users/samuel/Documents/rust/src/libsyntax/diagnostic.rs:182\n\nstack backtrace:\n   1:        0x110640dec - sys::backtrace::write::h724c84ec96e82337RUt\n   2:        0x110662a8f - failure::on_fail::h6f2a6126417d36beIYz\n   3:        0x1105cf74e - rt::unwind::begin_unwind_inner::hb2d99935a1d8bde1yGz\n   4:        0x10e30ac4f - rt::unwind::begin_unwind::h6101901676675217320\n   5:        0x10e30b5bb - diagnostic::Handler::bug::ha27a4766170cb062A1F\n   6:        0x10d8e1670 - metadata::tydecode::parse_existential_bounds_::h10742984024508526701\n   7:        0x10d022c88 - trans::type_of::type_of::h6ebeadb230102bb3Y1o\n   8:        0x10d023225 - trans::type_of::type_of::h6ebeadb230102bb3Y1o\n   9:        0x10d022190 - trans::type_of::type_of::h6ebeadb230102bb3Y1o\n  10:        0x10d13929c - trans::debuginfo::StructMemberDescriptionFactory<'tcx>::create_member_descriptions::unboxed_closure.45482\n  11:        0x10d138e82 - vec::Vec<T>.FromIterator<T>::from_iter::h1395047669026947608\n  12:        0x10d1358bd - trans::debuginfo::StructMemberDescriptionFactory<'tcx>::create_member_descriptions::h153e84111a2448b60fF\n  13:        0x10d137b0d - trans::debuginfo::RecursiveTypeDescription<'tcx>::finalize::h0a20b015282159ecJdF\n  14:        0x10d1327a3 - trans::debuginfo::type_metadata::h594d4c508338d95dyZF\n  15:        0x10d1392d4 - trans::debuginfo::StructMemberDescriptionFactory<'tcx>::create_member_descriptions::unboxed_closure.45482\n  16:        0x10d138e82 - vec::Vec<T>.FromIterator<T>::from_iter::h1395047669026947608\n  17:        0x10d1358bd - trans::debuginfo::StructMemberDescriptionFactory<'tcx>::create_member_descriptions::h153e84111a2448b60fF\n  18:        0x10d137b0d - trans::debuginfo::RecursiveTypeDescription<'tcx>::finalize::h0a20b015282159ecJdF\n  19:        0x10d1327a3 - trans::debuginfo::type_metadata::h594d4c508338d95dyZF\n  20:        0x10d1392d4 - trans::debuginfo::StructMemberDescriptionFactory<'tcx>::create_member_descriptions::unboxed_closure.45482\n  21:        0x10d138e82 - vec::Vec<T>.FromIterator<T>::from_iter::h1395047669026947608\n  22:        0x10d1358bd - trans::debuginfo::StructMemberDescriptionFactory<'tcx>::create_member_descriptions::h153e84111a2448b60fF\n  23:        0x10d137b0d - trans::debuginfo::RecursiveTypeDescription<'tcx>::finalize::h0a20b015282159ecJdF\n  24:        0x10d1327a3 - trans::debuginfo::type_metadata::h594d4c508338d95dyZF\n  25:        0x10d13bc32 - trans::debuginfo::VariantMemberDescriptionFactory<'tcx>::create_member_descriptions::unboxed_closure.45516\n  26:        0x10d13b7f2 - vec::Vec<T>.FromIterator<T>::from_iter::h5500603777858505790\n  27:        0x10d13a28b - trans::debuginfo::EnumMemberDescriptionFactory<'tcx>::create_member_descriptions::unboxed_closure.45490\n  28:        0x10d139da2 - vec::Vec<T>.FromIterator<T>::from_iter::h14361925877225366780\n  29:        0x10d135b83 - trans::debuginfo::EnumMemberDescriptionFactory<'tcx>::create_member_descriptions::hdd1b6f55c4c7b16eYmF\n  30:        0x10d137b2b - trans::debuginfo::RecursiveTypeDescription<'tcx>::finalize::h0a20b015282159ecJdF\n  31:        0x10d131bf9 - trans::debuginfo::type_metadata::h594d4c508338d95dyZF\n  32:        0x10d13eca8 - trans::debuginfo::subroutine_type_metadata::h9bff0740736a5de7cVF\n  33:        0x10d13262f - trans::debuginfo::type_metadata::h594d4c508338d95dyZF\n  34:        0x10d0dba0b - trans::debuginfo::create_function_debug_context::h447bd3a847c41d0adzE\n  35:        0x10d03fb3e - trans::base::new_fn_ctxt::h80d01085022bea25Tzt\n  36:        0x10d0e04cd - trans::base::trans_closure::h32d8ee0946ac5386y0t\n  37:        0x10d006197 - trans::base::trans_fn::ha19d856a27ef8fdadbu\n  38:        0x10d007d13 - trans::monomorphize::monomorphic_fn::he3114699339f1503Fpd\n  39:        0x10d0578e9 - trans::callee::trans_fn_ref_with_substs::h8ab7a417361225b5Ixg\n  40:        0x10d0553e3 - trans::callee::trans_fn_ref::haab38ef68aad01e0Tlg\n  41:        0x10d052edc - trans::callee::trans::h30cee5a1ce99c1e8Aag\n  42:        0x10d05bbee - trans::callee::trans_call_inner::h17375577365636780878\n  43:        0x10d062823 - trans::expr::trans_rvalue_dps_unadjusted::h698caf6d437867f53Si\n  44:        0x10d06026a - trans::expr::trans_unadjusted::h527db00c397125ebQji\n  45:        0x10d01af76 - trans::expr::trans::he91bdea9edc285d3gCh\n  46:        0x10d02bda1 - trans::callee::trans_args::h5d1792d9a12db34czch\n  47:        0x10d05e00e - trans::callee::trans_call_inner::h15873392703759300422\n  48:        0x10d061296 - trans::expr::trans_rvalue_dps_unadjusted::h698caf6d437867f53Si\n  49:        0x10d019f6b - trans::expr::trans_into::hd03a9a170d995fabMyh\n  50:        0x10d115669 - trans::_match::mk_binding_alloca::h5771621100645690575\n  51:        0x10d019564 - trans::base::init_local::ha40ddf9a1cd925e6w9s\n  52:        0x10d01a826 - trans::controlflow::trans_block::h382e5b424a79fcedC3d\n  53:        0x10d0e290c - trans::base::trans_closure::h32d8ee0946ac5386y0t\n  54:        0x10d006197 - trans::base::trans_fn::ha19d856a27ef8fdadbu\n  55:        0x10d00183b - trans::base::trans_item::h5af943f055925df9yyu\n  56:        0x10d0e8a8c - trans::base::trans_crate::h1ae727bd77425dc1fuv\n  57:        0x10ceb5d74 - driver::phase_4_translate_to_llvm::h5abdfc397f265750YMa\n  58:        0x10ce97a36 - driver::compile_input::hb8b4e569f22b04afAba\n  59:        0x10cf54c40 - run_compiler::hfcb743c274cb2b48e5b\n  60:        0x10cf51fe3 - thunk::F.Invoke<A, R>::invoke::h5297055281723610762\n  61:        0x10cf50e48 - rt::unwind::try::try_fn::h6169901515804371881\n  62:        0x1106cf149 - rust_try_inner\n  63:        0x1106cf136 - rust_try\n  64:        0x10cf51486 - thunk::F.Invoke<A, R>::invoke::h14156849340732247684\n  65:        0x110650162 - sys::thread::thread_start::hd3418b70b5ddcf22IJw\n  66:     0x7fff8d7932fc - _pthread_body\n  67:     0x7fff8d793279 - _pthread_body\n\nCould not compile `subpaths`.\n```\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69866511/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69895911",
    "html_url": "https://github.com/rust-lang/rust/issues/20797#issuecomment-69895911",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20797",
    "id": 69895911,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5ODk1OTEx",
    "user": {
      "login": "michaelwoerister",
      "id": 1825894,
      "node_id": "MDQ6VXNlcjE4MjU4OTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1825894?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michaelwoerister",
      "html_url": "https://github.com/michaelwoerister",
      "followers_url": "https://api.github.com/users/michaelwoerister/followers",
      "following_url": "https://api.github.com/users/michaelwoerister/following{/other_user}",
      "gists_url": "https://api.github.com/users/michaelwoerister/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michaelwoerister/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michaelwoerister/subscriptions",
      "organizations_url": "https://api.github.com/users/michaelwoerister/orgs",
      "repos_url": "https://api.github.com/users/michaelwoerister/repos",
      "events_url": "https://api.github.com/users/michaelwoerister/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michaelwoerister/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-14T10:21:01Z",
    "updated_at": "2015-01-14T10:21:01Z",
    "body": "I'll take a closer look at this asap.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69895911/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69947098",
    "html_url": "https://github.com/rust-lang/rust/issues/20797#issuecomment-69947098",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20797",
    "id": 69947098,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5OTQ3MDk4",
    "user": {
      "login": "erickt",
      "id": 84711,
      "node_id": "MDQ6VXNlcjg0NzEx",
      "avatar_url": "https://avatars.githubusercontent.com/u/84711?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/erickt",
      "html_url": "https://github.com/erickt",
      "followers_url": "https://api.github.com/users/erickt/followers",
      "following_url": "https://api.github.com/users/erickt/following{/other_user}",
      "gists_url": "https://api.github.com/users/erickt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/erickt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/erickt/subscriptions",
      "organizations_url": "https://api.github.com/users/erickt/orgs",
      "repos_url": "https://api.github.com/users/erickt/repos",
      "events_url": "https://api.github.com/users/erickt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/erickt/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-14T16:44:45Z",
    "updated_at": "2015-01-14T16:44:45Z",
    "body": "@nikomatsakis / @michaelwoerister: I just ran into this other error as well. Here's my reduced test case:\n\n``` rust\ntrait DeclaredTrait {\n    type Type;\n}\nimpl DeclaredTrait for i32 {\n    type Type = i32;\n}\nstruct Struct<B: DeclaredTrait> {\n    b: B,\n    b1: B::Type,\n}\nfn main() {\n    let e = Struct {\n        b: 0,\n        b1: 0,\n    };\n}\n```\n\nErrors with:\n\n```\n% rustc --version\nrustc 1.0.0-nightly (3d0d9bb6f 2015-01-12 22:56:20 +0000)\n% rustc -g bad.rs\nbad.rs:8:5: 8:10 warning: struct field is never used: `b`, #[warn(dead_code)] on by default\nbad.rs:8     b : B,\n             ^~~~~\nbad.rs:9:5: 9:17 warning: struct field is never used: `b1`, #[warn(dead_code)] on by default\nbad.rs:9     b1 : B::Type,\n             ^~~~~~~~~~~~\nbad.rs:12:9: 12:10 warning: unused variable: `e`, #[warn(unused_variables)] on by default\nbad.rs:12     let e = Struct {\n                  ^\nerror: internal compiler error: type_of with ty_projection\nnote: the compiler unexpectedly panicked. this is a bug.\nnote: we would appreciate a bug report: http://doc.rust-lang.org/complement-bugreport.html\nnote: run with `RUST_BACKTRACE=1` for a backtrace\nthread 'rustc' panicked at 'Box<Any>', /Users/rustbuild/src/rust-buildbot/slave/nightly-dist-rustc-mac/build/src/libsyntax/diagnostic.rs:182\n\nstack backtrace:\n   1:        0x105ca1a2c - sys::backtrace::write::h27c3ddb426dd9587RUt\n   2:        0x105cc3a4f - failure::on_fail::h63fb027d8b3cc19ca1z\n   3:        0x105c302de - rt::unwind::begin_unwind_inner::hafe5720113b93d950Iz\n   4:        0x10394cdcf - rt::unwind::begin_unwind::h11195957873796278085\n   5:        0x10394d73b - diagnostic::Handler::bug::h8c0937a4743d025ctWF\n   6:        0x102f4bce0 - metadata::tydecode::parse_existential_bounds_::h1282082665815765083\n   7:        0x10268be98 - trans::type_of::type_of::h77cc5a392ec4c7efX1o\n   8:        0x10268b3a0 - trans::type_of::type_of::h77cc5a392ec4c7efX1o\n   9:        0x1027a391c - trans::debuginfo::StructMemberDescriptionFactory<'tcx>::create_member_descriptions::unboxed_closure.45662\n  10:        0x1027a3502 - vec::Vec<T>.FromIterator<T>::from_iter::h6250772183958048706\n  11:        0x10279f68d - trans::debuginfo::StructMemberDescriptionFactory<'tcx>::create_member_descriptions::hf67e5668f84ac65cZeF\n  12:        0x1027a218d - trans::debuginfo::RecursiveTypeDescription<'tcx>::finalize::h0585555c78b3f769IcF\n  13:        0x10279c5b3 - trans::debuginfo::type_metadata::h08ada392314e61a8xYF\n  14:        0x10279dc77 - trans::debuginfo::declare_local::hcf0a2c0d72819844iVE\n  15:        0x10279d4d3 - ast_util::walk_pat::walk_pat_::h4796394502832644510\n  16:        0x102683aef - trans::controlflow::trans_block::h9179bd0e311bbf71B3d\n  17:        0x10274d0ac - trans::base::trans_closure::h0a187eeead3ee5f9E0t\n  18:        0x10266f387 - trans::base::trans_fn::h5f00e8761486c618jbu\n  19:        0x10266a9cb - trans::base::trans_item::hb876c423cf52a967Eyu\n  20:        0x10275322c - trans::base::trans_crate::hd8e597ceb97fa3f8luv\n  21:        0x102516c44 - driver::phase_4_translate_to_llvm::hf1a267085ea57e05YMa\n  22:        0x1024f3a91 - driver::compile_input::ha4f10a5f4de94c11Aba\n  23:        0x1025bb380 - run_compiler::h0e39ba09c41b0c3de5b\n  24:        0x1025b8723 - thunk::F.Invoke<A, R>::invoke::h7667196022708996715\n  25:        0x1025b7588 - rt::unwind::try::try_fn::h602527677678223085\n  26:        0x105d2d8e9 - rust_try_inner\n  27:        0x105d2d8d6 - rust_try\n  28:        0x1025b7bc6 - thunk::F.Invoke<A, R>::invoke::h5116215899158159820\n  29:        0x105cb1232 - sys::thread::thread_start::hd67e9dc06fcd0bebIJw\n  30:     0x7fff9358c2fc - _pthread_body\n  31:     0x7fff9358c279 - _pthread_body\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69947098/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69949735",
    "html_url": "https://github.com/rust-lang/rust/issues/20797#issuecomment-69949735",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20797",
    "id": 69949735,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5OTQ5NzM1",
    "user": {
      "login": "michaelwoerister",
      "id": 1825894,
      "node_id": "MDQ6VXNlcjE4MjU4OTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1825894?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michaelwoerister",
      "html_url": "https://github.com/michaelwoerister",
      "followers_url": "https://api.github.com/users/michaelwoerister/followers",
      "following_url": "https://api.github.com/users/michaelwoerister/following{/other_user}",
      "gists_url": "https://api.github.com/users/michaelwoerister/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michaelwoerister/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michaelwoerister/subscriptions",
      "organizations_url": "https://api.github.com/users/michaelwoerister/orgs",
      "repos_url": "https://api.github.com/users/michaelwoerister/repos",
      "events_url": "https://api.github.com/users/michaelwoerister/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michaelwoerister/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-14T16:58:51Z",
    "updated_at": "2015-01-14T16:58:51Z",
    "body": "@nikomatsakis Is it expected behaviour that there are still `ty_projection` instances around in trans or should they all have been normalized away?\n\nIf `ty_projection` still does occur in trans then the debuginfo-related part of this issue should be easy to fix. If not then debuginfo is just the first piece of code to run into this error.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69949735/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69954560",
    "html_url": "https://github.com/rust-lang/rust/issues/20797#issuecomment-69954560",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20797",
    "id": 69954560,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5OTU0NTYw",
    "user": {
      "login": "erickt",
      "id": 84711,
      "node_id": "MDQ6VXNlcjg0NzEx",
      "avatar_url": "https://avatars.githubusercontent.com/u/84711?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/erickt",
      "html_url": "https://github.com/erickt",
      "followers_url": "https://api.github.com/users/erickt/followers",
      "following_url": "https://api.github.com/users/erickt/following{/other_user}",
      "gists_url": "https://api.github.com/users/erickt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/erickt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/erickt/subscriptions",
      "organizations_url": "https://api.github.com/users/erickt/orgs",
      "repos_url": "https://api.github.com/users/erickt/repos",
      "events_url": "https://api.github.com/users/erickt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/erickt/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-14T17:26:17Z",
    "updated_at": "2015-01-14T17:26:17Z",
    "body": "@michaelwoerister: not sure if you've talked to @nikomatsakis outside of github, but he told me yesterday that `ty_projection`s should be normalized away before it gets to debuginfo. So even though my \"fix\" in #20960 got things to compile, it wasn't actually the right way to fix this problem.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69954560/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69955665",
    "html_url": "https://github.com/rust-lang/rust/issues/20797#issuecomment-69955665",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20797",
    "id": 69955665,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5OTU1NjY1",
    "user": {
      "login": "michaelwoerister",
      "id": 1825894,
      "node_id": "MDQ6VXNlcjE4MjU4OTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1825894?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michaelwoerister",
      "html_url": "https://github.com/michaelwoerister",
      "followers_url": "https://api.github.com/users/michaelwoerister/followers",
      "following_url": "https://api.github.com/users/michaelwoerister/following{/other_user}",
      "gists_url": "https://api.github.com/users/michaelwoerister/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michaelwoerister/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michaelwoerister/subscriptions",
      "organizations_url": "https://api.github.com/users/michaelwoerister/orgs",
      "repos_url": "https://api.github.com/users/michaelwoerister/repos",
      "events_url": "https://api.github.com/users/michaelwoerister/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michaelwoerister/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-14T17:32:32Z",
    "updated_at": "2015-01-14T17:32:32Z",
    "body": "@erickt That answers my question then `:)` Anyway, I've thought about your fix a bit more and it isn't quite correct. It should always be the actual (i.e. normalized) type that goes into the unique type id. Once the associated types bugs are weeded out, I'll change the implementation there and make it ICE again when a `ty_projection` variant is encountered.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69955665/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69956571",
    "html_url": "https://github.com/rust-lang/rust/issues/20797#issuecomment-69956571",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20797",
    "id": 69956571,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5OTU2NTcx",
    "user": {
      "login": "erickt",
      "id": 84711,
      "node_id": "MDQ6VXNlcjg0NzEx",
      "avatar_url": "https://avatars.githubusercontent.com/u/84711?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/erickt",
      "html_url": "https://github.com/erickt",
      "followers_url": "https://api.github.com/users/erickt/followers",
      "following_url": "https://api.github.com/users/erickt/following{/other_user}",
      "gists_url": "https://api.github.com/users/erickt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/erickt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/erickt/subscriptions",
      "organizations_url": "https://api.github.com/users/erickt/orgs",
      "repos_url": "https://api.github.com/users/erickt/repos",
      "events_url": "https://api.github.com/users/erickt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/erickt/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-14T17:36:53Z",
    "updated_at": "2015-01-14T17:36:53Z",
    "body": "@michaelwoerister: chatting with @nikomatsakis just now in IRC and he says he believes he has already fixed it in his #20797 PR.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69956571/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69956574",
    "html_url": "https://github.com/rust-lang/rust/issues/20797#issuecomment-69956574",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20797",
    "id": 69956574,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5OTU2NTc0",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-14T17:36:53Z",
    "updated_at": "2015-01-14T17:36:53Z",
    "body": "Note that the original example as well as @erickt's [example](https://github.com/rust-lang/rust/issues/20797?#issuecomment-69947098) compiles for me when this PR is included: https://github.com/rust-lang/rust/pull/21107\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69956574/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69956608",
    "html_url": "https://github.com/rust-lang/rust/issues/20797#issuecomment-69956608",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20797",
    "id": 69956608,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5OTU2NjA4",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-14T17:37:08Z",
    "updated_at": "2015-01-14T17:37:08Z",
    "body": "er, what @erickt said :)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69956608/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69956761",
    "html_url": "https://github.com/rust-lang/rust/issues/20797#issuecomment-69956761",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20797",
    "id": 69956761,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5OTU2NzYx",
    "user": {
      "login": "michaelwoerister",
      "id": 1825894,
      "node_id": "MDQ6VXNlcjE4MjU4OTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1825894?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michaelwoerister",
      "html_url": "https://github.com/michaelwoerister",
      "followers_url": "https://api.github.com/users/michaelwoerister/followers",
      "following_url": "https://api.github.com/users/michaelwoerister/following{/other_user}",
      "gists_url": "https://api.github.com/users/michaelwoerister/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michaelwoerister/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michaelwoerister/subscriptions",
      "organizations_url": "https://api.github.com/users/michaelwoerister/orgs",
      "repos_url": "https://api.github.com/users/michaelwoerister/repos",
      "events_url": "https://api.github.com/users/michaelwoerister/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michaelwoerister/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-14T17:37:58Z",
    "updated_at": "2015-01-14T17:37:58Z",
    "body": "All the better then `:)`\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69956761/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/70058891",
    "html_url": "https://github.com/rust-lang/rust/issues/20797#issuecomment-70058891",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20797",
    "id": 70058891,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwMDU4ODkx",
    "user": {
      "login": "kinghajj",
      "id": 3409,
      "node_id": "MDQ6VXNlcjM0MDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3409?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kinghajj",
      "html_url": "https://github.com/kinghajj",
      "followers_url": "https://api.github.com/users/kinghajj/followers",
      "following_url": "https://api.github.com/users/kinghajj/following{/other_user}",
      "gists_url": "https://api.github.com/users/kinghajj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kinghajj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kinghajj/subscriptions",
      "organizations_url": "https://api.github.com/users/kinghajj/orgs",
      "repos_url": "https://api.github.com/users/kinghajj/repos",
      "events_url": "https://api.github.com/users/kinghajj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kinghajj/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-15T09:19:22Z",
    "updated_at": "2015-01-15T09:19:22Z",
    "body": "@nikomatsakis, I just tried my example with master@865e61c7 merged with your assoc-type-ice-hunt-take-1@2479dfcb, and still get an ICE.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/70058891/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/70331815",
    "html_url": "https://github.com/rust-lang/rust/issues/20797#issuecomment-70331815",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20797",
    "id": 70331815,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwMzMxODE1",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-16T22:18:50Z",
    "updated_at": "2015-01-16T22:18:50Z",
    "body": "@kinghajj not sure what to say, it certainly works for me.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/70331815/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/70331854",
    "html_url": "https://github.com/rust-lang/rust/issues/20797#issuecomment-70331854",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20797",
    "id": 70331854,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwMzMxODU0",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-16T22:19:10Z",
    "updated_at": "2015-01-16T22:19:10Z",
    "body": "(Using a slightly modified version of ee2bfae011e368e224d6d4f4c9fad13606ee99da)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/70331854/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/70336393",
    "html_url": "https://github.com/rust-lang/rust/issues/20797#issuecomment-70336393",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20797",
    "id": 70336393,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwMzM2Mzkz",
    "user": {
      "login": "bluss",
      "id": 3209739,
      "node_id": "MDQ6VXNlcjMyMDk3Mzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3209739?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bluss",
      "html_url": "https://github.com/bluss",
      "followers_url": "https://api.github.com/users/bluss/followers",
      "following_url": "https://api.github.com/users/bluss/following{/other_user}",
      "gists_url": "https://api.github.com/users/bluss/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bluss/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bluss/subscriptions",
      "organizations_url": "https://api.github.com/users/bluss/orgs",
      "repos_url": "https://api.github.com/users/bluss/repos",
      "events_url": "https://api.github.com/users/bluss/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bluss/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-16T22:57:50Z",
    "updated_at": "2015-01-16T22:57:50Z",
    "body": "@kinghajj Using rustc 1.0.0-dev (ee2bfae01 2015-01-16 13:10:59 +0000), your testcase does compile and the test passes. Compiled using `rustc --test testcase.rs`.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/70336393/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/70346759",
    "html_url": "https://github.com/rust-lang/rust/issues/20797#issuecomment-70346759",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20797",
    "id": 70346759,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwMzQ2NzU5",
    "user": {
      "login": "kinghajj",
      "id": 3409,
      "node_id": "MDQ6VXNlcjM0MDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3409?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kinghajj",
      "html_url": "https://github.com/kinghajj",
      "followers_url": "https://api.github.com/users/kinghajj/followers",
      "following_url": "https://api.github.com/users/kinghajj/following{/other_user}",
      "gists_url": "https://api.github.com/users/kinghajj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kinghajj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kinghajj/subscriptions",
      "organizations_url": "https://api.github.com/users/kinghajj/orgs",
      "repos_url": "https://api.github.com/users/kinghajj/repos",
      "events_url": "https://api.github.com/users/kinghajj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kinghajj/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-17T01:00:42Z",
    "updated_at": "2015-01-17T01:00:42Z",
    "body": "I've started building the latest rustc master, I'll get back when I can with my result. I'm sure you guys are right, though, and thanks for all your support!\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/70346759/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/70351842",
    "html_url": "https://github.com/rust-lang/rust/issues/20797#issuecomment-70351842",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20797",
    "id": 70351842,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwMzUxODQy",
    "user": {
      "login": "kinghajj",
      "id": 3409,
      "node_id": "MDQ6VXNlcjM0MDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3409?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kinghajj",
      "html_url": "https://github.com/kinghajj",
      "followers_url": "https://api.github.com/users/kinghajj/followers",
      "following_url": "https://api.github.com/users/kinghajj/following{/other_user}",
      "gists_url": "https://api.github.com/users/kinghajj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kinghajj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kinghajj/subscriptions",
      "organizations_url": "https://api.github.com/users/kinghajj/orgs",
      "repos_url": "https://api.github.com/users/kinghajj/repos",
      "events_url": "https://api.github.com/users/kinghajj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kinghajj/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-17T02:57:57Z",
    "updated_at": "2015-01-17T02:57:57Z",
    "body": "I was about to give some bad news, but bluss's command gave me an insight. I'm using rustc 1.0.0-dev (ed530d7a3 2015-01-16 22:41:16 +0000), and while `rustc --test lib.rs` does indeed work, `cargo test` still produces that error! I'm on cargo 0.0.1-pre-nightly (85b58e3 2015-01-13 22:14:44 +0000), for reference.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/70351842/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/70355633",
    "html_url": "https://github.com/rust-lang/rust/issues/20797#issuecomment-70355633",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20797",
    "id": 70355633,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwMzU1NjMz",
    "user": {
      "login": "cuviper",
      "id": 36186,
      "node_id": "MDQ6VXNlcjM2MTg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/36186?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cuviper",
      "html_url": "https://github.com/cuviper",
      "followers_url": "https://api.github.com/users/cuviper/followers",
      "following_url": "https://api.github.com/users/cuviper/following{/other_user}",
      "gists_url": "https://api.github.com/users/cuviper/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cuviper/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cuviper/subscriptions",
      "organizations_url": "https://api.github.com/users/cuviper/orgs",
      "repos_url": "https://api.github.com/users/cuviper/repos",
      "events_url": "https://api.github.com/users/cuviper/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cuviper/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-17T05:32:18Z",
    "updated_at": "2015-01-17T05:32:18Z",
    "body": "Add `-g` to include debuginfo, as cargo would.  I can reproduce the ICE with `-g`, and indeed it's fine without.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/70355633/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/70360273",
    "html_url": "https://github.com/rust-lang/rust/issues/20797#issuecomment-70360273",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20797",
    "id": 70360273,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwMzYwMjcz",
    "user": {
      "login": "bluss",
      "id": 3209739,
      "node_id": "MDQ6VXNlcjMyMDk3Mzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3209739?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bluss",
      "html_url": "https://github.com/bluss",
      "followers_url": "https://api.github.com/users/bluss/followers",
      "following_url": "https://api.github.com/users/bluss/following{/other_user}",
      "gists_url": "https://api.github.com/users/bluss/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bluss/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bluss/subscriptions",
      "organizations_url": "https://api.github.com/users/bluss/orgs",
      "repos_url": "https://api.github.com/users/bluss/repos",
      "events_url": "https://api.github.com/users/bluss/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bluss/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-17T09:16:19Z",
    "updated_at": "2015-01-17T09:16:19Z",
    "body": "@kinghajj We don't have your cargo project, so we can't try reproduce.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/70360273/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/70363825",
    "html_url": "https://github.com/rust-lang/rust/issues/20797#issuecomment-70363825",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20797",
    "id": 70363825,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwMzYzODI1",
    "user": {
      "login": "ruuda",
      "id": 506953,
      "node_id": "MDQ6VXNlcjUwNjk1Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/506953?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ruuda",
      "html_url": "https://github.com/ruuda",
      "followers_url": "https://api.github.com/users/ruuda/followers",
      "following_url": "https://api.github.com/users/ruuda/following{/other_user}",
      "gists_url": "https://api.github.com/users/ruuda/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ruuda/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ruuda/subscriptions",
      "organizations_url": "https://api.github.com/users/ruuda/orgs",
      "repos_url": "https://api.github.com/users/ruuda/repos",
      "events_url": "https://api.github.com/users/ruuda/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ruuda/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-17T11:37:19Z",
    "updated_at": "2015-01-17T11:47:18Z",
    "body": "I ran into an ICE which looks like #21292, so I am posting the details here.\n\n`rustc --version --verbose`:\n\n```\nrustc 1.0.0-nightly (8903c21d6 2015-01-15 22:42:58 +0000)\nbinary: rustc\ncommit-hash: 8903c21d618fd25dca61d9bb668c5299d21feac9\ncommit-date: 2015-01-15 22:42:58 +0000\nhost: x86_64-pc-windows-gnu\nrelease: 1.0.0-nightly\n```\n\nBacktrace:\n\n```\nerror: internal compiler error: type_of with ty_projection\nnote: the compiler unexpectedly panicked. this is a bug.\nnote: we would appreciate a bug report: http://doc.rust-lang.org/complement-bugreport.html\nnote: run with `RUST_BACKTRACE=1` for a backtrace\nthread 'rustc' panicked at 'Box<Any>', C:\\bot\\slave\\nightly-dist-rustc-win-64\\build\\src\\libsyntax\\diagnostic.rs:182\n\nstack backtrace:\n   1:         0x69beba0b - sys::backtrace::write::h2c4bbe6a26c9ec2cw9t\n   2:         0x69bff0a3 - rt::unwind::register::hcae04167a6124eaaeTz\n   3:         0x69b8363f - rt::unwind::begin_unwind_inner::h08078ef443debc4eNQz\n   4:         0x6f89baec - diagnostic::SpanHandler::span_bug::h1e8e97aea6f54bd6M0F\n   5:         0x6f89c421 - diagnostic::Handler::bug::h60d532eb9dd277d9S6F\n   6:           0x711f59 - session::Session::bug::h046df32b27f83592cbr\n   7:           0xfb9d68 - trans::cleanup::FunctionContext<'blk, 'tcx>.CleanupMethods<'blk, 'tcx>::push_custom_cleanup_scope::h464d2d3abcefaeb9VWK\n   8:           0xfba2ba - trans::cleanup::FunctionContext<'blk, 'tcx>.CleanupMethods<'blk, 'tcx>::push_custom_cleanup_scope::h464d2d3abcefaeb9VWK\n   9:           0xfb9fd0 - trans::cleanup::FunctionContext<'blk, 'tcx>.CleanupMethods<'blk, 'tcx>::push_custom_cleanup_scope::h464d2d3abcefaeb9VWK\n  10:           0xfb9aec - trans::cleanup::FunctionContext<'blk, 'tcx>.CleanupMethods<'blk, 'tcx>::push_custom_cleanup_scope::h464d2d3abcefaeb9VWK\n  11:          0x10cff05 - trans::debuginfo::UniqueTypeId...std..fmt..Show::fmt::h2fdc29f4a21f53d3PTD\n  12:          0x10cfb6a - trans::debuginfo::UniqueTypeId...std..fmt..Show::fmt::h2fdc29f4a21f53d3PTD\n  13:          0x10cc76f - trans::debuginfo::UniqueTypeId...std..fmt..Show::fmt::h2fdc29f4a21f53d3PTD\n  14:          0x10ce790 - trans::debuginfo::UniqueTypeId...std..fmt..Show::fmt::h2fdc29f4a21f53d3PTD\n  15:          0x10c9442 - trans::debuginfo::UniqueTypeId...std..fmt..Show::fmt::h2fdc29f4a21f53d3PTD\n  16:          0x10cff30 - trans::debuginfo::UniqueTypeId...std..fmt..Show::fmt::h2fdc29f4a21f53d3PTD\n  17:          0x10cfb6a - trans::debuginfo::UniqueTypeId...std..fmt..Show::fmt::h2fdc29f4a21f53d3PTD\n  18:          0x10cc76f - trans::debuginfo::UniqueTypeId...std..fmt..Show::fmt::h2fdc29f4a21f53d3PTD\n  19:          0x10ce790 - trans::debuginfo::UniqueTypeId...std..fmt..Show::fmt::h2fdc29f4a21f53d3PTD\n  20:          0x10c9442 - trans::debuginfo::UniqueTypeId...std..fmt..Show::fmt::h2fdc29f4a21f53d3PTD\n  21:          0x10d5996 - trans::debuginfo::UniqueTypeId...std..fmt..Show::fmt::h2fdc29f4a21f53d3PTD\n  22:          0x10c8958 - trans::debuginfo::UniqueTypeId...std..fmt..Show::fmt::h2fdc29f4a21f53d3PTD\n  23:          0x10723ea - trans::base::FindNestedReturn.Visitor<'v>::visit_expr::h2e47fdc8586e307bWut\n  24:           0xfd7608 - trans::base::StatRecorder<'a, 'tcx>.Drop::drop::h2388b1c31fcc139emWr\n  25:          0x1077252 - trans::base::IsUnboxedClosureFlag...std..clone..Clone::clone::h5e97d8ec7e80ca9e60t\n  26:           0xf9df82 - trans::context::CrateContext<'b, 'tcx>::sess::hd6cb1cf9ebd5d9301tm\n  27:           0xf9f54a - trans::context::CrateContext<'b, 'tcx>::sess::hd6cb1cf9ebd5d9301tm\n  28:           0xfee9ab - trans::common::ExprOrMethodCall...std..fmt..Show::fmt::haf69276d9baa0715WWl\n  29:           0xfec47e - trans::context::CrateContext<'b, 'tcx>::tn::hd0cb0f6fe17abe9eSwm\n  30:           0xfca539 - trans::cleanup::FunctionContext<'blk, 'tcx>.CleanupMethods<'blk, 'tcx>::pop_and_trans_custom_cleanup_scope::hfe6e646bf95998a716K\n  31:           0xff45e3 - trans::type_::Type...std..cmp..PartialEq::ne::h12a4f5f13238ba78UZJ\n  32:           0xff88ac - trans::type_::Type...std..cmp..PartialEq::ne::h12a4f5f13238ba78UZJ\n  33:           0xff76b9 - trans::type_::Type...std..cmp..PartialEq::ne::h12a4f5f13238ba78UZJ\n  34:           0xfb2d75 - trans::expr::Dest...std..cmp..PartialEq::eq::h3d06ba9fd9435851Mvh\n  35:           0xfc3b08 - trans::cleanup::FunctionContext<'blk, 'tcx>.CleanupMethods<'blk, 'tcx>::pop_custom_cleanup_scope::h7a9d35dce2d79c8834K\n  36:           0xff553a - trans::type_::Type...std..cmp..PartialEq::ne::h12a4f5f13238ba78UZJ\n  37:           0xff88ac - trans::type_::Type...std..cmp..PartialEq::ne::h12a4f5f13238ba78UZJ\n  38:           0xff76b9 - trans::type_::Type...std..cmp..PartialEq::ne::h12a4f5f13238ba78UZJ\n  39:           0xfb2d75 - trans::expr::Dest...std..cmp..PartialEq::eq::h3d06ba9fd9435851Mvh\n  40:           0xfff0fd - trans::type_::Type...std..cmp..PartialEq::ne::h12a4f5f13238ba78UZJ\n  41:           0xfb2006 - trans::cleanup::FunctionContext<'blk, 'tcx>.CleanupMethods<'blk, 'tcx>::pop_and_trans_ast_cleanup_scope::h571d6783ced12feft0K\n  42:           0xfb1158 - trans::cleanup::FunctionContext<'blk, 'tcx>.CleanupMethods<'blk, 'tcx>::push_ast_cleanup_scope::hb93f7672cd708912NPK\n  43:           0xfb262d - trans::cleanup::FunctionContext<'blk, 'tcx>.CleanupMethods<'blk, 'tcx>::pop_and_trans_ast_cleanup_scope::h571d6783ced12feft0K\n  44:          0x1079562 - trans::base::IsUnboxedClosureFlag...std..clone..Clone::clone::h5e97d8ec7e80ca9e60t\n  45:           0xf9df82 - trans::context::CrateContext<'b, 'tcx>::sess::hd6cb1cf9ebd5d9301tm\n  46:           0xf9f54a - trans::context::CrateContext<'b, 'tcx>::sess::hd6cb1cf9ebd5d9301tm\n  47:           0xfee9ab - trans::common::ExprOrMethodCall...std..fmt..Show::fmt::haf69276d9baa0715WWl\n  48:           0xfccab3 - trans::cleanup::FunctionContext<'blk, 'tcx>.CleanupMethods<'blk, 'tcx>::pop_and_trans_custom_cleanup_scope::hfe6e646bf95998a716K\n  49:           0xff45e3 - trans::type_::Type...std..cmp..PartialEq::ne::h12a4f5f13238ba78UZJ\n  50:           0xff88ac - trans::type_::Type...std..cmp..PartialEq::ne::h12a4f5f13238ba78UZJ\n  51:           0xfb1db1 - trans::cleanup::FunctionContext<'blk, 'tcx>.CleanupMethods<'blk, 'tcx>::pop_and_trans_ast_cleanup_scope::h571d6783ced12feft0K\n  52:           0xfb291f - trans::cleanup::FunctionContext<'blk, 'tcx>.CleanupMethods<'blk, 'tcx>::pop_and_trans_ast_cleanup_scope::h571d6783ced12feft0K\n  53:           0xff9944 - trans::type_::Type...std..cmp..PartialEq::ne::h12a4f5f13238ba78UZJ\n  54:           0xfb1db1 - trans::cleanup::FunctionContext<'blk, 'tcx>.CleanupMethods<'blk, 'tcx>::pop_and_trans_ast_cleanup_scope::h571d6783ced12feft0K\n  55:          0x1095233 - trans::cleanup::FunctionContext<'blk, 'tcx>.CleanupMethods<'blk, 'tcx>::schedule_drop_and_zero_mem::hed712752bdc94a84KeL\n  56:           0xff9614 - trans::type_::Type...std..cmp..PartialEq::ne::h12a4f5f13238ba78UZJ\n  57:           0xfb1db1 - trans::cleanup::FunctionContext<'blk, 'tcx>.CleanupMethods<'blk, 'tcx>::pop_and_trans_ast_cleanup_scope::h571d6783ced12feft0K\n  58:           0xfb291f - trans::cleanup::FunctionContext<'blk, 'tcx>.CleanupMethods<'blk, 'tcx>::pop_and_trans_ast_cleanup_scope::h571d6783ced12feft0K\n  59:          0x1079562 - trans::base::IsUnboxedClosureFlag...std..clone..Clone::clone::h5e97d8ec7e80ca9e60t\n  60:           0xf9df82 - trans::context::CrateContext<'b, 'tcx>::sess::hd6cb1cf9ebd5d9301tm\n  61:           0xf9a231 - trans::context::CrateContext<'b, 'tcx>::stats::h064e64c108f865e3XGm\n  62:          0x107af88 - trans::cleanup::FunctionContext<'blk, 'tcx>.CleanupMethods<'blk, 'tcx>::push_custom_cleanup_scope_with_debug_loc::h76b9726feef793e0NYK\n  63:           0xf99722 - trans::context::CrateContext<'b, 'tcx>::stats::h064e64c108f865e3XGm\n  64:          0x107f6c8 - trans::base::trans_crate::h3ae41358cc04fdd1cvv\n  65:         0x70b240ca - driver::phase_4_translate_to_llvm::h1e5993987ab6d536YMa\n  66:         0x70b0264d - driver::compile_input::ha5dff1685b5f89bbAba\n  67:         0x70bc0037 - run::he5c8e3699f0298dcM4b\n  68:         0x70bbe3b8 - run::he5c8e3699f0298dcM4b\n  69:         0x70bbd23a - run::he5c8e3699f0298dcM4b\n  70:         0x69c28c0c - rust_try\n  71:         0x69c28be9 - rust_try\n  72:         0x70bbd86f - run::he5c8e3699f0298dcM4b\n  73:         0x69bf1002 - sys::tcp::TcpListener::bind::he3cbb57691b44c3fZGw\n  74:         0x774f59ed - BaseThreadInitThunk\n```\n\nThe code that ICEs is here: https://github.com/ruud-v-a/image/tree/ice-8903c21d6. `cargo build` (for `cargo 0.0.1-pre-nightly (8154255 2015-01-14 19:14:12 +0000)`) triggers the ICE. I am sorry for not producing a minimal example, but I hope this information might still be useful. **Edit**: While it does ICE for `cargo build`, it does not for `cargo build --release`.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/70363825/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/70366494",
    "html_url": "https://github.com/rust-lang/rust/issues/20797#issuecomment-70366494",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20797",
    "id": 70366494,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwMzY2NDk0",
    "user": {
      "login": "michaelwoerister",
      "id": 1825894,
      "node_id": "MDQ6VXNlcjE4MjU4OTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1825894?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michaelwoerister",
      "html_url": "https://github.com/michaelwoerister",
      "followers_url": "https://api.github.com/users/michaelwoerister/followers",
      "following_url": "https://api.github.com/users/michaelwoerister/following{/other_user}",
      "gists_url": "https://api.github.com/users/michaelwoerister/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michaelwoerister/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michaelwoerister/subscriptions",
      "organizations_url": "https://api.github.com/users/michaelwoerister/orgs",
      "repos_url": "https://api.github.com/users/michaelwoerister/repos",
      "events_url": "https://api.github.com/users/michaelwoerister/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michaelwoerister/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-17T13:12:31Z",
    "updated_at": "2015-01-17T13:12:31Z",
    "body": "Here is a debugging output trace of compiling the initial example:\n\n```\nDEBUG:rustc_trans::trans::debuginfo: type_metadata: fn(&std::path::posix::Path) -> core::result::Result<Subpaths<Recursive>, std::io::IoError> {Subpaths<S>::walk}\nDEBUG:rustc_trans::trans::debuginfo: type_metadata: core::result::Result<Subpaths<Recursive>, std::io::IoError>\nDEBUG:rustc_trans::trans::debuginfo: type_metadata: Subpaths<Recursive>\nDEBUG:rustc_trans::trans::debuginfo: debuginfo: Create struct member description for field 'stack' at index 0 with type collections::vec::Vec<<Recursive as Strategy>::P>\nDEBUG:rustc_trans::trans::debuginfo: type_metadata: collections::vec::Vec<<Recursive as Strategy>::P>\nDEBUG:rustc_trans::trans::debuginfo: debuginfo: Create struct member description for field 'ptr' at index 0 with type core::nonzero::NonZero<*mut <Recursive as Strategy>::P>\nDEBUG:rustc_trans::trans::debuginfo: type_metadata: core::nonzero::NonZero<*mut <Recursive as Strategy>::P>\nDEBUG:rustc_trans::trans::debuginfo: debuginfo: Create struct member description for unnamed field at index 0 with type *mut <Recursive as Strategy>::P\n```\n\nThe problem is the `ty_projection` instance within the type of the field. It would be easy to fix this by 'normalizing' the field type then and there but I don't know if `ty_projection` should still show up this late in the compilation process, or if all instances should have been normalized out before.\n\n@nikomatsakis, I'm assuming you are the one to make this call: Should I normalize in `trans::debuginfo` or is this something that should be fixed in an earlier phase?\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/70366494/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/70377328",
    "html_url": "https://github.com/rust-lang/rust/issues/20797#issuecomment-70377328",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20797",
    "id": 70377328,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwMzc3MzI4",
    "user": {
      "login": "sfackler",
      "id": 1455697,
      "node_id": "MDQ6VXNlcjE0NTU2OTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sfackler",
      "html_url": "https://github.com/sfackler",
      "followers_url": "https://api.github.com/users/sfackler/followers",
      "following_url": "https://api.github.com/users/sfackler/following{/other_user}",
      "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions",
      "organizations_url": "https://api.github.com/users/sfackler/orgs",
      "repos_url": "https://api.github.com/users/sfackler/repos",
      "events_url": "https://api.github.com/users/sfackler/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sfackler/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-17T18:09:00Z",
    "updated_at": "2015-01-17T18:09:00Z",
    "body": "@bluss `rustc -g --test <the code in the original post>`.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/70377328/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/70675952",
    "html_url": "https://github.com/rust-lang/rust/issues/20797#issuecomment-70675952",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20797",
    "id": 70675952,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwNjc1OTUy",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-20T15:52:44Z",
    "updated_at": "2015-01-20T15:52:44Z",
    "body": "(Ah, I no doubt wasn't running with `-g`.)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/70675952/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/70676124",
    "html_url": "https://github.com/rust-lang/rust/issues/20797#issuecomment-70676124",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20797",
    "id": 70676124,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwNjc2MTI0",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-20T15:53:40Z",
    "updated_at": "2015-01-20T15:53:40Z",
    "body": "@michaelwoerister you can and should normalize in the debuginfo pass, basically at the same times when you apply substitutes (e.g., when you extract the field out of a struct definition and monomorphize it by substituting the values for the struct's type parameters)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/70676124/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/70956283",
    "html_url": "https://github.com/rust-lang/rust/issues/20797#issuecomment-70956283",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20797",
    "id": 70956283,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwOTU2Mjgz",
    "user": {
      "login": "carllerche",
      "id": 6180,
      "node_id": "MDQ6VXNlcjYxODA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6180?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/carllerche",
      "html_url": "https://github.com/carllerche",
      "followers_url": "https://api.github.com/users/carllerche/followers",
      "following_url": "https://api.github.com/users/carllerche/following{/other_user}",
      "gists_url": "https://api.github.com/users/carllerche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/carllerche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/carllerche/subscriptions",
      "organizations_url": "https://api.github.com/users/carllerche/orgs",
      "repos_url": "https://api.github.com/users/carllerche/repos",
      "events_url": "https://api.github.com/users/carllerche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/carllerche/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-22T01:28:10Z",
    "updated_at": "2015-01-22T01:28:10Z",
    "body": "cc me, I started hitting this issue as well.\n\nRust version: rustc 1.0.0-nightly (29bd9a06e 2015-01-20 23:03:09 +0000)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/70956283/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/71002873",
    "html_url": "https://github.com/rust-lang/rust/issues/20797#issuecomment-71002873",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20797",
    "id": 71002873,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxMDAyODcz",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-22T10:50:32Z",
    "updated_at": "2015-01-22T10:55:37Z",
    "body": "I'm going to re-open this issue, I think that the regression test failed to cover the use of `-g`\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/71002873/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/71138064",
    "html_url": "https://github.com/rust-lang/rust/issues/20797#issuecomment-71138064",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20797",
    "id": 71138064,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxMTM4MDY0",
    "user": {
      "login": "jpernst",
      "id": 877878,
      "node_id": "MDQ6VXNlcjg3Nzg3OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/877878?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jpernst",
      "html_url": "https://github.com/jpernst",
      "followers_url": "https://api.github.com/users/jpernst/followers",
      "following_url": "https://api.github.com/users/jpernst/following{/other_user}",
      "gists_url": "https://api.github.com/users/jpernst/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jpernst/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jpernst/subscriptions",
      "organizations_url": "https://api.github.com/users/jpernst/orgs",
      "repos_url": "https://api.github.com/users/jpernst/repos",
      "events_url": "https://api.github.com/users/jpernst/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jpernst/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-23T02:26:57Z",
    "updated_at": "2015-01-23T02:26:57Z",
    "body": "cc me, started getting this after a large refactor.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/71138064/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/71248248",
    "html_url": "https://github.com/rust-lang/rust/issues/20797#issuecomment-71248248",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20797",
    "id": 71248248,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxMjQ4MjQ4",
    "user": {
      "login": "kinghajj",
      "id": 3409,
      "node_id": "MDQ6VXNlcjM0MDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3409?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kinghajj",
      "html_url": "https://github.com/kinghajj",
      "followers_url": "https://api.github.com/users/kinghajj/followers",
      "following_url": "https://api.github.com/users/kinghajj/following{/other_user}",
      "gists_url": "https://api.github.com/users/kinghajj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kinghajj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kinghajj/subscriptions",
      "organizations_url": "https://api.github.com/users/kinghajj/orgs",
      "repos_url": "https://api.github.com/users/kinghajj/repos",
      "events_url": "https://api.github.com/users/kinghajj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kinghajj/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-23T19:16:24Z",
    "updated_at": "2015-01-23T19:16:24Z",
    "body": "I'm very happy to report that my example now compiles without error using `rustc 1.0.0-dev (86fbdbfbc 2015-01-23 12:02:27 +0000)`. I was able to change `PathExtensions::is_dir(&path)` to `path.is_dir()`, too. Thanks to all involved!\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/71248248/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
