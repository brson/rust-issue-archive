[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23736157",
    "html_url": "https://github.com/rust-lang/rust/pull/8955#issuecomment-23736157",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8955",
    "id": 23736157,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzNzM2MTU3",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-09-03T18:34:50Z",
    "updated_at": "2013-09-03T18:34:50Z",
    "body": "r? @alexcrichton\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23736157/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23744923",
    "html_url": "https://github.com/rust-lang/rust/pull/8955#issuecomment-23744923",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8955",
    "id": 23744923,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzNzQ0OTIz",
    "user": {
      "login": "thestinger",
      "id": 1505226,
      "node_id": "MDQ6VXNlcjE1MDUyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thestinger",
      "html_url": "https://github.com/thestinger",
      "followers_url": "https://api.github.com/users/thestinger/followers",
      "following_url": "https://api.github.com/users/thestinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions",
      "organizations_url": "https://api.github.com/users/thestinger/orgs",
      "repos_url": "https://api.github.com/users/thestinger/repos",
      "events_url": "https://api.github.com/users/thestinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thestinger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-09-03T20:38:24Z",
    "updated_at": "2013-09-03T20:38:24Z",
    "body": "I don't think this is the right approach, because it means all functions must be treated as `unsafe`. The `__morestack` function should be pluggable at compile-time to allow you to supply one not using TLS and aborting on out-of-stack.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23744923/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23748139",
    "html_url": "https://github.com/rust-lang/rust/pull/8955#issuecomment-23748139",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8955",
    "id": 23748139,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzNzQ4MTM5",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-09-03T21:23:46Z",
    "updated_at": "2013-09-03T21:23:46Z",
    "body": "@thestinger __morestack is pluggable afaik: just link to a library providing it. It's the _prolog_ to before-calling it that's the problem.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23748139/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23766010",
    "html_url": "https://github.com/rust-lang/rust/pull/8955#issuecomment-23766010",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8955",
    "id": 23766010,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzNzY2MDEw",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-09-04T04:54:59Z",
    "updated_at": "2013-09-04T04:54:59Z",
    "body": "This is certainly a tricky topic. There's debate about what to do about stacks and what's necessary in various places, and I don't think that this should be merged as-is.\n\nI wrote up my opinions [in another bug](https://github.com/mozilla/rust/issues/8345#issuecomment-22210888) about this issue. I think that additionally this can cause lots of problems in linking with various libraries.\n\nIt seems to me that you shouldn't be able to mix crates of split stacks and no split stacks. Additionally, no split stacks essentially means that you shouldn't be running with the runtime either, so it shouldn't link that in either. The discussion in that bug kinda petered out, but I think that this warrants more discussion to settle on a strategy for how to manage stacks. There'd also been some discussion in the `#[stack]` attribute bug, but not quite along the lines of this.\n\nI would love to see something like this merged though, although it definitely needs to be done very carefully. Right now the specific things which I would want to see (or also just discussed about seeing) would be:\n- I think this should be specified as a crate attribute instead of a `-Z` flag\n- You shouldn't be able to mix crates that have different settings of split stacks.\n- This crate-level attribute should disable all `fixed_stack_segment` checks in ffi functions\n- Any functions encountered with `fixed_stack_segment` should possibly be warned/errored about\n- This still links crates without segmented stacks to `librustrt` and `libmorestack` which is dubious (mostly the libmorestack part)\n\nA concrete use case for this would be useful to design around. Right now my best idea for this is a very basic kernel. You don't necessarily need stack checks in kernels, and you're definitely not using `libstd` at all.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23766010/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23766322",
    "html_url": "https://github.com/rust-lang/rust/pull/8955#issuecomment-23766322",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8955",
    "id": 23766322,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzNzY2MzIy",
    "user": {
      "login": "thestinger",
      "id": 1505226,
      "node_id": "MDQ6VXNlcjE1MDUyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thestinger",
      "html_url": "https://github.com/thestinger",
      "followers_url": "https://api.github.com/users/thestinger/followers",
      "following_url": "https://api.github.com/users/thestinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions",
      "organizations_url": "https://api.github.com/users/thestinger/orgs",
      "repos_url": "https://api.github.com/users/thestinger/repos",
      "events_url": "https://api.github.com/users/thestinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thestinger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-09-04T05:07:20Z",
    "updated_at": "2013-09-04T05:08:40Z",
    "body": "You do still need overflow checks if Rust is going to keep up the semblance of safety. A stack overrun is an exploitable vulnerability, so functions with them omitted are unsafe.\n\nSegmented stacks and stack safety are separate topics. Rust _always_ needs to provide safety from stack overruns in functions not marked `unsafe`. Stack growth is definitely not required for accurate accounting of stack usage per-thread/task.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23766322/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23787982",
    "html_url": "https://github.com/rust-lang/rust/pull/8955#issuecomment-23787982",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8955",
    "id": 23787982,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzNzg3OTgy",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-09-04T13:18:20Z",
    "updated_at": "2013-09-04T13:18:20Z",
    "body": "@alexcrichton yup: my sample usecase driving this work is indeed a kernel.\n\nIn my environment I am going to use guard pages, but for MMU-less environments with small amounts of flash (cortex m0 comes to mind), the prolog is going to hurt code size a lot. Is there an alternative to something functionally equivalent to this patch?\n\nI agree that omitting stack size checking is unsafe. Perhaps the attribute could be `#[unsafe_no_stack_size_check]`?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23787982/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23791140",
    "html_url": "https://github.com/rust-lang/rust/pull/8955#issuecomment-23791140",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8955",
    "id": 23791140,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzNzkxMTQw",
    "user": {
      "login": "auroranockert",
      "id": 49616,
      "node_id": "MDQ6VXNlcjQ5NjE2",
      "avatar_url": "https://avatars.githubusercontent.com/u/49616?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/auroranockert",
      "html_url": "https://github.com/auroranockert",
      "followers_url": "https://api.github.com/users/auroranockert/followers",
      "following_url": "https://api.github.com/users/auroranockert/following{/other_user}",
      "gists_url": "https://api.github.com/users/auroranockert/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/auroranockert/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/auroranockert/subscriptions",
      "organizations_url": "https://api.github.com/users/auroranockert/orgs",
      "repos_url": "https://api.github.com/users/auroranockert/repos",
      "events_url": "https://api.github.com/users/auroranockert/events{/privacy}",
      "received_events_url": "https://api.github.com/users/auroranockert/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-09-04T14:02:07Z",
    "updated_at": "2013-09-04T14:02:36Z",
    "body": "I'm not sure what my final opinion on this is, but I'll chime in with an anecdote.\n\nI'm currently writing some Rust code for Cortex M3/M4 (thumb1/2-only ARM cores without MMUs) and I don't really care about stack, the stack simply grows until I overwrite the heap, and if I overflow, it will crash the entire system with or without segmented stacks, since if I run over, I will have run out of heap as well, no chance of recovery.\n\nBut the price is double, since without an MMU, checking for overflow is extra expensive as well, since we cannot simply use a guard page. But have to check the size of the heap vs. the size of the stack and see if it overflows total memory. (And with 256k flash, every bit is precious)\n\nI don't want to mark everything unsafe, but I am well aware that stack overflows are an issue. In this case, I think disabling segmented stacks would make total sense.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23791140/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23820662",
    "html_url": "https://github.com/rust-lang/rust/pull/8955#issuecomment-23820662",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8955",
    "id": 23820662,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzODIwNjYy",
    "user": {
      "login": "thestinger",
      "id": 1505226,
      "node_id": "MDQ6VXNlcjE1MDUyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thestinger",
      "html_url": "https://github.com/thestinger",
      "followers_url": "https://api.github.com/users/thestinger/followers",
      "following_url": "https://api.github.com/users/thestinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions",
      "organizations_url": "https://api.github.com/users/thestinger/orgs",
      "repos_url": "https://api.github.com/users/thestinger/repos",
      "events_url": "https://api.github.com/users/thestinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thestinger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-09-04T20:19:11Z",
    "updated_at": "2013-09-04T20:23:20Z",
    "body": "Overflowing the stack is an exploitable bug, and will not necessarily crash the system right away. Especially if you have multiple threads, the stacks will overrun into each other. Segmented stacks are **not a requirement for stack safety** - something Rust does have to provide as part of the contract in safe functions.\n\nIf you do have a guard page or multiple guard pages, you still need the compiler to know how large they are so it can insert checks into functions allocating more than that size. In my opinion, if we're going to provide the option to disable them, we're going to need to implement that along with a method working without guard pages (just `__morestack` with abort).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23820662/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23847252",
    "html_url": "https://github.com/rust-lang/rust/pull/8955#issuecomment-23847252",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8955",
    "id": 23847252,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzODQ3MjUy",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-09-05T06:57:10Z",
    "updated_at": "2013-09-05T06:57:10Z",
    "body": "From these discussions, I would be OK with the following course of action. We have two different modes of stacks. One is segmented stacks, one is stack-overflow checks. Segmented stacks would be as is today where there's a silent contract with the OS that the stack limit is stored in a very special and easily accessible location.\n\nWith stack-overflow checks, we would have a silent contract with whatever runtime is in place that there is a guard page at the end of the stack (triggering a fault if it is hit). The compiler will then insert calls to a function called `__chkstk` (or something like that) in any function which allocates more than a page of stack. This `__chkstk` function is _not_ pre-defined (unless we have something like another profile of libstd/librustrt). The reason that this isn't part of every function is that it's way too much overhead for _all_ functions to call this `__chkstk` function.\n\nThat way the use cases can be as follows:\n- Normal rust user - segmented stacks\n- Normal rust user who doesn't want segmented stacks - use the alternate version of libstd/librustrt which has tasks disabled but supplies a rust-maintained version of `__chkstk`\n- Kernel writers - disable segmented stacks and can implement `__chkstk` depending on how fancy their kernel is.\n- Embedded systems writers - disable segmented stacks and have `__chkstk` to be a no-op\n\nThat way everyone is always forced to think about stack protection and the stack being overflown. You can opt out of actually performing the check (`__chkstk` is a no-op), but you must explicitly do so more than once.\n\nEven with this method I would want most of the requirements I laid out above (especially about mixing crates with different types of stacks), but those are implementation details.\n\nWhat do you guys think of this?\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23847252/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23868463",
    "html_url": "https://github.com/rust-lang/rust/pull/8955#issuecomment-23868463",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8955",
    "id": 23868463,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzODY4NDYz",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-09-05T13:46:25Z",
    "updated_at": "2013-09-05T13:46:25Z",
    "body": "@alexcrichton that looks great to me, except the following:\n\n> The compiler will then insert calls to a function called __chkstk (or something like that) in any function which allocates more than a page of stack.\n\nWhy does only checking when using more than a page make sense, and how would it be implemented? If you need 32 bytes of stack and you're near the page boundary, you're going to spill into the next page anyway. I don't really see why it's harmful.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23868463/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23914779",
    "html_url": "https://github.com/rust-lang/rust/pull/8955#issuecomment-23914779",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8955",
    "id": 23914779,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzOTE0Nzc5",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-09-06T02:10:19Z",
    "updated_at": "2013-09-06T02:10:19Z",
    "body": "This is the idea of a guard page. Whenever a small function overflows the stack, it'll guarantee to trigger a segfault when writing to the guard page (which is when it's reallocated and the instruction is retried). Large function's aren't guaranteed to hit the guard page though so they need the check function.\n\nImplementation-wise `__chkstk` would receive the amount of stack requested, and it will check the current stack limit and see if it's inbounds, if not it will allocate more stack, set up a new guard page, and return.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23914779/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23916426",
    "html_url": "https://github.com/rust-lang/rust/pull/8955#issuecomment-23916426",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8955",
    "id": 23916426,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzOTE2NDI2",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-09-06T03:11:24Z",
    "updated_at": "2013-09-06T03:11:24Z",
    "body": "@alexcrichton that doesn't help if you don't have an MMU\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23916426/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23916560",
    "html_url": "https://github.com/rust-lang/rust/pull/8955#issuecomment-23916560",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8955",
    "id": 23916560,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzOTE2NTYw",
    "user": {
      "login": "thestinger",
      "id": 1505226,
      "node_id": "MDQ6VXNlcjE1MDUyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thestinger",
      "html_url": "https://github.com/thestinger",
      "followers_url": "https://api.github.com/users/thestinger/followers",
      "following_url": "https://api.github.com/users/thestinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions",
      "organizations_url": "https://api.github.com/users/thestinger/orgs",
      "repos_url": "https://api.github.com/users/thestinger/repos",
      "events_url": "https://api.github.com/users/thestinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thestinger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-09-06T03:17:09Z",
    "updated_at": "2013-09-06T03:17:09Z",
    "body": "If you don't have an MMU, you need the thread (or task) local `__morestack` calling abort on overflow.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23916560/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23916606",
    "html_url": "https://github.com/rust-lang/rust/pull/8955#issuecomment-23916606",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8955",
    "id": 23916606,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzOTE2NjA2",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-09-06T03:19:35Z",
    "updated_at": "2013-09-06T03:19:35Z",
    "body": "Ok, fair enough.\n\nOn Thu, Sep 5, 2013 at 11:17 PM, Daniel Micay notifications@github.comwrote:\n\n> If you don't have an MMU, you need the thread (or task) local __morestackcalling abort on overflow.\n> \n> \u2014\n> Reply to this email directly or view it on GitHubhttps://github.com/mozilla/rust/pull/8955#issuecomment-23916560\n> .\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23916606/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23916609",
    "html_url": "https://github.com/rust-lang/rust/pull/8955#issuecomment-23916609",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8955",
    "id": 23916609,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzOTE2NjA5",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-09-06T03:19:42Z",
    "updated_at": "2013-09-06T03:19:42Z",
    "body": "Hmm, so I would revise my strategy to there would be a strict/documented `__morestack` contract (where the stack limit is stored) and then there should be an option to not use `libmorestack`, but rather provide your own. That way if you don't have an MMU you can still have stack safety if you want.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23916609/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23916655",
    "html_url": "https://github.com/rust-lang/rust/pull/8955#issuecomment-23916655",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8955",
    "id": 23916655,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzOTE2NjU1",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-09-06T03:21:31Z",
    "updated_at": "2013-09-06T03:21:31Z",
    "body": "So perhaps there is another function, __get_stack_size, that users also\nimplement if they need to? I know LLVM does it for us, is there a way to\nconfigure what it does?\n\nOn Thu, Sep 5, 2013 at 11:19 PM, Alex Crichton notifications@github.comwrote:\n\n> Hmm, so I would revise my strategy to there would be a strict/documented\n> __morestack contract (where the stack limit is stored) and then there\n> should be an option to not use libmorestack, but rather provide your own.\n> That way if you don't have an MMU you can still have stack safety if you\n> want.\n> \n> \u2014\n> Reply to this email directly or view it on GitHubhttps://github.com/mozilla/rust/pull/8955#issuecomment-23916609\n> .\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23916655/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23916696",
    "html_url": "https://github.com/rust-lang/rust/pull/8955#issuecomment-23916696",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8955",
    "id": 23916696,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzOTE2Njk2",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-09-06T03:23:19Z",
    "updated_at": "2013-09-06T03:23:19Z",
    "body": "Sadly I don't think that a segmented-stack scheme could be performant at all if you double all function calls by default (by calling `__get_stack_size`), so to be reasonable I think that they'd have to be stored in defined locations.\n\nI'm not actually sure where that's initialized for us. I _think_ that we do it somewhere between `rt::start` and the main closure, but I wouldn't guarantee that.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23916696/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23917084",
    "html_url": "https://github.com/rust-lang/rust/pull/8955#issuecomment-23917084",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8955",
    "id": 23917084,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzOTE3MDg0",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-09-06T03:39:22Z",
    "updated_at": "2013-09-06T03:39:22Z",
    "body": "I imagine inlining and constant propagation would take care of us.\n\nOn Thu, Sep 5, 2013 at 11:23 PM, Alex Crichton notifications@github.comwrote:\n\n> Sadly I don't think that a segmented-stack scheme could be performant at\n> all if you double all function calls by default (by calling\n> __get_stack_size), so to be reasonable I think that they'd have to be\n> stored in defined locations.\n> \n> I'm not actually sure where that's initialized for us. I _think_ that we\n> do it somewhere between rt::start and the main closure, but I wouldn't\n> guarantee that.\n> \n> \u2014\n> Reply to this email directly or view it on GitHubhttps://github.com/mozilla/rust/pull/8955#issuecomment-23916696\n> .\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23917084/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23917357",
    "html_url": "https://github.com/rust-lang/rust/pull/8955#issuecomment-23917357",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8955",
    "id": 23917357,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzOTE3MzU3",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-09-06T03:51:37Z",
    "updated_at": "2013-09-06T03:51:37Z",
    "body": "It depends, I think that would fall under the category of link-time-optimization because the `__get_stack_size` function would likely be in a library (not always), and rust currently doesn't do that.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23917357/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23917381",
    "html_url": "https://github.com/rust-lang/rust/pull/8955#issuecomment-23917381",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8955",
    "id": 23917381,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzOTE3Mzgx",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-09-06T03:52:24Z",
    "updated_at": "2013-09-06T03:52:24Z",
    "body": "Ok, sure.\n\nOn Thu, Sep 5, 2013 at 11:51 PM, Alex Crichton notifications@github.comwrote:\n\n> It depends, I think that would fall under the category of\n> link-time-optimization because the __get_stack_size function would likely\n> be in a library (not always), and rust currently doesn't do that.\n> \n> \u2014\n> Reply to this email directly or view it on GitHubhttps://github.com/mozilla/rust/pull/8955#issuecomment-23917357\n> .\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23917381/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23928946",
    "html_url": "https://github.com/rust-lang/rust/pull/8955#issuecomment-23928946",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8955",
    "id": 23928946,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzOTI4OTQ2",
    "user": {
      "login": "auroranockert",
      "id": 49616,
      "node_id": "MDQ6VXNlcjQ5NjE2",
      "avatar_url": "https://avatars.githubusercontent.com/u/49616?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/auroranockert",
      "html_url": "https://github.com/auroranockert",
      "followers_url": "https://api.github.com/users/auroranockert/followers",
      "following_url": "https://api.github.com/users/auroranockert/following{/other_user}",
      "gists_url": "https://api.github.com/users/auroranockert/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/auroranockert/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/auroranockert/subscriptions",
      "organizations_url": "https://api.github.com/users/auroranockert/orgs",
      "repos_url": "https://api.github.com/users/auroranockert/repos",
      "events_url": "https://api.github.com/users/auroranockert/events{/privacy}",
      "received_events_url": "https://api.github.com/users/auroranockert/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-09-06T09:33:30Z",
    "updated_at": "2013-09-06T09:33:30Z",
    "body": "@alexcrichton: Wouldn't something like this make more sense?\n- Normal rust user - use fixed size (huge) stacks, for fast FFI, but checked for overflow\n- Normal rust user with small amounts of virtual memory (Some 32-bit systems, systems without overcommit, &c.) - enables segmented stacks, at the cost of slow FFI and some other stuff semi-randomly breaking (like some llvm intrinsics).\n- Kernel writers / Embedded systems writers / Others with special needs - Implements their own __chkstk.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23928946/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23946717",
    "html_url": "https://github.com/rust-lang/rust/pull/8955#issuecomment-23946717",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8955",
    "id": 23946717,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzOTQ2NzE3",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-09-06T15:12:22Z",
    "updated_at": "2013-09-06T15:12:22Z",
    "body": "fwiw, the usual strategy is not `__chkstk` but rather that the prologue stores a value once every `N-kbytes` where `N` is the size of a page.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23946717/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23952681",
    "html_url": "https://github.com/rust-lang/rust/pull/8955#issuecomment-23952681",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8955",
    "id": 23952681,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzOTUyNjgx",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-09-06T16:31:26Z",
    "updated_at": "2013-09-06T16:31:26Z",
    "body": "@jensnockert sounds reasonable to me, I think that's kinda what we're doing right now as well. The primary use case would still be segmented-stacks, although they just wouldn't be that segmented. You'd still want your program to continue if you overflow and you also want multiple threads so no __chkstk.\n\n@nikomatsakis oh interesting! Although one thing I would be worried about would be thrashing the segfault handler if it didn't allocate enough stack. That could probably be easily measured/gotten around though.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23952681/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/25121093",
    "html_url": "https://github.com/rust-lang/rust/pull/8955#issuecomment-25121093",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8955",
    "id": 25121093,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1MTIxMDkz",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-09-25T20:17:21Z",
    "updated_at": "2013-09-25T20:17:21Z",
    "body": "Closing this and adding it to my todo list.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/25121093/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
