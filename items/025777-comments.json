[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/105265342",
    "html_url": "https://github.com/rust-lang/rust/pull/25777#issuecomment-105265342",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25777",
    "id": 105265342,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNTI2NTM0Mg==",
    "user": {
      "login": "rust-highfive",
      "id": 7378925,
      "node_id": "MDQ6VXNlcjczNzg5MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7378925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rust-highfive",
      "html_url": "https://github.com/rust-highfive",
      "followers_url": "https://api.github.com/users/rust-highfive/followers",
      "following_url": "https://api.github.com/users/rust-highfive/following{/other_user}",
      "gists_url": "https://api.github.com/users/rust-highfive/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rust-highfive/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rust-highfive/subscriptions",
      "organizations_url": "https://api.github.com/users/rust-highfive/orgs",
      "repos_url": "https://api.github.com/users/rust-highfive/repos",
      "events_url": "https://api.github.com/users/rust-highfive/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rust-highfive/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-25T16:48:15Z",
    "updated_at": "2015-05-25T16:48:15Z",
    "body": "r? @huonw\n\n(rust_highfive has picked a reviewer for you, use r? to override)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/105265342/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/105281572",
    "html_url": "https://github.com/rust-lang/rust/pull/25777#issuecomment-105281572",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25777",
    "id": 105281572,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNTI4MTU3Mg==",
    "user": {
      "login": "shepmaster",
      "id": 174509,
      "node_id": "MDQ6VXNlcjE3NDUwOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/174509?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shepmaster",
      "html_url": "https://github.com/shepmaster",
      "followers_url": "https://api.github.com/users/shepmaster/followers",
      "following_url": "https://api.github.com/users/shepmaster/following{/other_user}",
      "gists_url": "https://api.github.com/users/shepmaster/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shepmaster/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shepmaster/subscriptions",
      "organizations_url": "https://api.github.com/users/shepmaster/orgs",
      "repos_url": "https://api.github.com/users/shepmaster/repos",
      "events_url": "https://api.github.com/users/shepmaster/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shepmaster/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-25T18:00:33Z",
    "updated_at": "2015-05-25T18:00:33Z",
    "body": "One question is whether this should be included in the higher-level documentation, as an example of how to return allocated strings via FFI.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/105281572/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/105282107",
    "html_url": "https://github.com/rust-lang/rust/pull/25777#issuecomment-105282107",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25777",
    "id": 105282107,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNTI4MjEwNw==",
    "user": {
      "login": "shepmaster",
      "id": 174509,
      "node_id": "MDQ6VXNlcjE3NDUwOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/174509?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shepmaster",
      "html_url": "https://github.com/shepmaster",
      "followers_url": "https://api.github.com/users/shepmaster/followers",
      "following_url": "https://api.github.com/users/shepmaster/following{/other_user}",
      "gists_url": "https://api.github.com/users/shepmaster/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shepmaster/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shepmaster/subscriptions",
      "organizations_url": "https://api.github.com/users/shepmaster/orgs",
      "repos_url": "https://api.github.com/users/shepmaster/repos",
      "events_url": "https://api.github.com/users/shepmaster/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shepmaster/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-25T18:01:04Z",
    "updated_at": "2015-05-25T18:01:04Z",
    "body": "Also note I've left all stability attributes off these methods, as I'm not sure what is most appropriate.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/105282107/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/105623545",
    "html_url": "https://github.com/rust-lang/rust/pull/25777#issuecomment-105623545",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25777",
    "id": 105623545,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNTYyMzU0NQ==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-26T18:18:35Z",
    "updated_at": "2015-05-26T18:18:35Z",
    "body": "Interesting! I agree with @bluss that this needs some documentation bolstering to outline some of the key aspects of this API:\n- Allocation/deallocation can _only_ be done with these two methods, the pointer **cannot** be `free`d.\n- Incoming pointers to `from_raw_ptr` can only be those generated from `into_raw_ptr`.\n- To properly free a pointer from `into_raw_ptr`, one must call `from_raw_ptr` later on in the program.\n\nIn terms of naming this may want to consider either `raw` or `ptr`, but not both together. I think we've avoided that sort of terminology elsewhere in the standard library as it's a little wordy.\n\nStability-wise these just need explicit `#[unstable]` annotations with an appropriate feature name (e.g. `c_str_memory`) and a reason that explains why they're unstable. The reason can include reservations about the API, but it is also just frequently \"recently added API\".\n\n---\n\nAt a higher level, I'm curious what you were doing to want to do this kind of operation? I would not expect this to be a common operation at the FFI boundary (due to the need to free the resources at some point). \n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/105623545/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/105632084",
    "html_url": "https://github.com/rust-lang/rust/pull/25777#issuecomment-105632084",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25777",
    "id": 105632084,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNTYzMjA4NA==",
    "user": {
      "login": "shepmaster",
      "id": 174509,
      "node_id": "MDQ6VXNlcjE3NDUwOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/174509?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shepmaster",
      "html_url": "https://github.com/shepmaster",
      "followers_url": "https://api.github.com/users/shepmaster/followers",
      "following_url": "https://api.github.com/users/shepmaster/following{/other_user}",
      "gists_url": "https://api.github.com/users/shepmaster/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shepmaster/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shepmaster/subscriptions",
      "organizations_url": "https://api.github.com/users/shepmaster/orgs",
      "repos_url": "https://api.github.com/users/shepmaster/repos",
      "events_url": "https://api.github.com/users/shepmaster/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shepmaster/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-26T18:47:41Z",
    "updated_at": "2015-05-26T18:48:02Z",
    "body": "> I'm curious what you were doing to want to do this kind of operation?\n\nI've not done anything specific myself, but I've helped various people want to [do something similar](http://stackoverflow.com/q/30440068/155423). It's a straightforward next step after an FFI example that adds two numbers; one that concats two strings.\n\n> I would not expect this to be a common operation at the FFI boundary\n\nPerhaps I'm missing something, but how would you foresee any library that does heavy string processing to be called? One of the concepts that I'm excited most for Rust is writing a core library in Rust and then exposing C bindings. We can then use that library in other languages (Ruby is of particular interest to me).\n\nI feel like `CString` is running into the same problem that `Vec` and `Box` have already tackled. It feels like one of the core types that wants to be transferred across the FFI boundary and be directly usable in a C caller.\n- `Box` has: `from_raw` and `into_raw`\n- `Vec` has `from_raw_parts` and (`as_ptr`, `len`, `capacity`)\n- `CString` will have `from_raw` and `into_raw` (to match `Box`, and address your naming points above)\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/105632084/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/105632474",
    "html_url": "https://github.com/rust-lang/rust/pull/25777#issuecomment-105632474",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25777",
    "id": 105632474,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNTYzMjQ3NA==",
    "user": {
      "login": "shepmaster",
      "id": 174509,
      "node_id": "MDQ6VXNlcjE3NDUwOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/174509?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shepmaster",
      "html_url": "https://github.com/shepmaster",
      "followers_url": "https://api.github.com/users/shepmaster/followers",
      "following_url": "https://api.github.com/users/shepmaster/following{/other_user}",
      "gists_url": "https://api.github.com/users/shepmaster/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shepmaster/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shepmaster/subscriptions",
      "organizations_url": "https://api.github.com/users/shepmaster/orgs",
      "repos_url": "https://api.github.com/users/shepmaster/repos",
      "events_url": "https://api.github.com/users/shepmaster/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shepmaster/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-26T18:49:27Z",
    "updated_at": "2015-05-26T18:49:27Z",
    "body": "> due to the need to free the resources at some point\n\nFWIW, I see `Vec` and `Box` having the same \"problem\" - you need to pass it back to Rust to properly  drop the type and use the right allocator. \n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/105632474/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/105659763",
    "html_url": "https://github.com/rust-lang/rust/pull/25777#issuecomment-105659763",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25777",
    "id": 105659763,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNTY1OTc2Mw==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-26T20:46:07Z",
    "updated_at": "2015-05-26T20:46:07Z",
    "body": "> Perhaps I'm missing something, but how would you foresee any library that does heavy string processing to be called?\n\nI suppose it definitely depends on the exact library in play, but I would expect some other owned `Box<T>` is passed around where `T` contains an internal `CString` and then there are accessors which pull out the `&CStr` and return the underlying pointer.\n\n> I feel like CString is running into the same problem that Vec and Box have already tackled. It feels like one of the core types that wants to be transferred across the FFI boundary and be directly usable in a C caller.\n\nYeah I do agree that this seems like a good tool to have in the toolbox when dealing with FFI, I'm just somewhat hesitant because memory management is often quite difficult when it comes to an FFI boundary and I don't think this will necessarily open up the door to easy management of strings per se. For example in the question you linked to the returned string would need to be deallocated at some point (assuming the incoming string is changed to `*const c_char`), and it starts making the Ruby bits pretty hairy pretty quickly.\n\nNot that any of that should stop this at the gates, just something to keep in mind!\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/105659763/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/105689207",
    "html_url": "https://github.com/rust-lang/rust/pull/25777#issuecomment-105689207",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25777",
    "id": 105689207,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNTY4OTIwNw==",
    "user": {
      "login": "shepmaster",
      "id": 174509,
      "node_id": "MDQ6VXNlcjE3NDUwOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/174509?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shepmaster",
      "html_url": "https://github.com/shepmaster",
      "followers_url": "https://api.github.com/users/shepmaster/followers",
      "following_url": "https://api.github.com/users/shepmaster/following{/other_user}",
      "gists_url": "https://api.github.com/users/shepmaster/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shepmaster/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shepmaster/subscriptions",
      "organizations_url": "https://api.github.com/users/shepmaster/orgs",
      "repos_url": "https://api.github.com/users/shepmaster/repos",
      "events_url": "https://api.github.com/users/shepmaster/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shepmaster/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-26T22:37:49Z",
    "updated_at": "2015-05-26T22:37:49Z",
    "body": "> returned string would need to be deallocated at some point [...] and it starts making the Ruby bits pretty hairy pretty quickly.\n\nBut you'd have the same issue if you return the `Box<T>` to Ruby as well, right?\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/105689207/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/105691047",
    "html_url": "https://github.com/rust-lang/rust/pull/25777#issuecomment-105691047",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25777",
    "id": 105691047,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNTY5MTA0Nw==",
    "user": {
      "login": "shepmaster",
      "id": 174509,
      "node_id": "MDQ6VXNlcjE3NDUwOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/174509?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shepmaster",
      "html_url": "https://github.com/shepmaster",
      "followers_url": "https://api.github.com/users/shepmaster/followers",
      "following_url": "https://api.github.com/users/shepmaster/following{/other_user}",
      "gists_url": "https://api.github.com/users/shepmaster/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shepmaster/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shepmaster/subscriptions",
      "organizations_url": "https://api.github.com/users/shepmaster/orgs",
      "repos_url": "https://api.github.com/users/shepmaster/repos",
      "events_url": "https://api.github.com/users/shepmaster/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shepmaster/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-26T22:51:36Z",
    "updated_at": "2015-05-26T22:51:36Z",
    "body": "@bluss @alexcrichton I've updated the docs a smidge and added the stability attributes.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/105691047/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/105705016",
    "html_url": "https://github.com/rust-lang/rust/pull/25777#issuecomment-105705016",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25777",
    "id": 105705016,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNTcwNTAxNg==",
    "user": {
      "login": "gkoz",
      "id": 4260361,
      "node_id": "MDQ6VXNlcjQyNjAzNjE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4260361?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gkoz",
      "html_url": "https://github.com/gkoz",
      "followers_url": "https://api.github.com/users/gkoz/followers",
      "following_url": "https://api.github.com/users/gkoz/following{/other_user}",
      "gists_url": "https://api.github.com/users/gkoz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gkoz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gkoz/subscriptions",
      "organizations_url": "https://api.github.com/users/gkoz/orgs",
      "repos_url": "https://api.github.com/users/gkoz/repos",
      "events_url": "https://api.github.com/users/gkoz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gkoz/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-27T00:43:09Z",
    "updated_at": "2015-05-27T00:43:09Z",
    "body": "> Perhaps I'm missing something, but how would you foresee any library that does heavy string processing to be called?\n\nIf the caller were to free the strings, wouldn't they want to use `free`, not this lib's custom destructor? Could `CString` be taught to support that?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/105705016/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/105712172",
    "html_url": "https://github.com/rust-lang/rust/pull/25777#issuecomment-105712172",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25777",
    "id": 105712172,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNTcxMjE3Mg==",
    "user": {
      "login": "shepmaster",
      "id": 174509,
      "node_id": "MDQ6VXNlcjE3NDUwOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/174509?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shepmaster",
      "html_url": "https://github.com/shepmaster",
      "followers_url": "https://api.github.com/users/shepmaster/followers",
      "following_url": "https://api.github.com/users/shepmaster/following{/other_user}",
      "gists_url": "https://api.github.com/users/shepmaster/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shepmaster/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shepmaster/subscriptions",
      "organizations_url": "https://api.github.com/users/shepmaster/orgs",
      "repos_url": "https://api.github.com/users/shepmaster/repos",
      "events_url": "https://api.github.com/users/shepmaster/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shepmaster/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-27T01:27:39Z",
    "updated_at": "2015-05-27T02:00:32Z",
    "body": "> If the caller were to free the strings, wouldn't they want to use free\n\nGenerally, no. Many larger C libraries have their own allocators, and you need to use them to prevent passing invalid pointers between allocators.\n\n[GLib](https://developer.gnome.org/glib/2.44/glib-Memory-Allocation.html) and [libxml2](http://xmlsoft.org/html/libxml-xmlmemory.html) are two examples that come to mind. You can potentially compile these libraries with _alternate_ allocation functions \u2014 perhaps you have your own allocator that does extra profiling for example.\n\n> Could CString be taught to support that?\n\nI don't know how, as I haven't seen anything parameterized by allocator yet. However, were this to ever exist, it could be neat to use `libc::malloc` as the allocator and potentially have to worry less about matching up.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/105712172/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/106155267",
    "html_url": "https://github.com/rust-lang/rust/pull/25777#issuecomment-106155267",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25777",
    "id": 106155267,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNjE1NTI2Nw==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-28T02:57:54Z",
    "updated_at": "2015-05-28T02:57:54Z",
    "body": "@shepmaster, @gkoz yeah I agree that we want to not recommend using `free`, and unfortunately even if `CString` used `malloc` as it's backing memory we still wouldn't want to recommend calling `free` across library boundaries. There are situations you can get yourself into where depending on how you link the libraries together you could still get a mismatch of allocators once you cross the library boundary.\n\nI think this all looks good to me, thanks @shepmaster! I realize now though that the sibling function of `CString::from_raw` is `CStr::from_ptr`, so these methods may actually want to use `ptr` instead of `raw` (just a minor nit).\n\ncc @rust-lang/libs, with the renaming of `raw` => `ptr` I'm ok with this, any other reservations?\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/106155267/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/106156747",
    "html_url": "https://github.com/rust-lang/rust/pull/25777#issuecomment-106156747",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25777",
    "id": 106156747,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNjE1Njc0Nw==",
    "user": {
      "login": "aturon",
      "id": 709807,
      "node_id": "MDQ6VXNlcjcwOTgwNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/709807?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aturon",
      "html_url": "https://github.com/aturon",
      "followers_url": "https://api.github.com/users/aturon/followers",
      "following_url": "https://api.github.com/users/aturon/following{/other_user}",
      "gists_url": "https://api.github.com/users/aturon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aturon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aturon/subscriptions",
      "organizations_url": "https://api.github.com/users/aturon/orgs",
      "repos_url": "https://api.github.com/users/aturon/repos",
      "events_url": "https://api.github.com/users/aturon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aturon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-28T03:02:01Z",
    "updated_at": "2015-05-28T03:02:01Z",
    "body": "@alexcrichton :+1: \n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/106156747/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/106445710",
    "html_url": "https://github.com/rust-lang/rust/pull/25777#issuecomment-106445710",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25777",
    "id": 106445710,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNjQ0NTcxMA==",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-28T16:03:10Z",
    "updated_at": "2015-05-28T16:03:10Z",
    "body": "cc me (i'm wondering about potential overlap with allocator API's that should be coming in the future).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/106445710/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/106446973",
    "html_url": "https://github.com/rust-lang/rust/pull/25777#issuecomment-106446973",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25777",
    "id": 106446973,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNjQ0Njk3Mw==",
    "user": {
      "login": "shepmaster",
      "id": 174509,
      "node_id": "MDQ6VXNlcjE3NDUwOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/174509?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shepmaster",
      "html_url": "https://github.com/shepmaster",
      "followers_url": "https://api.github.com/users/shepmaster/followers",
      "following_url": "https://api.github.com/users/shepmaster/following{/other_user}",
      "gists_url": "https://api.github.com/users/shepmaster/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shepmaster/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shepmaster/subscriptions",
      "organizations_url": "https://api.github.com/users/shepmaster/orgs",
      "repos_url": "https://api.github.com/users/shepmaster/repos",
      "events_url": "https://api.github.com/users/shepmaster/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shepmaster/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-28T16:04:43Z",
    "updated_at": "2015-05-28T16:04:43Z",
    "body": "> the sibling function of CString::from_raw is CStr::from_ptr, so these methods may actually want to use ptr instead of raw (just a minor nit).\n\n@alexcrichton I actually deliberately chose to _not_ call it that, because `CStr::from_ptr` can accept an arbitrary C string, whereas `CString::from_raw` can only accept the special one from `CString::into_raw`. I'm OK with changing it, if you feel there won't be more confusion.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/106446973/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/107286149",
    "html_url": "https://github.com/rust-lang/rust/pull/25777#issuecomment-107286149",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25777",
    "id": 107286149,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNzI4NjE0OQ==",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-06-01T02:33:49Z",
    "updated_at": "2015-06-01T02:34:06Z",
    "body": "r? @alexcrichton (Transferring reviewership, I haven't been keeping track at all...)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/107286149/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/107657463",
    "html_url": "https://github.com/rust-lang/rust/pull/25777#issuecomment-107657463",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25777",
    "id": 107657463,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNzY1NzQ2Mw==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-06-01T18:07:08Z",
    "updated_at": "2015-06-01T18:07:08Z",
    "body": "@shepmaster ah yes indeed! I think I would personally err on the side of `ptr` for consistency still, but others may feel differently!\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/107657463/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/108635249",
    "html_url": "https://github.com/rust-lang/rust/pull/25777#issuecomment-108635249",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25777",
    "id": 108635249,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwODYzNTI0OQ==",
    "user": {
      "login": "shepmaster",
      "id": 174509,
      "node_id": "MDQ6VXNlcjE3NDUwOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/174509?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shepmaster",
      "html_url": "https://github.com/shepmaster",
      "followers_url": "https://api.github.com/users/shepmaster/followers",
      "following_url": "https://api.github.com/users/shepmaster/following{/other_user}",
      "gists_url": "https://api.github.com/users/shepmaster/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shepmaster/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shepmaster/subscriptions",
      "organizations_url": "https://api.github.com/users/shepmaster/orgs",
      "repos_url": "https://api.github.com/users/shepmaster/repos",
      "events_url": "https://api.github.com/users/shepmaster/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shepmaster/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-06-03T22:48:27Z",
    "updated_at": "2015-06-03T22:48:27Z",
    "body": "@alexcrichton OK, updated with the change to `Box<[u8]>` and the naming suggestions. Thanks!\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/108635249/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/108718445",
    "html_url": "https://github.com/rust-lang/rust/pull/25777#issuecomment-108718445",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25777",
    "id": 108718445,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwODcxODQ0NQ==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-06-04T04:32:14Z",
    "updated_at": "2015-06-04T04:32:14Z",
    "body": "Looks great to me, thanks @shepmaster!\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/108718445/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/110860913",
    "html_url": "https://github.com/rust-lang/rust/pull/25777#issuecomment-110860913",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25777",
    "id": 110860913,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExMDg2MDkxMw==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-06-10T18:14:14Z",
    "updated_at": "2015-06-10T18:14:14Z",
    "body": "@bors: r+ e20a6dbeed095427e5d5487844f65e7eb1599651 \n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/110860913/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/110937560",
    "html_url": "https://github.com/rust-lang/rust/pull/25777#issuecomment-110937560",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25777",
    "id": 110937560,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExMDkzNzU2MA==",
    "user": {
      "login": "bors",
      "id": 3372342,
      "node_id": "MDQ6VXNlcjMzNzIzNDI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bors",
      "html_url": "https://github.com/bors",
      "followers_url": "https://api.github.com/users/bors/followers",
      "following_url": "https://api.github.com/users/bors/following{/other_user}",
      "gists_url": "https://api.github.com/users/bors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bors/subscriptions",
      "organizations_url": "https://api.github.com/users/bors/orgs",
      "repos_url": "https://api.github.com/users/bors/repos",
      "events_url": "https://api.github.com/users/bors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bors/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-06-10T22:37:39Z",
    "updated_at": "2015-06-10T22:37:39Z",
    "body": ":hourglass: Testing commit e20a6db with merge 01ab4f7...\n",
    "author_association": "COLLABORATOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/110937560/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/110952614",
    "html_url": "https://github.com/rust-lang/rust/pull/25777#issuecomment-110952614",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25777",
    "id": 110952614,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExMDk1MjYxNA==",
    "user": {
      "login": "bors",
      "id": 3372342,
      "node_id": "MDQ6VXNlcjMzNzIzNDI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bors",
      "html_url": "https://github.com/bors",
      "followers_url": "https://api.github.com/users/bors/followers",
      "following_url": "https://api.github.com/users/bors/following{/other_user}",
      "gists_url": "https://api.github.com/users/bors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bors/subscriptions",
      "organizations_url": "https://api.github.com/users/bors/orgs",
      "repos_url": "https://api.github.com/users/bors/repos",
      "events_url": "https://api.github.com/users/bors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bors/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-06-11T00:12:36Z",
    "updated_at": "2015-06-11T00:12:36Z",
    "body": ":sunny: Test successful - [auto-linux-32-nopt-t](http://buildbot.rust-lang.org/builders/auto-linux-32-nopt-t/builds/5296), [auto-linux-32-opt](http://buildbot.rust-lang.org/builders/auto-linux-32-opt/builds/5307), [auto-linux-64-nopt-t](http://buildbot.rust-lang.org/builders/auto-linux-64-nopt-t/builds/5259), [auto-linux-64-opt](http://buildbot.rust-lang.org/builders/auto-linux-64-opt/builds/5285), [auto-linux-64-x-android-t](http://buildbot.rust-lang.org/builders/auto-linux-64-x-android-t/builds/5254), [auto-mac-32-opt](http://buildbot.rust-lang.org/builders/auto-mac-32-opt/builds/5330), [auto-mac-64-nopt-t](http://buildbot.rust-lang.org/builders/auto-mac-64-nopt-t/builds/5322), [auto-mac-64-opt](http://buildbot.rust-lang.org/builders/auto-mac-64-opt/builds/5291), [auto-win-gnu-32-nopt-t](http://buildbot.rust-lang.org/builders/auto-win-gnu-32-nopt-t/builds/272), [auto-win-gnu-32-opt](http://buildbot.rust-lang.org/builders/auto-win-gnu-32-opt/builds/272), [auto-win-gnu-64-nopt-t](http://buildbot.rust-lang.org/builders/auto-win-gnu-64-nopt-t/builds/271), [auto-win-gnu-64-opt](http://buildbot.rust-lang.org/builders/auto-win-gnu-64-opt/builds/271)\n",
    "author_association": "COLLABORATOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/110952614/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/111017296",
    "html_url": "https://github.com/rust-lang/rust/pull/25777#issuecomment-111017296",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25777",
    "id": 111017296,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExMTAxNzI5Ng==",
    "user": {
      "login": "gkoz",
      "id": 4260361,
      "node_id": "MDQ6VXNlcjQyNjAzNjE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4260361?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gkoz",
      "html_url": "https://github.com/gkoz",
      "followers_url": "https://api.github.com/users/gkoz/followers",
      "following_url": "https://api.github.com/users/gkoz/following{/other_user}",
      "gists_url": "https://api.github.com/users/gkoz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gkoz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gkoz/subscriptions",
      "organizations_url": "https://api.github.com/users/gkoz/orgs",
      "repos_url": "https://api.github.com/users/gkoz/repos",
      "events_url": "https://api.github.com/users/gkoz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gkoz/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-06-11T06:59:04Z",
    "updated_at": "2015-06-11T07:00:42Z",
    "body": "Isn't there a naming inconsistency now between slice and Box that provide \"from/into_raw\" and CString with \"from/into_ptr\"?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/111017296/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/111128150",
    "html_url": "https://github.com/rust-lang/rust/pull/25777#issuecomment-111128150",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25777",
    "id": 111128150,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExMTEyODE1MA==",
    "user": {
      "login": "shepmaster",
      "id": 174509,
      "node_id": "MDQ6VXNlcjE3NDUwOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/174509?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shepmaster",
      "html_url": "https://github.com/shepmaster",
      "followers_url": "https://api.github.com/users/shepmaster/followers",
      "following_url": "https://api.github.com/users/shepmaster/following{/other_user}",
      "gists_url": "https://api.github.com/users/shepmaster/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shepmaster/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shepmaster/subscriptions",
      "organizations_url": "https://api.github.com/users/shepmaster/orgs",
      "repos_url": "https://api.github.com/users/shepmaster/repos",
      "events_url": "https://api.github.com/users/shepmaster/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shepmaster/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-06-11T13:12:39Z",
    "updated_at": "2015-06-11T13:12:39Z",
    "body": "> Isn't there a naming inconsistency now\n\nKind of, but there was already one with [`CStr::from_ptr`](http://doc.rust-lang.org/std/ffi/struct.CStr.html#method.from_ptr). Since `CString` and `CStr` are conceptually closer than `CString` and `Vec` / `Box`, it made more sense to use something with `ptr`. If you check upthread, there's [some](https://github.com/rust-lang/rust/pull/25777#issuecomment-105623545) [discussion](https://github.com/rust-lang/rust/pull/25777#issuecomment-105632084) [about](https://github.com/rust-lang/rust/pull/25777#issuecomment-106155267) [naming](https://github.com/rust-lang/rust/pull/25777#issuecomment-106446973) as [well](https://github.com/rust-lang/rust/pull/25777#issuecomment-107657463). \n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/111128150/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/111128605",
    "html_url": "https://github.com/rust-lang/rust/pull/25777#issuecomment-111128605",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25777",
    "id": 111128605,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExMTEyODYwNQ==",
    "user": {
      "login": "shepmaster",
      "id": 174509,
      "node_id": "MDQ6VXNlcjE3NDUwOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/174509?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shepmaster",
      "html_url": "https://github.com/shepmaster",
      "followers_url": "https://api.github.com/users/shepmaster/followers",
      "following_url": "https://api.github.com/users/shepmaster/following{/other_user}",
      "gists_url": "https://api.github.com/users/shepmaster/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shepmaster/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shepmaster/subscriptions",
      "organizations_url": "https://api.github.com/users/shepmaster/orgs",
      "repos_url": "https://api.github.com/users/shepmaster/repos",
      "events_url": "https://api.github.com/users/shepmaster/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shepmaster/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-06-11T13:13:26Z",
    "updated_at": "2015-06-11T13:13:26Z",
    "body": "@gkoz not that it can't be changed of course, but at least we thought about it some :smiley_cat: \n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/111128605/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/111137066",
    "html_url": "https://github.com/rust-lang/rust/pull/25777#issuecomment-111137066",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25777",
    "id": 111137066,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExMTEzNzA2Ng==",
    "user": {
      "login": "gkoz",
      "id": 4260361,
      "node_id": "MDQ6VXNlcjQyNjAzNjE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4260361?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gkoz",
      "html_url": "https://github.com/gkoz",
      "followers_url": "https://api.github.com/users/gkoz/followers",
      "following_url": "https://api.github.com/users/gkoz/following{/other_user}",
      "gists_url": "https://api.github.com/users/gkoz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gkoz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gkoz/subscriptions",
      "organizations_url": "https://api.github.com/users/gkoz/orgs",
      "repos_url": "https://api.github.com/users/gkoz/repos",
      "events_url": "https://api.github.com/users/gkoz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gkoz/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-06-11T13:34:35Z",
    "updated_at": "2015-06-11T13:50:55Z",
    "body": "@shepmaster  I'd ask @alexcrichton to take another look at this. The `from_raw` fn names give a very strong hint that they only accept pointers returned by `into_raw` (while `CStr::from_ptr` can take any old `char *`). I consider breaking this convention a footgun. Maybe the names [for `CStr` and `CString`] should indeed differ because the contracts aren't the same.\n\nMaybe `slice::from_raw_parts` is the wrong name because it actually doesn't require a Rust-produced pointer.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/111137066/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/111208977",
    "html_url": "https://github.com/rust-lang/rust/pull/25777#issuecomment-111208977",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25777",
    "id": 111208977,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExMTIwODk3Nw==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-06-11T17:07:20Z",
    "updated_at": "2015-06-11T17:07:20Z",
    "body": "@gkoz thanks for pointing this out, I hadn't considered the `Box` case (just `CString`/`CStr`). I'll add some notes to deal with these naming issues during stabilization.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/111208977/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/112598237",
    "html_url": "https://github.com/rust-lang/rust/pull/25777#issuecomment-112598237",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25777",
    "id": 112598237,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExMjU5ODIzNw==",
    "user": {
      "login": "rkjnsn",
      "id": 7364197,
      "node_id": "MDQ6VXNlcjczNjQxOTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7364197?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rkjnsn",
      "html_url": "https://github.com/rkjnsn",
      "followers_url": "https://api.github.com/users/rkjnsn/followers",
      "following_url": "https://api.github.com/users/rkjnsn/following{/other_user}",
      "gists_url": "https://api.github.com/users/rkjnsn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rkjnsn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rkjnsn/subscriptions",
      "organizations_url": "https://api.github.com/users/rkjnsn/orgs",
      "repos_url": "https://api.github.com/users/rkjnsn/repos",
      "events_url": "https://api.github.com/users/rkjnsn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rkjnsn/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-06-16T23:03:41Z",
    "updated_at": "2015-06-16T23:03:41Z",
    "body": "For what it's worth, I think `raw` is more clear.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/112598237/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/125538837",
    "html_url": "https://github.com/rust-lang/rust/pull/25777#issuecomment-125538837",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25777",
    "id": 125538837,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNTUzODgzNw==",
    "user": {
      "login": "gkoz",
      "id": 4260361,
      "node_id": "MDQ6VXNlcjQyNjAzNjE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4260361?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gkoz",
      "html_url": "https://github.com/gkoz",
      "followers_url": "https://api.github.com/users/gkoz/followers",
      "following_url": "https://api.github.com/users/gkoz/following{/other_user}",
      "gists_url": "https://api.github.com/users/gkoz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gkoz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gkoz/subscriptions",
      "organizations_url": "https://api.github.com/users/gkoz/orgs",
      "repos_url": "https://api.github.com/users/gkoz/repos",
      "events_url": "https://api.github.com/users/gkoz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gkoz/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-28T10:08:41Z",
    "updated_at": "2015-07-28T10:08:41Z",
    "body": "Apparently some APIs do want to `free` the strings you give them.\n\nWhen [writing a Zabbix loadable module](http://dnaeon.github.io/extending-zabbix-with-rust/):\n\n> You should note that when the result of an item is a string (text, message and log) Zabbix expects to receive a raw pointer to a previously allocated memory of the resulting string and once done with the result Zabbix will `free(3)` the memory.\n\nCorroborated by https://github.com/zabbix/zabbix/blob/trunk/include/module.h#L109-114\n\n``` C\n/* NOTE: always allocate new memory for val! DON'T USE STATIC OR STACK MEMORY!!! */\n#define SET_STR_RESULT(res, val)        \\\n(                       \\\n    (res)->type |= AR_STRING,       \\\n    (res)->str = (char *)(val)      \\\n)\n```\n\nSo there might be some demand for a `malloc`-using `CString` variant after all.\n\nI wonder how the [RFC: Allow changing the default allocator](https://github.com/rust-lang/rfcs/pull/1183) is going to impact this. Looks like `CString` would be using `malloc` out of the box in this case.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/125538837/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
