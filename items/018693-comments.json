[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/61983046",
    "html_url": "https://github.com/rust-lang/rust/issues/18693#issuecomment-61983046",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18693",
    "id": 61983046,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxOTgzMDQ2",
    "user": {
      "login": "eddyb",
      "id": 77424,
      "node_id": "MDQ6VXNlcjc3NDI0",
      "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eddyb",
      "html_url": "https://github.com/eddyb",
      "followers_url": "https://api.github.com/users/eddyb/followers",
      "following_url": "https://api.github.com/users/eddyb/following{/other_user}",
      "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions",
      "organizations_url": "https://api.github.com/users/eddyb/orgs",
      "repos_url": "https://api.github.com/users/eddyb/repos",
      "events_url": "https://api.github.com/users/eddyb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eddyb/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-06T14:06:17Z",
    "updated_at": "2014-11-06T14:06:17Z",
    "body": "cc @nikomatsakis @pcwalton @pnkfelix\nShould this be handled by multidispatch?\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/61983046/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/61985486",
    "html_url": "https://github.com/rust-lang/rust/issues/18693#issuecomment-61985486",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18693",
    "id": 61985486,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxOTg1NDg2",
    "user": {
      "login": "sebcrozet",
      "id": 1734958,
      "node_id": "MDQ6VXNlcjE3MzQ5NTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1734958?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sebcrozet",
      "html_url": "https://github.com/sebcrozet",
      "followers_url": "https://api.github.com/users/sebcrozet/followers",
      "following_url": "https://api.github.com/users/sebcrozet/following{/other_user}",
      "gists_url": "https://api.github.com/users/sebcrozet/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sebcrozet/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sebcrozet/subscriptions",
      "organizations_url": "https://api.github.com/users/sebcrozet/orgs",
      "repos_url": "https://api.github.com/users/sebcrozet/repos",
      "events_url": "https://api.github.com/users/sebcrozet/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sebcrozet/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-06T14:24:28Z",
    "updated_at": "2014-11-06T14:24:28Z",
    "body": "This is also very limiting for generic maths. For example, something like the following is impossible:\n\n``` rust\nfn two_mult<Scalar, Vector, Matrix>(s: Scalar, v: Vector, m: Matrix) -> (Matrix, Vector)\n    where Matrix: Mul<Scalar, Matrix> + Mul<Vector, Vector> {\n  (m * s, m * v)\n}\n```\n\nbecause `Mul` cannot appear twice as a trait bound. I am not sure there is a simple workaround for this operator-overloading limitation.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/61985486/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62033684",
    "html_url": "https://github.com/rust-lang/rust/issues/18693#issuecomment-62033684",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18693",
    "id": 62033684,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMDMzNjg0",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-06T19:11:35Z",
    "updated_at": "2014-11-06T19:11:35Z",
    "body": "These are the current rules. I do think we ought to lift the restriction at some point, but there are subtleties to consider around object types. I've been meaning to write up an RFC exploring the details. Still, seems like a non-1.0 blocker to me.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62033684/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62064012",
    "html_url": "https://github.com/rust-lang/rust/issues/18693#issuecomment-62064012",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18693",
    "id": 62064012,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMDY0MDEy",
    "user": {
      "login": "bvssvni",
      "id": 1743862,
      "node_id": "MDQ6VXNlcjE3NDM4NjI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1743862?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bvssvni",
      "html_url": "https://github.com/bvssvni",
      "followers_url": "https://api.github.com/users/bvssvni/followers",
      "following_url": "https://api.github.com/users/bvssvni/following{/other_user}",
      "gists_url": "https://api.github.com/users/bvssvni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bvssvni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bvssvni/subscriptions",
      "organizations_url": "https://api.github.com/users/bvssvni/orgs",
      "repos_url": "https://api.github.com/users/bvssvni/repos",
      "events_url": "https://api.github.com/users/bvssvni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bvssvni/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-06T22:34:22Z",
    "updated_at": "2014-11-06T22:34:22Z",
    "body": "As far as I can tell, it blocks the planned redesign of piston-event and Conrod. There is a workaround, but with bad ergonomics as consequence. Definitely high priority for Piston.\n\n@nikomatsakis I'll write up the RFC, if that is what it takes to speed this up.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62064012/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62070741",
    "html_url": "https://github.com/rust-lang/rust/issues/18693#issuecomment-62070741",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18693",
    "id": 62070741,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMDcwNzQx",
    "user": {
      "login": "reem",
      "id": 4745181,
      "node_id": "MDQ6VXNlcjQ3NDUxODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4745181?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/reem",
      "html_url": "https://github.com/reem",
      "followers_url": "https://api.github.com/users/reem/followers",
      "following_url": "https://api.github.com/users/reem/following{/other_user}",
      "gists_url": "https://api.github.com/users/reem/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/reem/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/reem/subscriptions",
      "organizations_url": "https://api.github.com/users/reem/orgs",
      "repos_url": "https://api.github.com/users/reem/repos",
      "events_url": "https://api.github.com/users/reem/events{/privacy}",
      "received_events_url": "https://api.github.com/users/reem/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-06T23:27:37Z",
    "updated_at": "2014-11-06T23:27:57Z",
    "body": "We'd like this in Iron too, as it plays nicely with `Set` from rust-modifier, but not as much as it is wanted in Piston.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62070741/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62136454",
    "html_url": "https://github.com/rust-lang/rust/issues/18693#issuecomment-62136454",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18693",
    "id": 62136454,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMTM2NDU0",
    "user": {
      "login": "bvssvni",
      "id": 1743862,
      "node_id": "MDQ6VXNlcjE3NDM4NjI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1743862?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bvssvni",
      "html_url": "https://github.com/bvssvni",
      "followers_url": "https://api.github.com/users/bvssvni/followers",
      "following_url": "https://api.github.com/users/bvssvni/following{/other_user}",
      "gists_url": "https://api.github.com/users/bvssvni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bvssvni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bvssvni/subscriptions",
      "organizations_url": "https://api.github.com/users/bvssvni/orgs",
      "repos_url": "https://api.github.com/users/bvssvni/repos",
      "events_url": "https://api.github.com/users/bvssvni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bvssvni/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-07T12:36:30Z",
    "updated_at": "2014-11-07T12:36:30Z",
    "body": "@nikomatsakis So far I have come up with a rule:\n\nFor each method in the trait, the concrete types that appears in the method signature must differ at least one place.\n\nFor example:\n\n``` Rust\npub trait Foo<T> {\n    fn foo(&self); // no places to differ, trait can not have duplicates\n}\n\n// must differ in concrete type both by T and U\npub trait Bar<T, U> {\n    fn bar1<T>(&mut self, t: &T); // must differ in concrete type by T\n    fn bar2<U>(&mut self, u: &U); // must differ in concrete type by U\n}\n\n// must differ in concrete type by T or U\npub trait Baz<T, U> {\n    fn baz<T, U>(&self, t: &T, u: &U);\n}\n```\n\nThis is a super set of the current constraint in the compiler.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62136454/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62204709",
    "html_url": "https://github.com/rust-lang/rust/issues/18693#issuecomment-62204709",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18693",
    "id": 62204709,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMjA0NzA5",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-07T20:11:10Z",
    "updated_at": "2014-11-07T20:11:10Z",
    "body": "@bvssvni sorry, I'm not clear on what this proposed rule is trying to achieve?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62204709/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62213341",
    "html_url": "https://github.com/rust-lang/rust/issues/18693#issuecomment-62213341",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18693",
    "id": 62213341,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMjEzMzQx",
    "user": {
      "login": "bvssvni",
      "id": 1743862,
      "node_id": "MDQ6VXNlcjE3NDM4NjI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1743862?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bvssvni",
      "html_url": "https://github.com/bvssvni",
      "followers_url": "https://api.github.com/users/bvssvni/followers",
      "following_url": "https://api.github.com/users/bvssvni/following{/other_user}",
      "gists_url": "https://api.github.com/users/bvssvni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bvssvni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bvssvni/subscriptions",
      "organizations_url": "https://api.github.com/users/bvssvni/orgs",
      "repos_url": "https://api.github.com/users/bvssvni/repos",
      "events_url": "https://api.github.com/users/bvssvni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bvssvni/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-07T21:20:13Z",
    "updated_at": "2014-11-07T21:20:13Z",
    "body": "@nikomatsakis I should have explained this better.\n\nAssume you have a signature `fn bar<T: Get<One> + Get<Two>>(bar: &T)` like in the example. The rule is distinguish whether `Get` is a duplicate or not and for which arguments you pass, without knowing the content of the function body. While the rule itself might not be necessary to do method resolving, it is helpful to understand what it means by two trait constraints being duplicates. The rule is to prove that any method call in the function body using the trait is not ambiguous, that any method on the trait constraints can be called.\n\nFor example, in `fn bar<T: Get<One> + Get<U>, U>(...)` the two trait constraints are considered duplicates because one contains a concrete type and the other a generic argument. This seems intuitive, but how do we formally define the difference? Well, traits are used for method resolving, so the way we distinguish them is by detecting whether there is a method we can call on either trait that leads to ambiguity. If there is, then there is a use case where one can be said to be a duplicate of the other.\n\nDepending on which constraint we choose, we will end up with different behavior depending whether it is stricter or looser than this rule. For example, we could require all parameters to be concrete types, in which case it is a stricter rule. With a looser rule, we could only compare the arguments, which might mean some methods can not be resolved, even with type annotation.\n\n``` Rust\npub trait Get<T> {\n    fn get(&self) -> Foo; \n}\n\nfn bar<T: Get<One> + Get<Two>>(bar: &T) {\n    // there is no way to determine the trait from the method,\n    // because both returns type `Foo`.\n    let x = bar.get();\n    ...\n}\n```\n\nMy point is, the rule defines precisely how to determine whether two trait constraints are duplicates or not.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62213341/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62706525",
    "html_url": "https://github.com/rust-lang/rust/issues/18693#issuecomment-62706525",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18693",
    "id": 62706525,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyNzA2NTI1",
    "user": {
      "login": "bvssvni",
      "id": 1743862,
      "node_id": "MDQ6VXNlcjE3NDM4NjI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1743862?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bvssvni",
      "html_url": "https://github.com/bvssvni",
      "followers_url": "https://api.github.com/users/bvssvni/followers",
      "following_url": "https://api.github.com/users/bvssvni/following{/other_user}",
      "gists_url": "https://api.github.com/users/bvssvni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bvssvni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bvssvni/subscriptions",
      "organizations_url": "https://api.github.com/users/bvssvni/orgs",
      "repos_url": "https://api.github.com/users/bvssvni/repos",
      "events_url": "https://api.github.com/users/bvssvni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bvssvni/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-12T11:43:39Z",
    "updated_at": "2014-11-12T11:43:39Z",
    "body": "The recent updates to piston-current makes the workaround decent enough to not block the planned redesign. We can wait after Rust 1.0. I will collect information about this in issues under the piston repo, but will probably not write an RFC, since I don't know enough about the compiler. I learned enough to see this requires non-trivial changes.\n\nClosing this since it is not a bug and would better be discussed elsewhere.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62706525/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
