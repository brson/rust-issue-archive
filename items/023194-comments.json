[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/77770804",
    "html_url": "https://github.com/rust-lang/rust/issues/23194#issuecomment-77770804",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23194",
    "id": 77770804,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3NzcwODA0",
    "user": {
      "login": "aatxe",
      "id": 744293,
      "node_id": "MDQ6VXNlcjc0NDI5Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/744293?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aatxe",
      "html_url": "https://github.com/aatxe",
      "followers_url": "https://api.github.com/users/aatxe/followers",
      "following_url": "https://api.github.com/users/aatxe/following{/other_user}",
      "gists_url": "https://api.github.com/users/aatxe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aatxe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aatxe/subscriptions",
      "organizations_url": "https://api.github.com/users/aatxe/orgs",
      "repos_url": "https://api.github.com/users/aatxe/repos",
      "events_url": "https://api.github.com/users/aatxe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aatxe/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-08T20:00:26Z",
    "updated_at": "2015-03-08T20:00:26Z",
    "body": "I've made an attempt at implementing this that builds, but the information I've found on the matter seems to indicate that shutting down a UDP socket doesn't really make sense. That being said, resources indicate that `shutdown` does work on UDP sockets. So, I'm admittedly rather confused.\n\n## It's not useful.\n\nSee step 5: https://www.cs.rutgers.edu/~pxk/417/notes/sockets/udp.html\nhttps://lists.apple.com/archives/macnetworkprog/2008/Jan/msg00002.html\n\n## It works.\n\nhttps://msdn.microsoft.com/en-us/library/windows/desktop/ms740481(v=vs.85).aspx\nhttp://linux.die.net/man/3/shutdown\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/77770804/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/77771810",
    "html_url": "https://github.com/rust-lang/rust/issues/23194#issuecomment-77771810",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23194",
    "id": 77771810,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3NzcxODEw",
    "user": {
      "login": "LorenVS",
      "id": 528200,
      "node_id": "MDQ6VXNlcjUyODIwMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/528200?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/LorenVS",
      "html_url": "https://github.com/LorenVS",
      "followers_url": "https://api.github.com/users/LorenVS/followers",
      "following_url": "https://api.github.com/users/LorenVS/following{/other_user}",
      "gists_url": "https://api.github.com/users/LorenVS/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/LorenVS/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/LorenVS/subscriptions",
      "organizations_url": "https://api.github.com/users/LorenVS/orgs",
      "repos_url": "https://api.github.com/users/LorenVS/repos",
      "events_url": "https://api.github.com/users/LorenVS/events{/privacy}",
      "received_events_url": "https://api.github.com/users/LorenVS/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-08T20:19:40Z",
    "updated_at": "2015-03-08T20:19:40Z",
    "body": "I think the goal here is a way to terminate a thread that is dedicated to reading from a UDP socket. Currently, recv_from blocks indefinitely and there is no way to signal it to terminate for a clean shutdown. I believe setting Shutdown::Read would cause the currently blocking recv_from to return with an error, which could be handled to implement clean shutdown.\n\nThere was a similar discussion on #14926 regarding close_read/close_write. I believe the agreement was that Shutdown::Write isn't horribly useful for UDP sockets. Even if you have a dedicated thread for sending out of a UdpSocket, you are more likely to signal termination by dropping the channel which sends data to that thread, rather than shutting down the socket itself.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/77771810/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/77798554",
    "html_url": "https://github.com/rust-lang/rust/issues/23194#issuecomment-77798554",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23194",
    "id": 77798554,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3Nzk4NTU0",
    "user": {
      "login": "KiChjang",
      "id": 3248587,
      "node_id": "MDQ6VXNlcjMyNDg1ODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3248587?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/KiChjang",
      "html_url": "https://github.com/KiChjang",
      "followers_url": "https://api.github.com/users/KiChjang/followers",
      "following_url": "https://api.github.com/users/KiChjang/following{/other_user}",
      "gists_url": "https://api.github.com/users/KiChjang/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/KiChjang/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/KiChjang/subscriptions",
      "organizations_url": "https://api.github.com/users/KiChjang/orgs",
      "repos_url": "https://api.github.com/users/KiChjang/repos",
      "events_url": "https://api.github.com/users/KiChjang/events{/privacy}",
      "received_events_url": "https://api.github.com/users/KiChjang/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-09T04:24:33Z",
    "updated_at": "2015-03-09T04:24:33Z",
    "body": "I'd like to give this one a try. I have a basic understanding of how UDP works, but I still don't understand where everything is in the source code.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/77798554/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/77801242",
    "html_url": "https://github.com/rust-lang/rust/issues/23194#issuecomment-77801242",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23194",
    "id": 77801242,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3ODAxMjQy",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-09T05:12:25Z",
    "updated_at": "2015-03-09T05:12:39Z",
    "body": "@aatxe yes as @LorenVS mentioned it may not have the best semantics in all situations, but it definitely does something on supported platforms and we largely want to expose it for symmetry with the TCP primitives.\n\n@KiChjang the methods would be added to [`src/libstd/net/udp.rs`](https://github.com/rust-lang/rust/blob/master/src/libstd/net/udp.rs) and you could follow similar delegation patterns to add the implementations themselves to [`src/libstd/sys/common/net2.rs`](https://github.com/rust-lang/rust/blob/master/src/libstd/sys/common/net2.rs). You could then do basically the same as `TcpStream::shutdown` in that file, although I would recommend refactoring into a helper method.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/77801242/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/78106280",
    "html_url": "https://github.com/rust-lang/rust/issues/23194#issuecomment-78106280",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23194",
    "id": 78106280,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4MTA2Mjgw",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-10T17:38:00Z",
    "updated_at": "2015-03-10T17:38:00Z",
    "body": "Given the outcome of https://github.com/rust-lang/rust/pull/23214 it looks like we may not actually want to implement this at this time. @aatxe's investigation didn't turn up many reliable use cases for doing this, so we can probably hold off until we have a motivating example.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/78106280/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/101980089",
    "html_url": "https://github.com/rust-lang/rust/issues/23194#issuecomment-101980089",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23194",
    "id": 101980089,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwMTk4MDA4OQ==",
    "user": {
      "login": "flaub",
      "id": 111859,
      "node_id": "MDQ6VXNlcjExMTg1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/111859?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/flaub",
      "html_url": "https://github.com/flaub",
      "followers_url": "https://api.github.com/users/flaub/followers",
      "following_url": "https://api.github.com/users/flaub/following{/other_user}",
      "gists_url": "https://api.github.com/users/flaub/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/flaub/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/flaub/subscriptions",
      "organizations_url": "https://api.github.com/users/flaub/orgs",
      "repos_url": "https://api.github.com/users/flaub/repos",
      "events_url": "https://api.github.com/users/flaub/events{/privacy}",
      "received_events_url": "https://api.github.com/users/flaub/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-14T09:14:07Z",
    "updated_at": "2015-05-14T09:14:07Z",
    "body": "In my experience, simply closing the fd/handle of the socket is enough to cause blocking recv calls to return with a failure (which is different on each platform). This implies that a `UdpSocket` might be in a state of `Active` vs `Inactive` depending on whether the fd has been closed or not. This is essential for being able to cancel pending recv calls.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/101980089/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
