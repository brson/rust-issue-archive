[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/120964493",
    "html_url": "https://github.com/rust-lang/rust/issues/24266#issuecomment-120964493",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24266",
    "id": 120964493,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyMDk2NDQ5Mw==",
    "user": {
      "login": "Dineshs91",
      "id": 2663505,
      "node_id": "MDQ6VXNlcjI2NjM1MDU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2663505?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Dineshs91",
      "html_url": "https://github.com/Dineshs91",
      "followers_url": "https://api.github.com/users/Dineshs91/followers",
      "following_url": "https://api.github.com/users/Dineshs91/following{/other_user}",
      "gists_url": "https://api.github.com/users/Dineshs91/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Dineshs91/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Dineshs91/subscriptions",
      "organizations_url": "https://api.github.com/users/Dineshs91/orgs",
      "repos_url": "https://api.github.com/users/Dineshs91/repos",
      "events_url": "https://api.github.com/users/Dineshs91/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Dineshs91/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-13T15:18:31Z",
    "updated_at": "2015-07-13T15:18:31Z",
    "body": "@nrc I would like to work on this\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/120964493/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/122666096",
    "html_url": "https://github.com/rust-lang/rust/issues/24266#issuecomment-122666096",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24266",
    "id": 122666096,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyMjY2NjA5Ng==",
    "user": {
      "login": "Dineshs91",
      "id": 2663505,
      "node_id": "MDQ6VXNlcjI2NjM1MDU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2663505?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Dineshs91",
      "html_url": "https://github.com/Dineshs91",
      "followers_url": "https://api.github.com/users/Dineshs91/followers",
      "following_url": "https://api.github.com/users/Dineshs91/following{/other_user}",
      "gists_url": "https://api.github.com/users/Dineshs91/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Dineshs91/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Dineshs91/subscriptions",
      "organizations_url": "https://api.github.com/users/Dineshs91/orgs",
      "repos_url": "https://api.github.com/users/Dineshs91/repos",
      "events_url": "https://api.github.com/users/Dineshs91/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Dineshs91/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-19T14:24:57Z",
    "updated_at": "2015-07-19T14:24:57Z",
    "body": "If we remove these conditions [L2213](https://github.com/rust-lang/rust/blob/master/src/libsyntax/parse/parser.rs#L2213) and [L4705](https://github.com/rust-lang/rust/blob/master/src/libsyntax/parse/parser.rs#L4705), wouldn't that be enough\n\n@nrc \n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/122666096/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/122723149",
    "html_url": "https://github.com/rust-lang/rust/issues/24266#issuecomment-122723149",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24266",
    "id": 122723149,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyMjcyMzE0OQ==",
    "user": {
      "login": "nrc",
      "id": 762626,
      "node_id": "MDQ6VXNlcjc2MjYyNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/762626?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nrc",
      "html_url": "https://github.com/nrc",
      "followers_url": "https://api.github.com/users/nrc/followers",
      "following_url": "https://api.github.com/users/nrc/following{/other_user}",
      "gists_url": "https://api.github.com/users/nrc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nrc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nrc/subscriptions",
      "organizations_url": "https://api.github.com/users/nrc/orgs",
      "repos_url": "https://api.github.com/users/nrc/repos",
      "events_url": "https://api.github.com/users/nrc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nrc/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-20T00:50:48Z",
    "updated_at": "2015-07-20T00:50:48Z",
    "body": "@Dineshs91 It looks like you should remove those two checks, yes. I'm not sure that that will be enough, it might be. You will need to add a test or two to check it works and make sure all the existing tests pass (you'll probably find that some tests which checked for those conditions no longer pass and need to be removed).\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/122723149/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/122777604",
    "html_url": "https://github.com/rust-lang/rust/issues/24266#issuecomment-122777604",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24266",
    "id": 122777604,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyMjc3NzYwNA==",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-20T06:45:21Z",
    "updated_at": "2015-07-23T12:56:23Z",
    "body": "@Dineshs91 No, its not enough just to remove the two checks, at least not to satisfy all the requirements of the RFC\n\nSuch as small change might have been enough to satisfy very early drafts of the RFC, but the actual [RFC text](https://github.com/rust-lang/rfcs/blob/master/text/0218-empty-struct-with-braces.md) that ended up being accepted has an important extra condition: structs defined via `struct S { }` can _only_ be constructed and pattern-matched via `S {}`, while structs defined via `struct S;` can be constructed and patterned matched via either `S` or `S {}`.\n\nThis means that to implement this correctly, the compiler needs to track which kind of definition was used to define the struct initially -- it ends up being part of the type of the struct itself.\n\n(Also, it may be good to attempt to put this change in behind a feature-gate while we get the initial wrinkles worked out.  That's another reason that removing checks does not suffice.)\n\n---\n\n(I have updated the issue description to include the summary text and a link to the RFC, so hopefully this point will not be overlooked in the future.)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/122777604/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/122939814",
    "html_url": "https://github.com/rust-lang/rust/issues/24266#issuecomment-122939814",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24266",
    "id": 122939814,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyMjkzOTgxNA==",
    "user": {
      "login": "Dineshs91",
      "id": 2663505,
      "node_id": "MDQ6VXNlcjI2NjM1MDU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2663505?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Dineshs91",
      "html_url": "https://github.com/Dineshs91",
      "followers_url": "https://api.github.com/users/Dineshs91/followers",
      "following_url": "https://api.github.com/users/Dineshs91/following{/other_user}",
      "gists_url": "https://api.github.com/users/Dineshs91/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Dineshs91/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Dineshs91/subscriptions",
      "organizations_url": "https://api.github.com/users/Dineshs91/orgs",
      "repos_url": "https://api.github.com/users/Dineshs91/repos",
      "events_url": "https://api.github.com/users/Dineshs91/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Dineshs91/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-20T16:26:25Z",
    "updated_at": "2015-07-20T16:26:25Z",
    "body": "@pnkfelix Thanks for the clarification.\n\nSo there are two things that should be taken care of\n1. Struct defined via `struct S;` can be constructed and pattern matched via either `S` or `S { }`. \n   This works perfectly fine.\n2. Struct defined via `struct S { }` should only be constructed and pattern matched via `S { }`.\n   If we try to construct using `S`, we get this error **`S` is a structure name, but this expression uses it like a function name**. I believe that takes care of the restriction for construction. The only thing that needs to be implemented, is a check that disallows pattern matching with `S` and allow pattern matching only with `S { }`.\n\nI've checked the above, after removing the 2 conditions that i have mentioned in my previous comment. \n\n**A quick question**\n\nSay i construct an empty struct using `struct S;` and define it using `S`. Should pattern matching be possible using both `S` and `S { }` or just using `S` since we have constructed using `S` ?\n\nPlease correct me if i am wrong, I don't have much knowledge about the internals.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/122939814/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/123011047",
    "html_url": "https://github.com/rust-lang/rust/issues/24266#issuecomment-123011047",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24266",
    "id": 123011047,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyMzAxMTA0Nw==",
    "user": {
      "login": "nrc",
      "id": 762626,
      "node_id": "MDQ6VXNlcjc2MjYyNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/762626?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nrc",
      "html_url": "https://github.com/nrc",
      "followers_url": "https://api.github.com/users/nrc/followers",
      "following_url": "https://api.github.com/users/nrc/following{/other_user}",
      "gists_url": "https://api.github.com/users/nrc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nrc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nrc/subscriptions",
      "organizations_url": "https://api.github.com/users/nrc/orgs",
      "repos_url": "https://api.github.com/users/nrc/repos",
      "events_url": "https://api.github.com/users/nrc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nrc/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-20T20:00:16Z",
    "updated_at": "2015-07-20T20:00:16Z",
    "body": "@Dineshs91 yes, if the struct is defined without braces then it can be pattern matched either with or without braces. How the struct is constructed doesn't make any difference.\n\nThe underlying reason for the difference is that Rust has two namespaces when we lookup the name of something - types and values (values includes functions). When you use `struct Foo {}`, that only puts `Foo` into the type namespace. When you write `Struct Foo;` that puts `Foo` into both namespaces. When you write `let _ = Foo;`, name resolution looks up `Foo` in the value namespace. When you write `let _ = Foo {};`, name resolution looks up `Foo` in the type namespace. (And likewise for pattern matching).\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/123011047/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/124334371",
    "html_url": "https://github.com/rust-lang/rust/issues/24266#issuecomment-124334371",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24266",
    "id": 124334371,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNDMzNDM3MQ==",
    "user": {
      "login": "nrc",
      "id": 762626,
      "node_id": "MDQ6VXNlcjc2MjYyNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/762626?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nrc",
      "html_url": "https://github.com/nrc",
      "followers_url": "https://api.github.com/users/nrc/followers",
      "following_url": "https://api.github.com/users/nrc/following{/other_user}",
      "gists_url": "https://api.github.com/users/nrc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nrc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nrc/subscriptions",
      "organizations_url": "https://api.github.com/users/nrc/orgs",
      "repos_url": "https://api.github.com/users/nrc/repos",
      "events_url": "https://api.github.com/users/nrc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nrc/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-24T05:13:10Z",
    "updated_at": "2015-07-24T05:13:10Z",
    "body": "@Dineshs91 hey, how did you get along the namespacing? Can I help you out?\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/124334371/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/124334955",
    "html_url": "https://github.com/rust-lang/rust/issues/24266#issuecomment-124334955",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24266",
    "id": 124334955,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNDMzNDk1NQ==",
    "user": {
      "login": "Dineshs91",
      "id": 2663505,
      "node_id": "MDQ6VXNlcjI2NjM1MDU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2663505?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Dineshs91",
      "html_url": "https://github.com/Dineshs91",
      "followers_url": "https://api.github.com/users/Dineshs91/followers",
      "following_url": "https://api.github.com/users/Dineshs91/following{/other_user}",
      "gists_url": "https://api.github.com/users/Dineshs91/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Dineshs91/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Dineshs91/subscriptions",
      "organizations_url": "https://api.github.com/users/Dineshs91/orgs",
      "repos_url": "https://api.github.com/users/Dineshs91/repos",
      "events_url": "https://api.github.com/users/Dineshs91/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Dineshs91/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-24T05:21:44Z",
    "updated_at": "2015-07-24T05:21:44Z",
    "body": "@nrc I haven't started digging into namespace thing yet. I will try to work it out this weekend.\nIf i need any help, i will ping you. Thanks !  \n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/124334955/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/140689569",
    "html_url": "https://github.com/rust-lang/rust/issues/24266#issuecomment-140689569",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24266",
    "id": 140689569,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0MDY4OTU2OQ==",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-09-16T09:44:57Z",
    "updated_at": "2015-09-16T09:44:57Z",
    "body": "> (Also, it may be good to attempt to put this change in behind a feature-gate while we get the initial wrinkles worked out. That's another reason that removing checks does not suffice.)\n\nSo, it looks like PR #28336 successfully implements this without adding any additional feature gates.\n\n@rust-lang/lang Does this feature need a feature gate?  Or shall we just land PR #28336 (preferably right after the upcoming beta is cut)?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/140689569/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
