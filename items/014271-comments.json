[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/43430163",
    "html_url": "https://github.com/rust-lang/rust/pull/14271#issuecomment-43430163",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14271",
    "id": 43430163,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNDMwMTYz",
    "user": {
      "login": "lilyball",
      "id": 714,
      "node_id": "MDQ6VXNlcjcxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/714?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lilyball",
      "html_url": "https://github.com/lilyball",
      "followers_url": "https://api.github.com/users/lilyball/followers",
      "following_url": "https://api.github.com/users/lilyball/following{/other_user}",
      "gists_url": "https://api.github.com/users/lilyball/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lilyball/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lilyball/subscriptions",
      "organizations_url": "https://api.github.com/users/lilyball/orgs",
      "repos_url": "https://api.github.com/users/lilyball/repos",
      "events_url": "https://api.github.com/users/lilyball/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lilyball/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-05-18T03:05:29Z",
    "updated_at": "2014-05-18T03:05:29Z",
    "body": "cc me\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/43430163/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/43431104",
    "html_url": "https://github.com/rust-lang/rust/pull/14271#issuecomment-43431104",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14271",
    "id": 43431104,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNDMxMTA0",
    "user": {
      "login": "lilyball",
      "id": 714,
      "node_id": "MDQ6VXNlcjcxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/714?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lilyball",
      "html_url": "https://github.com/lilyball",
      "followers_url": "https://api.github.com/users/lilyball/followers",
      "following_url": "https://api.github.com/users/lilyball/following{/other_user}",
      "gists_url": "https://api.github.com/users/lilyball/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lilyball/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lilyball/subscriptions",
      "organizations_url": "https://api.github.com/users/lilyball/orgs",
      "repos_url": "https://api.github.com/users/lilyball/repos",
      "events_url": "https://api.github.com/users/lilyball/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lilyball/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-05-18T04:26:57Z",
    "updated_at": "2014-05-18T04:26:57Z",
    "body": "`from_iter_with_capacity()` is a bit unnecessary. We can just change `from_iter()` to take capacity and change `collect()` to pass the lower bound. Nobody calls `FromIterator` directly anyway, so there's no need to provide a convenience method from within that trait.\n\n``` rust\npub trait FromIterator<A> {\n    /// Build a container with elements from an external iterator.\n    ///\n    /// `cap_hint` is a hint as to what the capacity of the collection should be.\n    /// It is usually, but not always, the lower size bound of the iterator.\n    fn from_iter<T: Iterator<A>>(iterator: T, cap_hint: uint) -> Self;\n}\n\npub trait Iterator<A> {\n    // ...\n    fn collect<B: FromIterator<A>>(&mut self) -> B {\n        let (lower, _) = self.size_hint();\n        FromIterator::from_iter(self.by_ref(), lower)\n    }\n}\n```\n\nSimilarly we don't need `collect_with_capacity()`. Actual uses of this functionality are likely to be rare enough that anyone who does need it can just use `FromIterator::from_iter()` directly.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/43431104/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/43431155",
    "html_url": "https://github.com/rust-lang/rust/pull/14271#issuecomment-43431155",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14271",
    "id": 43431155,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNDMxMTU1",
    "user": {
      "login": "lilyball",
      "id": 714,
      "node_id": "MDQ6VXNlcjcxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/714?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lilyball",
      "html_url": "https://github.com/lilyball",
      "followers_url": "https://api.github.com/users/lilyball/followers",
      "following_url": "https://api.github.com/users/lilyball/following{/other_user}",
      "gists_url": "https://api.github.com/users/lilyball/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lilyball/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lilyball/subscriptions",
      "organizations_url": "https://api.github.com/users/lilyball/orgs",
      "repos_url": "https://api.github.com/users/lilyball/repos",
      "events_url": "https://api.github.com/users/lilyball/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lilyball/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-05-18T04:30:40Z",
    "updated_at": "2014-05-18T04:30:40Z",
    "body": "Aside from my previous comment, I'm generally in favor of this patch. I'm not thrilled about making the core method of `Extendable` into `extend_with_capacity()`, but there's no obvious alternative solution (beyond leaving this capability out of `Extendable` at all).\n\nAs for the suggested alternative to this patch, which is to change `size_hint()` into `size_bound()` and add a separate `size_hint()`, I don't think that will work. Notably, the wrapper `Iterator` that is returned by `.sized_by()` will not know how to appropriately adjust `size_hint()` as the iterator is consumed.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/43431155/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/43431755",
    "html_url": "https://github.com/rust-lang/rust/pull/14271#issuecomment-43431755",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14271",
    "id": 43431755,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNDMxNzU1",
    "user": {
      "login": "erickt",
      "id": 84711,
      "node_id": "MDQ6VXNlcjg0NzEx",
      "avatar_url": "https://avatars.githubusercontent.com/u/84711?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/erickt",
      "html_url": "https://github.com/erickt",
      "followers_url": "https://api.github.com/users/erickt/followers",
      "following_url": "https://api.github.com/users/erickt/following{/other_user}",
      "gists_url": "https://api.github.com/users/erickt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/erickt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/erickt/subscriptions",
      "organizations_url": "https://api.github.com/users/erickt/orgs",
      "repos_url": "https://api.github.com/users/erickt/repos",
      "events_url": "https://api.github.com/users/erickt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/erickt/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-05-18T05:17:44Z",
    "updated_at": "2014-05-18T05:17:44Z",
    "body": "@kballard: I'm fine merging `from_iter` and `from_iter_with_capacity`. Regarding `.collect_with_capacity()`, I guess we could leave it for a possible future PR, but it certainly is nicer to be able to just call `let x: Vec<int> = iter.collect_with_capacity(10)` then to do:\n\n``` rust\nuse std::FromIterator;\n...\nlet x: Vec<int> = FromIterator::from_iter(iter, 10);\n```\n\nIt does have some nice symmetry with a `.extend_with_capacity()` method too.\n\nEither way, I found maybe 10-20 spots in the stdlib we could use this `_with_capacity` feature, so you're right it's not common, but we could use it to simplify down some code.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/43431755/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/43431777",
    "html_url": "https://github.com/rust-lang/rust/pull/14271#issuecomment-43431777",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14271",
    "id": 43431777,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNDMxNzc3",
    "user": {
      "login": "lilyball",
      "id": 714,
      "node_id": "MDQ6VXNlcjcxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/714?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lilyball",
      "html_url": "https://github.com/lilyball",
      "followers_url": "https://api.github.com/users/lilyball/followers",
      "following_url": "https://api.github.com/users/lilyball/following{/other_user}",
      "gists_url": "https://api.github.com/users/lilyball/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lilyball/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lilyball/subscriptions",
      "organizations_url": "https://api.github.com/users/lilyball/orgs",
      "repos_url": "https://api.github.com/users/lilyball/repos",
      "events_url": "https://api.github.com/users/lilyball/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lilyball/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-05-18T05:19:31Z",
    "updated_at": "2014-05-18T05:19:31Z",
    "body": "@erickt I'm largely just concerned about API bloat. `Iterator` already has 30 default methods.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/43431777/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/43474969",
    "html_url": "https://github.com/rust-lang/rust/pull/14271#issuecomment-43474969",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14271",
    "id": 43474969,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNDc0OTY5",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-05-19T07:59:31Z",
    "updated_at": "2014-05-19T07:59:31Z",
    "body": "I would be more in favor of adding an iterator adaptor which modifies the return value of `size_hint` than extra methods for `collect` and friends. Something like:\n\n``` rust\n[1, 2, 3, 4].iter().filter(|&i| i %2 == 0).size_hint()  // => (0, Some(4))\n[1, 2, 3, 4].iter().filter(|&i| i %2 == 0).optimistic().size_hint()  // => (4, Some(4))\n```\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/43474969/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/43475507",
    "html_url": "https://github.com/rust-lang/rust/pull/14271#issuecomment-43475507",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14271",
    "id": 43475507,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNDc1NTA3",
    "user": {
      "login": "lilyball",
      "id": 714,
      "node_id": "MDQ6VXNlcjcxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/714?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lilyball",
      "html_url": "https://github.com/lilyball",
      "followers_url": "https://api.github.com/users/lilyball/followers",
      "following_url": "https://api.github.com/users/lilyball/following{/other_user}",
      "gists_url": "https://api.github.com/users/lilyball/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lilyball/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lilyball/subscriptions",
      "organizations_url": "https://api.github.com/users/lilyball/orgs",
      "repos_url": "https://api.github.com/users/lilyball/repos",
      "events_url": "https://api.github.com/users/lilyball/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lilyball/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-05-19T08:07:29Z",
    "updated_at": "2014-05-19T08:07:29Z",
    "body": "@alexcrichton `size_hint()` is defined as a lower and upper bound. Every single `Iterator` in the standard libraries (that provides a `size_hint()`) conforms to this, and guarantees that it will vend at least as many elements as the lower bound of its `size_hint()`, and no more elements than its upper bound (if it has one). What you're proposing is a violation of this guarantee.\n\nThe only way to make this work is to redefine `size_hint()` so it's no longer bounds, or to provide an alternate value separate from the bounds that can be overridden.\n\nA problem with doing this alternative hint is defining how it changes as the iterator is used up. The current `size_hint()` bounds provide their guarantee of correctness throughout the entire lifetime of the iterator. But if I create an iterator and override its alternative hint to be some specific number, how does the iterator know how that number should change as it's processed?\n\nThis is why I'm in favor of providing a way to override the capacity in `from_iter()`, as opposed to trying to define this estimate as a property of the iterator itself. I can calculate a good estimate when I first create my iterator, based on the knowledge I have about it (e.g. I know my `filter()` will only drop roughly 50% of the elements). But the iterator doesn't know how this estimate should change as it's consumed, nor do I know how to do that myself if I were given control over it.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/43475507/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/45922951",
    "html_url": "https://github.com/rust-lang/rust/pull/14271#issuecomment-45922951",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14271",
    "id": 45922951,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1OTIyOTUx",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-06-12T17:33:50Z",
    "updated_at": "2014-06-12T17:33:50Z",
    "body": "Closing due to inactivity, but feel free to reopen with a rebase!\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/45922951/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
