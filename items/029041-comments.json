[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/148022164",
    "html_url": "https://github.com/rust-lang/rust/issues/29041#issuecomment-148022164",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29041",
    "id": 148022164,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0ODAyMjE2NA==",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-14T11:23:03Z",
    "updated_at": "2015-10-14T11:39:56Z",
    "body": "One problem is there's absolutely no guarantee that `Clone` is thread-safe for non-`Sync` types, e.g. it's `unsafe` to clone an `Rc` on multiple threads (it causes a data race on the reference count). That said, there are (probably?) types which can be safely `Clone`d concurrently despite not being `Sync` ~~(e.g. `Cell`)~~; I'm not sure the best way to capture this.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/148022164/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/148022749",
    "html_url": "https://github.com/rust-lang/rust/issues/29041#issuecomment-148022749",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29041",
    "id": 148022749,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0ODAyMjc0OQ==",
    "user": {
      "login": "Diggsey",
      "id": 451321,
      "node_id": "MDQ6VXNlcjQ1MTMyMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/451321?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Diggsey",
      "html_url": "https://github.com/Diggsey",
      "followers_url": "https://api.github.com/users/Diggsey/followers",
      "following_url": "https://api.github.com/users/Diggsey/following{/other_user}",
      "gists_url": "https://api.github.com/users/Diggsey/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Diggsey/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Diggsey/subscriptions",
      "organizations_url": "https://api.github.com/users/Diggsey/orgs",
      "repos_url": "https://api.github.com/users/Diggsey/repos",
      "events_url": "https://api.github.com/users/Diggsey/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Diggsey/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-14T11:26:48Z",
    "updated_at": "2015-10-14T11:26:48Z",
    "body": "@huonw Cell cannot be safely cloned concurrently, because it may be partially written by another thread.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/148022749/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/148023229",
    "html_url": "https://github.com/rust-lang/rust/issues/29041#issuecomment-148023229",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29041",
    "id": 148023229,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0ODAyMzIyOQ==",
    "user": {
      "login": "Yoric",
      "id": 10190,
      "node_id": "MDQ6VXNlcjEwMTkw",
      "avatar_url": "https://avatars.githubusercontent.com/u/10190?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yoric",
      "html_url": "https://github.com/Yoric",
      "followers_url": "https://api.github.com/users/Yoric/followers",
      "following_url": "https://api.github.com/users/Yoric/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yoric/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yoric/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yoric/subscriptions",
      "organizations_url": "https://api.github.com/users/Yoric/orgs",
      "repos_url": "https://api.github.com/users/Yoric/repos",
      "events_url": "https://api.github.com/users/Yoric/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yoric/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-14T11:30:06Z",
    "updated_at": "2015-10-14T11:32:30Z",
    "body": "Wouldn't that be `Send + Clone`, then?\n\n**edit** My bad, it wouldn't.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/148023229/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/148024615",
    "html_url": "https://github.com/rust-lang/rust/issues/29041#issuecomment-148024615",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29041",
    "id": 148024615,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0ODAyNDYxNQ==",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-14T11:39:06Z",
    "updated_at": "2015-10-14T11:39:06Z",
    "body": "@Diggsey Oh, good point! Whoops...\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/148024615/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/148025732",
    "html_url": "https://github.com/rust-lang/rust/issues/29041#issuecomment-148025732",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29041",
    "id": 148025732,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0ODAyNTczMg==",
    "user": {
      "login": "Diggsey",
      "id": 451321,
      "node_id": "MDQ6VXNlcjQ1MTMyMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/451321?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Diggsey",
      "html_url": "https://github.com/Diggsey",
      "followers_url": "https://api.github.com/users/Diggsey/followers",
      "following_url": "https://api.github.com/users/Diggsey/following{/other_user}",
      "gists_url": "https://api.github.com/users/Diggsey/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Diggsey/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Diggsey/subscriptions",
      "organizations_url": "https://api.github.com/users/Diggsey/orgs",
      "repos_url": "https://api.github.com/users/Diggsey/repos",
      "events_url": "https://api.github.com/users/Diggsey/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Diggsey/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-14T11:44:29Z",
    "updated_at": "2015-10-14T11:44:29Z",
    "body": "You could define a new unsafe trait, `SyncClone`, and then bound `CloneProvider` by that trait.\n\n`SyncClone` would inherit from `Clone`, and provide the guarantee that the `clone` method can be called concurrently, as long as the object isn't accessed in any other way at the same time.\n\nHowever, you'd still need to wrap the T contained in `CloneProvider` in an RwLock, to ensure that the `attach` method wouldn't overlap with any cloning.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/148025732/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/148049216",
    "html_url": "https://github.com/rust-lang/rust/issues/29041#issuecomment-148049216",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29041",
    "id": 148049216,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0ODA0OTIxNg==",
    "user": {
      "login": "SimonSapin",
      "id": 291359,
      "node_id": "MDQ6VXNlcjI5MTM1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SimonSapin",
      "html_url": "https://github.com/SimonSapin",
      "followers_url": "https://api.github.com/users/SimonSapin/followers",
      "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}",
      "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions",
      "organizations_url": "https://api.github.com/users/SimonSapin/orgs",
      "repos_url": "https://api.github.com/users/SimonSapin/repos",
      "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SimonSapin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-14T13:29:05Z",
    "updated_at": "2015-10-14T13:29:05Z",
    "body": "Would this work?\n\n``` rust\npub fn get_a_foo() -> Foo {\n    lazy_static! {\n        static ref FOO: Mutex<Foo> = Mutex::new(Foo { \u2026 });\n    }\n    FOO.lock().unwrap().clone()\n}\n```\n\n\u201cI have `!Sync` and need `Sync`\u201d is what mutexes are all about.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/148049216/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/148051430",
    "html_url": "https://github.com/rust-lang/rust/issues/29041#issuecomment-148051430",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29041",
    "id": 148051430,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0ODA1MTQzMA==",
    "user": {
      "login": "Diggsey",
      "id": 451321,
      "node_id": "MDQ6VXNlcjQ1MTMyMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/451321?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Diggsey",
      "html_url": "https://github.com/Diggsey",
      "followers_url": "https://api.github.com/users/Diggsey/followers",
      "following_url": "https://api.github.com/users/Diggsey/following{/other_user}",
      "gists_url": "https://api.github.com/users/Diggsey/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Diggsey/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Diggsey/subscriptions",
      "organizations_url": "https://api.github.com/users/Diggsey/orgs",
      "repos_url": "https://api.github.com/users/Diggsey/repos",
      "events_url": "https://api.github.com/users/Diggsey/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Diggsey/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-14T13:37:44Z",
    "updated_at": "2015-10-14T13:37:51Z",
    "body": "@SimonSapin It would work, but there would be unnecessary contention for the mutex. Particularly for the OPs example, that would be less than ideal.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/148051430/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/148054904",
    "html_url": "https://github.com/rust-lang/rust/issues/29041#issuecomment-148054904",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29041",
    "id": 148054904,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0ODA1NDkwNA==",
    "user": {
      "login": "Yoric",
      "id": 10190,
      "node_id": "MDQ6VXNlcjEwMTkw",
      "avatar_url": "https://avatars.githubusercontent.com/u/10190?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yoric",
      "html_url": "https://github.com/Yoric",
      "followers_url": "https://api.github.com/users/Yoric/followers",
      "following_url": "https://api.github.com/users/Yoric/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yoric/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yoric/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yoric/subscriptions",
      "organizations_url": "https://api.github.com/users/Yoric/orgs",
      "repos_url": "https://api.github.com/users/Yoric/repos",
      "events_url": "https://api.github.com/users/Yoric/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yoric/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-14T13:48:28Z",
    "updated_at": "2015-10-14T13:49:07Z",
    "body": "@SimonSapin\n\n```\nerror: the trait `core::marker::Sync` is not implemented for the type `core::cell::UnsafeCell<std::sync::mpsc::Flavor<telemetry::task::Op>>`\n```\n\ni.e. \"still not `Sync` enough\". Also, the `Drop` semantics are rather unclear to me.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/148054904/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/148072352",
    "html_url": "https://github.com/rust-lang/rust/issues/29041#issuecomment-148072352",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29041",
    "id": 148072352,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0ODA3MjM1Mg==",
    "user": {
      "login": "Yoric",
      "id": 10190,
      "node_id": "MDQ6VXNlcjEwMTkw",
      "avatar_url": "https://avatars.githubusercontent.com/u/10190?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yoric",
      "html_url": "https://github.com/Yoric",
      "followers_url": "https://api.github.com/users/Yoric/followers",
      "following_url": "https://api.github.com/users/Yoric/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yoric/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yoric/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yoric/subscriptions",
      "organizations_url": "https://api.github.com/users/Yoric/orgs",
      "repos_url": "https://api.github.com/users/Yoric/repos",
      "events_url": "https://api.github.com/users/Yoric/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yoric/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-14T14:44:41Z",
    "updated_at": "2015-10-14T14:44:41Z",
    "body": "Early prototype [here](https://github.com/Yoric/clone_provider/blob/master/src/lib.rs), with an example of usage [here](https://github.com/Yoric/clone_provider/blob/master/examples/test.rs). No `Mutex` or `RwLock`, just an `AtomicPtr`. I don't think I have missed anything, but this clearly needs more testing & doc.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/148072352/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/148139773",
    "html_url": "https://github.com/rust-lang/rust/issues/29041#issuecomment-148139773",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29041",
    "id": 148139773,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0ODEzOTc3Mw==",
    "user": {
      "login": "SimonSapin",
      "id": 291359,
      "node_id": "MDQ6VXNlcjI5MTM1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SimonSapin",
      "html_url": "https://github.com/SimonSapin",
      "followers_url": "https://api.github.com/users/SimonSapin/followers",
      "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}",
      "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions",
      "organizations_url": "https://api.github.com/users/SimonSapin/orgs",
      "repos_url": "https://api.github.com/users/SimonSapin/repos",
      "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SimonSapin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-14T18:07:03Z",
    "updated_at": "2015-10-14T18:07:03Z",
    "body": "Hearing @nical chatting about lock-free algorithms gave me this idea: have an atomic pointer that is swapped with NULL to gain exclusive access:\n\n``` rust\n#![feature(const_fn)]\n\nuse std::marker::PhantomData;\nuse std::ptr;\nuse std::sync::atomic::{AtomicPtr, Ordering};\n\npub struct AtomicCell<T> {\n    ptr: AtomicPtr<T>,\n    phantom: PhantomData<T>,  // std::ptr::Unique is not atomic\n}\n\nimpl<T> AtomicCell<T> {\n    pub const fn new() -> Self {\n        AtomicCell {\n            ptr: AtomicPtr::new(ptr::null_mut()),\n            phantom: PhantomData,\n        }\n    }\n\n    pub fn set(&self, value: T) {\n        self.replace(Some(Box::new(value)));\n        // Drop the previous value, if any\n    }\n\n    pub fn replace(&self, value: Option<Box<T>>) -> Option<Box<T>> {\n        let ptr = match value {\n            Some(box_) => Box::into_raw(box_),\n            None => ptr::null_mut(),\n        };\n        opt_box_from_ptr(self.ptr.swap(ptr, Ordering::SeqCst))\n    }\n}\n\nfn opt_box_from_ptr<T>(ptr: *mut T) -> Option<Box<T>> {\n    if ptr.is_null() {\n        None\n    } else {\n        Some(unsafe { Box::from_raw(ptr) })\n    }\n}\n\nimpl<T> AtomicCell<T> {\n    pub fn spin_lock<R, F: FnOnce(&mut T) -> R>(&self, f: F) -> R {\n        loop {\n            let ptr = self.ptr.swap(ptr::null_mut(), Ordering::SeqCst);\n            if !ptr.is_null() {\n                // Atomic swap gives us exclusive access\n                let result = f(unsafe { &mut *ptr });\n                // Drop an other value that might have been inserted by another thread.\n                drop(opt_box_from_ptr(self.ptr.swap(ptr, Ordering::SeqCst)));\n                return result\n            }\n            // Spin until we swap a non-null\n        }\n    }\n}\n\nunsafe impl<T: Clone> Sync for AtomicCell<T> {}\n\n#[cfg(test)]\nmod tests {\n    use AtomicCell;\n    use std::ops::Add;\n    use std::sync::mpsc::{channel, Sender};\n    use std::thread;\n\n    static CELL: AtomicCell<Sender<u32>> = AtomicCell::new();\n\n    #[test]\n    fn it_works() {\n        let (tx, rx) = channel();\n        CELL.set(tx);\n        for i in 0..10 {\n            thread::spawn(move || {\n                let tx = CELL.spin_lock(|tx| tx.clone());\n                tx.send(i).unwrap();\n\n                // Or even\u2026\n                CELL.spin_lock(|tx| tx.send(i).unwrap());\n            });\n        }\n        assert_eq!(rx.iter().take(20).fold(0, Add::add), 45 * 2);\n    }\n}\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/148139773/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/148140098",
    "html_url": "https://github.com/rust-lang/rust/issues/29041#issuecomment-148140098",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29041",
    "id": 148140098,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0ODE0MDA5OA==",
    "user": {
      "login": "SimonSapin",
      "id": 291359,
      "node_id": "MDQ6VXNlcjI5MTM1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SimonSapin",
      "html_url": "https://github.com/SimonSapin",
      "followers_url": "https://api.github.com/users/SimonSapin/followers",
      "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}",
      "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions",
      "organizations_url": "https://api.github.com/users/SimonSapin/orgs",
      "repos_url": "https://api.github.com/users/SimonSapin/repos",
      "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SimonSapin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-14T18:07:47Z",
    "updated_at": "2015-10-14T18:07:47Z",
    "body": "I guess `SpinLock` is a better name than `AtomicCell`.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/148140098/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/148154142",
    "html_url": "https://github.com/rust-lang/rust/issues/29041#issuecomment-148154142",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29041",
    "id": 148154142,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0ODE1NDE0Mg==",
    "user": {
      "login": "Yoric",
      "id": 10190,
      "node_id": "MDQ6VXNlcjEwMTkw",
      "avatar_url": "https://avatars.githubusercontent.com/u/10190?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yoric",
      "html_url": "https://github.com/Yoric",
      "followers_url": "https://api.github.com/users/Yoric/followers",
      "following_url": "https://api.github.com/users/Yoric/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yoric/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yoric/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yoric/subscriptions",
      "organizations_url": "https://api.github.com/users/Yoric/orgs",
      "repos_url": "https://api.github.com/users/Yoric/repos",
      "events_url": "https://api.github.com/users/Yoric/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yoric/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-14T18:48:04Z",
    "updated_at": "2015-10-14T20:14:17Z",
    "body": "@SimonSapin \n- +1 because it doesn't need `Arc`;\n- +1 because it prevents us from race conditions inside `clone` in the call to `AtomicCell`;\n- -1 because I believe that it can livelock;\n\n``` rust\n#[cfg(test)]\nmod tests {\n    use AtomicCell;\n\n    static CELL: AtomicCell<u32> = AtomicCell::new();\n\n    #[test]\n    fn it_works() {\n        CELL.spin_lock(|x| print!(\"{}\\n\", x));\n    }\n}\n```\n- -1 because I can use it to clone a `Rc` on several threads concurrently:\n\n``` rust\nmod tests {\n    use AtomicCell;\n    use std::thread;\n    use std::rc::Rc;\n\n    static CELL: AtomicCell<Rc<u32>> = AtomicCell::new();\n\n    #[test]\n    fn it_works() {\n        let rc = Rc::new(0); // my `Rc` is here\n        CELL.set(rc.clone());\n        for _ in 0..10 {\n            thread::spawn(move || {\n                let rc = CELL.spin_lock(|rc| rc.clone()); // ... and here (ok, this one is protected)\n                rc.clone(); // ... and here (this one isn't)\n            });\n        }\n        let _ = rc.clone(); // ... and here (nor is this one)\n    }\n}\n```\n\nI believe we can fix the livelock by having an additional `AtomicBool` to check whether the value has been set, but this will require pen and paper to check.\n\nI believe we can hack around the `Rc` cloning issue as in the previous version, by using the same `SyncClone`.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/148154142/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/148187850",
    "html_url": "https://github.com/rust-lang/rust/issues/29041#issuecomment-148187850",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29041",
    "id": 148187850,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0ODE4Nzg1MA==",
    "user": {
      "login": "Yoric",
      "id": 10190,
      "node_id": "MDQ6VXNlcjEwMTkw",
      "avatar_url": "https://avatars.githubusercontent.com/u/10190?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yoric",
      "html_url": "https://github.com/Yoric",
      "followers_url": "https://api.github.com/users/Yoric/followers",
      "following_url": "https://api.github.com/users/Yoric/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yoric/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yoric/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yoric/subscriptions",
      "organizations_url": "https://api.github.com/users/Yoric/orgs",
      "repos_url": "https://api.github.com/users/Yoric/repos",
      "events_url": "https://api.github.com/users/Yoric/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yoric/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-14T20:34:06Z",
    "updated_at": "2015-10-14T20:34:06Z",
    "body": "If we change\n\n``` rust\nunsafe impl<T: Clone> Sync for AtomicCell<T> {}\n```\n\nto\n\n``` rust\nunsafe impl<T: Send + Clone> Sync for AtomicCell<T> {}\n```\n\nWe get rid of the unsafe example with `Rc`. More surprisingly, we also get rid of an equivalent unsafe example with both `Cell` and `RefCell`. I can't explain this yet, as both `Cell` and `RefCell` implement `Send` and `Clone`.\n\nWe can't compile any of the following:\n\n``` rust\nstatic CELL: AtomicCell<Cell<u32>> = AtomicCell::new();\nstatic CELL: AtomicCell<Cell<Sender<u32>>> = AtomicCell::new();\nstatic CELL: AtomicCell<Arc<Cell<u32>>> = AtomicCell::new();\nstatic CELL: AtomicCell<Arc<Cell<Sender<u32>>>> = AtomicCell::new();\nstatic CELL: AtomicCell<Arc<RefCell<u32>>> = AtomicCell::new();\nstatic CELL: AtomicCell<Arc<RefCell<Sender<u32>>>> = AtomicCell::new();\n```\n\nwhich looks surprisingly good.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/148187850/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/148297688",
    "html_url": "https://github.com/rust-lang/rust/issues/29041#issuecomment-148297688",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29041",
    "id": 148297688,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0ODI5NzY4OA==",
    "user": {
      "login": "Yoric",
      "id": 10190,
      "node_id": "MDQ6VXNlcjEwMTkw",
      "avatar_url": "https://avatars.githubusercontent.com/u/10190?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yoric",
      "html_url": "https://github.com/Yoric",
      "followers_url": "https://api.github.com/users/Yoric/followers",
      "following_url": "https://api.github.com/users/Yoric/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yoric/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yoric/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yoric/subscriptions",
      "organizations_url": "https://api.github.com/users/Yoric/orgs",
      "repos_url": "https://api.github.com/users/Yoric/repos",
      "events_url": "https://api.github.com/users/Yoric/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yoric/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-15T06:51:10Z",
    "updated_at": "2015-10-15T06:51:10Z",
    "body": "Oh, and a question on `spin_lock`. If the callback panics, the entire cell becomes unusable, right? Is that an acceptable behavior?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/148297688/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/148333046",
    "html_url": "https://github.com/rust-lang/rust/issues/29041#issuecomment-148333046",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29041",
    "id": 148333046,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0ODMzMzA0Ng==",
    "user": {
      "login": "Yoric",
      "id": 10190,
      "node_id": "MDQ6VXNlcjEwMTkw",
      "avatar_url": "https://avatars.githubusercontent.com/u/10190?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yoric",
      "html_url": "https://github.com/Yoric",
      "followers_url": "https://api.github.com/users/Yoric/followers",
      "following_url": "https://api.github.com/users/Yoric/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yoric/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yoric/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yoric/subscriptions",
      "organizations_url": "https://api.github.com/users/Yoric/orgs",
      "repos_url": "https://api.github.com/users/Yoric/repos",
      "events_url": "https://api.github.com/users/Yoric/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yoric/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-15T09:32:02Z",
    "updated_at": "2015-10-15T11:50:09Z",
    "body": "Uploaded a [v2 of my code](https://github.com/Yoric/clone_provider/blob/master/src/lib.rs) based on @SimonSapin's  version and my feedback.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/148333046/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/148364627",
    "html_url": "https://github.com/rust-lang/rust/issues/29041#issuecomment-148364627",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29041",
    "id": 148364627,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0ODM2NDYyNw==",
    "user": {
      "login": "Yoric",
      "id": 10190,
      "node_id": "MDQ6VXNlcjEwMTkw",
      "avatar_url": "https://avatars.githubusercontent.com/u/10190?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yoric",
      "html_url": "https://github.com/Yoric",
      "followers_url": "https://api.github.com/users/Yoric/followers",
      "following_url": "https://api.github.com/users/Yoric/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yoric/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yoric/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yoric/subscriptions",
      "organizations_url": "https://api.github.com/users/Yoric/orgs",
      "repos_url": "https://api.github.com/users/Yoric/repos",
      "events_url": "https://api.github.com/users/Yoric/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yoric/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-15T11:51:03Z",
    "updated_at": "2015-10-15T12:50:02Z",
    "body": "Uploaded a [v3](https://github.com/Yoric/clone_provider/blob/master/src/lib.rs), which adds dropping support, plus [documentation](http://yoric.github.io/clone_provider/doc/latest/atomic_cell/index.html).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/148364627/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/148386129",
    "html_url": "https://github.com/rust-lang/rust/issues/29041#issuecomment-148386129",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29041",
    "id": 148386129,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0ODM4NjEyOQ==",
    "user": {
      "login": "Gankra",
      "id": 1136864,
      "node_id": "MDQ6VXNlcjExMzY4NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1136864?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Gankra",
      "html_url": "https://github.com/Gankra",
      "followers_url": "https://api.github.com/users/Gankra/followers",
      "following_url": "https://api.github.com/users/Gankra/following{/other_user}",
      "gists_url": "https://api.github.com/users/Gankra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Gankra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Gankra/subscriptions",
      "organizations_url": "https://api.github.com/users/Gankra/orgs",
      "repos_url": "https://api.github.com/users/Gankra/repos",
      "events_url": "https://api.github.com/users/Gankra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Gankra/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-15T13:30:35Z",
    "updated_at": "2015-10-15T13:30:35Z",
    "body": "While this is all good stuff, it seems way too niche to provide in the std lib.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/148386129/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/148395004",
    "html_url": "https://github.com/rust-lang/rust/issues/29041#issuecomment-148395004",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29041",
    "id": 148395004,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0ODM5NTAwNA==",
    "user": {
      "login": "Yoric",
      "id": 10190,
      "node_id": "MDQ6VXNlcjEwMTkw",
      "avatar_url": "https://avatars.githubusercontent.com/u/10190?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yoric",
      "html_url": "https://github.com/Yoric",
      "followers_url": "https://api.github.com/users/Yoric/followers",
      "following_url": "https://api.github.com/users/Yoric/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yoric/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yoric/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yoric/subscriptions",
      "organizations_url": "https://api.github.com/users/Yoric/orgs",
      "repos_url": "https://api.github.com/users/Yoric/repos",
      "events_url": "https://api.github.com/users/Yoric/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yoric/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-15T13:59:16Z",
    "updated_at": "2015-10-15T13:59:16Z",
    "body": "Fair enough. Now that `const fn` is on its way, this can easily be turned into a crate.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/148395004/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/148942252",
    "html_url": "https://github.com/rust-lang/rust/issues/29041#issuecomment-148942252",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29041",
    "id": 148942252,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0ODk0MjI1Mg==",
    "user": {
      "login": "SimonSapin",
      "id": 291359,
      "node_id": "MDQ6VXNlcjI5MTM1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SimonSapin",
      "html_url": "https://github.com/SimonSapin",
      "followers_url": "https://api.github.com/users/SimonSapin/followers",
      "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}",
      "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions",
      "organizations_url": "https://api.github.com/users/SimonSapin/orgs",
      "repos_url": "https://api.github.com/users/SimonSapin/repos",
      "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SimonSapin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-17T18:42:20Z",
    "updated_at": "2015-10-17T18:42:20Z",
    "body": "Good point about panic in the callback. (Same if it\u2019s specialized to `<T as Clone>::clone`, if `T` is generic.)\n\nI agree on having this kind of thing in external crates rather than the standard library. We can always revisit in a specific pattern becomes wildly popular.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/148942252/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/148942341",
    "html_url": "https://github.com/rust-lang/rust/issues/29041#issuecomment-148942341",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29041",
    "id": 148942341,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0ODk0MjM0MQ==",
    "user": {
      "login": "Gankra",
      "id": 1136864,
      "node_id": "MDQ6VXNlcjExMzY4NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1136864?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Gankra",
      "html_url": "https://github.com/Gankra",
      "followers_url": "https://api.github.com/users/Gankra/followers",
      "following_url": "https://api.github.com/users/Gankra/following{/other_user}",
      "gists_url": "https://api.github.com/users/Gankra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Gankra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Gankra/subscriptions",
      "organizations_url": "https://api.github.com/users/Gankra/orgs",
      "repos_url": "https://api.github.com/users/Gankra/repos",
      "events_url": "https://api.github.com/users/Gankra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Gankra/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-17T18:44:25Z",
    "updated_at": "2015-10-17T18:44:25Z",
    "body": "I'm closing this as out-of scope for the Rust project itself. Feel free to continue the discussion on users.rust-lang or elsewhere.\n\nHave a nice day! :smile_cat: \n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/148942341/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/148985103",
    "html_url": "https://github.com/rust-lang/rust/issues/29041#issuecomment-148985103",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29041",
    "id": 148985103,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0ODk4NTEwMw==",
    "user": {
      "login": "Yoric",
      "id": 10190,
      "node_id": "MDQ6VXNlcjEwMTkw",
      "avatar_url": "https://avatars.githubusercontent.com/u/10190?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yoric",
      "html_url": "https://github.com/Yoric",
      "followers_url": "https://api.github.com/users/Yoric/followers",
      "following_url": "https://api.github.com/users/Yoric/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yoric/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yoric/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yoric/subscriptions",
      "organizations_url": "https://api.github.com/users/Yoric/orgs",
      "repos_url": "https://api.github.com/users/Yoric/repos",
      "events_url": "https://api.github.com/users/Yoric/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yoric/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-18T06:32:48Z",
    "updated_at": "2015-10-18T06:32:48Z",
    "body": "Crate is available [here](https://crates.io/crates/atomic_cell), if anybody's interested in testing. @SimonSapin , I hope you don't mind, I've put you as co-author.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/148985103/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
