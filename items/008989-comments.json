[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23851338",
    "html_url": "https://github.com/rust-lang/rust/pull/8989#issuecomment-23851338",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8989",
    "id": 23851338,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzODUxMzM4",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-09-05T08:35:19Z",
    "updated_at": "2013-09-05T08:35:19Z",
    "body": "Just want to say, these are awesome!\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23851338/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23851486",
    "html_url": "https://github.com/rust-lang/rust/pull/8989#issuecomment-23851486",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8989",
    "id": 23851486,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzODUxNDg2",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-09-05T08:38:20Z",
    "updated_at": "2013-09-05T08:38:20Z",
    "body": "Seconding @alexcrichton; these are awesome!\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23851486/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23864349",
    "html_url": "https://github.com/rust-lang/rust/pull/8989#issuecomment-23864349",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8989",
    "id": 23864349,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzODY0MzQ5",
    "user": {
      "login": "bluss",
      "id": 3209739,
      "node_id": "MDQ6VXNlcjMyMDk3Mzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3209739?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bluss",
      "html_url": "https://github.com/bluss",
      "followers_url": "https://api.github.com/users/bluss/followers",
      "following_url": "https://api.github.com/users/bluss/following{/other_user}",
      "gists_url": "https://api.github.com/users/bluss/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bluss/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bluss/subscriptions",
      "organizations_url": "https://api.github.com/users/bluss/orgs",
      "repos_url": "https://api.github.com/users/bluss/repos",
      "events_url": "https://api.github.com/users/bluss/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bluss/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-09-05T12:37:09Z",
    "updated_at": "2013-09-05T12:37:09Z",
    "body": "Things like `fixed_time_eq` are tricky, you must trust that the optimizer doesn't find a way to short-circuit it, on any platform. Is there some kind of compiler support or llvm intrinsics we can use to make this safe?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23864349/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23868605",
    "html_url": "https://github.com/rust-lang/rust/pull/8989#issuecomment-23868605",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8989",
    "id": 23868605,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzODY4NjA1",
    "user": {
      "login": "sanxiyn",
      "id": 45249,
      "node_id": "MDQ6VXNlcjQ1MjQ5",
      "avatar_url": "https://avatars.githubusercontent.com/u/45249?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sanxiyn",
      "html_url": "https://github.com/sanxiyn",
      "followers_url": "https://api.github.com/users/sanxiyn/followers",
      "following_url": "https://api.github.com/users/sanxiyn/following{/other_user}",
      "gists_url": "https://api.github.com/users/sanxiyn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sanxiyn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sanxiyn/subscriptions",
      "organizations_url": "https://api.github.com/users/sanxiyn/orgs",
      "repos_url": "https://api.github.com/users/sanxiyn/repos",
      "events_url": "https://api.github.com/users/sanxiyn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sanxiyn/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-09-05T13:48:25Z",
    "updated_at": "2013-09-05T13:48:25Z",
    "body": "LLVM added `optnone` in [r189101](http://llvm.org/viewvc/llvm-project?view=revision&revision=189101).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23868605/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23912514",
    "html_url": "https://github.com/rust-lang/rust/pull/8989#issuecomment-23912514",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8989",
    "id": 23912514,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzOTEyNTE0",
    "user": {
      "login": "DaGenix",
      "id": 2101211,
      "node_id": "MDQ6VXNlcjIxMDEyMTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2101211?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DaGenix",
      "html_url": "https://github.com/DaGenix",
      "followers_url": "https://api.github.com/users/DaGenix/followers",
      "following_url": "https://api.github.com/users/DaGenix/following{/other_user}",
      "gists_url": "https://api.github.com/users/DaGenix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DaGenix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DaGenix/subscriptions",
      "organizations_url": "https://api.github.com/users/DaGenix/orgs",
      "repos_url": "https://api.github.com/users/DaGenix/repos",
      "events_url": "https://api.github.com/users/DaGenix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DaGenix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-09-06T00:57:47Z",
    "updated_at": "2013-09-06T00:57:47Z",
    "body": "Thanks for the reviews and feedback! I'll make sure to address all the comments.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23912514/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/24133597",
    "html_url": "https://github.com/rust-lang/rust/pull/8989#issuecomment-24133597",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8989",
    "id": 24133597,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0MTMzNTk3",
    "user": {
      "login": "pcwalton",
      "id": 157897,
      "node_id": "MDQ6VXNlcjE1Nzg5Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/157897?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pcwalton",
      "html_url": "https://github.com/pcwalton",
      "followers_url": "https://api.github.com/users/pcwalton/followers",
      "following_url": "https://api.github.com/users/pcwalton/following{/other_user}",
      "gists_url": "https://api.github.com/users/pcwalton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pcwalton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pcwalton/subscriptions",
      "organizations_url": "https://api.github.com/users/pcwalton/orgs",
      "repos_url": "https://api.github.com/users/pcwalton/repos",
      "events_url": "https://api.github.com/users/pcwalton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pcwalton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-09-10T04:53:53Z",
    "updated_at": "2013-09-10T04:54:40Z",
    "body": "Can we get a crypto expert to review this code (perhaps someone on the Moz security team)? As a point of comparison, Adam Langley, a world-renowned crypto expert, has written all the Go crypto code. I do not consider myself qualified to review this properly.\n\nUntil we have thorough review on this, I would like a huge disclaimer saying \"EXPERIMENTAL; USE AT YOUR OWN RISK\".\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/24133597/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/24134512",
    "html_url": "https://github.com/rust-lang/rust/pull/8989#issuecomment-24134512",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8989",
    "id": 24134512,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0MTM0NTEy",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-09-10T05:28:24Z",
    "updated_at": "2013-09-10T05:28:24Z",
    "body": "(Putting `#[experimental=\"correctness not validated\"]` on the free standing public functions would give a warning with that text for every use of them. It doesn't work for normal methods yet; I'm unsure about static methods.)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/24134512/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/24213555",
    "html_url": "https://github.com/rust-lang/rust/pull/8989#issuecomment-24213555",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8989",
    "id": 24213555,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0MjEzNTU1",
    "user": {
      "login": "DaGenix",
      "id": 2101211,
      "node_id": "MDQ6VXNlcjIxMDEyMTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2101211?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DaGenix",
      "html_url": "https://github.com/DaGenix",
      "followers_url": "https://api.github.com/users/DaGenix/followers",
      "following_url": "https://api.github.com/users/DaGenix/following{/other_user}",
      "gists_url": "https://api.github.com/users/DaGenix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DaGenix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DaGenix/subscriptions",
      "organizations_url": "https://api.github.com/users/DaGenix/orgs",
      "repos_url": "https://api.github.com/users/DaGenix/repos",
      "events_url": "https://api.github.com/users/DaGenix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DaGenix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-09-11T05:04:10Z",
    "updated_at": "2013-09-11T05:04:10Z",
    "body": "I'm still working on getting all the comments addressed. I'll add in an experimental warning. Just in the extremely unlikely case that a security expert is looking at the pull request and thinking about doing an in-depth review, although I would love such a review, my update to the pull request will change things that would probably invalidate such a review.\n\nI agree I got too clever with the fixed_time_eq method. There is no point in having it be generic - I'll remove that. A FixedTimeEq trait with a macro probably could work, but I'm not aware of any need for such a method except for u8s. Adding #[inline(never)] wouldn't hurt, but it wouldn't solve the most severe problem - the concern that LLVM adds an optimization in the future that is clever enough to compile the method to faster, non-constant time code.\n\nI looked into marking the method with the new no-opt LLVM function attribute. However, there are some issues with that:\n1. The no-opt flag is very new. As of a few days ago, it wasn't in the snapshot of LLVM being used by Rust.\n2. The C interface to LLVM doesn't currently expose the flag since its passed in as a bit-mask and the value of this flag is 1 << 42.\n3. I hacked around the first 2 problems, but that leads to the next problem - all that LLVM currently implements is the flag. As best as I can tell, it doesn't do anything yet.\n4. The flag seems perfect for this use case, but, I'm a little unclear on if it was intended for security purposes. If its not intended for use in this type of function, i'd be a little worried that a future change might subtly break the behavior. Anyway, this would need some more investigation.\n\nSo, given all of that, I think the most conservative approach might be to just re-write the method using asm!(). Doing this guarantees that LLVM won't apply an optimization that breaks the constant-time property. Its a pretty simple method so its not all that much work or code. It could always be replaced with a pure-Rust implementation if the no-opt flag for LLVM turns out to fit this use case and if it can't be, as I said, its a tiny amount of asm code. The method as it stands in the original pull request is basically the same as the similar function from Go. I'll try to do a survey other other crypto libraries to see what else is out there.\n\nThoughts?\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/24213555/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/24246301",
    "html_url": "https://github.com/rust-lang/rust/pull/8989#issuecomment-24246301",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8989",
    "id": 24246301,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0MjQ2MzAx",
    "user": {
      "login": "sanxiyn",
      "id": 45249,
      "node_id": "MDQ6VXNlcjQ1MjQ5",
      "avatar_url": "https://avatars.githubusercontent.com/u/45249?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sanxiyn",
      "html_url": "https://github.com/sanxiyn",
      "followers_url": "https://api.github.com/users/sanxiyn/followers",
      "following_url": "https://api.github.com/users/sanxiyn/following{/other_user}",
      "gists_url": "https://api.github.com/users/sanxiyn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sanxiyn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sanxiyn/subscriptions",
      "organizations_url": "https://api.github.com/users/sanxiyn/orgs",
      "repos_url": "https://api.github.com/users/sanxiyn/repos",
      "events_url": "https://api.github.com/users/sanxiyn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sanxiyn/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-09-11T14:48:26Z",
    "updated_at": "2013-09-11T14:48:26Z",
    "body": "I think optnone attribute was introduced to avoid misoptimization bugs and not intended for security purposes, per se.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/24246301/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/24247075",
    "html_url": "https://github.com/rust-lang/rust/pull/8989#issuecomment-24247075",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8989",
    "id": 24247075,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0MjQ3MDc1",
    "user": {
      "login": "klutzy",
      "id": 1589355,
      "node_id": "MDQ6VXNlcjE1ODkzNTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1589355?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/klutzy",
      "html_url": "https://github.com/klutzy",
      "followers_url": "https://api.github.com/users/klutzy/followers",
      "following_url": "https://api.github.com/users/klutzy/following{/other_user}",
      "gists_url": "https://api.github.com/users/klutzy/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/klutzy/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/klutzy/subscriptions",
      "organizations_url": "https://api.github.com/users/klutzy/orgs",
      "repos_url": "https://api.github.com/users/klutzy/repos",
      "events_url": "https://api.github.com/users/klutzy/events{/privacy}",
      "received_events_url": "https://api.github.com/users/klutzy/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-09-11T14:57:18Z",
    "updated_at": "2013-09-14T05:27:56Z",
    "body": "<del>Agreed. We should assume that any crypto implementations are prone to [side-channel attack](http://en.wikipedia.org/wiki/Side_channel_attack) until optnone is used.</del> (I misread sanxiyn's comment)\n\nAlso, we may verify correctness (not including side-channels) of crypto blocks (e.g. salsa20_8 cipher) using ECRYPT framework like [original salsa20 did](http://cr.yp.to/snuffle.html).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/24247075/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/24436896",
    "html_url": "https://github.com/rust-lang/rust/pull/8989#issuecomment-24436896",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8989",
    "id": 24436896,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0NDM2ODk2",
    "user": {
      "login": "DaGenix",
      "id": 2101211,
      "node_id": "MDQ6VXNlcjIxMDEyMTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2101211?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DaGenix",
      "html_url": "https://github.com/DaGenix",
      "followers_url": "https://api.github.com/users/DaGenix/followers",
      "following_url": "https://api.github.com/users/DaGenix/following{/other_user}",
      "gists_url": "https://api.github.com/users/DaGenix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DaGenix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DaGenix/subscriptions",
      "organizations_url": "https://api.github.com/users/DaGenix/orgs",
      "repos_url": "https://api.github.com/users/DaGenix/repos",
      "events_url": "https://api.github.com/users/DaGenix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DaGenix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-09-14T04:53:39Z",
    "updated_at": "2013-09-14T04:53:39Z",
    "body": "I emailed the author of the optnone patches for LLVM who said that the purpose of the patches is to disable optimizations for certain functions to help with debugging. The optnone option won't disable _all_ optimizations, even when finished. Specifically, inter-procedural optimizations will still be done. Its a bit unclear to me if that would risk breaking the constant time property of the function. Anyway, its not really feasible to analyze it all that much deeper at the current time since the patches haven't been completed yet.\n\nI don't think that we need to assume that any implementation is vulnerable. However, any implementation that passes through LLVM's optimization passes may be. I'll post a re-based version of these patches shortly that re-implements the fixed_time_eq function using assembly which should guarantee that LLVM's optimizer won't get in the way, even without optnone.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/24436896/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/24437118",
    "html_url": "https://github.com/rust-lang/rust/pull/8989#issuecomment-24437118",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8989",
    "id": 24437118,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0NDM3MTE4",
    "user": {
      "login": "DaGenix",
      "id": 2101211,
      "node_id": "MDQ6VXNlcjIxMDEyMTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2101211?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DaGenix",
      "html_url": "https://github.com/DaGenix",
      "followers_url": "https://api.github.com/users/DaGenix/followers",
      "following_url": "https://api.github.com/users/DaGenix/following{/other_user}",
      "gists_url": "https://api.github.com/users/DaGenix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DaGenix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DaGenix/subscriptions",
      "organizations_url": "https://api.github.com/users/DaGenix/orgs",
      "repos_url": "https://api.github.com/users/DaGenix/repos",
      "events_url": "https://api.github.com/users/DaGenix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DaGenix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-09-14T05:13:01Z",
    "updated_at": "2013-09-14T05:13:01Z",
    "body": "Rebased the commit to address all comments (except as noted below). If I didn't address anything, it's something I missed so please point it out to me so I can fixup my changes! \n\nI consider this to be basically an RFC state - I want to get more feedback, but even in the unlikely case that everything looks great, please don't r+ since I want to run more tests to make sure that everything is working.\n\nNotes:\n- The pbkdf2_simple and scrypt_simple() functions both depend on IsaacRng being a cryptographically strong RNG. I believe that this is true and checked the code to make sure that it is being seeded from good quality random data (/dev/urandom on UNIX and the equivalent on Windows).\n- I didn't modify the format of the hash strings. I'd be happy to implement the same format as another library if someone could point me in the direction of the format that they would like me to implement.\n- I left the function names unchanged. I'm not sure what to change them to. scrypt::scrypt() is indeed unfortunate, however, I'm not sure what name would be better in the case that someone imports the functions directly. Suggestions are very welcome.\n- I didn't create a separate module for cryptoutil yet. This makes sense to me, so, I'll get this done the next time I rebase this series.\n- I removed the #[cfg]s that disabled Scrypt on 16bit platforms. Scrypt isn't really all that useful on such platforms since it needs big chunks of memory to operate on. However, I thought that just disabling it was kinda yucky. So, instead, I implemented checks to make sure that provided parameter values will fit within a uint on all platforms. I couldn't find existing Rust functions to do that type of check, so I implemented the CheckedNumCast trait in std::num; A side question: is (vec.len() / 32 < 0xffffffff) well defined if a uint is only 16 bits? I'm assuming that LLVM will just optimize that into a no-op, but, I'm not sure.\n- I added the #[experimental] annotation to all the relevant functions. As noted by @huonw, it won't work on non-free standing functions. I'm not sure what to do about that.\n- I implemented the comments about using chunk_iter(). The only issue is that there didn't appear to be an implementation of mut_chunk_iter(), so I implemented one in vec.rs.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/24437118/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/24437207",
    "html_url": "https://github.com/rust-lang/rust/pull/8989#issuecomment-24437207",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8989",
    "id": 24437207,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0NDM3MjA3",
    "user": {
      "login": "DaGenix",
      "id": 2101211,
      "node_id": "MDQ6VXNlcjIxMDEyMTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2101211?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DaGenix",
      "html_url": "https://github.com/DaGenix",
      "followers_url": "https://api.github.com/users/DaGenix/followers",
      "following_url": "https://api.github.com/users/DaGenix/following{/other_user}",
      "gists_url": "https://api.github.com/users/DaGenix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DaGenix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DaGenix/subscriptions",
      "organizations_url": "https://api.github.com/users/DaGenix/orgs",
      "repos_url": "https://api.github.com/users/DaGenix/repos",
      "events_url": "https://api.github.com/users/DaGenix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DaGenix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-09-14T05:21:48Z",
    "updated_at": "2013-09-14T05:21:48Z",
    "body": "Oh, I also re-wrote the fixed_time_eq() function in assembly using asm!() for both x86 and ARM which should guarantee that the function won't be turned into a non-fixed time function by an LLVM optimization pass. I tested on x86_64 and ARM. I didn't test on 32-bit x86, but I believe it should work there too. I don't think there are any other architectures that Rust currently compiles for.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/24437207/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/24437266",
    "html_url": "https://github.com/rust-lang/rust/pull/8989#issuecomment-24437266",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8989",
    "id": 24437266,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0NDM3MjY2",
    "user": {
      "login": "klutzy",
      "id": 1589355,
      "node_id": "MDQ6VXNlcjE1ODkzNTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1589355?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/klutzy",
      "html_url": "https://github.com/klutzy",
      "followers_url": "https://api.github.com/users/klutzy/followers",
      "following_url": "https://api.github.com/users/klutzy/following{/other_user}",
      "gists_url": "https://api.github.com/users/klutzy/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/klutzy/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/klutzy/subscriptions",
      "organizations_url": "https://api.github.com/users/klutzy/orgs",
      "repos_url": "https://api.github.com/users/klutzy/repos",
      "events_url": "https://api.github.com/users/klutzy/events{/privacy}",
      "received_events_url": "https://api.github.com/users/klutzy/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-09-14T05:27:24Z",
    "updated_at": "2013-09-14T05:27:24Z",
    "body": "Wow, thanks a lot!\n\nOn optnone, sanxiyn corrected it above but I just misread his comment. sorry for confusion!  I now think assembly is the right way to do it safely.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/24437266/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/24437310",
    "html_url": "https://github.com/rust-lang/rust/pull/8989#issuecomment-24437310",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8989",
    "id": 24437310,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0NDM3MzEw",
    "user": {
      "login": "luqmana",
      "id": 287063,
      "node_id": "MDQ6VXNlcjI4NzA2Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/287063?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luqmana",
      "html_url": "https://github.com/luqmana",
      "followers_url": "https://api.github.com/users/luqmana/followers",
      "following_url": "https://api.github.com/users/luqmana/following{/other_user}",
      "gists_url": "https://api.github.com/users/luqmana/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luqmana/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luqmana/subscriptions",
      "organizations_url": "https://api.github.com/users/luqmana/orgs",
      "repos_url": "https://api.github.com/users/luqmana/repos",
      "events_url": "https://api.github.com/users/luqmana/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luqmana/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-09-14T05:32:06Z",
    "updated_at": "2013-09-14T05:32:06Z",
    "body": "@DaGenix Well there's some level of mips support, but I'm not sure if it even works right now since I don't think anyone builds or tests it.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/24437310/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/24602320",
    "html_url": "https://github.com/rust-lang/rust/pull/8989#issuecomment-24602320",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8989",
    "id": 24602320,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0NjAyMzIw",
    "user": {
      "login": "pcwalton",
      "id": 157897,
      "node_id": "MDQ6VXNlcjE1Nzg5Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/157897?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pcwalton",
      "html_url": "https://github.com/pcwalton",
      "followers_url": "https://api.github.com/users/pcwalton/followers",
      "following_url": "https://api.github.com/users/pcwalton/following{/other_user}",
      "gists_url": "https://api.github.com/users/pcwalton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pcwalton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pcwalton/subscriptions",
      "organizations_url": "https://api.github.com/users/pcwalton/orgs",
      "repos_url": "https://api.github.com/users/pcwalton/repos",
      "events_url": "https://api.github.com/users/pcwalton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pcwalton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-09-17T16:30:49Z",
    "updated_at": "2013-09-17T16:30:49Z",
    "body": "FWIW, the recommendation from the Mozilla security engineers I've talked to is that Rust not implement any crypto primitives and instead delegate to NSS or OpenSSL.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/24602320/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/24605038",
    "html_url": "https://github.com/rust-lang/rust/pull/8989#issuecomment-24605038",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8989",
    "id": 24605038,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0NjA1MDM4",
    "user": {
      "login": "thestinger",
      "id": 1505226,
      "node_id": "MDQ6VXNlcjE1MDUyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thestinger",
      "html_url": "https://github.com/thestinger",
      "followers_url": "https://api.github.com/users/thestinger/followers",
      "following_url": "https://api.github.com/users/thestinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions",
      "organizations_url": "https://api.github.com/users/thestinger/orgs",
      "repos_url": "https://api.github.com/users/thestinger/repos",
      "events_url": "https://api.github.com/users/thestinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thestinger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-09-17T17:05:51Z",
    "updated_at": "2013-09-17T17:05:51Z",
    "body": "@pcwalton: we can tag functions as `#[experimental]` now (throwing lint warnings for users), so I think it makes sense to add this stuff but leave it flagged until we have domain experts to review it\n\nOpenSSL isn't GPL-compatible, so it would rule out static linking for many users, and with NSS they would be responsible for making the NSS source available (as with LGPL).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/24605038/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/24699585",
    "html_url": "https://github.com/rust-lang/rust/pull/8989#issuecomment-24699585",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8989",
    "id": 24699585,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0Njk5NTg1",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-09-18T21:08:27Z",
    "updated_at": "2013-09-18T21:08:27Z",
    "body": "While this is an impressive piece of code, people much smarter that me warn against reimplementing crypto, and the current consensus on the team is that we should not do it. This would be great material for an external Rust package, for users who understand the tradeoffs, but I'm not comfortable maintaining hand-rolled crypto, nor exposing users to it in the standard distribution.\n\nThanks for your patience and effort @DaGenix. Closing.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/24699585/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
