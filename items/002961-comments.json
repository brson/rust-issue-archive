[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/7109179",
    "html_url": "https://github.com/rust-lang/rust/issues/2961#issuecomment-7109179",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/2961",
    "id": 7109179,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxMDkxNzk=",
    "user": {
      "login": "catamorphism",
      "id": 427212,
      "node_id": "MDQ6VXNlcjQyNzIxMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/427212?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/catamorphism",
      "html_url": "https://github.com/catamorphism",
      "followers_url": "https://api.github.com/users/catamorphism/followers",
      "following_url": "https://api.github.com/users/catamorphism/following{/other_user}",
      "gists_url": "https://api.github.com/users/catamorphism/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/catamorphism/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/catamorphism/subscriptions",
      "organizations_url": "https://api.github.com/users/catamorphism/orgs",
      "repos_url": "https://api.github.com/users/catamorphism/repos",
      "events_url": "https://api.github.com/users/catamorphism/events{/privacy}",
      "received_events_url": "https://api.github.com/users/catamorphism/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-07-19T19:12:39Z",
    "updated_at": "2012-07-19T19:12:39Z",
    "body": "In git HEAD, this example gets rejected for a different reason: now that we check for coherence, we no longer have impls that don't implement a trait. So you would have to change `vec3_ops` so it implements a trait.\n\nYou could rewrite the code using a trait, but then the coherence checker would reject it, because you would be doing something like:\n\n```\ntrait times<IN, OUT> {\n  fn *(&&x: IN) -> OUT;\n}\n\nimpl of times<float, vec3> for vec3 {\n  fn *(f: float) -> vec3 {\n        { x: self.x * f, y: self.y * f,  z: self.z * f }\n  }\n}\n\nimpl of times<vec3, float> for vec3 {\n  fn *(v: vec3) -> float {\n        (self.x * v.x) + (self.y * v.y) + (self.z * v.z)\n  }\n}\n```\n\nThe coherence checker would reject the two instances of `vec3` as overlapping, even though they don't really overlap. (This is similar to Haskell, where in Haskell 98, analogous code would be rejected, but if you enabled GHC's FlexibleInstances and FlexibleContexts extensions (which everyone does in practice), it would be accepted.)\n\nRight now it seems unlikely to me that we will support this form of overloading via traits. Among people on the core team, I think most of us think that overloading adds a lot of cognitive burden for people trying to read and understand new code.\n\nIt's a good question, and one that the past decade or so of work on type class extensions in Haskell addresses, but in Rust we're trying to keep our goals modest ;-)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/7109179/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/7122891",
    "html_url": "https://github.com/rust-lang/rust/issues/2961#issuecomment-7122891",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/2961",
    "id": 7122891,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxMjI4OTE=",
    "user": {
      "login": "brendanzab",
      "id": 695077,
      "node_id": "MDQ6VXNlcjY5NTA3Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/695077?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brendanzab",
      "html_url": "https://github.com/brendanzab",
      "followers_url": "https://api.github.com/users/brendanzab/followers",
      "following_url": "https://api.github.com/users/brendanzab/following{/other_user}",
      "gists_url": "https://api.github.com/users/brendanzab/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brendanzab/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brendanzab/subscriptions",
      "organizations_url": "https://api.github.com/users/brendanzab/orgs",
      "repos_url": "https://api.github.com/users/brendanzab/repos",
      "events_url": "https://api.github.com/users/brendanzab/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brendanzab/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-07-20T05:54:06Z",
    "updated_at": "2012-07-20T05:58:42Z",
    "body": "Ahh, I didn't realise that that there were no function overloads at all in rust. Whilst it is slightly annoying as I want to be able to keep my code terse, I can see the reasoning in terms of cognitive burden.\n\nI may have missed it, but I didn't notice any mention of this in the tutorial. It might be worthwhile making this decision (and the reasoning behind it) a little more clear to people coming from other languages.\n\nYou know, I almost wish there were no operator overloads now to save people from false expectations. I'll probably shift most of my overloads to plain old functions to keep things consistent. Ie. `my_matrix.mult_vec3(vector)`, `my_matrix.mult_float(f)`, `my_matrix.mult_mat3(other_matrix)`\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/7122891/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/7184501",
    "html_url": "https://github.com/rust-lang/rust/issues/2961#issuecomment-7184501",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/2961",
    "id": 7184501,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxODQ1MDE=",
    "user": {
      "login": "catamorphism",
      "id": 427212,
      "node_id": "MDQ6VXNlcjQyNzIxMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/427212?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/catamorphism",
      "html_url": "https://github.com/catamorphism",
      "followers_url": "https://api.github.com/users/catamorphism/followers",
      "following_url": "https://api.github.com/users/catamorphism/following{/other_user}",
      "gists_url": "https://api.github.com/users/catamorphism/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/catamorphism/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/catamorphism/subscriptions",
      "organizations_url": "https://api.github.com/users/catamorphism/orgs",
      "repos_url": "https://api.github.com/users/catamorphism/repos",
      "events_url": "https://api.github.com/users/catamorphism/events{/privacy}",
      "received_events_url": "https://api.github.com/users/catamorphism/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-07-23T17:21:09Z",
    "updated_at": "2012-07-23T17:21:09Z",
    "body": "@bjz - We allow overloads. We don't allow overloads of the same function with different return types. This is, I believe, similar to Java's typechecking rules.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/7184501/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/7187115",
    "html_url": "https://github.com/rust-lang/rust/issues/2961#issuecomment-7187115",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/2961",
    "id": 7187115,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxODcxMTU=",
    "user": {
      "login": "graydon",
      "id": 14097,
      "node_id": "MDQ6VXNlcjE0MDk3",
      "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/graydon",
      "html_url": "https://github.com/graydon",
      "followers_url": "https://api.github.com/users/graydon/followers",
      "following_url": "https://api.github.com/users/graydon/following{/other_user}",
      "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/graydon/subscriptions",
      "organizations_url": "https://api.github.com/users/graydon/orgs",
      "repos_url": "https://api.github.com/users/graydon/repos",
      "events_url": "https://api.github.com/users/graydon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/graydon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-07-23T18:44:47Z",
    "updated_at": "2012-07-23T18:44:47Z",
    "body": "Less than that even. We require overloads to differ by self (impl) type, and permit at most one use of a name per self type.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/7187115/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/7255453",
    "html_url": "https://github.com/rust-lang/rust/issues/2961#issuecomment-7255453",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/2961",
    "id": 7255453,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyNTU0NTM=",
    "user": {
      "login": "pcwalton",
      "id": 157897,
      "node_id": "MDQ6VXNlcjE1Nzg5Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/157897?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pcwalton",
      "html_url": "https://github.com/pcwalton",
      "followers_url": "https://api.github.com/users/pcwalton/followers",
      "following_url": "https://api.github.com/users/pcwalton/following{/other_user}",
      "gists_url": "https://api.github.com/users/pcwalton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pcwalton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pcwalton/subscriptions",
      "organizations_url": "https://api.github.com/users/pcwalton/orgs",
      "repos_url": "https://api.github.com/users/pcwalton/repos",
      "events_url": "https://api.github.com/users/pcwalton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pcwalton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-07-25T17:21:13Z",
    "updated_at": "2012-07-25T17:21:13Z",
    "body": "As I pointed out on HN, I believe this works:\n\n```\ntrait MatrixMultiplyRHS<Result> {\n    fn mul(matrix: Matrix) -> Result;\n}\n\nimpl<RHS:MatrixMultiplyRHS<Result>,Result> Matrix : Mul<RHS, Result> {\n    fn mul(rhs: RHS) -> Result {\n        rhs.mul(self)\n    }\n}\n\nimpl float : MatrixMultiplyRHS<Matrix> {\n    fn mul(matrix: Matrix) -> Matrix {\n        // ...implementation of matrix scalar multiply...\n    }\n}\n\nimpl Vector : MatrixMultiplyRHS<Vector> {\n    fn mul(matrix: Matrix) -> Vector {\n        // ... implementation of matrix multiply for vectors ...\n    }\n}\n\nimpl Matrix : MatrixMultiplyRHS<Matrix> {\n    fn mul(matrix: Matrix) -> Matrix {\n        // ... implementation of matrix multiply for matrices ...\n    }\n}\n```\n\n(Once Mul becomes a trait, of course.)\n\nFeel free to reopen if this doesn't work for some reason.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/7255453/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
