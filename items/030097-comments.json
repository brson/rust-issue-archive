[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/160344750",
    "html_url": "https://github.com/rust-lang/rust/issues/30097#issuecomment-160344750",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30097",
    "id": 160344750,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2MDM0NDc1MA==",
    "user": {
      "login": "arielb1",
      "id": 1830974,
      "node_id": "MDQ6VXNlcjE4MzA5NzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1830974?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/arielb1",
      "html_url": "https://github.com/arielb1",
      "followers_url": "https://api.github.com/users/arielb1/followers",
      "following_url": "https://api.github.com/users/arielb1/following{/other_user}",
      "gists_url": "https://api.github.com/users/arielb1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/arielb1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/arielb1/subscriptions",
      "organizations_url": "https://api.github.com/users/arielb1/orgs",
      "repos_url": "https://api.github.com/users/arielb1/repos",
      "events_url": "https://api.github.com/users/arielb1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/arielb1/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-11-28T23:05:43Z",
    "updated_at": "2015-11-28T23:06:13Z",
    "body": "`match` is not involved here. `unconditional_recursion` complains when there is a path in the function that recurs and no path in the function that terminates without recurring. For example:\n\n``` Rust\nextern \"C\" { fn rand() -> i32; }\n\nfn q() { //~ WARNING function cannot return without recurring\n    if unsafe { rand()%2 == 0 } {\n        q(); // this path recurs\n    } else {\n        panic!(); // this path does not terminate\n    }\n}\nfn main() { q(); }\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/160344750/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/160824930",
    "html_url": "https://github.com/rust-lang/rust/issues/30097#issuecomment-160824930",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30097",
    "id": 160824930,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2MDgyNDkzMA==",
    "user": {
      "login": "tbu-",
      "id": 6666593,
      "node_id": "MDQ6VXNlcjY2NjY1OTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6666593?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tbu-",
      "html_url": "https://github.com/tbu-",
      "followers_url": "https://api.github.com/users/tbu-/followers",
      "following_url": "https://api.github.com/users/tbu-/following{/other_user}",
      "gists_url": "https://api.github.com/users/tbu-/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tbu-/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tbu-/subscriptions",
      "organizations_url": "https://api.github.com/users/tbu-/orgs",
      "repos_url": "https://api.github.com/users/tbu-/repos",
      "events_url": "https://api.github.com/users/tbu-/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tbu-/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-12-01T02:05:46Z",
    "updated_at": "2015-12-01T02:05:46Z",
    "body": "Is this a false-positive? You could as well just call `panic!`\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/160824930/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/160841256",
    "html_url": "https://github.com/rust-lang/rust/issues/30097#issuecomment-160841256",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30097",
    "id": 160841256,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2MDg0MTI1Ng==",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-12-01T03:33:40Z",
    "updated_at": "2015-12-01T03:33:58Z",
    "body": "The lint makes the (slightly) opinionated decision that `panic!()`ing (and other forms of divergence) are not a useful/\"correct\" way for a function to exit. I believe this is actually required to catch code like the following, which certainly _feels_ like it should be considered unconditional recursion:\n\n``` rust\nfn foo(x: i32) {\n    assert!(x < 10);\n    foo(x - 1);\n}\n```\n\nThe only thing `get_ast_type_type` or `foo` will do is call themselves some number of times (possibly zero), and then panic; which doesn't seem like a useful/the best arrangement.\n\n(FWIW, I worded the error message somewhat carefully to cover this case exactly: it says \"cannot return without recurring\" rather than \"always recurs\", since panicking/diverging aren't returns.)\n\nI'm closing as not a bug, but feel free to reopen, if anyone strongly disagrees.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/160841256/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/160926745",
    "html_url": "https://github.com/rust-lang/rust/issues/30097#issuecomment-160926745",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30097",
    "id": 160926745,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2MDkyNjc0NQ==",
    "user": {
      "login": "nagisa",
      "id": 679122,
      "node_id": "MDQ6VXNlcjY3OTEyMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/679122?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nagisa",
      "html_url": "https://github.com/nagisa",
      "followers_url": "https://api.github.com/users/nagisa/followers",
      "following_url": "https://api.github.com/users/nagisa/following{/other_user}",
      "gists_url": "https://api.github.com/users/nagisa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nagisa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nagisa/subscriptions",
      "organizations_url": "https://api.github.com/users/nagisa/orgs",
      "repos_url": "https://api.github.com/users/nagisa/repos",
      "events_url": "https://api.github.com/users/nagisa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nagisa/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-12-01T10:23:12Z",
    "updated_at": "2015-12-01T10:28:29Z",
    "body": "> You could as well just call panic!\n\nYou\u2019re focusing on `panic!` too much :) This is supposed to be a minimal example.\n\n---\n\nI still think it is wrong to choose to emit or not emit this lint depending on diverge-ness of all other branches. E.g. consider this:\n\n``` rust\nenum T {\n    A(Box<T>),\n    B,\n    C\n}\n\nfn get_ast_type_type(t: &T) {\n    match *t {\n        T::A(ref tt) => get_ast_type_type(tt),\n        T::C => ::std::process::exit(1),\n        T::B => ::std::process::exit(0),\n    }\n}\n\nfn main(){}\n```\n\nwhich could be totally plausible code .\n\n---\n\n@huonw gentle reminder that plebeians such as myself can\u2019t reopen issues closed by owners/collaborators.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/160926745/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/160943519",
    "html_url": "https://github.com/rust-lang/rust/issues/30097#issuecomment-160943519",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30097",
    "id": 160943519,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2MDk0MzUxOQ==",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-12-01T11:43:23Z",
    "updated_at": "2015-12-01T11:43:38Z",
    "body": "> which could be totally plausible code .\n\nI think it is somewhat implausible; and not really plausible enough to hamstring this lint for other far more common situations. As the lint suggests, things can be rewritten with a loop, which expresses the intention (of looping and exiting without ever doing any real work) better.\n\n> gentle reminder that plebeians such as myself can\u2019t reopen issues closed by owners/collaborators.\n\nThe standard protocol is that people without the privileges just ask to reopen (either here or on IRC), sorry for being less clear. Which is what I assume you are doing implicitly?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/160943519/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/162177870",
    "html_url": "https://github.com/rust-lang/rust/issues/30097#issuecomment-162177870",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30097",
    "id": 162177870,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2MjE3Nzg3MA==",
    "user": {
      "login": "nagisa",
      "id": 679122,
      "node_id": "MDQ6VXNlcjY3OTEyMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/679122?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nagisa",
      "html_url": "https://github.com/nagisa",
      "followers_url": "https://api.github.com/users/nagisa/followers",
      "following_url": "https://api.github.com/users/nagisa/following{/other_user}",
      "gists_url": "https://api.github.com/users/nagisa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nagisa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nagisa/subscriptions",
      "organizations_url": "https://api.github.com/users/nagisa/orgs",
      "repos_url": "https://api.github.com/users/nagisa/repos",
      "events_url": "https://api.github.com/users/nagisa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nagisa/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-12-05T12:32:28Z",
    "updated_at": "2015-12-05T12:32:28Z",
    "body": "> I think it is somewhat implausible\n\nOkay, I won\u2019t push it hard then, I guess.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/162177870/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
