[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/141708514",
    "html_url": "https://github.com/rust-lang/rust/issues/28356#issuecomment-141708514",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/28356",
    "id": 141708514,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0MTcwODUxNA==",
    "user": {
      "login": "timcharper",
      "id": 183,
      "node_id": "MDQ6VXNlcjE4Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/183?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/timcharper",
      "html_url": "https://github.com/timcharper",
      "followers_url": "https://api.github.com/users/timcharper/followers",
      "following_url": "https://api.github.com/users/timcharper/following{/other_user}",
      "gists_url": "https://api.github.com/users/timcharper/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/timcharper/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/timcharper/subscriptions",
      "organizations_url": "https://api.github.com/users/timcharper/orgs",
      "repos_url": "https://api.github.com/users/timcharper/repos",
      "events_url": "https://api.github.com/users/timcharper/events{/privacy}",
      "received_events_url": "https://api.github.com/users/timcharper/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-09-19T21:23:13Z",
    "updated_at": "2015-09-19T21:23:13Z",
    "body": "@alexcrichton I think there may be a good use for `strong_count` in detecting un-fulfillable promises. Although, I am struggling with it, because most cases I think of are racy.\n\nIf you try and `get` the value of a promise synchronously, and there is only one instance of the promise, then you can fail the promise ahead of time because either nobody is listening, or nobody is fulfilling.\n\n![promise](https://cloud.githubusercontent.com/assets/183/9978226/55c0a030-5ee2-11e5-9e37-e1c2b00dccf5.png)\n\nSee the discussion here: https://github.com/viperscape/rust-promise/issues/3\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/141708514/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/141708771",
    "html_url": "https://github.com/rust-lang/rust/issues/28356#issuecomment-141708771",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/28356",
    "id": 141708771,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0MTcwODc3MQ==",
    "user": {
      "login": "timcharper",
      "id": 183,
      "node_id": "MDQ6VXNlcjE4Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/183?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/timcharper",
      "html_url": "https://github.com/timcharper",
      "followers_url": "https://api.github.com/users/timcharper/followers",
      "following_url": "https://api.github.com/users/timcharper/following{/other_user}",
      "gists_url": "https://api.github.com/users/timcharper/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/timcharper/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/timcharper/subscriptions",
      "organizations_url": "https://api.github.com/users/timcharper/orgs",
      "repos_url": "https://api.github.com/users/timcharper/repos",
      "events_url": "https://api.github.com/users/timcharper/events{/privacy}",
      "received_events_url": "https://api.github.com/users/timcharper/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-09-19T21:26:23Z",
    "updated_at": "2015-09-26T03:04:21Z",
    "body": "The more I think about this, I think the more your point about `hard_count` being finicky is corroborated. This case is racey and complex. It'd be better / more deterministic to just have the promise register itself to listen for a thread panic, and just fail if it does.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/141708771/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/141748739",
    "html_url": "https://github.com/rust-lang/rust/issues/28356#issuecomment-141748739",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/28356",
    "id": 141748739,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0MTc0ODczOQ==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-09-20T05:07:44Z",
    "updated_at": "2015-09-20T05:07:44Z",
    "body": "@timcharper yeah in general the methods on `Arc` are inherently racy, but there's a point that can be made where there's external synchronization in play so the raciness doesn't actually happen in some specific scenarios (in which case these may be desired)\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/141748739/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/156233245",
    "html_url": "https://github.com/rust-lang/rust/issues/28356#issuecomment-156233245",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/28356",
    "id": 156233245,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1NjIzMzI0NQ==",
    "user": {
      "login": "jethrogb",
      "id": 1132307,
      "node_id": "MDQ6VXNlcjExMzIzMDc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1132307?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jethrogb",
      "html_url": "https://github.com/jethrogb",
      "followers_url": "https://api.github.com/users/jethrogb/followers",
      "following_url": "https://api.github.com/users/jethrogb/following{/other_user}",
      "gists_url": "https://api.github.com/users/jethrogb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jethrogb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jethrogb/subscriptions",
      "organizations_url": "https://api.github.com/users/jethrogb/orgs",
      "repos_url": "https://api.github.com/users/jethrogb/repos",
      "events_url": "https://api.github.com/users/jethrogb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jethrogb/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-11-12T21:04:12Z",
    "updated_at": "2015-11-12T21:04:12Z",
    "body": "I rewrote my usecase for `strong_count` to work with `Option<Arc<_>>` and `Arc::try_unwrap` so I no longer actually need this.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/156233245/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/165977597",
    "html_url": "https://github.com/rust-lang/rust/issues/28356#issuecomment-165977597",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/28356",
    "id": 165977597,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2NTk3NzU5Nw==",
    "user": {
      "login": "shahn",
      "id": 128636,
      "node_id": "MDQ6VXNlcjEyODYzNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/128636?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shahn",
      "html_url": "https://github.com/shahn",
      "followers_url": "https://api.github.com/users/shahn/followers",
      "following_url": "https://api.github.com/users/shahn/following{/other_user}",
      "gists_url": "https://api.github.com/users/shahn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shahn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shahn/subscriptions",
      "organizations_url": "https://api.github.com/users/shahn/orgs",
      "repos_url": "https://api.github.com/users/shahn/repos",
      "events_url": "https://api.github.com/users/shahn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shahn/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-12-19T11:26:22Z",
    "updated_at": "2015-12-19T11:26:22Z",
    "body": "If this gets stabilized, these APIs should get added to the respective Weak as well I'm thinking\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/165977597/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/167032395",
    "html_url": "https://github.com/rust-lang/rust/issues/28356#issuecomment-167032395",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/28356",
    "id": 167032395,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2NzAzMjM5NQ==",
    "user": {
      "login": "johalun",
      "id": 6335180,
      "node_id": "MDQ6VXNlcjYzMzUxODA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6335180?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/johalun",
      "html_url": "https://github.com/johalun",
      "followers_url": "https://api.github.com/users/johalun/followers",
      "following_url": "https://api.github.com/users/johalun/following{/other_user}",
      "gists_url": "https://api.github.com/users/johalun/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/johalun/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/johalun/subscriptions",
      "organizations_url": "https://api.github.com/users/johalun/orgs",
      "repos_url": "https://api.github.com/users/johalun/repos",
      "events_url": "https://api.github.com/users/johalun/events{/privacy}",
      "received_events_url": "https://api.github.com/users/johalun/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-12-24T02:56:38Z",
    "updated_at": "2015-12-24T02:56:38Z",
    "body": "What is planned for arc_counts? I would like to use it because I need to do ffi call to c library when the last Arc pointer is dropped but don't wanna start using it if it might disappear soon.. Maybe a different approach would be to do the call when the inner structure is being dropped, that would definitely be when the last pointer is dropped because is has only one owner..\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/167032395/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/167539821",
    "html_url": "https://github.com/rust-lang/rust/issues/28356#issuecomment-167539821",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/28356",
    "id": 167539821,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2NzUzOTgyMQ==",
    "user": {
      "login": "ticki",
      "id": 13349091,
      "node_id": "MDQ6VXNlcjEzMzQ5MDkx",
      "avatar_url": "https://avatars.githubusercontent.com/u/13349091?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ticki",
      "html_url": "https://github.com/ticki",
      "followers_url": "https://api.github.com/users/ticki/followers",
      "following_url": "https://api.github.com/users/ticki/following{/other_user}",
      "gists_url": "https://api.github.com/users/ticki/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ticki/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ticki/subscriptions",
      "organizations_url": "https://api.github.com/users/ticki/orgs",
      "repos_url": "https://api.github.com/users/ticki/repos",
      "events_url": "https://api.github.com/users/ticki/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ticki/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-12-28T10:32:27Z",
    "updated_at": "2015-12-28T10:32:27Z",
    "body": "May I ask: What is the point of `Arc` and `Rc` keeping the weak reference count? They should be irrelevant to them.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/167539821/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/167576938",
    "html_url": "https://github.com/rust-lang/rust/issues/28356#issuecomment-167576938",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/28356",
    "id": 167576938,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2NzU3NjkzOA==",
    "user": {
      "login": "Gankra",
      "id": 1136864,
      "node_id": "MDQ6VXNlcjExMzY4NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1136864?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Gankra",
      "html_url": "https://github.com/Gankra",
      "followers_url": "https://api.github.com/users/Gankra/followers",
      "following_url": "https://api.github.com/users/Gankra/following{/other_user}",
      "gists_url": "https://api.github.com/users/Gankra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Gankra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Gankra/subscriptions",
      "organizations_url": "https://api.github.com/users/Gankra/orgs",
      "repos_url": "https://api.github.com/users/Gankra/repos",
      "events_url": "https://api.github.com/users/Gankra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Gankra/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-12-28T13:59:07Z",
    "updated_at": "2015-12-28T13:59:07Z",
    "body": "@Ticki I don't understand the question. Rc/Weak are dual types that have different interpretations of the same memory. Individual Rc/Weaks do not store a count. Rather, they all share RcBoxes to coordinate these counts.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/167576938/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/167597638",
    "html_url": "https://github.com/rust-lang/rust/issues/28356#issuecomment-167597638",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/28356",
    "id": 167597638,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2NzU5NzYzOA==",
    "user": {
      "login": "ticki",
      "id": 13349091,
      "node_id": "MDQ6VXNlcjEzMzQ5MDkx",
      "avatar_url": "https://avatars.githubusercontent.com/u/13349091?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ticki",
      "html_url": "https://github.com/ticki",
      "followers_url": "https://api.github.com/users/ticki/followers",
      "following_url": "https://api.github.com/users/ticki/following{/other_user}",
      "gists_url": "https://api.github.com/users/ticki/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ticki/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ticki/subscriptions",
      "organizations_url": "https://api.github.com/users/ticki/orgs",
      "repos_url": "https://api.github.com/users/ticki/repos",
      "events_url": "https://api.github.com/users/ticki/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ticki/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-12-28T16:21:17Z",
    "updated_at": "2015-12-28T16:21:17Z",
    "body": "> I don't understand the question. Rc/Weak are dual types that have different interpretations of the same memory. Individual Rc/Weaks do not store a count. Rather, they all share RcBoxes to coordinate these counts.\n\nYeah, that's right. They're just pointers to the actual data plus a weak and a strong reference count. What I ask is: why do they keep track of the weak reference count? For example, C++ and Obj-C do not count the weak references.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/167597638/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/167599421",
    "html_url": "https://github.com/rust-lang/rust/issues/28356#issuecomment-167599421",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/28356",
    "id": 167599421,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2NzU5OTQyMQ==",
    "user": {
      "login": "timcharper",
      "id": 183,
      "node_id": "MDQ6VXNlcjE4Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/183?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/timcharper",
      "html_url": "https://github.com/timcharper",
      "followers_url": "https://api.github.com/users/timcharper/followers",
      "following_url": "https://api.github.com/users/timcharper/following{/other_user}",
      "gists_url": "https://api.github.com/users/timcharper/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/timcharper/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/timcharper/subscriptions",
      "organizations_url": "https://api.github.com/users/timcharper/orgs",
      "repos_url": "https://api.github.com/users/timcharper/repos",
      "events_url": "https://api.github.com/users/timcharper/events{/privacy}",
      "received_events_url": "https://api.github.com/users/timcharper/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-12-28T16:30:01Z",
    "updated_at": "2015-12-28T16:30:01Z",
    "body": "If I were to venture a guess, strong reference counts are used to know when the ARC contained data should be freed, weak reference counts are used to know when the ARC container should be freed. \n\nI'm surprised to learn that C++ / Obj-C don't do this (at least, under the hood). What data structure does the weak reference query to learn if the memory has been freed?\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/167599421/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/167600194",
    "html_url": "https://github.com/rust-lang/rust/issues/28356#issuecomment-167600194",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/28356",
    "id": 167600194,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2NzYwMDE5NA==",
    "user": {
      "login": "ticki",
      "id": 13349091,
      "node_id": "MDQ6VXNlcjEzMzQ5MDkx",
      "avatar_url": "https://avatars.githubusercontent.com/u/13349091?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ticki",
      "html_url": "https://github.com/ticki",
      "followers_url": "https://api.github.com/users/ticki/followers",
      "following_url": "https://api.github.com/users/ticki/following{/other_user}",
      "gists_url": "https://api.github.com/users/ticki/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ticki/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ticki/subscriptions",
      "organizations_url": "https://api.github.com/users/ticki/orgs",
      "repos_url": "https://api.github.com/users/ticki/repos",
      "events_url": "https://api.github.com/users/ticki/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ticki/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-12-28T16:35:42Z",
    "updated_at": "2015-12-28T16:35:42Z",
    "body": "In fact, I was wrong about C++ shared_ptr:\n\n>  The control block is a dynamically-allocated object that holds: \n> - either a pointer to the managed object or the managed object itself;\n> - the deleter (type-erased);\n> - The allocator (type-erased);\n> - the number of shared_ptrs that own the managed object;\n> - **the number of weak_ptrs that refer to the managed object.**\n\n(emphasis mine)\n\nSource: http://en.cppreference.com/w/cpp/memory/shared_ptr\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/167600194/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/167847864",
    "html_url": "https://github.com/rust-lang/rust/issues/28356#issuecomment-167847864",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/28356",
    "id": 167847864,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2Nzg0Nzg2NA==",
    "user": {
      "login": "Gankra",
      "id": 1136864,
      "node_id": "MDQ6VXNlcjExMzY4NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1136864?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Gankra",
      "html_url": "https://github.com/Gankra",
      "followers_url": "https://api.github.com/users/Gankra/followers",
      "following_url": "https://api.github.com/users/Gankra/following{/other_user}",
      "gists_url": "https://api.github.com/users/Gankra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Gankra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Gankra/subscriptions",
      "organizations_url": "https://api.github.com/users/Gankra/orgs",
      "repos_url": "https://api.github.com/users/Gankra/repos",
      "events_url": "https://api.github.com/users/Gankra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Gankra/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-12-29T18:22:57Z",
    "updated_at": "2015-12-29T18:22:57Z",
    "body": "Obj-C strategy is explained here: https://mikeash.com/pyblog/friday-qa-2010-07-16-zeroing-weak-references-in-objective-c.html\n\nBasically: every class instance has a set of \"locations of weak pointers\". When its strong count hits 0, it traverses the set, nulls out those pointers, and then frees all of its allocations.\n\nThis can't be implemented in Rust, because it requires weak pointers to have significant locations in memory. Would necessitate overloading move (never gonna happen), or runtime support (unlikely to happen).\n\nThat said, @pnkfelix has been working on the notion of stack introspection hooks for GC's, which could maybe accommodate this use-case..? Not something we would retrofit Arc/Rc to use, but something someone could do with their own custom types.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/167847864/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/168088878",
    "html_url": "https://github.com/rust-lang/rust/issues/28356#issuecomment-168088878",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/28356",
    "id": 168088878,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2ODA4ODg3OA==",
    "user": {
      "login": "jminer",
      "id": 824671,
      "node_id": "MDQ6VXNlcjgyNDY3MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/824671?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jminer",
      "html_url": "https://github.com/jminer",
      "followers_url": "https://api.github.com/users/jminer/followers",
      "following_url": "https://api.github.com/users/jminer/following{/other_user}",
      "gists_url": "https://api.github.com/users/jminer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jminer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jminer/subscriptions",
      "organizations_url": "https://api.github.com/users/jminer/orgs",
      "repos_url": "https://api.github.com/users/jminer/repos",
      "events_url": "https://api.github.com/users/jminer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jminer/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-12-30T22:45:13Z",
    "updated_at": "2015-12-30T22:45:13Z",
    "body": "Does it look like either `rc_counts` or `rc_would_unwrap` will be stablilized? I'm wrapping a C library and have a place I'd like to test `strong_count == 1` or use `would_unwrap`, and similarly to @SimonSapin's [usecase](https://github.com/rust-lang/rust/issues/27718#issuecomment-130784562), I can't use `try_unwrap`. The check is in `drop` of a wrapper struct, where I only have `&mut self` (I need to free some memory when the last reference is dropped). I can probably add another struct to wrap the contents of the `Rc`, but the code won't be as clear.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/168088878/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/182533828",
    "html_url": "https://github.com/rust-lang/rust/issues/28356#issuecomment-182533828",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/28356",
    "id": 182533828,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4MjUzMzgyOA==",
    "user": {
      "login": "SimonSapin",
      "id": 291359,
      "node_id": "MDQ6VXNlcjI5MTM1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SimonSapin",
      "html_url": "https://github.com/SimonSapin",
      "followers_url": "https://api.github.com/users/SimonSapin/followers",
      "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}",
      "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions",
      "organizations_url": "https://api.github.com/users/SimonSapin/orgs",
      "repos_url": "https://api.github.com/users/SimonSapin/repos",
      "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SimonSapin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-02-10T19:10:11Z",
    "updated_at": "2016-02-10T19:10:11Z",
    "body": "Another use case for `strong_count`:\n\nThe `heapsize` crate traces through things and counts heap-allocated memory. Doing so with `Arc<T>` or `Rc<T>` is tricky: https://github.com/servo/heapsize/issues/37. One idea is to divide by the strong reference count: consider that each reference \"owns\" a fraction of the memory.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/182533828/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/184146458",
    "html_url": "https://github.com/rust-lang/rust/issues/28356#issuecomment-184146458",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/28356",
    "id": 184146458,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4NDE0NjQ1OA==",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-02-15T10:15:09Z",
    "updated_at": "2016-02-15T10:15:09Z",
    "body": "> Another use case for strong_count:\n> \n> The heapsize crate traces through things and counts heap-allocated memory. Doing so with Arc<T> or Rc<T> is tricky: servo/heapsize#37. One idea is to divide by the strong reference count: consider that each reference \"owns\" a fraction of the memory.\n\nIf another reader sees this and like me thinks \"won't the need to handle cycles provide a separate place to represent this information?\" then you should read the linked issue. (Quick answer: maybe yes,  but it sounds like it doesn't currently handle cycles well anyway, and the comment thread has some interesting alternative ideas beyond a separate map of seen addresses.)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/184146458/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/184304870",
    "html_url": "https://github.com/rust-lang/rust/issues/28356#issuecomment-184304870",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/28356",
    "id": 184304870,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4NDMwNDg3MA==",
    "user": {
      "login": "SimonSapin",
      "id": 291359,
      "node_id": "MDQ6VXNlcjI5MTM1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SimonSapin",
      "html_url": "https://github.com/SimonSapin",
      "followers_url": "https://api.github.com/users/SimonSapin/followers",
      "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}",
      "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions",
      "organizations_url": "https://api.github.com/users/SimonSapin/orgs",
      "repos_url": "https://api.github.com/users/SimonSapin/repos",
      "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SimonSapin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-02-15T17:08:29Z",
    "updated_at": "2016-02-15T17:08:29Z",
    "body": "@pnkfelix indeed. One of the alternative idea is to return 0 if the strong reference count is more than 1, and that would also need stabilizing one of the methods covered in this issue.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/184304870/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/209550202",
    "html_url": "https://github.com/rust-lang/rust/issues/28356#issuecomment-209550202",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/28356",
    "id": 209550202,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwOTU1MDIwMg==",
    "user": {
      "login": "ahicks92",
      "id": 6968705,
      "node_id": "MDQ6VXNlcjY5Njg3MDU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6968705?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ahicks92",
      "html_url": "https://github.com/ahicks92",
      "followers_url": "https://api.github.com/users/ahicks92/followers",
      "following_url": "https://api.github.com/users/ahicks92/following{/other_user}",
      "gists_url": "https://api.github.com/users/ahicks92/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ahicks92/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ahicks92/subscriptions",
      "organizations_url": "https://api.github.com/users/ahicks92/orgs",
      "repos_url": "https://api.github.com/users/ahicks92/repos",
      "events_url": "https://api.github.com/users/ahicks92/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ahicks92/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-04-13T17:14:14Z",
    "updated_at": "2016-04-13T17:14:14Z",
    "body": "These may be useful for debugging.  I don't have a concrete use case at the moment.  Somehow I've managed to avoid shared ownership thus far.\nHowever, I could see it as potentially beneficial in the future if I had to track down a reference cycle or figure out why something isn't dying.  I do agree that the use in actual programs is less clear, but these are maybe worth having just so you can print them.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/209550202/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/209551059",
    "html_url": "https://github.com/rust-lang/rust/issues/28356#issuecomment-209551059",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/28356",
    "id": 209551059,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwOTU1MTA1OQ==",
    "user": {
      "login": "ticki",
      "id": 13349091,
      "node_id": "MDQ6VXNlcjEzMzQ5MDkx",
      "avatar_url": "https://avatars.githubusercontent.com/u/13349091?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ticki",
      "html_url": "https://github.com/ticki",
      "followers_url": "https://api.github.com/users/ticki/followers",
      "following_url": "https://api.github.com/users/ticki/following{/other_user}",
      "gists_url": "https://api.github.com/users/ticki/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ticki/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ticki/subscriptions",
      "organizations_url": "https://api.github.com/users/ticki/orgs",
      "repos_url": "https://api.github.com/users/ticki/repos",
      "events_url": "https://api.github.com/users/ticki/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ticki/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-04-13T17:16:42Z",
    "updated_at": "2016-04-13T17:16:42Z",
    "body": "@camlorn Cycle detection in debug mode could be awesome actually.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/209551059/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/209739531",
    "html_url": "https://github.com/rust-lang/rust/issues/28356#issuecomment-209739531",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/28356",
    "id": 209739531,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwOTczOTUzMQ==",
    "user": {
      "login": "ahicks92",
      "id": 6968705,
      "node_id": "MDQ6VXNlcjY5Njg3MDU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6968705?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ahicks92",
      "html_url": "https://github.com/ahicks92",
      "followers_url": "https://api.github.com/users/ahicks92/followers",
      "following_url": "https://api.github.com/users/ahicks92/following{/other_user}",
      "gists_url": "https://api.github.com/users/ahicks92/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ahicks92/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ahicks92/subscriptions",
      "organizations_url": "https://api.github.com/users/ahicks92/orgs",
      "repos_url": "https://api.github.com/users/ahicks92/repos",
      "events_url": "https://api.github.com/users/ahicks92/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ahicks92/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-04-14T03:21:11Z",
    "updated_at": "2016-04-14T03:21:11Z",
    "body": "Agreed. I thought of it as well.  But this didn't seem like the place to suggest it and in truth that sounds like it would probably be very complicated and RFC-ish anyway.\nPrinting the counts in debug is admittedly much worse in terms of what we have, but having these as unstable and/or killing them feels like a step backward in this department.  Though perhaps only a small one.\nStill, cycle detection would be a major win over C++, do that now.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/209739531/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/237111304",
    "html_url": "https://github.com/rust-lang/rust/issues/28356#issuecomment-237111304",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/28356",
    "id": 237111304,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzNzExMTMwNA==",
    "user": {
      "login": "DemiMarie",
      "id": 6395399,
      "node_id": "MDQ6VXNlcjYzOTUzOTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6395399?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DemiMarie",
      "html_url": "https://github.com/DemiMarie",
      "followers_url": "https://api.github.com/users/DemiMarie/followers",
      "following_url": "https://api.github.com/users/DemiMarie/following{/other_user}",
      "gists_url": "https://api.github.com/users/DemiMarie/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DemiMarie/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DemiMarie/subscriptions",
      "organizations_url": "https://api.github.com/users/DemiMarie/orgs",
      "repos_url": "https://api.github.com/users/DemiMarie/repos",
      "events_url": "https://api.github.com/users/DemiMarie/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DemiMarie/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-08-03T02:02:37Z",
    "updated_at": "2016-08-03T02:02:37Z",
    "body": "Actually, cycle detection in could be useful for far more than just debugging: one might be able to use it to implement a cycle collector a la Python that not only detected cycles, but freed the ones that were no longer reachable.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/237111304/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/237922725",
    "html_url": "https://github.com/rust-lang/rust/issues/28356#issuecomment-237922725",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/28356",
    "id": 237922725,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzNzkyMjcyNQ==",
    "user": {
      "login": "ahicks92",
      "id": 6968705,
      "node_id": "MDQ6VXNlcjY5Njg3MDU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6968705?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ahicks92",
      "html_url": "https://github.com/ahicks92",
      "followers_url": "https://api.github.com/users/ahicks92/followers",
      "following_url": "https://api.github.com/users/ahicks92/following{/other_user}",
      "gists_url": "https://api.github.com/users/ahicks92/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ahicks92/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ahicks92/subscriptions",
      "organizations_url": "https://api.github.com/users/ahicks92/orgs",
      "repos_url": "https://api.github.com/users/ahicks92/repos",
      "events_url": "https://api.github.com/users/ahicks92/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ahicks92/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-08-05T18:12:19Z",
    "updated_at": "2016-08-05T18:12:19Z",
    "body": "@DemiMarie \nThat would be unsafe.  Create a cycle that is accessible from the stack but for which there is no `Rc` on the stack.  Watch your program die.\n\nYou'd also need special compiler machinery for tracking the accessibility of stuff from the stack, and at that point we might as well just add a full GC.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/237922725/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/258680942",
    "html_url": "https://github.com/rust-lang/rust/issues/28356#issuecomment-258680942",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/28356",
    "id": 258680942,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1ODY4MDk0Mg==",
    "user": {
      "login": "SimonSapin",
      "id": 291359,
      "node_id": "MDQ6VXNlcjI5MTM1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SimonSapin",
      "html_url": "https://github.com/SimonSapin",
      "followers_url": "https://api.github.com/users/SimonSapin/followers",
      "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}",
      "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions",
      "organizations_url": "https://api.github.com/users/SimonSapin/orgs",
      "repos_url": "https://api.github.com/users/SimonSapin/repos",
      "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SimonSapin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-11-06T13:30:40Z",
    "updated_at": "2016-11-06T13:30:40Z",
    "body": "The remaining unstable methods covered here are:\n- `Arc::strong_count`\n- `Arc::weak_count`\n- `Rc::strong_count`\n- `Rc::weak_count`\n- `Rc::would_unwrap`\n- `Rc::is_unique`\n\nThey have been `#[unstable]` for some time now, and I the discussion hasn\u2019t seen new arguments for a while. Based on reading this thread and #27718, the concerns that I know of are:\n- The meaning of `is_unique` is not entirely obvious based only on its name, in presence of two (weak and strong) counts.\n- Use cases for `is_unique` and `would_unwrap` are niche.\n- `Arc::*_count` is easy to misuse: in the time between calling one of these methods and acting on the result, another thread might have done something to change a count and make that result out of date.\n\nTo counter-balance that:\n- I haven\u2019t seen a real concern against `Rc::*_count`, only being conservative on principle when stabilizing things in `std`.\n- `Arc::*_count` _can_ be used correctly in some cases (such as with external synchronization). And they just return integers, so they\u2019re not too much of a footgun by themselves. To actually have a data race when misusing them, you\u2019d have to also do something else that requires `unsafe`.\n- At least in my case, the use case for `would_unwrap`, however niche, was enough motivation for [forking the `std::rc` module](https://crates.io/crates/rc).\n- `is_unique` and `would_unwrap` are very easy to implement on top of `strong_count` and `weak_count`.\n\nGiven all this, I\u2019d like to propose FCP to stabilize all four `*_count` methods, and deprecate `is_unique` and `would_unwrap`.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/258680942/reactions",
      "total_count": 3,
      "+1": 3,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/259163976",
    "html_url": "https://github.com/rust-lang/rust/issues/28356#issuecomment-259163976",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/28356",
    "id": 259163976,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1OTE2Mzk3Ng==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-11-08T15:17:06Z",
    "updated_at": "2016-11-08T15:17:06Z",
    "body": "@rfcbot fcp merge\n\nThanks for the summary @SimonSapin! Sounds reasonable to me to stabilize the count methods and deprecate the others. We've already committed to reference counting and weak pointers for both `Rc` and `Arc` so exposing them seems harmless!\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/259163976/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 1,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/259212258",
    "html_url": "https://github.com/rust-lang/rust/issues/28356#issuecomment-259212258",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/28356",
    "id": 259212258,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1OTIxMjI1OA==",
    "user": {
      "login": "glaebhoerl",
      "id": 1216629,
      "node_id": "MDQ6VXNlcjEyMTY2Mjk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1216629?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/glaebhoerl",
      "html_url": "https://github.com/glaebhoerl",
      "followers_url": "https://api.github.com/users/glaebhoerl/followers",
      "following_url": "https://api.github.com/users/glaebhoerl/following{/other_user}",
      "gists_url": "https://api.github.com/users/glaebhoerl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/glaebhoerl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/glaebhoerl/subscriptions",
      "organizations_url": "https://api.github.com/users/glaebhoerl/orgs",
      "repos_url": "https://api.github.com/users/glaebhoerl/repos",
      "events_url": "https://api.github.com/users/glaebhoerl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/glaebhoerl/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-11-08T18:05:04Z",
    "updated_at": "2016-11-08T18:05:04Z",
    "body": "Let's at least strongly emphasize the concurrency hazards in the `Arc` methods' documentation.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/259212258/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/259231747",
    "html_url": "https://github.com/rust-lang/rust/issues/28356#issuecomment-259231747",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/28356",
    "id": 259231747,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1OTIzMTc0Nw==",
    "user": {
      "login": "SimonSapin",
      "id": 291359,
      "node_id": "MDQ6VXNlcjI5MTM1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SimonSapin",
      "html_url": "https://github.com/SimonSapin",
      "followers_url": "https://api.github.com/users/SimonSapin/followers",
      "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}",
      "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions",
      "organizations_url": "https://api.github.com/users/SimonSapin/orgs",
      "repos_url": "https://api.github.com/users/SimonSapin/repos",
      "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SimonSapin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-11-08T19:17:52Z",
    "updated_at": "2016-11-08T19:17:52Z",
    "body": "@glaebhoerl I\u2019ve opened https://github.com/rust-lang/rust/pull/37652, what do you think?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/259231747/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/259253370",
    "html_url": "https://github.com/rust-lang/rust/issues/28356#issuecomment-259253370",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/28356",
    "id": 259253370,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1OTI1MzM3MA==",
    "user": {
      "login": "glaebhoerl",
      "id": 1216629,
      "node_id": "MDQ6VXNlcjEyMTY2Mjk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1216629?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/glaebhoerl",
      "html_url": "https://github.com/glaebhoerl",
      "followers_url": "https://api.github.com/users/glaebhoerl/followers",
      "following_url": "https://api.github.com/users/glaebhoerl/following{/other_user}",
      "gists_url": "https://api.github.com/users/glaebhoerl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/glaebhoerl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/glaebhoerl/subscriptions",
      "organizations_url": "https://api.github.com/users/glaebhoerl/orgs",
      "repos_url": "https://api.github.com/users/glaebhoerl/repos",
      "events_url": "https://api.github.com/users/glaebhoerl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/glaebhoerl/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-11-08T20:41:46Z",
    "updated_at": "2016-11-08T20:41:46Z",
    "body": "LGTM :)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/259253370/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/259617333",
    "html_url": "https://github.com/rust-lang/rust/issues/28356#issuecomment-259617333",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/28356",
    "id": 259617333,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1OTYxNzMzMw==",
    "user": {
      "login": "rfcbot",
      "id": 20760818,
      "node_id": "MDQ6VXNlcjIwNzYwODE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/20760818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rfcbot",
      "html_url": "https://github.com/rfcbot",
      "followers_url": "https://api.github.com/users/rfcbot/followers",
      "following_url": "https://api.github.com/users/rfcbot/following{/other_user}",
      "gists_url": "https://api.github.com/users/rfcbot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rfcbot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rfcbot/subscriptions",
      "organizations_url": "https://api.github.com/users/rfcbot/orgs",
      "repos_url": "https://api.github.com/users/rfcbot/repos",
      "events_url": "https://api.github.com/users/rfcbot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rfcbot/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-11-10T07:08:44Z",
    "updated_at": "2016-11-14T22:32:43Z",
    "body": "Team member @alexcrichton has proposed to merge this. The next step is review by the rest of the tagged teams:\n- [x] @BurntSushi\n- [x] @Kimundi\n- [x] @alexcrichton\n- [x] @aturon\n- [x] @brson\n- [x] @sfackler\n\nNo concerns currently listed.\n\nOnce these reviewers reach consensus, this will enter its final comment period. If you spot a major issue that hasn't been raised at any point in this process, please speak up!\n\nSee [this document](https://github.com/dikaiosune/rust-dashboard/blob/master/RFCBOT.md) for info about what commands tagged team members can give me.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/259617333/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/260485177",
    "html_url": "https://github.com/rust-lang/rust/issues/28356#issuecomment-260485177",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/28356",
    "id": 260485177,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MDQ4NTE3Nw==",
    "user": {
      "login": "rfcbot",
      "id": 20760818,
      "node_id": "MDQ6VXNlcjIwNzYwODE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/20760818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rfcbot",
      "html_url": "https://github.com/rfcbot",
      "followers_url": "https://api.github.com/users/rfcbot/followers",
      "following_url": "https://api.github.com/users/rfcbot/following{/other_user}",
      "gists_url": "https://api.github.com/users/rfcbot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rfcbot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rfcbot/subscriptions",
      "organizations_url": "https://api.github.com/users/rfcbot/orgs",
      "repos_url": "https://api.github.com/users/rfcbot/repos",
      "events_url": "https://api.github.com/users/rfcbot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rfcbot/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-11-14T22:32:43Z",
    "updated_at": "2016-11-14T22:32:43Z",
    "body": ":bell: **This is now entering its final comment period**, as per the [review above](https://github.com/rust-lang/rust/issues/28356#issuecomment-259617333). :bell:\n\n_psst @alexcrichton, I wasn't able to add the `final-comment-period` label, please do so._\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/260485177/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/262073235",
    "html_url": "https://github.com/rust-lang/rust/issues/28356#issuecomment-262073235",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/28356",
    "id": 262073235,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MjA3MzIzNQ==",
    "user": {
      "login": "BurntSushi",
      "id": 456674,
      "node_id": "MDQ6VXNlcjQ1NjY3NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/456674?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/BurntSushi",
      "html_url": "https://github.com/BurntSushi",
      "followers_url": "https://api.github.com/users/BurntSushi/followers",
      "following_url": "https://api.github.com/users/BurntSushi/following{/other_user}",
      "gists_url": "https://api.github.com/users/BurntSushi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/BurntSushi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/BurntSushi/subscriptions",
      "organizations_url": "https://api.github.com/users/BurntSushi/orgs",
      "repos_url": "https://api.github.com/users/BurntSushi/repos",
      "events_url": "https://api.github.com/users/BurntSushi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/BurntSushi/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-11-21T21:30:15Z",
    "updated_at": "2016-11-21T21:30:15Z",
    "body": "@alexcrichton I think you need to tell rfc bot that you applied the label?",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/262073235/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/262107653",
    "html_url": "https://github.com/rust-lang/rust/issues/28356#issuecomment-262107653",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/28356",
    "id": 262107653,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MjEwNzY1Mw==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-11-22T00:06:05Z",
    "updated_at": "2016-11-22T00:06:05Z",
    "body": "@BurntSushi hm I think rfcbot may be missing out on FCP endings... In any case we'll want to leave this until the near the end of the cycle regardless.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/262107653/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/262852019",
    "html_url": "https://github.com/rust-lang/rust/issues/28356#issuecomment-262852019",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/28356",
    "id": 262852019,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2Mjg1MjAxOQ==",
    "user": {
      "login": "rfcbot",
      "id": 20760818,
      "node_id": "MDQ6VXNlcjIwNzYwODE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/20760818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rfcbot",
      "html_url": "https://github.com/rfcbot",
      "followers_url": "https://api.github.com/users/rfcbot/followers",
      "following_url": "https://api.github.com/users/rfcbot/following{/other_user}",
      "gists_url": "https://api.github.com/users/rfcbot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rfcbot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rfcbot/subscriptions",
      "organizations_url": "https://api.github.com/users/rfcbot/orgs",
      "repos_url": "https://api.github.com/users/rfcbot/repos",
      "events_url": "https://api.github.com/users/rfcbot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rfcbot/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-11-24T22:34:40Z",
    "updated_at": "2016-11-24T22:34:40Z",
    "body": "The final comment period is now complete.",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/262852019/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
