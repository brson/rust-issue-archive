[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/95708949",
    "html_url": "https://github.com/rust-lang/rust/issues/24713#issuecomment-95708949",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24713",
    "id": 95708949,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk1NzA4OTQ5",
    "user": {
      "login": "nagisa",
      "id": 679122,
      "node_id": "MDQ6VXNlcjY3OTEyMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/679122?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nagisa",
      "html_url": "https://github.com/nagisa",
      "followers_url": "https://api.github.com/users/nagisa/followers",
      "following_url": "https://api.github.com/users/nagisa/following{/other_user}",
      "gists_url": "https://api.github.com/users/nagisa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nagisa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nagisa/subscriptions",
      "organizations_url": "https://api.github.com/users/nagisa/orgs",
      "repos_url": "https://api.github.com/users/nagisa/repos",
      "events_url": "https://api.github.com/users/nagisa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nagisa/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-23T20:22:05Z",
    "updated_at": "2015-04-23T20:22:05Z",
    "body": "Minimized case\n\n``` rust\n#![feature(box_syntax)]\n#![crate_type=\"lib\"]\n\ntrait Clone2 {\n    fn clone_convert(&self) -> Box<Clone3>;\n}\ntrait Clone3: Clone2 {}\nimpl<T: Clone + 'static> Clone3 for T {}\nimpl<T: Clone + 'static> Clone2 for T {\n    fn clone_convert(&self) -> Box<Clone3> {\n        box self.clone()\n    }\n}\nimpl Clone for Box<Clone3> {\n    fn clone(&self) -> Self {\n        self.clone_convert()\n    }\n}\n```\n\nThis is bug in our codegen, I fear (especially because we _do_ dereference pointers we get), since we indeed emit both `readonly` and `readnone`. Interesting this is only caught by an optimisation pass, though...\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/95708949/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/105270774",
    "html_url": "https://github.com/rust-lang/rust/issues/24713#issuecomment-105270774",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24713",
    "id": 105270774,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNTI3MDc3NA==",
    "user": {
      "login": "dotdash",
      "id": 230962,
      "node_id": "MDQ6VXNlcjIzMDk2Mg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/230962?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dotdash",
      "html_url": "https://github.com/dotdash",
      "followers_url": "https://api.github.com/users/dotdash/followers",
      "following_url": "https://api.github.com/users/dotdash/following{/other_user}",
      "gists_url": "https://api.github.com/users/dotdash/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dotdash/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dotdash/subscriptions",
      "organizations_url": "https://api.github.com/users/dotdash/orgs",
      "repos_url": "https://api.github.com/users/dotdash/repos",
      "events_url": "https://api.github.com/users/dotdash/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dotdash/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-25T17:01:52Z",
    "updated_at": "2015-05-25T17:02:29Z",
    "body": "We do not emit `readnone`.\n\nThis is a bug in LLVM. There are two functions that call each other and have a pointer argument that is only used in the mutual calls. In that case, the pointer argument gets the `readnone` attribute, but if there's already a `readonly` attribute present, that is not removed and the verifier complains.\n\nThis triggers the error:\n\n``` llvm\ndefine void @bar(i8* readonly) {\n  call void @foo(i8* %0)\n    ret void\n}\n\ndefine void @foo(i8* readonly) {\n  call void @bar(i8* %0)\n  ret void\n}\n```\n\nPatch submitted at http://reviews.llvm.org/D9995\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/105270774/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/142206746",
    "html_url": "https://github.com/rust-lang/rust/issues/24713#issuecomment-142206746",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24713",
    "id": 142206746,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0MjIwNjc0Ng==",
    "user": {
      "login": "sanxiyn",
      "id": 45249,
      "node_id": "MDQ6VXNlcjQ1MjQ5",
      "avatar_url": "https://avatars.githubusercontent.com/u/45249?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sanxiyn",
      "html_url": "https://github.com/sanxiyn",
      "followers_url": "https://api.github.com/users/sanxiyn/followers",
      "following_url": "https://api.github.com/users/sanxiyn/following{/other_user}",
      "gists_url": "https://api.github.com/users/sanxiyn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sanxiyn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sanxiyn/subscriptions",
      "organizations_url": "https://api.github.com/users/sanxiyn/orgs",
      "repos_url": "https://api.github.com/users/sanxiyn/repos",
      "events_url": "https://api.github.com/users/sanxiyn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sanxiyn/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-09-22T07:59:14Z",
    "updated_at": "2015-09-22T07:59:14Z",
    "body": "Can this be closed now?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/142206746/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/152870202",
    "html_url": "https://github.com/rust-lang/rust/issues/24713#issuecomment-152870202",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24713",
    "id": 152870202,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1Mjg3MDIwMg==",
    "user": {
      "login": "apasel422",
      "id": 8644784,
      "node_id": "MDQ6VXNlcjg2NDQ3ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8644784?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/apasel422",
      "html_url": "https://github.com/apasel422",
      "followers_url": "https://api.github.com/users/apasel422/followers",
      "following_url": "https://api.github.com/users/apasel422/following{/other_user}",
      "gists_url": "https://api.github.com/users/apasel422/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/apasel422/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/apasel422/subscriptions",
      "organizations_url": "https://api.github.com/users/apasel422/orgs",
      "repos_url": "https://api.github.com/users/apasel422/repos",
      "events_url": "https://api.github.com/users/apasel422/events{/privacy}",
      "received_events_url": "https://api.github.com/users/apasel422/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-11-01T22:26:06Z",
    "updated_at": "2015-11-01T22:26:06Z",
    "body": "This no longer appears to be an issue.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/152870202/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
