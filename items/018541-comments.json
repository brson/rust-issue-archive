[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/61544808",
    "html_url": "https://github.com/rust-lang/rust/issues/18541#issuecomment-61544808",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18541",
    "id": 61544808,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNTQ0ODA4",
    "user": {
      "login": "alexchandel",
      "id": 637714,
      "node_id": "MDQ6VXNlcjYzNzcxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/637714?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexchandel",
      "html_url": "https://github.com/alexchandel",
      "followers_url": "https://api.github.com/users/alexchandel/followers",
      "following_url": "https://api.github.com/users/alexchandel/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexchandel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexchandel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexchandel/subscriptions",
      "organizations_url": "https://api.github.com/users/alexchandel/orgs",
      "repos_url": "https://api.github.com/users/alexchandel/repos",
      "events_url": "https://api.github.com/users/alexchandel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexchandel/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-03T20:41:28Z",
    "updated_at": "2014-11-03T20:41:28Z",
    "body": "dynamic linking is evil anyways\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/61544808/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/61546165",
    "html_url": "https://github.com/rust-lang/rust/issues/18541#issuecomment-61546165",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18541",
    "id": 61546165,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNTQ2MTY1",
    "user": {
      "login": "mprobinson",
      "id": 2033019,
      "node_id": "MDQ6VXNlcjIwMzMwMTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2033019?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mprobinson",
      "html_url": "https://github.com/mprobinson",
      "followers_url": "https://api.github.com/users/mprobinson/followers",
      "following_url": "https://api.github.com/users/mprobinson/following{/other_user}",
      "gists_url": "https://api.github.com/users/mprobinson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mprobinson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mprobinson/subscriptions",
      "organizations_url": "https://api.github.com/users/mprobinson/orgs",
      "repos_url": "https://api.github.com/users/mprobinson/repos",
      "events_url": "https://api.github.com/users/mprobinson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mprobinson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-03T20:50:42Z",
    "updated_at": "2014-11-03T20:50:42Z",
    "body": "I'm writing to an existing C API so I have no choice but to use it.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/61546165/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/61548195",
    "html_url": "https://github.com/rust-lang/rust/issues/18541#issuecomment-61548195",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18541",
    "id": 61548195,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNTQ4MTk1",
    "user": {
      "login": "alexchandel",
      "id": 637714,
      "node_id": "MDQ6VXNlcjYzNzcxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/637714?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexchandel",
      "html_url": "https://github.com/alexchandel",
      "followers_url": "https://api.github.com/users/alexchandel/followers",
      "following_url": "https://api.github.com/users/alexchandel/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexchandel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexchandel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexchandel/subscriptions",
      "organizations_url": "https://api.github.com/users/alexchandel/orgs",
      "repos_url": "https://api.github.com/users/alexchandel/repos",
      "events_url": "https://api.github.com/users/alexchandel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexchandel/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-03T21:04:41Z",
    "updated_at": "2014-11-03T21:04:50Z",
    "body": "You're linking against a dylib, or you're producing one for consumption by other C libraries? If possible, just have all your consumers statically link against your library.\n\nIn #14344, the linker unintentionally optimizes away unused symbols. It's interesting that here, it's not removing any.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/61548195/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/61548456",
    "html_url": "https://github.com/rust-lang/rust/issues/18541#issuecomment-61548456",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18541",
    "id": 61548456,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNTQ4NDU2",
    "user": {
      "login": "mprobinson",
      "id": 2033019,
      "node_id": "MDQ6VXNlcjIwMzMwMTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2033019?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mprobinson",
      "html_url": "https://github.com/mprobinson",
      "followers_url": "https://api.github.com/users/mprobinson/followers",
      "following_url": "https://api.github.com/users/mprobinson/following{/other_user}",
      "gists_url": "https://api.github.com/users/mprobinson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mprobinson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mprobinson/subscriptions",
      "organizations_url": "https://api.github.com/users/mprobinson/orgs",
      "repos_url": "https://api.github.com/users/mprobinson/repos",
      "events_url": "https://api.github.com/users/mprobinson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mprobinson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-03T21:06:22Z",
    "updated_at": "2014-11-03T21:06:22Z",
    "body": "I'm producing one for consumption by C code, and it's not possible for me to have all consumers statically link.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/61548456/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62481576",
    "html_url": "https://github.com/rust-lang/rust/issues/18541#issuecomment-62481576",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18541",
    "id": 62481576,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyNDgxNTc2",
    "user": {
      "login": "mprobinson",
      "id": 2033019,
      "node_id": "MDQ6VXNlcjIwMzMwMTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2033019?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mprobinson",
      "html_url": "https://github.com/mprobinson",
      "followers_url": "https://api.github.com/users/mprobinson/followers",
      "following_url": "https://api.github.com/users/mprobinson/following{/other_user}",
      "gists_url": "https://api.github.com/users/mprobinson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mprobinson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mprobinson/subscriptions",
      "organizations_url": "https://api.github.com/users/mprobinson/orgs",
      "repos_url": "https://api.github.com/users/mprobinson/repos",
      "events_url": "https://api.github.com/users/mprobinson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mprobinson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-11T00:23:13Z",
    "updated_at": "2014-11-11T00:23:13Z",
    "body": "As an example of the problem, consider this code:\n\n``` rust\n#![no_std]\n#![feature(lang_items, globs)]\n#![crate_type = \"dylib\"]\n\nextern crate core;\nextern crate collections;\nuse core::prelude::*;\nuse collections::string::String;\n\n#[no_mangle]\npub extern \"C\" fn get_len() -> uint {\n    let mut s = String::from_str(\"Test\");\n    s.push('_'); // Do enough work to prevent LLVM optimizing it out\n    s.len()\n}\n\n#[lang = \"stack_exhausted\"] extern fn stack_exhausted() { }\n#[lang = \"eh_personality\"] extern fn eh_personality() { }\n#[lang = \"panic_fmt\"] fn panic_fmt() -> ! { loop { } }\n```\n\nCompiling with `rustc --opt-level 3 lib.rs`:\n\n```\n$ ls -hs liblib.so\n1.5M liblib.so\n```\n\nCompiling with `rustc --opt-level 3 -C link-args=\"-Wl,-version-script=version.script -Wl,-gc-sections\" lib.rs`, and version.script containing only get_len in the global section:\n\n```\n$ ls -hs liblib.so \n328K liblib.so\n```\n\nGCC supports `-fvisibility=hidden` and `__attribute__ ((visibility (\"default\")))` for this, could Rust support something similar?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62481576/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62484318",
    "html_url": "https://github.com/rust-lang/rust/issues/18541#issuecomment-62484318",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18541",
    "id": 62484318,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyNDg0MzE4",
    "user": {
      "login": "mprobinson",
      "id": 2033019,
      "node_id": "MDQ6VXNlcjIwMzMwMTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2033019?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mprobinson",
      "html_url": "https://github.com/mprobinson",
      "followers_url": "https://api.github.com/users/mprobinson/followers",
      "following_url": "https://api.github.com/users/mprobinson/following{/other_user}",
      "gists_url": "https://api.github.com/users/mprobinson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mprobinson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mprobinson/subscriptions",
      "organizations_url": "https://api.github.com/users/mprobinson/orgs",
      "repos_url": "https://api.github.com/users/mprobinson/repos",
      "events_url": "https://api.github.com/users/mprobinson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mprobinson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-11T00:53:08Z",
    "updated_at": "2014-11-11T00:53:08Z",
    "body": "The correct solution is to enable dylib LTO, so closing in favor of #18863.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62484318/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
