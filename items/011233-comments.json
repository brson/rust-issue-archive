[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/31400975",
    "html_url": "https://github.com/rust-lang/rust/pull/11233#issuecomment-31400975",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/11233",
    "id": 31400975,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNDAwOTc1",
    "user": {
      "login": "basic-calculus",
      "id": 4070335,
      "node_id": "MDQ6VXNlcjQwNzAzMzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4070335?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/basic-calculus",
      "html_url": "https://github.com/basic-calculus",
      "followers_url": "https://api.github.com/users/basic-calculus/followers",
      "following_url": "https://api.github.com/users/basic-calculus/following{/other_user}",
      "gists_url": "https://api.github.com/users/basic-calculus/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/basic-calculus/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/basic-calculus/subscriptions",
      "organizations_url": "https://api.github.com/users/basic-calculus/orgs",
      "repos_url": "https://api.github.com/users/basic-calculus/repos",
      "events_url": "https://api.github.com/users/basic-calculus/events{/privacy}",
      "received_events_url": "https://api.github.com/users/basic-calculus/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-12-31T16:32:35Z",
    "updated_at": "2013-12-31T16:32:35Z",
    "body": "Personally, I'd prefer to define a MOST_PRECISE_CLOCK definition outside of the rust_precise_time_ns but the code looks okay regardless.\n\nCLOCK_MONOTONIC_RAW has been supported since Linux version 2.6.28 which I think is early enough to support. Do we have a lowest supported version written down somewhere on the wiki?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/31400975/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/31401418",
    "html_url": "https://github.com/rust-lang/rust/pull/11233#issuecomment-31401418",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/11233",
    "id": 31401418,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNDAxNDE4",
    "user": {
      "login": "thestinger",
      "id": 1505226,
      "node_id": "MDQ6VXNlcjE1MDUyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thestinger",
      "html_url": "https://github.com/thestinger",
      "followers_url": "https://api.github.com/users/thestinger/followers",
      "following_url": "https://api.github.com/users/thestinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions",
      "organizations_url": "https://api.github.com/users/thestinger/orgs",
      "repos_url": "https://api.github.com/users/thestinger/repos",
      "events_url": "https://api.github.com/users/thestinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thestinger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-12-31T16:43:42Z",
    "updated_at": "2013-12-31T16:46:44Z",
    "body": "Using `CLOCK_MONOTONIC_RAW` is not necessarily a good idea. It doesn't have as strong a correspondence to the actual passage of time since the hardware counters are not always very accurate. If you need to perform an action every second, using `CLOCK_MONOTONIC` can result in a more steady rate. If you need to perform an action as close to every 250 nanoseconds as possible, then `CLOCK_MONOTONIC_RAW` might be a better choice. There's a trade between accuracy and precision.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/31401418/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/31401888",
    "html_url": "https://github.com/rust-lang/rust/pull/11233#issuecomment-31401888",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/11233",
    "id": 31401888,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNDAxODg4",
    "user": {
      "login": "doy",
      "id": 78547,
      "node_id": "MDQ6VXNlcjc4NTQ3",
      "avatar_url": "https://avatars.githubusercontent.com/u/78547?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/doy",
      "html_url": "https://github.com/doy",
      "followers_url": "https://api.github.com/users/doy/followers",
      "following_url": "https://api.github.com/users/doy/following{/other_user}",
      "gists_url": "https://api.github.com/users/doy/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/doy/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/doy/subscriptions",
      "organizations_url": "https://api.github.com/users/doy/orgs",
      "repos_url": "https://api.github.com/users/doy/repos",
      "events_url": "https://api.github.com/users/doy/events{/privacy}",
      "received_events_url": "https://api.github.com/users/doy/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-12-31T16:55:35Z",
    "updated_at": "2013-12-31T16:55:35Z",
    "body": "Wouldn't it still be more accurate on the order of seconds, since ntp only checks for the time every few minutes? Or do you mean that the hardware clock tends to be inaccurate enough that the adjusted time is more accurate? I just figured that `precise_time_ns` would more likely be used for shorter things, where a more stable count would be preferable.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/31401888/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/31401980",
    "html_url": "https://github.com/rust-lang/rust/pull/11233#issuecomment-31401980",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/11233",
    "id": 31401980,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNDAxOTgw",
    "user": {
      "login": "thestinger",
      "id": 1505226,
      "node_id": "MDQ6VXNlcjE1MDUyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thestinger",
      "html_url": "https://github.com/thestinger",
      "followers_url": "https://api.github.com/users/thestinger/followers",
      "following_url": "https://api.github.com/users/thestinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions",
      "organizations_url": "https://api.github.com/users/thestinger/orgs",
      "repos_url": "https://api.github.com/users/thestinger/repos",
      "events_url": "https://api.github.com/users/thestinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thestinger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-12-31T16:58:01Z",
    "updated_at": "2013-12-31T16:58:34Z",
    "body": "The adjustments by NTP seen by `CLOCK_MONOTONIC` are clock skew. It speeds up or slows down the rate seconds elapse to match the passage of time rather than making jumps (it will never go backwards). So a clock adjustment by NTP will be spread out over many minutes, hours or even days.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/31401980/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/31409051",
    "html_url": "https://github.com/rust-lang/rust/pull/11233#issuecomment-31409051",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/11233",
    "id": 31409051,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNDA5MDUx",
    "user": {
      "login": "doy",
      "id": 78547,
      "node_id": "MDQ6VXNlcjc4NTQ3",
      "avatar_url": "https://avatars.githubusercontent.com/u/78547?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/doy",
      "html_url": "https://github.com/doy",
      "followers_url": "https://api.github.com/users/doy/followers",
      "following_url": "https://api.github.com/users/doy/following{/other_user}",
      "gists_url": "https://api.github.com/users/doy/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/doy/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/doy/subscriptions",
      "organizations_url": "https://api.github.com/users/doy/orgs",
      "repos_url": "https://api.github.com/users/doy/repos",
      "events_url": "https://api.github.com/users/doy/events{/privacy}",
      "received_events_url": "https://api.github.com/users/doy/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-12-31T19:59:47Z",
    "updated_at": "2013-12-31T19:59:47Z",
    "body": "Right, that's what I mean - if NTP notices that the clock is wrong, it adjusts the clock incrementally, even if the cause wasn't due to an inaccurate clock timer (my laptop has the tendency to lose a few seconds when I accidentally let the battery die, for instance). In cases like this, the clock skew would be making the length of a second less accurate, rather than more.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/31409051/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/31419470",
    "html_url": "https://github.com/rust-lang/rust/pull/11233#issuecomment-31419470",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/11233",
    "id": 31419470,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNDE5NDcw",
    "user": {
      "login": "cpeterso",
      "id": 629193,
      "node_id": "MDQ6VXNlcjYyOTE5Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/629193?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cpeterso",
      "html_url": "https://github.com/cpeterso",
      "followers_url": "https://api.github.com/users/cpeterso/followers",
      "following_url": "https://api.github.com/users/cpeterso/following{/other_user}",
      "gists_url": "https://api.github.com/users/cpeterso/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cpeterso/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cpeterso/subscriptions",
      "organizations_url": "https://api.github.com/users/cpeterso/orgs",
      "repos_url": "https://api.github.com/users/cpeterso/repos",
      "events_url": "https://api.github.com/users/cpeterso/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cpeterso/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-01-01T06:38:50Z",
    "updated_at": "2014-01-01T06:38:50Z",
    "body": "For comparison, the OS X and Windows implementations of `precise_time_ns` call APIs that do not use adjusted time (`mach_absolute_time` and `QueryPerformanceCounter`, respectively).\n\nPython PEP 418 has some relevant investigation: http://www.python.org/dev/peps/pep-0418/#operating-system-time-functions\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/31419470/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/31424157",
    "html_url": "https://github.com/rust-lang/rust/pull/11233#issuecomment-31424157",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/11233",
    "id": 31424157,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNDI0MTU3",
    "user": {
      "login": "thestinger",
      "id": 1505226,
      "node_id": "MDQ6VXNlcjE1MDUyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thestinger",
      "html_url": "https://github.com/thestinger",
      "followers_url": "https://api.github.com/users/thestinger/followers",
      "following_url": "https://api.github.com/users/thestinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions",
      "organizations_url": "https://api.github.com/users/thestinger/orgs",
      "repos_url": "https://api.github.com/users/thestinger/repos",
      "events_url": "https://api.github.com/users/thestinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thestinger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-01-01T15:04:41Z",
    "updated_at": "2014-01-01T15:06:00Z",
    "body": "http://lxr.free-electrons.com/source/arch/x86/vdso/vclock_gettime.c#L236\n\nAnother point in favour of `CLOCK_MONOTONIC` is that doesn't require a system call while `CLOCK_MONOTONIC_RAW` does. You can verify this with `strace`.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/31424157/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/31429269",
    "html_url": "https://github.com/rust-lang/rust/pull/11233#issuecomment-31429269",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/11233",
    "id": 31429269,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNDI5MjY5",
    "user": {
      "login": "cpeterso",
      "id": 629193,
      "node_id": "MDQ6VXNlcjYyOTE5Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/629193?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cpeterso",
      "html_url": "https://github.com/cpeterso",
      "followers_url": "https://api.github.com/users/cpeterso/followers",
      "following_url": "https://api.github.com/users/cpeterso/following{/other_user}",
      "gists_url": "https://api.github.com/users/cpeterso/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cpeterso/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cpeterso/subscriptions",
      "organizations_url": "https://api.github.com/users/cpeterso/orgs",
      "repos_url": "https://api.github.com/users/cpeterso/repos",
      "events_url": "https://api.github.com/users/cpeterso/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cpeterso/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-01-01T20:13:35Z",
    "updated_at": "2014-01-01T20:13:35Z",
    "body": "@doy: your FreeBSD `CLOCK_MONOTONIC_PRECISE` change seems less controversial than the Linux change. If you split your FreeBSD change into its own PR, you can probably get it merged sooner. :)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/31429269/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/31910909",
    "html_url": "https://github.com/rust-lang/rust/pull/11233#issuecomment-31910909",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/11233",
    "id": 31910909,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxOTEwOTA5",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-01-09T08:20:59Z",
    "updated_at": "2014-01-09T08:20:59Z",
    "body": "From the discussion here, it sounds like `CLOCK_MONOTONIC` is certainly not a bad choice, and it's a little unclear what the benefits are for moving to a different clock (for the general use case).\n\nIt also sounds like (from the man page), that `CLOCK_MONOTONIC_PRECISE` has an expense of the amount of time it takes in order to acquire a more accurate time.\n\nThese all are certainly different clocks, and I don't think that there's \"one right answer\" here. We may want to expand the `extra::time` api to expose the flavor of clock that you're using (and make a \"best attempt\" on all platforms), but for now I'm going to close this because it sounds like picking favorites here and there across platforms may not be the best route to take.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/31910909/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
