[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/152880082",
    "html_url": "https://github.com/rust-lang/rust/issues/29512#issuecomment-152880082",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29512",
    "id": 152880082,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1Mjg4MDA4Mg==",
    "user": {
      "login": "retep998",
      "id": 666308,
      "node_id": "MDQ6VXNlcjY2NjMwOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/666308?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/retep998",
      "html_url": "https://github.com/retep998",
      "followers_url": "https://api.github.com/users/retep998/followers",
      "following_url": "https://api.github.com/users/retep998/following{/other_user}",
      "gists_url": "https://api.github.com/users/retep998/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/retep998/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/retep998/subscriptions",
      "organizations_url": "https://api.github.com/users/retep998/orgs",
      "repos_url": "https://api.github.com/users/retep998/repos",
      "events_url": "https://api.github.com/users/retep998/events{/privacy}",
      "received_events_url": "https://api.github.com/users/retep998/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-11-02T00:18:05Z",
    "updated_at": "2015-11-02T00:18:05Z",
    "body": "Only the dylib versions of rustc crates are included with the distribution for the sake of writing plugins.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/152880082/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/153069984",
    "html_url": "https://github.com/rust-lang/rust/issues/29512#issuecomment-153069984",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29512",
    "id": 153069984,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MzA2OTk4NA==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-11-02T16:15:04Z",
    "updated_at": "2015-11-02T16:15:04Z",
    "body": "Yes this is currently intentional. To build a staticlib you have to have rlibs available for all upstream components, but we don't provide rlibs for the compiler because that would cause plugins to not work (which are an exported API of the compiler).\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/153069984/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/153074776",
    "html_url": "https://github.com/rust-lang/rust/issues/29512#issuecomment-153074776",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29512",
    "id": 153074776,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MzA3NDc3Ng==",
    "user": {
      "login": "mintern",
      "id": 3847612,
      "node_id": "MDQ6VXNlcjM4NDc2MTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3847612?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mintern",
      "html_url": "https://github.com/mintern",
      "followers_url": "https://api.github.com/users/mintern/followers",
      "following_url": "https://api.github.com/users/mintern/following{/other_user}",
      "gists_url": "https://api.github.com/users/mintern/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mintern/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mintern/subscriptions",
      "organizations_url": "https://api.github.com/users/mintern/orgs",
      "repos_url": "https://api.github.com/users/mintern/repos",
      "events_url": "https://api.github.com/users/mintern/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mintern/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-11-02T16:31:24Z",
    "updated_at": "2015-11-02T16:31:24Z",
    "body": "So it sounds like I'm out of luck for creating a library that leverages the compiler and is used by another language? Or is there a way that I can do this? I'm on nightlies, have the source checked out, etc.\n\nIf this is intentional, I couldn't find any documentation to that effect, and no suggestions as to how to work around it. The only option I'm currently aware of is to build a separate service and use IPC to communicate with a compiler library.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/153074776/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/153077090",
    "html_url": "https://github.com/rust-lang/rust/issues/29512#issuecomment-153077090",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29512",
    "id": 153077090,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MzA3NzA5MA==",
    "user": {
      "login": "retep998",
      "id": 666308,
      "node_id": "MDQ6VXNlcjY2NjMwOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/666308?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/retep998",
      "html_url": "https://github.com/retep998",
      "followers_url": "https://api.github.com/users/retep998/followers",
      "following_url": "https://api.github.com/users/retep998/following{/other_user}",
      "gists_url": "https://api.github.com/users/retep998/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/retep998/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/retep998/subscriptions",
      "organizations_url": "https://api.github.com/users/retep998/orgs",
      "repos_url": "https://api.github.com/users/retep998/repos",
      "events_url": "https://api.github.com/users/retep998/events{/privacy}",
      "received_events_url": "https://api.github.com/users/retep998/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-11-02T16:39:04Z",
    "updated_at": "2015-11-02T16:39:04Z",
    "body": "You can create your library as a dylib just fine. Is there any reason why you specifically need it as a staticlib?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/153077090/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/153084028",
    "html_url": "https://github.com/rust-lang/rust/issues/29512#issuecomment-153084028",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29512",
    "id": 153084028,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MzA4NDAyOA==",
    "user": {
      "login": "mintern",
      "id": 3847612,
      "node_id": "MDQ6VXNlcjM4NDc2MTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3847612?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mintern",
      "html_url": "https://github.com/mintern",
      "followers_url": "https://api.github.com/users/mintern/followers",
      "following_url": "https://api.github.com/users/mintern/following{/other_user}",
      "gists_url": "https://api.github.com/users/mintern/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mintern/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mintern/subscriptions",
      "organizations_url": "https://api.github.com/users/mintern/orgs",
      "repos_url": "https://api.github.com/users/mintern/repos",
      "events_url": "https://api.github.com/users/mintern/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mintern/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-11-02T17:04:03Z",
    "updated_at": "2015-11-02T17:05:38Z",
    "body": "As soon as I added `extern crate rustc` (while building as a `dylib`), I was hitting a segmentation fault:\n\n```\n# A fatal error has been detected by the Java Runtime Environment:\n#\nSUREFIRE-859: #  SIGSEGV (0xb) at pc=0x00007f0549664f4d, pid=32209, tid=139660732696320\n#\n# JRE version: Java(TM) SE Runtime Environment (8.0_66-b17) (build 1.8.0_66-b17)\n# Java VM: Java HotSpot(TM) 64-Bit Server VM (25.66-b17 mixed mode linux-amd64 compressed oops)\n# Problematic frame:\n# C  [libzip.so+0x11f4d]  ZIP_GetEntry2+0xed\n```\n\nMy assumption was that Java is linked against a different version of `libzip` than the Rust library expects, and it's causing a segmentation fault.\n\nAlso, my original plan was to distribute this library as part of a NetBeans plugin, and it would be ideal if the user didn't have any dependencies.\n\nPerhaps I'm making poor assumptions?\n\n**Edit:** I screwed up my first sentence in the first version of this comment.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/153084028/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
