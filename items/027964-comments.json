[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/170443626",
    "html_url": "https://github.com/rust-lang/rust/issues/27964#issuecomment-170443626",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27964",
    "id": 170443626,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MDQ0MzYyNg==",
    "user": {
      "login": "makoConstruct",
      "id": 346569,
      "node_id": "MDQ6VXNlcjM0NjU2OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/346569?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/makoConstruct",
      "html_url": "https://github.com/makoConstruct",
      "followers_url": "https://api.github.com/users/makoConstruct/followers",
      "following_url": "https://api.github.com/users/makoConstruct/following{/other_user}",
      "gists_url": "https://api.github.com/users/makoConstruct/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/makoConstruct/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/makoConstruct/subscriptions",
      "organizations_url": "https://api.github.com/users/makoConstruct/orgs",
      "repos_url": "https://api.github.com/users/makoConstruct/repos",
      "events_url": "https://api.github.com/users/makoConstruct/events{/privacy}",
      "received_events_url": "https://api.github.com/users/makoConstruct/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-01-11T06:27:52Z",
    "updated_at": "2016-01-11T06:28:57Z",
    "body": "I second this, it's extremely confusing.\n\n``` rust\ntrait Reader{}\nimpl Reader for () {}\nfn reader_for()-> Box<Reader> { Box::new(()) }\n\nfn check_vec<R:Reader>(r:&R){} //R needs to be Reader+?Sized for some reason, but new rust programmers wont know that.\n\nfn main() {\n    check_vec(&*reader_for());\n        //error: the trait `core::marker::Sized` is not implemented for the type `Reader`\n        //note: `Reader` does not have a constant size known at compile-time\n        //note: required by `check_vec`\n}\n```\n\nThe user will not be able to figure out why the function requires Sized when they did not define it to require Sized and when none of its functionality depends on Sized.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/170443626/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/581182805",
    "html_url": "https://github.com/rust-lang/rust/issues/27964#issuecomment-581182805",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27964",
    "id": 581182805,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4MTE4MjgwNQ==",
    "user": {
      "login": "estebank",
      "id": 1606434,
      "node_id": "MDQ6VXNlcjE2MDY0MzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/estebank",
      "html_url": "https://github.com/estebank",
      "followers_url": "https://api.github.com/users/estebank/followers",
      "following_url": "https://api.github.com/users/estebank/following{/other_user}",
      "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/estebank/subscriptions",
      "organizations_url": "https://api.github.com/users/estebank/orgs",
      "repos_url": "https://api.github.com/users/estebank/repos",
      "events_url": "https://api.github.com/users/estebank/events{/privacy}",
      "received_events_url": "https://api.github.com/users/estebank/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-02-02T22:08:16Z",
    "updated_at": "2020-02-02T22:08:16Z",
    "body": "The original case has had no changes.\r\n\r\nThe case in the last comment has the following output in #68377:\r\n\r\n```\r\nerror[E0277]: the size for values of type `dyn Reader` cannot be known at compilation time\r\n --> file.rs:8:15\r\n  |\r\n5 | fn check_vec<R:Reader>(r:&R){} //R needs to be Reader+?Sized for some reason, but new rust programmers wont know that.\r\n  |    --------- -       - help: consider relaxing the implicit `Sized` restriction: `+  ?Sized`\r\n  |              |\r\n  |              required by this bound in `check_vec`\r\n...\r\n8 |     check_vec(&*reader_for());\r\n  |               ^^^^^^^^^^^^^^ doesn't have a size known at compile-time\r\n  |\r\n  = help: the trait `std::marker::Sized` is not implemented for `dyn Reader`\r\n  = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\r\n```",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/581182805/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/593532223",
    "html_url": "https://github.com/rust-lang/rust/issues/27964#issuecomment-593532223",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27964",
    "id": 593532223,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5MzUzMjIyMw==",
    "user": {
      "login": "najamelan",
      "id": 449589,
      "node_id": "MDQ6VXNlcjQ0OTU4OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/449589?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/najamelan",
      "html_url": "https://github.com/najamelan",
      "followers_url": "https://api.github.com/users/najamelan/followers",
      "following_url": "https://api.github.com/users/najamelan/following{/other_user}",
      "gists_url": "https://api.github.com/users/najamelan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/najamelan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/najamelan/subscriptions",
      "organizations_url": "https://api.github.com/users/najamelan/orgs",
      "repos_url": "https://api.github.com/users/najamelan/repos",
      "events_url": "https://api.github.com/users/najamelan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/najamelan/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-03-02T17:56:19Z",
    "updated_at": "2020-03-02T18:24:15Z",
    "body": "One from the [user forum](https://users.rust-lang.org/t/wrapping-boxed-errors/38951), [playground](https://play.rust-lang.org/?version=nightly&mode=debug&edition=2018&gist=66943a8d8e850922681779926208b1fd):\r\n```rust\r\nuse std::error::Error;\r\n\r\nfn library_function<F1, E1>(f1: F1) -> Result<(), E1>\r\nwhere\r\n    F1: FnOnce() -> Result<(), E1>,\r\n    E1: Error, // <-remove this line -> compile\r\n{\r\n    f1()\r\n}\r\n\r\nfn main() -> Result<(), Box<dyn Error>> \r\n{\r\n    library_function( || Ok(()) )\r\n}\r\n```\r\nError:\r\n```\r\nerror[E0277]: the size for values of type `dyn std::error::Error` cannot be known at compilation time\r\n  --> src/main.rs:13:5\r\n   |\r\n3  | fn library_function<F1, E1>(f1: F1) -> Result<(), E1>\r\n   |    ----------------\r\n...\r\n6  |     E1: Error, // <-remove this line -> compile\r\n   |         ----- required by this bound in `library_function`\r\n...\r\n13 |     library_function( || Ok(()) )\r\n   |     ^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time\r\n   |\r\n   = help: the trait `std::marker::Sized` is not implemented for `dyn std::error::Error`\r\n   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\r\n   = note: required because of the requirements on the impl of `std::error::Error` for `std::boxed::Box<dyn std::error::Error>`\r\n```\r\nAnalysis:\r\nThere is a blanket impl for `Error` on `Box<T>`, but not on `Box<T: ?Sized>`. credit to @Yandros\r\n\r\nGo figure why \"library_function doesn't have a size known at compile time\".\r\n\r\nI suppose the ideal here would be something like: `Box<dyn Error> does not implement Error. The following Impl where found: impl<T: Error> Error for Box<T> -> requires T: Sized`",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/593532223/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/594902202",
    "html_url": "https://github.com/rust-lang/rust/issues/27964#issuecomment-594902202",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27964",
    "id": 594902202,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5NDkwMjIwMg==",
    "user": {
      "login": "estebank",
      "id": 1606434,
      "node_id": "MDQ6VXNlcjE2MDY0MzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/estebank",
      "html_url": "https://github.com/estebank",
      "followers_url": "https://api.github.com/users/estebank/followers",
      "following_url": "https://api.github.com/users/estebank/following{/other_user}",
      "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/estebank/subscriptions",
      "organizations_url": "https://api.github.com/users/estebank/orgs",
      "repos_url": "https://api.github.com/users/estebank/repos",
      "events_url": "https://api.github.com/users/estebank/events{/privacy}",
      "received_events_url": "https://api.github.com/users/estebank/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-03-04T22:35:51Z",
    "updated_at": "2020-03-04T22:35:51Z",
    "body": "@najamelan could you copy that comment as a new ticket? The original report will be closed by #69709 but yours won't be addressed by that PR, sadly.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/594902202/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/594920860",
    "html_url": "https://github.com/rust-lang/rust/issues/27964#issuecomment-594920860",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27964",
    "id": 594920860,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5NDkyMDg2MA==",
    "user": {
      "login": "najamelan",
      "id": 449589,
      "node_id": "MDQ6VXNlcjQ0OTU4OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/449589?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/najamelan",
      "html_url": "https://github.com/najamelan",
      "followers_url": "https://api.github.com/users/najamelan/followers",
      "following_url": "https://api.github.com/users/najamelan/following{/other_user}",
      "gists_url": "https://api.github.com/users/najamelan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/najamelan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/najamelan/subscriptions",
      "organizations_url": "https://api.github.com/users/najamelan/orgs",
      "repos_url": "https://api.github.com/users/najamelan/repos",
      "events_url": "https://api.github.com/users/najamelan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/najamelan/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-03-04T23:11:36Z",
    "updated_at": "2020-03-04T23:11:36Z",
    "body": "@estebank It's done. Thank you so much for working on diagnostics!",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/594920860/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/624413910",
    "html_url": "https://github.com/rust-lang/rust/issues/27964#issuecomment-624413910",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27964",
    "id": 624413910,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyNDQxMzkxMA==",
    "user": {
      "login": "estebank",
      "id": 1606434,
      "node_id": "MDQ6VXNlcjE2MDY0MzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/estebank",
      "html_url": "https://github.com/estebank",
      "followers_url": "https://api.github.com/users/estebank/followers",
      "following_url": "https://api.github.com/users/estebank/following{/other_user}",
      "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/estebank/subscriptions",
      "organizations_url": "https://api.github.com/users/estebank/orgs",
      "repos_url": "https://api.github.com/users/estebank/repos",
      "events_url": "https://api.github.com/users/estebank/events{/privacy}",
      "received_events_url": "https://api.github.com/users/estebank/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-05-06T02:43:59Z",
    "updated_at": "2020-05-06T02:43:59Z",
    "body": "Current output:\r\n\r\n```\r\nerror[E0277]: the size for values of type `(dyn Unsized + 'static)` cannot be known at compilation time\r\n  --> src/main.rs:11:6\r\n   |\r\n2  | trait OopsSized<O /* missing : ?Sized */> {\r\n   |                 - required by this bound in `OopsSized`\r\n...\r\n11 | impl OopsSized<Unsized> for Foo {\r\n   |      ^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time\r\n   |\r\n   = help: the trait `std::marker::Sized` is not implemented for `(dyn Unsized + 'static)`\r\n   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\r\n```",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/624413910/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/645078164",
    "html_url": "https://github.com/rust-lang/rust/issues/27964#issuecomment-645078164",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27964",
    "id": 645078164,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0NTA3ODE2NA==",
    "user": {
      "login": "estebank",
      "id": 1606434,
      "node_id": "MDQ6VXNlcjE2MDY0MzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/estebank",
      "html_url": "https://github.com/estebank",
      "followers_url": "https://api.github.com/users/estebank/followers",
      "following_url": "https://api.github.com/users/estebank/following{/other_user}",
      "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/estebank/subscriptions",
      "organizations_url": "https://api.github.com/users/estebank/orgs",
      "repos_url": "https://api.github.com/users/estebank/repos",
      "events_url": "https://api.github.com/users/estebank/events{/privacy}",
      "received_events_url": "https://api.github.com/users/estebank/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-06-17T00:27:51Z",
    "updated_at": "2020-06-17T00:29:28Z",
    "body": "Output with #73261:\r\n\r\n<img width=\"961\" alt=\"Screen Shot 2020-06-16 at 5 27 01 PM\" src=\"https://user-images.githubusercontent.com/1606434/84841246-a13a7580-aff6-11ea-9eed-cad2236588b3.png\">\r\n\r\n```\r\nerror[E0277]: the size for values of type `(dyn Unsized + 'static)` cannot be known at compilation time\r\n --> file6.rs:9:6\r\n  |\r\n1 | trait OopsSized<O /* missing : ?Sized */> {\r\n  |                 - required by this bound in `OopsSized`\r\n...\r\n9 | impl OopsSized<Unsized> for Foo {\r\n  |      ^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time\r\n  |\r\n  = help: the trait `std::marker::Sized` is not implemented for `(dyn Unsized + 'static)`\r\n  = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\r\nhelp: consider relaxing the implicit `Sized` restriction\r\n  |\r\n1 | trait OopsSized<O: ?Sized /* missing : ?Sized */> {\r\n  |                  ^^^^^^^^\r\n```\r\n\r\nAnd the output when this ticket was created \ud83d\ude05:\r\n\r\n```\r\n<source>:9:1: 13:2 error: the trait `core::marker::Sized` is not implemented for the type `Unsized + 'static` [E0277]\r\n<source>: 9 impl OopsSized<Unsized> for Foo {\r\n<source>:10     fn foo(&self) -> Option<Box<Unsized>> {\r\n<source>:11         None\r\n<source>:12     }\r\n<source>:13 }\r\n<source>:9:1: 13:2 help: run `rustc --explain E0277` to see a detailed explanation\r\n<source>:9:1: 13:2 note: `Unsized + 'static` does not have a constant size known at compile-time\r\n<source>: 9 impl OopsSized<Unsized> for Foo {\r\n<source>:10     fn foo(&self) -> Option<Box<Unsized>> {\r\n<source>:11         None\r\n<source>:12     }\r\n<source>:13 }\r\n```",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/645078164/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
