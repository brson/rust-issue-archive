[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/90319175",
    "html_url": "https://github.com/rust-lang/rust/issues/24135#issuecomment-90319175",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24135",
    "id": 90319175,
    "node_id": "MDEyOklzc3VlQ29tbWVudDkwMzE5MTc1",
    "user": {
      "login": "lilyball",
      "id": 714,
      "node_id": "MDQ6VXNlcjcxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/714?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lilyball",
      "html_url": "https://github.com/lilyball",
      "followers_url": "https://api.github.com/users/lilyball/followers",
      "following_url": "https://api.github.com/users/lilyball/following{/other_user}",
      "gists_url": "https://api.github.com/users/lilyball/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lilyball/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lilyball/subscriptions",
      "organizations_url": "https://api.github.com/users/lilyball/orgs",
      "repos_url": "https://api.github.com/users/lilyball/repos",
      "events_url": "https://api.github.com/users/lilyball/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lilyball/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-07T02:21:56Z",
    "updated_at": "2015-04-07T02:21:56Z",
    "body": "/cc @alexcrichton \n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/90319175/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/127420303",
    "html_url": "https://github.com/rust-lang/rust/issues/24135#issuecomment-127420303",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24135",
    "id": 127420303,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNzQyMDMwMw==",
    "user": {
      "login": "sbstp",
      "id": 862368,
      "node_id": "MDQ6VXNlcjg2MjM2OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/862368?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sbstp",
      "html_url": "https://github.com/sbstp",
      "followers_url": "https://api.github.com/users/sbstp/followers",
      "following_url": "https://api.github.com/users/sbstp/following{/other_user}",
      "gists_url": "https://api.github.com/users/sbstp/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sbstp/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sbstp/subscriptions",
      "organizations_url": "https://api.github.com/users/sbstp/orgs",
      "repos_url": "https://api.github.com/users/sbstp/repos",
      "events_url": "https://api.github.com/users/sbstp/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sbstp/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-08-03T22:18:24Z",
    "updated_at": "2015-08-03T22:18:24Z",
    "body": "@kballard @alexcrichton it seems like the change was done, but that `io::Error` still doesn't implement clone.Was it forgotten?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/127420303/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/127667618",
    "html_url": "https://github.com/rust-lang/rust/issues/24135#issuecomment-127667618",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24135",
    "id": 127667618,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNzY2NzYxOA==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-08-04T16:34:55Z",
    "updated_at": "2015-08-04T16:34:55Z",
    "body": "The choice to use `Arc` was intentionally left out to take the more conservative route to start out. Some time has passed, though, and it could perhaps be re-evaluated again.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/127667618/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/185232079",
    "html_url": "https://github.com/rust-lang/rust/issues/24135#issuecomment-185232079",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24135",
    "id": 185232079,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4NTIzMjA3OQ==",
    "user": {
      "login": "flying-sheep",
      "id": 291575,
      "node_id": "MDQ6VXNlcjI5MTU3NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/291575?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/flying-sheep",
      "html_url": "https://github.com/flying-sheep",
      "followers_url": "https://api.github.com/users/flying-sheep/followers",
      "following_url": "https://api.github.com/users/flying-sheep/following{/other_user}",
      "gists_url": "https://api.github.com/users/flying-sheep/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/flying-sheep/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/flying-sheep/subscriptions",
      "organizations_url": "https://api.github.com/users/flying-sheep/orgs",
      "repos_url": "https://api.github.com/users/flying-sheep/repos",
      "events_url": "https://api.github.com/users/flying-sheep/events{/privacy}",
      "received_events_url": "https://api.github.com/users/flying-sheep/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-02-17T14:38:06Z",
    "updated_at": "2016-02-17T14:38:06Z",
    "body": "damn, a clonable io::Error would be really nice for me right now :cry: \n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/185232079/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/321663485",
    "html_url": "https://github.com/rust-lang/rust/issues/24135#issuecomment-321663485",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24135",
    "id": 321663485,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyMTY2MzQ4NQ==",
    "user": {
      "login": "spinda",
      "id": 7958605,
      "node_id": "MDQ6VXNlcjc5NTg2MDU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7958605?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/spinda",
      "html_url": "https://github.com/spinda",
      "followers_url": "https://api.github.com/users/spinda/followers",
      "following_url": "https://api.github.com/users/spinda/following{/other_user}",
      "gists_url": "https://api.github.com/users/spinda/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/spinda/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/spinda/subscriptions",
      "organizations_url": "https://api.github.com/users/spinda/orgs",
      "repos_url": "https://api.github.com/users/spinda/repos",
      "events_url": "https://api.github.com/users/spinda/events{/privacy}",
      "received_events_url": "https://api.github.com/users/spinda/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-08-10T20:25:10Z",
    "updated_at": "2017-08-10T20:25:10Z",
    "body": "Normally I would just leave a \ud83d\udc4d here, but it's been a year since the last comment and I've bumped up against this several times in the past few weeks. Would an RFC be appropriate here to move things along, or is further discussion required? (If so, in what venue?)",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/321663485/reactions",
      "total_count": 12,
      "+1": 12,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/336067005",
    "html_url": "https://github.com/rust-lang/rust/issues/24135#issuecomment-336067005",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24135",
    "id": 336067005,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNjA2NzAwNQ==",
    "user": {
      "login": "sanmai-NL",
      "id": 3374183,
      "node_id": "MDQ6VXNlcjMzNzQxODM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3374183?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sanmai-NL",
      "html_url": "https://github.com/sanmai-NL",
      "followers_url": "https://api.github.com/users/sanmai-NL/followers",
      "following_url": "https://api.github.com/users/sanmai-NL/following{/other_user}",
      "gists_url": "https://api.github.com/users/sanmai-NL/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sanmai-NL/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sanmai-NL/subscriptions",
      "organizations_url": "https://api.github.com/users/sanmai-NL/orgs",
      "repos_url": "https://api.github.com/users/sanmai-NL/repos",
      "events_url": "https://api.github.com/users/sanmai-NL/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sanmai-NL/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-10-12T09:01:56Z",
    "updated_at": "2017-10-12T09:01:56Z",
    "body": "@alexcrichton: @spinda and others have brought this issue up again, but no action or explanation has followed. Moreover, this issue has only one tag. Are you the person to triage or otherwise take action on this, or perhaps someone else?",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/336067005/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/344496661",
    "html_url": "https://github.com/rust-lang/rust/issues/24135#issuecomment-344496661",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24135",
    "id": 344496661,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NDQ5NjY2MQ==",
    "user": {
      "login": "dtolnay",
      "id": 1940490,
      "node_id": "MDQ6VXNlcjE5NDA0OTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1940490?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dtolnay",
      "html_url": "https://github.com/dtolnay",
      "followers_url": "https://api.github.com/users/dtolnay/followers",
      "following_url": "https://api.github.com/users/dtolnay/following{/other_user}",
      "gists_url": "https://api.github.com/users/dtolnay/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dtolnay/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dtolnay/subscriptions",
      "organizations_url": "https://api.github.com/users/dtolnay/orgs",
      "repos_url": "https://api.github.com/users/dtolnay/repos",
      "events_url": "https://api.github.com/users/dtolnay/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dtolnay/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-11-15T06:17:24Z",
    "updated_at": "2017-11-15T06:17:24Z",
    "body": "I would prefer for this to go through the [RFC](https://github.com/rust-lang/rfcs/blob/master/libs_changes.md) process.\r\n\r\nMost importantly for the RFC, one thing that hasn't been discussed so far is what are some of the uses cases where cloning an io::Error is the best solution. The RFC would need to provide some concrete situations from real code where not being able to clone an io::Error causes problems, and justify why cloning an io::Error is the best solution to those problems.\r\n\r\nSecond, a discussion of what implications this would have for performance. In my opinion this is not critical but it may help avoid derailing the discussion with guesses about Arc performance.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/344496661/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 1,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/397889021",
    "html_url": "https://github.com/rust-lang/rust/issues/24135#issuecomment-397889021",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24135",
    "id": 397889021,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5Nzg4OTAyMQ==",
    "user": {
      "login": "kornelski",
      "id": 72159,
      "node_id": "MDQ6VXNlcjcyMTU5",
      "avatar_url": "https://avatars.githubusercontent.com/u/72159?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kornelski",
      "html_url": "https://github.com/kornelski",
      "followers_url": "https://api.github.com/users/kornelski/followers",
      "following_url": "https://api.github.com/users/kornelski/following{/other_user}",
      "gists_url": "https://api.github.com/users/kornelski/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kornelski/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kornelski/subscriptions",
      "organizations_url": "https://api.github.com/users/kornelski/orgs",
      "repos_url": "https://api.github.com/users/kornelski/repos",
      "events_url": "https://api.github.com/users/kornelski/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kornelski/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-06-17T16:08:48Z",
    "updated_at": "2018-06-17T16:08:48Z",
    "body": "For the record, I needed cloneable `io::Error` in order to cache a `Result`:\r\n\r\n```rust\r\nfn get_foo(&self) -> Result<Foo, Err> {\r\n   self.cached.clone()\r\n}\r\n```\r\n\r\nI've worked around that by storing `io::Error` as a `String`, so I'm not annoyed enough by this to write an RFC :)",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/397889021/reactions",
      "total_count": 10,
      "+1": 10,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1223056953",
    "html_url": "https://github.com/rust-lang/rust/issues/24135#issuecomment-1223056953",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24135",
    "id": 1223056953,
    "node_id": "IC_kwDOAAsO6M5I5l45",
    "user": {
      "login": "NoraCodes",
      "id": 3290365,
      "node_id": "MDQ6VXNlcjMyOTAzNjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3290365?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/NoraCodes",
      "html_url": "https://github.com/NoraCodes",
      "followers_url": "https://api.github.com/users/NoraCodes/followers",
      "following_url": "https://api.github.com/users/NoraCodes/following{/other_user}",
      "gists_url": "https://api.github.com/users/NoraCodes/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/NoraCodes/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/NoraCodes/subscriptions",
      "organizations_url": "https://api.github.com/users/NoraCodes/orgs",
      "repos_url": "https://api.github.com/users/NoraCodes/repos",
      "events_url": "https://api.github.com/users/NoraCodes/events{/privacy}",
      "received_events_url": "https://api.github.com/users/NoraCodes/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2022-08-22T21:11:50Z",
    "updated_at": "2022-08-22T21:11:50Z",
    "body": "I just wanted to chime in here. Many use cases can indeed work around this issue, but I'm currently hitting one that's pretty much insoluable as far as I can see. I have a stream of `Result<Bytes, MyError>` which uses a channel to communicate that it's finished to another async task - so, in other words, I need to return a `MyError` and send a duplicate `MyError` through the channel. `MyError` is an enum whose variants include `io::Error`, so this is a serious problem.\r\n\r\nMy current workaround is to simply not send `MyError` to the other async task; all it gets is `TaskStatus::Error()`. That's okay for now, but if the project is still receptive to this as an RFC, I'm tempted to write one.\r\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1223056953/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1232588532",
    "html_url": "https://github.com/rust-lang/rust/issues/24135#issuecomment-1232588532",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24135",
    "id": 1232588532,
    "node_id": "IC_kwDOAAsO6M5Jd870",
    "user": {
      "login": "lilyball",
      "id": 714,
      "node_id": "MDQ6VXNlcjcxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/714?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lilyball",
      "html_url": "https://github.com/lilyball",
      "followers_url": "https://api.github.com/users/lilyball/followers",
      "following_url": "https://api.github.com/users/lilyball/following{/other_user}",
      "gists_url": "https://api.github.com/users/lilyball/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lilyball/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lilyball/subscriptions",
      "organizations_url": "https://api.github.com/users/lilyball/orgs",
      "repos_url": "https://api.github.com/users/lilyball/repos",
      "events_url": "https://api.github.com/users/lilyball/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lilyball/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2022-08-31T07:51:20Z",
    "updated_at": "2022-08-31T07:51:20Z",
    "body": "@NoraCodes Can you replace the `io::Error` with an `Arc<io::Error>` instead?",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1232588532/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1260208502",
    "html_url": "https://github.com/rust-lang/rust/issues/24135#issuecomment-1260208502",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24135",
    "id": 1260208502,
    "node_id": "IC_kwDOAAsO6M5LHUF2",
    "user": {
      "login": "simonbuchan",
      "id": 1840547,
      "node_id": "MDQ6VXNlcjE4NDA1NDc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1840547?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/simonbuchan",
      "html_url": "https://github.com/simonbuchan",
      "followers_url": "https://api.github.com/users/simonbuchan/followers",
      "following_url": "https://api.github.com/users/simonbuchan/following{/other_user}",
      "gists_url": "https://api.github.com/users/simonbuchan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/simonbuchan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/simonbuchan/subscriptions",
      "organizations_url": "https://api.github.com/users/simonbuchan/orgs",
      "repos_url": "https://api.github.com/users/simonbuchan/repos",
      "events_url": "https://api.github.com/users/simonbuchan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/simonbuchan/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2022-09-28T00:11:48Z",
    "updated_at": "2022-09-28T00:11:48Z",
    "body": "Another use case: I was trying to reimplement a slice of `tokio::process` (for dumb reasons I won't get into here) with the same API. That has the method:\r\n\r\n```rust\r\nimpl Child {\r\n  pub async fn wait(&mut self) -> std::io::Result<ExitStatus>;\r\n}\r\n```\r\n\r\nNotably, you should be able to call this multiple times, (though not in parallel) and it should return the same result - including any error.\r\n\r\nDoing this relatively safely (given you need to call FFI at a minimum) is quite tricky: for clarity the issue is the same in the simplest option: to `spawn_blocking(|| native_wait(self.handle.raw)).await`, but that requires `Self: 'static`, since otherwise self could be dropped during `native_wait`. So really, you want to move `self.handle` into the `spawn_blocking`, but of course that means that it's not there for a second call to `wait()`.\r\n\r\nThe ideal here is to model `Child` as:\r\n\r\n```\r\npub struct Child {\r\n  id: u32\r\n  state: ChildState,\r\n}\r\n\r\nenum ChildState {\r\n  Running(Handle),\r\n  Exited(std::io::Result<ExitStatus>),\r\n}\r\n```\r\n\r\nand simply return the content of `ChildState::Exited` in that alternative - but that leads to this issue.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1260208502/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/2483124619",
    "html_url": "https://github.com/rust-lang/rust/issues/24135#issuecomment-2483124619",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24135",
    "id": 2483124619,
    "node_id": "IC_kwDOAAsO6M6UAXmL",
    "user": {
      "login": "Timmmm",
      "id": 376842,
      "node_id": "MDQ6VXNlcjM3Njg0Mg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/376842?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Timmmm",
      "html_url": "https://github.com/Timmmm",
      "followers_url": "https://api.github.com/users/Timmmm/followers",
      "following_url": "https://api.github.com/users/Timmmm/following{/other_user}",
      "gists_url": "https://api.github.com/users/Timmmm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Timmmm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Timmmm/subscriptions",
      "organizations_url": "https://api.github.com/users/Timmmm/orgs",
      "repos_url": "https://api.github.com/users/Timmmm/repos",
      "events_url": "https://api.github.com/users/Timmmm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Timmmm/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2024-11-18T13:57:42Z",
    "updated_at": "2024-11-18T13:57:42Z",
    "body": "I have a `Stream` that produces `Item=Result<Bytes, io::Error>`. I'm trying to tee it using [`fork_stream`](https://github.com/nikis05/fork_stream), which naturally requires the error to be `Clone`. I can't wrap it in `Arc` or convert it to a string because I literally need two copies of the error - one for each stream.\n\nThe best I can think of is mapping the errors to `Arc<io::Error>` before `fork_stream`, and then mapping them *again* afterwards to remove the `Arc` and duplicate the error using `kind()` and `downcast()`. That's awful.\n\nIs it possible to fix this without breaking the API? ",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/2483124619/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
