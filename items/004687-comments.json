[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/12917153",
    "html_url": "https://github.com/rust-lang/rust/pull/4687#issuecomment-12917153",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/4687",
    "id": 12917153,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyOTE3MTUz",
    "user": {
      "login": "catamorphism",
      "id": 427212,
      "node_id": "MDQ6VXNlcjQyNzIxMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/427212?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/catamorphism",
      "html_url": "https://github.com/catamorphism",
      "followers_url": "https://api.github.com/users/catamorphism/followers",
      "following_url": "https://api.github.com/users/catamorphism/following{/other_user}",
      "gists_url": "https://api.github.com/users/catamorphism/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/catamorphism/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/catamorphism/subscriptions",
      "organizations_url": "https://api.github.com/users/catamorphism/orgs",
      "repos_url": "https://api.github.com/users/catamorphism/repos",
      "events_url": "https://api.github.com/users/catamorphism/events{/privacy}",
      "received_events_url": "https://api.github.com/users/catamorphism/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-01-30T22:48:54Z",
    "updated_at": "2013-01-30T22:48:54Z",
    "body": "Thanks!\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/12917153/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/12959508",
    "html_url": "https://github.com/rust-lang/rust/pull/4687#issuecomment-12959508",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/4687",
    "id": 12959508,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyOTU5NTA4",
    "user": {
      "login": "graydon",
      "id": 14097,
      "node_id": "MDQ6VXNlcjE0MDk3",
      "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/graydon",
      "html_url": "https://github.com/graydon",
      "followers_url": "https://api.github.com/users/graydon/followers",
      "following_url": "https://api.github.com/users/graydon/following{/other_user}",
      "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/graydon/subscriptions",
      "organizations_url": "https://api.github.com/users/graydon/orgs",
      "repos_url": "https://api.github.com/users/graydon/repos",
      "events_url": "https://api.github.com/users/graydon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/graydon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-01-31T19:01:44Z",
    "updated_at": "2013-01-31T19:01:44Z",
    "body": "A note on this: the TLS ISAAC we keep is, itself, a security risk. It does not currently reseed _ever_ after it's constructed. So it's strictly worse than `/dev/urandom`: not only is it non-entropy-calibrated (as `/dev/random` would be), it's not even reseeding at a best-effort case (as `/dev/urandom` is). As a result, this patch makes our hashtables strictly weaker to resisting complexity attacks.\n\nThat said, ISAAC is supposedly \"as strong\" a CPRNG as any other we're likely getting access to via `/dev/urandom` so I think the patch can stay so long as we fix up the TLS instance of ISAAC to reseed periodically (which we should do anyways -- all users will currently suffer from the non-reseeding). The speed issue is real and is the reason we have ISAAC in-process with us in the first place. I'll file a bug on reseeding the TLS ISAAC.\n\nPlease be sure to subject all pull requests concerning randomness to extremely detailed review (preferably with multiple reviewers who are solidly familiar with CPRNGs). This sort of thing is very easy to get wrong: most randomness \"looks the same\".\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/12959508/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/13044568",
    "html_url": "https://github.com/rust-lang/rust/pull/4687#issuecomment-13044568",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/4687",
    "id": 13044568,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMDQ0NTY4",
    "user": {
      "login": "cpeterso",
      "id": 629193,
      "node_id": "MDQ6VXNlcjYyOTE5Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/629193?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cpeterso",
      "html_url": "https://github.com/cpeterso",
      "followers_url": "https://api.github.com/users/cpeterso/followers",
      "following_url": "https://api.github.com/users/cpeterso/following{/other_user}",
      "gists_url": "https://api.github.com/users/cpeterso/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cpeterso/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cpeterso/subscriptions",
      "organizations_url": "https://api.github.com/users/cpeterso/orgs",
      "repos_url": "https://api.github.com/users/cpeterso/repos",
      "events_url": "https://api.github.com/users/cpeterso/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cpeterso/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-02-03T09:35:40Z",
    "updated_at": "2013-02-03T09:35:40Z",
    "body": "When I timed Rust's `make check` before and after this change, hashmap with task_rng() had a **2x slowdown**! Why would the task_rng() seemingly have _more_ contention? (My MacBook Pro with 4 hyperthreaded core, so RUST_THREADS=8.)\n- BEFORE: hashmap using **rand::Rng()**:\n\n```\n$ time RUST_THREADS=8 make check &> /dev/null\nreal    4m9.721s\nuser    24m54.128s\nsys     4m2.524s\n```\n\n```\n$ time RUST_THREADS=1 make check &> /dev/null\nreal    9m32.939s\nuser    38m22.876s\nsys     3m32.681s\n```\n- AFTER: hashmap using **rand::task_rng()** has **2.3x slowdown** with 8 threads, but a 1.3x speedup with 1 thread:\n\n```\n$ time RUST_THREADS=8 make check &> /dev/null\nreal    9m28.818s\nuser    41m50.217s\nsys     4m10.457s\n```\n\n```\n$ time RUST_THREADS=1 make check &> /dev/null\nreal    7m11.443s\nuser    14m13.074s\nsys     2m13.267s\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/13044568/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/13063536",
    "html_url": "https://github.com/rust-lang/rust/pull/4687#issuecomment-13063536",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/4687",
    "id": 13063536,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMDYzNTM2",
    "user": {
      "login": "graydon",
      "id": 14097,
      "node_id": "MDQ6VXNlcjE0MDk3",
      "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/graydon",
      "html_url": "https://github.com/graydon",
      "followers_url": "https://api.github.com/users/graydon/followers",
      "following_url": "https://api.github.com/users/graydon/following{/other_user}",
      "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/graydon/subscriptions",
      "organizations_url": "https://api.github.com/users/graydon/orgs",
      "repos_url": "https://api.github.com/users/graydon/repos",
      "events_url": "https://api.github.com/users/graydon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/graydon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-02-04T06:08:22Z",
    "updated_at": "2013-02-04T06:08:22Z",
    "body": "Not sure. Reopening.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/13063536/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
