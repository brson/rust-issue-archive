[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/7473196",
    "html_url": "https://github.com/rust-lang/rust/issues/3095#issuecomment-7473196",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/3095",
    "id": 7473196,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc0NzMxOTY=",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-08-03T01:27:02Z",
    "updated_at": "2012-08-03T01:27:02Z",
    "body": "I don't have any answers right now, but I'm going to drop this link here: http://supertech.csail.mit.edu/papers.html. These are all the cilk papers, many about work stealing.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/7473196/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/7473930",
    "html_url": "https://github.com/rust-lang/rust/issues/3095#issuecomment-7473930",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/3095",
    "id": 7473930,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc0NzM5MzA=",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-08-03T02:19:35Z",
    "updated_at": "2012-08-03T02:19:35Z",
    "body": "One thing: not having to solve these kinds of annoying---but solved---implementation decisions is the reason why I thought it make sense to consider basing our implementation on a well-tested scheduler, like TBB.  I still basically think we ought to try prototyping that. \n\nThat said, there are existing implementations that do solve these kinds of problems, and to the extent allowed by law we can also peek at what they do.  I remember I did a few things when I was implementing my own work-stealing scheduler a while back, but I don't remember what worked well\u2014I think I was never fully satisfied with this particular aspect of my design, as there was a potential race in which a thread might go to sleep just as new work was being posted and hence be idle.  Of course that thread would wake if there were yet more work posted, or if a certain timeout elapsed, so in practice this wasn't a big deal.  But I imagine there are more elegant solutions out there.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/7473930/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/7475273",
    "html_url": "https://github.com/rust-lang/rust/issues/3095#issuecomment-7475273",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/3095",
    "id": 7475273,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc0NzUyNzM=",
    "user": {
      "login": "graydon",
      "id": 14097,
      "node_id": "MDQ6VXNlcjE0MDk3",
      "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/graydon",
      "html_url": "https://github.com/graydon",
      "followers_url": "https://api.github.com/users/graydon/followers",
      "following_url": "https://api.github.com/users/graydon/following{/other_user}",
      "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/graydon/subscriptions",
      "organizations_url": "https://api.github.com/users/graydon/orgs",
      "repos_url": "https://api.github.com/users/graydon/repos",
      "events_url": "https://api.github.com/users/graydon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/graydon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-08-03T04:10:25Z",
    "updated_at": "2012-08-03T04:10:25Z",
    "body": "Hmm. So on irc I said I'd like you to clarify the bug in terms of sched vs thread, and I'll repeat that request here in more detail.\n\nHere is my (possibly wrong) understanding of the current system:\n\nBy default there is one sched. It's multi threaded and the threads all share a pool of tasks. So that may involve too much locking but it already means that most tasks auto balance across idle cores.\n\nIf a user makes multiple scheds, it's generally because they _want_ to pin a task to a thread. Or a smaller set of threads. That's the whole reason the api for multiple scheds exists. So in these cases, stealing tasks between scheds is incorrect, by definition.\n\nIf I'm right about those assumptions, then I don't really see what this bug means, except maybe taking fewer locks in the multi threaded sched case. Am I misinformed of how the current system works?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/7475273/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/7475328",
    "html_url": "https://github.com/rust-lang/rust/issues/3095#issuecomment-7475328",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/3095",
    "id": 7475328,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc0NzUzMjg=",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-08-03T04:15:20Z",
    "updated_at": "2012-08-03T04:15:20Z",
    "body": "I had assumed that this referred to stealing within the main scheduler?  It seems like we ought to have each scheduler map to a pool of threads (which possibly has size 1).  Tasks may move around within this pool however we like but do not cross pools.\n\nAlso\u2014there is lots of interesting work on scheduling for better locality.  In particular for Servo, Leo Meyerovich's work at Berkeley on parallelizing layout uses a variation on work-stealing in which they first do classic work stealing, but they record which processor ended up processing which nodes in the tree.  In latter phases they just replay this.  Or something like that.  He claimed it was essential for good performance, as classical work stealing proved too much overhead.  So I'm sure we'll be tweaking this as we go to give user's more control!\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/7475328/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/7476835",
    "html_url": "https://github.com/rust-lang/rust/issues/3095#issuecomment-7476835",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/3095",
    "id": 7476835,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc0NzY4MzU=",
    "user": {
      "login": "bblum",
      "id": 1820515,
      "node_id": "MDQ6VXNlcjE4MjA1MTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1820515?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bblum",
      "html_url": "https://github.com/bblum",
      "followers_url": "https://api.github.com/users/bblum/followers",
      "following_url": "https://api.github.com/users/bblum/following{/other_user}",
      "gists_url": "https://api.github.com/users/bblum/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bblum/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bblum/subscriptions",
      "organizations_url": "https://api.github.com/users/bblum/orgs",
      "repos_url": "https://api.github.com/users/bblum/repos",
      "events_url": "https://api.github.com/users/bblum/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bblum/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-08-03T06:39:47Z",
    "updated_at": "2012-08-03T06:39:47Z",
    "body": "@brson ooh, useful. I didn't look yet at the cilk papers, but the \"worst page-replacement policy\" paper (well, the abstract) is amazing.\n\n@nikomatsakis I am still not sure what the nature of the problem is. if the answer is \"Well yeah, you just suck it up and bounce on a global lock for every lifecycle operation\", well, that wouldn't take much effort at all to implement with what we've got. if, on the other hand, there are clever heuristics that achieve good balancing and avoiding the global lock, that wheel would be a lot worse to reinvent.\n\n@graydon No, threads within a sched do not share a pool of tasks; each thread has their own pool. The benefit which we'd lose from changing to what you described is the task block/wakeup paths only need a per-cpu lock (sched_loop->lock), rather than the global lock needed for spawn and exit (scheduler->lock).\n\nBasically what you described is what we want; the question is how can we implement it right.\n\n@nikomatsakis hmm. nodes in trees is getting a lot closer to data-aware scheduling, which is beyond the scope of the runtime scheduler. It might be easy to make the runtime expose a \"cpu affinity\" option, and have a data-aware library that makes use of that.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/7476835/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/7483974",
    "html_url": "https://github.com/rust-lang/rust/issues/3095#issuecomment-7483974",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/3095",
    "id": 7483974,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc0ODM5NzQ=",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-08-03T13:59:06Z",
    "updated_at": "2012-08-03T13:59:06Z",
    "body": "@bblum I don't know what the best solutions are either.  Clearly busy-looping trying to steal isn't it.  I think what I had before was pretty straight-forward: basically a shared boolean flag indicated whether there were any idle threads combined with a linked list of idle threads.  After they failed to steal, threads would acquire a lock, atomically add themselves to the list, and set the flag.  When producing work, you would check the flag and, if it is true, wake up an idle task and deliver the work item directly to them rather than pushing it onto your queue.  However, I don't claim this was particularly smart, as I said I was never fully satisfied with it.  I don't know what sort of protocols are used in other systems, it feels like you can do better though!\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/7483974/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/7491373",
    "html_url": "https://github.com/rust-lang/rust/issues/3095#issuecomment-7491373",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/3095",
    "id": 7491373,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc0OTEzNzM=",
    "user": {
      "login": "bblum",
      "id": 1820515,
      "node_id": "MDQ6VXNlcjE4MjA1MTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1820515?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bblum",
      "html_url": "https://github.com/bblum",
      "followers_url": "https://api.github.com/users/bblum/followers",
      "following_url": "https://api.github.com/users/bblum/following{/other_user}",
      "gists_url": "https://api.github.com/users/bblum/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bblum/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bblum/subscriptions",
      "organizations_url": "https://api.github.com/users/bblum/orgs",
      "repos_url": "https://api.github.com/users/bblum/repos",
      "events_url": "https://api.github.com/users/bblum/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bblum/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-08-03T19:10:44Z",
    "updated_at": "2012-08-03T19:11:59Z",
    "body": "@nikomatsakis \"when you had before\" - what system was that for?\n\nit sounds like that's analogous to the \"global lock\" approach i was mentioning - producing work is task-wakeup (always), and becoming idle is task-block-if-it-was-your-last-task. it sounds like becoming idle was the complicated path in your system, which is in keeping with the point of work-stealing that busy cpus not be burdened with it.\n\ni think there is probably not a way to avoid global locking in the wakeup case. i suspect tasks blocking can bypass the global lock if it wasn't the last task on that cpu.\n\ni will also note that the cpu affinity i mentioned above is a good reason to keep one-runqueue-per-cpu instead of a global pool of tasks.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/7491373/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/7495372",
    "html_url": "https://github.com/rust-lang/rust/issues/3095#issuecomment-7495372",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/3095",
    "id": 7495372,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc0OTUzNzI=",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-08-03T21:38:48Z",
    "updated_at": "2012-08-03T21:38:48Z",
    "body": "@bblum this was a scheduler I did as part of my PhD work.  Ultimately the system relied on a global lock, the flag was used to avoid touching the lock in the common case where lots of tasks are being produced and the system is generally operating at a good level of throughput (in which case, tasks are not idle).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/7495372/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/7495393",
    "html_url": "https://github.com/rust-lang/rust/issues/3095#issuecomment-7495393",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/3095",
    "id": 7495393,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc0OTUzOTM=",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-08-03T21:39:53Z",
    "updated_at": "2012-08-03T21:39:53Z",
    "body": "oh, @bblum, regarding the data-specific stuff, I am envisioning that there will be custom schedulers tailored to specific strategies, perhaps even schedulers implemented just for one application.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/7495393/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/7735665",
    "html_url": "https://github.com/rust-lang/rust/issues/3095#issuecomment-7735665",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/3095",
    "id": 7735665,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3MzU2NjU=",
    "user": {
      "login": "bblum",
      "id": 1820515,
      "node_id": "MDQ6VXNlcjE4MjA1MTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1820515?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bblum",
      "html_url": "https://github.com/bblum",
      "followers_url": "https://api.github.com/users/bblum/followers",
      "following_url": "https://api.github.com/users/bblum/following{/other_user}",
      "gists_url": "https://api.github.com/users/bblum/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bblum/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bblum/subscriptions",
      "organizations_url": "https://api.github.com/users/bblum/orgs",
      "repos_url": "https://api.github.com/users/bblum/repos",
      "events_url": "https://api.github.com/users/bblum/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bblum/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-08-14T18:36:19Z",
    "updated_at": "2012-08-14T18:36:19Z",
    "body": "I won't have time to do this justice before my internship is over.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/7735665/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/7736264",
    "html_url": "https://github.com/rust-lang/rust/issues/3095#issuecomment-7736264",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/3095",
    "id": 7736264,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3MzYyNjQ=",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-08-14T18:55:21Z",
    "updated_at": "2012-08-14T18:55:21Z",
    "body": "That's ok! The work you did on tasks was awesome.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/7736264/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/7745544",
    "html_url": "https://github.com/rust-lang/rust/issues/3095#issuecomment-7745544",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/3095",
    "id": 7745544,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3NDU1NDQ=",
    "user": {
      "login": "bblum",
      "id": 1820515,
      "node_id": "MDQ6VXNlcjE4MjA1MTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1820515?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bblum",
      "html_url": "https://github.com/bblum",
      "followers_url": "https://api.github.com/users/bblum/followers",
      "following_url": "https://api.github.com/users/bblum/following{/other_user}",
      "gists_url": "https://api.github.com/users/bblum/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bblum/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bblum/subscriptions",
      "organizations_url": "https://api.github.com/users/bblum/orgs",
      "repos_url": "https://api.github.com/users/bblum/repos",
      "events_url": "https://api.github.com/users/bblum/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bblum/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-08-15T01:13:12Z",
    "updated_at": "2012-08-15T01:13:12Z",
    "body": "One important implementation detail note: in rust_sched_loop - currently, current task stays on the RQ. If it gets taken off, i.e. to steal it, that may introduce a problem where it won't get killed by kill_all if the runtime is failing.\n\nThis has to do with the fix for #2671 - sched_loops now have a field called `killed`, which is set when the runtime fails. If this races with stealing (i.e., so the stolen task misses the kill signal), the sched_loop would need to check its killed flag before starting to run the stolen task.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/7745544/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/11318557",
    "html_url": "https://github.com/rust-lang/rust/issues/3095#issuecomment-11318557",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/3095",
    "id": 11318557,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExMzE4NTU3",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-12-13T01:32:27Z",
    "updated_at": "2012-12-13T01:32:27Z",
    "body": "A student has expressed interest in this project: https://github.com/Yoric/Mozilla-Student-Projects/issues/31\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/11318557/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/17009392",
    "html_url": "https://github.com/rust-lang/rust/issues/3095#issuecomment-17009392",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/3095",
    "id": 17009392,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MDA5Mzky",
    "user": {
      "login": "graydon",
      "id": 14097,
      "node_id": "MDQ6VXNlcjE0MDk3",
      "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/graydon",
      "html_url": "https://github.com/graydon",
      "followers_url": "https://api.github.com/users/graydon/followers",
      "following_url": "https://api.github.com/users/graydon/following{/other_user}",
      "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/graydon/subscriptions",
      "organizations_url": "https://api.github.com/users/graydon/orgs",
      "repos_url": "https://api.github.com/users/graydon/repos",
      "events_url": "https://api.github.com/users/graydon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/graydon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-04-25T14:14:12Z",
    "updated_at": "2013-04-25T14:14:12Z",
    "body": "nominating for backwards-compatible milestone\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/17009392/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/17769438",
    "html_url": "https://github.com/rust-lang/rust/issues/3095#issuecomment-17769438",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/3095",
    "id": 17769438,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3NzY5NDM4",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-05-11T23:31:10Z",
    "updated_at": "2013-05-21T03:21:48Z",
    "body": "I'm going to outline the straw-man design I have in mind for work stealing to go along with the scheduler redesign in #4419. As the OP pointed out the trickiest part is dealing with waking up schedulers to steal, and the literature doesn't give any guidance on this. There are lots of ways to go about this, but the one I'm going to present is simple and fits well with the language and scheduler design.\n\nThe primary consideration is that as much synchronization work as possible is offloaded from the active schedulers to those that are seeking work. The original work stealing paper seems to imply this is done by making the schedulers that are out of work 'busy-steal', continually trying to steal from others until there is work available. This imposes no overhead on active schedulers but isn't practical - a power-efficient solution needs to be event driven. Under this design the local, working scheduler will pay a minimum of two atomic operations every time it defers work to the work queue: 1 to enqueue the task, 1 more to check if there is a sleeping scheduler to wake up.\n\nThere is a shared data structure, `WorkList`:\n\n```\nstruct WorkList {\n    sleeper: AtomicOption<SchedHandle>,\n    work_queues: [(WorkQueue, WorkQueueClaim), .. MAX_SCHEDULERS]\n}\n```\n\n`AtomicOption` is a pointer that can be cmpxchgd. `SchedHandle` is the type through which schedulers send messages to each other. `WorkQueue` is a work stealing queue. `sleeper` is a handle to a quiescent, sleeping scheduler that previously decided there was no work available.  `work_queues` is a fixed-size vector of `WorkQueue`; as there are always `MAX_SCHEDULERS` `WorkQueue`s these should have very little or no memory overhead when unused. `WorkQueueClaim` is a pointer-sized integer used for assigning `WorkQueues` to `Schedulers`.\n\n`WorkList` is shared between schedulers as an `UnsafeAtomicRcBox<WorkList>`.\n\nAccess to `work_queue` is always random to distribute contention between all the queues in the system.\n\nWhen a stealing scheduler can't find work it makes a `SchedHandle` available to be woken up with later. Sleeping schedulers form a linked list and are responsible for waking each other up in sequence when new work becomes available. Note that, because of async I/O a scheduler that goes to sleep may be woken in other ways. We need to be sure that I/O bound schedulers don't repeatedly spam other schedulers to indicate that they are sleeping.\n\n# Scheduler creation\n\n1) select an index between [0, MAX_SCHEDULERS),\n2) cmpxchg the value of the `WorkQueueClaim` at that index from 0 to 1\n2a) if the cmpxchg succeeded then the scheduler takes a handle to it, records the index and creates the scheduler\n2b) if the cmpxchg fails then increment the index and try 2 again\n3) if all indexes are occupied then scheduler creation fails\n\n# Work stealing\n\nWhen a scheduler looks into it's local work queue and there is nothing to do, it starts the following stealing process:\n\n1) check the local `waiting_for_work` flag. if it is already `true` then we've been through this process before, there is no work available and we are waiting for the `WorkAvailable` message. go to sleep and wait. this can happen when the scheduler is woken to do I/O or to respond to other messages.\n2) otherwise, select an index between [0, MAX_SCHEDULERS),\n3) attempt to pop from the queue at that index\n3a) if success then schedule the task\n3b) if the steal fails then increment the index and try 3 again\n4) if all indexes fail then go to sleep (next section)\n\n# Sleeping\n\n1) set the local `waiting_for_work` flag to `true`. This will stay set until we receive the `WorkAvailable` message from the `SchedHandle`. This is to prevent the situation where I/O (or other events) wake up the scheduler followed by the scheduler going back to sleep and creating a new `SchedHandle`\n2) create a new `SchedHandle` to be woken up with via the `WorkAvailable` message.\n3) atomically swap the `SchedHandle` with `WorkList.sleeper` and store the previous value in the local `next_sleeper` variable\n4) wait to be woken up.\n\n# Waking\n\nWhen a scheduler pushes a task onto it's queue it may need to send a signal to jumpstart the stealing process.\n\n1) after a working scheduler pushes onto its queue it then atomically swaps 0 with the `WorkList.sleeper` `SchedHandle`.\n2) if `sleeper` is non-null then it sends the `WorkAvailable` message and destroys the `SchedHandle`, then goes back to work.\n3) in the remote scheduler, upon receipt of `WorkAvailable` the scheduler sets `waiting_for_work` to 0, looks at it's `next_sleeper` variable to see if there are further schedulers to wake up. if so it sends the `WorkAvailable` message and sets `next_sleeper` to 0. the process continues until all schedulers are awake.\n\n# Issues\n- Inlining all these atomically operated words into this data structure will create very heavy cache contention. That is mostly suffered by stealers though so it shouldn't be so bad for workers.\n- This allows stealers to go to sleep even while there is available work to be stolen. A stealer could go through the list, find nothing, then sleep, but in the meantime another scheduler could push work onto it's queue - neither party notices this situation and the work doesn't get stolen. I don't think this affects correctness - it just means that you miss some parallelism.\n- For systems under light load this will end up with all pushes onto the work queue requiring the local scheduler to wake a remote scheduler, and that's not so cheap here. Maybe this can be mitigated in some way by keeping track of the number of schedulers that are trying to steal.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/17769438/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/17772781",
    "html_url": "https://github.com/rust-lang/rust/issues/3095#issuecomment-17772781",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/3095",
    "id": 17772781,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3NzcyNzgx",
    "user": {
      "login": "Aatch",
      "id": 342416,
      "node_id": "MDQ6VXNlcjM0MjQxNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/342416?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Aatch",
      "html_url": "https://github.com/Aatch",
      "followers_url": "https://api.github.com/users/Aatch/followers",
      "following_url": "https://api.github.com/users/Aatch/following{/other_user}",
      "gists_url": "https://api.github.com/users/Aatch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Aatch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Aatch/subscriptions",
      "organizations_url": "https://api.github.com/users/Aatch/orgs",
      "repos_url": "https://api.github.com/users/Aatch/repos",
      "events_url": "https://api.github.com/users/Aatch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Aatch/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-05-12T05:10:45Z",
    "updated_at": "2013-05-12T05:37:33Z",
    "body": "I've been working on the work-stealing deque. I have an initial implementation here: https://github.com/Aatch/rust/work-steal that seems to work (at least as a regular queue) and I'm going to see what I can do in terms of implementing the rest of the work-stealing stuff.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/17772781/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/18430143",
    "html_url": "https://github.com/rust-lang/rust/issues/3095#issuecomment-18430143",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/3095",
    "id": 18430143,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4NDMwMTQz",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-05-24T21:09:30Z",
    "updated_at": "2013-05-25T01:55:50Z",
    "body": "More papers:\n- [Thread scheduling for multiprogramming multiprocessors](http://www.eecis.udel.edu/~cavazos/cisc879-spring2008/papers/arora98thread.pdf)\n- [Scheduling multithreaded computations by work stealing](http://supertech.csail.mit.edu/papers/steal.pdf)\n- [The data locality of work stealing](http://www.aladdin.cs.cmu.edu/papers/pdfs/y2000/locality_spaa00.pdf)\n- [A dynamically-sized work stealing deque](http://academic.research.microsoft.com/Paper/1815946.aspx) - The Chase/Lev lock free deque.\n- [Work-first and help-first scheduling policies for async-finish task parallelism](http://www.cs.rice.edu/~yguo/pubs/PID824943.pdf) - A slightly more general than 'fully-strict' algorithm.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/18430143/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/18430318",
    "html_url": "https://github.com/rust-lang/rust/issues/3095#issuecomment-18430318",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/3095",
    "id": 18430318,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4NDMwMzE4",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-05-24T21:13:24Z",
    "updated_at": "2013-05-24T21:13:24Z",
    "body": "Some critiques of work-stealing as applied to the Java fork/join library: http://www.coopsoft.com/ar/CalamityArticle.html#steal\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/18430318/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/18782067",
    "html_url": "https://github.com/rust-lang/rust/issues/3095#issuecomment-18782067",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/3095",
    "id": 18782067,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4NzgyMDY3",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-06-01T02:15:01Z",
    "updated_at": "2013-06-01T02:15:01Z",
    "body": "Even more papers that I haven't read yet!\n- [Scheduling techniques for concurrent systems](http://www.ece.rutgers.edu/~parashar/Classes/ece572-papers/05/ps-ousterhout.pdf)\n- [Contention aware scheduling](http://www.sfu.ca/~sba70/files/a8-blagodurov.pdf)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/18782067/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/19228538",
    "html_url": "https://github.com/rust-lang/rust/issues/3095#issuecomment-19228538",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/3095",
    "id": 19228538,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE5MjI4NTM4",
    "user": {
      "login": "toddaaro",
      "id": 366431,
      "node_id": "MDQ6VXNlcjM2NjQzMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/366431?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/toddaaro",
      "html_url": "https://github.com/toddaaro",
      "followers_url": "https://api.github.com/users/toddaaro/followers",
      "following_url": "https://api.github.com/users/toddaaro/following{/other_user}",
      "gists_url": "https://api.github.com/users/toddaaro/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/toddaaro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/toddaaro/subscriptions",
      "organizations_url": "https://api.github.com/users/toddaaro/orgs",
      "repos_url": "https://api.github.com/users/toddaaro/repos",
      "events_url": "https://api.github.com/users/toddaaro/events{/privacy}",
      "received_events_url": "https://api.github.com/users/toddaaro/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-06-10T21:43:08Z",
    "updated_at": "2013-06-10T21:43:08Z",
    "body": "\"BWS: Balanced Work Stealing for Time-Sharing Multicores\"\nhttp://www.cse.ohio-state.edu/hpcs/WWW/HTML/publications/papers/TR-12-1.pdf\n\nThe focus is on increasing performance/fairness in the concurrent workstealing \"jobs\" case, and they use a few kernel extensions to get a solid speedup. This isn't very applicable to Rust's use-case, but the comments they make on fairness+concurrency issues could be informative.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/19228538/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/19293303",
    "html_url": "https://github.com/rust-lang/rust/issues/3095#issuecomment-19293303",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/3095",
    "id": 19293303,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE5MjkzMzAz",
    "user": {
      "login": "toddaaro",
      "id": 366431,
      "node_id": "MDQ6VXNlcjM2NjQzMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/366431?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/toddaaro",
      "html_url": "https://github.com/toddaaro",
      "followers_url": "https://api.github.com/users/toddaaro/followers",
      "following_url": "https://api.github.com/users/toddaaro/following{/other_user}",
      "gists_url": "https://api.github.com/users/toddaaro/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/toddaaro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/toddaaro/subscriptions",
      "organizations_url": "https://api.github.com/users/toddaaro/orgs",
      "repos_url": "https://api.github.com/users/toddaaro/repos",
      "events_url": "https://api.github.com/users/toddaaro/events{/privacy}",
      "received_events_url": "https://api.github.com/users/toddaaro/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-06-11T21:23:34Z",
    "updated_at": "2013-06-11T21:23:34Z",
    "body": "\"Three Layer Cake for Shared-Memory Programming\"\nhttp://www.upcrc.illinois.edu/workshops/paraplop10/papers/paraplop10_submission_8.pdf\n\nThis paper discusses the composition of message-passing, fork-join, and SIMD parallelism. Extremely relevant to the Rust runtime design.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/19293303/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/21788005",
    "html_url": "https://github.com/rust-lang/rust/issues/3095#issuecomment-21788005",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/3095",
    "id": 21788005,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxNzg4MDA1",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-07-30T12:44:34Z",
    "updated_at": "2013-07-30T12:44:34Z",
    "body": "Visiting for triage; I don't know enough about the new scheduler to be able to make a sensible comment on this at all.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/21788005/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/22588523",
    "html_url": "https://github.com/rust-lang/rust/issues/3095#issuecomment-22588523",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/3095",
    "id": 22588523,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyNTg4NTIz",
    "user": {
      "login": "cpeterso",
      "id": 629193,
      "node_id": "MDQ6VXNlcjYyOTE5Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/629193?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cpeterso",
      "html_url": "https://github.com/cpeterso",
      "followers_url": "https://api.github.com/users/cpeterso/followers",
      "following_url": "https://api.github.com/users/cpeterso/following{/other_user}",
      "gists_url": "https://api.github.com/users/cpeterso/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cpeterso/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cpeterso/subscriptions",
      "organizations_url": "https://api.github.com/users/cpeterso/orgs",
      "repos_url": "https://api.github.com/users/cpeterso/repos",
      "events_url": "https://api.github.com/users/cpeterso/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cpeterso/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-08-13T18:54:56Z",
    "updated_at": "2013-09-23T18:26:08Z",
    "body": "\"Non-blocking steal-half work queues\"\nhttp://www.cs.bgu.ac.il/~hendlerd/papers/p280-hendler.pdf\n\nThis paper presents _StealHalf_, a new generalization of the Arora et al. algorithm that allows workers, instead of stealing one, to steal up to half of the items in a given work queue at a time. Workers don't need to steal as often and they are more likely to find a non-empty queue when they randomly pick one because items are distributed among more queues.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/22588523/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/30718122",
    "html_url": "https://github.com/rust-lang/rust/issues/3095#issuecomment-30718122",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/3095",
    "id": 30718122,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwNzE4MTIy",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-12-17T01:14:26Z",
    "updated_at": "2013-12-17T01:14:26Z",
    "body": "I'm going to close this for now. There's some awesome material in this thread, but for now work stealing is implemented in the M:N schedulers using the chase-lev deques. I think that we've been pretty happy with this and we don't appear to be rushing to completely redesign this any time soon.\n\nThere may still be bugs to flesh out in work-stealing, or just fine-tuning in general, but for now I think that the major action-items on this issue are taken care of. I'm fine reopening if others disagree though!\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/30718122/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
