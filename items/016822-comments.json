[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53809763",
    "html_url": "https://github.com/rust-lang/rust/issues/16822#issuecomment-53809763",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/16822",
    "id": 53809763,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzODA5NzYz",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-28T22:05:41Z",
    "updated_at": "2014-08-28T22:05:41Z",
    "body": "I believe this may possibly be related to https://github.com/rust-lang/rust/issues/16643. What version of `rustc` do you have?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53809763/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53813399",
    "html_url": "https://github.com/rust-lang/rust/issues/16822#issuecomment-53813399",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/16822",
    "id": 53813399,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzODEzMzk5",
    "user": {
      "login": "arturoc",
      "id": 48240,
      "node_id": "MDQ6VXNlcjQ4MjQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/48240?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/arturoc",
      "html_url": "https://github.com/arturoc",
      "followers_url": "https://api.github.com/users/arturoc/followers",
      "following_url": "https://api.github.com/users/arturoc/following{/other_user}",
      "gists_url": "https://api.github.com/users/arturoc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/arturoc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/arturoc/subscriptions",
      "organizations_url": "https://api.github.com/users/arturoc/orgs",
      "repos_url": "https://api.github.com/users/arturoc/repos",
      "events_url": "https://api.github.com/users/arturoc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/arturoc/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-28T22:36:16Z",
    "updated_at": "2014-08-28T22:36:16Z",
    "body": "rustc 0.12.0-pre (0d3bd7720 2014-08-27 21:31:13 +0000)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53813399/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/54219537",
    "html_url": "https://github.com/rust-lang/rust/issues/16822#issuecomment-54219537",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/16822",
    "id": 54219537,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU0MjE5NTM3",
    "user": {
      "login": "arturoc",
      "id": 48240,
      "node_id": "MDQ6VXNlcjQ4MjQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/48240?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/arturoc",
      "html_url": "https://github.com/arturoc",
      "followers_url": "https://api.github.com/users/arturoc/followers",
      "following_url": "https://api.github.com/users/arturoc/following{/other_user}",
      "gists_url": "https://api.github.com/users/arturoc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/arturoc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/arturoc/subscriptions",
      "organizations_url": "https://api.github.com/users/arturoc/orgs",
      "repos_url": "https://api.github.com/users/arturoc/repos",
      "events_url": "https://api.github.com/users/arturoc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/arturoc/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-09-02T21:20:47Z",
    "updated_at": "2014-09-02T21:24:21Z",
    "body": "i've managed to reproduce this with a simple example:\n\ntest.rs:\n\n``` rust\nextern crate lib;\n\nuse std::cell::RefCell;\n\nstruct App{\n    i: int\n}\n\nimpl lib::Update for App{\n    fn update(&mut self){\n        self.i += 1;\n    }\n}\n\nfn main(){\n    let app = App{i: 5};\n    let window = lib::Window{data: RefCell::new(app)};\n    window.update(1);\n}\n```\n\nlib.rs\n\n``` rust\n#![crate_type = \"lib\"]\n#![crate_name = \"lib\"]\n\nuse std::cell::RefCell;\n\npub struct Window<Data>{\n    pub data: RefCell<Data>\n}\n\nimpl<Data:  Update> Window<Data>{\n    pub fn update(&self, e: i32){\n\n        match e{\n            1 => self.data.borrow_mut().update(),\n            _ => {}\n        }\n    }\n}\n\npub trait Update{\n    fn update(&mut self);\n}\n```\n\nthe error seems to happen only when accessing a RefCell from a library instanciated with a type coming from a program linking to that library and only if the borrow is inside a match!, it doesn't seem to matter if the borrow is mutable or not.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/54219537/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/54220365",
    "html_url": "https://github.com/rust-lang/rust/issues/16822#issuecomment-54220365",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/16822",
    "id": 54220365,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU0MjIwMzY1",
    "user": {
      "login": "arturoc",
      "id": 48240,
      "node_id": "MDQ6VXNlcjQ4MjQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/48240?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/arturoc",
      "html_url": "https://github.com/arturoc",
      "followers_url": "https://api.github.com/users/arturoc/followers",
      "following_url": "https://api.github.com/users/arturoc/following{/other_user}",
      "gists_url": "https://api.github.com/users/arturoc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/arturoc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/arturoc/subscriptions",
      "organizations_url": "https://api.github.com/users/arturoc/orgs",
      "repos_url": "https://api.github.com/users/arturoc/repos",
      "events_url": "https://api.github.com/users/arturoc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/arturoc/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-09-02T21:27:13Z",
    "updated_at": "2014-09-02T21:27:13Z",
    "body": "here's the cargo files in case it helps to test:\n\n```\n[package]\nname    = \"test\"\nversion = \"0.1.0\"\nauthors = []\n\n[[bin]]\nname = \"test\"\npath = \"test.rs\"\n\n[dependencies.lib]\npath = \"lib\"\n```\n\n```\n[package]\nname    = \"lib\"\nversion = \"0.1.0\"\nauthors = []\n\n[lib]\nname = \"lib\"\npath = \"lib.rs\"\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/54220365/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/58006501",
    "html_url": "https://github.com/rust-lang/rust/issues/16822#issuecomment-58006501",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/16822",
    "id": 58006501,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4MDA2NTAx",
    "user": {
      "login": "arturoc",
      "id": 48240,
      "node_id": "MDQ6VXNlcjQ4MjQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/48240?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/arturoc",
      "html_url": "https://github.com/arturoc",
      "followers_url": "https://api.github.com/users/arturoc/followers",
      "following_url": "https://api.github.com/users/arturoc/following{/other_user}",
      "gists_url": "https://api.github.com/users/arturoc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/arturoc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/arturoc/subscriptions",
      "organizations_url": "https://api.github.com/users/arturoc/orgs",
      "repos_url": "https://api.github.com/users/arturoc/repos",
      "events_url": "https://api.github.com/users/arturoc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/arturoc/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-10-06T11:52:07Z",
    "updated_at": "2014-10-06T11:52:07Z",
    "body": "just git bissected this and seems like the buggy commit is one of:\n5dca9fb261b5bf7e8c77c3a23fa3c203b469d3b9\n71df8e655c1a7a435082de753694821f359fb8a9\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/58006501/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
