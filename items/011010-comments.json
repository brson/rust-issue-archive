[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/74429329",
    "html_url": "https://github.com/rust-lang/rust/issues/11010#issuecomment-74429329",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/11010",
    "id": 74429329,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc0NDI5MzI5",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-02-15T18:21:37Z",
    "updated_at": "2015-02-15T18:21:37Z",
    "body": "related to https://github.com/rust-lang/rust/issues/20142\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/74429329/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/151291316",
    "html_url": "https://github.com/rust-lang/rust/issues/11010#issuecomment-151291316",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/11010",
    "id": 151291316,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MTI5MTMxNg==",
    "user": {
      "login": "briansmith",
      "id": 16816,
      "node_id": "MDQ6VXNlcjE2ODE2",
      "avatar_url": "https://avatars.githubusercontent.com/u/16816?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/briansmith",
      "html_url": "https://github.com/briansmith",
      "followers_url": "https://api.github.com/users/briansmith/followers",
      "following_url": "https://api.github.com/users/briansmith/following{/other_user}",
      "gists_url": "https://api.github.com/users/briansmith/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/briansmith/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/briansmith/subscriptions",
      "organizations_url": "https://api.github.com/users/briansmith/orgs",
      "repos_url": "https://api.github.com/users/briansmith/repos",
      "events_url": "https://api.github.com/users/briansmith/events{/privacy}",
      "received_events_url": "https://api.github.com/users/briansmith/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-26T21:34:48Z",
    "updated_at": "2015-10-26T21:34:48Z",
    "body": "This affects [crypto-bench](https://github.com/briansmith/crypto-bench), in particular the PBKDF2 benchmarks. 300 seems like an arbitrary number, so it would be good to at least ensure that the minimum is based on some science.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/151291316/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/269698481",
    "html_url": "https://github.com/rust-lang/rust/issues/11010#issuecomment-269698481",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/11010",
    "id": 269698481,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2OTY5ODQ4MQ==",
    "user": {
      "login": "Craig-Macomber",
      "id": 207204,
      "node_id": "MDQ6VXNlcjIwNzIwNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/207204?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Craig-Macomber",
      "html_url": "https://github.com/Craig-Macomber",
      "followers_url": "https://api.github.com/users/Craig-Macomber/followers",
      "following_url": "https://api.github.com/users/Craig-Macomber/following{/other_user}",
      "gists_url": "https://api.github.com/users/Craig-Macomber/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Craig-Macomber/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Craig-Macomber/subscriptions",
      "organizations_url": "https://api.github.com/users/Craig-Macomber/orgs",
      "repos_url": "https://api.github.com/users/Craig-Macomber/repos",
      "events_url": "https://api.github.com/users/Craig-Macomber/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Craig-Macomber/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-12-29T21:46:02Z",
    "updated_at": "2016-12-29T21:46:02Z",
    "body": "I have a benchmark with a long setup time, and this runs the setup 101 times. Running the benchmark inner loop a lot of times would be pretty bad, but all those setup runs is far worse: it takes ~6 minutes.\r\n\r\nFor comparison, google benchmark (their C++ library) runs a comparable test setup once, and test 10 times, and takes about a second.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/269698481/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/270024729",
    "html_url": "https://github.com/rust-lang/rust/issues/11010#issuecomment-270024729",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/11010",
    "id": 270024729,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MDAyNDcyOQ==",
    "user": {
      "login": "Craig-Macomber",
      "id": 207204,
      "node_id": "MDQ6VXNlcjIwNzIwNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/207204?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Craig-Macomber",
      "html_url": "https://github.com/Craig-Macomber",
      "followers_url": "https://api.github.com/users/Craig-Macomber/followers",
      "following_url": "https://api.github.com/users/Craig-Macomber/following{/other_user}",
      "gists_url": "https://api.github.com/users/Craig-Macomber/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Craig-Macomber/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Craig-Macomber/subscriptions",
      "organizations_url": "https://api.github.com/users/Craig-Macomber/orgs",
      "repos_url": "https://api.github.com/users/Craig-Macomber/repos",
      "events_url": "https://api.github.com/users/Craig-Macomber/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Craig-Macomber/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-01-02T22:00:25Z",
    "updated_at": "2017-01-02T22:00:25Z",
    "body": "I have a branch https://github.com/Craig-Macomber/rust/tree/fast_bench that fixes this. The statistics are a work in progress, but in its current state seems to work pretty well. Its enough to unblock my work with slow benchmarks, but don't trust the data from it, the confidence interval math wrong in a few different ways.\r\n\r\nThis changes all the statistical logic, so its going to need some careful review before I even consider sending in a pull request.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/270024729/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/304142918",
    "html_url": "https://github.com/rust-lang/rust/issues/11010#issuecomment-304142918",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/11010",
    "id": 304142918,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwNDE0MjkxOA==",
    "user": {
      "login": "Mark-Simulacrum",
      "id": 5047365,
      "node_id": "MDQ6VXNlcjUwNDczNjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5047365?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Mark-Simulacrum",
      "html_url": "https://github.com/Mark-Simulacrum",
      "followers_url": "https://api.github.com/users/Mark-Simulacrum/followers",
      "following_url": "https://api.github.com/users/Mark-Simulacrum/following{/other_user}",
      "gists_url": "https://api.github.com/users/Mark-Simulacrum/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Mark-Simulacrum/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Mark-Simulacrum/subscriptions",
      "organizations_url": "https://api.github.com/users/Mark-Simulacrum/orgs",
      "repos_url": "https://api.github.com/users/Mark-Simulacrum/repos",
      "events_url": "https://api.github.com/users/Mark-Simulacrum/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Mark-Simulacrum/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-05-25T22:35:29Z",
    "updated_at": "2017-05-25T22:35:29Z",
    "body": "Perhaps we should add a per-benchmark limit from the command line, at least for now.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/304142918/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/312270219",
    "html_url": "https://github.com/rust-lang/rust/issues/11010#issuecomment-312270219",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/11010",
    "id": 312270219,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxMjI3MDIxOQ==",
    "user": {
      "login": "joliss",
      "id": 524783,
      "node_id": "MDQ6VXNlcjUyNDc4Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/524783?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/joliss",
      "html_url": "https://github.com/joliss",
      "followers_url": "https://api.github.com/users/joliss/followers",
      "following_url": "https://api.github.com/users/joliss/following{/other_user}",
      "gists_url": "https://api.github.com/users/joliss/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/joliss/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/joliss/subscriptions",
      "organizations_url": "https://api.github.com/users/joliss/orgs",
      "repos_url": "https://api.github.com/users/joliss/repos",
      "events_url": "https://api.github.com/users/joliss/events{/privacy}",
      "received_events_url": "https://api.github.com/users/joliss/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-06-30T13:42:09Z",
    "updated_at": "2017-06-30T13:42:49Z",
    "body": "To add another similar use case: I've found myself wishing I had a function to benchmark something just once (or a fixed number of times), e.g. `b.once`, in addition to the `b.iter` method:\r\n\r\n```rust\r\n#[bench]\r\nfn foo_bench(b: &mut Bencher) {\r\n    b.once(|| {\r\n        // Do something slow and expensive\r\n    });\r\n}\r\n```\r\n\r\nAlternatively, perhaps libtest could allow for printing timings for the entire function. It could do that either by detecting that we're not calling `b.iter`, or by inspecting the function signature to check if there is no `Bencher` parameter.\r\n\r\n```rust\r\n#[bench]\r\nfn foo_bench(_b: &mut Bencher) {\r\n    // Do something slow and expensive\r\n}\r\n```\r\n\r\nOf course, running something once arguably doesn't give very reliable timings. The motivation for this is twofold though:\r\n\r\n* Some of our benchmarks are \"integration benchmarks\" that run on realistic complex datasets. If we run them many times it simply takes too long to be useful, but running them once or a few times would provide helpful data points.\r\n* We have a bunch of test cases to run our CPU profiler on. Arguably the profiling test cases produce useful benchmarking data on their own, so it seems reasonable to throw them in with the other benchmarks, even if it abuses the benchmarking facility slightly. In other words, we'll essentially run `cargo bench --no-run` and run the profiler on `./target/release/<binary> the_benchmark`. But some of those profiling test cases are too slow for `b.iter`, so we'd only want to run them once -- this is definitely true for profiling, but probably also in the usual `cargo bench` run, to keep the running time in check.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/312270219/reactions",
      "total_count": 5,
      "+1": 5,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/345486967",
    "html_url": "https://github.com/rust-lang/rust/issues/11010#issuecomment-345486967",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/11010",
    "id": 345486967,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NTQ4Njk2Nw==",
    "user": {
      "login": "dtolnay",
      "id": 1940490,
      "node_id": "MDQ6VXNlcjE5NDA0OTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1940490?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dtolnay",
      "html_url": "https://github.com/dtolnay",
      "followers_url": "https://api.github.com/users/dtolnay/followers",
      "following_url": "https://api.github.com/users/dtolnay/following{/other_user}",
      "gists_url": "https://api.github.com/users/dtolnay/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dtolnay/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dtolnay/subscriptions",
      "organizations_url": "https://api.github.com/users/dtolnay/orgs",
      "repos_url": "https://api.github.com/users/dtolnay/repos",
      "events_url": "https://api.github.com/users/dtolnay/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dtolnay/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-11-19T02:30:48Z",
    "updated_at": "2017-11-19T02:30:48Z",
    "body": "I would like to track this as part of https://github.com/rust-lang/rfcs/issues/816. That way we keep the standard test framework minimal while allowing libraries to develop more sophisticated custom test frameworks with knobs for number of iterations, access to statistics, control over CPU caches, etc.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/345486967/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
