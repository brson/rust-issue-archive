[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/130833060",
    "html_url": "https://github.com/rust-lang/rust/issues/27799#issuecomment-130833060",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27799",
    "id": 130833060,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMDgzMzA2MA==",
    "user": {
      "login": "SimonSapin",
      "id": 291359,
      "node_id": "MDQ6VXNlcjI5MTM1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SimonSapin",
      "html_url": "https://github.com/SimonSapin",
      "followers_url": "https://api.github.com/users/SimonSapin/followers",
      "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}",
      "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions",
      "organizations_url": "https://api.github.com/users/SimonSapin/orgs",
      "repos_url": "https://api.github.com/users/SimonSapin/repos",
      "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SimonSapin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-08-13T20:38:48Z",
    "updated_at": "2015-08-13T20:38:48Z",
    "body": "Some previous discussion in https://github.com/rust-lang/rfcs/issues/1243:\n- It\u2019s probably not the right place, just like `std::usize` is not the right place for `Iterator::count` even though it returns a `usize`.\n- I don\u2019t have a strong opinion on the name. `timeit` was suggested. Maybe `time_it` is closer to usual naming conventions?\n- Allowing the closure to return a value makes the API awkward if the duration is also a return value. The closure can assign to a close-over variable if needed.\n- I don\u2019t know about differences between clocks. I kinda like not having a to make an uninformed choice, so at least there should be a clear default. (Probably one that is most appropriate for benchmarking.)\n\nOne thing is that the `reason` field:\n\n``` rust\n    #[unstable(feature = \"duration_span\",\n               reason = \"unsure if this is the right API or whether it should \\\n                         wait for a more general \\\"moment in time\\\" \\\n                         abstraction\")]\n```\n\nseems to suggest that `Duration::span` could be removed entirely. IMO even if a \"moment in time\" abstraction is added, typing `let duration = { let start = now(); f(); now() - start };` every time gets tedious very quickly, and a closure-based API should still be provided.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/130833060/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/141384111",
    "html_url": "https://github.com/rust-lang/rust/issues/27799#issuecomment-141384111",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27799",
    "id": 141384111,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0MTM4NDExMQ==",
    "user": {
      "login": "SimonSapin",
      "id": 291359,
      "node_id": "MDQ6VXNlcjI5MTM1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SimonSapin",
      "html_url": "https://github.com/SimonSapin",
      "followers_url": "https://api.github.com/users/SimonSapin/followers",
      "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}",
      "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions",
      "organizations_url": "https://api.github.com/users/SimonSapin/orgs",
      "repos_url": "https://api.github.com/users/SimonSapin/repos",
      "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SimonSapin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-09-18T08:48:05Z",
    "updated_at": "2015-09-18T08:48:05Z",
    "body": "I suggest either:\n1. Moving `Duration::span` to a free function `std::time::span` and stabilize in 1.5;\n2. Or moving it to an associated function of a new `std::time::Timer` type like this:\n   \n   ``` rust\n   #[derive(Copy, Clone)]\n   pub struct Timer {\n       start_t: SteadyTime,\n   }\n   \n   impl Timer {\n       pub fn start() -> Timer {\n           Timer {\n               start_t: SteadyTime::now(),\n           }\n       }\n   \n       pub fn stop(&self) -> Duration {\n           &SteadyTime::now() - &self.start_t\n       }\n   \n       pub fn span<F>(f: F) -> Duration where F: FnOnce() {\n           let timer = Timer::start();\n           f();\n           timer.stop()\n       }\n   }\n   ```\n   \n   (Stability markers omitted for brevity.)\n   \n   The idea is to generalize `span` to cases where the start and end point are not necessarily in the same stack frame, so a closure doesn\u2019t work. Admittedly, this is theoretical. (I haven\u2019t actually needed this myself so far.)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/141384111/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/141443279",
    "html_url": "https://github.com/rust-lang/rust/issues/27799#issuecomment-141443279",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27799",
    "id": 141443279,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0MTQ0MzI3OQ==",
    "user": {
      "login": "rustonaut",
      "id": 7632017,
      "node_id": "MDQ6VXNlcjc2MzIwMTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7632017?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rustonaut",
      "html_url": "https://github.com/rustonaut",
      "followers_url": "https://api.github.com/users/rustonaut/followers",
      "following_url": "https://api.github.com/users/rustonaut/following{/other_user}",
      "gists_url": "https://api.github.com/users/rustonaut/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rustonaut/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rustonaut/subscriptions",
      "organizations_url": "https://api.github.com/users/rustonaut/orgs",
      "repos_url": "https://api.github.com/users/rustonaut/repos",
      "events_url": "https://api.github.com/users/rustonaut/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rustonaut/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-09-18T12:50:04Z",
    "updated_at": "2015-09-18T12:50:04Z",
    "body": "I don't think `span` is the right name it sounds like it would span a new thread to run and (time) measure the closure.\n\nIt is documented as _Runs a closure, returning the duration.._ so maybe `run_and_measure` or just `measure` would be better.\n\nI also agree that it is kind of misplaced. The options provided by @SimonSapin do look good, through maybe a full Timer class is more suited for a small Library (witch also might have some more complex Timers, like hierarchical ones).\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/141443279/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/141447124",
    "html_url": "https://github.com/rust-lang/rust/issues/27799#issuecomment-141447124",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27799",
    "id": 141447124,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0MTQ0NzEyNA==",
    "user": {
      "login": "SimonSapin",
      "id": 291359,
      "node_id": "MDQ6VXNlcjI5MTM1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SimonSapin",
      "html_url": "https://github.com/SimonSapin",
      "followers_url": "https://api.github.com/users/SimonSapin/followers",
      "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}",
      "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions",
      "organizations_url": "https://api.github.com/users/SimonSapin/orgs",
      "repos_url": "https://api.github.com/users/SimonSapin/repos",
      "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SimonSapin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-09-18T13:10:53Z",
    "updated_at": "2015-09-18T13:10:53Z",
    "body": "Agreed on changing the `span` name to something else. Python has a `timeit` module and function, but `measure` is ok too.\n\nThis \"full class\" is really just an opaque data type to encapsulate a start timestamp. Maybe we can just expose `SteadyTime` instead (adding `Clone` and maybe `Copy` to the existing `now() -> SteadyTime` method and `Sub` impl as its only API).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/141447124/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/144340071",
    "html_url": "https://github.com/rust-lang/rust/issues/27799#issuecomment-144340071",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27799",
    "id": 144340071,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0NDM0MDA3MQ==",
    "user": {
      "login": "Ms2ger",
      "id": 111161,
      "node_id": "MDQ6VXNlcjExMTE2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/111161?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Ms2ger",
      "html_url": "https://github.com/Ms2ger",
      "followers_url": "https://api.github.com/users/Ms2ger/followers",
      "following_url": "https://api.github.com/users/Ms2ger/following{/other_user}",
      "gists_url": "https://api.github.com/users/Ms2ger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Ms2ger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Ms2ger/subscriptions",
      "organizations_url": "https://api.github.com/users/Ms2ger/orgs",
      "repos_url": "https://api.github.com/users/Ms2ger/repos",
      "events_url": "https://api.github.com/users/Ms2ger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Ms2ger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-09-30T09:41:46Z",
    "updated_at": "2015-09-30T09:41:46Z",
    "body": "> Allowing the closure to return a value makes the API awkward if the duration is also a return value. The closure can assign to a close-over variable if needed.\n\nAssigning to a closed-over variable is pretty ugly too, unfortunately.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/144340071/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/152693793",
    "html_url": "https://github.com/rust-lang/rust/issues/27799#issuecomment-152693793",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27799",
    "id": 152693793,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MjY5Mzc5Mw==",
    "user": {
      "login": "softprops",
      "id": 2242,
      "node_id": "MDQ6VXNlcjIyNDI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2242?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/softprops",
      "html_url": "https://github.com/softprops",
      "followers_url": "https://api.github.com/users/softprops/followers",
      "following_url": "https://api.github.com/users/softprops/following{/other_user}",
      "gists_url": "https://api.github.com/users/softprops/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/softprops/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/softprops/subscriptions",
      "organizations_url": "https://api.github.com/users/softprops/orgs",
      "repos_url": "https://api.github.com/users/softprops/repos",
      "events_url": "https://api.github.com/users/softprops/events{/privacy}",
      "received_events_url": "https://api.github.com/users/softprops/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-31T04:39:12Z",
    "updated_at": "2015-10-31T04:39:12Z",
    "body": "If stablized, it may be useful to return a tuple of both the result of the closure run and the duration. \n\n``` rust\nlet (value, duration) = Duration::span(thunk) \n```\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/152693793/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/152693892",
    "html_url": "https://github.com/rust-lang/rust/issues/27799#issuecomment-152693892",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27799",
    "id": 152693892,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MjY5Mzg5Mg==",
    "user": {
      "login": "softprops",
      "id": 2242,
      "node_id": "MDQ6VXNlcjIyNDI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2242?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/softprops",
      "html_url": "https://github.com/softprops",
      "followers_url": "https://api.github.com/users/softprops/followers",
      "following_url": "https://api.github.com/users/softprops/following{/other_user}",
      "gists_url": "https://api.github.com/users/softprops/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/softprops/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/softprops/subscriptions",
      "organizations_url": "https://api.github.com/users/softprops/orgs",
      "repos_url": "https://api.github.com/users/softprops/repos",
      "events_url": "https://api.github.com/users/softprops/events{/privacy}",
      "received_events_url": "https://api.github.com/users/softprops/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-31T04:43:18Z",
    "updated_at": "2015-10-31T04:43:18Z",
    "body": "Alt name suggestion `Duration::elapsed`\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/152693892/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/153545635",
    "html_url": "https://github.com/rust-lang/rust/issues/27799#issuecomment-153545635",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27799",
    "id": 153545635,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MzU0NTYzNQ==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-11-04T01:51:59Z",
    "updated_at": "2015-11-04T01:51:59Z",
    "body": "Nominating for 1.6 discussion\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/153545635/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/154137064",
    "html_url": "https://github.com/rust-lang/rust/issues/27799#issuecomment-154137064",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27799",
    "id": 154137064,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1NDEzNzA2NA==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-11-05T17:53:53Z",
    "updated_at": "2015-11-05T17:53:53Z",
    "body": ":bell: This issue is now entering its cycle-long **final comment period** for deprecation :bell:\n\nIt's likely that https://github.com/rust-lang/rfcs/pull/1288 will land during this cycle in which case using `Instant` to measure time will be the \"more correct\" way to do so. This function will not be deprecated, however, until `Instant` has landed.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/154137064/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
