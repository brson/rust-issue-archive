[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/70546828",
    "html_url": "https://github.com/rust-lang/rust/issues/20219#issuecomment-70546828",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20219",
    "id": 70546828,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwNTQ2ODI4",
    "user": {
      "login": "dotdash",
      "id": 230962,
      "node_id": "MDQ6VXNlcjIzMDk2Mg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/230962?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dotdash",
      "html_url": "https://github.com/dotdash",
      "followers_url": "https://api.github.com/users/dotdash/followers",
      "following_url": "https://api.github.com/users/dotdash/following{/other_user}",
      "gists_url": "https://api.github.com/users/dotdash/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dotdash/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dotdash/subscriptions",
      "organizations_url": "https://api.github.com/users/dotdash/orgs",
      "repos_url": "https://api.github.com/users/dotdash/repos",
      "events_url": "https://api.github.com/users/dotdash/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dotdash/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-19T19:26:19Z",
    "updated_at": "2015-01-19T19:26:19Z",
    "body": "The memset isn't removed because DSE doesn't look across basic block boundaries, and the `invoke` used for the call to `f` introduces a block boundary :-/ For _this_ case, there used to be an optimization that turned `invoke` instructions with empty landing pads into calls, but that was disabled in LLVM r176827. I just sent an email to the llvm-dev list about that, because I think it might have been wrong to disable that optimization. The mail doesn't show up on the list archives yet though. Will link it here once it pops up.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/70546828/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/70995145",
    "html_url": "https://github.com/rust-lang/rust/issues/20219#issuecomment-70995145",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20219",
    "id": 70995145,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwOTk1MTQ1",
    "user": {
      "login": "dotdash",
      "id": 230962,
      "node_id": "MDQ6VXNlcjIzMDk2Mg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/230962?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dotdash",
      "html_url": "https://github.com/dotdash",
      "followers_url": "https://api.github.com/users/dotdash/followers",
      "following_url": "https://api.github.com/users/dotdash/following{/other_user}",
      "gists_url": "https://api.github.com/users/dotdash/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dotdash/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dotdash/subscriptions",
      "organizations_url": "https://api.github.com/users/dotdash/orgs",
      "repos_url": "https://api.github.com/users/dotdash/repos",
      "events_url": "https://api.github.com/users/dotdash/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dotdash/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-22T09:45:28Z",
    "updated_at": "2015-01-22T09:45:28Z",
    "body": "Had to resend the mail because I wasn't subscribed and it got lost in the spam. Here's the new one:\nhttp://lists.cs.uiuc.edu/pipermail/llvmdev/2015-January/081016.html\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/70995145/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/71086130",
    "html_url": "https://github.com/rust-lang/rust/issues/20219#issuecomment-71086130",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20219",
    "id": 71086130,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxMDg2MTMw",
    "user": {
      "login": "dotdash",
      "id": 230962,
      "node_id": "MDQ6VXNlcjIzMDk2Mg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/230962?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dotdash",
      "html_url": "https://github.com/dotdash",
      "followers_url": "https://api.github.com/users/dotdash/followers",
      "following_url": "https://api.github.com/users/dotdash/following{/other_user}",
      "gists_url": "https://api.github.com/users/dotdash/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dotdash/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dotdash/subscriptions",
      "organizations_url": "https://api.github.com/users/dotdash/orgs",
      "repos_url": "https://api.github.com/users/dotdash/repos",
      "events_url": "https://api.github.com/users/dotdash/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dotdash/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-22T19:49:55Z",
    "updated_at": "2015-01-22T19:49:55Z",
    "body": "r176827 just got reverted in r226850. Unfortunately that's not in the 3.6 branch.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/71086130/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/178699707",
    "html_url": "https://github.com/rust-lang/rust/issues/20219#issuecomment-178699707",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20219",
    "id": 178699707,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3ODY5OTcwNw==",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-02-02T17:24:47Z",
    "updated_at": "2016-02-02T17:24:47Z",
    "body": "Updated example:\n\n```\n#![feature(unsafe_no_drop_flag)]\n#![feature(test)]\n\nextern crate test;\n\n#[unsafe_no_drop_flag]\npub struct BigAndComplicatedDestructor {\n    x: [u8; 255],\n}\n\nimpl Drop for BigAndComplicatedDestructor {\n    #[inline(never)]\n    fn drop(&mut self) {\n        if !self.x.iter().all(|&x| x == 0) {\n            println!(\"DROP\");\n            test::black_box(self);\n        }\n    }\n}\n\n#[inline(never)]\nfn f(x: BigAndComplicatedDestructor) {\n    println!(\"1\");\n    drop(x)\n}\n\npub fn look_at_me_copy(i: i32, x: BigAndComplicatedDestructor) {\n    f(x)\n}\n```\n\nAnd to compile:\n\n```\n$ rustc hello.rs --crate-type lib -C opt-level=3 --emit llvm-ir --emit asm\n```\n\nI am not good enough at reading the generated output to determine the state of the bug, however.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/178699707/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/273255159",
    "html_url": "https://github.com/rust-lang/rust/issues/20219#issuecomment-273255159",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20219",
    "id": 273255159,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MzI1NTE1OQ==",
    "user": {
      "login": "jonas-schievink",
      "id": 1786438,
      "node_id": "MDQ6VXNlcjE3ODY0Mzg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1786438?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonas-schievink",
      "html_url": "https://github.com/jonas-schievink",
      "followers_url": "https://api.github.com/users/jonas-schievink/followers",
      "following_url": "https://api.github.com/users/jonas-schievink/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonas-schievink/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonas-schievink/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonas-schievink/subscriptions",
      "organizations_url": "https://api.github.com/users/jonas-schievink/orgs",
      "repos_url": "https://api.github.com/users/jonas-schievink/repos",
      "events_url": "https://api.github.com/users/jonas-schievink/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonas-schievink/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-01-17T18:27:14Z",
    "updated_at": "2017-01-17T18:27:14Z",
    "body": "Drop flags are gone, is this still relevant?",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/273255159/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/273259977",
    "html_url": "https://github.com/rust-lang/rust/issues/20219#issuecomment-273259977",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20219",
    "id": 273259977,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MzI1OTk3Nw==",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-01-17T18:43:58Z",
    "updated_at": "2017-01-17T18:43:58Z",
    "body": "I don't think so, even `unsafe_no_drop_flag` is gone, IIRC. Giving this a close. Please let me know if that's wrong!",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/273259977/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
