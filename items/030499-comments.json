[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/166132579",
    "html_url": "https://github.com/rust-lang/rust/pull/30499#issuecomment-166132579",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30499",
    "id": 166132579,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2NjEzMjU3OQ==",
    "user": {
      "login": "rust-highfive",
      "id": 7378925,
      "node_id": "MDQ6VXNlcjczNzg5MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7378925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rust-highfive",
      "html_url": "https://github.com/rust-highfive",
      "followers_url": "https://api.github.com/users/rust-highfive/followers",
      "following_url": "https://api.github.com/users/rust-highfive/following{/other_user}",
      "gists_url": "https://api.github.com/users/rust-highfive/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rust-highfive/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rust-highfive/subscriptions",
      "organizations_url": "https://api.github.com/users/rust-highfive/orgs",
      "repos_url": "https://api.github.com/users/rust-highfive/repos",
      "events_url": "https://api.github.com/users/rust-highfive/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rust-highfive/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-12-20T16:07:42Z",
    "updated_at": "2015-12-20T16:07:42Z",
    "body": "r? @pnkfelix\n\n(rust_highfive has picked a reviewer for you, use r? to override)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/166132579/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/166147749",
    "html_url": "https://github.com/rust-lang/rust/pull/30499#issuecomment-166147749",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30499",
    "id": 166147749,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2NjE0Nzc0OQ==",
    "user": {
      "login": "nagisa",
      "id": 679122,
      "node_id": "MDQ6VXNlcjY3OTEyMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/679122?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nagisa",
      "html_url": "https://github.com/nagisa",
      "followers_url": "https://api.github.com/users/nagisa/followers",
      "following_url": "https://api.github.com/users/nagisa/following{/other_user}",
      "gists_url": "https://api.github.com/users/nagisa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nagisa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nagisa/subscriptions",
      "organizations_url": "https://api.github.com/users/nagisa/orgs",
      "repos_url": "https://api.github.com/users/nagisa/repos",
      "events_url": "https://api.github.com/users/nagisa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nagisa/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-12-20T19:06:12Z",
    "updated_at": "2015-12-20T19:06:12Z",
    "body": "IMO this is a wrong thing to do or at very least needs an RFC process to happen. That is because use of a certain calling convention for functions does not necessarily mean they are meant to be used via FFI.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/166147749/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/166148425",
    "html_url": "https://github.com/rust-lang/rust/pull/30499#issuecomment-166148425",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30499",
    "id": 166148425,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2NjE0ODQyNQ==",
    "user": {
      "login": "TimNN",
      "id": 1178249,
      "node_id": "MDQ6VXNlcjExNzgyNDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1178249?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TimNN",
      "html_url": "https://github.com/TimNN",
      "followers_url": "https://api.github.com/users/TimNN/followers",
      "following_url": "https://api.github.com/users/TimNN/following{/other_user}",
      "gists_url": "https://api.github.com/users/TimNN/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TimNN/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TimNN/subscriptions",
      "organizations_url": "https://api.github.com/users/TimNN/orgs",
      "repos_url": "https://api.github.com/users/TimNN/repos",
      "events_url": "https://api.github.com/users/TimNN/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TimNN/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-12-20T19:22:06Z",
    "updated_at": "2015-12-20T19:22:06Z",
    "body": "I understand your argument and it is the same reason why structs with `#[repr(C)]` do not trigger a warning by themselves as far as I know.\n\nOn the other hand we have people unfamiliar with rust who would have benefited from such a lint (see https://github.com/rust-lang/rust/issues/19834#issuecomment-143642665) and I personally would like for rust to check that I did not make a mistake in my c api.\n\nI have rarely seen a use for functions with a custom calling convention which were not meant to be used from c, so in my mind warning about them is preferable, especially since you can opt-out of these checks but not opt-in.\n\nI see now that the situation is more controversial than I though so I'm going to leave this open for a few days, to wait for some more comments, and then, depending on the response, write a RFC first.\n\nMaybe the best solution would be to have three separate lints, one for checking extern blocks (the current `improper_ctypes`, one for checking all functions with a non-rust calling convention and one for all types with `#[repr(C)]`.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/166148425/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/167299829",
    "html_url": "https://github.com/rust-lang/rust/pull/30499#issuecomment-167299829",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30499",
    "id": 167299829,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2NzI5OTgyOQ==",
    "user": {
      "login": "TimNN",
      "id": 1178249,
      "node_id": "MDQ6VXNlcjExNzgyNDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1178249?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TimNN",
      "html_url": "https://github.com/TimNN",
      "followers_url": "https://api.github.com/users/TimNN/followers",
      "following_url": "https://api.github.com/users/TimNN/following{/other_user}",
      "gists_url": "https://api.github.com/users/TimNN/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TimNN/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TimNN/subscriptions",
      "organizations_url": "https://api.github.com/users/TimNN/orgs",
      "repos_url": "https://api.github.com/users/TimNN/repos",
      "events_url": "https://api.github.com/users/TimNN/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TimNN/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-12-26T09:26:40Z",
    "updated_at": "2015-12-26T09:26:40Z",
    "body": "I've been think some more about this and came to the conclusion that if one can argue that there are use cases for `extern fn`s with improper ctypes than there are use cases for `extern` blocks with improper ctypes.\n\nAs such I decided to close this pull request for now and instead am going to write an RFC (or open an RFC issue) soon.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/167299829/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
