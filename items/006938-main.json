{
  "url": "https://api.github.com/repos/rust-lang/rust/issues/6938",
  "repository_url": "https://api.github.com/repos/rust-lang/rust",
  "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/6938/labels{/name}",
  "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/6938/comments",
  "events_url": "https://api.github.com/repos/rust-lang/rust/issues/6938/events",
  "html_url": "https://github.com/rust-lang/rust/pull/6938",
  "id": 15144580,
  "node_id": "MDExOlB1bGxSZXF1ZXN0NjExODc4Mw==",
  "number": 6938,
  "title": "Hygiene fns and cleanup",
  "user": {
    "login": "jbclements",
    "id": 226617,
    "node_id": "MDQ6VXNlcjIyNjYxNw==",
    "avatar_url": "https://avatars.githubusercontent.com/u/226617?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jbclements",
    "html_url": "https://github.com/jbclements",
    "followers_url": "https://api.github.com/users/jbclements/followers",
    "following_url": "https://api.github.com/users/jbclements/following{/other_user}",
    "gists_url": "https://api.github.com/users/jbclements/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jbclements/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jbclements/subscriptions",
    "organizations_url": "https://api.github.com/users/jbclements/orgs",
    "repos_url": "https://api.github.com/users/jbclements/repos",
    "events_url": "https://api.github.com/users/jbclements/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jbclements/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "labels": [],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [],
  "milestone": null,
  "comments": 0,
  "created_at": "2013-06-04T22:22:08Z",
  "updated_at": "2014-07-17T14:13:12Z",
  "closed_at": "2013-06-05T21:10:43Z",
  "author_association": "CONTRIBUTOR",
  "type": null,
  "active_lock_reason": null,
  "draft": false,
  "pull_request": {
    "url": "https://api.github.com/repos/rust-lang/rust/pulls/6938",
    "html_url": "https://github.com/rust-lang/rust/pull/6938",
    "diff_url": "https://github.com/rust-lang/rust/pull/6938.diff",
    "patch_url": "https://github.com/rust-lang/rust/pull/6938.patch",
    "merged_at": "2013-06-05T21:10:48Z"
  },
  "body": "I'm close to flipping the switch on hygiene for let-bound identifiers.  This commit adds a bunch of support functions for that change... but also a huge amount of cleanup in syntax.rc. The most interesting of these are\n- the use of TLS for the interners everywhere.  We had already breached the \"no-global-state\" dam by using TLS for encoding, and it saves a lot of code just to use it everywhere.\n  Also, there were many places where two or more interners were passed in attached to different structures, and the danger of having those diverge seemed greater that the danger of having a single one get big and heavy. If the interner size proves to be a problem, it should be quite simple to add a \"parameterize\"-like dynamic binding form--because we don't have interesting continuation operations (or tail calling, mostly) this should just be a case of a mutation followed by another later mutation. Again, this is only if the interner gets too big.\n- I renamed the \"repr\" field of the identifier to \"name\". I can see the case for \"repr\" when there's only one field in the structure, but that's no longer the case; there's now a name and a context (both are uints).\n- the interner now just maps between strings and uints, rather than between idents and uints. The former state made perfect sense when identifiers didn't have syntax contexts, but that's no longer the case.\n\nI've run this patch against a fairly recent incoming, and it appears to pass all tests. Let's see if it can be merged....\n",
  "closed_by": {
    "login": "bors",
    "id": 3372342,
    "node_id": "MDQ6VXNlcjMzNzIzNDI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/bors",
    "html_url": "https://github.com/bors",
    "followers_url": "https://api.github.com/users/bors/followers",
    "following_url": "https://api.github.com/users/bors/following{/other_user}",
    "gists_url": "https://api.github.com/users/bors/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bors/subscriptions",
    "organizations_url": "https://api.github.com/users/bors/orgs",
    "repos_url": "https://api.github.com/users/bors/repos",
    "events_url": "https://api.github.com/users/bors/events{/privacy}",
    "received_events_url": "https://api.github.com/users/bors/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/6938/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/6938/timeline",
  "performed_via_github_app": null,
  "state_reason": null,
  "_meta": {
    "type": "pr"
  }
}
