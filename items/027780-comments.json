[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/130488859",
    "html_url": "https://github.com/rust-lang/rust/issues/27780#issuecomment-130488859",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27780",
    "id": 130488859,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMDQ4ODg1OQ==",
    "user": {
      "login": "Gankra",
      "id": 1136864,
      "node_id": "MDQ6VXNlcjExMzY4NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1136864?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Gankra",
      "html_url": "https://github.com/Gankra",
      "followers_url": "https://api.github.com/users/Gankra/followers",
      "following_url": "https://api.github.com/users/Gankra/following{/other_user}",
      "gists_url": "https://api.github.com/users/Gankra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Gankra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Gankra/subscriptions",
      "organizations_url": "https://api.github.com/users/Gankra/orgs",
      "repos_url": "https://api.github.com/users/Gankra/repos",
      "events_url": "https://api.github.com/users/Gankra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Gankra/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-08-13T00:21:28Z",
    "updated_at": "2015-08-13T00:21:28Z",
    "body": "People _really_ _really_ **really** **_really**_ like using Options for anything that \"might\" be. `null` is a standard sentinel value, and this promotes it to an Option (as a no-op, no less!). I'd rather people abuse this than `Option<NonZero<*const T>>`.\n\nHistorically I recall you arguing against it because raw pointers can be invalid in so many other ways. But that seems immaterial here. When you're calling this you're asserting that the only way it can be invalid is if it's `null` -- which is a really common pattern. \n\nSurely this is something FFI encounters a lot?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/130488859/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/130488991",
    "html_url": "https://github.com/rust-lang/rust/issues/27780#issuecomment-130488991",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27780",
    "id": 130488991,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMDQ4ODk5MQ==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-08-13T00:22:49Z",
    "updated_at": "2015-08-13T00:22:49Z",
    "body": "I have personally never felt the need to use these functions, I've always just done `if ptr.is_null() { ... } else { ... }`, converting it to an option and then using something like `map` isn't something I've done that often.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/130488991/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/139923038",
    "html_url": "https://github.com/rust-lang/rust/issues/27780#issuecomment-139923038",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27780",
    "id": 139923038,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzOTkyMzAzOA==",
    "user": {
      "login": "ghost",
      "id": 10137,
      "node_id": "MDQ6VXNlcjEwMTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ghost",
      "html_url": "https://github.com/ghost",
      "followers_url": "https://api.github.com/users/ghost/followers",
      "following_url": "https://api.github.com/users/ghost/following{/other_user}",
      "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
      "organizations_url": "https://api.github.com/users/ghost/orgs",
      "repos_url": "https://api.github.com/users/ghost/repos",
      "events_url": "https://api.github.com/users/ghost/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ghost/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-09-13T22:12:17Z",
    "updated_at": "2015-09-13T22:14:21Z",
    "body": "> converting it to an option and then using something like map isn't something I've done that often.\n\nThis is actually really useful in concurrent lock free hashtables where the hash points to an atomic pointer. This means you end up iteratoring across a list of atomics [1], which is a nice clean recursive operation with the old Option syntax.\n\nI guess it is just syntax, but here mapping the Option vaule is pretty nice.\n\n[1] Data Structure described: https://www.youtube.com/watch?v=HJ-719EGIts\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/139923038/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/140253326",
    "html_url": "https://github.com/rust-lang/rust/issues/27780#issuecomment-140253326",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27780",
    "id": 140253326,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0MDI1MzMyNg==",
    "user": {
      "login": "pythonesque",
      "id": 923144,
      "node_id": "MDQ6VXNlcjkyMzE0NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/923144?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pythonesque",
      "html_url": "https://github.com/pythonesque",
      "followers_url": "https://api.github.com/users/pythonesque/followers",
      "following_url": "https://api.github.com/users/pythonesque/following{/other_user}",
      "gists_url": "https://api.github.com/users/pythonesque/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pythonesque/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pythonesque/subscriptions",
      "organizations_url": "https://api.github.com/users/pythonesque/orgs",
      "repos_url": "https://api.github.com/users/pythonesque/repos",
      "events_url": "https://api.github.com/users/pythonesque/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pythonesque/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-09-15T02:05:00Z",
    "updated_at": "2015-09-15T02:05:00Z",
    "body": "> I have personally never felt the need to use these functions, I've always just done if ptr.is_null() { ... } else { ... }, converting it to an option and then using something like map isn't something I've done that often.\n\nI find them quite frequently useful, and it appears that others do as well.  To be honest, I'm not sure what the justification for removing it is anyway.  If anything we should be adding more sugar to raw pointers, not removing what already exists.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/140253326/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/161532253",
    "html_url": "https://github.com/rust-lang/rust/issues/27780#issuecomment-161532253",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27780",
    "id": 161532253,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2MTUzMjI1Mw==",
    "user": {
      "login": "bholley",
      "id": 377435,
      "node_id": "MDQ6VXNlcjM3NzQzNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/377435?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bholley",
      "html_url": "https://github.com/bholley",
      "followers_url": "https://api.github.com/users/bholley/followers",
      "following_url": "https://api.github.com/users/bholley/following{/other_user}",
      "gists_url": "https://api.github.com/users/bholley/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bholley/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bholley/subscriptions",
      "organizations_url": "https://api.github.com/users/bholley/orgs",
      "repos_url": "https://api.github.com/users/bholley/repos",
      "events_url": "https://api.github.com/users/bholley/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bholley/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-12-03T06:38:45Z",
    "updated_at": "2015-12-03T06:38:45Z",
    "body": "I came across this issue while working on Gecko/Servo layout bindings, which involves heavy FFI usage.\n\nMy first implementation looked like this:\n\n```\nfn root_node(&self) -> Option<GeckoLayoutNode<'ld>> {\n    unsafe {\n        let root = Gecko_RootNode(self.document);\n        if root.is_null() {\n            None         \n        } else {         \n            Some(GeckoLayoutNode::from_raw(root))\n        }                \n    }                    \n}\n```\n\nWith as_ref, I was able to transform it to:\n\n```\nfn root_node(&self) -> Option<GeckoLayoutNode<'ld>> {\n    unsafe {\n        Gecko_RootNode(self.document).as_ref().map(|n| GeckoLayoutNode::from_ref(n))\n    }                                                                         \n}\n```\n\nWhich is a heck of a lot nicer.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/161532253/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/176619711",
    "html_url": "https://github.com/rust-lang/rust/issues/27780#issuecomment-176619711",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27780",
    "id": 176619711,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3NjYxOTcxMQ==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-01-29T07:29:33Z",
    "updated_at": "2016-01-29T07:29:33Z",
    "body": ":bell: This issue is now entering its cycle **final comment period** to be handled in 1.8 :bell:\n\nThe libs team is somewhat on the fence about this method, and we figured that the FCP can serve as a good opportunity to foster discussion around these methods!\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/176619711/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/176627003",
    "html_url": "https://github.com/rust-lang/rust/issues/27780#issuecomment-176627003",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27780",
    "id": 176627003,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3NjYyNzAwMw==",
    "user": {
      "login": "bholley",
      "id": 377435,
      "node_id": "MDQ6VXNlcjM3NzQzNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/377435?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bholley",
      "html_url": "https://github.com/bholley",
      "followers_url": "https://api.github.com/users/bholley/followers",
      "following_url": "https://api.github.com/users/bholley/following{/other_user}",
      "gists_url": "https://api.github.com/users/bholley/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bholley/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bholley/subscriptions",
      "organizations_url": "https://api.github.com/users/bholley/orgs",
      "repos_url": "https://api.github.com/users/bholley/repos",
      "events_url": "https://api.github.com/users/bholley/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bholley/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-01-29T07:45:13Z",
    "updated_at": "2016-01-29T07:45:13Z",
    "body": "Most of the discussion in this thread so far is about why they are useful and convenient. Can you elaborate on the rationale for removing them?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/176627003/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/176630171",
    "html_url": "https://github.com/rust-lang/rust/issues/27780#issuecomment-176630171",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27780",
    "id": 176630171,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3NjYzMDE3MQ==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-01-29T07:55:32Z",
    "updated_at": "2016-01-29T07:55:32Z",
    "body": "I think that I'm probably one of the bigger proponents for their removal, so certainly!\n\nI certainly agree that these methods can be nice to use from time to time, but I have personally never actually found a case where I ended up using them in the long run. I'm a little unsettled by the _only_ invalid pointer is the null pointer (when there's a whole bunch of other invalid values), and to me this kinda sticks out as an initial attempt at \"nicer `unsafe` programming\" but doesn't seem quite fleshed out.\n\nI would be more comfortable if we had a comprehensive story about ergonomically working with raw pointers. @Gankro's initial stab with [raw-rs](https://github.com/Gankro/raw-rs) I think is a great start here. Starting with just `as_ref`, however, seems a little odd to me.\n\nNow I definitely don't feel super strongly either way on this, however. If others find these methods quite useful, then I'd be fine stabilizing.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/176630171/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/176699411",
    "html_url": "https://github.com/rust-lang/rust/issues/27780#issuecomment-176699411",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27780",
    "id": 176699411,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3NjY5OTQxMQ==",
    "user": {
      "login": "SimonSapin",
      "id": 291359,
      "node_id": "MDQ6VXNlcjI5MTM1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SimonSapin",
      "html_url": "https://github.com/SimonSapin",
      "followers_url": "https://api.github.com/users/SimonSapin/followers",
      "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}",
      "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions",
      "organizations_url": "https://api.github.com/users/SimonSapin/orgs",
      "repos_url": "https://api.github.com/users/SimonSapin/repos",
      "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SimonSapin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-01-29T11:19:56Z",
    "updated_at": "2016-01-29T11:19:56Z",
    "body": "> I'm a little unsettled by the only invalid pointer is the null pointer (when there's a whole bunch of other invalid values)\n\nI think you\u2019re looking at this differently than the people who use these methods. The point is that in some cases, null is **not invalid**, it\u2019s used to represent the absence of something. (Some other invariant is used to make sure other invalid pointers don\u2019t occur, for example \"this field is private and only ever set to `ptr::null()` or `Box::into_raw(something)`\". Business as usual when using raw pointers at all.)\n\nNow, you could argue that people should not use `null` as an expected raw pointer value and should use something like `Option<NonZero<*const T>>` instead, but `NonZero` is not stable and it\u2019s unclear if it\u2019s ever going to be.\n\n> I would be more comfortable if we had a comprehensive story about ergonomically working with raw pointers. @Gankro's initial stab with raw-rs I think is a great start here.\n\nraw-rs looks nice but largely unrelated. I don\u2019t see anything related to null-as-an-expected-value in it.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/176699411/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/176708263",
    "html_url": "https://github.com/rust-lang/rust/issues/27780#issuecomment-176708263",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27780",
    "id": 176708263,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3NjcwODI2Mw==",
    "user": {
      "login": "ghost",
      "id": 10137,
      "node_id": "MDQ6VXNlcjEwMTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ghost",
      "html_url": "https://github.com/ghost",
      "followers_url": "https://api.github.com/users/ghost/followers",
      "following_url": "https://api.github.com/users/ghost/following{/other_user}",
      "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
      "organizations_url": "https://api.github.com/users/ghost/orgs",
      "repos_url": "https://api.github.com/users/ghost/repos",
      "events_url": "https://api.github.com/users/ghost/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ghost/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-01-29T11:45:08Z",
    "updated_at": "2016-01-29T11:45:08Z",
    "body": "The main use case is handling return Null pointers. But I understand the concern with other forms of pointer invalidation.\n\nIf raw-rs pans out could it be integrated into the Option return value? Or is returning invalid pointers something that stabilizing on could potentially bite the project? (I can't think of a use case for this but I also haven't had coffee yet this morning).\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/176708263/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/176880464",
    "html_url": "https://github.com/rust-lang/rust/issues/27780#issuecomment-176880464",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27780",
    "id": 176880464,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3Njg4MDQ2NA==",
    "user": {
      "login": "bholley",
      "id": 377435,
      "node_id": "MDQ6VXNlcjM3NzQzNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/377435?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bholley",
      "html_url": "https://github.com/bholley",
      "followers_url": "https://api.github.com/users/bholley/followers",
      "following_url": "https://api.github.com/users/bholley/following{/other_user}",
      "gists_url": "https://api.github.com/users/bholley/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bholley/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bholley/subscriptions",
      "organizations_url": "https://api.github.com/users/bholley/orgs",
      "repos_url": "https://api.github.com/users/bholley/repos",
      "events_url": "https://api.github.com/users/bholley/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bholley/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-01-29T17:41:54Z",
    "updated_at": "2016-01-29T17:41:54Z",
    "body": "Yeah, as @SimonSapin noted, it's not really an issue of pointer validity - when working over an FFI, you kinda need to assume that returned struct pointers (which are generally opaque) are always valid.\n\nRather, the issue here is nullability, which is represented with Option<> in Rust and nullptr in C/C++. FFIs need to return nullable values all the time (see the Gecko_GetRootNode example above), and so a more-convenient mapping between nullptr and Option reduces the impedance mismatch between the two.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/176880464/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/178160861",
    "html_url": "https://github.com/rust-lang/rust/issues/27780#issuecomment-178160861",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27780",
    "id": 178160861,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3ODE2MDg2MQ==",
    "user": {
      "login": "briansmith",
      "id": 16816,
      "node_id": "MDQ6VXNlcjE2ODE2",
      "avatar_url": "https://avatars.githubusercontent.com/u/16816?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/briansmith",
      "html_url": "https://github.com/briansmith",
      "followers_url": "https://api.github.com/users/briansmith/followers",
      "following_url": "https://api.github.com/users/briansmith/following{/other_user}",
      "gists_url": "https://api.github.com/users/briansmith/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/briansmith/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/briansmith/subscriptions",
      "organizations_url": "https://api.github.com/users/briansmith/orgs",
      "repos_url": "https://api.github.com/users/briansmith/repos",
      "events_url": "https://api.github.com/users/briansmith/events{/privacy}",
      "received_events_url": "https://api.github.com/users/briansmith/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-02-01T19:56:05Z",
    "updated_at": "2016-02-01T19:56:05Z",
    "body": "Does this require that Rust's alignment always matches C's alignment? A `*mut u64`  received from C code is only guaranteed to be 4-byte aligned on x86. With this RFC, converting that to a `Option<&u64>` would mean that Rust cannot assume that `&u64` is 8-byte aligned on x86.\n\nNote that the Rust alignment of a type must always be greater or equal to the C required alignment in order for `as_ptr` and `as_mut_ptr` to result in pointers that are legal (don't cause undefined behavior) when passed to C code.\n\nSo, this issue may result in locking Rust into having exactly the same alignment requirements as the C ABI.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/178160861/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/178259807",
    "html_url": "https://github.com/rust-lang/rust/issues/27780#issuecomment-178259807",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27780",
    "id": 178259807,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3ODI1OTgwNw==",
    "user": {
      "login": "Gankra",
      "id": 1136864,
      "node_id": "MDQ6VXNlcjExMzY4NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1136864?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Gankra",
      "html_url": "https://github.com/Gankra",
      "followers_url": "https://api.github.com/users/Gankra/followers",
      "following_url": "https://api.github.com/users/Gankra/following{/other_user}",
      "gists_url": "https://api.github.com/users/Gankra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Gankra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Gankra/subscriptions",
      "organizations_url": "https://api.github.com/users/Gankra/orgs",
      "repos_url": "https://api.github.com/users/Gankra/repos",
      "events_url": "https://api.github.com/users/Gankra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Gankra/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-02-01T23:43:23Z",
    "updated_at": "2016-02-01T23:45:46Z",
    "body": "The duality of `*` and `&` is already pervasive.\n\nThe platform-specific alignment of primitives is also specified in the nomicon -- https://doc.rust-lang.org/stable/nomicon/repr-rust.html (first paragraph):\n\n> Most primitives are generally aligned to their size, although this is platform-specific behavior. In particular, on x86 u64 and f64 may be only aligned to 32 bits.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/178259807/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/183532354",
    "html_url": "https://github.com/rust-lang/rust/issues/27780#issuecomment-183532354",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27780",
    "id": 183532354,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4MzUzMjM1NA==",
    "user": {
      "login": "mbrubeck",
      "id": 5920,
      "node_id": "MDQ6VXNlcjU5MjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5920?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mbrubeck",
      "html_url": "https://github.com/mbrubeck",
      "followers_url": "https://api.github.com/users/mbrubeck/followers",
      "following_url": "https://api.github.com/users/mbrubeck/following{/other_user}",
      "gists_url": "https://api.github.com/users/mbrubeck/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mbrubeck/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mbrubeck/subscriptions",
      "organizations_url": "https://api.github.com/users/mbrubeck/orgs",
      "repos_url": "https://api.github.com/users/mbrubeck/repos",
      "events_url": "https://api.github.com/users/mbrubeck/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mbrubeck/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-02-12T23:52:08Z",
    "updated_at": "2016-02-12T23:52:08Z",
    "body": "Why do these methods take `&self` instead of `self`?  The lifetime of the `&self` borrow is not used anywhere.  (Should it be?)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/183532354/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/188335909",
    "html_url": "https://github.com/rust-lang/rust/issues/27780#issuecomment-188335909",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27780",
    "id": 188335909,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4ODMzNTkwOQ==",
    "user": {
      "login": "WiSaGaN",
      "id": 1217333,
      "node_id": "MDQ6VXNlcjEyMTczMzM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1217333?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/WiSaGaN",
      "html_url": "https://github.com/WiSaGaN",
      "followers_url": "https://api.github.com/users/WiSaGaN/followers",
      "following_url": "https://api.github.com/users/WiSaGaN/following{/other_user}",
      "gists_url": "https://api.github.com/users/WiSaGaN/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/WiSaGaN/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/WiSaGaN/subscriptions",
      "organizations_url": "https://api.github.com/users/WiSaGaN/orgs",
      "repos_url": "https://api.github.com/users/WiSaGaN/repos",
      "events_url": "https://api.github.com/users/WiSaGaN/events{/privacy}",
      "received_events_url": "https://api.github.com/users/WiSaGaN/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-02-24T16:25:43Z",
    "updated_at": "2016-02-24T16:25:43Z",
    "body": "This is very useful in `FFI` as it is a common pattern in `C` library to use null pointer to represent absence. `as_ref`/`as_mut` here produces compact `FFI` code. Maybe even more readily optimized to a no-op?\nBut I am not very sure whether this should exist as a \"built-in\" method for pointer, or a library trait considering the most often usage is in `FFI`, and whether there's difference in converting to no-op, or any alignment/ABI issue.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/188335909/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/188506190",
    "html_url": "https://github.com/rust-lang/rust/issues/27780#issuecomment-188506190",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27780",
    "id": 188506190,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4ODUwNjE5MA==",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-02-24T23:12:15Z",
    "updated_at": "2016-02-24T23:12:15Z",
    "body": "> Does this require that Rust's alignment always matches C's alignment? A *mut u64 received from C code is only guaranteed to be 4-byte aligned on x86. With this RFC, converting that to a Option<&u64> would mean that Rust cannot assume that &u64 is 8-byte aligned on x86.\n\nThis isn't true: it can be incorrect/undefined behaviour to convert an unaligned pointer to a reference. (In any case, I believe `u64` is 4 byte aligned on x86, but I'm actually sure.)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/188506190/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/189033368",
    "html_url": "https://github.com/rust-lang/rust/issues/27780#issuecomment-189033368",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27780",
    "id": 189033368,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4OTAzMzM2OA==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-02-25T23:27:14Z",
    "updated_at": "2016-02-25T23:27:14Z",
    "body": "The libs team discussed this during triage yesterday, and the conclusion was pretty inconclusive. Some points brought up were:\n- The names here, `as_ref` and `as_mut` as quite small, and are perhaps easily confused with other methods called `as_ref` or `as_mut`. For example when scanning an expression it's difficult to see which `as_ref` is the relevant one if there's multiple.\n- We continue to be worried that this doesn't perform any checks beyond whether the pointer is null, for example for alignment.\n- This may be somewhat related to our fallible conversions story, but unfortunately that also doesn't exist today.\n\nOverall we weren't able to reach a conclusion on this, so I'm going to nominate it for discussion to move into FCP again next cycle.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/189033368/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/189585274",
    "html_url": "https://github.com/rust-lang/rust/issues/27780#issuecomment-189585274",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27780",
    "id": 189585274,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4OTU4NTI3NA==",
    "user": {
      "login": "WiSaGaN",
      "id": 1217333,
      "node_id": "MDQ6VXNlcjEyMTczMzM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1217333?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/WiSaGaN",
      "html_url": "https://github.com/WiSaGaN",
      "followers_url": "https://api.github.com/users/WiSaGaN/followers",
      "following_url": "https://api.github.com/users/WiSaGaN/following{/other_user}",
      "gists_url": "https://api.github.com/users/WiSaGaN/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/WiSaGaN/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/WiSaGaN/subscriptions",
      "organizations_url": "https://api.github.com/users/WiSaGaN/orgs",
      "repos_url": "https://api.github.com/users/WiSaGaN/repos",
      "events_url": "https://api.github.com/users/WiSaGaN/events{/privacy}",
      "received_events_url": "https://api.github.com/users/WiSaGaN/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-02-27T06:27:20Z",
    "updated_at": "2016-02-27T06:27:20Z",
    "body": "One minor point is that the already stabilized method `is_null()` shares the same \"nullable\" property as `as_ref()` and `as_mut()`. `as_ref()` and `as_mut()` do no more than simplify the idiom of `is_null()` and unsafe dereference, which looks to me the major use case of \"is_null()\".\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/189585274/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/195478808",
    "html_url": "https://github.com/rust-lang/rust/issues/27780#issuecomment-195478808",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27780",
    "id": 195478808,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE5NTQ3ODgwOA==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-03-11T17:57:36Z",
    "updated_at": "2016-03-11T17:57:36Z",
    "body": ":bell: This issue is reentering its cycle-long **final comment period** :bell: \n\nWe still haven't quite decided on a great name for these methods just yet, but it's something we can perhaps decide during FCP!\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/195478808/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/195525384",
    "html_url": "https://github.com/rust-lang/rust/issues/27780#issuecomment-195525384",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27780",
    "id": 195525384,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE5NTUyNTM4NA==",
    "user": {
      "login": "mbrubeck",
      "id": 5920,
      "node_id": "MDQ6VXNlcjU5MjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5920?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mbrubeck",
      "html_url": "https://github.com/mbrubeck",
      "followers_url": "https://api.github.com/users/mbrubeck/followers",
      "following_url": "https://api.github.com/users/mbrubeck/following{/other_user}",
      "gists_url": "https://api.github.com/users/mbrubeck/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mbrubeck/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mbrubeck/subscriptions",
      "organizations_url": "https://api.github.com/users/mbrubeck/orgs",
      "repos_url": "https://api.github.com/users/mbrubeck/repos",
      "events_url": "https://api.github.com/users/mbrubeck/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mbrubeck/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-03-11T20:03:41Z",
    "updated_at": "2016-03-11T20:03:41Z",
    "body": "I haven't seen any answer or discussion about my question above:\n\n> Why do these methods take `&self` instead of `self`?\n\nIn contrast, the other standard methods on pointers all take `self`.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/195525384/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/195564235",
    "html_url": "https://github.com/rust-lang/rust/issues/27780#issuecomment-195564235",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27780",
    "id": 195564235,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE5NTU2NDIzNQ==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-03-11T21:35:37Z",
    "updated_at": "2016-03-11T21:35:37Z",
    "body": "@mbrubeck \n\n> Why do these methods take &self instead of self?\n\nI suspect it was the old convention of trying to be \"less unsafe\" when returning a lifetime. Nowadays we'd just switch this back to `fn name<'a>(self) -> Option<&'a T>`\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/195564235/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/197866252",
    "html_url": "https://github.com/rust-lang/rust/issues/27780#issuecomment-197866252",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27780",
    "id": 197866252,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE5Nzg2NjI1Mg==",
    "user": {
      "login": "diwic",
      "id": 9721510,
      "node_id": "MDQ6VXNlcjk3MjE1MTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9721510?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/diwic",
      "html_url": "https://github.com/diwic",
      "followers_url": "https://api.github.com/users/diwic/followers",
      "following_url": "https://api.github.com/users/diwic/following{/other_user}",
      "gists_url": "https://api.github.com/users/diwic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/diwic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/diwic/subscriptions",
      "organizations_url": "https://api.github.com/users/diwic/orgs",
      "repos_url": "https://api.github.com/users/diwic/repos",
      "events_url": "https://api.github.com/users/diwic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/diwic/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-03-17T12:53:44Z",
    "updated_at": "2016-03-17T12:53:44Z",
    "body": "If they take `self` instead of `&self`, then `into_ref` would be more suitable than `as_ref` ?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/197866252/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/203276553",
    "html_url": "https://github.com/rust-lang/rust/issues/27780#issuecomment-203276553",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27780",
    "id": 203276553,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwMzI3NjU1Mw==",
    "user": {
      "login": "archshift",
      "id": 5377832,
      "node_id": "MDQ6VXNlcjUzNzc4MzI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5377832?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/archshift",
      "html_url": "https://github.com/archshift",
      "followers_url": "https://api.github.com/users/archshift/followers",
      "following_url": "https://api.github.com/users/archshift/following{/other_user}",
      "gists_url": "https://api.github.com/users/archshift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/archshift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/archshift/subscriptions",
      "organizations_url": "https://api.github.com/users/archshift/orgs",
      "repos_url": "https://api.github.com/users/archshift/repos",
      "events_url": "https://api.github.com/users/archshift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/archshift/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-03-30T06:41:10Z",
    "updated_at": "2016-03-30T06:41:10Z",
    "body": "To what extent does converting a pointer to a reference with these methods affect aliasing requirements on references?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/203276553/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/203398304",
    "html_url": "https://github.com/rust-lang/rust/issues/27780#issuecomment-203398304",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27780",
    "id": 203398304,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwMzM5ODMwNA==",
    "user": {
      "login": "SimonSapin",
      "id": 291359,
      "node_id": "MDQ6VXNlcjI5MTM1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SimonSapin",
      "html_url": "https://github.com/SimonSapin",
      "followers_url": "https://api.github.com/users/SimonSapin/followers",
      "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}",
      "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions",
      "organizations_url": "https://api.github.com/users/SimonSapin/orgs",
      "repos_url": "https://api.github.com/users/SimonSapin/repos",
      "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SimonSapin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-03-30T12:06:01Z",
    "updated_at": "2016-03-30T12:06:01Z",
    "body": "Same as dereferencing raw pointers?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/203398304/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/206334759",
    "html_url": "https://github.com/rust-lang/rust/issues/27780#issuecomment-206334759",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27780",
    "id": 206334759,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwNjMzNDc1OQ==",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-04-06T11:53:43Z",
    "updated_at": "2016-04-06T11:53:43Z",
    "body": "@archshift these sort of `unsafe` functions don't affect requirements of safe types: it is up to the user of the function to ensure that whatever they're doing with it doesn't break the existing requirements (e.g. when you use `as_mut_ref`, you should ensure that the resulting `&mut T` is unaliased).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/206334759/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/207000841",
    "html_url": "https://github.com/rust-lang/rust/issues/27780#issuecomment-207000841",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27780",
    "id": 207000841,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwNzAwMDg0MQ==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-04-07T17:15:09Z",
    "updated_at": "2016-04-07T20:19:33Z",
    "body": "The libs team discussed this during triage yesterday and the conclusion was to **stabilize** as-is with a minor tweak to the by-value-self method. \n\nThe new signatures will be:\n\n``` rust\nunsafe fn as_ref<'a>(self) -> Option<&'a T>;\nunsafe fn as_mut<'a>(self) -> Option<&'a mut T>;\n```\n\nWe ended up concluding that the `unsafe` marker is enough to distinguish this from `as_ref` on other various types, and these names seemed to be the best as we couldn't come up with better alternatives.\n\nThanks again for the discussion everyone!\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/207000841/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 1,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/207005267",
    "html_url": "https://github.com/rust-lang/rust/issues/27780#issuecomment-207005267",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27780",
    "id": 207005267,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwNzAwNTI2Nw==",
    "user": {
      "login": "bholley",
      "id": 377435,
      "node_id": "MDQ6VXNlcjM3NzQzNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/377435?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bholley",
      "html_url": "https://github.com/bholley",
      "followers_url": "https://api.github.com/users/bholley/followers",
      "following_url": "https://api.github.com/users/bholley/following{/other_user}",
      "gists_url": "https://api.github.com/users/bholley/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bholley/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bholley/subscriptions",
      "organizations_url": "https://api.github.com/users/bholley/orgs",
      "repos_url": "https://api.github.com/users/bholley/repos",
      "events_url": "https://api.github.com/users/bholley/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bholley/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-04-07T17:21:10Z",
    "updated_at": "2016-04-07T17:21:10Z",
    "body": "\\o/\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/207005267/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/207055889",
    "html_url": "https://github.com/rust-lang/rust/issues/27780#issuecomment-207055889",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27780",
    "id": 207055889,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwNzA1NTg4OQ==",
    "user": {
      "login": "shepmaster",
      "id": 174509,
      "node_id": "MDQ6VXNlcjE3NDUwOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/174509?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shepmaster",
      "html_url": "https://github.com/shepmaster",
      "followers_url": "https://api.github.com/users/shepmaster/followers",
      "following_url": "https://api.github.com/users/shepmaster/following{/other_user}",
      "gists_url": "https://api.github.com/users/shepmaster/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shepmaster/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shepmaster/subscriptions",
      "organizations_url": "https://api.github.com/users/shepmaster/orgs",
      "repos_url": "https://api.github.com/users/shepmaster/repos",
      "events_url": "https://api.github.com/users/shepmaster/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shepmaster/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-04-07T19:19:35Z",
    "updated_at": "2016-04-07T19:19:35Z",
    "body": "> The new signatures will be:\n> \n> ```\n> unsafe fn as_ref<'a>(self) -> Option<&'a T>;\n> unsafe fn as_mut<'a>(self) -> Option<&'a T>;\n> ```\n\nThe second should have a `mut` somewhere in the types, no?\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/207055889/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/207073074",
    "html_url": "https://github.com/rust-lang/rust/issues/27780#issuecomment-207073074",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27780",
    "id": 207073074,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwNzA3MzA3NA==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-04-07T20:19:28Z",
    "updated_at": "2016-04-07T20:19:28Z",
    "body": "@shepmaster ah yes, of course!\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/207073074/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
