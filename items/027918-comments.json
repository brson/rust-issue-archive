[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/133155571",
    "html_url": "https://github.com/rust-lang/rust/issues/27918#issuecomment-133155571",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27918",
    "id": 133155571,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMzE1NTU3MQ==",
    "user": {
      "login": "diaphore",
      "id": 10867111,
      "node_id": "MDQ6VXNlcjEwODY3MTEx",
      "avatar_url": "https://avatars.githubusercontent.com/u/10867111?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/diaphore",
      "html_url": "https://github.com/diaphore",
      "followers_url": "https://api.github.com/users/diaphore/followers",
      "following_url": "https://api.github.com/users/diaphore/following{/other_user}",
      "gists_url": "https://api.github.com/users/diaphore/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/diaphore/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/diaphore/subscriptions",
      "organizations_url": "https://api.github.com/users/diaphore/orgs",
      "repos_url": "https://api.github.com/users/diaphore/repos",
      "events_url": "https://api.github.com/users/diaphore/events{/privacy}",
      "received_events_url": "https://api.github.com/users/diaphore/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-08-20T20:02:43Z",
    "updated_at": "2015-08-20T20:05:47Z",
    "body": "Simpler program :\n\n``` rust\nfn main() {\n    match b\"    \" {\n        b\"1234\" => ()\n    }\n}\n```\n\n``` _\nthread 'rustc' panicked at 'assertion failed: `(left == right)` (left: `1`, right: `4`)', ../src/librustc\\middle\\check_match.rs:536\n\nstack backtrace:\n   1:         0x699bb42e - sys::backtrace::write::hb12aa40f2f209619ols\n   2:         0x699c5115 - rt::unwind::register::h92f30f49d41046e7Qww\n   3:         0x6998564f - rt::unwind::begin_unwind_inner::hbffbb4981b0d700aZtw\n   4:         0x69985fdc - rt::unwind::begin_unwind_fmt::h393d9d0c019d9fa55sw\n   5:         0x6925756e - middle::const_eval::const_expr_to_pat::h09de9c640f8e12dfYuj\n   6:         0x692379ac - session::Session::span_note::he19d21226dfbf5ecNYv\n   7:         0x69230f81 - middle::check_match::MatchCheckCtxt<'a, 'tcx>.Visitor<'v>::visit_expr::h08c39dd719c14c968uh\n   8:         0x692327bb - middle::check_match::MatchCheckCtxt<'a, 'tcx>.Visitor<'v>::visit_fn::ha264f9b30c751779Cvh\n   9:         0x69232d11 - middle::check_match::check_crate::hf7369bd73cb3b474kwh\n  10:         0x6923292b - middle::check_match::check_crate::hf7369bd73cb3b474kwh\n  11:         0x67c0a4a3 - driver::assign_node_ids_and_map::habd9138624442090aEa\n  12:         0x67be68c9 - driver::assign_node_ids_and_map::habd9138624442090aEa\n  13:         0x67be1bb1 - driver::assign_node_ids_and_map::habd9138624442090aEa\n  14:         0x67bc278c - driver::compile_input::hec03b27c99a60d9dTba\n  15:         0x67d39bd8 - run_compiler::he293276e81cb97efObc\n  16:         0x67d374f0 - run::hd965d7dec4214920ubc\n  17:         0x67d36f69 - run::hd965d7dec4214920ubc\n  18:         0x699ae9b4 - rt::unwind::try::inner_try::hfa861391a664fbdeSpw\n  19:         0x67d37104 - run::hd965d7dec4214920ubc\n  20:         0x699c2dee - rt::util::report_overflow::h4a1688dd50f7ee7eyaw\n  21:     0x7ffdaf8413d2 - BaseThreadInitThunk\n```\n\nrustc does not crash with `&str` :\n\n``` rust\nfn main() {\n    match \"    \" {\n        \"1234\" => ()\n    }\n}\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/133155571/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/255535994",
    "html_url": "https://github.com/rust-lang/rust/issues/27918#issuecomment-255535994",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27918",
    "id": 255535994,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1NTUzNTk5NA==",
    "user": {
      "login": "leoyvens",
      "id": 9885558,
      "node_id": "MDQ6VXNlcjk4ODU1NTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9885558?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/leoyvens",
      "html_url": "https://github.com/leoyvens",
      "followers_url": "https://api.github.com/users/leoyvens/followers",
      "following_url": "https://api.github.com/users/leoyvens/following{/other_user}",
      "gists_url": "https://api.github.com/users/leoyvens/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/leoyvens/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/leoyvens/subscriptions",
      "organizations_url": "https://api.github.com/users/leoyvens/orgs",
      "repos_url": "https://api.github.com/users/leoyvens/repos",
      "events_url": "https://api.github.com/users/leoyvens/events{/privacy}",
      "received_events_url": "https://api.github.com/users/leoyvens/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-10-22T15:49:06Z",
    "updated_at": "2016-10-22T15:49:06Z",
    "body": "Triage: Only the `empty_and_catchall` example is still broken, the output now is:\n\n```\nrustc 1.14.0-nightly (6e8f92f11 2016-10-07)\nwarning: broken MIR ((_11.0: &'static [u8; 0])): bad field access (&[u8]: &'static [u8; 0]): Sorts(ExpectedFound { expected: [u8; 0], found: [u8] })\n --> <anon>:9:10\n  |\n9 |         (EMPTY, Some(EMPTY))  => (),\n  |          ^^^^^\n\nwarning: broken MIR ((((_11.1: std::option::Option<&'<empty> [u8]>) as Some).0: &'static [u8; 0])): bad field access (&'<empty> [u8]: &'static [u8; 0]): Sorts(ExpectedFound { expected: [u8; 0], found: [u8] })\n --> <anon>:9:22\n  |\n9 |         (EMPTY, Some(EMPTY))  => (),\n  |                      ^^^^^\n\nrustc: /buildslave/rust-buildbot/slave/nightly-dist-rustc-linux/build/src/llvm/lib/IR/Instructions.cpp:2759: static llvm::CastInst* llvm::CastInst::CreatePointerCast(llvm::Value*, llvm::Type*, const llvm::Twine&, llvm::Instruction*): Assertion `S->getType()->isPtrOrPtrVectorTy() && \"Invalid cast\"' failed.\nAborted (core dumped)\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/255535994/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/301350770",
    "html_url": "https://github.com/rust-lang/rust/issues/27918#issuecomment-301350770",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27918",
    "id": 301350770,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMTM1MDc3MA==",
    "user": {
      "login": "Mark-Simulacrum",
      "id": 5047365,
      "node_id": "MDQ6VXNlcjUwNDczNjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5047365?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Mark-Simulacrum",
      "html_url": "https://github.com/Mark-Simulacrum",
      "followers_url": "https://api.github.com/users/Mark-Simulacrum/followers",
      "following_url": "https://api.github.com/users/Mark-Simulacrum/following{/other_user}",
      "gists_url": "https://api.github.com/users/Mark-Simulacrum/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Mark-Simulacrum/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Mark-Simulacrum/subscriptions",
      "organizations_url": "https://api.github.com/users/Mark-Simulacrum/orgs",
      "repos_url": "https://api.github.com/users/Mark-Simulacrum/repos",
      "events_url": "https://api.github.com/users/Mark-Simulacrum/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Mark-Simulacrum/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-05-15T00:28:38Z",
    "updated_at": "2017-05-15T00:28:38Z",
    "body": "Reduced down to the following:\r\n\r\n```rust\r\nfn foo() {\r\n    let a: &[u8] = &[];\r\n    const B: &'static [u8] = b\"\";\r\n    match (a, 0) {\r\n        (B, 0)  => {},\r\n        _ => {},\r\n    }\r\n}\r\n```\r\n\r\n```\r\nerror: internal compiler error: broken MIR ((_5.0: &'static [u8; 0])): bad field access (&[u8]: &'static [u8; 0]): Sorts(ExpectedFound { expected: [u8; 0], found: [u8] })\r\n --> test.rs:5:10\r\n  |\r\n5 |         (B, 0)  => {},\r\n  |          ^\r\n\r\nnote: the compiler unexpectedly panicked. this is a bug.\r\n\r\nnote: we would appreciate a bug report: https://github.com/rust-lang/rust/blob/master/CONTRIBUTING.md#bug-reports\r\n\r\nthread 'rustc' panicked at 'Box<Any>', src/librustc_errors/lib.rs:421\r\nnote: Run with `RUST_BACKTRACE=1` for a backtrace.\r\n```",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/301350770/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
