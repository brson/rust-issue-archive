{
  "url": "https://api.github.com/repos/rust-lang/rust/issues/6071",
  "repository_url": "https://api.github.com/repos/rust-lang/rust",
  "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/6071/labels{/name}",
  "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/6071/comments",
  "events_url": "https://api.github.com/repos/rust-lang/rust/issues/6071/events",
  "html_url": "https://github.com/rust-lang/rust/pull/6071",
  "id": 13675572,
  "node_id": "MDExOlB1bGxSZXF1ZXN0NTM4NTUxNg==",
  "number": 6071,
  "title": "Add traits for primitive numeric types",
  "user": {
    "login": "brendanzab",
    "id": 695077,
    "node_id": "MDQ6VXNlcjY5NTA3Nw==",
    "avatar_url": "https://avatars.githubusercontent.com/u/695077?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/brendanzab",
    "html_url": "https://github.com/brendanzab",
    "followers_url": "https://api.github.com/users/brendanzab/followers",
    "following_url": "https://api.github.com/users/brendanzab/following{/other_user}",
    "gists_url": "https://api.github.com/users/brendanzab/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/brendanzab/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/brendanzab/subscriptions",
    "organizations_url": "https://api.github.com/users/brendanzab/orgs",
    "repos_url": "https://api.github.com/users/brendanzab/repos",
    "events_url": "https://api.github.com/users/brendanzab/events{/privacy}",
    "received_events_url": "https://api.github.com/users/brendanzab/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "labels": [],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [],
  "milestone": null,
  "comments": 3,
  "created_at": "2013-04-26T06:40:40Z",
  "updated_at": "2014-06-22T14:34:01Z",
  "closed_at": "2013-04-27T21:15:34Z",
  "author_association": "CONTRIBUTOR",
  "type": null,
  "active_lock_reason": null,
  "draft": false,
  "pull_request": {
    "url": "https://api.github.com/repos/rust-lang/rust/pulls/6071",
    "html_url": "https://github.com/rust-lang/rust/pull/6071",
    "diff_url": "https://github.com/rust-lang/rust/pull/6071.diff",
    "patch_url": "https://github.com/rust-lang/rust/pull/6071.patch",
    "merged_at": null
  },
  "body": "As part of the numeric trait reform (see issue #4819), I have added the following traits to `core::num` and implemented them for Rust's primitive numeric types:\n\n``` rust\npub trait Bitwise: Not<Self>\n                 + BitAnd<Self,Self>\n                 + BitOr<Self,Self>\n                 + BitXor<Self,Self>\n                 + Shl<Self,Self>\n                 + Shr<Self,Self> {}\n\npub trait BitCount {\n    fn population_count(&self) -> Self;\n    fn leading_zeros(&self) -> Self;\n    fn trailing_zeros(&self) -> Self;\n}\n\npub trait Bounded {\n    fn min_value() -> Self;\n    fn max_value() -> Self;\n}\n\npub trait Primitive: Num\n                   + NumCast\n                   + Bounded\n                   + Neg<Self>\n                   + Add<Self,Self>\n                   + Sub<Self,Self>\n                   + Mul<Self,Self>\n                   + Quot<Self,Self>\n                   + Rem<Self,Self> {\n    fn bits() -> uint;\n    fn bytes() -> uint;\n}\n\npub trait Int: Integer\n             + Primitive\n             + Bitwise\n             + BitCount {}\n\npub trait Float: Real\n               + Signed\n               + Primitive {\n    fn NaN() -> Self;\n    fn infinity() -> Self;\n    fn neg_infinity() -> Self;\n    fn neg_zero() -> Self;\n\n    fn is_NaN(&self) -> bool;\n    fn is_infinite(&self) -> bool;\n    fn is_finite(&self) -> bool;\n\n    fn mantissa_digits() -> uint;\n    fn digits() -> uint;\n    fn epsilon() -> Self;\n    fn min_exp() -> int;\n    fn max_exp() -> int;\n    fn min_10_exp() -> int;\n    fn max_10_exp() -> int;\n\n    fn mul_add(&self, a: Self, b: Self) -> Self;\n    fn next_after(&self, other: Self) -> Self;\n}\n```\n\nNote: I'm not sure my implementation for `BitCount::trailing_zeros` and `BitCount::leading_zeros` is correct for uints. I also need some assistance creating appropriate unit tests for them.\n\nMore work needs to be done in implementing specialized primitive floating-point and integer methods, but I'm beginning to reach the limits of my knowledge. Please leave your suggestions/critiques/ideas on #4819 if you have them \u2013 I'd very much appreciate hearing them.\n\nI have also added an `Orderable` trait:\n\n``` rust\npub trait Orderable: Ord {\n    fn min(&self, other: &Self) -> Self;\n    fn max(&self, other: &Self) -> Self;\n    fn clamp(&self, mn: &Self, mx: &Self) -> Self;\n}\n```\n\nThis is a temporary trait until we have default methods. We don't want to encumber all implementors of Ord by requiring them to implement these functions, but at the same time we want to be able to take advantage of the speed of the specific numeric functions (like the `fmin` and `fmax` intrinsics).\n",
  "closed_by": {
    "login": "bors",
    "id": 3372342,
    "node_id": "MDQ6VXNlcjMzNzIzNDI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/bors",
    "html_url": "https://github.com/bors",
    "followers_url": "https://api.github.com/users/bors/followers",
    "following_url": "https://api.github.com/users/bors/following{/other_user}",
    "gists_url": "https://api.github.com/users/bors/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bors/subscriptions",
    "organizations_url": "https://api.github.com/users/bors/orgs",
    "repos_url": "https://api.github.com/users/bors/repos",
    "events_url": "https://api.github.com/users/bors/events{/privacy}",
    "received_events_url": "https://api.github.com/users/bors/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/6071/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/6071/timeline",
  "performed_via_github_app": null,
  "state_reason": null,
  "_meta": {
    "type": "pr"
  }
}
