[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/19910737",
    "html_url": "https://github.com/rust-lang/rust/issues/3073#issuecomment-19910737",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/3073",
    "id": 19910737,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE5OTEwNzM3",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-06-24T14:35:56Z",
    "updated_at": "2013-06-24T14:35:56Z",
    "body": "Bug triage 2013jun24.  This is still a problem.  It is relatively easy to make examples that illustrate the issue described here, such as `play-tt-parse1.rs` on [this gist](https://gist.github.com/pnkfelix/5850380), which takes much more time (~30x) to compile than `play-tt-parse2.rs` (which has the same number of occurrences of `m!`).\n\nOne distinction worth making is whether the reparsing occurs solely (if repeatedly) on source code inputs, or if it also happens when recursively expanding the _output_ of a macro expansion.  I was sufficiently curious about this that I made a couple more examples (also linked on the gist above) that construct the large syntax trees (one that matches the size of `play-tt-parse1.rs`, and another that exhibits exponential growth.  The impression I got from that experiment is that the syntax, once handled solely by the expander alone, is being treated reasonably efficiently.  So the _n_ repeated parsings that paul wrote in the description is just for source code inputs, not for the results of macro expansions, which is good (in terms of providing hope that this problem is not as likely to mysteriously blow up in one's face without knowing why).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/19910737/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/22120069",
    "html_url": "https://github.com/rust-lang/rust/issues/3073#issuecomment-22120069",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/3073",
    "id": 22120069,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMTIwMDY5",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-08-05T16:58:42Z",
    "updated_at": "2013-08-05T16:58:42Z",
    "body": "I don't have anything to add except some updated timing:\n\n```\n[12:53:46]/tmp/5850380> time rustc play-tt-parse1.rs \nrustc play-tt-parse1.rs  0.49s user 0.07s system 100% cpu 0.555 total\n[12:54:08]/tmp/5850380> time rustc play-tt-parse2.rs \nrustc play-tt-parse2.rs  0.87s user 0.10s system 100% cpu 0.973 total\n[12:54:15]/tmp/5850380> time rustc play-tt-parse3.rs \nrustc play-tt-parse3.rs  100.19s user 27.74s system 99% cpu 2:07.93 total\n[12:56:32]/tmp/5850380> time rustc play-tt-parse4.rs \nrustc play-tt-parse4.rs  2.51s user 0.96s system 100% cpu 3.468 total\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/22120069/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/32504742",
    "html_url": "https://github.com/rust-lang/rust/issues/3073#issuecomment-32504742",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/3073",
    "id": 32504742,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyNTA0NzQy",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-01-16T18:48:41Z",
    "updated_at": "2014-01-16T18:48:41Z",
    "body": "Accepted for P-low.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/32504742/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/70890553",
    "html_url": "https://github.com/rust-lang/rust/issues/3073#issuecomment-70890553",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/3073",
    "id": 70890553,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwODkwNTUz",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-21T18:15:19Z",
    "updated_at": "2015-01-21T18:15:19Z",
    "body": "Triage: the gist is out of date fairly badly, after doing the easy updates I'm getting\n\n```\nplay-tt-parse1.rs:2:6: 2:14 error: `$e1:expr` is followed by `@`, which is not allowed for `expr` fragments\nplay-tt-parse1.rs:2     ($e1:expr @ $e2:expr) => ({ $e1 })\n                         ^~~~~~~~\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/70890553/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/70905169",
    "html_url": "https://github.com/rust-lang/rust/issues/3073#issuecomment-70905169",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/3073",
    "id": 70905169,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwOTA1MTY5",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-21T19:32:16Z",
    "updated_at": "2015-01-21T19:32:16Z",
    "body": "@steveklabnik should be able to replace the `@` with `=>` everywhere to update it.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/70905169/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/152062002",
    "html_url": "https://github.com/rust-lang/rust/issues/3073#issuecomment-152062002",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/3073",
    "id": 152062002,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MjA2MjAwMg==",
    "user": {
      "login": "ghost",
      "id": 10137,
      "node_id": "MDQ6VXNlcjEwMTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ghost",
      "html_url": "https://github.com/ghost",
      "followers_url": "https://api.github.com/users/ghost/followers",
      "following_url": "https://api.github.com/users/ghost/following{/other_user}",
      "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
      "organizations_url": "https://api.github.com/users/ghost/orgs",
      "repos_url": "https://api.github.com/users/ghost/repos",
      "events_url": "https://api.github.com/users/ghost/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ghost/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-29T03:11:31Z",
    "updated_at": "2015-10-29T03:11:31Z",
    "body": "@steveklabnik I don't think this occurs anymore, unless I messed something up when getting it to compile. Using [this updated version](https://gist.github.com/Toby-S/455ceb913739d10754eb):\n\n```\n$ time rustc play-tt-parse1.rs \n\nreal    0m0.204s\nuser    0m0.172s\nsys     0m0.024s\n```\n\nOn the latest nightly, rustc 1.5.0-nightly (e0e262737 2015-10-27).\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/152062002/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/152169864",
    "html_url": "https://github.com/rust-lang/rust/issues/3073#issuecomment-152169864",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/3073",
    "id": 152169864,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MjE2OTg2NA==",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-29T12:52:24Z",
    "updated_at": "2015-10-29T12:52:24Z",
    "body": "@Toby-S thanks!\n\nAnyone else, if this is still happening, please let us know.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/152169864/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/152207349",
    "html_url": "https://github.com/rust-lang/rust/issues/3073#issuecomment-152207349",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/3073",
    "id": 152207349,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MjIwNzM0OQ==",
    "user": {
      "login": "paulstansifer",
      "id": 1431,
      "node_id": "MDQ6VXNlcjE0MzE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1431?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/paulstansifer",
      "html_url": "https://github.com/paulstansifer",
      "followers_url": "https://api.github.com/users/paulstansifer/followers",
      "following_url": "https://api.github.com/users/paulstansifer/following{/other_user}",
      "gists_url": "https://api.github.com/users/paulstansifer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/paulstansifer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/paulstansifer/subscriptions",
      "organizations_url": "https://api.github.com/users/paulstansifer/orgs",
      "repos_url": "https://api.github.com/users/paulstansifer/repos",
      "events_url": "https://api.github.com/users/paulstansifer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/paulstansifer/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-29T15:03:14Z",
    "updated_at": "2015-10-29T15:03:14Z",
    "body": "Nice!\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/152207349/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
