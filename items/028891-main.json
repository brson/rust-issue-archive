{
  "url": "https://api.github.com/repos/rust-lang/rust/issues/28891",
  "repository_url": "https://api.github.com/repos/rust-lang/rust",
  "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/28891/labels{/name}",
  "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/28891/comments",
  "events_url": "https://api.github.com/repos/rust-lang/rust/issues/28891/events",
  "html_url": "https://github.com/rust-lang/rust/pull/28891",
  "id": 110305887,
  "node_id": "MDExOlB1bGxSZXF1ZXN0NDcwNzUyMDM=",
  "number": 28891,
  "title": "Rewrite shootout-nbody for better autovectorization",
  "user": {
    "login": "cristicbz",
    "id": 801328,
    "node_id": "MDQ6VXNlcjgwMTMyOA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/801328?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/cristicbz",
    "html_url": "https://github.com/cristicbz",
    "followers_url": "https://api.github.com/users/cristicbz/followers",
    "following_url": "https://api.github.com/users/cristicbz/following{/other_user}",
    "gists_url": "https://api.github.com/users/cristicbz/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/cristicbz/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/cristicbz/subscriptions",
    "organizations_url": "https://api.github.com/users/cristicbz/orgs",
    "repos_url": "https://api.github.com/users/cristicbz/repos",
    "events_url": "https://api.github.com/users/cristicbz/events{/privacy}",
    "received_events_url": "https://api.github.com/users/cristicbz/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "labels": [],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "alexcrichton",
    "id": 64996,
    "node_id": "MDQ6VXNlcjY0OTk2",
    "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/alexcrichton",
    "html_url": "https://github.com/alexcrichton",
    "followers_url": "https://api.github.com/users/alexcrichton/followers",
    "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
    "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
    "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
    "repos_url": "https://api.github.com/users/alexcrichton/repos",
    "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
    "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 13,
  "created_at": "2015-10-07T20:07:10Z",
  "updated_at": "2015-10-08T16:26:30Z",
  "closed_at": "2015-10-08T11:50:41Z",
  "author_association": "CONTRIBUTOR",
  "type": null,
  "active_lock_reason": null,
  "draft": false,
  "pull_request": {
    "url": "https://api.github.com/repos/rust-lang/rust/pulls/28891",
    "html_url": "https://github.com/rust-lang/rust/pull/28891",
    "diff_url": "https://github.com/rust-lang/rust/pull/28891.diff",
    "patch_url": "https://github.com/rust-lang/rust/pull/28891.patch",
    "merged_at": "2015-10-08T11:50:41Z"
  },
  "body": "This new version takes inspiration from the C implementation of the benchmark, but instead of explicitly using SIMD operations which can't be done on stable, it instead arranges everything the same way and leaves the actual vectorization up to LLVM.\n\nIn addition to the ~20% speed gains (see below), this PR also adds some general niceties which showcase the language a little bit: a `Vec3` type to cut down on `(x, y, z)` repetition,  using `while let` instead of `loop-if-break`, iterator adapters instead of for loops etc.\n\nHere are the times in seconds of 10 runs each on my workstation:\n\n```\nbefore: 6.254, 6.260, 6.263, 6.264, 6.265, 6.267, 6.334, 6.341, 6.441, 6.509\nbefore-min: 6.254\nbefore-median: 6.266\nbefore-max: 6.509\n\nafter: 4.823, 4.824, 4.826, 4.827, 4.837, 4.839, 4.881, 4.959, 4.990, 5.377\nafter-min: 4.823\nafter-median: 4.838\nafter-max: 5.377\n\ngcc: 4.674, 4.676, 4.680, 4.682, 4.695, 4.696, 4.701, 4.708, 4.794, 5.297\ngcc-min: 4.674\ngcc-median: 4.696\ngcc-max: 5.297\n```\n\nOn my i7 laptop the speed up is less impressive, from ~5.4s to ~4.7s, but still significant. On my Vultr VPS the numbers look closer to the workstation results. Surprisingly my laptop beats both office workstation and VPS...\n",
  "closed_by": {
    "login": "bors",
    "id": 3372342,
    "node_id": "MDQ6VXNlcjMzNzIzNDI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/bors",
    "html_url": "https://github.com/bors",
    "followers_url": "https://api.github.com/users/bors/followers",
    "following_url": "https://api.github.com/users/bors/following{/other_user}",
    "gists_url": "https://api.github.com/users/bors/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bors/subscriptions",
    "organizations_url": "https://api.github.com/users/bors/orgs",
    "repos_url": "https://api.github.com/users/bors/repos",
    "events_url": "https://api.github.com/users/bors/events{/privacy}",
    "received_events_url": "https://api.github.com/users/bors/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/28891/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/28891/timeline",
  "performed_via_github_app": null,
  "state_reason": null,
  "_meta": {
    "type": "pr"
  }
}
