{
  "url": "https://api.github.com/repos/rust-lang/rust/issues/13954",
  "repository_url": "https://api.github.com/repos/rust-lang/rust",
  "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/13954/labels{/name}",
  "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/13954/comments",
  "events_url": "https://api.github.com/repos/rust-lang/rust/issues/13954/events",
  "html_url": "https://github.com/rust-lang/rust/pull/13954",
  "id": 32853645,
  "node_id": "MDExOlB1bGxSZXF1ZXN0MTU1MTg2NDI=",
  "number": 13954,
  "title": "Issue 11650:  Process::new and dynamic_library::open_external should take &[u8]s, not Paths or ~strs",
  "user": {
    "login": "aturon",
    "id": 709807,
    "node_id": "MDQ6VXNlcjcwOTgwNw==",
    "avatar_url": "https://avatars.githubusercontent.com/u/709807?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/aturon",
    "html_url": "https://github.com/aturon",
    "followers_url": "https://api.github.com/users/aturon/followers",
    "following_url": "https://api.github.com/users/aturon/following{/other_user}",
    "gists_url": "https://api.github.com/users/aturon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/aturon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/aturon/subscriptions",
    "organizations_url": "https://api.github.com/users/aturon/orgs",
    "repos_url": "https://api.github.com/users/aturon/repos",
    "events_url": "https://api.github.com/users/aturon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/aturon/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "labels": [],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [],
  "milestone": null,
  "comments": 11,
  "created_at": "2014-05-05T22:58:54Z",
  "updated_at": "2015-04-22T21:46:05Z",
  "closed_at": "2014-05-15T17:06:45Z",
  "author_association": "CONTRIBUTOR",
  "type": null,
  "active_lock_reason": null,
  "draft": false,
  "pull_request": {
    "url": "https://api.github.com/repos/rust-lang/rust/pulls/13954",
    "html_url": "https://github.com/rust-lang/rust/pull/13954",
    "diff_url": "https://github.com/rust-lang/rust/pull/13954.diff",
    "patch_url": "https://github.com/rust-lang/rust/pull/13954.patch",
    "merged_at": "2014-05-15T17:06:45Z"
  },
  "body": "## Process API\n\nThe existing APIs for spawning processes took strings for the command\nand arguments, but the underlying system may not impose utf8 encoding,\nso this is overly limiting.\n\nThe assumption we actually want to make is just that the command and\narguments are viewable as [u8] slices with no interior NULLs, i.e., as\nCStrings. The ToCStr trait is a handy bound for types that meet this\nrequirement (such as &str and Path).\n\nHowever, since the commands and arguments are often a mixture of\nstrings and paths, it would be inconvenient to take a slice with a\nsingle T: ToCStr bound. So this patch revamps the process creation API\nto instead use a builder-style interface, called `Command`, allowing\narguments to be added one at a time with differing ToCStr\nimplementations for each.\n\nThe initial cut of the builder API has some drawbacks that can be\naddressed once issue #13851 (libstd as a facade) is closed. These are\ndetailed as FIXMEs.\n## Dynamic library API\n\n`std::unstable::dynamic_library::open_external` currently takes a\n`Path`, but because `Paths` produce normalized strings, this can\nchange the semantics of lookups in a given environment. This patch\ngeneralizes the function to take a `ToCStr`-bounded type, which\nincludes both `Path`s and `str`s.\n## ToCStr API\n\nAdds ToCStr impl for &Path and ~str. This is a stopgap until DST (#12938) lands.\n\nUntil DST lands, we cannot decompose &str into & and str, so we cannot\nusefully take ToCStr arguments by reference (without forcing an\nadditional & around &str). So we are instead temporarily adding an\ninstance for &Path and ~str, so that we can take ToCStr as owned. When\nDST lands, the &Path instance should be removed, the string instances\nshould be revisted, and arguments bound by ToCStr should be passed by\nreference.\n\nFIXMEs have been added accordingly. \n## Tickets closed\n\nCloses #11650.\nCloses #7928.\n",
  "closed_by": {
    "login": "bors",
    "id": 3372342,
    "node_id": "MDQ6VXNlcjMzNzIzNDI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/bors",
    "html_url": "https://github.com/bors",
    "followers_url": "https://api.github.com/users/bors/followers",
    "following_url": "https://api.github.com/users/bors/following{/other_user}",
    "gists_url": "https://api.github.com/users/bors/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bors/subscriptions",
    "organizations_url": "https://api.github.com/users/bors/orgs",
    "repos_url": "https://api.github.com/users/bors/repos",
    "events_url": "https://api.github.com/users/bors/events{/privacy}",
    "received_events_url": "https://api.github.com/users/bors/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/13954/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/13954/timeline",
  "performed_via_github_app": null,
  "state_reason": null,
  "_meta": {
    "type": "pr"
  }
}
