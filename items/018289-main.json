{
  "url": "https://api.github.com/repos/rust-lang/rust/issues/18289",
  "repository_url": "https://api.github.com/repos/rust-lang/rust",
  "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/18289/labels{/name}",
  "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/18289/comments",
  "events_url": "https://api.github.com/repos/rust-lang/rust/issues/18289/events",
  "html_url": "https://github.com/rust-lang/rust/pull/18289",
  "id": 46784666,
  "node_id": "MDExOlB1bGxSZXF1ZXN0MjMzMjUzOTk=",
  "number": 18289,
  "title": "Specify that Reader::read doesn't return 0.",
  "user": {
    "login": "mahkoh",
    "id": 1882250,
    "node_id": "MDQ6VXNlcjE4ODIyNTA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1882250?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mahkoh",
    "html_url": "https://github.com/mahkoh",
    "followers_url": "https://api.github.com/users/mahkoh/followers",
    "following_url": "https://api.github.com/users/mahkoh/following{/other_user}",
    "gists_url": "https://api.github.com/users/mahkoh/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mahkoh/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mahkoh/subscriptions",
    "organizations_url": "https://api.github.com/users/mahkoh/orgs",
    "repos_url": "https://api.github.com/users/mahkoh/repos",
    "events_url": "https://api.github.com/users/mahkoh/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mahkoh/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "labels": [],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [],
  "milestone": null,
  "comments": 7,
  "created_at": "2014-10-24T21:17:03Z",
  "updated_at": "2014-11-23T23:23:31Z",
  "closed_at": "2014-11-23T23:23:31Z",
  "author_association": "CONTRIBUTOR",
  "type": null,
  "active_lock_reason": null,
  "draft": false,
  "pull_request": {
    "url": "https://api.github.com/repos/rust-lang/rust/pulls/18289",
    "html_url": "https://github.com/rust-lang/rust/pull/18289",
    "diff_url": "https://github.com/rust-lang/rust/pull/18289.diff",
    "patch_url": "https://github.com/rust-lang/rust/pull/18289.patch",
    "merged_at": null
  },
  "body": "Reader is a trait for byte-oriented streams. Unlike with packet oriented\nprotocols such as UDP or lower level network traffic, there is no reason\nfor a read on a stream to ever return a zero bytes buffer.\n\nIf data is available, read shall return a suitable amount of it in the\nbuffer. If no data is available, read shall either block or signal a\ncondition via an Error.\n\nNote that it is already impossible to use many Reader methods on packet\noriented protocols. E.g., consider reading an u64.\n1) If a new packet is available, what should be done with the remainder\nof the packet?\n2) If we've stored a previous packet and there are still four bytes\navailable, should we a) attempt to read another packet and possibly\nblock and then combine the bytes into an 8 byte sequence, or b) return\nan error?\n\nObjects that implement packet oriented protocols or for which it makes\nsense to return 0-sized reads should implement read methods that are\nindependent of the Reader trait.\n\nThis is a breaking change because there might be Reader implementations\nthat return 0, however, no such implementations are in the standard\nlibrary.\n\n[breaking-change]\n\n---\n\nNote that the last paragraph is AFAIK true after https://github.com/rust-lang/rust/pull/18130\n\nCloses https://github.com/rust-lang/rust/issues/18079\n",
  "closed_by": {
    "login": "alexcrichton",
    "id": 64996,
    "node_id": "MDQ6VXNlcjY0OTk2",
    "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/alexcrichton",
    "html_url": "https://github.com/alexcrichton",
    "followers_url": "https://api.github.com/users/alexcrichton/followers",
    "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
    "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
    "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
    "repos_url": "https://api.github.com/users/alexcrichton/repos",
    "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
    "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/18289/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/18289/timeline",
  "performed_via_github_app": null,
  "state_reason": null,
  "_meta": {
    "type": "pr"
  }
}
