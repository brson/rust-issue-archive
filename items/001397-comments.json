[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3315593",
    "html_url": "https://github.com/rust-lang/rust/pull/1397#issuecomment-3315593",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/1397",
    "id": 3315593,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMTU1OTM=",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2011-12-30T18:12:45Z",
    "updated_at": "2011-12-30T18:12:45Z",
    "body": "You will need to update more of the code.  Doing a quick search, I think at least these functions need to be changed:\n- `trans_var()` in the nullary variant case; \n- `trans_tag_variant()`\n- `iter_structural_ty()`\n\nThere are likely more places too.  \n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3315593/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3315606",
    "html_url": "https://github.com/rust-lang/rust/pull/1397#issuecomment-3315606",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/1397",
    "id": 3315606,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMTU2MDY=",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2011-12-30T18:13:31Z",
    "updated_at": "2011-12-30T18:13:31Z",
    "body": "Also, I suggest converting the iteration over a vector where you do not need the index to use `vec::iter()` (or `vec::iteri()` if the index is required).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3315606/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3315622",
    "html_url": "https://github.com/rust-lang/rust/pull/1397#issuecomment-3315622",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/1397",
    "id": 3315622,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMTU2MjI=",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2011-12-30T18:16:01Z",
    "updated_at": "2011-12-30T18:16:01Z",
    "body": "Finally, we probably want to allow arbitrary `const` expressions for the discriminant values.  I am not sure where the `const` machinery is in the compiler today though.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3315622/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3315749",
    "html_url": "https://github.com/rust-lang/rust/pull/1397#issuecomment-3315749",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/1397",
    "id": 3315749,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMTU3NDk=",
    "user": {
      "login": "kevina",
      "id": 1271492,
      "node_id": "MDQ6VXNlcjEyNzE0OTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1271492?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kevina",
      "html_url": "https://github.com/kevina",
      "followers_url": "https://api.github.com/users/kevina/followers",
      "following_url": "https://api.github.com/users/kevina/following{/other_user}",
      "gists_url": "https://api.github.com/users/kevina/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kevina/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kevina/subscriptions",
      "organizations_url": "https://api.github.com/users/kevina/orgs",
      "repos_url": "https://api.github.com/users/kevina/repos",
      "events_url": "https://api.github.com/users/kevina/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kevina/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2011-12-30T18:31:53Z",
    "updated_at": "2011-12-30T18:31:53Z",
    "body": "Yeah, I need to do a more thorough conversion.  I wanted to make sure I am approaching it correctly before I change too much code.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3315749/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3336626",
    "html_url": "https://github.com/rust-lang/rust/pull/1397#issuecomment-3336626",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/1397",
    "id": 3336626,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMzY2MjY=",
    "user": {
      "login": "kevina",
      "id": 1271492,
      "node_id": "MDQ6VXNlcjEyNzE0OTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1271492?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kevina",
      "html_url": "https://github.com/kevina",
      "followers_url": "https://api.github.com/users/kevina/followers",
      "following_url": "https://api.github.com/users/kevina/following{/other_user}",
      "gists_url": "https://api.github.com/users/kevina/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kevina/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kevina/subscriptions",
      "organizations_url": "https://api.github.com/users/kevina/orgs",
      "repos_url": "https://api.github.com/users/kevina/repos",
      "events_url": "https://api.github.com/users/kevina/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kevina/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-01-03T05:37:20Z",
    "updated_at": "2012-01-03T05:37:20Z",
    "body": "I made some minor improvements over the weekend.  There is a big FIXME in there, fixing that might relate to handle the encoding and decoding of the crate metadata, especially if the disr. values are stored in LLVM constants, which is what I believe Graydon was trying to tell me about on IRC.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3336626/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3336635",
    "html_url": "https://github.com/rust-lang/rust/pull/1397#issuecomment-3336635",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/1397",
    "id": 3336635,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMzY2MzU=",
    "user": {
      "login": "kevina",
      "id": 1271492,
      "node_id": "MDQ6VXNlcjEyNzE0OTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1271492?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kevina",
      "html_url": "https://github.com/kevina",
      "followers_url": "https://api.github.com/users/kevina/followers",
      "following_url": "https://api.github.com/users/kevina/following{/other_user}",
      "gists_url": "https://api.github.com/users/kevina/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kevina/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kevina/subscriptions",
      "organizations_url": "https://api.github.com/users/kevina/orgs",
      "repos_url": "https://api.github.com/users/kevina/repos",
      "events_url": "https://api.github.com/users/kevina/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kevina/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-01-03T05:38:44Z",
    "updated_at": "2012-01-03T05:38:44Z",
    "body": " nikomatsakis: I did not see how trans_tag_variant() or iter_structural_ty() need to be updated.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3336635/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3363462",
    "html_url": "https://github.com/rust-lang/rust/pull/1397#issuecomment-3363462",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/1397",
    "id": 3363462,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNjM0NjI=",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-01-05T00:03:22Z",
    "updated_at": "2012-01-05T00:03:22Z",
    "body": "`trans_tag_variant()` initializes the discriminant in the following code:\n\n```\n    let llblobptr =\n        if is_degen {\n            fcx.llretptr\n        } else {\n            let lltagptr =\n                PointerCast(bcx, fcx.llretptr, T_opaque_tag_ptr(ccx));\n            let lldiscrimptr = GEPi(bcx, lltagptr, [0, 0]);\n            Store(bcx, C_int(ccx, index), lldiscrimptr);\n            GEPi(bcx, lltagptr, [0, 1])\n        };\n```\n\nThe line `Store(bcx, C_int(ccx, index), lldiscrimptr);` in particular stores the index into the discriminant field.  You probably want this to be the discriminant value, not the index of the variant.\n\n`iter_structural_ty()` switches on the discriminant to decide what code will execute.  The relevant code is this line `AddCase(llswitch, C_int(ccx, i as int), variant_cx.llbb);`, where you probably want to change `i as int` to be the discriminant value, not the index.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3363462/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3363913",
    "html_url": "https://github.com/rust-lang/rust/pull/1397#issuecomment-3363913",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/1397",
    "id": 3363913,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNjM5MTM=",
    "user": {
      "login": "kevina",
      "id": 1271492,
      "node_id": "MDQ6VXNlcjEyNzE0OTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1271492?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kevina",
      "html_url": "https://github.com/kevina",
      "followers_url": "https://api.github.com/users/kevina/followers",
      "following_url": "https://api.github.com/users/kevina/following{/other_user}",
      "gists_url": "https://api.github.com/users/kevina/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kevina/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kevina/subscriptions",
      "organizations_url": "https://api.github.com/users/kevina/orgs",
      "repos_url": "https://api.github.com/users/kevina/repos",
      "events_url": "https://api.github.com/users/kevina/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kevina/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-01-05T00:45:37Z",
    "updated_at": "2012-01-05T05:44:48Z",
    "body": "nikomatsakis: Sorry, I meant to say trans_var instead of trans_tag_variant. I looked at it again and don't see how it needs to be updated. It seams to use lookup_discriminant to get the value.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3363913/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3365693",
    "html_url": "https://github.com/rust-lang/rust/pull/1397#issuecomment-3365693",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/1397",
    "id": 3365693,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNjU2OTM=",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-01-05T05:02:36Z",
    "updated_at": "2012-01-05T05:02:36Z",
    "body": "Regarding `trans_var`, in the case of a nullary variant where there is exactly one variant, we hardcode the discriminant value as 0:\n\n```\n            let d = if vec::len(*ty::tag_variants(ccx.tcx, tid)) != 1u {\n                let lldiscrim_gv = lookup_discriminant(bcx.fcx.lcx, vid);\n                let lldiscrim = Load(bcx, lldiscrim_gv);\n                lldiscrim\n            } else { C_int(ccx, 0) };\n```\n\nI'm not really sure why we do this.  Micro-optimization? You could probably just take out the if and always use `lookup_discriminant()`.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3365693/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3365837",
    "html_url": "https://github.com/rust-lang/rust/pull/1397#issuecomment-3365837",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/1397",
    "id": 3365837,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNjU4Mzc=",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-01-05T05:31:40Z",
    "updated_at": "2012-01-05T05:31:40Z",
    "body": "Another place that needs to be updated: `trans_constant()` in `trans.rs`, which contains the code that initializes the global variables storing the discriminants.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3365837/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3365872",
    "html_url": "https://github.com/rust-lang/rust/pull/1397#issuecomment-3365872",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/1397",
    "id": 3365872,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNjU4NzI=",
    "user": {
      "login": "kevina",
      "id": 1271492,
      "node_id": "MDQ6VXNlcjEyNzE0OTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1271492?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kevina",
      "html_url": "https://github.com/kevina",
      "followers_url": "https://api.github.com/users/kevina/followers",
      "following_url": "https://api.github.com/users/kevina/following{/other_user}",
      "gists_url": "https://api.github.com/users/kevina/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kevina/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kevina/subscriptions",
      "organizations_url": "https://api.github.com/users/kevina/orgs",
      "repos_url": "https://api.github.com/users/kevina/repos",
      "events_url": "https://api.github.com/users/kevina/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kevina/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-01-05T05:39:32Z",
    "updated_at": "2012-01-05T05:40:28Z",
    "body": "Fixed trans_var, trans_constant already fixed, let me know if I missed something there.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3365872/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3365945",
    "html_url": "https://github.com/rust-lang/rust/pull/1397#issuecomment-3365945",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/1397",
    "id": 3365945,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNjU5NDU=",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-01-05T05:50:23Z",
    "updated_at": "2012-01-05T05:50:23Z",
    "body": "oh, right, that was in your original patch. sorry about that.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3365945/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3400564",
    "html_url": "https://github.com/rust-lang/rust/pull/1397#issuecomment-3400564",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/1397",
    "id": 3400564,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0MDA1NjQ=",
    "user": {
      "login": "kevina",
      "id": 1271492,
      "node_id": "MDQ6VXNlcjEyNzE0OTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1271492?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kevina",
      "html_url": "https://github.com/kevina",
      "followers_url": "https://api.github.com/users/kevina/followers",
      "following_url": "https://api.github.com/users/kevina/following{/other_user}",
      "gists_url": "https://api.github.com/users/kevina/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kevina/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kevina/subscriptions",
      "organizations_url": "https://api.github.com/users/kevina/orgs",
      "repos_url": "https://api.github.com/users/kevina/repos",
      "events_url": "https://api.github.com/users/kevina/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kevina/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-01-08T06:14:15Z",
    "updated_at": "2012-01-08T06:15:58Z",
    "body": "I added encoding of discriminator in crate metadata see commit 2537537.\n\nWith that I think this pull request is about ready to be accepted.  Note that rust with valgrind is failing on my machine so I can't test my changes with valgrind.\n\nIf you are happy with everything please let me know so I can rebase (likely just squash everything into one commit) before it gets accepted.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3400564/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3425323",
    "html_url": "https://github.com/rust-lang/rust/pull/1397#issuecomment-3425323",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/1397",
    "id": 3425323,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0MjUzMjM=",
    "user": {
      "login": "kevina",
      "id": 1271492,
      "node_id": "MDQ6VXNlcjEyNzE0OTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1271492?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kevina",
      "html_url": "https://github.com/kevina",
      "followers_url": "https://api.github.com/users/kevina/followers",
      "following_url": "https://api.github.com/users/kevina/following{/other_user}",
      "gists_url": "https://api.github.com/users/kevina/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kevina/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kevina/subscriptions",
      "organizations_url": "https://api.github.com/users/kevina/orgs",
      "repos_url": "https://api.github.com/users/kevina/repos",
      "events_url": "https://api.github.com/users/kevina/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kevina/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-01-10T05:03:43Z",
    "updated_at": "2012-01-10T08:09:05Z",
    "body": "After several hours of digging I finally figured out how to get the disr. value out of a tag value, hence...\n\nI added support for casting tag types to scalar values, but only when they are \"enum-like\", that is all constructors are nullary.\n\nSafely going the other way is a lot more complicated as somehow a check needs to be made that the scalar value is within the range of values the enum-like type represents.\n\nAgain, need to rebase before this gets accepted, so please let me know.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3425323/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3437494",
    "html_url": "https://github.com/rust-lang/rust/pull/1397#issuecomment-3437494",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/1397",
    "id": 3437494,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0Mzc0OTQ=",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-01-10T21:37:20Z",
    "updated_at": "2012-01-10T21:37:20Z",
    "body": "I would like to see us remove the global variables that store the discriminant IDs per variant.  \n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3437494/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3437506",
    "html_url": "https://github.com/rust-lang/rust/pull/1397#issuecomment-3437506",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/1397",
    "id": 3437506,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0Mzc1MDY=",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-01-10T21:37:48Z",
    "updated_at": "2012-01-10T21:37:48Z",
    "body": "However, that could conceivably wait till later... but we should at least open an issue after incorporating the pull request.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3437506/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3438675",
    "html_url": "https://github.com/rust-lang/rust/pull/1397#issuecomment-3438675",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/1397",
    "id": 3438675,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0Mzg2NzU=",
    "user": {
      "login": "kevina",
      "id": 1271492,
      "node_id": "MDQ6VXNlcjEyNzE0OTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1271492?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kevina",
      "html_url": "https://github.com/kevina",
      "followers_url": "https://api.github.com/users/kevina/followers",
      "following_url": "https://api.github.com/users/kevina/following{/other_user}",
      "gists_url": "https://api.github.com/users/kevina/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kevina/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kevina/subscriptions",
      "organizations_url": "https://api.github.com/users/kevina/orgs",
      "repos_url": "https://api.github.com/users/kevina/repos",
      "events_url": "https://api.github.com/users/kevina/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kevina/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-01-10T22:47:21Z",
    "updated_at": "2012-01-10T22:47:21Z",
    "body": "Okay, I just rebased. As I feared Graydon's comments on commit 1678b109 were lost.\n\nI think it is ready to go.\n\nNiko: I opened an issue for removing global variables that store the discriminant IDs per variant (#1488).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3438675/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3438910",
    "html_url": "https://github.com/rust-lang/rust/pull/1397#issuecomment-3438910",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/1397",
    "id": 3438910,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0Mzg5MTA=",
    "user": {
      "login": "kevina",
      "id": 1271492,
      "node_id": "MDQ6VXNlcjEyNzE0OTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1271492?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kevina",
      "html_url": "https://github.com/kevina",
      "followers_url": "https://api.github.com/users/kevina/followers",
      "following_url": "https://api.github.com/users/kevina/following{/other_user}",
      "gists_url": "https://api.github.com/users/kevina/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kevina/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kevina/subscriptions",
      "organizations_url": "https://api.github.com/users/kevina/orgs",
      "repos_url": "https://api.github.com/users/kevina/repos",
      "events_url": "https://api.github.com/users/kevina/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kevina/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-01-10T23:02:09Z",
    "updated_at": "2012-01-10T23:02:09Z",
    "body": "Actually the comments are not lost, find the comments here: https://github.com/kevinatk/rust/commit/1678b109.\n\nThe autolink pointed to the commit in grayton/rust even though that commit should't exist in that repo, odd.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3438910/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3439865",
    "html_url": "https://github.com/rust-lang/rust/pull/1397#issuecomment-3439865",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/1397",
    "id": 3439865,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0Mzk4NjU=",
    "user": {
      "login": "graydon",
      "id": 14097,
      "node_id": "MDQ6VXNlcjE0MDk3",
      "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/graydon",
      "html_url": "https://github.com/graydon",
      "followers_url": "https://api.github.com/users/graydon/followers",
      "following_url": "https://api.github.com/users/graydon/following{/other_user}",
      "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/graydon/subscriptions",
      "organizations_url": "https://api.github.com/users/graydon/orgs",
      "repos_url": "https://api.github.com/users/graydon/repos",
      "events_url": "https://api.github.com/users/graydon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/graydon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-01-11T00:17:10Z",
    "updated_at": "2012-01-11T00:17:10Z",
    "body": "Integrated, thanks.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3439865/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
