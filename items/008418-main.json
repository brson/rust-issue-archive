{
  "url": "https://api.github.com/repos/rust-lang/rust/issues/8418",
  "repository_url": "https://api.github.com/repos/rust-lang/rust",
  "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/8418/labels{/name}",
  "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/8418/comments",
  "events_url": "https://api.github.com/repos/rust-lang/rust/issues/8418/events",
  "html_url": "https://github.com/rust-lang/rust/pull/8418",
  "id": 17874640,
  "node_id": "MDExOlB1bGxSZXF1ZXN0NzUxMDUzMw==",
  "number": 8418,
  "title": "Add parse-error recovery for erroneous `struct_id { }` form.",
  "user": {
    "login": "pnkfelix",
    "id": 173127,
    "node_id": "MDQ6VXNlcjE3MzEyNw==",
    "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/pnkfelix",
    "html_url": "https://github.com/pnkfelix",
    "followers_url": "https://api.github.com/users/pnkfelix/followers",
    "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
    "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
    "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
    "repos_url": "https://api.github.com/users/pnkfelix/repos",
    "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
    "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "labels": [],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [],
  "milestone": null,
  "comments": 1,
  "created_at": "2013-08-09T17:14:28Z",
  "updated_at": "2014-06-17T10:06:52Z",
  "closed_at": "2013-08-12T11:14:14Z",
  "author_association": "CONTRIBUTOR",
  "type": null,
  "active_lock_reason": null,
  "draft": false,
  "pull_request": {
    "url": "https://api.github.com/repos/rust-lang/rust/pulls/8418",
    "html_url": "https://github.com/rust-lang/rust/pull/8418",
    "diff_url": "https://github.com/rust-lang/rust/pull/8418.diff",
    "patch_url": "https://github.com/rust-lang/rust/pull/8418.patch",
    "merged_at": null
  },
  "body": "Fix #3192.  r? anyone\n\nThere are 4 different new tests, to check some different scenarios for\nwhat the parse context is at the time of recovery, becasue our\ncompile-fail infrastructure does not appear to handle verifying\nerror-recovery situations.\n\nDifferentiate between unit-like struct definition item and unit-like\nstruct construction in the error message.\n\n---\n\nMore generally, outlines a more generic strategy for parse error\nrecovery: By committing to an expression/statement at set points in\nthe parser, we can then do some look-ahead to catch common mistakes\nand skip over them.\n\nOne detail about this strategy is that you want to avoid emitting the\n\"helpful\" message unless the input is reasonably close to the case of\ninterest.  (E.g. do not warn about a potential unit struct for an\ninput of the form `let hmm = do foo { } { };`)\n\nTo accomplish this, I added (partial) last_token tracking; used for\n`commit_stmt` support.\n\nThe check_for_erroneous_unit_struct_expecting fn returns bool to\nsignal whether it \"made progress\"; currently unused; this is meant for\nuse to compose several such recovery checks together in a loop.\n",
  "closed_by": {
    "login": "bors",
    "id": 3372342,
    "node_id": "MDQ6VXNlcjMzNzIzNDI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/bors",
    "html_url": "https://github.com/bors",
    "followers_url": "https://api.github.com/users/bors/followers",
    "following_url": "https://api.github.com/users/bors/following{/other_user}",
    "gists_url": "https://api.github.com/users/bors/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bors/subscriptions",
    "organizations_url": "https://api.github.com/users/bors/orgs",
    "repos_url": "https://api.github.com/users/bors/repos",
    "events_url": "https://api.github.com/users/bors/events{/privacy}",
    "received_events_url": "https://api.github.com/users/bors/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/8418/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/8418/timeline",
  "performed_via_github_app": null,
  "state_reason": null,
  "_meta": {
    "type": "pr"
  }
}
