[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/12860259",
    "html_url": "https://github.com/rust-lang/rust/issues/4666#issuecomment-12860259",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/4666",
    "id": 12860259,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyODYwMjU5",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-01-29T21:50:27Z",
    "updated_at": "2013-01-29T21:50:27Z",
    "body": "This is probably caused by #3850 \n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/12860259/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/13034894",
    "html_url": "https://github.com/rust-lang/rust/issues/4666#issuecomment-13034894",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/4666",
    "id": 13034894,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMDM0ODk0",
    "user": {
      "login": "erickt",
      "id": 84711,
      "node_id": "MDQ6VXNlcjg0NzEx",
      "avatar_url": "https://avatars.githubusercontent.com/u/84711?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/erickt",
      "html_url": "https://github.com/erickt",
      "followers_url": "https://api.github.com/users/erickt/followers",
      "following_url": "https://api.github.com/users/erickt/following{/other_user}",
      "gists_url": "https://api.github.com/users/erickt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/erickt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/erickt/subscriptions",
      "organizations_url": "https://api.github.com/users/erickt/orgs",
      "repos_url": "https://api.github.com/users/erickt/repos",
      "events_url": "https://api.github.com/users/erickt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/erickt/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-02-02T18:26:23Z",
    "updated_at": "2013-02-02T18:26:23Z",
    "body": "I may or may be running into this same problem with this code:\n\n```\nstruct A { a: int }\n\nstruct B { a: &A }\n\nimpl B {\n    fn next1(&mut self) { }\n    fn next2(self) -> B/&self { let B { a: a } = self; B { a: a } }\n}\n\nfn main() {\n    let a = A { a: 0 };\n    let mut b = B { a: &a };\n    //b.next1(); b.next1();\n    //for uint::range(0, 1) |_| { b.next1(); }\n    //b = b.next2(); b = b.next2();\n}\n```\n\nThis errors with:\n\n```\ntest.rs:13:15: 13:16 error: loan of mutable local variable as mutable conflicts with prior loan\ntest.rs:13     b.next1(); b.next1();\n                          ^\ntest.rs:13:4: 13:5 note: prior loan as mutable granted here\ntest.rs:13     b.next1(); b.next1();\n               ^\nerror: aborting due to previous error\n```\n\nHowever, if instead I use the commented out closure, it compiles fine. Likewise, if I move out of self, it also compiles fine.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/13034894/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/15359813",
    "html_url": "https://github.com/rust-lang/rust/issues/4666#issuecomment-15359813",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/4666",
    "id": 15359813,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MzU5ODEz",
    "user": {
      "login": "Dretch",
      "id": 1428731,
      "node_id": "MDQ6VXNlcjE0Mjg3MzE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1428731?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Dretch",
      "html_url": "https://github.com/Dretch",
      "followers_url": "https://api.github.com/users/Dretch/followers",
      "following_url": "https://api.github.com/users/Dretch/following{/other_user}",
      "gists_url": "https://api.github.com/users/Dretch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Dretch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Dretch/subscriptions",
      "organizations_url": "https://api.github.com/users/Dretch/orgs",
      "repos_url": "https://api.github.com/users/Dretch/repos",
      "events_url": "https://api.github.com/users/Dretch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Dretch/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-03-24T14:31:58Z",
    "updated_at": "2013-03-24T14:31:58Z",
    "body": "I think I may be having the same issue.\n\nI think this code should compile, but it doesn't:\n\n```\nstruct MyStruct {}\n\nimpl MyStruct {\n\n    fn takes_mut_self(&mut self, _x:int) {}\n\n    fn takes_self(&self) -> int { 42 }\n\n    fn also_takes_mut_self(&mut self) {\n        self.takes_mut_self(self.takes_self());\n    }\n\n}\n\nfn main() {}\n```\n\nThe error rustc produces is:\n\n```\nmut-self-issues.rs:12:28: 12:32 error: loan of dereference of mutable & pointer as immutable conflicts with prior loan\nmut-self-issues.rs:12         self.takes_mut_self(self.takes_self());\n                                                  ^~~~\nmut-self-issues.rs:12:8: 12:12 note: prior loan as mutable granted here\nmut-self-issues.rs:12         self.takes_mut_self(self.takes_self());\n                              ^~~~\nerror: aborting due to previous error\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/15359813/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/15366884",
    "html_url": "https://github.com/rust-lang/rust/issues/4666#issuecomment-15366884",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/4666",
    "id": 15366884,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MzY2ODg0",
    "user": {
      "login": "jdm",
      "id": 27658,
      "node_id": "MDQ6VXNlcjI3NjU4",
      "avatar_url": "https://avatars.githubusercontent.com/u/27658?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jdm",
      "html_url": "https://github.com/jdm",
      "followers_url": "https://api.github.com/users/jdm/followers",
      "following_url": "https://api.github.com/users/jdm/following{/other_user}",
      "gists_url": "https://api.github.com/users/jdm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jdm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jdm/subscriptions",
      "organizations_url": "https://api.github.com/users/jdm/orgs",
      "repos_url": "https://api.github.com/users/jdm/repos",
      "events_url": "https://api.github.com/users/jdm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jdm/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-03-24T19:41:25Z",
    "updated_at": "2013-03-24T19:41:25Z",
    "body": "That's the general flow-control problem that currently exists. It's going away with the borrowchecker changes that haven't landed yet; until then, you can work around it by assigning the result of the takes_self calls to temporaries and passing those instead.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/15366884/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/17226776",
    "html_url": "https://github.com/rust-lang/rust/issues/4666#issuecomment-17226776",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/4666",
    "id": 17226776,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MjI2Nzc2",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-04-30T13:26:14Z",
    "updated_at": "2013-04-30T13:26:14Z",
    "body": "Part of #5074 (fix coming soon)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/17226776/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/17551454",
    "html_url": "https://github.com/rust-lang/rust/issues/4666#issuecomment-17551454",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/4666",
    "id": 17551454,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3NTUxNDU0",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-05-07T15:58:52Z",
    "updated_at": "2013-05-07T15:58:52Z",
    "body": "This bug is mostly fixed. Some of the examples (Such as `fun3` in the original code) still do not work, due to https://github.com/mozilla/rust/issues/6268. I will post a PR soon closing the issue and adding a test.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/17551454/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/17752025",
    "html_url": "https://github.com/rust-lang/rust/issues/4666#issuecomment-17752025",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/4666",
    "id": 17752025,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3NzUyMDI1",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-05-11T01:22:15Z",
    "updated_at": "2013-05-11T01:22:15Z",
    "body": "Awesome, thanks @nikomatsakis!\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/17752025/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
