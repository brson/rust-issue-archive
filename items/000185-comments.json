[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/606755",
    "html_url": "https://github.com/rust-lang/rust/pull/185#issuecomment-606755",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/185",
    "id": 606755,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwNjc1NQ==",
    "user": {
      "login": "graydon",
      "id": 14097,
      "node_id": "MDQ6VXNlcjE0MDk3",
      "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/graydon",
      "html_url": "https://github.com/graydon",
      "followers_url": "https://api.github.com/users/graydon/followers",
      "following_url": "https://api.github.com/users/graydon/following{/other_user}",
      "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/graydon/subscriptions",
      "organizations_url": "https://api.github.com/users/graydon/orgs",
      "repos_url": "https://api.github.com/users/graydon/repos",
      "events_url": "https://api.github.com/users/graydon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/graydon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2010-12-12T20:29:19Z",
    "updated_at": "2010-12-12T20:29:19Z",
    "body": "This is great. Sorry for the slow uptake; got side tracked the past week and this fell through the cracks. Can you file a contributor form with the foundation? It's just a blanket declaration of IP originator-ship on anything you contribute. Only has to be done once.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/606755/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/607286",
    "html_url": "https://github.com/rust-lang/rust/pull/185#issuecomment-607286",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/185",
    "id": 607286,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwNzI4Ng==",
    "user": {
      "login": "gmfawcett",
      "id": 49970,
      "node_id": "MDQ6VXNlcjQ5OTcw",
      "avatar_url": "https://avatars.githubusercontent.com/u/49970?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gmfawcett",
      "html_url": "https://github.com/gmfawcett",
      "followers_url": "https://api.github.com/users/gmfawcett/followers",
      "following_url": "https://api.github.com/users/gmfawcett/following{/other_user}",
      "gists_url": "https://api.github.com/users/gmfawcett/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gmfawcett/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gmfawcett/subscriptions",
      "organizations_url": "https://api.github.com/users/gmfawcett/orgs",
      "repos_url": "https://api.github.com/users/gmfawcett/repos",
      "events_url": "https://api.github.com/users/gmfawcett/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gmfawcett/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2010-12-13T03:00:30Z",
    "updated_at": "2010-12-13T03:00:30Z",
    "body": "I'm glad you're happy with the patch! \n\nI've just submitted a CA to Mozilla.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/607286/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/653782",
    "html_url": "https://github.com/rust-lang/rust/pull/185#issuecomment-653782",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/185",
    "id": 653782,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1Mzc4Mg==",
    "user": {
      "login": "graydon",
      "id": 14097,
      "node_id": "MDQ6VXNlcjE0MDk3",
      "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/graydon",
      "html_url": "https://github.com/graydon",
      "followers_url": "https://api.github.com/users/graydon/followers",
      "following_url": "https://api.github.com/users/graydon/following{/other_user}",
      "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/graydon/subscriptions",
      "organizations_url": "https://api.github.com/users/graydon/orgs",
      "repos_url": "https://api.github.com/users/graydon/repos",
      "events_url": "https://api.github.com/users/graydon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/graydon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2011-01-05T01:32:09Z",
    "updated_at": "2011-01-05T01:32:09Z",
    "body": "Hi,\n\nWe've received your committer agreement, thanks. A few points:\n\nFirst, it's best to make a separate branch and rebase that branch forwards while it's waiting for me to integrate. As presented, this change requires me to cherry-pick just the commit in question, which is not ideal for history-keeping, and gets cumbersome with multiple commits on a branch.\n\nSecond, the change doesn't, unfortunately, work. It's close but there are a couple bugs. Aside from a new test being added since your patch (which needs updating to handle it), there's a bigger issue that the yield and join upcalls have ... quite intimate knowledge of the call stack that's calling them. If you try running 'make check' on linux with valgrind, you'll see the tests generate memory faults.\n\nWhat's happening is that the upcalls eventually call task->yield(), which is very specific about having to know how many args are in its caller's frame, and assumes that its caller is a cross-stack call (rust-to-C). Since you're violating both of those assumptions by indirecting through builtin_yield and builtin_join, it doesn't work.\n\nI've tried moving the code in question out of rust_upcall and into rust_builtin (\"upcall\" as a term we try to reserve for calls-the-compiler-synthesizes) and it .. works slightly better. But I still get valgrind errors. Not sure what else is going wrong.\n\nI'll be around over the next few days if you want to diagnose this further, figure out what's up. Sorry, yielding (safely descheduling a task mid-call) is the most delicate code-path in the runtime. It's devilishly hard to get right.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/653782/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/853447",
    "html_url": "https://github.com/rust-lang/rust/pull/185#issuecomment-853447",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/185",
    "id": 853447,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg1MzQ0Nw==",
    "user": {
      "login": "gmfawcett",
      "id": 49970,
      "node_id": "MDQ6VXNlcjQ5OTcw",
      "avatar_url": "https://avatars.githubusercontent.com/u/49970?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gmfawcett",
      "html_url": "https://github.com/gmfawcett",
      "followers_url": "https://api.github.com/users/gmfawcett/followers",
      "following_url": "https://api.github.com/users/gmfawcett/following{/other_user}",
      "gists_url": "https://api.github.com/users/gmfawcett/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gmfawcett/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gmfawcett/subscriptions",
      "organizations_url": "https://api.github.com/users/gmfawcett/orgs",
      "repos_url": "https://api.github.com/users/gmfawcett/repos",
      "events_url": "https://api.github.com/users/gmfawcett/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gmfawcett/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2011-03-09T21:21:14Z",
    "updated_at": "2011-03-09T21:21:14Z",
    "body": "Hey graydon, \n\nSorry for the very slow response, it's been a hectic season. Given these issues, please let's reject my pull request. If I can revisit this, and fix the bugs, I'll submit a new request in the spring. [Marking this request closed.]\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/853447/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
