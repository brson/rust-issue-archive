{
  "url": "https://api.github.com/repos/rust-lang/rust/issues/18688",
  "repository_url": "https://api.github.com/repos/rust-lang/rust",
  "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/18688/labels{/name}",
  "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/18688/comments",
  "events_url": "https://api.github.com/repos/rust-lang/rust/issues/18688/events",
  "html_url": "https://github.com/rust-lang/rust/pull/18688",
  "id": 47935677,
  "node_id": "MDExOlB1bGxSZXF1ZXN0MjM5NjU3NDI=",
  "number": 18688,
  "title": "Fix two unboxed closure ICEs",
  "user": {
    "login": "bkoropoff",
    "id": 2101303,
    "node_id": "MDQ6VXNlcjIxMDEzMDM=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2101303?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/bkoropoff",
    "html_url": "https://github.com/bkoropoff",
    "followers_url": "https://api.github.com/users/bkoropoff/followers",
    "following_url": "https://api.github.com/users/bkoropoff/following{/other_user}",
    "gists_url": "https://api.github.com/users/bkoropoff/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/bkoropoff/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bkoropoff/subscriptions",
    "organizations_url": "https://api.github.com/users/bkoropoff/orgs",
    "repos_url": "https://api.github.com/users/bkoropoff/repos",
    "events_url": "https://api.github.com/users/bkoropoff/events{/privacy}",
    "received_events_url": "https://api.github.com/users/bkoropoff/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "labels": [],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "nikomatsakis",
    "id": 155238,
    "node_id": "MDQ6VXNlcjE1NTIzOA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nikomatsakis",
    "html_url": "https://github.com/nikomatsakis",
    "followers_url": "https://api.github.com/users/nikomatsakis/followers",
    "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
    "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
    "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
    "repos_url": "https://api.github.com/users/nikomatsakis/repos",
    "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
    "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2014-11-06T08:39:27Z",
  "updated_at": "2014-11-07T22:36:47Z",
  "closed_at": "2014-11-07T22:36:38Z",
  "author_association": "CONTRIBUTOR",
  "type": null,
  "active_lock_reason": null,
  "draft": false,
  "pull_request": {
    "url": "https://api.github.com/repos/rust-lang/rust/pulls/18688",
    "html_url": "https://github.com/rust-lang/rust/pull/18688",
    "diff_url": "https://github.com/rust-lang/rust/pull/18688.diff",
    "patch_url": "https://github.com/rust-lang/rust/pull/18688.patch",
    "merged_at": "2014-11-07T22:36:47Z"
  },
  "body": "This resolves some issues that remained after adding support for monomorphizing unboxed closures in trans.\n\nThere were a few places where a set of substitutions for an unboxed closure type were dropped on the floor and later recalculated from scratch based on the def ID, but this failed spectacularly when the closure originated from a different param environment.  The substitutions are now plumbed through end-to-end.  Closes #18661\n\nThere was also a conflict in the meaning of the self param space within the body of the unboxed closure.  Trans attempted to insert the unboxed closure type as the self type, but this could conflict with the self type from the param environment when an unboxed closure was used within a default method on a trait.  Since the body of an unboxed closure cannot refer to its own self type or value, there's no need for it to actually use the self space.  The downstream consumers of the substitutions in trans do not seem to need it either since they look up the type of the closure some other way, so I just stopped setting it.  Closes #18685.\n\nr? @pcwalton @nikomatsakis \n",
  "closed_by": {
    "login": "bors",
    "id": 3372342,
    "node_id": "MDQ6VXNlcjMzNzIzNDI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/bors",
    "html_url": "https://github.com/bors",
    "followers_url": "https://api.github.com/users/bors/followers",
    "following_url": "https://api.github.com/users/bors/following{/other_user}",
    "gists_url": "https://api.github.com/users/bors/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bors/subscriptions",
    "organizations_url": "https://api.github.com/users/bors/orgs",
    "repos_url": "https://api.github.com/users/bors/repos",
    "events_url": "https://api.github.com/users/bors/events{/privacy}",
    "received_events_url": "https://api.github.com/users/bors/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/18688/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/18688/timeline",
  "performed_via_github_app": null,
  "state_reason": null,
  "_meta": {
    "type": "pr"
  }
}
