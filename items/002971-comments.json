[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/7122071",
    "html_url": "https://github.com/rust-lang/rust/issues/2971#issuecomment-7122071",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/2971",
    "id": 7122071,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxMjIwNzE=",
    "user": {
      "login": "pcwalton",
      "id": 157897,
      "node_id": "MDQ6VXNlcjE1Nzg5Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/157897?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pcwalton",
      "html_url": "https://github.com/pcwalton",
      "followers_url": "https://api.github.com/users/pcwalton/followers",
      "following_url": "https://api.github.com/users/pcwalton/following{/other_user}",
      "gists_url": "https://api.github.com/users/pcwalton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pcwalton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pcwalton/subscriptions",
      "organizations_url": "https://api.github.com/users/pcwalton/orgs",
      "repos_url": "https://api.github.com/users/pcwalton/repos",
      "events_url": "https://api.github.com/users/pcwalton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pcwalton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-07-20T04:23:59Z",
    "updated_at": "2012-07-20T04:23:59Z",
    "body": "Note that you could still of course write ptr::null in unsafe code by reinterpret_casting between numbers and pointers.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/7122071/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/7123101",
    "html_url": "https://github.com/rust-lang/rust/issues/2971#issuecomment-7123101",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/2971",
    "id": 7123101,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxMjMxMDE=",
    "user": {
      "login": "jruderman",
      "id": 692547,
      "node_id": "MDQ6VXNlcjY5MjU0Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/692547?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jruderman",
      "html_url": "https://github.com/jruderman",
      "followers_url": "https://api.github.com/users/jruderman/followers",
      "following_url": "https://api.github.com/users/jruderman/following{/other_user}",
      "gists_url": "https://api.github.com/users/jruderman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jruderman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jruderman/subscriptions",
      "organizations_url": "https://api.github.com/users/jruderman/orgs",
      "repos_url": "https://api.github.com/users/jruderman/repos",
      "events_url": "https://api.github.com/users/jruderman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jruderman/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-07-20T06:14:00Z",
    "updated_at": "2012-07-20T06:14:00Z",
    "body": "When would you want to do that instead of writing `option(none)`?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/7123101/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/7133599",
    "html_url": "https://github.com/rust-lang/rust/issues/2971#issuecomment-7133599",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/2971",
    "id": 7133599,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxMzM1OTk=",
    "user": {
      "login": "pcwalton",
      "id": 157897,
      "node_id": "MDQ6VXNlcjE1Nzg5Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/157897?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pcwalton",
      "html_url": "https://github.com/pcwalton",
      "followers_url": "https://api.github.com/users/pcwalton/followers",
      "following_url": "https://api.github.com/users/pcwalton/following{/other_user}",
      "gists_url": "https://api.github.com/users/pcwalton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pcwalton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pcwalton/subscriptions",
      "organizations_url": "https://api.github.com/users/pcwalton/orgs",
      "repos_url": "https://api.github.com/users/pcwalton/repos",
      "events_url": "https://api.github.com/users/pcwalton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pcwalton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-07-20T15:48:15Z",
    "updated_at": "2012-07-20T15:48:15Z",
    "body": "No reason, I'm just noting we can't prevent folks from creating null\npointers in unsafe code.\nOn Jul 19, 2012 11:14 PM, \"Jesse Ruderman\" <\nreply@reply.github.com>\nwrote:\n\n> When would you want to do that instead of writing `option(none)`?\n> \n> ---\n> \n> Reply to this email directly or view it on GitHub:\n> https://github.com/mozilla/rust/issues/2971#issuecomment-7123101\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/7133599/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/7134981",
    "html_url": "https://github.com/rust-lang/rust/issues/2971#issuecomment-7134981",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/2971",
    "id": 7134981,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxMzQ5ODE=",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-07-20T16:44:09Z",
    "updated_at": "2012-07-20T16:44:09Z",
    "body": "I don't know how this would work for C functions that return pointers.  It seems like the null-ness would be \"documented\" in the return type.  This cannot be automatically determined by bindgen, however, and so we would end up with a lot of option types, making code that interfaces with C more annoying to write.  Removing those option types would give people the illusion of safety (I can't get null pointer derefs! Even in unsafe code!) in trade for convenience, always a bad tradeoff as people tend to favor convenience.  For this reason, I am opposed though I like the idea in spirit.  Going to close, feel free to re-open if you feel my argument is unpersuasive.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/7134981/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/60538356",
    "html_url": "https://github.com/rust-lang/rust/issues/2971#issuecomment-60538356",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/2971",
    "id": 60538356,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwNTM4MzU2",
    "user": {
      "login": "Diggsey",
      "id": 451321,
      "node_id": "MDQ6VXNlcjQ1MTMyMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/451321?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Diggsey",
      "html_url": "https://github.com/Diggsey",
      "followers_url": "https://api.github.com/users/Diggsey/followers",
      "following_url": "https://api.github.com/users/Diggsey/following{/other_user}",
      "gists_url": "https://api.github.com/users/Diggsey/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Diggsey/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Diggsey/subscriptions",
      "organizations_url": "https://api.github.com/users/Diggsey/orgs",
      "repos_url": "https://api.github.com/users/Diggsey/repos",
      "events_url": "https://api.github.com/users/Diggsey/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Diggsey/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-10-27T00:01:35Z",
    "updated_at": "2014-10-27T00:01:35Z",
    "body": "It would be possible to avoid that by having the compiler force the use of \"Option<T*>\" instead of just \"T*\" when binding to C code. It's more verbose, but:\n- It avoids confusion about whether the value can be null\n- It's consistent with the other pointer types\n- It encourages you to handle the null case (can't just dereference)\n- Handling the null case is cleaner (via match)\n- It allows the non-nullable value optimisation on raw pointers\n- It only occurs in cases where clarity is more important than conciceness\n- In many of these cases the C bindings will be automatically generated, so it's doesn't matter if it's slightly more verbose\n- Null checks are only needed at the boundary between C and Rust code, rather than in every piece of unsafe code dealing with raw pointers\n- Function pointers (as well as every other pointer type in Rust) are already non-nullable, consistency is important.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/60538356/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
