[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/71066609",
    "html_url": "https://github.com/rust-lang/rust/issues/20549#issuecomment-71066609",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20549",
    "id": 71066609,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxMDY2NjA5",
    "user": {
      "login": "thesam",
      "id": 667010,
      "node_id": "MDQ6VXNlcjY2NzAxMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/667010?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thesam",
      "html_url": "https://github.com/thesam",
      "followers_url": "https://api.github.com/users/thesam/followers",
      "following_url": "https://api.github.com/users/thesam/following{/other_user}",
      "gists_url": "https://api.github.com/users/thesam/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thesam/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thesam/subscriptions",
      "organizations_url": "https://api.github.com/users/thesam/orgs",
      "repos_url": "https://api.github.com/users/thesam/repos",
      "events_url": "https://api.github.com/users/thesam/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thesam/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-22T18:00:35Z",
    "updated_at": "2015-01-22T18:00:35Z",
    "body": "This happened to me as well, with an almost identical program.\n\n```\n#![no_std]\n#![feature(box_syntax)]\n#![feature(lang_items)]\n\n#[allow(unstable)]\nextern crate core;\n\nuse core::marker::Copy;\n\nfn main() {\n    let foo = box 5;\n}\n\n#[lang = \"stack_exhausted\"] extern fn stack_exhausted() {}\n#[lang = \"eh_personality\"] extern fn eh_personality() {}\n#[lang = \"panic_fmt\"] fn panic_fmt() -> ! { loop{} }\n```\n\nMore info:\n\n```\n$ RUST_BACKTRACE=1 rustc bug.rs\nerror: internal compiler error: unexpected panic\nnote: the compiler unexpectedly panicked. this is a bug.\nnote: we would appreciate a bug report: http://doc.rust-lang.org/complement-bugreport.html\nnote: run with `RUST_BACKTRACE=1` for a backtrace\nthread 'rustc' panicked at 'called `Option::unwrap()` on a `None` value', /home/rustbuild/src/rust-buildbot/slave/nightly-dist-rustc-linux/build/src/libcore/option.rs:361\n\nstack backtrace:\n   1:     0x7fd06dc3fa20 - sys::backtrace::write::h8a4dc9e73e8a435dvRt\n   2:     0x7fd06dc618c0 - failure::on_fail::h2ba8afb30d5ff67304z\n   3:     0x7fd06dbd0180 - rt::unwind::begin_unwind_inner::h312ad0c8f7e45209eKz\n   4:     0x7fd06dbd0cb0 - rt::unwind::begin_unwind_fmt::hb26174a8353d5ac1LIz\n   5:     0x7fd06dc61720 - rust_begin_unwind\n   6:     0x7fd06dcaa270 - panicking::panic_fmt::hcf948883f7aad095Prm\n   7:     0x7fd06dca74c0 - panicking::panic::hc4268c2fb464581aSpm\n   8:     0x7fd06bd8bb70 - middle::fast_reject::simplify_type::h7569aab642affa6aQ1n\n   9:     0x7fd06beaa810 - middle::traits::select::SelectionContext<'cx, 'tcx>::match_impl::h8c336050cd45a989NXR\n  10:     0x7fd06beb4850 - middle::traits::select::SelectionContext<'cx, 'tcx>::assemble_candidates_from_impls::unboxed_closure.76632\n  11:     0x7fd06beb18a0 - middle::traits::select::SelectionContext<'cx, 'tcx>::assemble_candidates_from_impls::h90169ef31b5ba3a3PIQ\n  12:     0x7fd06beae4f0 - middle::traits::select::SelectionContext<'cx, 'tcx>::assemble_candidates::h6f75fd8f92a0efc0JdQ\n  13:     0x7fd06bea1740 - middle::traits::select::SelectionContext<'cx, 'tcx>::candidate_from_obligation::h4cfba6bf61198452RSP\n  14:     0x7fd06be89fe0 - middle::traits::select::SelectionContext<'cx, 'tcx>::select::heded53003941f711TxP\n  15:     0x7fd06be86fd0 - middle::traits::fulfill::FulfillmentContext<'tcx>::select::ha822caaaaad61b90zGN\n  16:     0x7fd06be86900 - middle::traits::fulfill::FulfillmentContext<'tcx>::select_where_possible::h02cae374cd3da6feFFN\n  17:     0x7fd06bd63830 - middle::traits::fulfill::FulfillmentContext<'tcx>::select_all_or_error::h52641b14bbae077dGDN\n  18:     0x7fd06bec1910 - middle::traits::evaluate_builtin_bound::hcf040ef39f6235b1HmT\n  19:     0x7fd06bec21f0 - middle::traits::type_known_to_meet_builtin_bound::haca8abb2f46fa2902rT\n  20:     0x7fd06cc7eb50 - check::FnCtxt<'a, 'tcx>.mc..Typer<'tcx>::type_moves_by_default::hab346d0d97101078DCk\n  21:     0x7fd06bd521e0 - middle::expr_use_visitor::copy_or_move::hf546009675e54e40aIn\n  22:     0x7fd06cc7daf0 - middle::mem_categorization::MemCategorizationContext<'t, TYPER>::cat_pattern_::h17264932787913456602\n  23:     0x7fd06cc7d8a0 - middle::expr_use_visitor::ExprUseVisitor<'d, 't, 'tcx, TYPER>::determine_pat_move_mode::h3374001298130170265\n  24:     0x7fd06cc7d7f0 - middle::expr_use_visitor::ExprUseVisitor<'d, 't, 'tcx, TYPER>::walk_irrefutable_pat::h2621705422205095360\n  25:     0x7fd06cc81ec0 - middle::expr_use_visitor::ExprUseVisitor<'d, 't, 'tcx, TYPER>::walk_block::h2009545953353444490\n  26:     0x7fd06cc7b000 - check::upvar::AdjustBorrowKind<'a, 'tcx>::analyze_fn::hefaddfb947087b55Szi\n  27:     0x7fd06ccb0190 - check::check_bare_fn::hb4168c50feefe4f5fNk\n  28:     0x7fd06cca7d80 - check::check_item::hd2a7f68ea80a9d49S5k\n  29:     0x7fd06cd758a0 - check_crate::unboxed_closure.31151\n  30:     0x7fd06cd703d0 - check_crate::h75580db133241186Bpy\n  31:     0x7fd06e195470 - driver::phase_3_run_analysis_passes::h3ddac035093704e2WFa\n  32:     0x7fd06e182c90 - driver::compile_input::h8f87e6545ca866f1Cba\n  33:     0x7fd06e24d8e0 - run_compiler::h01aa999b613651f1l9b\n  34:     0x7fd06e24c050 - thunk::F.Invoke<A, R>::invoke::h5072366889563560254\n  35:     0x7fd06e24afb0 - rt::unwind::try::try_fn::h15081826542860147634\n  36:     0x7fd06dcc8930 - rust_try_inner\n  37:     0x7fd06dcc8920 - rust_try\n  38:     0x7fd06e24b260 - thunk::F.Invoke<A, R>::invoke::h301471058200503190\n  39:     0x7fd06dc4f550 - sys::thread::thread_start::h204ed77b5f1055c7QGw\n  40:     0x7fd067e510c0 - start_thread\n  41:     0x7fd06d870fd9 - __clone\n  42:                0x0 - <unknown>\n\n$ RUST_BACKTRACE=1 rustc --version --verbose bug.rs\nrustc 1.0.0-nightly (29bd9a06e 2015-01-20 23:03:09 +0000)\nbinary: rustc\ncommit-hash: 29bd9a06efd2f8c8a7b1102e2203cc0e6ae2dcba\ncommit-date: 2015-01-20 23:03:09 +0000\nhost: x86_64-unknown-linux-gnu\nrelease: 1.0.0-nightly\n```\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/71066609/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/71153972",
    "html_url": "https://github.com/rust-lang/rust/issues/20549#issuecomment-71153972",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20549",
    "id": 71153972,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxMTUzOTcy",
    "user": {
      "login": "thesam",
      "id": 667010,
      "node_id": "MDQ6VXNlcjY2NzAxMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/667010?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thesam",
      "html_url": "https://github.com/thesam",
      "followers_url": "https://api.github.com/users/thesam/followers",
      "following_url": "https://api.github.com/users/thesam/following{/other_user}",
      "gists_url": "https://api.github.com/users/thesam/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thesam/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thesam/subscriptions",
      "organizations_url": "https://api.github.com/users/thesam/orgs",
      "repos_url": "https://api.github.com/users/thesam/repos",
      "events_url": "https://api.github.com/users/thesam/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thesam/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-23T06:43:59Z",
    "updated_at": "2015-01-23T06:44:28Z",
    "body": "Following the backtrace, it looks like https://github.com/rust-lang/rust/blob/master/src/librustc/middle/fast_reject.rs#L72-76 assumes that the 'owned_box' lang item is always defined and calls unwrap(), triggering the panic.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/71153972/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/94976704",
    "html_url": "https://github.com/rust-lang/rust/issues/20549#issuecomment-94976704",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20549",
    "id": 94976704,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk0OTc2NzA0",
    "user": {
      "login": "tamird",
      "id": 1535036,
      "node_id": "MDQ6VXNlcjE1MzUwMzY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1535036?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tamird",
      "html_url": "https://github.com/tamird",
      "followers_url": "https://api.github.com/users/tamird/followers",
      "following_url": "https://api.github.com/users/tamird/following{/other_user}",
      "gists_url": "https://api.github.com/users/tamird/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tamird/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tamird/subscriptions",
      "organizations_url": "https://api.github.com/users/tamird/orgs",
      "repos_url": "https://api.github.com/users/tamird/repos",
      "events_url": "https://api.github.com/users/tamird/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tamird/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-21T23:53:18Z",
    "updated_at": "2015-04-21T23:53:27Z",
    "body": "Triage: still ICEs:\n\n``` rust\n#![no_std]\n#![feature(no_std,box_syntax,lang_items)]\n\nextern crate core;\n\n#[lang = \"stack_exhausted\"] extern fn stack_exhausted() {}\n#[lang = \"eh_personality\"] extern fn eh_personality() {}\n#[lang = \"panic_fmt\"] fn panic_fmt() -> ! { loop {} }\n\nfn main() {\n  let x = box 1;\n}\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/94976704/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
