[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/117643273",
    "html_url": "https://github.com/rust-lang/rust/issues/26707#issuecomment-117643273",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26707",
    "id": 117643273,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExNzY0MzI3Mw==",
    "user": {
      "login": "arielb1",
      "id": 1830974,
      "node_id": "MDQ6VXNlcjE4MzA5NzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1830974?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/arielb1",
      "html_url": "https://github.com/arielb1",
      "followers_url": "https://api.github.com/users/arielb1/followers",
      "following_url": "https://api.github.com/users/arielb1/following{/other_user}",
      "gists_url": "https://api.github.com/users/arielb1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/arielb1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/arielb1/subscriptions",
      "organizations_url": "https://api.github.com/users/arielb1/orgs",
      "repos_url": "https://api.github.com/users/arielb1/repos",
      "events_url": "https://api.github.com/users/arielb1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/arielb1/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-01T12:37:55Z",
    "updated_at": "2015-07-01T12:40:41Z",
    "body": "You can use relative paths instead of absolute paths:\n\n``` Rust\n#![feature(zero_one)]\n\nuse std::ops::{Not,Add,Sub,Shl,BitAnd,BitOr};\nuse std::num::{Zero,One};\n\nfn set_bits<T, I = T>(start: I, end: I, val: T) -> T\n    where T : Zero + One + Eq + Not<Output=T> + Sub<Output=T> + Shl<I, Output=T> \n                   + BitAnd<Output=T> + BitOr + Copy,\n          I : One + Add<Output=I> + Sub<Output=I> + Copy\n{\n    let len = end - start + I::one();\n    let mask = (T::one() << len) - T::one();\n    if !mask & val != T::zero() {\n        panic!(\"Stored value is larger then field\");\n    }\n    val << start\n}\n```\n\nAnyway, you can create  `Bits` trait manually:\n\n``` Rust\n#![feature(zero_one)]\n\nuse std::ops::{Not,Add,Sub,Shl,BitAnd,BitOr};\nuse std::num::{Zero,One};\n\npub trait Bits<I> : Zero + One + Eq + Not<Output=Self> + BitAnd<Output=Self>\n                     + BitOr<Output=Self> + Shl<I, Output=Self> + Copy {}\nimpl<T, I> Bits<I> for T where\n    T: Zero + One + Eq + Not<Output=T> + BitAnd<Output=T>\n            + BitOr<Output=T> + Shl<I, Output=T> + Copy {}\n\npub fn set_bits<T, I = T>(start: I, end: I, val: T) -> T\n    where T : Bits<I> + Sub<Output=T>,\n          I : One + Add<Output=I> + Sub<Output=I> + Copy\n{\n    let len = end - start + I::one();\n    let mask = (T::one() << len) - T::one();\n    if !mask & val != T::zero() {\n        panic!(\"Stored value is larger then field\");\n    }\n    val << start\n}\n\nfn main() {\n    println!(\"{:x}\", set_bits(4,12,0x1c));\n}\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/117643273/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/117859794",
    "html_url": "https://github.com/rust-lang/rust/issues/26707#issuecomment-117859794",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26707",
    "id": 117859794,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExNzg1OTc5NA==",
    "user": {
      "login": "uzytkownik",
      "id": 5706,
      "node_id": "MDQ6VXNlcjU3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/uzytkownik",
      "html_url": "https://github.com/uzytkownik",
      "followers_url": "https://api.github.com/users/uzytkownik/followers",
      "following_url": "https://api.github.com/users/uzytkownik/following{/other_user}",
      "gists_url": "https://api.github.com/users/uzytkownik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/uzytkownik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/uzytkownik/subscriptions",
      "organizations_url": "https://api.github.com/users/uzytkownik/orgs",
      "repos_url": "https://api.github.com/users/uzytkownik/repos",
      "events_url": "https://api.github.com/users/uzytkownik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/uzytkownik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-02T00:22:08Z",
    "updated_at": "2015-07-02T00:22:24Z",
    "body": "> Anyway, you can create Bits trait manually:\n\nYes, sure - that's what I intend to do for now. However:\n- operations on bits as bits seems very useful in system programming language and it seems that many people could benefit of having it in core. Currently even Haskell has it in standard library (of course the fact that language X has feature Y does not imply that Rust needs to have this feature).\n- this still does not solve the Wrapping issue (as a note - it looks like `1 << x` for `x >= 64` is UB for `Wrapping<u64>` despite that documentation suggest it would be 0).\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/117859794/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/263722339",
    "html_url": "https://github.com/rust-lang/rust/issues/26707#issuecomment-263722339",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26707",
    "id": 263722339,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MzcyMjMzOQ==",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-11-29T22:34:46Z",
    "updated_at": "2016-11-29T22:34:46Z",
    "body": "Triage:\r\n\r\nSo, first of all, almost all of these traits have been removed.\r\n\r\n>  It would be nice if there was a Bits<T, Index=I> trait which would provide functions to operate on bits \r\n\r\nThis does not exist today, though.\r\n\r\n> and Wrapping would use the same types as normal numerics.\r\n\r\n`Shl<usize>` is the only `Shl` implemented for `Wrapping` today.\r\n\r\nAdding new traits to the standard library usually requires an RFC, but I'm not entirely sure if the `Shl` stuff is just an oversight or not. @rust-lang/libs ?",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/263722339/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/345137125",
    "html_url": "https://github.com/rust-lang/rust/issues/26707#issuecomment-345137125",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26707",
    "id": 345137125,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NTEzNzEyNQ==",
    "user": {
      "login": "dtolnay",
      "id": 1940490,
      "node_id": "MDQ6VXNlcjE5NDA0OTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1940490?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dtolnay",
      "html_url": "https://github.com/dtolnay",
      "followers_url": "https://api.github.com/users/dtolnay/followers",
      "following_url": "https://api.github.com/users/dtolnay/following{/other_user}",
      "gists_url": "https://api.github.com/users/dtolnay/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dtolnay/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dtolnay/subscriptions",
      "organizations_url": "https://api.github.com/users/dtolnay/orgs",
      "repos_url": "https://api.github.com/users/dtolnay/repos",
      "events_url": "https://api.github.com/users/dtolnay/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dtolnay/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-11-17T03:42:20Z",
    "updated_at": "2017-11-17T03:42:20Z",
    "body": "I agree that the current approach that requires 13 trait bounds for `set_bits` is not ideal. Thanks for raising this issue!\r\n\r\nI am not confident that we will be able to reach consensus on a solution here -- somebody will need to propose a concrete solution in an [RFC](https://github.com/rust-lang/rfcs/blob/master/libs_changes.md).",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/345137125/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
