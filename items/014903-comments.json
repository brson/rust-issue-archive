[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46100976",
    "html_url": "https://github.com/rust-lang/rust/issues/14903#issuecomment-46100976",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14903",
    "id": 46100976,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MTAwOTc2",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-06-14T22:06:39Z",
    "updated_at": "2014-06-14T22:06:39Z",
    "body": "\"unsafe\" doesn't mean \"anything goes\". You can't call methods on types which have no method with that name, for example, or create a trait object out of a type which doens't implement the trait. This is a deliberate result of #14859 and #12898, closing as wontfix.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46100976/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46100989",
    "html_url": "https://github.com/rust-lang/rust/issues/14903#issuecomment-46100989",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14903",
    "id": 46100989,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MTAwOTg5",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-06-14T22:07:10Z",
    "updated_at": "2014-06-14T22:07:10Z",
    "body": "(Sorry)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46100989/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46101060",
    "html_url": "https://github.com/rust-lang/rust/issues/14903#issuecomment-46101060",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14903",
    "id": 46101060,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MTAxMDYw",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-06-14T22:12:13Z",
    "updated_at": "2014-06-14T22:12:13Z",
    "body": "[IRC](https://botbot.me/mozilla/rust/2014-06-14/?msg=16258070&page=20): \"okay then, then I think the core team needs to re-consider what they want with the language. in essence, things like this will send the message that \"the compiler knows better\", which will result in c/c++ people to not use the language.\"\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46101060/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46101067",
    "html_url": "https://github.com/rust-lang/rust/issues/14903#issuecomment-46101067",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14903",
    "id": 46101067,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MTAxMDY3",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-06-14T22:12:33Z",
    "updated_at": "2014-06-14T22:12:33Z",
    "body": "Reopening for discussion at a meeting, but I recommend wontfix/notabug.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46101067/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46101080",
    "html_url": "https://github.com/rust-lang/rust/issues/14903#issuecomment-46101080",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14903",
    "id": 46101080,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MTAxMDgw",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-06-14T22:13:37Z",
    "updated_at": "2014-06-14T22:13:37Z",
    "body": "In particular, this just revolves around the new restriction on the `transmute` intrinsic.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46101080/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46101131",
    "html_url": "https://github.com/rust-lang/rust/issues/14903#issuecomment-46101131",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14903",
    "id": 46101131,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MTAxMTMx",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-06-14T22:16:12Z",
    "updated_at": "2014-06-14T22:27:27Z",
    "body": "A function which does the same thing as the old `transmute`, although doesn't care about same-sizedness:\n\n``` rust\nuse std::{mem, ptr};\n\nunsafe fn transmute_harder<T, U>(from: T) -> U {\n    let mut to: U = mem::uninitialized();\n    // copy_memory and forget can't trigger failure, so `from` and `to` won't have destructor run\n    // extraneously\n    ptr::copy_memory(&mut to as *mut U, &from as *_ as *U, 1);\n    mem::forget(from);\n    to\n}\n\nstruct Plane<T> {\n    data: [T, ..4]\n}\n\nstruct Vec4<T> {\n    data: [T, ..4]\n}\n\nfn main() {\n    let plane = Plane { data: [1i, 2, 3, 4] };\n    let vec: Vec4<int> = unsafe { transmute_harder(plane) };\n    println!(\"{}\", vec.data.as_slice());\n}\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46101131/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46101790",
    "html_url": "https://github.com/rust-lang/rust/issues/14903#issuecomment-46101790",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14903",
    "id": 46101790,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MTAxNzkw",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-06-14T22:55:45Z",
    "updated_at": "2014-06-14T22:55:45Z",
    "body": "(You can use `ptr::read` rather than explicit `copy_memory` too.)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46101790/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46102732",
    "html_url": "https://github.com/rust-lang/rust/issues/14903#issuecomment-46102732",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14903",
    "id": 46102732,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MTAyNzMy",
    "user": {
      "login": "eddyb",
      "id": 77424,
      "node_id": "MDQ6VXNlcjc3NDI0",
      "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eddyb",
      "html_url": "https://github.com/eddyb",
      "followers_url": "https://api.github.com/users/eddyb/followers",
      "following_url": "https://api.github.com/users/eddyb/following{/other_user}",
      "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions",
      "organizations_url": "https://api.github.com/users/eddyb/orgs",
      "repos_url": "https://api.github.com/users/eddyb/repos",
      "events_url": "https://api.github.com/users/eddyb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eddyb/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-06-14T23:54:47Z",
    "updated_at": "2014-06-14T23:54:47Z",
    "body": "This exposed a more important issue: we don't emphasize enough that `unsafe` shouldn't be required for performance in many cases, and that premature micro-optimization should be avoided.\nI am glad for this change, as it removes many misuses of `transmute`.\n\nJust to point out how bad transmuting can be, I've done [a comparison](https://gist.github.com/eddyb/966355d332e579f0afa8), for this specific example.\nEven with `--opt-level=3`, it's still inferior to the safe code (the only remaining difference being the `tail` modifier on the call to `memcpy`.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46102732/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46103391",
    "html_url": "https://github.com/rust-lang/rust/issues/14903#issuecomment-46103391",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14903",
    "id": 46103391,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MTAzMzkx",
    "user": {
      "login": "engstad",
      "id": 4720457,
      "node_id": "MDQ6VXNlcjQ3MjA0NTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4720457?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/engstad",
      "html_url": "https://github.com/engstad",
      "followers_url": "https://api.github.com/users/engstad/followers",
      "following_url": "https://api.github.com/users/engstad/following{/other_user}",
      "gists_url": "https://api.github.com/users/engstad/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/engstad/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/engstad/subscriptions",
      "organizations_url": "https://api.github.com/users/engstad/orgs",
      "repos_url": "https://api.github.com/users/engstad/repos",
      "events_url": "https://api.github.com/users/engstad/events{/privacy}",
      "received_events_url": "https://api.github.com/users/engstad/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-06-15T00:39:28Z",
    "updated_at": "2014-06-15T00:44:04Z",
    "body": "Here's another example that now fails, in gl-rs. It was fixed by this commit: https://github.com/bjz/gl-rs/commit/b01df8e87d882303d1567276b9f552f4d09b9f45\n\n``` rust\npub struct FnPtr<F> { f: F, is_loaded: bool }\n\nimpl<F> FnPtr<F> {\n    pub fn new(ptr: Option<extern \"system\" fn()>, failing_fn: F) -> FnPtr<F> {\n        use std::mem::transmute;\n        match ptr {\n            std::option::Some(p) => FnPtr { f: unsafe { transmute(p) }, is_loaded: true },\n            None => FnPtr { f: failing_fn, is_loaded: false },\n        }\n    }\n}\n```\n\nThe idea here is to trampoline to the C-function if it exists, and to call the fail function if it doesn't.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46103391/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46108277",
    "html_url": "https://github.com/rust-lang/rust/issues/14903#issuecomment-46108277",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14903",
    "id": 46108277,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MTA4Mjc3",
    "user": {
      "login": "eddyb",
      "id": 77424,
      "node_id": "MDQ6VXNlcjc3NDI0",
      "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eddyb",
      "html_url": "https://github.com/eddyb",
      "followers_url": "https://api.github.com/users/eddyb/followers",
      "following_url": "https://api.github.com/users/eddyb/following{/other_user}",
      "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions",
      "organizations_url": "https://api.github.com/users/eddyb/orgs",
      "repos_url": "https://api.github.com/users/eddyb/repos",
      "events_url": "https://api.github.com/users/eddyb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eddyb/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-06-15T06:28:09Z",
    "updated_at": "2014-06-15T06:28:09Z",
    "body": "In that case, `FnPtr` is too generic, under VG it would be:\n\n``` rust\npub struct FnPtr<..A, R> {\n    f: extern \"system\" fn(..A) -> R,\n    is_loaded: bool\n}\n```\n\nA better (short term) solution would be to expand `FnPtr::new` for each `load_with`:\n\n``` rust\n// now\npub fn load_with(loadfn: |symbol: &str| -> Option<extern \"system\" fn()>) {\n    unsafe { ::storage::$name = ::FnPtr::new(loadfn($sym), ::failing::$name) }\n}\n// after\npub fn load_with(loadfn: |symbol: &str| -> Option<extern \"system\" fn()>) {\n    match loadfn($sym) {\n        std::option::Some(f) => unsafe {\n            ::storage::$name = ::FnPtr { f: std::mem::transmute(f), is_loaded: true }\n        },\n        None => {}\n    }\n}\n```\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46108277/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46108719",
    "html_url": "https://github.com/rust-lang/rust/issues/14903#issuecomment-46108719",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14903",
    "id": 46108719,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MTA4NzE5",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-06-15T07:00:27Z",
    "updated_at": "2014-06-15T07:00:49Z",
    "body": "I have to admit, the `Plane<T>` &larr;&rarr; `Vec4<T>` case does seem unfortunate.\n\n#12898 did explicitly say that the plan would be to only permit transmutes of generics \"through pointers\" (which I interpret to mean \"TypeExpr<T> can only be transmuted behind a `*` or `&`\").  Still, it seems like we could be more aggressive about recognizing that the two types have the same structure given that they are both applied to the same type `T`.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46108719/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46114254",
    "html_url": "https://github.com/rust-lang/rust/issues/14903#issuecomment-46114254",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14903",
    "id": 46114254,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MTE0MjU0",
    "user": {
      "login": "bluss",
      "id": 3209739,
      "node_id": "MDQ6VXNlcjMyMDk3Mzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3209739?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bluss",
      "html_url": "https://github.com/bluss",
      "followers_url": "https://api.github.com/users/bluss/followers",
      "following_url": "https://api.github.com/users/bluss/following{/other_user}",
      "gists_url": "https://api.github.com/users/bluss/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bluss/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bluss/subscriptions",
      "organizations_url": "https://api.github.com/users/bluss/orgs",
      "repos_url": "https://api.github.com/users/bluss/repos",
      "events_url": "https://api.github.com/users/bluss/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bluss/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-06-15T12:14:12Z",
    "updated_at": "2014-06-15T12:14:25Z",
    "body": "If you are talking workarounds, `transmute_copy` already exists, maybe it is good enough for this use case.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46114254/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46226704",
    "html_url": "https://github.com/rust-lang/rust/issues/14903#issuecomment-46226704",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14903",
    "id": 46226704,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MjI2NzA0",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-06-16T19:55:13Z",
    "updated_at": "2014-06-16T19:55:13Z",
    "body": "Closing, as has been noted many times in this thread, this was an explicit decision and this is working as-is today.\n\nI believe it is too soon (this only landed 3 days ago) to start revisiting our initial decision. With this patch we have achieved the point where it is impossible to fail in codegen due to upstream crates. It is only possible to fail for a deterministically known issue in the local crate.\n\nIt would be possible to extend the language with a compiler-defined trait that signifies that two type parameters `T` and `U` are the same size, but this is part of the revisiting which can happen at a later date.\n\nIf there is a legitimate bug in the new transmute restrictions, then that is definitely something that should be dealt with. I would recommend opening a separate issue about perhaps adding a case of transmuting between the same type parameter, which is guaranteed to have the same size.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46226704/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
