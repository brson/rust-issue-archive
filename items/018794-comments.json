[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/70335469",
    "html_url": "https://github.com/rust-lang/rust/issues/18794#issuecomment-70335469",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18794",
    "id": 70335469,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwMzM1NDY5",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-16T22:49:18Z",
    "updated_at": "2015-01-16T22:49:18Z",
    "body": "This syntax is now gone, so I'm not sure this issue is relevant. Does an updated version still ICE for you?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/70335469/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/70338336",
    "html_url": "https://github.com/rust-lang/rust/issues/18794#issuecomment-70338336",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18794",
    "id": 70338336,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwMzM4MzM2",
    "user": {
      "login": "orodley",
      "id": 1901719,
      "node_id": "MDQ6VXNlcjE5MDE3MTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1901719?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/orodley",
      "html_url": "https://github.com/orodley",
      "followers_url": "https://api.github.com/users/orodley/followers",
      "following_url": "https://api.github.com/users/orodley/following{/other_user}",
      "gists_url": "https://api.github.com/users/orodley/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/orodley/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/orodley/subscriptions",
      "organizations_url": "https://api.github.com/users/orodley/orgs",
      "repos_url": "https://api.github.com/users/orodley/repos",
      "events_url": "https://api.github.com/users/orodley/events{/privacy}",
      "received_events_url": "https://api.github.com/users/orodley/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-16T23:17:07Z",
    "updated_at": "2015-01-16T23:17:07Z",
    "body": "An updated version on `rustc 1.0.0-nightly (8903c21d6 2015-01-15 22:42:58 +0000)` doesn't ICE, but I do get a very unhelpful error message in the `&i32` case compared to the `i32` case.\n\nCompiling:\n\n``` rust\ntrait Foo { }\n\nfn foo<T: Foo>(x: T) { }\n\nfn main() {\n    let x: &Fn(i32) = &foo;\n}\n```\n\nProduces:\n\n```\n$ rustc ice.rs\nice.rs:6:24: 6:27 error: the trait `Foo` is not implemented for the type `i32`\nice.rs:6     let x: &Fn(i32) = &foo;\n                                ^~~\nerror: aborting due to previous error\n```\n\nWhich is exactly what I would expect.\n\nCompiling:\n\n``` rust\ntrait Foo { }\n\nfn foo<T: Foo>(x: T) { }\n\nfn main() {\n    let x: &Fn(&i32) = &foo;\n}\n```\n\nProduces:\n\n```\n$ rustc ice.rs\nice.rs:6:24: 6:28 error: type mismatch: the type `fn(_) {foo}` implements the trait `core::ops::Fn(_)`, but the trait `for<'r> core::ops::Fn(&'r i32)` is required (expected concrete lifetime, found bound lifetime parameter )\nice.rs:6     let x: &Fn(&i32) = &foo;\n                                ^~~~\nice.rs:6:24: 6:28 note: required for the cast to the object type `for<'r> core::ops::Fn(&'r i32)`\nice.rs:6     let x: &Fn(&i32) = &foo;\n                                ^~~~\nerror: aborting due to previous error\n```\n\nWhich is basically incomprehensible to me. I feel like these two cases should probably be producing the same error message, as the problem in both cases is the same - the trait isn't implemented for the specified type.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/70338336/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/91438573",
    "html_url": "https://github.com/rust-lang/rust/issues/18794#issuecomment-91438573",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18794",
    "id": 91438573,
    "node_id": "MDEyOklzc3VlQ29tbWVudDkxNDM4NTcz",
    "user": {
      "login": "orodley",
      "id": 1901719,
      "node_id": "MDQ6VXNlcjE5MDE3MTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1901719?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/orodley",
      "html_url": "https://github.com/orodley",
      "followers_url": "https://api.github.com/users/orodley/followers",
      "following_url": "https://api.github.com/users/orodley/following{/other_user}",
      "gists_url": "https://api.github.com/users/orodley/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/orodley/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/orodley/subscriptions",
      "organizations_url": "https://api.github.com/users/orodley/orgs",
      "repos_url": "https://api.github.com/users/orodley/repos",
      "events_url": "https://api.github.com/users/orodley/events{/privacy}",
      "received_events_url": "https://api.github.com/users/orodley/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-10T05:52:28Z",
    "updated_at": "2015-04-10T05:52:28Z",
    "body": "An update on this:\n\nI tested it again under the latest nightly (`rustc 1.0.0-beta (9854143cb 2015-04-02) (built 2015-04-02)`), and the error message for the `&i32` case is even more confusing:\n\nCompiling:\n\n``` rust\ntrait Foo {\n    fn foo(s: Self);\n}\n\nfn foo<T: Foo>(x: T) { }\n\nfn main() {\n    let x: &Fn(&i32) = &foo;\n}\n```\n\nproduces:\n\n```\n$ rustc test.rs\ntest.rs:8:24: 8:28 error: type mismatch: the type `fn(_) {foo}` implements the trait `core::ops::Fn<(_,)>`, but the trait `for<'r> core::ops::Fn<(&'r i32,)>` is required (expected concrete lifetime, found bound lifetime parameter ) [E0281]\ntest.rs:8     let x: &Fn(&i32) = &foo;\n                                 ^~~~\ntest.rs:8:24: 8:28 note: required for the cast to the object type `for<'r> core::ops::Fn(&'r i32)`\ntest.rs:8     let x: &Fn(&i32) = &foo;\n                                 ^~~~\ntest.rs:8:24: 8:28 error: type mismatch resolving `for<'r> <fn(_) {foo} as core::ops::FnOnce<(&'r i32,)>>::Output == ()`:\n expected bound lifetime parameter ,\n    found concrete lifetime [E0271]\ntest.rs:8     let x: &Fn(&i32) = &foo;\n                                 ^~~~\ntest.rs:8:24: 8:28 note: required for the cast to the object type `for<'r> core::ops::Fn(&'r i32)`\ntest.rs:8     let x: &Fn(&i32) = &foo;\n                                 ^~~~\nerror: aborting due to 2 previous errors\n```\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/91438573/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/270227283",
    "html_url": "https://github.com/rust-lang/rust/issues/18794#issuecomment-270227283",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18794",
    "id": 270227283,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MDIyNzI4Mw==",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-01-03T21:17:44Z",
    "updated_at": "2017-01-03T21:17:44Z",
    "body": "Triage: no change",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/270227283/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/331318416",
    "html_url": "https://github.com/rust-lang/rust/issues/18794#issuecomment-331318416",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18794",
    "id": 331318416,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMTMxODQxNg==",
    "user": {
      "login": "estebank",
      "id": 1606434,
      "node_id": "MDQ6VXNlcjE2MDY0MzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/estebank",
      "html_url": "https://github.com/estebank",
      "followers_url": "https://api.github.com/users/estebank/followers",
      "following_url": "https://api.github.com/users/estebank/following{/other_user}",
      "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/estebank/subscriptions",
      "organizations_url": "https://api.github.com/users/estebank/orgs",
      "repos_url": "https://api.github.com/users/estebank/repos",
      "events_url": "https://api.github.com/users/estebank/events{/privacy}",
      "received_events_url": "https://api.github.com/users/estebank/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-09-22T00:35:07Z",
    "updated_at": "2017-09-22T00:35:07Z",
    "body": "Current output, no change:\r\n\r\n```\r\nerror[E0281]: type mismatch: `fn(_) {foo::<_>}` implements the trait `std::ops::Fn<(_,)>`, but the trait `for<'r> std::ops::Fn<(&'r i32,)>` is required\r\n --> src/main.rs:6:24\r\n  |\r\n6 |     let x: &Fn(&i32) = &foo;\r\n  |                        ^^^^ expected concrete lifetime, found bound lifetime parameter\r\n  |\r\n  = note: required for the cast to the object type `for<'r> std::ops::Fn(&'r i32)`\r\n\r\nerror[E0271]: type mismatch resolving `for<'r> <fn(_) {foo::<_>} as std::ops::FnOnce<(&'r i32,)>>::Output == ()`\r\n --> src/main.rs:6:24\r\n  |\r\n6 |     let x: &Fn(&i32) = &foo;\r\n  |                        ^^^^ expected bound lifetime parameter, found concrete lifetime\r\n  |\r\n  = note: required for the cast to the object type `for<'r> std::ops::Fn(&'r i32)`\r\n```",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/331318416/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/349758088",
    "html_url": "https://github.com/rust-lang/rust/issues/18794#issuecomment-349758088",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18794",
    "id": 349758088,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0OTc1ODA4OA==",
    "user": {
      "login": "estebank",
      "id": 1606434,
      "node_id": "MDQ6VXNlcjE2MDY0MzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/estebank",
      "html_url": "https://github.com/estebank",
      "followers_url": "https://api.github.com/users/estebank/followers",
      "following_url": "https://api.github.com/users/estebank/following{/other_user}",
      "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/estebank/subscriptions",
      "organizations_url": "https://api.github.com/users/estebank/orgs",
      "repos_url": "https://api.github.com/users/estebank/repos",
      "events_url": "https://api.github.com/users/estebank/events{/privacy}",
      "received_events_url": "https://api.github.com/users/estebank/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-12-06T20:03:12Z",
    "updated_at": "2020-07-23T22:01:32Z",
    "body": "[Current output](https://play.rust-lang.org/?gist=d8395cefc66fa6a1f99357526db2bf94&version=nightly):\r\n\r\n```\r\nerror[E0631]: type mismatch in function arguments\r\n --> src/main.rs:8:24\r\n  |\r\n8 |     let x: &Fn(&i32) = &foo;\r\n  |                        ^^^^\r\n  |                        |\r\n  |                        expected signature of `for<'r> fn(&'r i32) -> _`\r\n  |                        found signature of `fn(_) -> _`\r\n  |\r\n  = note: required for the cast to the object type `for<'r> std::ops::Fn(&'r i32)`\r\n\r\nerror[E0271]: type mismatch resolving `for<'r> <fn(_) {foo::<_>} as std::ops::FnOnce<(&'r i32,)>>::Output == ()`\r\n --> src/main.rs:8:24\r\n  |\r\n8 |     let x: &Fn(&i32) = &foo;\r\n  |                        ^^^^ expected bound lifetime parameter, found concrete lifetime\r\n  |\r\n  = note: required for the cast to the object type `for<'r> std::ops::Fn(&'r i32)\r\n```\r\n\r\n---\r\n\r\n_Updated output:_\r\n\r\n```\r\nerror[E0631]: type mismatch in function arguments\r\n --> src/main.rs:8:24\r\n  |\r\n5 | fn foo<T: Foo>(x: T) { }\r\n  | -------------------- found signature of `fn(_) -> _`\r\n...\r\n8 |     let x: &Fn(&i32) = &foo;\r\n  |                        ^^^^ expected signature of `for<'r> fn(&'r i32) -> _`\r\n  |\r\n  = note: required for the cast to the object type `for<'r> std::ops::Fn(&'r i32)`\r\n\r\nerror[E0271]: type mismatch resolving `for<'r> <fn(_) {foo::<_>} as std::ops::FnOnce<(&'r i32,)>>::Output == ()`\r\n --> src/main.rs:8:24\r\n  |\r\n8 |     let x: &Fn(&i32) = &foo;\r\n  |                        ^^^^ expected bound lifetime parameter, found concrete lifetime\r\n  |\r\n  = note: required for the cast to the object type `for<'r> std::ops::Fn(&'r i32)`\r\n\r\nerror: aborting due to 2 previous errors\r\n```\r\n\r\nUpdated:\r\n\r\n```\r\nerror[E0277]: the trait bound `&i32: Foo` is not satisfied\r\n --> src/main.rs:8:25\r\n  |\r\n5 | fn foo<T: Foo>(x: T) { }\r\n  |           --- required by this bound in `foo`\r\n...\r\n8 |     let x: &Fn(&i32) = &foo;\r\n  |                         ^^^ the trait `Foo` is not implemented for `&i32`\r\n```",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/349758088/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/844740227",
    "html_url": "https://github.com/rust-lang/rust/issues/18794#issuecomment-844740227",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18794",
    "id": 844740227,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg0NDc0MDIyNw==",
    "user": {
      "login": "orodley",
      "id": 1901719,
      "node_id": "MDQ6VXNlcjE5MDE3MTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1901719?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/orodley",
      "html_url": "https://github.com/orodley",
      "followers_url": "https://api.github.com/users/orodley/followers",
      "following_url": "https://api.github.com/users/orodley/following{/other_user}",
      "gists_url": "https://api.github.com/users/orodley/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/orodley/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/orodley/subscriptions",
      "organizations_url": "https://api.github.com/users/orodley/orgs",
      "repos_url": "https://api.github.com/users/orodley/repos",
      "events_url": "https://api.github.com/users/orodley/events{/privacy}",
      "received_events_url": "https://api.github.com/users/orodley/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2021-05-20T06:18:02Z",
    "updated_at": "2021-05-20T06:18:02Z",
    "body": "The latest output from https://github.com/rust-lang/rust/issues/18794#issuecomment-349758088 looks like exactly what I'd expect, and there's no longer a discrepancy between the output for `i32` and for `&i32`, so I consider this fixed.",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/844740227/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
