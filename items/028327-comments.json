[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/139098093",
    "html_url": "https://github.com/rust-lang/rust/pull/28327#issuecomment-139098093",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/28327",
    "id": 139098093,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzOTA5ODA5Mw==",
    "user": {
      "login": "rust-highfive",
      "id": 7378925,
      "node_id": "MDQ6VXNlcjczNzg5MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7378925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rust-highfive",
      "html_url": "https://github.com/rust-highfive",
      "followers_url": "https://api.github.com/users/rust-highfive/followers",
      "following_url": "https://api.github.com/users/rust-highfive/following{/other_user}",
      "gists_url": "https://api.github.com/users/rust-highfive/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rust-highfive/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rust-highfive/subscriptions",
      "organizations_url": "https://api.github.com/users/rust-highfive/orgs",
      "repos_url": "https://api.github.com/users/rust-highfive/repos",
      "events_url": "https://api.github.com/users/rust-highfive/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rust-highfive/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-09-10T02:26:54Z",
    "updated_at": "2015-09-10T02:26:54Z",
    "body": "r? @huonw\n\n(rust_highfive has picked a reviewer for you, use r? to override)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/139098093/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/139108711",
    "html_url": "https://github.com/rust-lang/rust/pull/28327#issuecomment-139108711",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/28327",
    "id": 139108711,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzOTEwODcxMQ==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-09-10T03:50:31Z",
    "updated_at": "2015-09-10T03:50:31Z",
    "body": "Unfortunately I don't think this is quite right because an external LLVM doesn't automatically imply non-static linkage (e.g. all external LLVM roots I've ever used have been static still). I think that https://github.com/rust-lang/rust/pull/27937 is handling this as well (detecting there's only one LLVM lib and linking that dynamically), so I'm going to close this in favor of that. Thanks for the PR though!\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/139108711/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/139121682",
    "html_url": "https://github.com/rust-lang/rust/pull/28327#issuecomment-139121682",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/28327",
    "id": 139121682,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzOTEyMTY4Mg==",
    "user": {
      "login": "wthrowe",
      "id": 867117,
      "node_id": "MDQ6VXNlcjg2NzExNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/867117?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wthrowe",
      "html_url": "https://github.com/wthrowe",
      "followers_url": "https://api.github.com/users/wthrowe/followers",
      "following_url": "https://api.github.com/users/wthrowe/following{/other_user}",
      "gists_url": "https://api.github.com/users/wthrowe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wthrowe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wthrowe/subscriptions",
      "organizations_url": "https://api.github.com/users/wthrowe/orgs",
      "repos_url": "https://api.github.com/users/wthrowe/repos",
      "events_url": "https://api.github.com/users/wthrowe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wthrowe/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-09-10T05:31:54Z",
    "updated_at": "2015-09-10T05:31:54Z",
    "body": "#27937 does not fix this issue.  With that patch rustc still fails to build on my system with lots of missing library errors.\n\nThis should still work if the external LLVM root is static, because `#[link(name = \"something\")]` will still link to a static library if there are no dynamic ones that match.  Although, now I'm not sure why `kind = \"static\"` is needed for the bundled case, since that only supplies static libs.  (It is necessary, I tried building without and it didn't work.) \n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/139121682/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/139300895",
    "html_url": "https://github.com/rust-lang/rust/pull/28327#issuecomment-139300895",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/28327",
    "id": 139300895,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzOTMwMDg5NQ==",
    "user": {
      "login": "DiamondLovesYou",
      "id": 650357,
      "node_id": "MDQ6VXNlcjY1MDM1Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/650357?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DiamondLovesYou",
      "html_url": "https://github.com/DiamondLovesYou",
      "followers_url": "https://api.github.com/users/DiamondLovesYou/followers",
      "following_url": "https://api.github.com/users/DiamondLovesYou/following{/other_user}",
      "gists_url": "https://api.github.com/users/DiamondLovesYou/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DiamondLovesYou/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DiamondLovesYou/subscriptions",
      "organizations_url": "https://api.github.com/users/DiamondLovesYou/orgs",
      "repos_url": "https://api.github.com/users/DiamondLovesYou/repos",
      "events_url": "https://api.github.com/users/DiamondLovesYou/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DiamondLovesYou/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-09-10T16:24:05Z",
    "updated_at": "2015-09-10T16:24:05Z",
    "body": "@wthrowe The reason it fails is because [this](http://reviews.llvm.org/D11835) hasn't landed into LLVM. Without it, `llvm-config` doesn't know that only the shared objects are installed and thus prints out all of the static archives. This, in turn, messes up `mklldeps.py`.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/139300895/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/139311002",
    "html_url": "https://github.com/rust-lang/rust/pull/28327#issuecomment-139311002",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/28327",
    "id": 139311002,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzOTMxMTAwMg==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-09-10T17:04:49Z",
    "updated_at": "2015-09-10T17:04:49Z",
    "body": "Linking via `#[link(name = \"...\")]` implies dynamic linkage so all downstream crates get linked with `-lfoo` as well, which is incorrect in the case of a static library (which needs to only be linked once).\n\nPerhaps this could be updated to instead detect when `libLLVM.so` exists and only link to that dynamically? At least until that patch in LLVM lands.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/139311002/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/139311994",
    "html_url": "https://github.com/rust-lang/rust/pull/28327#issuecomment-139311994",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/28327",
    "id": 139311994,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzOTMxMTk5NA==",
    "user": {
      "login": "wthrowe",
      "id": 867117,
      "node_id": "MDQ6VXNlcjg2NzExNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/867117?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wthrowe",
      "html_url": "https://github.com/wthrowe",
      "followers_url": "https://api.github.com/users/wthrowe/followers",
      "following_url": "https://api.github.com/users/wthrowe/following{/other_user}",
      "gists_url": "https://api.github.com/users/wthrowe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wthrowe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wthrowe/subscriptions",
      "organizations_url": "https://api.github.com/users/wthrowe/orgs",
      "repos_url": "https://api.github.com/users/wthrowe/repos",
      "events_url": "https://api.github.com/users/wthrowe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wthrowe/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-09-10T17:08:49Z",
    "updated_at": "2015-09-10T17:08:49Z",
    "body": "I think that, while `#[link(name = \"foo\")]` is happy to link to a static library, it is still recorded in crate metadata as a transitive linking requirement, which can screw up linking against the crate in some circumstances.  (Looks like @alexcrichton just said the same thing.)\n\nI'll continue the discussion of #27937 over there, since the approach in this pull request isn't going to work without a lot of modification to something.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/139311994/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
