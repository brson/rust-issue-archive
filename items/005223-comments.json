[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/14407148",
    "html_url": "https://github.com/rust-lang/rust/issues/5223#issuecomment-14407148",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5223",
    "id": 14407148,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0NDA3MTQ4",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-03-04T21:35:45Z",
    "updated_at": "2013-03-04T21:35:45Z",
    "body": "I'm curious what this would be used for. `CFG_LIBDIR` exists to make dynamic loading slightly less bad on windows, by placing executables and libraries in the same directory.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/14407148/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/14921949",
    "html_url": "https://github.com/rust-lang/rust/issues/5223#issuecomment-14921949",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5223",
    "id": 14921949,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0OTIxOTQ5",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-03-14T18:53:54Z",
    "updated_at": "2013-03-14T18:53:54Z",
    "body": "As you mentioned in #5219, distros with multiarch support often put their libs in places like `/usr/lib64`. I understand the use case now and agree it should be configurable. Let's use whatever configure flag is standard.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/14921949/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/17302596",
    "html_url": "https://github.com/rust-lang/rust/issues/5223#issuecomment-17302596",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5223",
    "id": 17302596,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MzAyNTk2",
    "user": {
      "login": "graydon",
      "id": 14097,
      "node_id": "MDQ6VXNlcjE0MDk3",
      "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/graydon",
      "html_url": "https://github.com/graydon",
      "followers_url": "https://api.github.com/users/graydon/followers",
      "following_url": "https://api.github.com/users/graydon/following{/other_user}",
      "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/graydon/subscriptions",
      "organizations_url": "https://api.github.com/users/graydon/orgs",
      "repos_url": "https://api.github.com/users/graydon/repos",
      "events_url": "https://api.github.com/users/graydon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/graydon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-05-01T19:55:02Z",
    "updated_at": "2013-05-01T19:55:02Z",
    "body": "assigning bug; change assignment if you disagree\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/17302596/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/20075468",
    "html_url": "https://github.com/rust-lang/rust/issues/5223#issuecomment-20075468",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5223",
    "id": 20075468,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwMDc1NDY4",
    "user": {
      "login": "catamorphism",
      "id": 427212,
      "node_id": "MDQ6VXNlcjQyNzIxMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/427212?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/catamorphism",
      "html_url": "https://github.com/catamorphism",
      "followers_url": "https://api.github.com/users/catamorphism/followers",
      "following_url": "https://api.github.com/users/catamorphism/following{/other_user}",
      "gists_url": "https://api.github.com/users/catamorphism/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/catamorphism/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/catamorphism/subscriptions",
      "organizations_url": "https://api.github.com/users/catamorphism/orgs",
      "repos_url": "https://api.github.com/users/catamorphism/repos",
      "events_url": "https://api.github.com/users/catamorphism/events{/privacy}",
      "received_events_url": "https://api.github.com/users/catamorphism/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-06-26T19:57:36Z",
    "updated_at": "2013-06-26T19:57:36Z",
    "body": "I don't think this should block 0.7 -- re-milestone if you disagree, @graydon \n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/20075468/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/30455086",
    "html_url": "https://github.com/rust-lang/rust/issues/5223#issuecomment-30455086",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5223",
    "id": 30455086,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwNDU1MDg2",
    "user": {
      "login": "jhasse",
      "id": 80071,
      "node_id": "MDQ6VXNlcjgwMDcx",
      "avatar_url": "https://avatars.githubusercontent.com/u/80071?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jhasse",
      "html_url": "https://github.com/jhasse",
      "followers_url": "https://api.github.com/users/jhasse/followers",
      "following_url": "https://api.github.com/users/jhasse/following{/other_user}",
      "gists_url": "https://api.github.com/users/jhasse/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jhasse/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jhasse/subscriptions",
      "organizations_url": "https://api.github.com/users/jhasse/orgs",
      "repos_url": "https://api.github.com/users/jhasse/repos",
      "events_url": "https://api.github.com/users/jhasse/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jhasse/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-12-12T19:46:47Z",
    "updated_at": "2013-12-12T19:47:15Z",
    "body": "Hi everyone! I tried to fix this with this commit.\n\nThe problem with the current implementation in `configure`: It sets CFG_LIBDIR to \"lib\" or \"bin\". But according to http://www.gnu.org/prep/standards/html_node/Directory-Variables.html libdir should always be an absolute path e.g. `/usr/local/lib`.\n\nAlso it overrides the value which could have been set by the user, because it is set after the call to `valopts`.\n\nMy patch fixes these issue and also make CFG_LIBDIR configurable: I introduced a new variable CFG_LIBDIR_RELATIVE which has the value CFG_LIBDIR has now (`lib` or `bin`). CFG_LIBDIR is then set to the correct absolute value.\n\nAfter my patch, let's say someone sets libdir without changing the prefix:\n\n```\n$ ./configure --libdir=/usr/lib64\n[...]\nconfigure: CFG_PREFIX           := /usr/local\n[...]\nconfigure: CFG_LIBDIR           := /usr/lib64\nconfigure: error: libdir must begin with the prefix. Use --prefix to set it accordingly.\n```\n\nThis is because the script is unsure what the name of the library directory (relative to the prefix) is. He also has to change the prefix:\n\n```\n$ ./configure --libdir=/opt/lib64 --prefix=/opt\n[...]\nconfigure: CFG_PREFIX           := /opt\n[...]\nconfigure: CFG_LIBDIR           := /opt/lib64\nconfigure: CFG_LIBDIR_RELATIVE  := lib64\n[...]\n```\n\nThe CFG_LIBDIR_RELATIVE variable then holds `lib64` which is what will be used in several places by rust. For example rustpkg places libaries in a folder called `lib64` instead of `lib`. Also this will result in `stage1/lib64/` during the build phase.\n\nIf I run configure on my Windows machine without any arguments this will result in the following:\n\n```\n$ ./configure\n[...]\nconfigure: CFG_PREFIX           := /usr/local\n[...]\nconfigure: CFG_BUILD            := i686-pc-mingw32\n[...]\nconfigure: CFG_LIBDIR           := /usr/local/bin\nconfigure: CFG_LIBDIR_RELATIVE  := bin\n[...]\n```\n\nEverything as it should be ;)\n\nWhat do you think?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/30455086/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
