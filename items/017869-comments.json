[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/58390481",
    "html_url": "https://github.com/rust-lang/rust/pull/17869#issuecomment-58390481",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/17869",
    "id": 58390481,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4MzkwNDgx",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-10-08T17:00:05Z",
    "updated_at": "2014-10-08T17:00:05Z",
    "body": "@nikomatsakis, @pnkfelix, @pcwalton, would one of you be up for review?\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/58390481/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/58433148",
    "html_url": "https://github.com/rust-lang/rust/pull/17869#issuecomment-58433148",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/17869",
    "id": 58433148,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4NDMzMTQ4",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-10-08T21:46:09Z",
    "updated_at": "2014-10-08T21:46:09Z",
    "body": "I'll take this.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/58433148/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/58600913",
    "html_url": "https://github.com/rust-lang/rust/pull/17869#issuecomment-58600913",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/17869",
    "id": 58600913,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4NjAwOTEz",
    "user": {
      "login": "bkoropoff",
      "id": 2101303,
      "node_id": "MDQ6VXNlcjIxMDEzMDM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2101303?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bkoropoff",
      "html_url": "https://github.com/bkoropoff",
      "followers_url": "https://api.github.com/users/bkoropoff/followers",
      "following_url": "https://api.github.com/users/bkoropoff/following{/other_user}",
      "gists_url": "https://api.github.com/users/bkoropoff/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bkoropoff/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bkoropoff/subscriptions",
      "organizations_url": "https://api.github.com/users/bkoropoff/orgs",
      "repos_url": "https://api.github.com/users/bkoropoff/repos",
      "events_url": "https://api.github.com/users/bkoropoff/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bkoropoff/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-10-10T01:13:33Z",
    "updated_at": "2014-10-10T01:13:33Z",
    "body": "Rebased, fixed tidy error, and cleaned up some comments and commit messages.  Hopefully my thinking is more clear now.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/58600913/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/58714890",
    "html_url": "https://github.com/rust-lang/rust/pull/17869#issuecomment-58714890",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/17869",
    "id": 58714890,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4NzE0ODkw",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-10-10T20:54:15Z",
    "updated_at": "2014-10-10T20:54:15Z",
    "body": "So, I read this over in some detail. I think it's not quite working as I envision. Here is a summary of how I was thinking it ought to work. The basic idea is to have mem-categorization model as closely as possible the desugared version.\n\nI think the fundamental problem is that the code now attempts to classify `move ||` as \"copied upvars\", like proc does, but that's wrong. This was ok for proc because it was always effectively `FnOnce`. But that's not the case for unboxed closures.\n\nI think the result of mem-categorization needs to depend both on whether the closure is `Fn`/`FnMut`/`FnOnce` _and_ whether the closure is escaping or not. _Terminology note:_ I will call a `||`\nclosure \"non-escaping\" and a `move ||` closure \"escaping\". This is because a `move||` closure is the kind that are intended to escape the stack frame that created them.\n\nWe use the `Fn` vs `FnMut` etc distinction as follows:\n1. In a once closure, we can ignore the deref and just consider escaping vs non-escaping.\n2. In a &closure, we want to model it as a &deref\n3. In a &mut closure, we want to model it as a &mut closure\n\nWe use the escaping vs non-escaping closure distinction as follows:\n1. Escaping (`move`): when capturing a variable of type T, you get a copied upvar of type T\n2. Non-escaping (non move): when capturing a variable of type T, you get a deref through a pointer of type `&M T`, where `M` is the inferred mutability. (For now, I am ignoring the idea of a non-escaping once closure, since we don't support those in the inference system yet.)\n\nSo if we have a non-escaping `FnMut` closure, and it infers (say) a mutable borrow, then we want `&'a mut &'b mut T`, where `T` is the type of the variable. Here `'a` would be an anonymous, free lifetime bound on the closure body, and `'b` would be the lifetime bound of the (non-escaping) closure.\n\nFor an escaping closure (`move`), then we would generate mem-categorize the upvar to `&'a mut T`, where `'a` is an anonymous, free lifetime bound on the closure body.\n\nModulo #3696, this should be roughly what the desugared form would do.\n\nDoes this make sense?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/58714890/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/58714983",
    "html_url": "https://github.com/rust-lang/rust/pull/17869#issuecomment-58714983",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/17869",
    "id": 58714983,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4NzE0OTgz",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-10-10T20:54:56Z",
    "updated_at": "2014-10-10T20:55:04Z",
    "body": "Sorry for taking a few days to get to this. I had to clear an hour or so where I could read and think uninterrupted, which proved hard! I'll try to respond much faster now that I've thought it over some (and/or catch me on IRC).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/58714983/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/58734743",
    "html_url": "https://github.com/rust-lang/rust/pull/17869#issuecomment-58734743",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/17869",
    "id": 58734743,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4NzM0NzQz",
    "user": {
      "login": "bkoropoff",
      "id": 2101303,
      "node_id": "MDQ6VXNlcjIxMDEzMDM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2101303?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bkoropoff",
      "html_url": "https://github.com/bkoropoff",
      "followers_url": "https://api.github.com/users/bkoropoff/followers",
      "following_url": "https://api.github.com/users/bkoropoff/following{/other_user}",
      "gists_url": "https://api.github.com/users/bkoropoff/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bkoropoff/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bkoropoff/subscriptions",
      "organizations_url": "https://api.github.com/users/bkoropoff/orgs",
      "repos_url": "https://api.github.com/users/bkoropoff/repos",
      "events_url": "https://api.github.com/users/bkoropoff/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bkoropoff/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-10-11T02:08:13Z",
    "updated_at": "2014-10-11T02:29:19Z",
    "body": "I think I understand.  What I've essentially done is make regionck treat `cat_upvar` as if it included these implicit derefs.  What you'd like to see is these implicit derefs reflected literally in the returned categorization, and then the correct behavior should fall out of that.\n\nIt seems easier to summarize with a table.  Consider an upvar with type `T`, an anonymous free region in the closure body `'free`, and a region of the closure expression `'cl`.  Let `bk` mean the inferred borrow kind.  Please excuse the somewhat ad-hoc notation for dereferencing through a reference type.\n\n|  | move | ref |\n| --- | --- | --- |\n| Fn | `* &'free T` | `**  &'free &'cl bk T` |\n| FnMut | `* &'free mut T` | `**  &'free mut &'cl bk T` |\n| FnOnce | `T` | `*  &'cl bk T` |\n| stack | N/A | `**  &'free mut &'cl bk T` |\n| proc | `T` | N/A |\n\nIt seems like `cat_upvar` and `cat_copied_upvar` could be combined in this system since any interesting difference between them is captured in the surrounding derefs.  Does this all seem reasonable?\n\nWhat are your thoughts on the \"maybe link\" map I added?  It seems intuitively incorrect to neglect to establish a region link because the upvar had not yet been inferred as mutable at the time the expression was processed.  I've definitely seen it get exercised when compiling the standard libs.  I haven't come up with an example yet where not using it causes things to \"go wrong\", though.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/58734743/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/58816325",
    "html_url": "https://github.com/rust-lang/rust/pull/17869#issuecomment-58816325",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/17869",
    "id": 58816325,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4ODE2MzI1",
    "user": {
      "login": "bkoropoff",
      "id": 2101303,
      "node_id": "MDQ6VXNlcjIxMDEzMDM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2101303?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bkoropoff",
      "html_url": "https://github.com/bkoropoff",
      "followers_url": "https://api.github.com/users/bkoropoff/followers",
      "following_url": "https://api.github.com/users/bkoropoff/following{/other_user}",
      "gists_url": "https://api.github.com/users/bkoropoff/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bkoropoff/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bkoropoff/subscriptions",
      "organizations_url": "https://api.github.com/users/bkoropoff/orgs",
      "repos_url": "https://api.github.com/users/bkoropoff/repos",
      "events_url": "https://api.github.com/users/bkoropoff/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bkoropoff/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-10-12T18:52:50Z",
    "updated_at": "2014-10-12T18:52:50Z",
    "body": "I reworked the PR to mem-categorize upvars appropriately and fix the resulting fallout.  I think this is generally in line with the strategy you envisioned.  There are a few details that still need some attention:\n\n### Region of by-ref upvars\n\nYou had said that the by-ref upvar should have a region which is the lifetime bound of the closure.  I tried making this change, but I think the existing behavior is actually correct.  When the closure expression is processed, an inference variable is instantiated for each upvar, the link `closure_region <= freevar_region` is created, and `freevar_region` is stored in the upvar borrow map.  Within the closure body, mentions of the upvar are categorized as a deref of a pointer with `freevar_region`.  If there are two upvars, `foo` and `bar`, this is analagous to desugaring the closure to a structure like:\n\n``` rust\nstruct Closure<'foo,'bar> {\n    foo: &'foo Foo,\n    bar: &'bar Bar\n}\n```\n\nIf I change it to instead use `closure_region` when categorizing the upvar, the two regions are forced to be unified together, and the resulting analagous desugaring is unnecessarily restrictive:\n\n``` rust\nstruct Closure<'closure> {\n    foo: &'closure Foo,\n    bar: &'closure Bar\n}\n```\n\nThis actually caused a build failure in rustc itself in `lookup_struct_fields` in ty.rs:\n\n``` rust\n        let struct_fields = cx.struct_fields.borrow();\n        let mut results: SmallVector<&[field_ty]> = SmallVector::zero();\n        each_super_struct(cx, did, |s| {\n            match struct_fields.find(&s) {\n                Some(fields) => results.push(fields.as_slice()),\n                _ => {\n                    cx.sess.bug(\n                        format!(\"ID not mapped to struct fields: {}\",\n                                cx.map.node_to_string(did.node)).as_slice());\n                }\n            }\n        });\n\n        let len = results.as_slice().iter().map(|x| x.len()).sum();\n```\n\n`struct_fields` and `results` are both captured by the closure.  The closure then pushes references with a lifetime bounded by that of the `struct_fields` borrow into `results`, causing the borrow of `struct_fields` to persist until the end of the block instead of just the lifetime of the stack closure.  If the lifetimes of the two upvar borrow are forced to be unified, this causes the borrow of `results` to also persist to the end of the block, causing a borrow conflict at `results.as_slice()`.\n\n### Generating an anonymous free region\n\nI initially tried to create the anonymous free region as a `BrAnon`, but this required doing so within astconv and storing it in the closure type in order to ensure the region was unique with respect to other closure parameters.  This ended up causing a lot of code churn in metadata encoding, etc.  I opted instead to introduce a special `BrEnv` variant for this purpose, which had a much more limited impact.  I'm not sure if this was the right decision.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/58816325/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/59070227",
    "html_url": "https://github.com/rust-lang/rust/pull/17869#issuecomment-59070227",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/17869",
    "id": 59070227,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5MDcwMjI3",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-10-14T16:01:58Z",
    "updated_at": "2014-10-14T16:01:58Z",
    "body": "@bkoropoff this is looking really good. I think it'd be good to have tests for moving out of upvars in all the various combinations. In particular, `move |&:|` and friends should still not permit moving out.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/59070227/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/59156421",
    "html_url": "https://github.com/rust-lang/rust/pull/17869#issuecomment-59156421",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/17869",
    "id": 59156421,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5MTU2NDIx",
    "user": {
      "login": "bkoropoff",
      "id": 2101303,
      "node_id": "MDQ6VXNlcjIxMDEzMDM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2101303?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bkoropoff",
      "html_url": "https://github.com/bkoropoff",
      "followers_url": "https://api.github.com/users/bkoropoff/followers",
      "following_url": "https://api.github.com/users/bkoropoff/following{/other_user}",
      "gists_url": "https://api.github.com/users/bkoropoff/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bkoropoff/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bkoropoff/subscriptions",
      "organizations_url": "https://api.github.com/users/bkoropoff/orgs",
      "repos_url": "https://api.github.com/users/bkoropoff/repos",
      "events_url": "https://api.github.com/users/bkoropoff/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bkoropoff/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-10-15T04:30:29Z",
    "updated_at": "2014-10-15T04:30:29Z",
    "body": "I rebased, added tests for moving out of upvars, and addressed some of the review feedback.  I kept these changes in separate \"CR FIX\" commits to make it clear what changed since last time.  These will be rebased and squashed when the PR is ready to merge.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/59156421/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/59256522",
    "html_url": "https://github.com/rust-lang/rust/pull/17869#issuecomment-59256522",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/17869",
    "id": 59256522,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5MjU2NTIy",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-10-15T18:53:33Z",
    "updated_at": "2014-10-15T18:53:33Z",
    "body": "This looks good. I'm ready to give r+.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/59256522/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/59259056",
    "html_url": "https://github.com/rust-lang/rust/pull/17869#issuecomment-59259056",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/17869",
    "id": 59259056,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5MjU5MDU2",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-10-15T19:10:14Z",
    "updated_at": "2014-10-15T19:10:14Z",
    "body": "@bkoropoff will rebase to cleanup commit history, r+ when that is done\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/59259056/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/59451252",
    "html_url": "https://github.com/rust-lang/rust/pull/17869#issuecomment-59451252",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/17869",
    "id": 59451252,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5NDUxMjUy",
    "user": {
      "login": "bkoropoff",
      "id": 2101303,
      "node_id": "MDQ6VXNlcjIxMDEzMDM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2101303?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bkoropoff",
      "html_url": "https://github.com/bkoropoff",
      "followers_url": "https://api.github.com/users/bkoropoff/followers",
      "following_url": "https://api.github.com/users/bkoropoff/following{/other_user}",
      "gists_url": "https://api.github.com/users/bkoropoff/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bkoropoff/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bkoropoff/subscriptions",
      "organizations_url": "https://api.github.com/users/bkoropoff/orgs",
      "repos_url": "https://api.github.com/users/bkoropoff/repos",
      "events_url": "https://api.github.com/users/bkoropoff/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bkoropoff/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-10-17T00:30:11Z",
    "updated_at": "2014-10-17T00:30:11Z",
    "body": "Rebased to fix merge conflict\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/59451252/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
