[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/89073616",
    "html_url": "https://github.com/rust-lang/rust/issues/15872#issuecomment-89073616",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15872",
    "id": 89073616,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg5MDczNjE2",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-02T23:11:31Z",
    "updated_at": "2015-04-02T23:11:31Z",
    "body": "triage: P-low\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/89073616/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/239277772",
    "html_url": "https://github.com/rust-lang/rust/issues/15872#issuecomment-239277772",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15872",
    "id": 239277772,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzOTI3Nzc3Mg==",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-08-11T20:13:31Z",
    "updated_at": "2016-08-11T20:13:31Z",
    "body": "See [here](https://github.com/rust-lang/rust/issues/15838#issuecomment-89071700) for a summary of the current status.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/239277772/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/239281021",
    "html_url": "https://github.com/rust-lang/rust/issues/15872#issuecomment-239281021",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15872",
    "id": 239281021,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzOTI4MTAyMQ==",
    "user": {
      "login": "sophiajt",
      "id": 547158,
      "node_id": "MDQ6VXNlcjU0NzE1OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/547158?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sophiajt",
      "html_url": "https://github.com/sophiajt",
      "followers_url": "https://api.github.com/users/sophiajt/followers",
      "following_url": "https://api.github.com/users/sophiajt/following{/other_user}",
      "gists_url": "https://api.github.com/users/sophiajt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sophiajt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sophiajt/subscriptions",
      "organizations_url": "https://api.github.com/users/sophiajt/orgs",
      "repos_url": "https://api.github.com/users/sophiajt/repos",
      "events_url": "https://api.github.com/users/sophiajt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sophiajt/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-08-11T20:24:58Z",
    "updated_at": "2016-08-11T20:24:58Z",
    "body": "Should this be P-low since @brson notes it as a [critical part](https://github.com/rust-lang/rust/issues/15838#issuecomment-238646065) of the implementation?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/239281021/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/239281331",
    "html_url": "https://github.com/rust-lang/rust/issues/15872#issuecomment-239281331",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15872",
    "id": 239281331,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzOTI4MTMzMQ==",
    "user": {
      "login": "aturon",
      "id": 709807,
      "node_id": "MDQ6VXNlcjcwOTgwNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/709807?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aturon",
      "html_url": "https://github.com/aturon",
      "followers_url": "https://api.github.com/users/aturon/followers",
      "following_url": "https://api.github.com/users/aturon/following{/other_user}",
      "gists_url": "https://api.github.com/users/aturon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aturon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aturon/subscriptions",
      "organizations_url": "https://api.github.com/users/aturon/orgs",
      "repos_url": "https://api.github.com/users/aturon/repos",
      "events_url": "https://api.github.com/users/aturon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aturon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-08-11T20:26:05Z",
    "updated_at": "2016-08-11T20:26:05Z",
    "body": "@jonathandturner I think there's some confusion -- @brson was referring to error messages, which I believe at this point are largely as specified (but would be worth checking). This issue, OTOH, is about adding an additional point of elision.\n\nI'm nominating this for lang team discussion -- the RFC for this feature is quite old, and at this point I think we should revisit whether we even want to do it.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/239281331/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/239554901",
    "html_url": "https://github.com/rust-lang/rust/issues/15872#issuecomment-239554901",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15872",
    "id": 239554901,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzOTU1NDkwMQ==",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-08-12T20:43:01Z",
    "updated_at": "2016-08-12T20:43:01Z",
    "body": "We discussed in the @rust-lang/lang meeting today and decided that there is no reason to expire an RFC just because it's been a while. Basically, the motivation of the RFC still seems fairly relevant. That said, we would expect that if these changes were implemented, they would go through a stabilization period, and so if people felt like they were now bad, we could address that then.\n\nIt's worth noting here for the record a few random thoughts of my own. First, I feel like elision has been wonderful except for one case: `fn foo(&self) -> Bar` where `Bar` has lifetime parameters (`struct Bar<'x>`). In this case, I feel like the fact that `Bar` \"extends\" the borrow of `self` is subtle. This becomes worse when there are other named lifetime parameters that appear in the return type, for example `fn foo(&self) -> &'a Bar`, which would expand to `fn foo<'b>(&'b self) -> &'a Foo<'b>`. I'd love if we could find some way to lint against harmful patterns and provide a lightweight way to indicate that there are lifetimes in `Bar` without having to name them.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/239554901/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/279508053",
    "html_url": "https://github.com/rust-lang/rust/issues/15872#issuecomment-279508053",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15872",
    "id": 279508053,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3OTUwODA1Mw==",
    "user": {
      "login": "djc",
      "id": 158471,
      "node_id": "MDQ6VXNlcjE1ODQ3MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/158471?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/djc",
      "html_url": "https://github.com/djc",
      "followers_url": "https://api.github.com/users/djc/followers",
      "following_url": "https://api.github.com/users/djc/following{/other_user}",
      "gists_url": "https://api.github.com/users/djc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/djc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/djc/subscriptions",
      "organizations_url": "https://api.github.com/users/djc/orgs",
      "repos_url": "https://api.github.com/users/djc/repos",
      "events_url": "https://api.github.com/users/djc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/djc/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-02-13T20:11:37Z",
    "updated_at": "2017-02-13T20:11:37Z",
    "body": "I might be interested in working on this. Can someone outline some steps to get going? What's the perceived complexity factor here? (I have contributed small things before, but no actual compiler work.)",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/279508053/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/279510142",
    "html_url": "https://github.com/rust-lang/rust/issues/15872#issuecomment-279510142",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15872",
    "id": 279510142,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3OTUxMDE0Mg==",
    "user": {
      "login": "eddyb",
      "id": 77424,
      "node_id": "MDQ6VXNlcjc3NDI0",
      "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eddyb",
      "html_url": "https://github.com/eddyb",
      "followers_url": "https://api.github.com/users/eddyb/followers",
      "following_url": "https://api.github.com/users/eddyb/following{/other_user}",
      "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions",
      "organizations_url": "https://api.github.com/users/eddyb/orgs",
      "repos_url": "https://api.github.com/users/eddyb/repos",
      "events_url": "https://api.github.com/users/eddyb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eddyb/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-02-13T20:20:03Z",
    "updated_at": "2017-02-13T20:25:17Z",
    "body": "@djc You might want to start by taking a look at #39265, which stabilized `'static` elision in `const` & `static` (by removing the special casing it needed for feature-gating), and which touched the new version of the elision system in `resolve_lifetime`, hopefully the site of most of your changes.\r\n\r\nI worry that `impl` headers would want early-bound lifetime parameters so you'd need to synthetize those in a way that `librustc_typeck/collect.rs` understands and keeps track of in the `impl`'s `ty::Generics`.\r\n\r\nIt still wouldn't be that hard, as `impl` lifetime/type parameters are *never* exposed to the user (instead, they're inferred from `Self` and trait parameters, where applicable), but it's unlike other forms of elision.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/279510142/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/280394354",
    "html_url": "https://github.com/rust-lang/rust/issues/15872#issuecomment-280394354",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15872",
    "id": 280394354,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4MDM5NDM1NA==",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-02-16T17:10:31Z",
    "updated_at": "2017-02-16T17:10:31Z",
    "body": "I'm definitely keen on seeing this done. @djc if you want I can try to draw up somewhat more detailed instructions that what @eddyb provided, but let me know.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/280394354/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/280416683",
    "html_url": "https://github.com/rust-lang/rust/issues/15872#issuecomment-280416683",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15872",
    "id": 280416683,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4MDQxNjY4Mw==",
    "user": {
      "login": "djc",
      "id": 158471,
      "node_id": "MDQ6VXNlcjE1ODQ3MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/158471?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/djc",
      "html_url": "https://github.com/djc",
      "followers_url": "https://api.github.com/users/djc/followers",
      "following_url": "https://api.github.com/users/djc/following{/other_user}",
      "gists_url": "https://api.github.com/users/djc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/djc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/djc/subscriptions",
      "organizations_url": "https://api.github.com/users/djc/orgs",
      "repos_url": "https://api.github.com/users/djc/repos",
      "events_url": "https://api.github.com/users/djc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/djc/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-02-16T18:30:26Z",
    "updated_at": "2017-02-16T18:30:26Z",
    "body": "@nikomatsakis that would be quite welcome. I did look at lifetime_resolvers and typeck::collect a little, but a strategy to get started did not jump out at me. One thing I was wondering is if I could somehow print HIR before and after the pass that should the elision, to give me some way to debug. ",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/280416683/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/280482503",
    "html_url": "https://github.com/rust-lang/rust/issues/15872#issuecomment-280482503",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15872",
    "id": 280482503,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4MDQ4MjUwMw==",
    "user": {
      "login": "eddyb",
      "id": 77424,
      "node_id": "MDQ6VXNlcjc3NDI0",
      "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eddyb",
      "html_url": "https://github.com/eddyb",
      "followers_url": "https://api.github.com/users/eddyb/followers",
      "following_url": "https://api.github.com/users/eddyb/following{/other_user}",
      "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions",
      "organizations_url": "https://api.github.com/users/eddyb/orgs",
      "repos_url": "https://api.github.com/users/eddyb/repos",
      "events_url": "https://api.github.com/users/eddyb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eddyb/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-02-16T22:26:01Z",
    "updated_at": "2017-02-16T22:26:01Z",
    "body": "@djc the HIR is not mutated, extra information (associated by `NodeId`s from the HIR) is collected instead.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/280482503/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/282683175",
    "html_url": "https://github.com/rust-lang/rust/issues/15872#issuecomment-282683175",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15872",
    "id": 282683175,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4MjY4MzE3NQ==",
    "user": {
      "login": "djc",
      "id": 158471,
      "node_id": "MDQ6VXNlcjE1ODQ3MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/158471?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/djc",
      "html_url": "https://github.com/djc",
      "followers_url": "https://api.github.com/users/djc/followers",
      "following_url": "https://api.github.com/users/djc/following{/other_user}",
      "gists_url": "https://api.github.com/users/djc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/djc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/djc/subscriptions",
      "organizations_url": "https://api.github.com/users/djc/orgs",
      "repos_url": "https://api.github.com/users/djc/repos",
      "events_url": "https://api.github.com/users/djc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/djc/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-02-27T10:28:22Z",
    "updated_at": "2017-02-27T10:28:22Z",
    "body": "@nikomatsakis ping, would you still have a chance to draw up more detailed instructions?",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/282683175/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/283965785",
    "html_url": "https://github.com/rust-lang/rust/issues/15872#issuecomment-283965785",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15872",
    "id": 283965785,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4Mzk2NTc4NQ==",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-03-03T14:24:13Z",
    "updated_at": "2017-03-03T14:24:13Z",
    "body": "@djc I haven't. :( I'll do some poking about now and see how easy I think it would be. ",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/283965785/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/283977762",
    "html_url": "https://github.com/rust-lang/rust/issues/15872#issuecomment-283977762",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15872",
    "id": 283977762,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4Mzk3Nzc2Mg==",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-03-03T15:06:38Z",
    "updated_at": "2017-10-23T14:18:03Z",
    "body": "@aturon @wycats \r\n\r\nI have been looking into how to implicit impl elision, and I wanted to clarify one part of the RFC. The [text](https://github.com/rust-lang/rfcs/blob/master/text/0141-lifetime-elision.md#lifetime-positions) says this (emphasis mine):\r\n\r\n> For impl headers, input refers to the lifetimes appears in **the type receiving the impl**, while output refers to the trait, if any. So impl<'a> Foo<'a> has 'a in input position, while impl<'a, 'b, 'c> SomeTrait<'b, 'c> for Foo<'a, 'c> has 'a in input position, 'b in output position, and 'c in both input and output positions.\r\n\r\nIn general, though, there can be more than one type in an impl header, and the text doesn't seem to clearly address this case. (Neither do the examples.) This is how I would interpret the rules:\r\n\r\n- Input types are considered **inputs** (this includes `Self`, which is explicit in the text, but also other input types).\r\n- Lifetime parameters on the trait are considered **outputs** (this makes sense even though they are input parameters to the trait resolution process, as they cannot affect which impl is chosen, and in practice they are basically always functional dependencies of the input types anyhow).\r\n\r\nOne question is whether to extend the \"self is privileged\" rule to impls. I'd be inclined to say no, even though I think it might make sense, in the absence of data, simply because it's the conservative choice. However, there is an even more conservative choice, which is to require explicit lifetimes everywhere but `Self`. I don't see much of a point to that.\r\n\r\nTherefore:\r\n\r\n```rust\r\nimpl Eq<&str> for &str // becomes:\r\nimpl<'a, 'b> Eq<&'a str> for &'b str\r\n\r\ntrait Foo<'x, T> { ... }\r\n\r\nimpl Foo<&str> for &str // error: output position `'x` has multiple possibilities\r\n\r\nimpl Foo<u8> for &str // becomes:\r\nimpl<'a> Foo<'a, u8> for &'a str\r\n\r\nimpl Foo<&str> for u8 // becomes:\r\nimpl<'a> Foo<'a, &'a str> for u8\r\n```\r\n\r\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/283977762/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/283979509",
    "html_url": "https://github.com/rust-lang/rust/issues/15872#issuecomment-283979509",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15872",
    "id": 283979509,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4Mzk3OTUwOQ==",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-03-03T15:13:01Z",
    "updated_at": "2017-03-03T15:13:01Z",
    "body": "Another question: in the [\"Elision 2.0 RFC\" draft](https://github.com/nikomatsakis/rfc-elision-2.0) that @solson and I have been (slowly) working on, we are planning to deprecate \"implicit\" lifetimes (e.g., `Ref<T>` being expanded to `Ref<'a ,T>`), at least in some scenarios (I rather liked @aturon's proposal of deprecating an implicit lifetime only if it is used in an output position as well, and thus encouraging one to signal it by writing `Ref<', T>` in that case, though I also might not object to just deprecating them altogether). Should we omit such cases from impl headers and just focus on `&T`? Or implement the rules more evenly and then deprecate evenly?",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/283979509/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/283987512",
    "html_url": "https://github.com/rust-lang/rust/issues/15872#issuecomment-283987512",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15872",
    "id": 283987512,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4Mzk4NzUxMg==",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-03-03T15:42:07Z",
    "updated_at": "2017-03-03T15:42:07Z",
    "body": "OK @djc, so I did some research into how to implement this. As you can see from my previous comment, there are some vaguaries in the RFC text that I think we should clear up, but it doesn't really affect the implementation very much. The good news is that the heroic @eddyb has done some nice refactoring here that I **think** makes this job much nicer than it once was.\r\n\r\nA quick outline of how the various bits in the compiler work that are relevant here. First off, let's take two example impls to show what I'm talking about:\r\n\r\n```rust\r\nimpl Foo for &str { .. }\r\nimpl Foo for Ref<u8> { .. } // Ref is defined as `struct Ref<'a, T>`\r\n```\r\n\r\nOK, so, the general flow of the compiler is like this:\r\n\r\n- After we parse, we have an AST (`syntax::ast`), but we only use that for macro expansion and (some parts of) name resolution.\r\n- The AST is **lowered** to HIR (`rustc::hir`) by the code in [`rustc::hir::lowering`](https://github.com/rust-lang/rust/blob/626e754473da96a670c917b9cbefd1c1ea888a9c/src/librustc/hir/lowering.rs). The HIR is the compiler's main abstract-syntax-tree-like representation (HIR stands for \"high-level IR\").\r\n- As we commence this lowering process, we already have most paths fully resolved -- the only exception is associated types like `T::Item` or `<T as Iterator>::Item>` (but in the latter case, we would have resolved the path `Iterator`). In our second example, that means that we would have a \"link\" from the path `Ref` to the definition of the `Ref` -- this will be important. However, we have **not** resolved lifetimes. Those are still just strings, basically.\r\n- Then the pass [`rustc::middle::resolve_lifetime`](https://github.com/rust-lang/rust/blob/626e754473da96a670c917b9cbefd1c1ea888a9c/src/librustc/middle/resolve_lifetime.rs) walks the HIR and, for each named lifetime like `'a`, as well as the elided lifetimes, figures out which lifetime definition they refer to.\r\n- The results of this lifetime resolution are used by the type-checker's [collect](https://github.com/rust-lang/rust/blob/626e754473da96a670c917b9cbefd1c1ea888a9c/src/librustc_typeck/collect.rs) pass, which has the job of converting the **HIR** representation of a type into the compiler's **internal** representation of a type, [`rustc::ty::Ty`](https://github.com/rust-lang/rust/blob/626e754473da96a670c917b9cbefd1c1ea888a9c/src/librustc/ty/mod.rs#L433) -- among other things. (Note: A lot of the code executed during `collect` -- and specifically the code around types -- [actually lives in `astconv`](https://github.com/rust-lang/rust/blob/626e754473da96a670c917b9cbefd1c1ea888a9c/src/librustc_typeck/astconv.rs).)\r\n- Another part of collect's job is to compute a [`Generics` structure](https://github.com/rust-lang/rust/blob/626e754473da96a670c917b9cbefd1c1ea888a9c/src/librustc/ty/mod.rs#L622-L629) for each type, impl, etc. The `Generics`\r\nstruct stores the set of parameters (type, lifetime) introduced by the given item. \r\n\r\nSo, to make impl elision work, we are going to have to modify a little bit of each of these places. In particular, we are going to be inserted new \"automatic\" lifetime parameters, so those will have to appear in the `Generics` structure. The types which reference those automatic parameters will need to be correct, though probably we'll achieve that mostly by making sure that the `resolve_lifetimes` pass links up the lifetimes correctly (we may not need to modify the code for types in `astconv` at all). \r\n\r\nOK, let's dive into a bit more detail. Let's walk through how elided lifetimes work today. In the AST, elided lifetimes are simply not present. So if you check out [the enum variant for `&ptr`, called `Rptr`](https://github.com/rust-lang/rust/blob/626e754473da96a670c917b9cbefd1c1ea888a9c/src/libsyntax/ast.rs#L1352), you see that it has an `Option` for a lifetime. In the case of `Ref`, they are \"even more\" elided, in that there will simply be a path with zero lifetime parameters. However, in the HIR, all lifetime parameters are **always present**. So, the [corresponding enum variant in the HIR](https://github.com/rust-lang/rust/blob/626e754473da96a670c917b9cbefd1c1ea888a9c/src/librustc/hir/mod.rs#L1194) does **not** contain an option:\r\n\r\n```rust\r\n TyRptr(Lifetime, MutTy),\r\n```\r\n \r\nSimilarly, although you can't see this in their definition, paths like `Ref<T>` where no lifetime was provided will have the elided lifetimes present in the HIR. The way this works is that, during lowering, we insert a [**sentinel lifetime** indicating that the lifetime was elided by the user](https://github.com/rust-lang/rust/blob/626e754473da96a670c917b9cbefd1c1ea888a9c/src/librustc/hir/lowering.rs#L2403-L2409). For example, here is the code that converts `&T` types from the AST to the HIR: you can see that [if the AST has `None` for the lifetime, the HIR gets the sentinel value](https://github.com/rust-lang/rust/blob/626e754473da96a670c917b9cbefd1c1ea888a9c/src/librustc/hir/lowering.rs#L320).\r\n\r\nThis is handy because every `hir::Lifetime` struct [has a unique id](https://github.com/rust-lang/rust/blob/626e754473da96a670c917b9cbefd1c1ea888a9c/src/librustc/hir/mod.rs#L78). This id will be used by `resolve_lifetimes` to record, for each `hir::Lifetime`, what that lifetime actually refers to (this is not done on the AST, like paths, but rather on the HIR). These are stored in a [map called the `NamedRegionMap`](https://github.com/rust-lang/rust/blob/626e754473da96a670c917b9cbefd1c1ea888a9c/src/librustc/middle/resolve_lifetime.rs#L146-L161), in [the `defs` field](https://github.com/rust-lang/rust/blob/626e754473da96a670c917b9cbefd1c1ea888a9c/src/librustc/middle/resolve_lifetime.rs#L151).  This is a `NodeMap`, which is a hashmap keyed by `NodeId` (the type of the `id` field from `Lifetime`). The value is a [`resolve_lifetime::Region` struct](https://github.com/rust-lang/rust/blob/626e754473da96a670c917b9cbefd1c1ea888a9c/src/librustc/middle/resolve_lifetime.rs#L40-L47) -- somewhat confusingly, the `resolve_lifetime` code has its own `Region` struct (there is another in `ty`).\r\n\r\nOK, let's take a break and walk through one of our examples now. We'll look at the first impl, the one for `&str`. Actually, we'll look at a variant, with a named lifetime parameter (this is kind of what we want to desugar to):\r\n\r\n```rust\r\nimpl<'a> Foo for &'a str { .. }\r\n```\r\n\r\nWhat happens to this impl as we proceed through the passes? In the AST, the type of `&str` would be a `Rptr` with `Some('a)` for the lifetime. During lowering, this `'a` [gets converted into a `hir::Lifetime` struct with basically the same information](https://github.com/rust-lang/rust/blob/626e754473da96a670c917b9cbefd1c1ea888a9c/src/librustc/hir/lowering.rs#L319). In the resolve-lifetimes code, we will walk down the HIR. [As we get to the impl](https://github.com/rust-lang/rust/blob/626e754473da96a670c917b9cbefd1c1ea888a9c/src/librustc/middle/resolve_lifetime.rs#L332), we will [bring the lifetimes declared on it into scope](https://github.com/rust-lang/rust/blob/626e754473da96a670c917b9cbefd1c1ea888a9c/src/librustc/middle/resolve_lifetime.rs#L339-L345). In this case, that is the lifetime `'a`. We map `'a` to the `resolve_lifetime::Region::Early` variant (see the note below about the name \"early\"). Then later, [when `resolve_lifetime` reaches the type `&'a str`](https://github.com/rust-lang/rust/blob/626e754473da96a670c917b9cbefd1c1ea888a9c/src/librustc/middle/resolve_lifetime.rs#L392), it will [search these scopes](https://github.com/rust-lang/rust/blob/626e754473da96a670c917b9cbefd1c1ea888a9c/src/librustc/middle/resolve_lifetime.rs#L438) and [store the result into the map](https://github.com/rust-lang/rust/blob/626e754473da96a670c917b9cbefd1c1ea888a9c/src/librustc/middle/resolve_lifetime.rs#L916). This basically just stores the **index** of this lifetime parameter in the list of generics (in this case, I think it will be 0, as its the only parameter on the impl).\r\n\r\nLater on, during collect, we have to [create the generics for the impl](https://github.com/rust-lang/rust/blob/626e754473da96a670c917b9cbefd1c1ea888a9c/src/librustc_typeck/collect.rs#L1321). This will [read the fields from the HIR](https://github.com/rust-lang/rust/blob/626e754473da96a670c917b9cbefd1c1ea888a9c/src/librustc_typeck/collect.rs#L1383), [iterate over each lifetime in there](https://github.com/rust-lang/rust/blob/626e754473da96a670c917b9cbefd1c1ea888a9c/src/librustc_typeck/collect.rs#L1443), and [create a `RegionParameterDef` for each one](https://github.com/rust-lang/rust/blob/626e754473da96a670c917b9cbefd1c1ea888a9c/src/librustc_typeck/collect.rs#L1445-L1450). This eventually gets stored in the `Generics` structure.\r\n\r\n[When we convert the `&'a str` type into the compiler's internal representation](https://github.com/rust-lang/rust/blob/626e754473da96a670c917b9cbefd1c1ea888a9c/src/librustc_typeck/astconv.rs#L1164), meanwhile, it will [lookup the result from the `NamedRegionMap` that `resolve_lifetime` created](https://github.com/rust-lang/rust/blob/626e754473da96a670c917b9cbefd1c1ea888a9c/src/librustc_typeck/astconv.rs#L145). It will [find the `Early` variant](https://github.com/rust-lang/rust/blob/626e754473da96a670c917b9cbefd1c1ea888a9c/src/librustc_typeck/astconv.rs#L171) and create a `ty::Region` with the given index.\r\n\r\nOK, that's all I have time for for now. I haven't actually gotten into how to DO the change, but hopefully this will help you get acquanted with how the relevant code works **now** and maybe gives you an inkling how we will update it.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/283987512/reactions",
      "total_count": 3,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 3,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/283996916",
    "html_url": "https://github.com/rust-lang/rust/issues/15872#issuecomment-283996916",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15872",
    "id": 283996916,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4Mzk5NjkxNg==",
    "user": {
      "login": "eddyb",
      "id": 77424,
      "node_id": "MDQ6VXNlcjc3NDI0",
      "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eddyb",
      "html_url": "https://github.com/eddyb",
      "followers_url": "https://api.github.com/users/eddyb/followers",
      "following_url": "https://api.github.com/users/eddyb/following{/other_user}",
      "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions",
      "organizations_url": "https://api.github.com/users/eddyb/orgs",
      "repos_url": "https://api.github.com/users/eddyb/repos",
      "events_url": "https://api.github.com/users/eddyb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eddyb/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-03-03T16:15:37Z",
    "updated_at": "2017-03-03T16:15:56Z",
    "body": "If you treat it like argument elision in `rustc::middle::resolve_lifetime`, but just slightly different so you can tell between the lifetimes added in an `impl` header (always \"early\") and a `fn` signature (always \"late\"), then you can use a map (or just traverse the HIR) to add those lifetimes in `typeck::collect` to `ty::Generics`.\r\n\r\nMost of the code out there shouldn't mind, i.e. it should assume it can't know what `ty::Generics` looks like for a given HIR without asking for `ty::Generics` specifically.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/283996916/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/284065087",
    "html_url": "https://github.com/rust-lang/rust/issues/15872#issuecomment-284065087",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15872",
    "id": 284065087,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NDA2NTA4Nw==",
    "user": {
      "login": "djc",
      "id": 158471,
      "node_id": "MDQ6VXNlcjE1ODQ3MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/158471?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/djc",
      "html_url": "https://github.com/djc",
      "followers_url": "https://api.github.com/users/djc/followers",
      "following_url": "https://api.github.com/users/djc/following{/other_user}",
      "gists_url": "https://api.github.com/users/djc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/djc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/djc/subscriptions",
      "organizations_url": "https://api.github.com/users/djc/orgs",
      "repos_url": "https://api.github.com/users/djc/repos",
      "events_url": "https://api.github.com/users/djc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/djc/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-03-03T20:43:10Z",
    "updated_at": "2017-03-03T20:43:15Z",
    "body": "@nikomatsakis thanks a lot for the detailed explanation. I'll be diving in soon to see if I can make sense of it all.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/284065087/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/284072081",
    "html_url": "https://github.com/rust-lang/rust/issues/15872#issuecomment-284072081",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15872",
    "id": 284072081,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NDA3MjA4MQ==",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-03-03T21:15:39Z",
    "updated_at": "2017-03-03T21:15:39Z",
    "body": "@djc I'll try to write up the next few steps soon -- but I figured I'd given you enough to chew on to start. =)",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/284072081/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/337233912",
    "html_url": "https://github.com/rust-lang/rust/issues/15872#issuecomment-337233912",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15872",
    "id": 337233912,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNzIzMzkxMg==",
    "user": {
      "login": "qmx",
      "id": 66734,
      "node_id": "MDQ6VXNlcjY2NzM0",
      "avatar_url": "https://avatars.githubusercontent.com/u/66734?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/qmx",
      "html_url": "https://github.com/qmx",
      "followers_url": "https://api.github.com/users/qmx/followers",
      "following_url": "https://api.github.com/users/qmx/following{/other_user}",
      "gists_url": "https://api.github.com/users/qmx/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/qmx/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/qmx/subscriptions",
      "organizations_url": "https://api.github.com/users/qmx/orgs",
      "repos_url": "https://api.github.com/users/qmx/repos",
      "events_url": "https://api.github.com/users/qmx/events{/privacy}",
      "received_events_url": "https://api.github.com/users/qmx/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-10-17T13:37:26Z",
    "updated_at": "2017-10-17T13:37:26Z",
    "body": "heads up, I'm working on this one",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/337233912/reactions",
      "total_count": 2,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 1,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/338700138",
    "html_url": "https://github.com/rust-lang/rust/issues/15872#issuecomment-338700138",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15872",
    "id": 338700138,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzODcwMDEzOA==",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-10-23T15:36:46Z",
    "updated_at": "2017-10-23T15:36:46Z",
    "body": "OK, I've written up a [fairly comprehensive set of examples and test cases in this gist](https://gist.github.com/nikomatsakis/1862ab6126ef7e2411ae3ae46243ac27). The rules I settled on are as follows:\r\n\r\n- All type parameters on the trait are inputs. This means they behave like function parameters.\r\n    - However, we enforce the stricter rule that a struct like `Ref` must use the `Ref<'_>` form, since we can.\r\n    - This was left ambiguous in the RFC, but fits the behavior of all impls I saw in libstd, and seems most natural.\r\n- Associated types are outputs. They can be elided if unambiguous, but not otherwise.\r\n    - However, we enforce the stricter rule that a struct like `Ref` must use the `Ref<'_>` form, since we can.\r\n- Lifetime parameters on traits are considered neither inputs nor outputs. They require explicit names.\r\n    - In an impl of a trait with lifetime parameters, we do not permit elision in associated type values, even if there is only one reference floating about.\r\n    - \"If something has a name, you should use it\", is the principle we intended to enforce (via lint), so it makes sense to do so here where we can do it cleanly.\r\n    - The RFC said otherwise, but that is problematic in various ways, and I don't believe we should do that:\r\n        - It violates the principle that you should only ever need to give explicit lifetime names to make things have the **same** lifetime -- in other words, we don't unify things that you could have left as separate.\r\n        - You probably need to give a name *anyway*, since the lifetime parameter appears in the trait's interface somewhere (see gist for an example).\r\n        - This is a very rare case anyway (does not occur in libstd, for example).\r\n\r\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/338700138/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/340775173",
    "html_url": "https://github.com/rust-lang/rust/issues/15872#issuecomment-340775173",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15872",
    "id": 340775173,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0MDc3NTE3Mw==",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-10-31T14:14:47Z",
    "updated_at": "2017-10-31T14:14:47Z",
    "body": "OK, let me make another effort at writing up some mentoring instructions. I think there are going to be a few big steps. I think the best place to get started is to focus on the case of elided lifetimes that appear in the **types of the impl header**. For example, `impl Foo for &str` or `impl Foo for Bar<'_>`. Just to make things even simpler, let's do it only for impls with no items -- or at least for impls with no methods. This will allow us to skip over some annoying details at first (see below).\r\n\r\n- We need to compute, in the impl, the number of \"elided\" lifetimes that appear in the header. These will eventually become new, synthetic region parameters.\r\n- We have to extend the `resolve_lifetimes` code. It will need to \"resolve\" these elided lifetimes to reference those new parameters.\r\n- We have to extend `generics_of` to include those new parameters.\r\n\r\nI'm a bit torn on the best way to do all of this. Here is one possible path, it may not be the absolute best. Originally, I was going to recommend that we handle a lot of this in the resolve-lifetimes code, building on the existing mechanisms around elided lifetimes. But now I am not sure if that's the best path. In particular, we are going to want to be synthesizing early-bound region parameters, and that will require creating def-ids. It seems like all of this will work more smoothly if we handle it during HIR lowering.\r\n\r\nThe idea would be to follow a not dissimilar path from how we are handling [`impl Trait` in argument position](https://github.com/rust-lang/rust/issues/44721). We'll need to thread around (perhaps using a field, in part to avoid conflicts with that branch, and also because this is not going to \"switch back and forth\" very often) a bit of context I would call the \"lifetime elision mode\". This roughly indicates \"what to do when you find a lifetime that is missing\". Right now [we invoke `self.elided_lifetime()`](https://github.com/rust-lang/rust/blob/77f7e85d7f4ebcc1a291edae95a3747b0e54d7fa/src/librustc/hir/lowering.rs#L3012) and it generates a `hir::Lifetime` with [a special name](https://github.com/rust-lang/rust/blob/77f7e85d7f4ebcc1a291edae95a3747b0e54d7fa/src/librustc/hir/lowering.rs#L3016). Later on, [during lifetime resolution](https://github.com/rust-lang/rust/blob/77f7e85d7f4ebcc1a291edae95a3747b0e54d7fa/src/librustc/middle/resolve_lifetime.rs#L1319), we may report an error if an elided lifetime appears in the wrong place.\r\n\r\nWhat I think we want to do is to add a field to the resolver that tracks the \"lifetime elision mode\". This mode could be one of two values (for now, anyway):\r\n\r\n- `Defer` -- generate an elided lifetime, as today, and \"kick it back\" to lifetime resolution\r\n- `ImplHeader(Vec<RegionParameterDef>)` -- indicates that we will need to create a fresh region parameter on the impl header\r\n\r\nWe will normally have the mode set to `Defer`. But when we are lowering the [trait ref in the impl header](https://github.com/rust-lang/rust/blob/77f7e85d7f4ebcc1a291edae95a3747b0e54d7fa/src/librustc/hir/lowering.rs#L1504-L1508) and the [self type in the impl header](https://github.com/rust-lang/rust/blob/77f7e85d7f4ebcc1a291edae95a3747b0e54d7fa/src/librustc/hir/lowering.rs#L1515), we will set it to `ImplHeader` with an (initially) empty vector.\r\n\r\nThis mode will cause `elided_lifetime()` to behave differently: it will create a new `DefId` for this region, create a `RegionParameterDef`, and store `RegionParameterDef` into the vector. (The indices should take into account the existing parameters declared on the impl, both region and type). It will then generate a new kind of `hir::Lifetime` that references this `RegionParameterDef`. I imagine we can add a [new variant to `hir::LifetimeName`](https://github.com/rust-lang/rust/blob/77f7e85d7f4ebcc1a291edae95a3747b0e54d7fa/src/librustc/hir/mod.rs#L152), something like `Anonymous(usize)`, where `usize` is the index we assigned to the region. This will be understood by the `resolve_lifetimes` code and mapped to an early-bound region.\r\n\r\nWhen we are done with that part of lowering, we can extract the vector and then have a list of the synthetic region parameters that we need, which can then be added to the `Generics` struct.\r\n\r\nOK, that's the high-level idea, but I just realized in writing it that there are some complications. For one thing, I think that some amount of the code today assumes that the all lifetime parameters in a particular scope come before the type parameters, but I think we are going to need to have `[L,T,L]` for the impl. One option is to refactor [`ty::Generics`](https://github.com/rust-lang/rust/blob/77f7e85d7f4ebcc1a291edae95a3747b0e54d7fa/src/librustc/ty/mod.rs#L721) so that, instead of having two lists of generics and types, it has one unified list of `ParameterDef` which is something like:\r\n\r\n```rust\r\nenum ParameterDef<'tcx> {\r\n  Type(TypeParameterDef), Region(RegionParameterDef)\r\n}\r\n```\r\n\r\nWe could then simplify the various bits of logic that are adjusting the indices into these vectors (e.g., [this](https://github.com/rust-lang/rust/blob/77f7e85d7f4ebcc1a291edae95a3747b0e54d7fa/src/librustc/ty/mod.rs#L783)). \r\n\r\nAnother option is that the `generics_of` for an impl would always yield a \"two-step\", where it has\r\n\r\n- lifetimes, types declared on the impl itself (this would be...what def-id? see below)\r\n  - synthetic lifetimes from impl header (this would be the `generics_of(impl_def_id)`)\r\n    - early-bound lifetimes from the method (this would be the `generics_of(method_def_id)` for some method in the impl)\r\n    \r\nCurrently, the second step doesn't exist. This would preserve the current structure, but it would mess up the fact that -- right now -- the parent of a generics is stored as a `DefId`, and we would have to gin up a false def-id to represent the *actual* types and lifetimes from the impl.\r\n\r\nTo me, the first path seems a bit better, but this seems like a try-it-and-see sort of thing.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/340775173/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/340784734",
    "html_url": "https://github.com/rust-lang/rust/issues/15872#issuecomment-340784734",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15872",
    "id": 340784734,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0MDc4NDczNA==",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-10-31T14:44:56Z",
    "updated_at": "2017-10-31T14:45:21Z",
    "body": "One thing to be careful of: when making a trait object ([here](https://github.com/rust-lang/rust/blob/77f7e85d7f4ebcc1a291edae95a3747b0e54d7fa/src/librustc/hir/lowering.rs#L3002) and [here](https://github.com/rust-lang/rust/blob/77f7e85d7f4ebcc1a291edae95a3747b0e54d7fa/src/librustc/hir/lowering.rs#L3002)), I think we want to use the existing elision code. Object lifetime default elision [works somewhat differently](https://github.com/rust-lang/rust/blame/77f7e85d7f4ebcc1a291edae95a3747b0e54d7fa/src/librustc/middle/resolve_lifetime.rs#L395) and we don't want to disturb that. So it probably wants to \"flip\" the mode back to `Defer` temporarily or something.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/340784734/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/342640564",
    "html_url": "https://github.com/rust-lang/rust/issues/15872#issuecomment-342640564",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15872",
    "id": 342640564,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0MjY0MDU2NA==",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-11-07T22:13:10Z",
    "updated_at": "2017-11-07T22:13:10Z",
    "body": "Update: @qmx and I chatted. I realized that I was mistaken about needing to refactor `Generics` to support more flexible lifetime patterns. In particular, it seems that `hir::Generics` do not assign indices, that only happens during the query step, so it's fine if we just insert the synthetic lifetime parameters into the list at arbitrary places.\r\n\r\nAs a very first step, @qmx is going to work on instrumenting the HIR lowering just to detect when `'_` is used in impl headers and report different errors based on whether it is used in a place where it will eventually be supported.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/342640564/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/374933689",
    "html_url": "https://github.com/rust-lang/rust/issues/15872#issuecomment-374933689",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15872",
    "id": 374933689,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NDkzMzY4OQ==",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-03-21T13:20:44Z",
    "updated_at": "2018-03-21T13:20:44Z",
    "body": "Update: I've started hacking on this myself. Building on the existing in-band lifetimes work that @cramertj did, it's not very hard. I think I'm close to a PR.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/374933689/reactions",
      "total_count": 2,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 2,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/400868197",
    "html_url": "https://github.com/rust-lang/rust/issues/15872#issuecomment-400868197",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15872",
    "id": 400868197,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwMDg2ODE5Nw==",
    "user": {
      "login": "mbrubeck",
      "id": 5920,
      "node_id": "MDQ6VXNlcjU5MjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5920?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mbrubeck",
      "html_url": "https://github.com/mbrubeck",
      "followers_url": "https://api.github.com/users/mbrubeck/followers",
      "following_url": "https://api.github.com/users/mbrubeck/following{/other_user}",
      "gists_url": "https://api.github.com/users/mbrubeck/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mbrubeck/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mbrubeck/subscriptions",
      "organizations_url": "https://api.github.com/users/mbrubeck/orgs",
      "repos_url": "https://api.github.com/users/mbrubeck/repos",
      "events_url": "https://api.github.com/users/mbrubeck/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mbrubeck/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-06-28T00:04:27Z",
    "updated_at": "2018-06-28T00:04:27Z",
    "body": "Note for anyone trying to use this feature: It's currently available on the nightly channel with  `#![feature(in_band_lifetimes)]`.  (And `#![feature(underscore_lifetimes)]` is also needed for some use cases.)\r\n\r\nThe tracking issue for stabilization is #44524.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/400868197/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/410975955",
    "html_url": "https://github.com/rust-lang/rust/issues/15872#issuecomment-410975955",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15872",
    "id": 410975955,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMDk3NTk1NQ==",
    "user": {
      "login": "scottmcm",
      "id": 18526288,
      "node_id": "MDQ6VXNlcjE4NTI2Mjg4",
      "avatar_url": "https://avatars.githubusercontent.com/u/18526288?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/scottmcm",
      "html_url": "https://github.com/scottmcm",
      "followers_url": "https://api.github.com/users/scottmcm/followers",
      "following_url": "https://api.github.com/users/scottmcm/following{/other_user}",
      "gists_url": "https://api.github.com/users/scottmcm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/scottmcm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/scottmcm/subscriptions",
      "organizations_url": "https://api.github.com/users/scottmcm/orgs",
      "repos_url": "https://api.github.com/users/scottmcm/repos",
      "events_url": "https://api.github.com/users/scottmcm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/scottmcm/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-08-07T08:23:49Z",
    "updated_at": "2018-08-07T08:23:49Z",
    "body": "Reactivating to serve as a tracking issue, now that this has been split out into its own feature gate.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/410975955/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/412759783",
    "html_url": "https://github.com/rust-lang/rust/issues/15872#issuecomment-412759783",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15872",
    "id": 412759783,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMjc1OTc4Mw==",
    "user": {
      "login": "scottmcm",
      "id": 18526288,
      "node_id": "MDQ6VXNlcjE4NTI2Mjg4",
      "avatar_url": "https://avatars.githubusercontent.com/u/18526288?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/scottmcm",
      "html_url": "https://github.com/scottmcm",
      "followers_url": "https://api.github.com/users/scottmcm/followers",
      "following_url": "https://api.github.com/users/scottmcm/following{/other_user}",
      "gists_url": "https://api.github.com/users/scottmcm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/scottmcm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/scottmcm/subscriptions",
      "organizations_url": "https://api.github.com/users/scottmcm/orgs",
      "repos_url": "https://api.github.com/users/scottmcm/repos",
      "events_url": "https://api.github.com/users/scottmcm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/scottmcm/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-08-14T05:35:58Z",
    "updated_at": "2018-08-20T19:11:21Z",
    "body": "@rfcbot fcp merge\r\n\r\nThis is a seemed-well-received subset of the P-FCP in https://github.com/rust-lang/rust/issues/44524#issuecomment-405763630.  :bell: **If you haven't tried out this feature and left feedback, now is the time to do so** :bell:  (It will take some time for the team members to review the motion to FCP, and then there will be some time for the comment period to complete.)\r\n\r\n[Two simple examples](https://play.rust-lang.org/?gist=1f6ae7a15a74a02ab15c2a95603a0bed&version=nightly) where this avoids needing named lifetimes:\r\n\r\n```rust\r\ntrait MyIterator {\r\n    type Item;\r\n    fn next(&mut self) -> Option<Self::Item>;\r\n}\r\n\r\nimpl<I: MyIterator> MyIterator for &mut I { // No 'a\r\n    type Item = I::Item;\r\n    fn next(&mut self) -> Option<Self::Item> {\r\n        (**self).next()\r\n    }\r\n}\r\n```\r\n\r\n```rust\r\nstruct SetOnDrop<'a, T: 'a> {\r\n    borrow: &'a mut T,\r\n    value: Option<T>,\r\n}\r\n\r\nimpl<T> Drop for SetOnDrop<'_, T> { // No 'a\r\n    fn drop(&mut self) {\r\n        if let Some(x) = self.value.take() {\r\n            *self.borrow = x;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThis is on-by-default in the 2018 edition, and for 2015 is available as of the `2018-08-13` nightly under\r\n\r\n```rust\r\n#![feature(impl_header_lifetime_elision)]\r\n```\r\n\r\n**Edit**: Additional details below in https://github.com/rust-lang/rust/issues/15872#issuecomment-413080939",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/412759783/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/412759787",
    "html_url": "https://github.com/rust-lang/rust/issues/15872#issuecomment-412759787",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15872",
    "id": 412759787,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMjc1OTc4Nw==",
    "user": {
      "login": "rfcbot",
      "id": 20760818,
      "node_id": "MDQ6VXNlcjIwNzYwODE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/20760818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rfcbot",
      "html_url": "https://github.com/rfcbot",
      "followers_url": "https://api.github.com/users/rfcbot/followers",
      "following_url": "https://api.github.com/users/rfcbot/following{/other_user}",
      "gists_url": "https://api.github.com/users/rfcbot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rfcbot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rfcbot/subscriptions",
      "organizations_url": "https://api.github.com/users/rfcbot/orgs",
      "repos_url": "https://api.github.com/users/rfcbot/repos",
      "events_url": "https://api.github.com/users/rfcbot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rfcbot/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-08-14T05:35:59Z",
    "updated_at": "2018-08-23T19:07:45Z",
    "body": "Team member @scottmcm has proposed to merge this. The next step is review by the rest of the tagged teams:\n\n* [x] @Centril\n* [ ] @aturon\n* [x] @cramertj\n* [x] @eddyb\n* [x] @joshtriplett\n* [x] @nikomatsakis\n* [x] @nrc\n* [ ] @pnkfelix\n* [x] @scottmcm\n* [x] @withoutboats\n\nConcerns:\n\n* ~~input-output~~ resolved by https://github.com/rust-lang/rust/issues/15872#issuecomment-415534386\n\nOnce a majority of reviewers approve (and none object), this will enter its final comment period. If you spot a major issue that hasn't been raised at any point in this process, please speak up!\n\nSee [this document](https://github.com/anp/rfcbot-rs/blob/master/README.md) for info about what commands tagged team members can give me.",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/412759787/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/412977660",
    "html_url": "https://github.com/rust-lang/rust/issues/15872#issuecomment-412977660",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15872",
    "id": 412977660,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMjk3NzY2MA==",
    "user": {
      "login": "nrc",
      "id": 762626,
      "node_id": "MDQ6VXNlcjc2MjYyNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/762626?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nrc",
      "html_url": "https://github.com/nrc",
      "followers_url": "https://api.github.com/users/nrc/followers",
      "following_url": "https://api.github.com/users/nrc/following{/other_user}",
      "gists_url": "https://api.github.com/users/nrc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nrc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nrc/subscriptions",
      "organizations_url": "https://api.github.com/users/nrc/orgs",
      "repos_url": "https://api.github.com/users/nrc/repos",
      "events_url": "https://api.github.com/users/nrc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nrc/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-08-14T18:51:01Z",
    "updated_at": "2018-08-14T18:51:01Z",
    "body": "> This is a seemed-well-received subset of the P-FCP in #44524 (comment)\r\n\r\n@scottmcm could you specify exactly what is being FCP'ed here please?",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/412977660/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/413079787",
    "html_url": "https://github.com/rust-lang/rust/issues/15872#issuecomment-413079787",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15872",
    "id": 413079787,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMzA3OTc4Nw==",
    "user": {
      "login": "Centril",
      "id": 855702,
      "node_id": "MDQ6VXNlcjg1NTcwMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/855702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Centril",
      "html_url": "https://github.com/Centril",
      "followers_url": "https://api.github.com/users/Centril/followers",
      "following_url": "https://api.github.com/users/Centril/following{/other_user}",
      "gists_url": "https://api.github.com/users/Centril/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Centril/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Centril/subscriptions",
      "organizations_url": "https://api.github.com/users/Centril/orgs",
      "repos_url": "https://api.github.com/users/Centril/repos",
      "events_url": "https://api.github.com/users/Centril/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Centril/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-08-15T02:59:46Z",
    "updated_at": "2018-08-15T02:59:46Z",
    "body": "@nrc  AIUI just implicit universal quantification of lifetimes for elided lifetime positions in impl headers (`&Type`, `Type<'_>`) but not in-band ones in headers and functions, so no (`&'tcx Type`, `Type<'tcx>`).",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/413079787/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/413080939",
    "html_url": "https://github.com/rust-lang/rust/issues/15872#issuecomment-413080939",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15872",
    "id": 413080939,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMzA4MDkzOQ==",
    "user": {
      "login": "scottmcm",
      "id": 18526288,
      "node_id": "MDQ6VXNlcjE4NTI2Mjg4",
      "avatar_url": "https://avatars.githubusercontent.com/u/18526288?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/scottmcm",
      "html_url": "https://github.com/scottmcm",
      "followers_url": "https://api.github.com/users/scottmcm/followers",
      "following_url": "https://api.github.com/users/scottmcm/following{/other_user}",
      "gists_url": "https://api.github.com/users/scottmcm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/scottmcm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/scottmcm/subscriptions",
      "organizations_url": "https://api.github.com/users/scottmcm/orgs",
      "repos_url": "https://api.github.com/users/scottmcm/repos",
      "events_url": "https://api.github.com/users/scottmcm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/scottmcm/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-08-15T03:08:02Z",
    "updated_at": "2018-08-15T03:08:02Z",
    "body": "@nrc The parts of https://github.com/rust-lang/rfcs/pull/141 that relate to impl headers, adapted to current use of `'_`.\r\n\r\nSo, specifically, these examples:\r\n```rust\r\nimpl Reader for BufReader<'_> { ... }                   // elided\r\nimpl<'a> Reader for BufReader<'a> { .. }                // expanded\r\n\r\nimpl Reader for (&str, &str) { ... }                    // elided\r\nimpl<'a, 'b> Reader for (&'a str, &'b str) { ... }      // expanded\r\n```\r\n\r\nThe rules being:\r\n- You can use `'_` in an impl header\r\n- You can use `&T` or `&mut T` in an impl header, equivalent to `&'_ T` or `&'a mut T` respectively\r\n- Each `'_` is a fresh lifetime that cannot be mentioned again elsewhere\r\n- All lifetime generics must be specified (no `for Ref<T>`; it must be `for Ref<'_, T`)\r\n\r\nAKA all the lifetimes in the impl header are \"input lifetimes\".  (IMHO the place in impls for output lifetimes will be in [associated type elision](https://internals.rust-lang.org/t/lifetime-elision-for-associated-types-unbaked-idea/7997?u=scottmcm), but that's not part of the RFC nor the FCP.)\r\n\r\nNote, thus, that the following example from the RFC is _not_ included:\r\n```rust\r\nimpl StrSlice for &str { ... }                          // elided\r\nimpl<'a> StrSlice<'a> for &'a str { ... }               // expanded\r\n```\r\nAs it would need to be `StrSlice<'_>`, and the expansion would actually be\r\n```rust\r\nimpl StrSlice<'_> for &str { ... }                      // elided\r\nimpl<'a, 'b> StrSlice<'a> for &'b str { ... }           // expanded\r\n```\r\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/413080939/reactions",
      "total_count": 4,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 4,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/414457751",
    "html_url": "https://github.com/rust-lang/rust/issues/15872#issuecomment-414457751",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15872",
    "id": 414457751,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxNDQ1Nzc1MQ==",
    "user": {
      "login": "aturon",
      "id": 709807,
      "node_id": "MDQ6VXNlcjcwOTgwNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/709807?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aturon",
      "html_url": "https://github.com/aturon",
      "followers_url": "https://api.github.com/users/aturon/followers",
      "following_url": "https://api.github.com/users/aturon/following{/other_user}",
      "gists_url": "https://api.github.com/users/aturon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aturon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aturon/subscriptions",
      "organizations_url": "https://api.github.com/users/aturon/orgs",
      "repos_url": "https://api.github.com/users/aturon/repos",
      "events_url": "https://api.github.com/users/aturon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aturon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-08-20T20:47:27Z",
    "updated_at": "2018-08-20T20:47:27Z",
    "body": "@rfcbot concert input-output\r\n\r\n@scottmcm can you say more about the rationale for making all positions input positions? IIRC with the original RFC we did some amount of usage analysis to inform the input/output distinction, and the feeling was that lifetime parameters in traits were most often connected (as outputs) to those in types. At an intuitive level, this makes sense to be because if a trait is tied to some lifetime, it generally implies the presence of borrowing within the structures that implement the trait.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/414457751/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/414470388",
    "html_url": "https://github.com/rust-lang/rust/issues/15872#issuecomment-414470388",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15872",
    "id": 414470388,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxNDQ3MDM4OA==",
    "user": {
      "login": "Centril",
      "id": 855702,
      "node_id": "MDQ6VXNlcjg1NTcwMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/855702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Centril",
      "html_url": "https://github.com/Centril",
      "followers_url": "https://api.github.com/users/Centril/followers",
      "following_url": "https://api.github.com/users/Centril/following{/other_user}",
      "gists_url": "https://api.github.com/users/Centril/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Centril/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Centril/subscriptions",
      "organizations_url": "https://api.github.com/users/Centril/orgs",
      "repos_url": "https://api.github.com/users/Centril/repos",
      "events_url": "https://api.github.com/users/Centril/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Centril/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-08-20T21:32:17Z",
    "updated_at": "2018-08-20T21:32:17Z",
    "body": "@aturon that usage analysis seems reasonable to me. However, while this is probably vague... I would not expect traits to count as output positions because they do not feel like outputs while associated types do.\r\n\r\n> At an intuitive level, this makes sense to be because if a trait is tied to some lifetime, it generally implies the presence of borrowing within the structures that implement the trait.\r\n\r\nI think that makes sense.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/414470388/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/414592554",
    "html_url": "https://github.com/rust-lang/rust/issues/15872#issuecomment-414592554",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15872",
    "id": 414592554,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxNDU5MjU1NA==",
    "user": {
      "login": "scottmcm",
      "id": 18526288,
      "node_id": "MDQ6VXNlcjE4NTI2Mjg4",
      "avatar_url": "https://avatars.githubusercontent.com/u/18526288?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/scottmcm",
      "html_url": "https://github.com/scottmcm",
      "followers_url": "https://api.github.com/users/scottmcm/followers",
      "following_url": "https://api.github.com/users/scottmcm/following{/other_user}",
      "gists_url": "https://api.github.com/users/scottmcm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/scottmcm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/scottmcm/subscriptions",
      "organizations_url": "https://api.github.com/users/scottmcm/orgs",
      "repos_url": "https://api.github.com/users/scottmcm/repos",
      "events_url": "https://api.github.com/users/scottmcm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/scottmcm/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-08-21T08:22:43Z",
    "updated_at": "2018-08-21T08:42:24Z",
    "body": "@nikomatsakis As the author of https://github.com/rust-lang/rust/pull/49251, can you confirm that my description of the rules match what's implemented?  Though I'm pretty sure it does based on https://play.rust-lang.org/?gist=de64967030a2a17a21e58b6209d1b834&version=nightly&mode=debug&edition=2018\r\n\r\n@aturon Yes, this is what I was [asking about on Discord](https://discordapp.com/channels/442252698964721669/443151225160990732/479150459869855754) -- I hadn't actually looked at what the RFC said it should be doing until writing https://github.com/rust-lang/rust/issues/15872#issuecomment-413080939, as it wasn't needed to do the feature gate PR  :slightly_smiling_face:\r\n\r\nI think the important part is that it's not \"all positions [are] input positions\", but that _parameters_ are input position.  This is the same as functions, where all _parameters_ are input positions, but not all positions are input positions: the return type, which is not a parameter, is output position.  \"Parameters are controlled by the caller, so are input position\" is true for both functions and impls.  I think the correct intuition is that `impl Foo<A> for B` is not like `fn Foo(a: A)->B`, but like `fn Foo(self: B, a: A)`.\r\n\r\nBut that leaves an obvious question: What _is_ output position for `impl`s?  Answer: **Associated types.**\r\n\r\nThis is most blatant for the operator traits.  That this, for example:\r\n\r\n```rust\r\nimpl Add<&i32> for &i32 {\r\n    type Output = i32;\r\n    ...\r\n}\r\n```\r\n\r\nHow do we want that elided?  Exactly like `fn(&i32, &i32)->i32`, and _not_ like `fn(&i32) -> (&i32, i32)`.  This also holds true for the other two `impl`s using `&`s:\r\n\r\n```rust\r\nimpl Add<i32> for &i32 { // clearly input position, fine under either model\r\n```\r\n```rust\r\nimpl Add<&i32> for i32 { // cannot elide if trait arguments are output position\r\n```\r\n\r\nThe RHS is a type parameter because we want it to be an input when it comes to trait resolution; that's _why_ it's a type parameter and not an associated type.  The same is true for elision.\r\n\r\nBut of course that's an associated type with no lifetime.  What it the associated type needs one?  Well, there are a [bunch](https://github.com/rust-lang/rust/compare/master...scottmcm:assoc-type-lifetime-elision-demo) of those because of the normal pattern with `IntoIterator`:\r\n\r\nhttps://github.com/rust-lang/rust/blob/1558ae7cfd5e1190d3388dcc6f0f734589e4e478/src/liballoc/vec.rs#L1818-L1820\r\n\r\nSaying that associated types are output position (in a [future](https://internals.rust-lang.org/t/lifetime-elision-for-associated-types-unbaked-idea/7997?u=scottmcm) RFC) would simplify that pattern:\r\n\r\n```rust\r\nimpl<T> IntoIterator for &Vec<T> { \r\n    type Item = &T; \r\n    type IntoIter = slice::Iter<'_, T>; \r\n```\r\n\r\nThat continues to fit the analogy to `fn`: that impl would be `fn(&Vec<T>) -> (&T, Iter<'_, T>)`.\r\n\r\nBut are trait parameters being input helpful for this, you ask?  Well, see things like\r\n\r\nhttps://github.com/rust-lang/rust/blob/1558ae7cfd5e1190d3388dcc6f0f734589e4e478/src/libcore/str/pattern.rs#L431-L433\r\n\r\nThat's definitely an input-ish lifetime on the trait that could be elided for the associated type, as it's like `fn(char, X<'_>) -> Searcher<'_>`: one input with a lifetime, so the output gets it via elision.  (Disclaimer: this example isn't perfect, since the lifetime is also needed in methods, unlike `IntoIterator`.)\r\n\r\nSo while there are certainly situations where trait parameters being output position in the context of elision would be helpful, I think it's inconsistent with how we treat trait parameters in things like resolution, it's surprising or maybe harmful when the parameter come from `&T` (instead of the lifetime being directly on the trait), and associated types being output position is a better choice overall.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/414592554/reactions",
      "total_count": 3,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 3,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/414673066",
    "html_url": "https://github.com/rust-lang/rust/issues/15872#issuecomment-414673066",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15872",
    "id": 414673066,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxNDY3MzA2Ng==",
    "user": {
      "login": "rfcbot",
      "id": 20760818,
      "node_id": "MDQ6VXNlcjIwNzYwODE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/20760818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rfcbot",
      "html_url": "https://github.com/rfcbot",
      "followers_url": "https://api.github.com/users/rfcbot/followers",
      "following_url": "https://api.github.com/users/rfcbot/following{/other_user}",
      "gists_url": "https://api.github.com/users/rfcbot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rfcbot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rfcbot/subscriptions",
      "organizations_url": "https://api.github.com/users/rfcbot/orgs",
      "repos_url": "https://api.github.com/users/rfcbot/repos",
      "events_url": "https://api.github.com/users/rfcbot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rfcbot/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-08-21T13:27:00Z",
    "updated_at": "2018-08-21T13:27:00Z",
    "body": ":bell: **This is now entering its final comment period**, as per the [review above](https://github.com/rust-lang/rust/issues/15872#issuecomment-412759787). :bell:",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/414673066/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/414675399",
    "html_url": "https://github.com/rust-lang/rust/issues/15872#issuecomment-414675399",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15872",
    "id": 414675399,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxNDY3NTM5OQ==",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-08-21T13:34:08Z",
    "updated_at": "2018-08-21T13:34:37Z",
    "body": "@aturon \r\n\r\n> can you say more about the rationale for making all positions input positions? \r\n\r\nI can confirm @scottmcm's interpretation. @aturon, I did indeed take a different approach than what the RFC seemed to suggest (though the RFC text, iirc, was also sort of ambiguous). I left a few comments along the way (e.g., [a](https://github.com/rust-lang/rust/issues/15872#issuecomment-283977762) and [b](https://github.com/rust-lang/rust/issues/15872#issuecomment-338700138)), but let me summarize:\r\n\r\n- The analysis in the RFC was dated. \r\n  - I looked at libstd and found that **all** extant impls matched wanted elided lifetimes in impls to be inputs. For example, `impl PartialEq<&str> for  &str`. \r\n  - I believe the RFC may have pre-dated associated types?\r\n  - I would not object to somebody else independently verifying this, but that is what I remember.\r\n- I (personally) found the idea of having `impl Foo<&str> for &str` expand to `impl Foo<&'a str> for &'a str` quite surprising -- it did not match my intuitions at all.\r\n  - This is because I think of the \"input types\" in an impl header as being analogous to parameters in a fn, I suppose.\r\n  - Basically the same argument that @scottmcm [laid out here](https://github.com/rust-lang/rust/issues/15872#issuecomment-414592554)\r\n  - In other words, I would expand to see named lifetimes in that scenario to \"tie things together\".\r\n\r\nSo, those two things combined led me to pursue the path as currently implemented. I would be very interested however to hear if people have found this behavior surprising or found that -- in their libraries -- an alternative behavior would be preferable.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/414675399/reactions",
      "total_count": 6,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 6,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/414712439",
    "html_url": "https://github.com/rust-lang/rust/issues/15872#issuecomment-414712439",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15872",
    "id": 414712439,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxNDcxMjQzOQ==",
    "user": {
      "login": "Centril",
      "id": 855702,
      "node_id": "MDQ6VXNlcjg1NTcwMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/855702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Centril",
      "html_url": "https://github.com/Centril",
      "followers_url": "https://api.github.com/users/Centril/followers",
      "following_url": "https://api.github.com/users/Centril/following{/other_user}",
      "gists_url": "https://api.github.com/users/Centril/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Centril/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Centril/subscriptions",
      "organizations_url": "https://api.github.com/users/Centril/orgs",
      "repos_url": "https://api.github.com/users/Centril/repos",
      "events_url": "https://api.github.com/users/Centril/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Centril/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-08-21T15:18:41Z",
    "updated_at": "2018-08-21T15:18:41Z",
    "body": "To make sure that @aturon's concern doesn't go unregistered...\r\n\r\n@rfcbot concern input-output",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/414712439/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/414801254",
    "html_url": "https://github.com/rust-lang/rust/issues/15872#issuecomment-414801254",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15872",
    "id": 414801254,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxNDgwMTI1NA==",
    "user": {
      "login": "scottmcm",
      "id": 18526288,
      "node_id": "MDQ6VXNlcjE4NTI2Mjg4",
      "avatar_url": "https://avatars.githubusercontent.com/u/18526288?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/scottmcm",
      "html_url": "https://github.com/scottmcm",
      "followers_url": "https://api.github.com/users/scottmcm/followers",
      "following_url": "https://api.github.com/users/scottmcm/following{/other_user}",
      "gists_url": "https://api.github.com/users/scottmcm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/scottmcm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/scottmcm/subscriptions",
      "organizations_url": "https://api.github.com/users/scottmcm/orgs",
      "repos_url": "https://api.github.com/users/scottmcm/repos",
      "events_url": "https://api.github.com/users/scottmcm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/scottmcm/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-08-21T19:56:17Z",
    "updated_at": "2018-08-21T19:56:17Z",
    "body": "> I believe the RFC may have pre-dated associated types?\r\n\r\nGood catch, @nikomatsakis!  The RFC was merged 2014-07-09; in 2014-09 `Add` was still\r\n\r\nhttps://github.com/rust-lang/rust/blob/98fff20a7c95bdbb32652a95fd3211f743218b46/src/libcore/ops.rs#L114-L118\r\n\r\nAnother thing I noticed: eliding a lifetime parameter to a trait is often useless, since it needs to be mentioned later in a method signature.  For example, [`rustc::mir::visit::Visitor<'tcx>`](https://doc.rust-lang.org/nightly/nightly-rustc/rustc/mir/visit/trait.Visitor.html#implementors) could sometimes get its lifetime from the Self type (though even here there are more places where it couldn't, as the types have multiple or zero lifetime parameters), but even where that could work, it wouldn't be used as the `fn`s need it:\r\n\r\nhttps://github.com/rust-lang/rust/blob/9f9f2c0095cd683b94adca133f2733aa1f88bb19/src/librustc_mir/transform/promote_consts.rs#L86-L90\r\n\r\n(Unless, like was discussed for in-band, there was some \"higher-level\" convention for lifetimes so the `fn` could reference `PlaceContext<''_>` or something, but that doesn't sound great to me.)",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/414801254/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/415534386",
    "html_url": "https://github.com/rust-lang/rust/issues/15872#issuecomment-415534386",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15872",
    "id": 415534386,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxNTUzNDM4Ng==",
    "user": {
      "login": "Centril",
      "id": 855702,
      "node_id": "MDQ6VXNlcjg1NTcwMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/855702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Centril",
      "html_url": "https://github.com/Centril",
      "followers_url": "https://api.github.com/users/Centril/followers",
      "following_url": "https://api.github.com/users/Centril/following{/other_user}",
      "gists_url": "https://api.github.com/users/Centril/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Centril/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Centril/subscriptions",
      "organizations_url": "https://api.github.com/users/Centril/orgs",
      "repos_url": "https://api.github.com/users/Centril/repos",
      "events_url": "https://api.github.com/users/Centril/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Centril/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-08-23T19:07:42Z",
    "updated_at": "2018-08-23T19:07:42Z",
    "body": "On behalf of @aturon:\r\n\r\n@rfcbot resolve input-output",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/415534386/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/415534427",
    "html_url": "https://github.com/rust-lang/rust/issues/15872#issuecomment-415534427",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15872",
    "id": 415534427,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxNTUzNDQyNw==",
    "user": {
      "login": "rfcbot",
      "id": 20760818,
      "node_id": "MDQ6VXNlcjIwNzYwODE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/20760818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rfcbot",
      "html_url": "https://github.com/rfcbot",
      "followers_url": "https://api.github.com/users/rfcbot/followers",
      "following_url": "https://api.github.com/users/rfcbot/following{/other_user}",
      "gists_url": "https://api.github.com/users/rfcbot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rfcbot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rfcbot/subscriptions",
      "organizations_url": "https://api.github.com/users/rfcbot/orgs",
      "repos_url": "https://api.github.com/users/rfcbot/repos",
      "events_url": "https://api.github.com/users/rfcbot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rfcbot/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-08-23T19:07:47Z",
    "updated_at": "2018-08-23T19:07:47Z",
    "body": ":bell: **This is now entering its final comment period**, as per the [review above](https://github.com/rust-lang/rust/issues/15872#issuecomment-412759787). :bell:",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/415534427/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/415534496",
    "html_url": "https://github.com/rust-lang/rust/issues/15872#issuecomment-415534496",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15872",
    "id": 415534496,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxNTUzNDQ5Ng==",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-08-23T19:08:03Z",
    "updated_at": "2018-08-23T19:08:03Z",
    "body": "One more point that I forgot to add. I thought that the elision rules as originally written would require you to sometimes use disjoint names just to force disjointness, which is weird. e.g. you might need to write this:\r\n\r\n```rust\r\nimpl<'a, 'b> PartialEq<&'a Foo> for &'b Foo { }\r\n```\r\n\r\nto permit two references with distinct lifetimes to be used.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/415534496/reactions",
      "total_count": 3,
      "+1": 3,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/415568193",
    "html_url": "https://github.com/rust-lang/rust/issues/15872#issuecomment-415568193",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15872",
    "id": 415568193,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxNTU2ODE5Mw==",
    "user": {
      "login": "scottmcm",
      "id": 18526288,
      "node_id": "MDQ6VXNlcjE4NTI2Mjg4",
      "avatar_url": "https://avatars.githubusercontent.com/u/18526288?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/scottmcm",
      "html_url": "https://github.com/scottmcm",
      "followers_url": "https://api.github.com/users/scottmcm/followers",
      "following_url": "https://api.github.com/users/scottmcm/following{/other_user}",
      "gists_url": "https://api.github.com/users/scottmcm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/scottmcm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/scottmcm/subscriptions",
      "organizations_url": "https://api.github.com/users/scottmcm/orgs",
      "repos_url": "https://api.github.com/users/scottmcm/repos",
      "events_url": "https://api.github.com/users/scottmcm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/scottmcm/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-08-23T20:55:54Z",
    "updated_at": "2018-08-23T20:55:54Z",
    "body": "To add to niko's comment: ...and we want to lint on single-use lifetimes like that.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/415568193/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/417953153",
    "html_url": "https://github.com/rust-lang/rust/issues/15872#issuecomment-417953153",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15872",
    "id": 417953153,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxNzk1MzE1Mw==",
    "user": {
      "login": "rfcbot",
      "id": 20760818,
      "node_id": "MDQ6VXNlcjIwNzYwODE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/20760818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rfcbot",
      "html_url": "https://github.com/rfcbot",
      "followers_url": "https://api.github.com/users/rfcbot/followers",
      "following_url": "https://api.github.com/users/rfcbot/following{/other_user}",
      "gists_url": "https://api.github.com/users/rfcbot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rfcbot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rfcbot/subscriptions",
      "organizations_url": "https://api.github.com/users/rfcbot/orgs",
      "repos_url": "https://api.github.com/users/rfcbot/repos",
      "events_url": "https://api.github.com/users/rfcbot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rfcbot/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-09-02T19:11:09Z",
    "updated_at": "2018-09-02T19:11:09Z",
    "body": "The final comment period, with a disposition to **merge**, as per the [review above](https://github.com/rust-lang/rust/issues/15872#issuecomment-412759787), is now **complete**.",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/417953153/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 1,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/423279555",
    "html_url": "https://github.com/rust-lang/rust/issues/15872#issuecomment-423279555",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15872",
    "id": 423279555,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyMzI3OTU1NQ==",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-09-20T18:06:30Z",
    "updated_at": "2018-09-20T18:06:30Z",
    "body": "What's the current status here? @rfcbot says we're good to go. It seems this is already stable as part of edition 2018. What's left to do?",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/423279555/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/423280444",
    "html_url": "https://github.com/rust-lang/rust/issues/15872#issuecomment-423280444",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15872",
    "id": 423280444,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyMzI4MDQ0NA==",
    "user": {
      "login": "Centril",
      "id": 855702,
      "node_id": "MDQ6VXNlcjg1NTcwMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/855702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Centril",
      "html_url": "https://github.com/Centril",
      "followers_url": "https://api.github.com/users/Centril/followers",
      "following_url": "https://api.github.com/users/Centril/following{/other_user}",
      "gists_url": "https://api.github.com/users/Centril/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Centril/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Centril/subscriptions",
      "organizations_url": "https://api.github.com/users/Centril/orgs",
      "repos_url": "https://api.github.com/users/Centril/repos",
      "events_url": "https://api.github.com/users/Centril/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Centril/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-09-20T18:09:28Z",
    "updated_at": "2018-09-20T18:09:28Z",
    "body": "@steveklabnik this needs to be stabilized by someone and then I think the reference and docs need to be updated.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/423280444/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/423282641",
    "html_url": "https://github.com/rust-lang/rust/issues/15872#issuecomment-423282641",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15872",
    "id": 423282641,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyMzI4MjY0MQ==",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-09-20T18:16:48Z",
    "updated_at": "2018-09-20T18:16:48Z",
    "body": "What does that stabilization effect, given that it\u2019s already stable in 2018? For 2015?\n\n> On Sep 20, 2018, at 2:09 PM, Mazdak Farrokhzad <notifications@github.com> wrote:\n> \n> @steveklabnik this needs to be stabilized by someone and then I think the reference and docs need to be updated.\n> \n> \u2014\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub, or mute the thread.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/423282641/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/423283334",
    "html_url": "https://github.com/rust-lang/rust/issues/15872#issuecomment-423283334",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15872",
    "id": 423283334,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyMzI4MzMzNA==",
    "user": {
      "login": "Centril",
      "id": 855702,
      "node_id": "MDQ6VXNlcjg1NTcwMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/855702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Centril",
      "html_url": "https://github.com/Centril",
      "followers_url": "https://api.github.com/users/Centril/followers",
      "following_url": "https://api.github.com/users/Centril/following{/other_user}",
      "gists_url": "https://api.github.com/users/Centril/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Centril/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Centril/subscriptions",
      "organizations_url": "https://api.github.com/users/Centril/orgs",
      "repos_url": "https://api.github.com/users/Centril/repos",
      "events_url": "https://api.github.com/users/Centril/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Centril/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-09-20T18:18:50Z",
    "updated_at": "2018-09-20T18:18:50Z",
    "body": "@steveklabnik yes, there's no reason AFAIK that this should not be stable in 2015 because there is no breakage.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/423283334/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/423285422",
    "html_url": "https://github.com/rust-lang/rust/issues/15872#issuecomment-423285422",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15872",
    "id": 423285422,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyMzI4NTQyMg==",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-09-20T18:25:31Z",
    "updated_at": "2018-09-20T18:25:31Z",
    "body": "Great, just trying to understand exactly what's up.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/423285422/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/423286168",
    "html_url": "https://github.com/rust-lang/rust/issues/15872#issuecomment-423286168",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15872",
    "id": 423286168,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyMzI4NjE2OA==",
    "user": {
      "login": "Centril",
      "id": 855702,
      "node_id": "MDQ6VXNlcjg1NTcwMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/855702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Centril",
      "html_url": "https://github.com/Centril",
      "followers_url": "https://api.github.com/users/Centril/followers",
      "following_url": "https://api.github.com/users/Centril/following{/other_user}",
      "gists_url": "https://api.github.com/users/Centril/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Centril/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Centril/subscriptions",
      "organizations_url": "https://api.github.com/users/Centril/orgs",
      "repos_url": "https://api.github.com/users/Centril/repos",
      "events_url": "https://api.github.com/users/Centril/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Centril/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-09-20T18:27:45Z",
    "updated_at": "2018-09-20T18:27:45Z",
    "body": "@steveklabnik you and me both ;)",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/423286168/reactions",
      "total_count": 2,
      "+1": 0,
      "-1": 0,
      "laugh": 2,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/423729371",
    "html_url": "https://github.com/rust-lang/rust/issues/15872#issuecomment-423729371",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15872",
    "id": 423729371,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyMzcyOTM3MQ==",
    "user": {
      "login": "scottmcm",
      "id": 18526288,
      "node_id": "MDQ6VXNlcjE4NTI2Mjg4",
      "avatar_url": "https://avatars.githubusercontent.com/u/18526288?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/scottmcm",
      "html_url": "https://github.com/scottmcm",
      "followers_url": "https://api.github.com/users/scottmcm/followers",
      "following_url": "https://api.github.com/users/scottmcm/following{/other_user}",
      "gists_url": "https://api.github.com/users/scottmcm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/scottmcm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/scottmcm/subscriptions",
      "organizations_url": "https://api.github.com/users/scottmcm/orgs",
      "repos_url": "https://api.github.com/users/scottmcm/repos",
      "events_url": "https://api.github.com/users/scottmcm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/scottmcm/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-09-22T09:09:15Z",
    "updated_at": "2018-10-03T07:37:01Z",
    "body": "I have a PR up for the issue I found with this (https://github.com/rust-lang/rust/pull/54458); should be good for a [stabilization PR](https://forge.rust-lang.org/stabilization-guide.html).\r\n\r\n**Edit**: Started one at https://github.com/rust-lang/rust/pull/54778",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/423729371/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/432955700",
    "html_url": "https://github.com/rust-lang/rust/issues/15872#issuecomment-432955700",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15872",
    "id": 432955700,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMjk1NTcwMA==",
    "user": {
      "login": "scottmcm",
      "id": 18526288,
      "node_id": "MDQ6VXNlcjE4NTI2Mjg4",
      "avatar_url": "https://avatars.githubusercontent.com/u/18526288?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/scottmcm",
      "html_url": "https://github.com/scottmcm",
      "followers_url": "https://api.github.com/users/scottmcm/followers",
      "following_url": "https://api.github.com/users/scottmcm/following{/other_user}",
      "gists_url": "https://api.github.com/users/scottmcm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/scottmcm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/scottmcm/subscriptions",
      "organizations_url": "https://api.github.com/users/scottmcm/orgs",
      "repos_url": "https://api.github.com/users/scottmcm/repos",
      "events_url": "https://api.github.com/users/scottmcm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/scottmcm/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-10-25T08:11:02Z",
    "updated_at": "2018-10-25T08:11:02Z",
    "body": ":tada: https://github.com/rust-lang/rust/pull/54778 stabilized this for 1.31 :tada: ",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/432955700/reactions",
      "total_count": 3,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 2,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
