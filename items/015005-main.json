{
  "url": "https://api.github.com/repos/rust-lang/rust/issues/15005",
  "repository_url": "https://api.github.com/repos/rust-lang/rust",
  "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/15005/labels{/name}",
  "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/15005/comments",
  "events_url": "https://api.github.com/repos/rust-lang/rust/issues/15005/events",
  "html_url": "https://github.com/rust-lang/rust/pull/15005",
  "id": 35994519,
  "node_id": "MDExOlB1bGxSZXF1ZXN0MTcyOTg2Njc=",
  "number": 15005,
  "title": "Compile bools to i1",
  "user": {
    "login": "dotdash",
    "id": 230962,
    "node_id": "MDQ6VXNlcjIzMDk2Mg==",
    "avatar_url": "https://avatars.githubusercontent.com/u/230962?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/dotdash",
    "html_url": "https://github.com/dotdash",
    "followers_url": "https://api.github.com/users/dotdash/followers",
    "following_url": "https://api.github.com/users/dotdash/following{/other_user}",
    "gists_url": "https://api.github.com/users/dotdash/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/dotdash/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/dotdash/subscriptions",
    "organizations_url": "https://api.github.com/users/dotdash/orgs",
    "repos_url": "https://api.github.com/users/dotdash/repos",
    "events_url": "https://api.github.com/users/dotdash/events{/privacy}",
    "received_events_url": "https://api.github.com/users/dotdash/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "labels": [],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [],
  "milestone": null,
  "comments": 20,
  "created_at": "2014-06-18T15:04:28Z",
  "updated_at": "2014-06-22T20:34:28Z",
  "closed_at": "2014-06-22T02:16:33Z",
  "author_association": "CONTRIBUTOR",
  "type": null,
  "active_lock_reason": null,
  "draft": false,
  "pull_request": {
    "url": "https://api.github.com/repos/rust-lang/rust/pulls/15005",
    "html_url": "https://github.com/rust-lang/rust/pull/15005",
    "diff_url": "https://github.com/rust-lang/rust/pull/15005.diff",
    "patch_url": "https://github.com/rust-lang/rust/pull/15005.patch",
    "merged_at": null
  },
  "body": "We currently compiled bools to i8 values, because there was a bug in\nLLVM that sometimes caused miscompilations when using i1 in, for\nexample, structs.\n\nUsing i8 means a lot of unnecessary zero-extend and truncate operations\nthough, since we have to convert the value from and to i1 when using for\nexample icmp or br instructions. Besides the unnecessary overhead caused\nby this, it also sometimes made LLVM miss some optimizations.\n\nFirst, we have to fix some bugs concerning the handling of\nattributes in foreign function declarations and calls. These\nare required because the i1 type needs the ZExt attribute when\nused as a function parameter or return type.\n\nThen we have to update LLVM to get a bugfix without which LLVM\nsometimes generates broken code when using i1.\n\nAnd then, finally, we can switch bools over to i1.\n",
  "closed_by": {
    "login": "bors",
    "id": 3372342,
    "node_id": "MDQ6VXNlcjMzNzIzNDI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/bors",
    "html_url": "https://github.com/bors",
    "followers_url": "https://api.github.com/users/bors/followers",
    "following_url": "https://api.github.com/users/bors/following{/other_user}",
    "gists_url": "https://api.github.com/users/bors/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bors/subscriptions",
    "organizations_url": "https://api.github.com/users/bors/orgs",
    "repos_url": "https://api.github.com/users/bors/repos",
    "events_url": "https://api.github.com/users/bors/events{/privacy}",
    "received_events_url": "https://api.github.com/users/bors/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/15005/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/15005/timeline",
  "performed_via_github_app": null,
  "state_reason": null,
  "_meta": {
    "type": "pr"
  }
}
