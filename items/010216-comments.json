[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/27559260",
    "html_url": "https://github.com/rust-lang/rust/issues/10216#issuecomment-27559260",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10216",
    "id": 27559260,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3NTU5MjYw",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-01T11:13:34Z",
    "updated_at": "2013-11-01T11:13:34Z",
    "body": "There is a certain clarity to this idea, it can be confusing how some types also introduce values. But it'd involve changing quite a bit of code, and I'm not sure I'd actually like using the end result better. Also, for nullary variants like `None` you'd have to (presumably) write `None {}`? It seems like one of the main end results from this change would be a deriving mode to create the functions-and-statics we make automatically today.\n\nThe major downside seems to be that in patterns you would just have to write `None {}` and `Some {}`, presumably. Maybe if you defined a static for `None` you could write `None` (I forget if we allow static constants in patterns yet) but it'd bypass the exhaustiveness checker unless we made some pretty ad-hoc rules.\n\nI've also thought about going the other way: making a constructor function for regular structs, because it seems like it'd frequently be handy -- and in particular I often wish I could write something like `Point(x, y)` in matches where I now have to write `Point {x: ..., y: ...}`.\n\nIn the end, I'm probably not motivated to do either change, particularly due to the effects on patterns.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/27559260/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/27565711",
    "html_url": "https://github.com/rust-lang/rust/issues/10216#issuecomment-27565711",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10216",
    "id": 27565711,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3NTY1NzEx",
    "user": {
      "login": "pythonesque",
      "id": 923144,
      "node_id": "MDQ6VXNlcjkyMzE0NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/923144?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pythonesque",
      "html_url": "https://github.com/pythonesque",
      "followers_url": "https://api.github.com/users/pythonesque/followers",
      "following_url": "https://api.github.com/users/pythonesque/following{/other_user}",
      "gists_url": "https://api.github.com/users/pythonesque/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pythonesque/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pythonesque/subscriptions",
      "organizations_url": "https://api.github.com/users/pythonesque/orgs",
      "repos_url": "https://api.github.com/users/pythonesque/repos",
      "events_url": "https://api.github.com/users/pythonesque/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pythonesque/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-01T13:36:11Z",
    "updated_at": "2013-11-01T13:48:07Z",
    "body": "I think nullary variants can remain constants, since they are pure values anyway, subject to generics (though I do agree that pedagogically None {} would be nicer, but I think there's a limited amount of damage you can do with constants from a readability perspective :)--also, in enums, you never have the value-and-type problem in the first place).  SML/NJ, which goes to the other extreme you mention (though that's more a product of how their functions work than anything else) still lets you write constants without any parameters.\n\nAs far as parameters in matches go, do you feel that Some{} is harder to read than Some()?  They are an identical number of keystrokes.  We already do it for record matching so maybe we need to fix record matching to use parentheses too, if that's the case.  Additionally (while I'm not sure if I like this) we could allow patterns arguments to appear with no curly braces for variants that accept zero or one anonymous argument--I don't think it would conflict with syntax, in context it's always identifiable, and based on my experiences elsewhere it's quite readable (None | Some x rather than Some {x} | None {}, unless you like being exhaustive).  We could also just special case nullary arguments and it would effectively turn into what we have today.\n\nAs far as the work goes, I'd be willing to put in the work if I was pretty sure it was actually going to get accepted :)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/27565711/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/27567541",
    "html_url": "https://github.com/rust-lang/rust/issues/10216#issuecomment-27567541",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10216",
    "id": 27567541,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3NTY3NTQx",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-01T14:05:18Z",
    "updated_at": "2013-11-01T14:05:18Z",
    "body": "I don't see how nullary variants can remain constants -- then they still infect the value space. If the goal of this proposal is to make a clean separation then you must have a sol'n for nullary variants. TBH, making nullary variants not be constants would be helpful in some respects, there is a bug or two related to their current \"dual status\" where they act as sort-of-rvalues-sort-of-lvalues, but it's definitely a usability setback. (I've in the past argued for `None()` on similar grounds but been shot down, probably rightly so)\n\nI don't feel that `Some {v}` is necessarily harder to read than `Some(v)` -- it's just different from the patterns I know and love from e.g. ML (typical conventions would put an extra space before the `{`, but we could not do that). It is true that today the distinguish between \"field\" patterns and \"positional\" patterns is recognized in the parser, and hence `Foo {f}` is expanded to `Foo {f:f}` but that's resolvable.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/27567541/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/27567833",
    "html_url": "https://github.com/rust-lang/rust/issues/10216#issuecomment-27567833",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10216",
    "id": 27567833,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3NTY3ODMz",
    "user": {
      "login": "pythonesque",
      "id": 923144,
      "node_id": "MDQ6VXNlcjkyMzE0NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/923144?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pythonesque",
      "html_url": "https://github.com/pythonesque",
      "followers_url": "https://api.github.com/users/pythonesque/followers",
      "following_url": "https://api.github.com/users/pythonesque/following{/other_user}",
      "gists_url": "https://api.github.com/users/pythonesque/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pythonesque/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pythonesque/subscriptions",
      "organizations_url": "https://api.github.com/users/pythonesque/orgs",
      "repos_url": "https://api.github.com/users/pythonesque/repos",
      "events_url": "https://api.github.com/users/pythonesque/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pythonesque/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-01T14:09:37Z",
    "updated_at": "2013-11-01T14:09:37Z",
    "body": "Yeah... maybe you're right that we can't get away with special-casing nullary values (though I still think it is justifiable in the context of a pattern match simply because it's unambiguous what you mean there).  Sounds like you've been down this road before, so I'll defer to your judgment here :)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/27567833/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
