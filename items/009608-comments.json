[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/25408845",
    "html_url": "https://github.com/rust-lang/rust/pull/9608#issuecomment-25408845",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9608",
    "id": 25408845,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1NDA4ODQ1",
    "user": {
      "login": "bluss",
      "id": 3209739,
      "node_id": "MDQ6VXNlcjMyMDk3Mzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3209739?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bluss",
      "html_url": "https://github.com/bluss",
      "followers_url": "https://api.github.com/users/bluss/followers",
      "following_url": "https://api.github.com/users/bluss/following{/other_user}",
      "gists_url": "https://api.github.com/users/bluss/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bluss/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bluss/subscriptions",
      "organizations_url": "https://api.github.com/users/bluss/orgs",
      "repos_url": "https://api.github.com/users/bluss/repos",
      "events_url": "https://api.github.com/users/bluss/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bluss/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-09-30T21:41:25Z",
    "updated_at": "2013-09-30T21:44:04Z",
    "body": "Ideally this method should not insert a boundary check for the vector indexing, so it would be implemented with unsafe code to achieve that (see `unsafe_ref`). `RandomAccessIterator` provides the same already for vectors, like this:  `args.iter().idx(1)`, but that trait is experimental-ish.\n\nI think this is something that vec should provide. Either directly or through a `RandomAccess` trait.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/25408845/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/25501319",
    "html_url": "https://github.com/rust-lang/rust/pull/9608#issuecomment-25501319",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9608",
    "id": 25501319,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1NTAxMzE5",
    "user": {
      "login": "flaper87",
      "id": 13816,
      "node_id": "MDQ6VXNlcjEzODE2",
      "avatar_url": "https://avatars.githubusercontent.com/u/13816?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/flaper87",
      "html_url": "https://github.com/flaper87",
      "followers_url": "https://api.github.com/users/flaper87/followers",
      "following_url": "https://api.github.com/users/flaper87/following{/other_user}",
      "gists_url": "https://api.github.com/users/flaper87/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/flaper87/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/flaper87/subscriptions",
      "organizations_url": "https://api.github.com/users/flaper87/orgs",
      "repos_url": "https://api.github.com/users/flaper87/repos",
      "events_url": "https://api.github.com/users/flaper87/events{/privacy}",
      "received_events_url": "https://api.github.com/users/flaper87/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-10-01T23:23:53Z",
    "updated_at": "2013-10-01T23:23:53Z",
    "body": "I think that `get` should be provided as well and should make the task fail if the index is not valid. See `head` & `head_opt` or `last` & `last_opt`.\n\nAlso, I don't think it should be implemented as an unsafe operation.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/25501319/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/25502900",
    "html_url": "https://github.com/rust-lang/rust/pull/9608#issuecomment-25502900",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9608",
    "id": 25502900,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1NTAyOTAw",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-10-02T00:01:07Z",
    "updated_at": "2013-10-02T00:01:07Z",
    "body": "@FlaPer87 \"`v.get(i)`\" is `v[i]`.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/25502900/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/25517924",
    "html_url": "https://github.com/rust-lang/rust/pull/9608#issuecomment-25517924",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9608",
    "id": 25517924,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1NTE3OTI0",
    "user": {
      "login": "flaper87",
      "id": 13816,
      "node_id": "MDQ6VXNlcjEzODE2",
      "avatar_url": "https://avatars.githubusercontent.com/u/13816?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/flaper87",
      "html_url": "https://github.com/flaper87",
      "followers_url": "https://api.github.com/users/flaper87/followers",
      "following_url": "https://api.github.com/users/flaper87/following{/other_user}",
      "gists_url": "https://api.github.com/users/flaper87/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/flaper87/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/flaper87/subscriptions",
      "organizations_url": "https://api.github.com/users/flaper87/orgs",
      "repos_url": "https://api.github.com/users/flaper87/repos",
      "events_url": "https://api.github.com/users/flaper87/events{/privacy}",
      "received_events_url": "https://api.github.com/users/flaper87/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-10-02T07:24:57Z",
    "updated_at": "2013-10-02T07:24:57Z",
    "body": "@huonw yeah, I knew that. I should stop writing things when I'm falling asleep. Ignore the `get` thing. I still think get_opt shouldn't be unsafe, though.\n\nFWIW, code looks good to me.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/25517924/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/25581831",
    "html_url": "https://github.com/rust-lang/rust/pull/9608#issuecomment-25581831",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9608",
    "id": 25581831,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1NTgxODMx",
    "user": {
      "login": "bluss",
      "id": 3209739,
      "node_id": "MDQ6VXNlcjMyMDk3Mzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3209739?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bluss",
      "html_url": "https://github.com/bluss",
      "followers_url": "https://api.github.com/users/bluss/followers",
      "following_url": "https://api.github.com/users/bluss/following{/other_user}",
      "gists_url": "https://api.github.com/users/bluss/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bluss/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bluss/subscriptions",
      "organizations_url": "https://api.github.com/users/bluss/orgs",
      "repos_url": "https://api.github.com/users/bluss/repos",
      "events_url": "https://api.github.com/users/bluss/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bluss/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-10-02T22:16:19Z",
    "updated_at": "2013-10-02T22:17:09Z",
    "body": "I didn't suggest it should be unsafe, only implemented internally with unsafe code. Vector indexing like `v[i]` always inserts bounds checks, which we want to avoid here since it is already done explicitly. LLVM hasn't optimized well enough to elide the bounds check before, but maybe it is recognized in this case. If it already optimizes well enough, unsafe code isn't needed.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/25581831/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/25582152",
    "html_url": "https://github.com/rust-lang/rust/pull/9608#issuecomment-25582152",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9608",
    "id": 25582152,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1NTgyMTUy",
    "user": {
      "login": "bluss",
      "id": 3209739,
      "node_id": "MDQ6VXNlcjMyMDk3Mzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3209739?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bluss",
      "html_url": "https://github.com/bluss",
      "followers_url": "https://api.github.com/users/bluss/followers",
      "following_url": "https://api.github.com/users/bluss/following{/other_user}",
      "gists_url": "https://api.github.com/users/bluss/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bluss/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bluss/subscriptions",
      "organizations_url": "https://api.github.com/users/bluss/orgs",
      "repos_url": "https://api.github.com/users/bluss/repos",
      "events_url": "https://api.github.com/users/bluss/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bluss/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-10-02T22:21:06Z",
    "updated_at": "2013-10-02T22:21:06Z",
    "body": "Here is the unsafe `idx_riced` implementation and the safe `idx` implementation. They compile to the same IR in this case! Maybe I'm overly pessimistic about LLVM.\n\n```\n#[inline(never)]\nfn idx_riced<'a, T>(v: &'a [T], i: uint) -> Option<&'a T> {\n    if i < v.len() {\n        unsafe {\n            Some(std::cast::transmute(v.unsafe_ref(i)))\n        }\n    } else {\n        None\n    }\n}\n\n#[inline(never)]\nfn idx<'a, T>(v: &'a [T], i: uint) -> Option<&'a T> {\n    if i < v.len() {\n        Some(&v[i])\n    } else {\n        None\n    }\n}\n\nfn main() {\n    let v = [1.0f32, 2.0, 3.0, 4.0];\n    let x = idx(v, 7);\n    let y = idx_riced(v, 7);\n}\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/25582152/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/25584860",
    "html_url": "https://github.com/rust-lang/rust/pull/9608#issuecomment-25584860",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9608",
    "id": 25584860,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1NTg0ODYw",
    "user": {
      "login": "flaper87",
      "id": 13816,
      "node_id": "MDQ6VXNlcjEzODE2",
      "avatar_url": "https://avatars.githubusercontent.com/u/13816?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/flaper87",
      "html_url": "https://github.com/flaper87",
      "followers_url": "https://api.github.com/users/flaper87/followers",
      "following_url": "https://api.github.com/users/flaper87/following{/other_user}",
      "gists_url": "https://api.github.com/users/flaper87/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/flaper87/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/flaper87/subscriptions",
      "organizations_url": "https://api.github.com/users/flaper87/orgs",
      "repos_url": "https://api.github.com/users/flaper87/repos",
      "events_url": "https://api.github.com/users/flaper87/events{/privacy}",
      "received_events_url": "https://api.github.com/users/flaper87/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-10-02T23:06:51Z",
    "updated_at": "2013-10-02T23:06:51Z",
    "body": "@blake2-ppc I get what you mean, not quite sure why IR is the same for both, reducing the number of bound checks makes sense, nonetheless.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/25584860/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/25711652",
    "html_url": "https://github.com/rust-lang/rust/pull/9608#issuecomment-25711652",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9608",
    "id": 25711652,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1NzExNjUy",
    "user": {
      "login": "hmarr",
      "id": 110275,
      "node_id": "MDQ6VXNlcjExMDI3NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/110275?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hmarr",
      "html_url": "https://github.com/hmarr",
      "followers_url": "https://api.github.com/users/hmarr/followers",
      "following_url": "https://api.github.com/users/hmarr/following{/other_user}",
      "gists_url": "https://api.github.com/users/hmarr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hmarr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hmarr/subscriptions",
      "organizations_url": "https://api.github.com/users/hmarr/orgs",
      "repos_url": "https://api.github.com/users/hmarr/repos",
      "events_url": "https://api.github.com/users/hmarr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hmarr/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-10-04T16:25:14Z",
    "updated_at": "2013-10-04T16:25:14Z",
    "body": "I just had a look at the IR and it does indeed appear to be equivalent. As that's the case it are you fine with leaving it in it's current state, as it's simpler than the unsafe implementation?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/25711652/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/25714539",
    "html_url": "https://github.com/rust-lang/rust/pull/9608#issuecomment-25714539",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9608",
    "id": 25714539,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1NzE0NTM5",
    "user": {
      "login": "bluss",
      "id": 3209739,
      "node_id": "MDQ6VXNlcjMyMDk3Mzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3209739?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bluss",
      "html_url": "https://github.com/bluss",
      "followers_url": "https://api.github.com/users/bluss/followers",
      "following_url": "https://api.github.com/users/bluss/following{/other_user}",
      "gists_url": "https://api.github.com/users/bluss/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bluss/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bluss/subscriptions",
      "organizations_url": "https://api.github.com/users/bluss/orgs",
      "repos_url": "https://api.github.com/users/bluss/repos",
      "events_url": "https://api.github.com/users/bluss/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bluss/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-10-04T17:06:17Z",
    "updated_at": "2013-10-04T17:06:17Z",
    "body": "yes\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/25714539/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/25748688",
    "html_url": "https://github.com/rust-lang/rust/pull/9608#issuecomment-25748688",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9608",
    "id": 25748688,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1NzQ4Njg4",
    "user": {
      "login": "flaper87",
      "id": 13816,
      "node_id": "MDQ6VXNlcjEzODE2",
      "avatar_url": "https://avatars.githubusercontent.com/u/13816?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/flaper87",
      "html_url": "https://github.com/flaper87",
      "followers_url": "https://api.github.com/users/flaper87/followers",
      "following_url": "https://api.github.com/users/flaper87/following{/other_user}",
      "gists_url": "https://api.github.com/users/flaper87/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/flaper87/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/flaper87/subscriptions",
      "organizations_url": "https://api.github.com/users/flaper87/orgs",
      "repos_url": "https://api.github.com/users/flaper87/repos",
      "events_url": "https://api.github.com/users/flaper87/events{/privacy}",
      "received_events_url": "https://api.github.com/users/flaper87/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-10-05T13:40:11Z",
    "updated_at": "2013-10-05T13:40:11Z",
    "body": "LGTM, @huonw r?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/25748688/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
