[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/21982536",
    "html_url": "https://github.com/rust-lang/rust/issues/8189#issuecomment-21982536",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8189",
    "id": 21982536,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxOTgyNTM2",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-08-02T02:07:43Z",
    "updated_at": "2013-08-02T02:07:43Z",
    "body": "I think this has to do with dtors and Result, because I am getting similar issues working on rust-zmq\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/21982536/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/21982852",
    "html_url": "https://github.com/rust-lang/rust/issues/8189#issuecomment-21982852",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8189",
    "id": 21982852,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxOTgyODUy",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-08-02T02:20:42Z",
    "updated_at": "2013-08-02T02:20:42Z",
    "body": "As another, smaller, example:\n\n``` rust\nuse std::libc;\n\nfn main() {\n    let context = zmq::Context::new();\n    let responder = match context.socket(zmq::REP) {\n        Ok(x) => x,\n        Err(x) => fail!(\"%?\", x)\n    };\n\n    let x = responder.bind(\"tcp://*:5555\");\n    error!(\"%? %?\", responder, x);\n    let x = x.unwrap();\n\n    let mut buf = [0, ..10];\n    loop {\n        unsafe { responder.recv_into(buf, 0) };\n        println(\"Received Hello\");\n        responder.send(bytes!(\"Hello\"), 0);\n        unsafe { libc::sleep(1) };\n    }\n}\n```\n\nworks correctly (the socket destructor isn't called early), but\n\n``` rust\nuse std::libc;\n\nfn main() {\n    let context = zmq::Context::new();\n    let responder = match context.socket(zmq::REP).get();\n\n    let x = responder.bind(\"tcp://*:5555\");\n    error!(\"%? %?\", responder, x);\n    let x = x.unwrap();\n\n    let mut buf = [0, ..10];\n    loop {\n        unsafe { responder.recv_into(buf, 0) };\n        println(\"Received Hello\");\n        responder.send(bytes!(\"Hello\"), 0);\n        unsafe { libc::sleep(1) };\n    }\n}\n```\n\ndoesn't (the destructor is called during/immediately after the `.get()` call).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/21982852/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/21983117",
    "html_url": "https://github.com/rust-lang/rust/issues/8189#issuecomment-21983117",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8189",
    "id": 21983117,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxOTgzMTE3",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-08-02T02:31:38Z",
    "updated_at": "2013-08-02T02:31:38Z",
    "body": "Actually, the problem with the zmq example was with a misplaced `Clone` implementation and usage of `get` rather than `unwrap`, which is a different ball of hair.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/21983117/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/21983416",
    "html_url": "https://github.com/rust-lang/rust/issues/8189#issuecomment-21983416",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8189",
    "id": 21983416,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxOTgzNDE2",
    "user": {
      "login": "basic-calculus",
      "id": 4070335,
      "node_id": "MDQ6VXNlcjQwNzAzMzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4070335?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/basic-calculus",
      "html_url": "https://github.com/basic-calculus",
      "followers_url": "https://api.github.com/users/basic-calculus/followers",
      "following_url": "https://api.github.com/users/basic-calculus/following{/other_user}",
      "gists_url": "https://api.github.com/users/basic-calculus/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/basic-calculus/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/basic-calculus/subscriptions",
      "organizations_url": "https://api.github.com/users/basic-calculus/orgs",
      "repos_url": "https://api.github.com/users/basic-calculus/repos",
      "events_url": "https://api.github.com/users/basic-calculus/events{/privacy}",
      "received_events_url": "https://api.github.com/users/basic-calculus/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-08-02T02:43:38Z",
    "updated_at": "2013-08-02T02:44:44Z",
    "body": "I actually already figured out the problem, and will be sending a pull request along shortly. Basically, the problem is that the `DynamicLibrary` structure is being created in the open method **before** checking for errors, and is then thrown away. A similar error exists in the symbol method.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/21983416/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/21983439",
    "html_url": "https://github.com/rust-lang/rust/issues/8189#issuecomment-21983439",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8189",
    "id": 21983439,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxOTgzNDM5",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-08-02T02:44:44Z",
    "updated_at": "2013-08-02T02:44:44Z",
    "body": "@sstewartgallus you are awesome :heartbeat:\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/21983439/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/22062705",
    "html_url": "https://github.com/rust-lang/rust/issues/8189#issuecomment-22062705",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8189",
    "id": 22062705,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMDYyNzA1",
    "user": {
      "login": "basic-calculus",
      "id": 4070335,
      "node_id": "MDQ6VXNlcjQwNzAzMzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4070335?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/basic-calculus",
      "html_url": "https://github.com/basic-calculus",
      "followers_url": "https://api.github.com/users/basic-calculus/followers",
      "following_url": "https://api.github.com/users/basic-calculus/following{/other_user}",
      "gists_url": "https://api.github.com/users/basic-calculus/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/basic-calculus/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/basic-calculus/subscriptions",
      "organizations_url": "https://api.github.com/users/basic-calculus/orgs",
      "repos_url": "https://api.github.com/users/basic-calculus/repos",
      "events_url": "https://api.github.com/users/basic-calculus/events{/privacy}",
      "received_events_url": "https://api.github.com/users/basic-calculus/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-08-03T22:23:10Z",
    "updated_at": "2013-08-03T22:23:10Z",
    "body": "Fixed with https://github.com/mozilla/rust/issues/8219\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/22062705/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/33279362",
    "html_url": "https://github.com/rust-lang/rust/issues/8189#issuecomment-33279362",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8189",
    "id": 33279362,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMjc5MzYy",
    "user": {
      "login": "eminence",
      "id": 402454,
      "node_id": "MDQ6VXNlcjQwMjQ1NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/402454?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eminence",
      "html_url": "https://github.com/eminence",
      "followers_url": "https://api.github.com/users/eminence/followers",
      "following_url": "https://api.github.com/users/eminence/following{/other_user}",
      "gists_url": "https://api.github.com/users/eminence/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eminence/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eminence/subscriptions",
      "organizations_url": "https://api.github.com/users/eminence/orgs",
      "repos_url": "https://api.github.com/users/eminence/repos",
      "events_url": "https://api.github.com/users/eminence/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eminence/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-01-25T02:54:03Z",
    "updated_at": "2014-01-25T02:54:26Z",
    "body": "I have re-tested the original issue with the latest master (dc48adc69fa86039931244dc8ac0d1633c27c582)\n\nI confirm this issue is fixed and can be closed\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/33279362/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/34973305",
    "html_url": "https://github.com/rust-lang/rust/issues/8189#issuecomment-34973305",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8189",
    "id": 34973305,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0OTczMzA1",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-02-13T12:24:22Z",
    "updated_at": "2014-02-13T12:24:22Z",
    "body": "It looks to me like the test added in #8219 sufficiently covers the case as described in the [gist](https://gist.github.com/cmr/82459f5715e673a8e90f) linked in the description.\n\nSo the bug has been fixed with a test case; closing.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/34973305/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
