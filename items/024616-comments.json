[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/94349221",
    "html_url": "https://github.com/rust-lang/rust/issues/24616#issuecomment-94349221",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24616",
    "id": 94349221,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk0MzQ5MjIx",
    "user": {
      "login": "SSheldon",
      "id": 478311,
      "node_id": "MDQ6VXNlcjQ3ODMxMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/478311?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SSheldon",
      "html_url": "https://github.com/SSheldon",
      "followers_url": "https://api.github.com/users/SSheldon/followers",
      "following_url": "https://api.github.com/users/SSheldon/following{/other_user}",
      "gists_url": "https://api.github.com/users/SSheldon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SSheldon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SSheldon/subscriptions",
      "organizations_url": "https://api.github.com/users/SSheldon/orgs",
      "repos_url": "https://api.github.com/users/SSheldon/repos",
      "events_url": "https://api.github.com/users/SSheldon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SSheldon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-20T03:44:29Z",
    "updated_at": "2015-04-20T03:44:29Z",
    "body": "Related to #20671?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/94349221/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/94521719",
    "html_url": "https://github.com/rust-lang/rust/issues/24616#issuecomment-94521719",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24616",
    "id": 94521719,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk0NTIxNzE5",
    "user": {
      "login": "frangio",
      "id": 481465,
      "node_id": "MDQ6VXNlcjQ4MTQ2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/481465?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/frangio",
      "html_url": "https://github.com/frangio",
      "followers_url": "https://api.github.com/users/frangio/followers",
      "following_url": "https://api.github.com/users/frangio/following{/other_user}",
      "gists_url": "https://api.github.com/users/frangio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/frangio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/frangio/subscriptions",
      "organizations_url": "https://api.github.com/users/frangio/orgs",
      "repos_url": "https://api.github.com/users/frangio/repos",
      "events_url": "https://api.github.com/users/frangio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/frangio/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-20T17:44:56Z",
    "updated_at": "2015-04-20T17:50:00Z",
    "body": "Here's another, although less general example of this bug:\n\n``` rust\nuse std::path::Path;\nuse std::convert::AsRef;\nuse std::iter::Peekable;\nuse std::env;\n\ntrait PathIterator: Iterator where <Self as Iterator>::Item : AsRef<Path> {}\n\nimpl<I: ?Sized, T: AsRef<Path>> PathIterator for I\n    where I: Iterator<Item = T> {}\n\nstruct A<I: PathIterator> {\n    paths: Peekable<I>,\n}\n\nimpl<I: PathIterator> A<I> {\n    fn next_path(&self) -> Option<&Path> {\n        self.paths.peek().map(|p| p.as_ref())\n    }\n}\n\nfn main() { }\n```\n\n```\n<anon>:17:37: 17:45 error: type `&<I as core::iter::Iterator>::Item` does not implement any method in scope named `as_ref`\n<anon>:17         self.paths.peek().map(|p| p.as_ref())\n                                              ^~~~~~~~\nerror: aborting due to previous error\n```\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/94521719/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/111827096",
    "html_url": "https://github.com/rust-lang/rust/issues/24616#issuecomment-111827096",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24616",
    "id": 111827096,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExMTgyNzA5Ng==",
    "user": {
      "login": "paholg",
      "id": 4908217,
      "node_id": "MDQ6VXNlcjQ5MDgyMTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4908217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/paholg",
      "html_url": "https://github.com/paholg",
      "followers_url": "https://api.github.com/users/paholg/followers",
      "following_url": "https://api.github.com/users/paholg/following{/other_user}",
      "gists_url": "https://api.github.com/users/paholg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/paholg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/paholg/subscriptions",
      "organizations_url": "https://api.github.com/users/paholg/orgs",
      "repos_url": "https://api.github.com/users/paholg/repos",
      "events_url": "https://api.github.com/users/paholg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/paholg/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-06-14T13:26:44Z",
    "updated_at": "2015-06-14T13:26:44Z",
    "body": "I believe this is the issue that I'm having, and it depends on whether you are implementing a trait with a member function or not. In addition to the compiler not correctly figuring out type constraints, it takes much longer to compile when given type constraints with a `where` clause.\n\nConsider the following two implementations of addition over Peano numbers using Rust's type system:\n\nFirst, using `std::ops::Add`: http://is.gd/7tO1cK\n\nThen, using a custom trait for addition, `AddPeano`, that has only an associated type and no member functions: http://is.gd/byhqSn\n\nThe key difference is here:\n\nUsing `AddPeano`:\n\n``` rust\nimpl<Lhs: Peano + AddPeano<Rhs>, Rhs: Peano> AddPeano<Rhs> for Succ<Lhs> {\n    type Output = Succ<<Lhs as AddPeano<Rhs>>::Output>;\n}\n```\n\nUsing `std::ops::Add`:\n\n``` rust\nimpl<Lhs: Peano + Add<Rhs>, Rhs: Peano> Add<Rhs> for Succ<Lhs> where <Lhs as Add<Rhs>>::Output: Peano {\n    type Output = Succ<<Lhs as Add<Rhs>>::Output>;\n    fn add(self, rhs: Rhs) -> Self::Output { unreachable!() }\n}\n```\n\nwithout the `where` clause, the compiler gives the error\n\n```\nerror: the trait `Peano` is not implemented for the type `<Lhs as core::ops::Add<Rhs>>::Output`\n```\n\nIn `main()` for both of those examples, the `Add` traits are used for successive doubling until the number `32` is reached. Using `AddPeano`, playpen finishes in moments, whereas using `Add` it triggers playpen's timeout and fails to compile.\n\nI have had similar results locally ... even using up 8 GB of ram in the case of the `std::ops` version while the version without a function would compile virtually instantly.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/111827096/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/112065997",
    "html_url": "https://github.com/rust-lang/rust/issues/24616#issuecomment-112065997",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24616",
    "id": 112065997,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExMjA2NTk5Nw==",
    "user": {
      "login": "arielb1",
      "id": 1830974,
      "node_id": "MDQ6VXNlcjE4MzA5NzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1830974?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/arielb1",
      "html_url": "https://github.com/arielb1",
      "followers_url": "https://api.github.com/users/arielb1/followers",
      "following_url": "https://api.github.com/users/arielb1/following{/other_user}",
      "gists_url": "https://api.github.com/users/arielb1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/arielb1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/arielb1/subscriptions",
      "organizations_url": "https://api.github.com/users/arielb1/orgs",
      "repos_url": "https://api.github.com/users/arielb1/repos",
      "events_url": "https://api.github.com/users/arielb1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/arielb1/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-06-15T13:18:45Z",
    "updated_at": "2015-06-15T13:19:11Z",
    "body": "Predicates on Self's associated types aren't supertrait predicates and are not elaborated - you need to add the where-clauses explicitly (e.g.  `where <I as Iterator>::Item : AsRef<Path>` in @frangio-s case). \n\n@paholg \nThat is a different issue. Trait selection is undecidable in general, and therefore can take arbitrarily long time on some cases. I think we should be able to handle this case quickly through - you may want to open a (separate) issue for that.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/112065997/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/112209368",
    "html_url": "https://github.com/rust-lang/rust/issues/24616#issuecomment-112209368",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24616",
    "id": 112209368,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExMjIwOTM2OA==",
    "user": {
      "login": "paholg",
      "id": 4908217,
      "node_id": "MDQ6VXNlcjQ5MDgyMTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4908217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/paholg",
      "html_url": "https://github.com/paholg",
      "followers_url": "https://api.github.com/users/paholg/followers",
      "following_url": "https://api.github.com/users/paholg/following{/other_user}",
      "gists_url": "https://api.github.com/users/paholg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/paholg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/paholg/subscriptions",
      "organizations_url": "https://api.github.com/users/paholg/orgs",
      "repos_url": "https://api.github.com/users/paholg/repos",
      "events_url": "https://api.github.com/users/paholg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/paholg/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-06-15T20:57:24Z",
    "updated_at": "2015-06-15T20:57:24Z",
    "body": "Okay, will do.\n\nThanks, @arielb1.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/112209368/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/166509231",
    "html_url": "https://github.com/rust-lang/rust/issues/24616#issuecomment-166509231",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24616",
    "id": 166509231,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2NjUwOTIzMQ==",
    "user": {
      "login": "soltanmm",
      "id": 4889063,
      "node_id": "MDQ6VXNlcjQ4ODkwNjM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4889063?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/soltanmm",
      "html_url": "https://github.com/soltanmm",
      "followers_url": "https://api.github.com/users/soltanmm/followers",
      "following_url": "https://api.github.com/users/soltanmm/following{/other_user}",
      "gists_url": "https://api.github.com/users/soltanmm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/soltanmm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/soltanmm/subscriptions",
      "organizations_url": "https://api.github.com/users/soltanmm/orgs",
      "repos_url": "https://api.github.com/users/soltanmm/repos",
      "events_url": "https://api.github.com/users/soltanmm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/soltanmm/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-12-22T05:24:17Z",
    "updated_at": "2015-12-22T05:24:17Z",
    "body": "There's a workaround for the first example:\n\n``` rust\ntrait Foo {\n    type T;\n}\n\ntrait Bar {\n    fn bar(&self);\n}\n\ntrait QuuxMyT {\n    type MyT: Bar;\n}\n\ntrait Quux: QuuxMyT + Foo<T=<Self as QuuxMyT>::MyT> {\n    fn quux(&self) -> Self::T;\n}\n\nstruct Baz<X> {\n    x: X,\n}\n\nimpl<X: Quux> Baz<X> {\n    fn baz(&self) {\n        self.x.quux().bar()\n    }\n}\n```\n\nBasically, use the fact that bounds on associated types are always assumed (elaborated? the relevant RFC said 'assume') by moving the bound to a helper trait's associated type, then force the identity relation on that helper trait's associated type and the relevant associated type of the supertrait.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/166509231/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
