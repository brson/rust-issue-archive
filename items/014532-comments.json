[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/44608005",
    "html_url": "https://github.com/rust-lang/rust/issues/14532#issuecomment-44608005",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14532",
    "id": 44608005,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0NjA4MDA1",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-05-30T02:14:46Z",
    "updated_at": "2014-05-30T02:14:46Z",
    "body": "Another one in the fallback insertion sort: https://github.com/mozilla/rust/blob/master/src/libstd/slice.rs#L458\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/44608005/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/44608305",
    "html_url": "https://github.com/rust-lang/rust/issues/14532#issuecomment-44608305",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14532",
    "id": 44608305,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0NjA4MzA1",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-05-30T02:21:07Z",
    "updated_at": "2014-05-30T02:22:28Z",
    "body": "It is failure safe. Specifically, nothing has been `read` or duplicated from the vector at that comparison: it's all just pointers, so there's no duplicated values for destructors to run on. This can/should be better documented in the source (i.e. it's missing from the \"proof\" of correctness that's already in the comments).\n\nIn any case, there is a test: https://github.com/mozilla/rust/blob/master/src/test/run-pass/vector-sort-failure-safe.rs\n\nIt runs through slices of all lengths from 2 to 20 (atm), creates 10 random vectors of that length (of a type with a \"canary\" destructor). For each vector, it then:\n- counts the number of comparisons required to sort that specific vector.\n- runs `fail_countdown` from 0 to that number, attempting to sort the array but failing on the `fail_countdown`'th comparison.\n- checks that the destructors run correctly: that is, each element of the array is destroyed exactly once.\n\nI.e. the test is checking that `sort_by` is failure safe at every comparison.\n\nHowever, 20 is possibly a little too short now. Hence, I think this bug should stay open until the comments are improved and the test extended.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/44608305/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/44608390",
    "html_url": "https://github.com/rust-lang/rust/issues/14532#issuecomment-44608390",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14532",
    "id": 44608390,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0NjA4Mzkw",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-05-30T02:22:49Z",
    "updated_at": "2014-05-30T02:22:49Z",
    "body": "Ah, I didn't look outside of the module for tests. I'm satisfied.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/44608390/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/44608391",
    "html_url": "https://github.com/rust-lang/rust/issues/14532#issuecomment-44608391",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14532",
    "id": 44608391,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0NjA4Mzkx",
    "user": {
      "login": "zkamsler",
      "id": 944662,
      "node_id": "MDQ6VXNlcjk0NDY2Mg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/944662?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zkamsler",
      "html_url": "https://github.com/zkamsler",
      "followers_url": "https://api.github.com/users/zkamsler/followers",
      "following_url": "https://api.github.com/users/zkamsler/following{/other_user}",
      "gists_url": "https://api.github.com/users/zkamsler/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zkamsler/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zkamsler/subscriptions",
      "organizations_url": "https://api.github.com/users/zkamsler/orgs",
      "repos_url": "https://api.github.com/users/zkamsler/repos",
      "events_url": "https://api.github.com/users/zkamsler/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zkamsler/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-05-30T02:22:50Z",
    "updated_at": "2014-05-30T02:25:29Z",
    "body": "The sorting is fairly careful to leave the slice in a valid state before and after calling the comparison predicate. All of the mutation of the array for the insertion sort part is done after the desired index is found.\nedit: @huonw beat me to it\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/44608391/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/44608430",
    "html_url": "https://github.com/rust-lang/rust/issues/14532#issuecomment-44608430",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14532",
    "id": 44608430,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0NjA4NDMw",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-05-30T02:23:37Z",
    "updated_at": "2014-05-30T02:23:37Z",
    "body": "Comments on this subject might help the next person who looks at this code.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/44608430/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/66651464",
    "html_url": "https://github.com/rust-lang/rust/issues/14532#issuecomment-66651464",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14532",
    "id": 66651464,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2NjUxNDY0",
    "user": {
      "login": "untitaker",
      "id": 837573,
      "node_id": "MDQ6VXNlcjgzNzU3Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/837573?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/untitaker",
      "html_url": "https://github.com/untitaker",
      "followers_url": "https://api.github.com/users/untitaker/followers",
      "following_url": "https://api.github.com/users/untitaker/following{/other_user}",
      "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions",
      "organizations_url": "https://api.github.com/users/untitaker/orgs",
      "repos_url": "https://api.github.com/users/untitaker/repos",
      "events_url": "https://api.github.com/users/untitaker/events{/privacy}",
      "received_events_url": "https://api.github.com/users/untitaker/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-12-11T17:02:03Z",
    "updated_at": "2014-12-11T17:02:19Z",
    "body": "The `slice.rs` file has changed dramatically (and moved). The new file is in `libcollections`, but are the links by @brson still pointing to the correct lines?\n\nhttps://github.com/rust-lang/rust/blob/c38e73f/src/libcollections/slice.rs#L462\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/66651464/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/66661803",
    "html_url": "https://github.com/rust-lang/rust/issues/14532#issuecomment-66661803",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14532",
    "id": 66661803,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2NjYxODAz",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-12-11T18:08:59Z",
    "updated_at": "2014-12-11T18:08:59Z",
    "body": "@untitaker I don't remember! I think we can close this though.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/66661803/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
