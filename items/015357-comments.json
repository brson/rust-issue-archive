[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/47851456",
    "html_url": "https://github.com/rust-lang/rust/issues/15357#issuecomment-47851456",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15357",
    "id": 47851456,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3ODUxNDU2",
    "user": {
      "login": "bluss",
      "id": 3209739,
      "node_id": "MDQ6VXNlcjMyMDk3Mzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3209739?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bluss",
      "html_url": "https://github.com/bluss",
      "followers_url": "https://api.github.com/users/bluss/followers",
      "following_url": "https://api.github.com/users/bluss/following{/other_user}",
      "gists_url": "https://api.github.com/users/bluss/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bluss/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bluss/subscriptions",
      "organizations_url": "https://api.github.com/users/bluss/orgs",
      "repos_url": "https://api.github.com/users/bluss/repos",
      "events_url": "https://api.github.com/users/bluss/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bluss/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-02T23:47:51Z",
    "updated_at": "2014-07-02T23:49:14Z",
    "body": "Even this is broken the same way:\n\n``` rust\nfn test<'a>(s: &'a str) -> &'a str {\n    s.as_slice()\n}\n```\n\n```\n2:5: 2:6 error: `s` does not live long enough\n```\n\nbut the code `s.slice(0, s.len())` would compile!\n\nThis is because of the formulation of the `Str` trait.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/47851456/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/47851584",
    "html_url": "https://github.com/rust-lang/rust/issues/15357#issuecomment-47851584",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15357",
    "id": 47851584,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3ODUxNTg0",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-02T23:49:43Z",
    "updated_at": "2014-07-02T23:49:43Z",
    "body": "(@arjantop just btw, the error message and code you posted don't exactly match (no temporary `slice` in the error messages), I'm sure the problem exists in both, though.)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/47851584/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/47852104",
    "html_url": "https://github.com/rust-lang/rust/issues/15357#issuecomment-47852104",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15357",
    "id": 47852104,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3ODUyMTA0",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-02T23:57:35Z",
    "updated_at": "2014-07-03T00:09:27Z",
    "body": "I think the \"problem\" here is the [definition of `as_slice`](http://doc.rust-lang.org/master/std/str/trait.Str.html#tymethod.as_slice). It's taking a reference to whatever is being coerced (say `s`), and is stating that the return value lasts for as long as the `s` value. In this case, `slice` only lasts for `test`'s stack frame (call that `'b`), and thus the reference (of type `&'b &'a str`) created when calling `as_slice` can only last that long... `'b` is not `'a`.\n\nClosing as working-as-intended (the fix is not calling `as_slice` on values that are already `&str`s).\n\n(Incidentally DST will allow `impl StrSlice for str` directly, which will allow \"pointless\" `as_slice`'s like this to work as you expect.)\n\n(_e:_ I expanded this [over on SO](http://stackoverflow.com/a/24542991/1256624).)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/47852104/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
