[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/95068829",
    "html_url": "https://github.com/rust-lang/rust/issues/24680#issuecomment-95068829",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24680",
    "id": 95068829,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk1MDY4ODI5",
    "user": {
      "login": "reem",
      "id": 4745181,
      "node_id": "MDQ6VXNlcjQ3NDUxODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4745181?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/reem",
      "html_url": "https://github.com/reem",
      "followers_url": "https://api.github.com/users/reem/followers",
      "following_url": "https://api.github.com/users/reem/following{/other_user}",
      "gists_url": "https://api.github.com/users/reem/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/reem/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/reem/subscriptions",
      "organizations_url": "https://api.github.com/users/reem/orgs",
      "repos_url": "https://api.github.com/users/reem/repos",
      "events_url": "https://api.github.com/users/reem/events{/privacy}",
      "received_events_url": "https://api.github.com/users/reem/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-22T08:07:51Z",
    "updated_at": "2015-04-22T08:07:51Z",
    "body": "cc @aturon @nikomatsakis do you think it would be feasible to fix this by the 1.0 release? It's a pretty unfortunate papercut for both iron and hyper.\n\nI remember I recently helped @brson with this problem when he was using iron.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/95068829/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/95576524",
    "html_url": "https://github.com/rust-lang/rust/issues/24680#issuecomment-95576524",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24680",
    "id": 95576524,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk1NTc2NTI0",
    "user": {
      "login": "Ryman",
      "id": 994978,
      "node_id": "MDQ6VXNlcjk5NDk3OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/994978?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Ryman",
      "html_url": "https://github.com/Ryman",
      "followers_url": "https://api.github.com/users/Ryman/followers",
      "following_url": "https://api.github.com/users/Ryman/following{/other_user}",
      "gists_url": "https://api.github.com/users/Ryman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Ryman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Ryman/subscriptions",
      "organizations_url": "https://api.github.com/users/Ryman/orgs",
      "repos_url": "https://api.github.com/users/Ryman/repos",
      "events_url": "https://api.github.com/users/Ryman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Ryman/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-23T12:57:38Z",
    "updated_at": "2015-04-23T12:57:38Z",
    "body": "Very similar case based on nickel's usage of hyper:\n\n``` rust\n#[allow(dead_code)]\nstruct Bar<'a, 'b> {\n    a: &'a (),\n    b: &'b ()\n}\n\n#[allow(dead_code)]\nstruct Qux<'a> {\n    a: &'a ()\n}\n\n#[allow(dead_code)]\nstruct Foo<'a> {\n    a: &'a ()\n}\n\ntrait Handler {\n    fn handle<'a, 'k>(&'a self, Bar<'a, 'k>, Qux<'a>) -> Foo<'a>;\n}\n\nimpl<F> Handler for F where F: for<'a, 'k> Fn(Bar<'a, 'k>, Qux<'a>) -> Foo<'a> + Sync + Send {\n    fn handle<'a, 'k>(&'a self, req: Bar<'a, 'k>, res: Qux<'a>) -> Foo<'a> {\n        self(req, res)\n    }\n}\n\nfn call_handler<H: Handler>(h: H) {\n    println!(\"call_handler\");\n    h.handle(Bar { a: &(), b: &() }, Qux { a: &() });\n}\n\nfn call_closure<F: for<'a, 'k> Fn(Bar<'a, 'k>, Qux<'a>) -> Foo<'a> + Sync + Send>(f: F) {\n    println!(\"call_closure\");\n    f(Bar { a: &(), b: &() }, Qux { a: &() });\n}\n\nfn wrapped_call_handler<F: for<'a, 'k> Fn(Bar<'a, 'k>, Qux<'a>) -> Foo<'a> + Sync + Send>(f: F) {\n    println!(\"wrapped_call_handler\");\n    call_handler(f)\n}\n\nfn main() {\n    // These work\n    call_closure(|_bar, qux| Foo { a: qux.a });\n    wrapped_call_handler(|_bar, qux| Foo { a: qux.a });\n\n    // These fail\n\n    // 'Type must be known'\n    //call_handler(|_bar, qux| Foo { a: qux.a });\n\n    // error: type mismatch resolving `for<'a,'k> <[closure <anon>:52:18: 52:57] as core::ops::FnOnce<(Bar<'a, 'k>, Qux<'a>)>>::Output == Foo<'a>`:\n    // expected bound lifetime parameter 'a\n    //call_handler(|_bar: Bar, qux: Qux|  Foo { a: qux.a });\n}\n\n```\n\nPlaypen: http://is.gd/OEkSd4\n\nThe fact that it works with a wrapping function means it's possible to get things done with convenience macros, which suggests the compiler is at least able to reason about this at some level. \n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/95576524/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/95666807",
    "html_url": "https://github.com/rust-lang/rust/issues/24680#issuecomment-95666807",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24680",
    "id": 95666807,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk1NjY2ODA3",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-23T17:40:02Z",
    "updated_at": "2015-04-23T17:40:02Z",
    "body": "Nominating because I hit this quickly trying to use Iron, the error was impenetrable and I had to ask for help.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/95666807/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/95704253",
    "html_url": "https://github.com/rust-lang/rust/issues/24680#issuecomment-95704253",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24680",
    "id": 95704253,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk1NzA0MjUz",
    "user": {
      "login": "bstrie",
      "id": 865233,
      "node_id": "MDQ6VXNlcjg2NTIzMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/865233?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bstrie",
      "html_url": "https://github.com/bstrie",
      "followers_url": "https://api.github.com/users/bstrie/followers",
      "following_url": "https://api.github.com/users/bstrie/following{/other_user}",
      "gists_url": "https://api.github.com/users/bstrie/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bstrie/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bstrie/subscriptions",
      "organizations_url": "https://api.github.com/users/bstrie/orgs",
      "repos_url": "https://api.github.com/users/bstrie/repos",
      "events_url": "https://api.github.com/users/bstrie/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bstrie/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-23T20:05:40Z",
    "updated_at": "2015-04-23T20:05:40Z",
    "body": "Accidentally duped this bug, but not before coming up with a more minimal test case:\n\n``` rust\ntrait Foo {}\n\nimpl<T: Fn(&())> Foo for T {}\n\nfn baz<T: Foo>(_: T) {}\n\nfn main() {\n    baz(|_| ());\n}\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/95704253/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/95723554",
    "html_url": "https://github.com/rust-lang/rust/issues/24680#issuecomment-95723554",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24680",
    "id": 95723554,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk1NzIzNTU0",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-23T21:27:36Z",
    "updated_at": "2015-04-23T21:27:36Z",
    "body": "I updated the title to reflect the fact that the error message is really bad here. It'd be nice to improve the inference, but in short term error message is priority.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/95723554/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/95723654",
    "html_url": "https://github.com/rust-lang/rust/issues/24680#issuecomment-95723654",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24680",
    "id": 95723654,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk1NzIzNjU0",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-23T21:27:49Z",
    "updated_at": "2015-04-23T21:27:49Z",
    "body": "P-high : provide better feedback in the error message to guide the user towards adding type annotations on the closure arguments.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/95723654/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/95735437",
    "html_url": "https://github.com/rust-lang/rust/issues/24680#issuecomment-95735437",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24680",
    "id": 95735437,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk1NzM1NDM3",
    "user": {
      "login": "Ryman",
      "id": 994978,
      "node_id": "MDQ6VXNlcjk5NDk3OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/994978?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Ryman",
      "html_url": "https://github.com/Ryman",
      "followers_url": "https://api.github.com/users/Ryman/followers",
      "following_url": "https://api.github.com/users/Ryman/following{/other_user}",
      "gists_url": "https://api.github.com/users/Ryman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Ryman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Ryman/subscriptions",
      "organizations_url": "https://api.github.com/users/Ryman/orgs",
      "repos_url": "https://api.github.com/users/Ryman/repos",
      "events_url": "https://api.github.com/users/Ryman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Ryman/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-23T22:29:03Z",
    "updated_at": "2015-04-23T22:29:03Z",
    "body": "@nikomatsakis Should I open another issue for the example I added? I don't know of any syntax available for type annotating the return type with lifetime requirements other than wrapping with a function?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/95735437/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/95736532",
    "html_url": "https://github.com/rust-lang/rust/issues/24680#issuecomment-95736532",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24680",
    "id": 95736532,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk1NzM2NTMy",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-23T22:36:55Z",
    "updated_at": "2015-04-23T22:36:55Z",
    "body": "@Ryman I'm not sure whether opening a separate issue is necessary, _as long as_ we make sure not to _close_ this one with whatever error message improvements we land to address the P-high part of this.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/95736532/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/166982377",
    "html_url": "https://github.com/rust-lang/rust/issues/24680#issuecomment-166982377",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24680",
    "id": 166982377,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2Njk4MjM3Nw==",
    "user": {
      "login": "kornelski",
      "id": 72159,
      "node_id": "MDQ6VXNlcjcyMTU5",
      "avatar_url": "https://avatars.githubusercontent.com/u/72159?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kornelski",
      "html_url": "https://github.com/kornelski",
      "followers_url": "https://api.github.com/users/kornelski/followers",
      "following_url": "https://api.github.com/users/kornelski/following{/other_user}",
      "gists_url": "https://api.github.com/users/kornelski/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kornelski/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kornelski/subscriptions",
      "organizations_url": "https://api.github.com/users/kornelski/orgs",
      "repos_url": "https://api.github.com/users/kornelski/repos",
      "events_url": "https://api.github.com/users/kornelski/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kornelski/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-12-23T20:11:02Z",
    "updated_at": "2015-12-23T20:11:02Z",
    "body": "I've ran into this with:\n\n``` rust\nfn main() {\n    let head = [(1,2), (3,4)];\n    let tail = [(4,5), (6,7)];\n\n    // missing .cloned()\n    let _:Vec<_> = head.iter().chain(tail.iter().map(|x|{(x.0+1,x.1+1)})).collect(); \n}\n```\n\n> error: type mismatch resolving `<[closure@<anon>:5:54: 5:72] as core::ops::FnOnce<(&(_, _),)>>::Output == &(_, _)`:\n>  expected tuple,\n>     found &-ptr [E0271]\n> \u2026\n> <anon>:5:75: 5:84 error: no method named `collect` found for type `core::iter::Chain<core::slice::Iter<'_, (_, _)>, core::iter::Map<core::slice::Iter<'_, (_, _)>, [closure@<anon>:5:54: 5:72]>>` in the current scope\n\nTo Rust's credit \"expected tuple, found &-ptr\" was a good hint, but the error as a whole\u2014with anon closure and iterator's guts\u2014looks rather scary.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/166982377/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/167217463",
    "html_url": "https://github.com/rust-lang/rust/issues/24680#issuecomment-167217463",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24680",
    "id": 167217463,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2NzIxNzQ2Mw==",
    "user": {
      "login": "ticki",
      "id": 13349091,
      "node_id": "MDQ6VXNlcjEzMzQ5MDkx",
      "avatar_url": "https://avatars.githubusercontent.com/u/13349091?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ticki",
      "html_url": "https://github.com/ticki",
      "followers_url": "https://api.github.com/users/ticki/followers",
      "following_url": "https://api.github.com/users/ticki/following{/other_user}",
      "gists_url": "https://api.github.com/users/ticki/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ticki/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ticki/subscriptions",
      "organizations_url": "https://api.github.com/users/ticki/orgs",
      "repos_url": "https://api.github.com/users/ticki/repos",
      "events_url": "https://api.github.com/users/ticki/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ticki/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-12-25T09:52:43Z",
    "updated_at": "2015-12-25T09:52:43Z",
    "body": "Just ran into this while using hyper. It's completely incomprehensible and obscure.\n\nIs there a general fix to it?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/167217463/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/198024879",
    "html_url": "https://github.com/rust-lang/rust/issues/24680#issuecomment-198024879",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24680",
    "id": 198024879,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE5ODAyNDg3OQ==",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-03-17T18:36:49Z",
    "updated_at": "2016-03-17T18:36:49Z",
    "body": "cc @brson is this roughly the case you were talking about today as well?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/198024879/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/198040209",
    "html_url": "https://github.com/rust-lang/rust/issues/24680#issuecomment-198040209",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24680",
    "id": 198040209,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE5ODA0MDIwOQ==",
    "user": {
      "login": "jonas-schievink",
      "id": 1786438,
      "node_id": "MDQ6VXNlcjE3ODY0Mzg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1786438?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonas-schievink",
      "html_url": "https://github.com/jonas-schievink",
      "followers_url": "https://api.github.com/users/jonas-schievink/followers",
      "following_url": "https://api.github.com/users/jonas-schievink/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonas-schievink/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonas-schievink/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonas-schievink/subscriptions",
      "organizations_url": "https://api.github.com/users/jonas-schievink/orgs",
      "repos_url": "https://api.github.com/users/jonas-schievink/repos",
      "events_url": "https://api.github.com/users/jonas-schievink/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonas-schievink/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-03-17T19:12:59Z",
    "updated_at": "2016-03-17T19:12:59Z",
    "body": "Why does @bstrie's example give a better error message on stable than on beta and nightly? Neither beta nor nightly mention \"type X implements Fn(...) but Fn(...) is required\"\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/198040209/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/198476235",
    "html_url": "https://github.com/rust-lang/rust/issues/24680#issuecomment-198476235",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24680",
    "id": 198476235,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE5ODQ3NjIzNQ==",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-03-18T18:08:31Z",
    "updated_at": "2016-03-18T18:08:31Z",
    "body": "I think there are two separable (and important) steps to take here---\n1. We can add some logic that targets the `Fn` traits and closure types specifically. We should be able to diagnose common failures (argument N has wrong type; wrong number of arguments; etc).\n2. It is also interesting to contemplate ways to format the more general error that make it more readable. @brson suggested adopting a format where we extract out the types from the main message, for example. So maybe say something like `the type A (see below) does not implement the required trait B\" and then down below write \"type A is: ...\". Have to play with it, but I think the idea is sound.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/198476235/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/219540027",
    "html_url": "https://github.com/rust-lang/rust/issues/24680#issuecomment-219540027",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24680",
    "id": 219540027,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxOTU0MDAyNw==",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-05-16T20:37:02Z",
    "updated_at": "2016-05-16T20:37:02Z",
    "body": "cc @jonathandturner :)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/219540027/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/222511862",
    "html_url": "https://github.com/rust-lang/rust/issues/24680#issuecomment-222511862",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24680",
    "id": 222511862,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMjUxMTg2Mg==",
    "user": {
      "login": "shepmaster",
      "id": 174509,
      "node_id": "MDQ6VXNlcjE3NDUwOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/174509?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shepmaster",
      "html_url": "https://github.com/shepmaster",
      "followers_url": "https://api.github.com/users/shepmaster/followers",
      "following_url": "https://api.github.com/users/shepmaster/following{/other_user}",
      "gists_url": "https://api.github.com/users/shepmaster/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shepmaster/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shepmaster/subscriptions",
      "organizations_url": "https://api.github.com/users/shepmaster/orgs",
      "repos_url": "https://api.github.com/users/shepmaster/repos",
      "events_url": "https://api.github.com/users/shepmaster/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shepmaster/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-05-30T15:10:33Z",
    "updated_at": "2016-05-30T15:10:33Z",
    "body": "@nikomatsakis do you think that #26937 is a duplicate?\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/222511862/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/222796972",
    "html_url": "https://github.com/rust-lang/rust/issues/24680#issuecomment-222796972",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24680",
    "id": 222796972,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMjc5Njk3Mg==",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-05-31T19:38:53Z",
    "updated_at": "2016-05-31T19:38:53Z",
    "body": "@shepmaster well my feeling is that there are various intersecting problems here. First off, our output is pretty hard to read in general (because we don't do a good job \"desugaring\" the fn traits and so forth). Second, we don't handle higher-ranked messages very well. Finally, and least likely to be fixed, the inference has some limitations. So probably the answer is \"yes\", but maybe the right thing is to try and separate out the various problems into distinct issues that are more specific.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/222796972/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/228109809",
    "html_url": "https://github.com/rust-lang/rust/issues/24680#issuecomment-228109809",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24680",
    "id": 228109809,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyODEwOTgwOQ==",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-06-23T16:43:09Z",
    "updated_at": "2016-06-23T16:43:09Z",
    "body": "triage: Dropped to P-medium just because the impact is relatively low.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/228109809/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/255549572",
    "html_url": "https://github.com/rust-lang/rust/issues/24680#issuecomment-255549572",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24680",
    "id": 255549572,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1NTU0OTU3Mg==",
    "user": {
      "login": "sanmai-NL",
      "id": 3374183,
      "node_id": "MDQ6VXNlcjMzNzQxODM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3374183?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sanmai-NL",
      "html_url": "https://github.com/sanmai-NL",
      "followers_url": "https://api.github.com/users/sanmai-NL/followers",
      "following_url": "https://api.github.com/users/sanmai-NL/following{/other_user}",
      "gists_url": "https://api.github.com/users/sanmai-NL/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sanmai-NL/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sanmai-NL/subscriptions",
      "organizations_url": "https://api.github.com/users/sanmai-NL/orgs",
      "repos_url": "https://api.github.com/users/sanmai-NL/repos",
      "events_url": "https://api.github.com/users/sanmai-NL/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sanmai-NL/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-10-22T19:44:32Z",
    "updated_at": "2016-10-22T19:44:32Z",
    "body": "@brson: I remember a forum thread on the future priorities for Rust, which I couldn't find back now. It referred to the [2016 survey](https://blog.rust-lang.org/2016/06/30/State-of-Rust-Survey-2016.html) that found that the biggest challenge for Rust adoption in the eyes of the users is the learning curve. I think there is a connection between learnability and how easily developers understand error messages.\nCould you please explain a bit your assessment of this issue as [`P-medium`](https://github.com/rust-lang/rust/labels/P-medium) given this context?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/255549572/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/255844592",
    "html_url": "https://github.com/rust-lang/rust/issues/24680#issuecomment-255844592",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24680",
    "id": 255844592,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1NTg0NDU5Mg==",
    "user": {
      "login": "sophiajt",
      "id": 547158,
      "node_id": "MDQ6VXNlcjU0NzE1OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/547158?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sophiajt",
      "html_url": "https://github.com/sophiajt",
      "followers_url": "https://api.github.com/users/sophiajt/followers",
      "following_url": "https://api.github.com/users/sophiajt/following{/other_user}",
      "gists_url": "https://api.github.com/users/sophiajt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sophiajt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sophiajt/subscriptions",
      "organizations_url": "https://api.github.com/users/sophiajt/orgs",
      "repos_url": "https://api.github.com/users/sophiajt/repos",
      "events_url": "https://api.github.com/users/sophiajt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sophiajt/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-10-24T19:44:11Z",
    "updated_at": "2016-10-24T19:44:11Z",
    "body": "@sanmai-NL - absolutely error messages are an important part of learnability/usability.\n\nHere, I think priorities above medium mean that this bug severely impacts the correctness of code or stability of the compiler (crashing the compiler, for example).\n\nWe're doing on-going work to address error messages holistically (eg https://github.com/rust-lang/rust/issues/35233 as one example), so as a whole improving errors is a high priority for us, but as far as bug triage goes, individual bugs fall closer to the medium priority when weighed against much worse experiences (like compiler crashes or bad code)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/255844592/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/260486263",
    "html_url": "https://github.com/rust-lang/rust/issues/24680#issuecomment-260486263",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24680",
    "id": 260486263,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MDQ4NjI2Mw==",
    "user": {
      "login": "FraGag",
      "id": 534195,
      "node_id": "MDQ6VXNlcjUzNDE5NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/534195?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/FraGag",
      "html_url": "https://github.com/FraGag",
      "followers_url": "https://api.github.com/users/FraGag/followers",
      "following_url": "https://api.github.com/users/FraGag/following{/other_user}",
      "gists_url": "https://api.github.com/users/FraGag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/FraGag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/FraGag/subscriptions",
      "organizations_url": "https://api.github.com/users/FraGag/orgs",
      "repos_url": "https://api.github.com/users/FraGag/repos",
      "events_url": "https://api.github.com/users/FraGag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/FraGag/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-11-14T22:37:28Z",
    "updated_at": "2016-11-14T22:37:28Z",
    "body": "Yesterday, [I answered a question on Stack Overflow](http://stackoverflow.com/a/40576086/234590) about this issue. I tried to come up with an explanation for the error message, in the hope that it would provide some insight on how to fix the issue in the compiler. (I didn't debug the compiler compiling the code below or even read the compiler's source code to validate any of this, so my analysis could be completely wrong!)\n\nIn case the above link becomes broken in the future, I'm reproducing parts of the question (from [Jacob Brown](http://stackoverflow.com/users/1614607/jacob-brown)) and of my answer below.\n\nThe code that triggers the issue is this:\n\n```\nuse std::boxed::Box;\n\n#[derive(Debug)]\npub struct Foo<'a>(pub &'a str);\n\npub trait IntoBox {\n    fn into_box<'a>(self) -> Box<Fn(Foo) -> String>;\n}\n\nimpl<B> IntoBox for B where B: Fn(Foo) -> String + 'static {\n    fn into_box(self) -> Box<Fn(Foo) -> String> { Box::new(self) }\n}\n\nfn direct_into_box<B: Fn(Foo) -> String + 'static>(b: B) -> Box<Fn(Foo) -> String> {\n    Box::new(b)\n}\n\nfn main() {\n    // Doesn't work\n    let x = IntoBox::into_box(|i| format!(\"{:?}\", i) );\n\n    // Works\n    let y = IntoBox::into_box(|i: Foo| format!(\"{:?}\", i) );\n\n    // Also works\n    let z = direct_into_box(|i| format!(\"{:?}\", i) );\n}\n```\n\nThis code raises the following compiler errors:\n\n```\nerror[E0271]: type mismatch resolving `for<'r> <[closure@<anon>:20:31: 20:53] as std::ops::FnOnce<(Foo<'r>,)>>::Output == std::string::String`\n  --> <anon>:20:13\n   |\n20 |     let x = IntoBox::into_box(|i| format!(\"{:?}\", i) );\n   |             ^^^^^^^^^^^^^^^^^ expected bound lifetime parameter , found concrete lifetime\n   |\n   = note: concrete lifetime that was found is lifetime '_#29r\n   = note: required because of the requirements on the impl of `IntoBox` for `[closure@<anon>:20:31: 20:53]`\n   = note: required by `IntoBox::into_box`\n\nerror[E0281]: type mismatch: the type `[closure@<anon>:20:31: 20:53]` implements the trait `std::ops::Fn<(_,)>`, but the trait `for<'r> std::ops::Fn<(Foo<'r>,)>` is required (expected concrete lifetime, found bound lifetime parameter )\n  --> <anon>:20:13\n   |\n20 |     let x = IntoBox::into_box(|i| format!(\"{:?}\", i) );\n   |             ^^^^^^^^^^^^^^^^^\n   |\n   = note: required because of the requirements on the impl of `IntoBox` for `[closure@<anon>:20:31: 20:53]`\n   = note: required by `IntoBox::into_box`\n```\n\nWhat seems to happen is that the compiler implements `Fn(Foo<'x>)` _for one specific lifetime `'x`_ instead of `Fn(Foo<'a>)` _for any lifetime `'a`_ on the closure that causes the error.\n\nI tried to replicate the error by defining a struct by hand (using unstable features). First, I defined the struct the correct way:\n\n```\n#![feature(fn_traits)]\n#![feature(unboxed_closures)]\n\n// Foo and IntoBox unchanged\n\nstruct Func;\n\nimpl<'a> FnOnce<(Foo<'a>,)> for Func {\n    type Output = String;\n\n    extern \"rust-call\" fn call_once(self, args: (Foo<'a>,)) -> String {\n        self.call(args)\n    }\n}\n\nimpl<'a> FnMut<(Foo<'a>,)> for Func {\n    extern \"rust-call\" fn call_mut(&mut self, args: (Foo<'a>,)) -> String {\n        self.call(args)\n    }\n}\n\nimpl<'a> Fn<(Foo<'a>,)> for Func {\n    extern \"rust-call\" fn call(&self, (i,): (Foo<'a>,)) -> String {\n        format!(\"{:?}\", i)\n    }\n}\n\nfn main() {\n    let x = IntoBox::into_box(Func);\n}\n```\n\nThis `Func` struct compiles fine and behaves just like the original closure.\n\nThen, I broke it:\n\n```\nimpl FnOnce<(Foo<'static>,)> for Func {\n    type Output = String;\n\n    extern \"rust-call\" fn call_once(self, args: (Foo<'static>,)) -> String {\n        self.call(args)\n    }\n}\n\nimpl FnMut<(Foo<'static>,)> for Func {\n    extern \"rust-call\" fn call_mut(&mut self, args: (Foo<'static>,)) -> String {\n        self.call(args)\n    }\n}\n\nimpl Fn<(Foo<'static>,)> for Func {\n    extern \"rust-call\" fn call(&self, (i,): (Foo<'static>,)) -> String {\n        format!(\"{:?}\", i)\n    }\n}\n```\n\nWhat I've done here is that I've removed the `<'a>` on each `impl`, so that the impls are no longer generic over a lifetime, and I've replaced `Foo<'a>` with `Foo<'static>`. This means that now, the traits are only implemented when the \"closure\"'s argument is a `Foo<'static>`.\n\nThis fails to compile with the following errors:\n\n```\nerror[E0271]: type mismatch resolving `for<'r> <Func as std::ops::FnOnce<(Foo<'r>,)>>::Output == std::string::String`\n  --> <anon>:51:13\n   |\n51 |     let x = IntoBox::into_box(Func);\n   |             ^^^^^^^^^^^^^^^^^ expected bound lifetime parameter , found concrete lifetime\n   |\n   = note: concrete lifetime that was found is the static lifetime\n   = note: required because of the requirements on the impl of `IntoBox` for `Func`\n   = note: required by `IntoBox::into_box`\n\nerror[E0277]: the trait bound `for<'r> Func: std::ops::Fn<(Foo<'r>,)>` is not satisfied\n  --> <anon>:51:13\n   |\n51 |     let x = IntoBox::into_box(Func);\n   |             ^^^^^^^^^^^^^^^^^ the trait `for<'r> std::ops::Fn<(Foo<'r>,)>` is not implemented for `Func`\n   |\n   = help: the following implementations were found:\n   = help:   <Func as std::ops::Fn<(Foo<'static>,)>>\n   = note: required because of the requirements on the impl of `IntoBox` for `Func`\n   = note: required by `IntoBox::into_box`\n```\n\nThe first error is the same, but instead of an internal name like `'_#29r`, the compiler mentions the static lifetime, because that's what I used here (in fact, I _couldn't_ use any other lifetime). I _suspect_ that what the compiler is doing with the closure that doesn't compile in the original code is similar to my second set of impls, just that instead of `'static`, it's **some other concrete lifetime that we can't name in Rust**. I believe that's where the confusion comes from: the compiler does something that is not possible in normal Rust, so the poor developer doesn't understand what the compiler did.\n\nThe second error is different but means pretty much the same thing.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/260486263/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/264532882",
    "html_url": "https://github.com/rust-lang/rust/issues/24680#issuecomment-264532882",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24680",
    "id": 264532882,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2NDUzMjg4Mg==",
    "user": {
      "login": "seanmonstar",
      "id": 51479,
      "node_id": "MDQ6VXNlcjUxNDc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/51479?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/seanmonstar",
      "html_url": "https://github.com/seanmonstar",
      "followers_url": "https://api.github.com/users/seanmonstar/followers",
      "following_url": "https://api.github.com/users/seanmonstar/following{/other_user}",
      "gists_url": "https://api.github.com/users/seanmonstar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/seanmonstar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/seanmonstar/subscriptions",
      "organizations_url": "https://api.github.com/users/seanmonstar/orgs",
      "repos_url": "https://api.github.com/users/seanmonstar/repos",
      "events_url": "https://api.github.com/users/seanmonstar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/seanmonstar/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-12-02T18:55:23Z",
    "updated_at": "2016-12-02T18:55:23Z",
    "body": "I just hit this again in a new crate, which made me decide to make the generic be `Fn` instead of a trait that all closures would be implemented for: https://github.com/seanmonstar/reqwest/pull/29/files#diff-6c0665a7b81d5ea7ac8728b2cfa41e64R109",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/264532882/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/298135046",
    "html_url": "https://github.com/rust-lang/rust/issues/24680#issuecomment-298135046",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24680",
    "id": 298135046,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5ODEzNTA0Ng==",
    "user": {
      "login": "Mark-Simulacrum",
      "id": 5047365,
      "node_id": "MDQ6VXNlcjUwNDczNjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5047365?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Mark-Simulacrum",
      "html_url": "https://github.com/Mark-Simulacrum",
      "followers_url": "https://api.github.com/users/Mark-Simulacrum/followers",
      "following_url": "https://api.github.com/users/Mark-Simulacrum/following{/other_user}",
      "gists_url": "https://api.github.com/users/Mark-Simulacrum/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Mark-Simulacrum/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Mark-Simulacrum/subscriptions",
      "organizations_url": "https://api.github.com/users/Mark-Simulacrum/orgs",
      "repos_url": "https://api.github.com/users/Mark-Simulacrum/repos",
      "events_url": "https://api.github.com/users/Mark-Simulacrum/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Mark-Simulacrum/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-04-29T00:34:03Z",
    "updated_at": "2017-04-29T00:34:03Z",
    "body": "Closing in favor of https://github.com/rust-lang/rust/issues/41078.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/298135046/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
