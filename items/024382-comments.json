[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/153891942",
    "html_url": "https://github.com/rust-lang/rust/issues/24382#issuecomment-153891942",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24382",
    "id": 153891942,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1Mzg5MTk0Mg==",
    "user": {
      "login": "bltavares",
      "id": 109474,
      "node_id": "MDQ6VXNlcjEwOTQ3NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/109474?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bltavares",
      "html_url": "https://github.com/bltavares",
      "followers_url": "https://api.github.com/users/bltavares/followers",
      "following_url": "https://api.github.com/users/bltavares/following{/other_user}",
      "gists_url": "https://api.github.com/users/bltavares/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bltavares/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bltavares/subscriptions",
      "organizations_url": "https://api.github.com/users/bltavares/orgs",
      "repos_url": "https://api.github.com/users/bltavares/repos",
      "events_url": "https://api.github.com/users/bltavares/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bltavares/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-11-04T22:37:27Z",
    "updated_at": "2015-11-04T22:37:27Z",
    "body": "This is still an issue.\n\n```\nrustc 1.6.0-nightly (1a2eaffb6 2015-10-31)\n```\n\nI've updated the code example as it was not compiling on the `convert::from` implementation.\n\n``` rust\n#![no_implicit_prelude]\n\nuse cast::From as _0;\nuse convert::From;\n\n// minimal version of `std::convert::From`\nmod convert {\n    pub trait From<Src> {\n        fn from(Src) -> Self;\n    }\n\n    // more concrete version of `impl<T> From<T> for T`\n    impl From<u16> for u16 {\n        fn from(src: u16) -> u16 {\n            src\n        }\n    }\n}\n\nmod cast {\n    pub trait From<Src> {\n        type Output;\n\n        fn from(Src) -> Self::Output;\n    }\n\n    // integer promotion\n    impl From<u8> for u16 {\n        type Output = u16;\n\n        fn from(src: u8) -> u16 {\n            src as u16\n        }\n    }\n}\n\nfn main() {\n    // This error is wrong, because only `cast::From` can be \"selected\". Or in other words\n    // `<u16 as convert::From<u16>>::from(0u8)` is not a valid candidate (see function signature)\n    let x = u16::from(0u8);\n    //~^ error: multiple applicable methods in scope\n    //~| note: candidate #1 is defined in an impl of the trait `convert::From` for the type `u16`\n    //~| note: candidate #2 is defined in an impl of the trait `cast::From` for the type `u16`\n}\n```\n\nIt seems that the compiler is getting confused as the `u8` could be casted as `u16` safely, and that leaves both functions as good candidates, even tho there is one signature that is more specific without implicit castings.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/153891942/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/154131630",
    "html_url": "https://github.com/rust-lang/rust/issues/24382#issuecomment-154131630",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24382",
    "id": 154131630,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1NDEzMTYzMA==",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-11-05T17:32:29Z",
    "updated_at": "2015-11-05T17:32:29Z",
    "body": "I see this as \"not a bug\". Not because the analysis is incorrect, but because this is a known limitation of how we handle UFCS/method-calls/projections that I don't think we will lift in the short-term. In particular, there are certain points in the compiler where we require a base amount of type information. For example, `x.foo(...)` requires that we can select what trait (if any) the method `foo` derives from _without knowing the types of the arguments_. Similarly, we must be able to expand a projection like `u16::from` to the complete `<u16 as ...>::from` _without knowing_ the types of the arguments. This in turn is important because we need to have resolved this information to coerce the arguments and so forth. In principle, we can lift these restrictions by restructuring the type checker to be much less \"ordered\". But this is effectively a ground-up rewrite, and so I think currently out of scope (it would probably require, among other things, an RFC clarifying how it will work, etc). Therefore, I'm going to close this issue. \n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/154131630/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
