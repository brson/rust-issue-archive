[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/132197374",
    "html_url": "https://github.com/rust-lang/rust/issues/27878#issuecomment-132197374",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27878",
    "id": 132197374,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMjE5NzM3NA==",
    "user": {
      "login": "bluss",
      "id": 3209739,
      "node_id": "MDQ6VXNlcjMyMDk3Mzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3209739?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bluss",
      "html_url": "https://github.com/bluss",
      "followers_url": "https://api.github.com/users/bluss/followers",
      "following_url": "https://api.github.com/users/bluss/following{/other_user}",
      "gists_url": "https://api.github.com/users/bluss/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bluss/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bluss/subscriptions",
      "organizations_url": "https://api.github.com/users/bluss/orgs",
      "repos_url": "https://api.github.com/users/bluss/repos",
      "events_url": "https://api.github.com/users/bluss/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bluss/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-08-18T12:53:55Z",
    "updated_at": "2015-08-18T12:53:55Z",
    "body": "If you have a crash like this, I might suspect some prior memory corruption. This is where you examine all your `unsafe`-marked code blocks to see if you have any bugs there. In well functioning Rust that should be the only place. If you want to share the code, I can help you with this kind of bug search.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/132197374/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/132197913",
    "html_url": "https://github.com/rust-lang/rust/issues/27878#issuecomment-132197913",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27878",
    "id": 132197913,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMjE5NzkxMw==",
    "user": {
      "login": "bluss",
      "id": 3209739,
      "node_id": "MDQ6VXNlcjMyMDk3Mzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3209739?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bluss",
      "html_url": "https://github.com/bluss",
      "followers_url": "https://api.github.com/users/bluss/followers",
      "following_url": "https://api.github.com/users/bluss/following{/other_user}",
      "gists_url": "https://api.github.com/users/bluss/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bluss/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bluss/subscriptions",
      "organizations_url": "https://api.github.com/users/bluss/orgs",
      "repos_url": "https://api.github.com/users/bluss/repos",
      "events_url": "https://api.github.com/users/bluss/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bluss/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-08-18T12:56:57Z",
    "updated_at": "2015-08-18T12:56:57Z",
    "body": "Wow, this looks weird. `fcgi::heap::reallocate (ptr=0x5555557af9fc \"REQUEST_METHOD\",`  I think this is a hint.. somehow the Vec's internal pointer is a pointer to a string literal (?).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/132197913/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/132199274",
    "html_url": "https://github.com/rust-lang/rust/issues/27878#issuecomment-132199274",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27878",
    "id": 132199274,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMjE5OTI3NA==",
    "user": {
      "login": "bluss",
      "id": 3209739,
      "node_id": "MDQ6VXNlcjMyMDk3Mzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3209739?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bluss",
      "html_url": "https://github.com/bluss",
      "followers_url": "https://api.github.com/users/bluss/followers",
      "following_url": "https://api.github.com/users/bluss/following{/other_user}",
      "gists_url": "https://api.github.com/users/bluss/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bluss/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bluss/subscriptions",
      "organizations_url": "https://api.github.com/users/bluss/orgs",
      "repos_url": "https://api.github.com/users/bluss/repos",
      "events_url": "https://api.github.com/users/bluss/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bluss/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-08-18T13:03:17Z",
    "updated_at": "2015-08-18T13:03:17Z",
    "body": "Which fcgi code is this? I can't find a recent version (that compiles)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/132199274/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/132200441",
    "html_url": "https://github.com/rust-lang/rust/issues/27878#issuecomment-132200441",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27878",
    "id": 132200441,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMjIwMDQ0MQ==",
    "user": {
      "login": "bluss",
      "id": 3209739,
      "node_id": "MDQ6VXNlcjMyMDk3Mzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3209739?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bluss",
      "html_url": "https://github.com/bluss",
      "followers_url": "https://api.github.com/users/bluss/followers",
      "following_url": "https://api.github.com/users/bluss/following{/other_user}",
      "gists_url": "https://api.github.com/users/bluss/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bluss/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bluss/subscriptions",
      "organizations_url": "https://api.github.com/users/bluss/orgs",
      "repos_url": "https://api.github.com/users/bluss/repos",
      "events_url": "https://api.github.com/users/bluss/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bluss/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-08-18T13:09:46Z",
    "updated_at": "2015-08-18T13:10:14Z",
    "body": "Ok this smells of incorrect use of `CString::from_ptr`, which is an `unsafe`-marked function\n\n``` rust\n    /// Retakes ownership of a CString that was transferred to C.\n    ///\n    /// The only appropriate argument is a pointer obtained by calling\n    /// `into_ptr`. The length of the string will be recalculated\n    /// using the pointer.\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/132200441/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/132202776",
    "html_url": "https://github.com/rust-lang/rust/issues/27878#issuecomment-132202776",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27878",
    "id": 132202776,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMjIwMjc3Ng==",
    "user": {
      "login": "ashleysommer",
      "id": 402468,
      "node_id": "MDQ6VXNlcjQwMjQ2OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/402468?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ashleysommer",
      "html_url": "https://github.com/ashleysommer",
      "followers_url": "https://api.github.com/users/ashleysommer/followers",
      "following_url": "https://api.github.com/users/ashleysommer/following{/other_user}",
      "gists_url": "https://api.github.com/users/ashleysommer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ashleysommer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ashleysommer/subscriptions",
      "organizations_url": "https://api.github.com/users/ashleysommer/orgs",
      "repos_url": "https://api.github.com/users/ashleysommer/repos",
      "events_url": "https://api.github.com/users/ashleysommer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ashleysommer/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-08-18T13:21:16Z",
    "updated_at": "2015-08-18T13:21:16Z",
    "body": "Thanks for your help. I will check other unsafe code in the project.\n\nI have re-worked the old rust-fcgi project to get it to compile on current rust nightly. I am using my local version for now. I will upload the working code if you want to test it out.\n\nI am not using `CString::from_ptr`, but it may be used internally somewhere. I am creating the CString with `CString::new()`, as per the code [here](https://github.com/rust-lang/rust/blob/master/src/libstd/ffi/c_str.rs#L184), it creates a `Vec<u8>` using `into()`.\n\nI believe the Vec's internal pointer should read as a string literal in the trace output, because it is essentially `[u8]` internally and in this case that is equivalent to a `*c_char` so gdb evaluates it as such.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/132202776/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/132203399",
    "html_url": "https://github.com/rust-lang/rust/issues/27878#issuecomment-132203399",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27878",
    "id": 132203399,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMjIwMzM5OQ==",
    "user": {
      "login": "bluss",
      "id": 3209739,
      "node_id": "MDQ6VXNlcjMyMDk3Mzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3209739?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bluss",
      "html_url": "https://github.com/bluss",
      "followers_url": "https://api.github.com/users/bluss/followers",
      "following_url": "https://api.github.com/users/bluss/following{/other_user}",
      "gists_url": "https://api.github.com/users/bluss/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bluss/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bluss/subscriptions",
      "organizations_url": "https://api.github.com/users/bluss/orgs",
      "repos_url": "https://api.github.com/users/bluss/repos",
      "events_url": "https://api.github.com/users/bluss/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bluss/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-08-18T13:24:21Z",
    "updated_at": "2015-08-18T13:24:21Z",
    "body": "Good point. Yes we need the crashing code to be able to debug this.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/132203399/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/132208116",
    "html_url": "https://github.com/rust-lang/rust/issues/27878#issuecomment-132208116",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27878",
    "id": 132208116,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMjIwODExNg==",
    "user": {
      "login": "ashleysommer",
      "id": 402468,
      "node_id": "MDQ6VXNlcjQwMjQ2OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/402468?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ashleysommer",
      "html_url": "https://github.com/ashleysommer",
      "followers_url": "https://api.github.com/users/ashleysommer/followers",
      "following_url": "https://api.github.com/users/ashleysommer/following{/other_user}",
      "gists_url": "https://api.github.com/users/ashleysommer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ashleysommer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ashleysommer/subscriptions",
      "organizations_url": "https://api.github.com/users/ashleysommer/orgs",
      "repos_url": "https://api.github.com/users/ashleysommer/repos",
      "events_url": "https://api.github.com/users/ashleysommer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ashleysommer/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-08-18T13:36:14Z",
    "updated_at": "2015-08-18T13:36:14Z",
    "body": "This is the rust-fcgi code I am using.\nhttps://github.com/ashleysommer/rust-fcgi\n\nThis is the test main.rs I am using to run it:\n\n```\nextern crate fcgi;\nextern crate libc;\nextern crate unix_socket;\n\nuse fcgi::{Request, DefaultRequest};\nuse unix_socket::{UnixListener};\nuse std::os::unix::io::{AsRawFd};\n\nfn main() { \n    let listener = UnixListener::bind(\"/run/webapp/webapp.sock\").unwrap();  \n    println!(\"isCgi: {}\", fcgi::is_cgi());\n    let result = fcgi::initialize_fcgi();\n    let mut request: DefaultRequest = Request::new_with_fd(listener.as_raw_fd()).unwrap(); \n    while request.accept() {\n        println!(\"request uri    {:?}\", request.get_param(\"REQUEST_URI\"));\n        println!(\"document root  {:?}\", request.get_param(\"DOCUMENT_ROOT\"));\n        println!(\"script name    {:?}\", request.get_param(\"SCRIPT_NAME\"));\n        println!(\"request method {:?}\", request.get_param(\"REQUEST_METHOD\"));\n        let received = request.readall(); \n        println!(\"Received (size={})\", received.len());\n        if received.len() > 0 { \n            println!(\"8<------------------\");\n            println!(\"{}\", received);\n            println!(\"8<------------------\");\n        } \n        let body = \"Content-type: text/html\\r\\n\\r\\n<header><title>Hello World</title></header>\\r\\n<body> <h1>Hello World!</h1>  </body>\";\n        let byte_count = request.write(body);\n        request.error(\"Test error!\");\n        println!(\"number of bytes written {}\", byte_count);\n        request.flush(fcgi::StreamType::OutStream);\n        request.finish();\n    }\n}\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/132208116/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/132210271",
    "html_url": "https://github.com/rust-lang/rust/issues/27878#issuecomment-132210271",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27878",
    "id": 132210271,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMjIxMDI3MQ==",
    "user": {
      "login": "ashleysommer",
      "id": 402468,
      "node_id": "MDQ6VXNlcjQwMjQ2OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/402468?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ashleysommer",
      "html_url": "https://github.com/ashleysommer",
      "followers_url": "https://api.github.com/users/ashleysommer/followers",
      "following_url": "https://api.github.com/users/ashleysommer/following{/other_user}",
      "gists_url": "https://api.github.com/users/ashleysommer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ashleysommer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ashleysommer/subscriptions",
      "organizations_url": "https://api.github.com/users/ashleysommer/orgs",
      "repos_url": "https://api.github.com/users/ashleysommer/repos",
      "events_url": "https://api.github.com/users/ashleysommer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ashleysommer/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-08-18T13:41:48Z",
    "updated_at": "2015-08-18T13:41:48Z",
    "body": "It will be complex to set up a test, as you need to set up mod_proxy_fcgi in Apache to send requests to the listening socket. See here for instructions:\nhttp://httpd.apache.org/docs/trunk/mod/mod_proxy_fcgi.html\n\nI am using this line in my apache config:\n`ProxyPass  \"/webapp/\" \"unix:/run/webapp/webapp.sock|fcgi://localhost/\" enablereuse=on`\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/132210271/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/132210366",
    "html_url": "https://github.com/rust-lang/rust/issues/27878#issuecomment-132210366",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27878",
    "id": 132210366,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMjIxMDM2Ng==",
    "user": {
      "login": "bluss",
      "id": 3209739,
      "node_id": "MDQ6VXNlcjMyMDk3Mzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3209739?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bluss",
      "html_url": "https://github.com/bluss",
      "followers_url": "https://api.github.com/users/bluss/followers",
      "following_url": "https://api.github.com/users/bluss/following{/other_user}",
      "gists_url": "https://api.github.com/users/bluss/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bluss/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bluss/subscriptions",
      "organizations_url": "https://api.github.com/users/bluss/orgs",
      "repos_url": "https://api.github.com/users/bluss/repos",
      "events_url": "https://api.github.com/users/bluss/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bluss/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-08-18T13:41:59Z",
    "updated_at": "2015-08-18T13:44:05Z",
    "body": "C Strings are a perilous territory in rust. You have to use `unsafe` to call ffi functions and to inspect returned raw pointers, it desensitizes you a bit. The danger here is that the type system doesn't help you. Raw pointers can represent borrowing or ownership transfer, and it's all in the documentation, not in the type.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/132210366/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/132210622",
    "html_url": "https://github.com/rust-lang/rust/issues/27878#issuecomment-132210622",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27878",
    "id": 132210622,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMjIxMDYyMg==",
    "user": {
      "login": "bluss",
      "id": 3209739,
      "node_id": "MDQ6VXNlcjMyMDk3Mzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3209739?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bluss",
      "html_url": "https://github.com/bluss",
      "followers_url": "https://api.github.com/users/bluss/followers",
      "following_url": "https://api.github.com/users/bluss/following{/other_user}",
      "gists_url": "https://api.github.com/users/bluss/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bluss/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bluss/subscriptions",
      "organizations_url": "https://api.github.com/users/bluss/orgs",
      "repos_url": "https://api.github.com/users/bluss/repos",
      "events_url": "https://api.github.com/users/bluss/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bluss/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-08-18T13:42:18Z",
    "updated_at": "2015-08-18T13:42:22Z",
    "body": "@ashleysommer Does it work if you fix this https://github.com/ashleysommer/rust-fcgi/commit/ba1f119de014df77f78a2e7071ecf933364be80d#commitcomment-12760908 ?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/132210622/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/132216956",
    "html_url": "https://github.com/rust-lang/rust/issues/27878#issuecomment-132216956",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27878",
    "id": 132216956,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMjIxNjk1Ng==",
    "user": {
      "login": "ashleysommer",
      "id": 402468,
      "node_id": "MDQ6VXNlcjQwMjQ2OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/402468?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ashleysommer",
      "html_url": "https://github.com/ashleysommer",
      "followers_url": "https://api.github.com/users/ashleysommer/followers",
      "following_url": "https://api.github.com/users/ashleysommer/following{/other_user}",
      "gists_url": "https://api.github.com/users/ashleysommer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ashleysommer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ashleysommer/subscriptions",
      "organizations_url": "https://api.github.com/users/ashleysommer/orgs",
      "repos_url": "https://api.github.com/users/ashleysommer/repos",
      "events_url": "https://api.github.com/users/ashleysommer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ashleysommer/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-08-18T13:56:58Z",
    "updated_at": "2015-08-18T13:56:58Z",
    "body": "@bluss Yes! Thank you. That fixed it.\nThat also explains why it runs fine for one or two calls to `get_param()` before segfaulting on the third call. It was using unowned memory as owned CStrings.\n\nI found a second call to `CString::from_ptr()` in the `read()` function too.\n\nYou are right in pointing out that the (reference here)[https://github.com/rust-lang/rust/issues/27769] that the names of the functions could be improved to prevent this kind of confusion.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/132216956/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/132217861",
    "html_url": "https://github.com/rust-lang/rust/issues/27878#issuecomment-132217861",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27878",
    "id": 132217861,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMjIxNzg2MQ==",
    "user": {
      "login": "bluss",
      "id": 3209739,
      "node_id": "MDQ6VXNlcjMyMDk3Mzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3209739?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bluss",
      "html_url": "https://github.com/bluss",
      "followers_url": "https://api.github.com/users/bluss/followers",
      "following_url": "https://api.github.com/users/bluss/following{/other_user}",
      "gists_url": "https://api.github.com/users/bluss/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bluss/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bluss/subscriptions",
      "organizations_url": "https://api.github.com/users/bluss/orgs",
      "repos_url": "https://api.github.com/users/bluss/repos",
      "events_url": "https://api.github.com/users/bluss/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bluss/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-08-18T13:59:59Z",
    "updated_at": "2015-08-18T13:59:59Z",
    "body": "Yep, great! Let's close this as not a bug then.\n\nRust did work correctly \u2014 memory unsafety originated in an `unsafe` marked block; but the CString API can be much improved, and that's why I was drawing attention to this bug. It's only helpful, I hope you don't mind. These small traps are something we need to learn from when designing the API.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/132217861/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/132219722",
    "html_url": "https://github.com/rust-lang/rust/issues/27878#issuecomment-132219722",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27878",
    "id": 132219722,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMjIxOTcyMg==",
    "user": {
      "login": "ashleysommer",
      "id": 402468,
      "node_id": "MDQ6VXNlcjQwMjQ2OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/402468?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ashleysommer",
      "html_url": "https://github.com/ashleysommer",
      "followers_url": "https://api.github.com/users/ashleysommer/followers",
      "following_url": "https://api.github.com/users/ashleysommer/following{/other_user}",
      "gists_url": "https://api.github.com/users/ashleysommer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ashleysommer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ashleysommer/subscriptions",
      "organizations_url": "https://api.github.com/users/ashleysommer/orgs",
      "repos_url": "https://api.github.com/users/ashleysommer/repos",
      "events_url": "https://api.github.com/users/ashleysommer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ashleysommer/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-08-18T14:03:58Z",
    "updated_at": "2015-08-18T14:04:19Z",
    "body": "Yes once again Rust is smarter than me.\nThis was not really a bug as much as it was me not understanding the `CString` `from_ptr` semantics and the difference between `CString` and `CStr`. Is there any documentation that would have explained this if I took the time to read it before diving in?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/132219722/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/132222155",
    "html_url": "https://github.com/rust-lang/rust/issues/27878#issuecomment-132222155",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27878",
    "id": 132222155,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMjIyMjE1NQ==",
    "user": {
      "login": "bluss",
      "id": 3209739,
      "node_id": "MDQ6VXNlcjMyMDk3Mzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3209739?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bluss",
      "html_url": "https://github.com/bluss",
      "followers_url": "https://api.github.com/users/bluss/followers",
      "following_url": "https://api.github.com/users/bluss/following{/other_user}",
      "gists_url": "https://api.github.com/users/bluss/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bluss/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bluss/subscriptions",
      "organizations_url": "https://api.github.com/users/bluss/orgs",
      "repos_url": "https://api.github.com/users/bluss/repos",
      "events_url": "https://api.github.com/users/bluss/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bluss/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-08-18T14:10:13Z",
    "updated_at": "2015-08-18T14:10:13Z",
    "body": "Yes, the docs for CString::from_ptr that I quoted in this thread :)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/132222155/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
