[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/50974646",
    "html_url": "https://github.com/rust-lang/rust/pull/16204#issuecomment-50974646",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/16204",
    "id": 50974646,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwOTc0NjQ2",
    "user": {
      "login": "lilyball",
      "id": 714,
      "node_id": "MDQ6VXNlcjcxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/714?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lilyball",
      "html_url": "https://github.com/lilyball",
      "followers_url": "https://api.github.com/users/lilyball/followers",
      "following_url": "https://api.github.com/users/lilyball/following{/other_user}",
      "gists_url": "https://api.github.com/users/lilyball/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lilyball/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lilyball/subscriptions",
      "organizations_url": "https://api.github.com/users/lilyball/orgs",
      "repos_url": "https://api.github.com/users/lilyball/repos",
      "events_url": "https://api.github.com/users/lilyball/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lilyball/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-02T21:18:36Z",
    "updated_at": "2014-08-02T21:18:36Z",
    "body": "I'll review the code later, but just going by the description, we haven't done this precisely because of the issue of introducing a new macro that isn't necessarily a good design. There's an RFC I filed (can't look up the number now) that modifies the macro system to, among other things, provide counting. I encourage you to find and read through it.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/50974646/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/51264705",
    "html_url": "https://github.com/rust-lang/rust/pull/16204#issuecomment-51264705",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/16204",
    "id": 51264705,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxMjY0NzA1",
    "user": {
      "login": "lilyball",
      "id": 714,
      "node_id": "MDQ6VXNlcjcxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/714?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lilyball",
      "html_url": "https://github.com/lilyball",
      "followers_url": "https://api.github.com/users/lilyball/followers",
      "following_url": "https://api.github.com/users/lilyball/following{/other_user}",
      "gists_url": "https://api.github.com/users/lilyball/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lilyball/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lilyball/subscriptions",
      "organizations_url": "https://api.github.com/users/lilyball/orgs",
      "repos_url": "https://api.github.com/users/lilyball/repos",
      "events_url": "https://api.github.com/users/lilyball/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lilyball/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-05T21:44:38Z",
    "updated_at": "2014-08-05T21:44:38Z",
    "body": "Yeah, this is basically what I thought. It's a macro that only works for `expr` arguments, and produces a `1+1+1+1+...` expression. And it requires being publicly exported.\n\nThe RFC I mentioned is rust-lang/rfcs#88, which introduces new syntax for counting repetitions directly into the macro parser. That avoids the need for a new macro (which is only useful to other macros), supports all nonterminal kinds, and produces a single literal instead of an expression.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/51264705/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/51290625",
    "html_url": "https://github.com/rust-lang/rust/pull/16204#issuecomment-51290625",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/16204",
    "id": 51290625,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxMjkwNjI1",
    "user": {
      "login": "bkoropoff",
      "id": 2101303,
      "node_id": "MDQ6VXNlcjIxMDEzMDM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2101303?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bkoropoff",
      "html_url": "https://github.com/bkoropoff",
      "followers_url": "https://api.github.com/users/bkoropoff/followers",
      "following_url": "https://api.github.com/users/bkoropoff/following{/other_user}",
      "gists_url": "https://api.github.com/users/bkoropoff/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bkoropoff/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bkoropoff/subscriptions",
      "organizations_url": "https://api.github.com/users/bkoropoff/orgs",
      "repos_url": "https://api.github.com/users/bkoropoff/repos",
      "events_url": "https://api.github.com/users/bkoropoff/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bkoropoff/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-06T03:45:37Z",
    "updated_at": "2014-08-06T03:45:37Z",
    "body": "It's possible to avoid a separate macro by being a little creative:\n\n``` rust\n/// Create a `std::vec::Vec` containing the arguments.\n#[macro_export]\nmacro_rules! vec(\n    ($($e:expr),*) => ({\n        // leading _ to allow empty construction without a warning.\n        let mut _temp = ::std::vec::Vec::with_capacity(vec!(c: $($e),*));\n        $(_temp.push($e);)*\n        _temp\n    });\n    ($($e:expr),+,) => (vec!($($e),+));\n    // These syntactic forms are for internal use only\n    (c: $e:expr $(,$e_rest:expr)*) => (1 + vec!(c: $($e_rest),*));\n    (c: ) => (0);\n    (c: $($e:expr),*,) => (vec!(c: $($e),*))\n)\n```\n\nOf course, this requires consumers to abstain from using the internal syntactic forms themselves.  I'm guessing this optimization is not pressing enough to justify a hacky interim solution pending the adoption of an RFC like the one you mentioned, so I'll close the PR.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/51290625/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/51291234",
    "html_url": "https://github.com/rust-lang/rust/pull/16204#issuecomment-51291234",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/16204",
    "id": 51291234,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxMjkxMjM0",
    "user": {
      "login": "lilyball",
      "id": 714,
      "node_id": "MDQ6VXNlcjcxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/714?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lilyball",
      "html_url": "https://github.com/lilyball",
      "followers_url": "https://api.github.com/users/lilyball/followers",
      "following_url": "https://api.github.com/users/lilyball/following{/other_user}",
      "gists_url": "https://api.github.com/users/lilyball/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lilyball/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lilyball/subscriptions",
      "organizations_url": "https://api.github.com/users/lilyball/orgs",
      "repos_url": "https://api.github.com/users/lilyball/repos",
      "events_url": "https://api.github.com/users/lilyball/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lilyball/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-06T03:58:36Z",
    "updated_at": "2014-08-06T03:58:36Z",
    "body": "@bkoropoff Yeah that internal format is also something that's been suggested before. My personal belief is that it's not pressing enough to warrant doing things like that.\n\nHopefully the RFC will be accepted. If not, then we can consider workarounds.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/51291234/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
