[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/56944079",
    "html_url": "https://github.com/rust-lang/rust/issues/17559#issuecomment-56944079",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/17559",
    "id": 56944079,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2OTQ0MDc5",
    "user": {
      "login": "martinraison",
      "id": 2560662,
      "node_id": "MDQ6VXNlcjI1NjA2NjI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2560662?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/martinraison",
      "html_url": "https://github.com/martinraison",
      "followers_url": "https://api.github.com/users/martinraison/followers",
      "following_url": "https://api.github.com/users/martinraison/following{/other_user}",
      "gists_url": "https://api.github.com/users/martinraison/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/martinraison/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/martinraison/subscriptions",
      "organizations_url": "https://api.github.com/users/martinraison/orgs",
      "repos_url": "https://api.github.com/users/martinraison/repos",
      "events_url": "https://api.github.com/users/martinraison/events{/privacy}",
      "received_events_url": "https://api.github.com/users/martinraison/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-09-26T10:20:08Z",
    "updated_at": "2014-09-26T10:20:59Z",
    "body": "Investigating a bit more, it looks like the assertion `queue != 0` fails in `at_exit_impl.rs` because the queue has not been initialized. So I solved my problem by manually initializing the runtime:\n\n```\nstd::rt::init(0, std::ptr::null());\n```\n\nOf course it makes sense now, but is this is the recommended way to do it? It also means many rust libraries will require some kind of `init()` function to be called (which is fine, I guess).\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/56944079/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/57040845",
    "html_url": "https://github.com/rust-lang/rust/issues/17559#issuecomment-57040845",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/17559",
    "id": 57040845,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3MDQwODQ1",
    "user": {
      "login": "kmcallister",
      "id": 444997,
      "node_id": "MDQ6VXNlcjQ0NDk5Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/444997?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kmcallister",
      "html_url": "https://github.com/kmcallister",
      "followers_url": "https://api.github.com/users/kmcallister/followers",
      "following_url": "https://api.github.com/users/kmcallister/following{/other_user}",
      "gists_url": "https://api.github.com/users/kmcallister/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kmcallister/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kmcallister/subscriptions",
      "organizations_url": "https://api.github.com/users/kmcallister/orgs",
      "repos_url": "https://api.github.com/users/kmcallister/repos",
      "events_url": "https://api.github.com/users/kmcallister/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kmcallister/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-09-27T03:26:50Z",
    "updated_at": "2014-09-27T03:26:50Z",
    "body": "As I see it, the solution is to compile with `#![no_std]` and provide your own `begin_unwind`.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/57040845/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/57137513",
    "html_url": "https://github.com/rust-lang/rust/issues/17559#issuecomment-57137513",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/17559",
    "id": 57137513,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3MTM3NTEz",
    "user": {
      "login": "martinraison",
      "id": 2560662,
      "node_id": "MDQ6VXNlcjI1NjA2NjI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2560662?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/martinraison",
      "html_url": "https://github.com/martinraison",
      "followers_url": "https://api.github.com/users/martinraison/followers",
      "following_url": "https://api.github.com/users/martinraison/following{/other_user}",
      "gists_url": "https://api.github.com/users/martinraison/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/martinraison/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/martinraison/subscriptions",
      "organizations_url": "https://api.github.com/users/martinraison/orgs",
      "repos_url": "https://api.github.com/users/martinraison/repos",
      "events_url": "https://api.github.com/users/martinraison/events{/privacy}",
      "received_events_url": "https://api.github.com/users/martinraison/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-09-29T09:38:00Z",
    "updated_at": "2014-09-29T09:38:00Z",
    "body": "I see - thanks for your reply! I tried using `#![no_std]` originally but my project is using things like `ChanReader` which don't seem to be available outside of std.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/57137513/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/60008734",
    "html_url": "https://github.com/rust-lang/rust/issues/17559#issuecomment-60008734",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/17559",
    "id": 60008734,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwMDA4NzM0",
    "user": {
      "login": "thestinger",
      "id": 1505226,
      "node_id": "MDQ6VXNlcjE1MDUyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thestinger",
      "html_url": "https://github.com/thestinger",
      "followers_url": "https://api.github.com/users/thestinger/followers",
      "following_url": "https://api.github.com/users/thestinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions",
      "organizations_url": "https://api.github.com/users/thestinger/orgs",
      "repos_url": "https://api.github.com/users/thestinger/repos",
      "events_url": "https://api.github.com/users/thestinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thestinger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-10-21T22:22:02Z",
    "updated_at": "2014-10-21T22:22:19Z",
    "body": "You need to use `#![no_std]` if you want to provide a Rust library with a normal C API. You're running into explicitly undefined behaviour if you aren't initializing the runtime on every thread before using libstd.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/60008734/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
