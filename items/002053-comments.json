[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/4690480",
    "html_url": "https://github.com/rust-lang/rust/issues/2053#issuecomment-4690480",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/2053",
    "id": 4690480,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2OTA0ODA=",
    "user": {
      "login": "marijnh",
      "id": 144427,
      "node_id": "MDQ6VXNlcjE0NDQyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/144427?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/marijnh",
      "html_url": "https://github.com/marijnh",
      "followers_url": "https://api.github.com/users/marijnh/followers",
      "following_url": "https://api.github.com/users/marijnh/following{/other_user}",
      "gists_url": "https://api.github.com/users/marijnh/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/marijnh/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/marijnh/subscriptions",
      "organizations_url": "https://api.github.com/users/marijnh/orgs",
      "repos_url": "https://api.github.com/users/marijnh/repos",
      "events_url": "https://api.github.com/users/marijnh/events{/privacy}",
      "received_events_url": "https://api.github.com/users/marijnh/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-03-26T09:23:17Z",
    "updated_at": "2012-03-26T09:23:17Z",
    "body": "The `csv.rs` you linked doesn't have a `rowaccess` in it, which the `sim.rs` you linked refers to.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/4690480/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/4694371",
    "html_url": "https://github.com/rust-lang/rust/issues/2053#issuecomment-4694371",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/2053",
    "id": 4694371,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2OTQzNzE=",
    "user": {
      "login": "grahame",
      "id": 330805,
      "node_id": "MDQ6VXNlcjMzMDgwNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/330805?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grahame",
      "html_url": "https://github.com/grahame",
      "followers_url": "https://api.github.com/users/grahame/followers",
      "following_url": "https://api.github.com/users/grahame/following{/other_user}",
      "gists_url": "https://api.github.com/users/grahame/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grahame/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grahame/subscriptions",
      "organizations_url": "https://api.github.com/users/grahame/orgs",
      "repos_url": "https://api.github.com/users/grahame/repos",
      "events_url": "https://api.github.com/users/grahame/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grahame/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-03-26T13:53:09Z",
    "updated_at": "2012-03-26T13:53:09Z",
    "body": "Sorry Marijn, I forgot to do a push of the limerick project. I've just done it, the rev f067e505a661f030e6d48caa955a7a5eb34e0f3b of limerick and rev eea5be3dd67057bb803c2028860c5afe07be6288 of rust-csv will segfault.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/4694371/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/4982069",
    "html_url": "https://github.com/rust-lang/rust/issues/2053#issuecomment-4982069",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/2053",
    "id": 4982069,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5ODIwNjk=",
    "user": {
      "login": "grahame",
      "id": 330805,
      "node_id": "MDQ6VXNlcjMzMDgwNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/330805?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grahame",
      "html_url": "https://github.com/grahame",
      "followers_url": "https://api.github.com/users/grahame/followers",
      "following_url": "https://api.github.com/users/grahame/following{/other_user}",
      "gists_url": "https://api.github.com/users/grahame/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grahame/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grahame/subscriptions",
      "organizations_url": "https://api.github.com/users/grahame/orgs",
      "repos_url": "https://api.github.com/users/grahame/repos",
      "events_url": "https://api.github.com/users/grahame/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grahame/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-04-05T18:00:09Z",
    "updated_at": "2012-04-05T18:00:09Z",
    "body": "Managed to reduce this; compile with rust 851fde879d85f3b76b42\n\n```\nuse std;\nimport std::map;\nimport map::hashmap;\n\ntype map1 = map::hashmap<str, @t>;\ntype map2 = map::hashmap<str, ~t>;\n\ntype t = {\n    s: str\n};\n\nfn main(args: [str])\n{\n    fn nover<T: copy, U: copy>(m: map::hashmap<T, U>, k: T, v: U) {\n        if ! m.insert(k, v) {\n            fail;\n        }\n    }\n\n    fn f1(m: map1) {\n        nover(m, \"x\", @{\n            s: \"pq\"\n        });\n    };\n\n    fn f2(m: map2) {\n        nover(m, \"27\", ~{\n            s : \"blah\"\n        });\n    };\n\n    let m : map2 = map::str_hash();\n    f2(m);\n}\n```\n\nOn my system (MacOS Lion, x86_64):\n\n```\nherugrim::~/code/limerick $ rustc -g bug.rs      \nbug.rs:12:0: 34:1 warning: unused variable args\nbug.rs:12 fn main(args: [str])\nbug.rs:13 {\nbug.rs:14     fn nover<T: copy, U: copy>(m: map::hashmap<T, U>, k: T, v: U) {\nbug.rs:15         if ! m.insert(k, v) {\nbug.rs:16             fail;\nbug.rs:17         }\n          ...\nherugrim::~/code/limerick $ gdb ./bug      \nGNU gdb 6.3.50-20050815 (Apple version gdb-1752) (Sat Jan 28 03:02:46 UTC 2012)\nCopyright 2004 Free Software Foundation, Inc.\nGDB is free software, covered by the GNU General Public License, and you are\nwelcome to change it and/or distribute copies of it under certain conditions.\nType \"show copying\" to see the conditions.\nThere is absolutely no warranty for GDB.  Type \"show warranty\" for details.\nThis GDB was configured as \"x86_64-apple-darwin\"...\nReading symbols for shared libraries .. done\n\n(gdb) b malloc_error_break\nFunction \"malloc_error_break\" not defined.\nMake breakpoint pending on future shared library load? (y or [n]) y\n\nBreakpoint 1 (malloc_error_break) pending.\n(gdb) run\nStarting program: /Users/grahame/code/limerick/bug \nReading symbols for shared libraries ..+................................................................. done\nBreakpoint 1 at 0x7fff97c6b6c0\nPending breakpoint 1 - \"malloc_error_break\" resolved\nbug(2167,0x10061a000) malloc: *** error for object 0x1004146b1: pointer being freed was not allocated\n*** set a breakpoint in malloc_error_break to debug\n[Switching to process 2167 thread 0x1a03]\n\nBreakpoint 1, 0x00007fff97c6b6c0 in malloc_error_break ()\n(gdb) bt\n#0  0x00007fff97c6b6c0 in malloc_error_break ()\n#1  0x00007fff97c6b805 in free ()\n#2  0x000000010036ab06 in __morestack () at rust_task.cpp:1327\n#3  0x000000010035b5fe in rust_task::call_on_c_stack (this=0x10100a000, \n    args=0x10100f730, fn_ptr=0x10035d0b0) at rust_task.h:352\n#4  0x000000010035d088 in upcall_shared_free (ptr=0x1007dfeb8)\n    at rust_upcall.cpp:50\n#5  0x0000000100003617 in glue_free80 ()\n#6  0x0000000100003780 in glue_drop118 ()\n#7  0x0000000100006875 in glue_drop542 ()\n#8  0x0000000100006af7 in glue_free567 ()\n#9  0x0000000100006a63 in f2 () at bug.rs:28\n#10 0x00000001000011d7 in main () at bug.rs:33\n#11 0x0000000100001292 in _rust_main ()\n#12 0x000000010035b0d5 in task_start_wrapper (a=0x1004146b1)\n    at rust_task.cpp:141\n```\n\nThe bug goes away if I comment out the entirety of f1; which isn't called! Odd one.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/4982069/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/5018736",
    "html_url": "https://github.com/rust-lang/rust/issues/2053#issuecomment-5018736",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/2053",
    "id": 5018736,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwMTg3MzY=",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-04-08T21:56:47Z",
    "updated_at": "2012-04-08T21:56:47Z",
    "body": "Also, if you swap the order of f1 and f2 it works. That makes me think it has to do with incorrectly reusing monomorphised functions.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/5018736/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/5018759",
    "html_url": "https://github.com/rust-lang/rust/issues/2053#issuecomment-5018759",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/2053",
    "id": 5018759,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwMTg3NTk=",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-04-08T22:00:25Z",
    "updated_at": "2012-04-08T22:00:25Z",
    "body": "If I modify make_mono_id to always return precise_param_ids it seems to work.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/5018759/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/5018814",
    "html_url": "https://github.com/rust-lang/rust/issues/2053#issuecomment-5018814",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/2053",
    "id": 5018814,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwMTg4MTQ=",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-04-08T22:08:38Z",
    "updated_at": "2012-04-08T22:08:38Z",
    "body": "@marijnh I believe this has something to do with `type_use`\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/5018814/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/5021017",
    "html_url": "https://github.com/rust-lang/rust/issues/2053#issuecomment-5021017",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/2053",
    "id": 5021017,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwMjEwMTc=",
    "user": {
      "login": "marijnh",
      "id": 144427,
      "node_id": "MDQ6VXNlcjE0NDQyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/144427?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/marijnh",
      "html_url": "https://github.com/marijnh",
      "followers_url": "https://api.github.com/users/marijnh/followers",
      "following_url": "https://api.github.com/users/marijnh/following{/other_user}",
      "gists_url": "https://api.github.com/users/marijnh/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/marijnh/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/marijnh/subscriptions",
      "organizations_url": "https://api.github.com/users/marijnh/orgs",
      "repos_url": "https://api.github.com/users/marijnh/repos",
      "events_url": "https://api.github.com/users/marijnh/events{/privacy}",
      "received_events_url": "https://api.github.com/users/marijnh/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-04-09T04:52:23Z",
    "updated_at": "2012-04-09T04:52:23Z",
    "body": "You're probably right. I'll look into this when I get back from vacation.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/5021017/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
