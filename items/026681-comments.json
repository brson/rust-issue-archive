[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/120556601",
    "html_url": "https://github.com/rust-lang/rust/issues/26681#issuecomment-120556601",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26681",
    "id": 120556601,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyMDU1NjYwMQ==",
    "user": {
      "login": "quantheory",
      "id": 1740206,
      "node_id": "MDQ6VXNlcjE3NDAyMDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1740206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/quantheory",
      "html_url": "https://github.com/quantheory",
      "followers_url": "https://api.github.com/users/quantheory/followers",
      "following_url": "https://api.github.com/users/quantheory/following{/other_user}",
      "gists_url": "https://api.github.com/users/quantheory/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/quantheory/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/quantheory/subscriptions",
      "organizations_url": "https://api.github.com/users/quantheory/orgs",
      "repos_url": "https://api.github.com/users/quantheory/repos",
      "events_url": "https://api.github.com/users/quantheory/events{/privacy}",
      "received_events_url": "https://api.github.com/users/quantheory/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-11T00:40:20Z",
    "updated_at": "2015-07-11T00:40:20Z",
    "body": "This is at least blocked on the generic const RFC, though I do intend to take a crack at implementing that, or at least the groundwork, in the coming weeks. \n\nOn top of that, handling this example probably requires some changes both to the code and to how we deal with casts/coercion in constant expressions. Right now, I think that unsuffixed literals always have a specific integer type inferred. But you want the type here to be inferred as `<Self::Fv as Foo>::Bar`, which is a projection, and not even required to be an integer type. To handle this, we would need some bound on `Bar` that means \"an integer literal can be cast to this type at compile time\".\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/120556601/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/501872064",
    "html_url": "https://github.com/rust-lang/rust/issues/26681#issuecomment-501872064",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26681",
    "id": 501872064,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwMTg3MjA2NA==",
    "user": {
      "login": "jonas-schievink",
      "id": 1786438,
      "node_id": "MDQ6VXNlcjE3ODY0Mzg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1786438?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonas-schievink",
      "html_url": "https://github.com/jonas-schievink",
      "followers_url": "https://api.github.com/users/jonas-schievink/followers",
      "following_url": "https://api.github.com/users/jonas-schievink/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonas-schievink/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonas-schievink/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonas-schievink/subscriptions",
      "organizations_url": "https://api.github.com/users/jonas-schievink/orgs",
      "repos_url": "https://api.github.com/users/jonas-schievink/repos",
      "events_url": "https://api.github.com/users/jonas-schievink/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonas-schievink/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2019-06-13T20:45:17Z",
    "updated_at": "2019-06-13T20:45:17Z",
    "body": "Updated code:\r\n\r\n```rust\r\n#![feature(associated_type_defaults)]\r\n#![feature(associated_consts)]\r\n\r\ntrait Foo {\r\n    type Bar;\r\n}\r\n\r\ntrait Baz {\r\n    type Fv: Foo = u8;\r\n    const C: <Self::Fv as Foo>::Bar = 6665;\r\n}\r\n```\r\nFails to compile with:\r\n```\r\nerror[E0308]: mismatched types\r\n  --> src/lib.rs:10:39\r\n   |\r\n10 |     const C: <Self::Fv as Foo>::Bar = 6665;\r\n   |                                       ^^^^ expected associated type, found integer\r\n   |\r\n   = note: expected type `<<Self as Baz>::Fv as Foo>::Bar`\r\n              found type `{integer}`\r\n```\r\n\r\nRemoving the default value of the constant makes it build. According to [RFC 2532](https://github.com/rust-lang/rfcs/blob/master/text/2532-associated-type-defaults.md), I believe this is working as expected: Trait items may not assume that assoc. type defaults hold.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/501872064/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
