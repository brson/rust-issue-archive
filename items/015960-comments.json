[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/50247390",
    "html_url": "https://github.com/rust-lang/rust/issues/15960#issuecomment-50247390",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15960",
    "id": 50247390,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwMjQ3Mzkw",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-26T20:22:17Z",
    "updated_at": "2014-07-26T20:22:17Z",
    "body": "I actually cover this in the guide: http://doc.rust-lang.org/guide.html\n\nSearch for \"It didn't work! Rust says \"the type of this value must be known in this context.\" \"\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/50247390/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/50248144",
    "html_url": "https://github.com/rust-lang/rust/issues/15960#issuecomment-50248144",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15960",
    "id": 50248144,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwMjQ4MTQ0",
    "user": {
      "login": "Earnestly",
      "id": 521538,
      "node_id": "MDQ6VXNlcjUyMTUzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/521538?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Earnestly",
      "html_url": "https://github.com/Earnestly",
      "followers_url": "https://api.github.com/users/Earnestly/followers",
      "following_url": "https://api.github.com/users/Earnestly/following{/other_user}",
      "gists_url": "https://api.github.com/users/Earnestly/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Earnestly/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Earnestly/subscriptions",
      "organizations_url": "https://api.github.com/users/Earnestly/orgs",
      "repos_url": "https://api.github.com/users/Earnestly/repos",
      "events_url": "https://api.github.com/users/Earnestly/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Earnestly/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-26T20:45:54Z",
    "updated_at": "2014-07-26T20:46:44Z",
    "body": "You also go on to say:\n\n> The from_str function takes in a &str value and converts it into something. We tell it what kind of something with a type hint. Remember our type hint with random()? It looked like this:\n> \n> ```\n> rand::random::<uint>();\n> ```\n> \n> There's an alternate way of providing a hint too, and that's declaring the type in a let:\n> \n> ```\n> let x: uint = rand::random();\n> ```\n> \n> In this case, we say x is a uint explicitly, so Rust is able to properly tell random() what to generate. In a similar fashion, both of these work:\n\nWhich doesn't work...\n\n> ```\n> let guess = from_str::<Option<uint>>(\"5\");\n> let guess: Option<uint> = from_str(\"5\");\n> ```\n> \n> In this case, I happen to prefer the latter, and in the random() case, I prefer the former. I think the nested <>s make the first option especially ugly and a bit harder to read.\n\nIt also doesn't explain why `100i std::rand::random();` works but the reverse fails even when I explicitly give it a type.\n\nIt seems pretty arbitrary to me atm, sorry if this is simple misunderstanding\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/50248144/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/50248225",
    "html_url": "https://github.com/rust-lang/rust/issues/15960#issuecomment-50248225",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15960",
    "id": 50248225,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwMjQ4MjI1",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-26T20:49:09Z",
    "updated_at": "2014-07-26T20:49:09Z",
    "body": "No no, it's cool. If you don't understand, I haven't done my job. I just need to figure out _how_ you don't understand, so I can fix the guide.\n\nWhen you say 'which doesn't work,' what do you mean, exactly? That last code snippet? Maybe something has changed in Rust in the last week or so, because when I wrote it, it _did_ work.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/50248225/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/50249123",
    "html_url": "https://github.com/rust-lang/rust/issues/15960#issuecomment-50249123",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15960",
    "id": 50249123,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwMjQ5MTIz",
    "user": {
      "login": "Earnestly",
      "id": 521538,
      "node_id": "MDQ6VXNlcjUyMTUzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/521538?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Earnestly",
      "html_url": "https://github.com/Earnestly",
      "followers_url": "https://api.github.com/users/Earnestly/followers",
      "following_url": "https://api.github.com/users/Earnestly/following{/other_user}",
      "gists_url": "https://api.github.com/users/Earnestly/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Earnestly/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Earnestly/subscriptions",
      "organizations_url": "https://api.github.com/users/Earnestly/orgs",
      "repos_url": "https://api.github.com/users/Earnestly/repos",
      "events_url": "https://api.github.com/users/Earnestly/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Earnestly/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-26T21:26:37Z",
    "updated_at": "2014-07-26T21:31:16Z",
    "body": "> What do you mean, exactly?\n\n``` rust\n// Rust will fail to infer from the type of `f` that `random()` should be `random<int>();`\nlet f: int = std::rand::random() % 100i;\n\n// But it will infer it when we do this: (although this is incorrect logically)\nlet f: int = 100i % std::rand::random();\n```\n\nThus when you say we can use `let x: uint = rand::random();` because \"Rust is able to properly tell random() what to generate.\" we see the context errors.  What exactly I mean is exactly where I said \"Which doesn't work\", directly under the code and paragraph that currently doesn't reflect reality.\n\nIf there was something unclear about what I'm trying to demonstrate in my initial effort, I can try clear that up, but right now I feel like I'm repeating myself.\n\nIf it did work as you say, then perhaps there is a bug?\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/50249123/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/50250387",
    "html_url": "https://github.com/rust-lang/rust/issues/15960#issuecomment-50250387",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15960",
    "id": 50250387,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwMjUwMzg3",
    "user": {
      "login": "ghost",
      "id": 10137,
      "node_id": "MDQ6VXNlcjEwMTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ghost",
      "html_url": "https://github.com/ghost",
      "followers_url": "https://api.github.com/users/ghost/followers",
      "following_url": "https://api.github.com/users/ghost/following{/other_user}",
      "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
      "organizations_url": "https://api.github.com/users/ghost/orgs",
      "repos_url": "https://api.github.com/users/ghost/repos",
      "events_url": "https://api.github.com/users/ghost/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ghost/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-26T22:29:02Z",
    "updated_at": "2014-07-26T22:29:02Z",
    "body": "```\n// Rust will fail to infer from the type of `f` that `random()` should be `random<int>();`\nlet f: int = std::rand::random() % 100i;\n```\n\nrust cannot infer the type of `std::rand::random()`. Explicitly saying that `f` will be an `int` just means that it knows that the eventual type of `std::rand::random() % 100i` will be an `int`, so it knows that the signature for the type `T` returned by `std::rand::random()` must be `T: Rand + Rem<int, int>`, but any type can fit this signature, it is not exclusive to `int`.\n\nTo prove this, let's make a hypothetical type `Foo`.\n\n```\nstruct Foo {\n    bar: int\n}\nimpl Rand for Foo {\n    fn rand<R: Rng>(_: &mut R) -> Foo {\n        Foo {\n            bar: 4 //chosen by fair dice roll.\n                   //guaranteed to be random.\n        }\n    }\n}\nimpl Rem<int, int> for Foo {\n    fn rem(&self, rhs: &int) -> int {\n        self.bar % *rhs\n    }\n}\n```\n\nNow you're left with a conundrum, because `std::rand::random()` in your example could also be a `Foo`. To solve this, you can do:\n\n```\nlet random_number: int = std::rand::random();\nlet f = random_number % 100;\n```\n\nOr you can do:\n\n```\nlet f = std::rand::random::<int>() % 100;\n```\n\nIn these cases you are explicitly saying what std::rand::random() should return. There is no ambiguity.\n\n```\n// But it will infer it when we do this: (although this is incorrect logically)\nlet f: int = 100i % std::rand::random();\n```\n\nIn this case, since there is a known type on the left side of the remainder operator, it becomes a lot easier for rust to infer the types of the rest of the line. `100i` is an `int`. `int` implements the `Rem` trait (for the remainder operator) as `Rem<int, int>`. This means that the right hand side of the remainder operator is going to be an `int` (thus it can infer that `std::rand::random()` will be an int) and that the return value is also going to be an `int` (thus it can infer that `f` is going to be an int). There is absolutely no ambiguity in what the types are going to be.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/50250387/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/50252310",
    "html_url": "https://github.com/rust-lang/rust/issues/15960#issuecomment-50252310",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15960",
    "id": 50252310,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwMjUyMzEw",
    "user": {
      "login": "Earnestly",
      "id": 521538,
      "node_id": "MDQ6VXNlcjUyMTUzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/521538?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Earnestly",
      "html_url": "https://github.com/Earnestly",
      "followers_url": "https://api.github.com/users/Earnestly/followers",
      "following_url": "https://api.github.com/users/Earnestly/following{/other_user}",
      "gists_url": "https://api.github.com/users/Earnestly/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Earnestly/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Earnestly/subscriptions",
      "organizations_url": "https://api.github.com/users/Earnestly/orgs",
      "repos_url": "https://api.github.com/users/Earnestly/repos",
      "events_url": "https://api.github.com/users/Earnestly/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Earnestly/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-27T00:33:31Z",
    "updated_at": "2014-07-27T00:34:47Z",
    "body": "Ah, thanks.  This explanation makes sense.\n\nClosing as the issue now unrelated to Rust's inference\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/50252310/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
