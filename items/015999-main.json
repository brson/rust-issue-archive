{
  "url": "https://api.github.com/repos/rust-lang/rust/issues/15999",
  "repository_url": "https://api.github.com/repos/rust-lang/rust",
  "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/15999/labels{/name}",
  "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/15999/comments",
  "events_url": "https://api.github.com/repos/rust-lang/rust/issues/15999/events",
  "html_url": "https://github.com/rust-lang/rust/pull/15999",
  "id": 38794290,
  "node_id": "MDExOlB1bGxSZXF1ZXN0MTg5Mjc2NDI=",
  "number": 15999,
  "title": "Refactored `syntax::fold`",
  "user": {
    "login": "Kimundi",
    "id": 2903206,
    "node_id": "MDQ6VXNlcjI5MDMyMDY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2903206?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Kimundi",
    "html_url": "https://github.com/Kimundi",
    "followers_url": "https://api.github.com/users/Kimundi/followers",
    "following_url": "https://api.github.com/users/Kimundi/following{/other_user}",
    "gists_url": "https://api.github.com/users/Kimundi/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Kimundi/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Kimundi/subscriptions",
    "organizations_url": "https://api.github.com/users/Kimundi/orgs",
    "repos_url": "https://api.github.com/users/Kimundi/repos",
    "events_url": "https://api.github.com/users/Kimundi/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Kimundi/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "labels": [],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [],
  "milestone": null,
  "comments": 2,
  "created_at": "2014-07-26T02:36:54Z",
  "updated_at": "2014-07-31T18:21:38Z",
  "closed_at": "2014-07-31T18:21:34Z",
  "author_association": "CONTRIBUTOR",
  "type": null,
  "active_lock_reason": null,
  "draft": false,
  "pull_request": {
    "url": "https://api.github.com/repos/rust-lang/rust/pulls/15999",
    "html_url": "https://github.com/rust-lang/rust/pull/15999",
    "diff_url": "https://github.com/rust-lang/rust/pull/15999.diff",
    "patch_url": "https://github.com/rust-lang/rust/pull/15999.patch",
    "merged_at": "2014-07-31T18:21:38Z"
  },
  "body": "Note: This PR is motivated by an attempt to write an custom syntax extension that tried to use `syntax::fold`, and that could only do so by fixing bugs in it and copying out private functions.\n\n---\n\nRefactored `syntax::fold`\n\nPrior to this, the code there had a few issues:\n- Default implementations inconsistenly either had the prefix `noop_` or\n  not.\n- Some default methods where implemented in terms of a public noop function\n  for user code to call, others where implemented directly on the trait\n  and did not allow users of the trait to reuse the code.\n- Some of the default implementations where private, and thus not reusable\n  for other implementors.\n- There where some bugs where default implemntations called other default\n  implementations directly, rather than to the underlying Folder, with the\n  result of some ast nodes never being visted even if the user implemented that\n  method. (For example, the current Folder never folded struct fields)\n\nThis commit solves this situation somewhat radically by making **all**\n`fold_...` functions in the module into Folder methods, and implementing\nthem all in terms of public `noop_...` functions for other implementors to\ncall out to.\n\nSome public functions had to be renamed to fit the new system, so this is a\nbreaking change.\n\n---\n\nAlso added a few trait implementations to `ast` types\n",
  "closed_by": {
    "login": "bors",
    "id": 3372342,
    "node_id": "MDQ6VXNlcjMzNzIzNDI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/bors",
    "html_url": "https://github.com/bors",
    "followers_url": "https://api.github.com/users/bors/followers",
    "following_url": "https://api.github.com/users/bors/following{/other_user}",
    "gists_url": "https://api.github.com/users/bors/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bors/subscriptions",
    "organizations_url": "https://api.github.com/users/bors/orgs",
    "repos_url": "https://api.github.com/users/bors/repos",
    "events_url": "https://api.github.com/users/bors/events{/privacy}",
    "received_events_url": "https://api.github.com/users/bors/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/15999/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/15999/timeline",
  "performed_via_github_app": null,
  "state_reason": null,
  "_meta": {
    "type": "pr"
  }
}
