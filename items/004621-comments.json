[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/17173745",
    "html_url": "https://github.com/rust-lang/rust/issues/4621#issuecomment-17173745",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/4621",
    "id": 17173745,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MTczNzQ1",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-04-29T15:30:07Z",
    "updated_at": "2013-04-29T15:31:31Z",
    "body": "\bWhile I could not find a way to directly express the desired form, there _is_ a way to get some abstraction here: Namely, instead of trying only to make a macro that expand into a method definition (which do not currently appear in a macro-expansion context, the first of a number of obstacles in the way of resolving the above), one _can_ make a macro that expands into the whole `impl` itself.\n\nMy first attempt to do this tried to factor the impl into its non-repetitive (e.g. the `name` method in the example I added to the issue description) and repetitive components, and then feed both of those sequences of pseudo-items into a single macro that would expand into the final `impl`.  However, this attempt failed, since I was not able to coerce the expander into accepting my factored `name` method definition as a proper component to be spliced into the final `impl` item.\n\nSo I gave up on that more general factoring, and instead came up with the below, which _does_ seem to work.  Its pattern _might_ be applicable to the repetitive code from `rustc::middle::lang_items`, at the cost of making it a little bit more obtuse for a casual reader.  (But anyone who is used to seeing similar abstractions in C macros probably will not mind it.)  Here is the code:\n\n``` rust\nmacro_rules! e_class(\n    ($S_name:ident,\n     $( $method_name:ident $enum_name:ident ),*)\n    =>\n    {\n        pub impl $S_name {\n            pub fn name(index:uint) -> &'static str {\n                match index {\n                    0 => \"nil\", 1 => \"lft\", 2 => \"rgt\", 3 => \"all\",\n                    4 => \"end\", _ => \"???\"\n                }\n            }\n\n            $( pub fn $method_name (&self) -> int { self.items[$enum_name as uint] } )*\n        }\n    }\n)\n\ne_class!( S,\n          nil_item Enil ,\n          rgt_item Ergt ,\n          lft_item Elft ,\n          all_item Eall ,\n          end_item Eend )\n\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/17173745/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/17174551",
    "html_url": "https://github.com/rust-lang/rust/issues/4621#issuecomment-17174551",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/4621",
    "id": 17174551,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MTc0NTUx",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-04-29T15:42:30Z",
    "updated_at": "2013-04-29T15:42:57Z",
    "body": "@pauls @catamorphism There are a couple different issues that crop up here.  E.g., I had some difficulty feeding in a method definition to be plugged in from the outside world; that might just be my own inexperience, I don't know.\n\nBut the more important overall question raised by this Issue is: Do we want the method definition points within impl's to be subject to macro expansion?  I suspect we do (and thus am not closing this bug yet); but if we don't, then I assume something like the workaround I outlined in my previous comment would be suitable here, and we could close this bug (or whittle it down to the other narrower issues I alluded to already).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/17174551/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/17342497",
    "html_url": "https://github.com/rust-lang/rust/issues/4621#issuecomment-17342497",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/4621",
    "id": 17342497,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MzQyNDk3",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-05-02T14:52:32Z",
    "updated_at": "2013-05-02T14:52:32Z",
    "body": "Nominating for milestone Far Future.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/17342497/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/17353934",
    "html_url": "https://github.com/rust-lang/rust/issues/4621#issuecomment-17353934",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/4621",
    "id": 17353934,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MzUzOTM0",
    "user": {
      "login": "graydon",
      "id": 14097,
      "node_id": "MDQ6VXNlcjE0MDk3",
      "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/graydon",
      "html_url": "https://github.com/graydon",
      "followers_url": "https://api.github.com/users/graydon/followers",
      "following_url": "https://api.github.com/users/graydon/following{/other_user}",
      "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/graydon/subscriptions",
      "organizations_url": "https://api.github.com/users/graydon/orgs",
      "repos_url": "https://api.github.com/users/graydon/repos",
      "events_url": "https://api.github.com/users/graydon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/graydon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-05-02T18:03:05Z",
    "updated_at": "2013-05-02T18:03:05Z",
    "body": "accepted\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/17353934/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/20633431",
    "html_url": "https://github.com/rust-lang/rust/issues/4621#issuecomment-20633431",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/4621",
    "id": 20633431,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwNjMzNDMx",
    "user": {
      "login": "catamorphism",
      "id": 427212,
      "node_id": "MDQ6VXNlcjQyNzIxMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/427212?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/catamorphism",
      "html_url": "https://github.com/catamorphism",
      "followers_url": "https://api.github.com/users/catamorphism/followers",
      "following_url": "https://api.github.com/users/catamorphism/following{/other_user}",
      "gists_url": "https://api.github.com/users/catamorphism/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/catamorphism/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/catamorphism/subscriptions",
      "organizations_url": "https://api.github.com/users/catamorphism/orgs",
      "repos_url": "https://api.github.com/users/catamorphism/repos",
      "events_url": "https://api.github.com/users/catamorphism/events{/privacy}",
      "received_events_url": "https://api.github.com/users/catamorphism/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-07-08T20:26:29Z",
    "updated_at": "2013-07-08T20:26:29Z",
    "body": "(bug triage) Revisited. Far-future still seems reasonable.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/20633431/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/27636763",
    "html_url": "https://github.com/rust-lang/rust/issues/4621#issuecomment-27636763",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/4621",
    "id": 27636763,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3NjM2NzYz",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-03T01:29:23Z",
    "updated_at": "2013-11-03T01:29:23Z",
    "body": "Traige: no changes, although I've written a brief proposal at https://github.com/mozilla/rust/issues/7727#issuecomment-21620454 about how we could make macros more flexible.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/27636763/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29967140",
    "html_url": "https://github.com/rust-lang/rust/issues/4621#issuecomment-29967140",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/4621",
    "id": 29967140,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5OTY3MTQw",
    "user": {
      "login": "chris-morgan",
      "id": 392868,
      "node_id": "MDQ6VXNlcjM5Mjg2OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/392868?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chris-morgan",
      "html_url": "https://github.com/chris-morgan",
      "followers_url": "https://api.github.com/users/chris-morgan/followers",
      "following_url": "https://api.github.com/users/chris-morgan/following{/other_user}",
      "gists_url": "https://api.github.com/users/chris-morgan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chris-morgan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chris-morgan/subscriptions",
      "organizations_url": "https://api.github.com/users/chris-morgan/orgs",
      "repos_url": "https://api.github.com/users/chris-morgan/repos",
      "events_url": "https://api.github.com/users/chris-morgan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chris-morgan/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-12-06T06:52:50Z",
    "updated_at": "2013-12-06T06:52:50Z",
    "body": "With #10832, this is not as important as it was previously, as the `lang_items.rs` use case is no longer of interest.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29967140/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/30324778",
    "html_url": "https://github.com/rust-lang/rust/issues/4621#issuecomment-30324778",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/4621",
    "id": 30324778,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMzI0Nzc4",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-12-11T14:37:39Z",
    "updated_at": "2013-12-11T14:37:39Z",
    "body": "#10832 is basically adopting the work-around I proposed in [my comment above](#issuecomment-17173745).\n\nSo I'm in favor of closing this unless people can find arguments for making method definition points within impl's to be subject to macro expansion.  (I'm ambivalent on the matter.)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/30324778/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/31197581",
    "html_url": "https://github.com/rust-lang/rust/issues/4621#issuecomment-31197581",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/4621",
    "id": 31197581,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxMTk3NTgx",
    "user": {
      "login": "Skrylar",
      "id": 325950,
      "node_id": "MDQ6VXNlcjMyNTk1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/325950?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Skrylar",
      "html_url": "https://github.com/Skrylar",
      "followers_url": "https://api.github.com/users/Skrylar/followers",
      "following_url": "https://api.github.com/users/Skrylar/following{/other_user}",
      "gists_url": "https://api.github.com/users/Skrylar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Skrylar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Skrylar/subscriptions",
      "organizations_url": "https://api.github.com/users/Skrylar/orgs",
      "repos_url": "https://api.github.com/users/Skrylar/repos",
      "events_url": "https://api.github.com/users/Skrylar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Skrylar/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-12-25T11:31:23Z",
    "updated_at": "2013-12-25T11:31:23Z",
    "body": "I just ran in to this and there is at least one good use case: Library binding.\n\nFor example in SDL there are a lot of times where you simply want to bind Window.DoSomething to SDL_DoSomething(self.handle), and a macro allows you to define that function form once. Further methods which have the same common signature can just invoke the macro, which cuts down the amount of typing as well as functions with completely identical structures.\n\nMaintaining by hand, you get a lot of functions like this:\n\n```\nimpl Window {\n  pub fn DoSomething(&self) {\n    unsafe { ffi::SDL_DoSomething(self.handle); }\n  }\n}\n```\n\nWhich is exactly the kind of thing you want a macro producing a function for: replacing large amounts of boilerplate which has the same structure in each invocation.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/31197581/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/31200334",
    "html_url": "https://github.com/rust-lang/rust/issues/4621#issuecomment-31200334",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/4621",
    "id": 31200334,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxMjAwMzM0",
    "user": {
      "login": "sfackler",
      "id": 1455697,
      "node_id": "MDQ6VXNlcjE0NTU2OTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sfackler",
      "html_url": "https://github.com/sfackler",
      "followers_url": "https://api.github.com/users/sfackler/followers",
      "following_url": "https://api.github.com/users/sfackler/following{/other_user}",
      "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions",
      "organizations_url": "https://api.github.com/users/sfackler/orgs",
      "repos_url": "https://api.github.com/users/sfackler/repos",
      "events_url": "https://api.github.com/users/sfackler/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sfackler/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-12-25T14:46:50Z",
    "updated_at": "2013-12-25T14:46:50Z",
    "body": "@Skrylar is there any reason that you can't structure the macro to generate the entire `impl` block? That works fine right now.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/31200334/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/31207324",
    "html_url": "https://github.com/rust-lang/rust/issues/4621#issuecomment-31207324",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/4621",
    "id": 31207324,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxMjA3MzI0",
    "user": {
      "login": "Skrylar",
      "id": 325950,
      "node_id": "MDQ6VXNlcjMyNTk1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/325950?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Skrylar",
      "html_url": "https://github.com/Skrylar",
      "followers_url": "https://api.github.com/users/Skrylar/followers",
      "following_url": "https://api.github.com/users/Skrylar/following{/other_user}",
      "gists_url": "https://api.github.com/users/Skrylar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Skrylar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Skrylar/subscriptions",
      "organizations_url": "https://api.github.com/users/Skrylar/orgs",
      "repos_url": "https://api.github.com/users/Skrylar/repos",
      "events_url": "https://api.github.com/users/Skrylar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Skrylar/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-12-25T23:52:08Z",
    "updated_at": "2013-12-25T23:52:08Z",
    "body": "@sfackler It just seems more idiomatic after reading the manual to be able to macro out the common case directly where you need it, instead of flipping around the entire block as a macro chalk full of \"special case\" conditions for that macro which simply insert raw functions in. Since you inevitably have that one function in every library that takes in a weird number of oddly typed parameters, you still have to key in functions that there's only one of with that type signature.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/31207324/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/31207543",
    "html_url": "https://github.com/rust-lang/rust/issues/4621#issuecomment-31207543",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/4621",
    "id": 31207543,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxMjA3NTQz",
    "user": {
      "login": "sfackler",
      "id": 1455697,
      "node_id": "MDQ6VXNlcjE0NTU2OTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sfackler",
      "html_url": "https://github.com/sfackler",
      "followers_url": "https://api.github.com/users/sfackler/followers",
      "following_url": "https://api.github.com/users/sfackler/following{/other_user}",
      "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions",
      "organizations_url": "https://api.github.com/users/sfackler/orgs",
      "repos_url": "https://api.github.com/users/sfackler/repos",
      "events_url": "https://api.github.com/users/sfackler/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sfackler/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-12-26T00:12:27Z",
    "updated_at": "2013-12-26T00:21:04Z",
    "body": "I'm still not sure what you're saying. What exactly is wrong with a setup like this?\n\n``` rust\nmacro_rules! build_window_ffi(\n    ($name:ident, $raw:ident, $ret:ty, $($arg_name:ident: $arg_ty:ty => $raw_arg:expr),*) => (\n        impl Window {\n            pub fn $name(&self, $($arg_name: $arg_ty),+) -> $ret {\n               unsafe { ffi::$raw(self.handle, $($raw_arg),+) }\n            }\n        }\n    )\n)\n\nbuild_window_ffi(DoSomething, SDL_DoSomething, ())\nbuild_window_ffi(DoSomethingElse, SDL_DoSomethingElse, c_int)\n```\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/31207543/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/31240409",
    "html_url": "https://github.com/rust-lang/rust/issues/4621#issuecomment-31240409",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/4621",
    "id": 31240409,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxMjQwNDA5",
    "user": {
      "login": "Skrylar",
      "id": 325950,
      "node_id": "MDQ6VXNlcjMyNTk1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/325950?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Skrylar",
      "html_url": "https://github.com/Skrylar",
      "followers_url": "https://api.github.com/users/Skrylar/followers",
      "following_url": "https://api.github.com/users/Skrylar/following{/other_user}",
      "gists_url": "https://api.github.com/users/Skrylar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Skrylar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Skrylar/subscriptions",
      "organizations_url": "https://api.github.com/users/Skrylar/orgs",
      "repos_url": "https://api.github.com/users/Skrylar/repos",
      "events_url": "https://api.github.com/users/Skrylar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Skrylar/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-12-26T23:37:46Z",
    "updated_at": "2013-12-26T23:37:46Z",
    "body": "@sfackler It wasn't clear that multiple impl blocks with identical signatures would mix without issue, so I thought you were suggesting generating the entire implementation block for the type in one function.\n\nIf having multiple implementation blocks is acceptable behavior, I recommend the reference manual mention this. I just re-checked and this is not mentioned under 6.1.9\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/31240409/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/31257593",
    "html_url": "https://github.com/rust-lang/rust/issues/4621#issuecomment-31257593",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/4621",
    "id": 31257593,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxMjU3NTkz",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-12-27T11:44:01Z",
    "updated_at": "2013-12-27T11:44:01Z",
    "body": "@Skrylar fwiw, generating the entire impl block in one macro isn't necessarily crazy, e.g. the compiler does it [in this macro](https://github.com/mozilla/rust/blob/00d87e0d8198ffb268251b5af2eb2ce19249c7f8/src/librustc/middle/lang_items.rs#L38), creating [this impl](https://github.com/mozilla/rust/blob/00d87e0d8198ffb268251b5af2eb2ce19249c7f8/src/librustc/middle/lang_items.rs#L52) with some [generated methods](https://github.com/mozilla/rust/blob/00d87e0d8198ffb268251b5af2eb2ce19249c7f8/src/librustc/middle/lang_items.rs#L92-L96). (Of course, you may have a design that's not amenable to this set-up, in which case, ignore me.)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/31257593/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/73812887",
    "html_url": "https://github.com/rust-lang/rust/issues/4621#issuecomment-73812887",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/4621",
    "id": 73812887,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczODEyODg3",
    "user": {
      "login": "hugoduncan",
      "id": 54043,
      "node_id": "MDQ6VXNlcjU0MDQz",
      "avatar_url": "https://avatars.githubusercontent.com/u/54043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hugoduncan",
      "html_url": "https://github.com/hugoduncan",
      "followers_url": "https://api.github.com/users/hugoduncan/followers",
      "following_url": "https://api.github.com/users/hugoduncan/following{/other_user}",
      "gists_url": "https://api.github.com/users/hugoduncan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hugoduncan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hugoduncan/subscriptions",
      "organizations_url": "https://api.github.com/users/hugoduncan/orgs",
      "repos_url": "https://api.github.com/users/hugoduncan/repos",
      "events_url": "https://api.github.com/users/hugoduncan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hugoduncan/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-02-11T00:18:00Z",
    "updated_at": "2015-02-11T00:18:00Z",
    "body": "As far as I can tell, this doesn't work for `pub fn` in `impl`s.\n\n```\nmacro_rules! defn {\n    // A match without return type\n    ($n:ident) => (\n            // Adding pub here results in: \n            //   error: expected one of `extern`, `fn`, or `unsafe`, found `pub`\n            /* pub */ fn $n (&self) {\n              println!(\"hi\");\n        })\n}\n\npub struct Struct;\n\nimpl Struct {\n  // Adding pub here doesn't give an error, but the\n  // function ends up not being public.\n  pub defn!(f);\n}\n```\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/73812887/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
