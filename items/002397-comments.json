[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/17197418",
    "html_url": "https://github.com/rust-lang/rust/issues/2397#issuecomment-17197418",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/2397",
    "id": 17197418,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MTk3NDE4",
    "user": {
      "login": "thestinger",
      "id": 1505226,
      "node_id": "MDQ6VXNlcjE1MDUyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thestinger",
      "html_url": "https://github.com/thestinger",
      "followers_url": "https://api.github.com/users/thestinger/followers",
      "following_url": "https://api.github.com/users/thestinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions",
      "organizations_url": "https://api.github.com/users/thestinger/orgs",
      "repos_url": "https://api.github.com/users/thestinger/repos",
      "events_url": "https://api.github.com/users/thestinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thestinger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-04-29T22:00:02Z",
    "updated_at": "2013-04-29T22:03:24Z",
    "body": "This is really not something that should be done, installed libraries will already be in the search path. Using rpath is very fragile and won't survive changes to the system configuration.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/17197418/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/17206014",
    "html_url": "https://github.com/rust-lang/rust/issues/2397#issuecomment-17206014",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/2397",
    "id": 17206014,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MjA2MDE0",
    "user": {
      "login": "mzabaluev",
      "id": 1198919,
      "node_id": "MDQ6VXNlcjExOTg5MTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1198919?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mzabaluev",
      "html_url": "https://github.com/mzabaluev",
      "followers_url": "https://api.github.com/users/mzabaluev/followers",
      "following_url": "https://api.github.com/users/mzabaluev/following{/other_user}",
      "gists_url": "https://api.github.com/users/mzabaluev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mzabaluev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mzabaluev/subscriptions",
      "organizations_url": "https://api.github.com/users/mzabaluev/orgs",
      "repos_url": "https://api.github.com/users/mzabaluev/repos",
      "events_url": "https://api.github.com/users/mzabaluev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mzabaluev/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-04-30T02:05:39Z",
    "updated_at": "2013-04-30T02:05:39Z",
    "body": "A particular problem here is native libraries that are part of the build. See [here](https://github.com/mzabaluev/grust/blob/eb50b6048af722a0292d5464a3dc05d93644cb68/test/Makefile.am#L4) and [here](https://github.com/mzabaluev/grust/blob/eb50b6048af722a0292d5464a3dc05d93644cb68/test/grust-proof.rs#L28) for an example: not only do I have to use -L and LD_LIBRARY_PATH for a library that the test crate should have no logical visibility for, I have to also explicitly bring it in as an external module.\n\nOf course I could choose to build an install the tiny support library as a separate project, but it's annoying to have to do this. In the C land, we've long had libtool and similar solutions to take care of it.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/17206014/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/17258603",
    "html_url": "https://github.com/rust-lang/rust/issues/2397#issuecomment-17258603",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/2397",
    "id": 17258603,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MjU4NjAz",
    "user": {
      "login": "graydon",
      "id": 14097,
      "node_id": "MDQ6VXNlcjE0MDk3",
      "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/graydon",
      "html_url": "https://github.com/graydon",
      "followers_url": "https://api.github.com/users/graydon/followers",
      "following_url": "https://api.github.com/users/graydon/following{/other_user}",
      "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/graydon/subscriptions",
      "organizations_url": "https://api.github.com/users/graydon/orgs",
      "repos_url": "https://api.github.com/users/graydon/repos",
      "events_url": "https://api.github.com/users/graydon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/graydon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-04-30T22:33:18Z",
    "updated_at": "2013-04-30T22:33:18Z",
    "body": "closing as we have strong feedback that rpath is undesirable; we can approach along other avenues (static linking + use of workspace lib paths)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/17258603/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/997083981",
    "html_url": "https://github.com/rust-lang/rust/issues/2397#issuecomment-997083981",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/2397",
    "id": 997083981,
    "node_id": "IC_kwDOAAsO6M47bktN",
    "user": {
      "login": "jonhoo",
      "id": 176295,
      "node_id": "MDQ6VXNlcjE3NjI5NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/176295?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonhoo",
      "html_url": "https://github.com/jonhoo",
      "followers_url": "https://api.github.com/users/jonhoo/followers",
      "following_url": "https://api.github.com/users/jonhoo/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonhoo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonhoo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonhoo/subscriptions",
      "organizations_url": "https://api.github.com/users/jonhoo/orgs",
      "repos_url": "https://api.github.com/users/jonhoo/repos",
      "events_url": "https://api.github.com/users/jonhoo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonhoo/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2021-12-17T23:13:11Z",
    "updated_at": "2021-12-17T23:13:11Z",
    "body": "Given that `rpath` is a configurable parameter these days, and defaults to off, I wonder if this should be re-visited. If the user specifically opts into RPATH with `-Crpath=y`, it will probably be surprising to discover that only _some_ of the paths that linked libraries were pulled from got written into the RPATH. It certainly surprised me \ud83d\ude05 In my case, I had to pass the paths already passed with `-Clink-arg=-L` through additional `-Wl,rpath` arguments through `-Clink-arg=` in rustflags to get things to work, which seems unfortunate. Though it could also be something the Rust compiler can't easily extract, I'm not sure?\r\n\r\nRegardless of the decision ultimately made here, I think the nuances of this behavior should be documented in the [`-Crpath` docs](https://doc.rust-lang.org/rustc/codegen-options/index.html#rpath).\r\n\r\nJust for reference, the mentioned `FIXME` now lives here:\r\nhttps://github.com/rust-lang/rust/blob/c5ecc157043ba413568b09292001a4a74b541a4e/compiler/rustc_codegen_ssa/src/back/link.rs#L1614-L1616",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/997083981/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
