{
  "url": "https://api.github.com/repos/rust-lang/rust/issues/10670",
  "repository_url": "https://api.github.com/repos/rust-lang/rust",
  "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/10670/labels{/name}",
  "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/10670/comments",
  "events_url": "https://api.github.com/repos/rust-lang/rust/issues/10670/events",
  "html_url": "https://github.com/rust-lang/rust/pull/10670",
  "id": 23304992,
  "node_id": "MDExOlB1bGxSZXF1ZXN0MTAyOTMyMjE=",
  "number": 10670,
  "title": "Shink NodeId, CrateNum, Name and Mrk down to 32 bits on x64.",
  "user": {
    "login": "eddyb",
    "id": 77424,
    "node_id": "MDQ6VXNlcjc3NDI0",
    "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/eddyb",
    "html_url": "https://github.com/eddyb",
    "followers_url": "https://api.github.com/users/eddyb/followers",
    "following_url": "https://api.github.com/users/eddyb/following{/other_user}",
    "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions",
    "organizations_url": "https://api.github.com/users/eddyb/orgs",
    "repos_url": "https://api.github.com/users/eddyb/repos",
    "events_url": "https://api.github.com/users/eddyb/events{/privacy}",
    "received_events_url": "https://api.github.com/users/eddyb/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "labels": [],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [],
  "milestone": null,
  "comments": 2,
  "created_at": "2013-11-26T10:20:00Z",
  "updated_at": "2014-06-12T04:43:35Z",
  "closed_at": "2013-11-27T07:17:17Z",
  "author_association": "MEMBER",
  "type": null,
  "active_lock_reason": null,
  "draft": false,
  "pull_request": {
    "url": "https://api.github.com/repos/rust-lang/rust/pulls/10670",
    "html_url": "https://github.com/rust-lang/rust/pull/10670",
    "diff_url": "https://github.com/rust-lang/rust/pull/10670.diff",
    "patch_url": "https://github.com/rust-lang/rust/pull/10670.patch",
    "merged_at": "2013-11-27T07:17:19Z"
  },
  "body": "### Rationale\n\nThere is no reason to support more than 2\u00b3\u00b2 nodes or names at this moment, as compiling something that big (even without considering the quadratic space usage of some analysis passes) would take at least **64GB**.\nMeanwhile, some can't (or barely can) compile rustc because it requires almost **1.5GB**.\n### Potential problems\n\nCan someone confirm this doesn't affect metadata (de)serialization? I can't tell myself, I know nothing about it.\n### Results\n\nSome structures have a size reduction of 25% to 50%: [before](https://gist.github.com/luqmana/3a82a51fa9c86d9191fa) - [after](https://gist.github.com/eddyb/5a75f8973d3d8018afd3).\nSadly, there isn't a massive change in the memory used for compiling stage2 librustc (it doesn't go over **1.4GB** as [before](http://huonw.github.io/isrustfastyet/mem/), but I can barely see the difference).\nHowever, my own testcase (previously peaking at **1.6GB** in typeck) shows a reduction of **200**-**400MB**.\n",
  "closed_by": {
    "login": "bors",
    "id": 3372342,
    "node_id": "MDQ6VXNlcjMzNzIzNDI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/bors",
    "html_url": "https://github.com/bors",
    "followers_url": "https://api.github.com/users/bors/followers",
    "following_url": "https://api.github.com/users/bors/following{/other_user}",
    "gists_url": "https://api.github.com/users/bors/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bors/subscriptions",
    "organizations_url": "https://api.github.com/users/bors/orgs",
    "repos_url": "https://api.github.com/users/bors/repos",
    "events_url": "https://api.github.com/users/bors/events{/privacy}",
    "received_events_url": "https://api.github.com/users/bors/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/10670/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/10670/timeline",
  "performed_via_github_app": null,
  "state_reason": null,
  "_meta": {
    "type": "pr"
  }
}
