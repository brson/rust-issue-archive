[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62007772",
    "html_url": "https://github.com/rust-lang/rust/issues/18699#issuecomment-62007772",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18699",
    "id": 62007772,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMDA3Nzcy",
    "user": {
      "login": "farcaller",
      "id": 693,
      "node_id": "MDQ6VXNlcjY5Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/693?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/farcaller",
      "html_url": "https://github.com/farcaller",
      "followers_url": "https://api.github.com/users/farcaller/followers",
      "following_url": "https://api.github.com/users/farcaller/following{/other_user}",
      "gists_url": "https://api.github.com/users/farcaller/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/farcaller/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/farcaller/subscriptions",
      "organizations_url": "https://api.github.com/users/farcaller/orgs",
      "repos_url": "https://api.github.com/users/farcaller/repos",
      "events_url": "https://api.github.com/users/farcaller/events{/privacy}",
      "received_events_url": "https://api.github.com/users/farcaller/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-06T16:37:14Z",
    "updated_at": "2014-11-06T16:37:14Z",
    "body": "I think this is the relevant log chunk:\n\n```\nDEBUG:rustc::metadata::creader: resolving extern crate stmt. ident: macro_ioreg path_opt: None\nDEBUG:syntax::attr: attr::contains_name (name=link)\nDEBUG:syntax::attr:   testing: plugin\nDEBUG:rustc::metadata::filesearch: using sysroot = /usr/local, triple = x86_64-apple-darwin\nDEBUG:rustc::metadata::filesearch: filesearch: searching additional lib search paths [1]\nDEBUG:rustc::metadata::filesearch: searching /Users/farcaller/src/zinc/build\n...\nDEBUG:rustc::metadata::filesearch: testing /Users/farcaller/src/zinc/build/libmacro_ioreg.dylib\nDEBUG:rustc::metadata::filesearch: rejected /Users/farcaller/src/zinc/build/libmacro_ioreg.dylib\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62007772/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62949235",
    "html_url": "https://github.com/rust-lang/rust/issues/18699#issuecomment-62949235",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18699",
    "id": 62949235,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyOTQ5MjM1",
    "user": {
      "login": "farcaller",
      "id": 693,
      "node_id": "MDQ6VXNlcjY5Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/693?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/farcaller",
      "html_url": "https://github.com/farcaller",
      "followers_url": "https://api.github.com/users/farcaller/followers",
      "following_url": "https://api.github.com/users/farcaller/following{/other_user}",
      "gists_url": "https://api.github.com/users/farcaller/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/farcaller/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/farcaller/subscriptions",
      "organizations_url": "https://api.github.com/users/farcaller/orgs",
      "repos_url": "https://api.github.com/users/farcaller/repos",
      "events_url": "https://api.github.com/users/farcaller/events{/privacy}",
      "received_events_url": "https://api.github.com/users/farcaller/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-13T19:18:04Z",
    "updated_at": "2014-11-13T19:18:04Z",
    "body": "Update: this happens only on Win and OS X hosts; compiling from linux is fine.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62949235/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/65339531",
    "html_url": "https://github.com/rust-lang/rust/issues/18699#issuecomment-65339531",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18699",
    "id": 65339531,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1MzM5NTMx",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-12-03T01:48:56Z",
    "updated_at": "2014-12-03T01:48:56Z",
    "body": "@farcaller could I bother you to try and reproduce this now? I don't have Win/OS X right now, unfortunately.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/65339531/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/65369131",
    "html_url": "https://github.com/rust-lang/rust/issues/18699#issuecomment-65369131",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18699",
    "id": 65369131,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1MzY5MTMx",
    "user": {
      "login": "farcaller",
      "id": 693,
      "node_id": "MDQ6VXNlcjY5Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/693?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/farcaller",
      "html_url": "https://github.com/farcaller",
      "followers_url": "https://api.github.com/users/farcaller/followers",
      "following_url": "https://api.github.com/users/farcaller/following{/other_user}",
      "gists_url": "https://api.github.com/users/farcaller/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/farcaller/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/farcaller/subscriptions",
      "organizations_url": "https://api.github.com/users/farcaller/orgs",
      "repos_url": "https://api.github.com/users/farcaller/repos",
      "events_url": "https://api.github.com/users/farcaller/events{/privacy}",
      "received_events_url": "https://api.github.com/users/farcaller/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-12-03T08:15:06Z",
    "updated_at": "2014-12-03T08:15:06Z",
    "body": "Still there as of 5484d6f6d. I've been doing a bit of debugging on this one yesterday but didn't really progress any further.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/65369131/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69467558",
    "html_url": "https://github.com/rust-lang/rust/issues/18699#issuecomment-69467558",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18699",
    "id": 69467558,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5NDY3NTU4",
    "user": {
      "login": "farcaller",
      "id": 693,
      "node_id": "MDQ6VXNlcjY5Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/693?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/farcaller",
      "html_url": "https://github.com/farcaller",
      "followers_url": "https://api.github.com/users/farcaller/followers",
      "following_url": "https://api.github.com/users/farcaller/following{/other_user}",
      "gists_url": "https://api.github.com/users/farcaller/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/farcaller/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/farcaller/subscriptions",
      "organizations_url": "https://api.github.com/users/farcaller/orgs",
      "repos_url": "https://api.github.com/users/farcaller/repos",
      "events_url": "https://api.github.com/users/farcaller/events{/privacy}",
      "received_events_url": "https://api.github.com/users/farcaller/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-10T19:04:01Z",
    "updated_at": "2015-01-10T19:04:01Z",
    "body": "Okay, I finally got down to exact problem which is this codepath in metadata loader:\n\n``` rust\n        if triple != self.triple {\n            info!(\"Rejecting via crate triple: expected {} got {}\", self.triple, triple);\n            self.rejected_via_triple.push(CrateMismatch {\n                path: libpath.clone(),\n                got: triple.to_string()\n            });\n            return false;\n        }\n```\n\nfailing with `Rejecting via crate triple: expected thumbv7m-none-eabi got x86_64-apple-darwin`.\n\nhonestly speaking I have not a single idea why this is working on linux :smile: it should be broken literally everywhere.\n\nThe problem here is that triple should be checked against rustc's current platform triple, not target triple in case of plugins.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69467558/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69470941",
    "html_url": "https://github.com/rust-lang/rust/issues/18699#issuecomment-69470941",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18699",
    "id": 69470941,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5NDcwOTQx",
    "user": {
      "login": "bgamari",
      "id": 1010174,
      "node_id": "MDQ6VXNlcjEwMTAxNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1010174?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bgamari",
      "html_url": "https://github.com/bgamari",
      "followers_url": "https://api.github.com/users/bgamari/followers",
      "following_url": "https://api.github.com/users/bgamari/following{/other_user}",
      "gists_url": "https://api.github.com/users/bgamari/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bgamari/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bgamari/subscriptions",
      "organizations_url": "https://api.github.com/users/bgamari/orgs",
      "repos_url": "https://api.github.com/users/bgamari/repos",
      "events_url": "https://api.github.com/users/bgamari/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bgamari/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-10T20:36:27Z",
    "updated_at": "2015-01-10T20:36:34Z",
    "body": "I am able to reproduce this on Linux with `rustc 1.0.0-dev (6a697325c 2015-01-09 18:56:14 -0500)`\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69470941/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69478886",
    "html_url": "https://github.com/rust-lang/rust/issues/18699#issuecomment-69478886",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18699",
    "id": 69478886,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5NDc4ODg2",
    "user": {
      "login": "larsbergstrom",
      "id": 475847,
      "node_id": "MDQ6VXNlcjQ3NTg0Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/475847?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/larsbergstrom",
      "html_url": "https://github.com/larsbergstrom",
      "followers_url": "https://api.github.com/users/larsbergstrom/followers",
      "following_url": "https://api.github.com/users/larsbergstrom/following{/other_user}",
      "gists_url": "https://api.github.com/users/larsbergstrom/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/larsbergstrom/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/larsbergstrom/subscriptions",
      "organizations_url": "https://api.github.com/users/larsbergstrom/orgs",
      "repos_url": "https://api.github.com/users/larsbergstrom/repos",
      "events_url": "https://api.github.com/users/larsbergstrom/events{/privacy}",
      "received_events_url": "https://api.github.com/users/larsbergstrom/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-11T00:52:38Z",
    "updated_at": "2015-01-11T00:52:38Z",
    "body": "@alexcrichton @brson I suspect this is the issue that had been breaking our Servo OSX->Android builds for the past couple of months, and am very afraid that it will break both our Linux Android and Gonk builds when we get whatever causes this to break Linux as well and block our upgrade to 1.0 alpha\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69478886/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69483396",
    "html_url": "https://github.com/rust-lang/rust/issues/18699#issuecomment-69483396",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18699",
    "id": 69483396,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5NDgzMzk2",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-11T04:35:27Z",
    "updated_at": "2015-01-11T04:35:27Z",
    "body": "@farcaller, @bgamari, @larsbergstrom, is there a small code example that I could reproduce this behavior with?\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69483396/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69488871",
    "html_url": "https://github.com/rust-lang/rust/issues/18699#issuecomment-69488871",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18699",
    "id": 69488871,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5NDg4ODcx",
    "user": {
      "login": "farcaller",
      "id": 693,
      "node_id": "MDQ6VXNlcjY5Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/693?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/farcaller",
      "html_url": "https://github.com/farcaller",
      "followers_url": "https://api.github.com/users/farcaller/followers",
      "following_url": "https://api.github.com/users/farcaller/following{/other_user}",
      "gists_url": "https://api.github.com/users/farcaller/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/farcaller/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/farcaller/subscriptions",
      "organizations_url": "https://api.github.com/users/farcaller/orgs",
      "repos_url": "https://api.github.com/users/farcaller/repos",
      "events_url": "https://api.github.com/users/farcaller/events{/privacy}",
      "received_events_url": "https://api.github.com/users/farcaller/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-11T09:50:39Z",
    "updated_at": "2015-01-11T09:50:39Z",
    "body": "plugin.rs:\n\n``` rust\n#![feature(plugin_registrar)]\n#![crate_type=\"dylib\"]\n\n#[macro_use] extern crate log;\nextern crate rustc;\n\nuse rustc::plugin::Registry;\n\n#[plugin_registrar]\npub fn plugin_registrar(reg: &mut Registry) {\n  info!(\"plugin registrar called\");\n}\n```\n\nmain.rs:\n\n``` rust\n#![feature(plugin)]\n#![crate_type=\"staticlib\"]\n\n#[plugin] extern crate plugin;\n```\n\n```\n% rustc plugin.rs\n...\n% rustc main.rs -L . --target arm-unknown-linux-gnueabi\nmain.rs:4:11: 4:31 error: can't find crate for `plugin`\nmain.rs:4 #[plugin] extern crate plugin;\n                    ^~~~~~~~~~~~~~~~~~~~\nerror: aborting due to previous error\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69488871/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69489011",
    "html_url": "https://github.com/rust-lang/rust/issues/18699#issuecomment-69489011",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18699",
    "id": 69489011,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5NDg5MDEx",
    "user": {
      "login": "farcaller",
      "id": 693,
      "node_id": "MDQ6VXNlcjY5Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/693?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/farcaller",
      "html_url": "https://github.com/farcaller",
      "followers_url": "https://api.github.com/users/farcaller/followers",
      "following_url": "https://api.github.com/users/farcaller/following{/other_user}",
      "gists_url": "https://api.github.com/users/farcaller/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/farcaller/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/farcaller/subscriptions",
      "organizations_url": "https://api.github.com/users/farcaller/orgs",
      "repos_url": "https://api.github.com/users/farcaller/repos",
      "events_url": "https://api.github.com/users/farcaller/events{/privacy}",
      "received_events_url": "https://api.github.com/users/farcaller/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-11T09:56:52Z",
    "updated_at": "2015-01-11T09:56:52Z",
    "body": "Also worth to mention that I had to modify the target spec json with this:\n\n``` json\n\"dll-prefix\": \"lib\",\n\"dll-suffix\": \"dylib\",\n\"is-like-osx\": true\n```\n\nto get it to fail to rejection via triple otherwise the rlib isn't even considered (the defaults resolve only on linux which was the case for original breakage in Nov). It isn't really acceptable to make target spec to be dependent on host spec.\n\nFor the reference, our spec for thumbv7m-none-eabi is:\n\n``` json\n{\n    \"arch\": \"arm\",\n    \"cpu\": \"cortex-m3\",\n    \"data-layout\": \"e-m:e-p:32:32-i1:8:32-i8:8:32-i16:16:32-i64:64-v128:64:128-a:0:32-n32-S64\",\n    \"disable-redzone\": true,\n    \"executables\": true,\n    \"llvm-target\": \"thumbv7m-none-eabi\",\n    \"morestack\": false,\n    \"os\": \"none\",\n    \"relocation-model\": \"static\",\n    \"target-endian\": \"little\",\n    \"target-word-size\": \"32\",\n}\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69489011/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69502346",
    "html_url": "https://github.com/rust-lang/rust/issues/18699#issuecomment-69502346",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18699",
    "id": 69502346,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5NTAyMzQ2",
    "user": {
      "login": "bgamari",
      "id": 1010174,
      "node_id": "MDQ6VXNlcjEwMTAxNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1010174?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bgamari",
      "html_url": "https://github.com/bgamari",
      "followers_url": "https://api.github.com/users/bgamari/followers",
      "following_url": "https://api.github.com/users/bgamari/following{/other_user}",
      "gists_url": "https://api.github.com/users/bgamari/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bgamari/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bgamari/subscriptions",
      "organizations_url": "https://api.github.com/users/bgamari/orgs",
      "repos_url": "https://api.github.com/users/bgamari/repos",
      "events_url": "https://api.github.com/users/bgamari/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bgamari/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-11T17:23:42Z",
    "updated_at": "2015-01-11T17:24:19Z",
    "body": "I've put a modified version of @farcaller's example up as a [gist](https://gist.github.com/bgamari/68e4f3c431cee9e6976a). This fails for me on Linux with,\n\n```\n$ rustc --version\nrustc 1.0.0-dev (6a697325c 2015-01-09 18:56:14 -0500)\n$ ./build.sh \nplugin.rs:4:14: 4:31 warning: use of unstable item: use the crates.io `log` library instead, #[warn(unstable)] on by default\nplugin.rs:4 #[macro_use] extern crate log;\n                         ^~~~~~~~~~~~~~~~~\nplugin.rs:5:1: 5:20 warning: use of unstable item, #[warn(unstable)] on by default\nplugin.rs:5 extern crate rustc;\n            ^~~~~~~~~~~~~~~~~~~\nplugin.rs:10:25: 10:28 warning: unused variable: `reg`, #[warn(unused_variables)] on by default\nplugin.rs:10 pub fn plugin_registrar(reg: &mut Registry) {\n                                     ^~~\nmain.rs:5:11: 5:31 error: couldn't find crate `plugin` with expected target triple arm-unknown-linux-gnueabi\nmain.rs:5 #[plugin] extern crate plugin;\n                    ^~~~~~~~~~~~~~~~~~~~\nmain.rs:5:31: 5:31 note: crate `plugin`, path #1, triple x86_64-unknown-linux-gnu: /home/ben/68e4f3c431cee9e6976a/libplugin.so\nerror: aborting due to previous error\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69502346/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69504707",
    "html_url": "https://github.com/rust-lang/rust/issues/18699#issuecomment-69504707",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18699",
    "id": 69504707,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5NTA0NzA3",
    "user": {
      "login": "larsbergstrom",
      "id": 475847,
      "node_id": "MDQ6VXNlcjQ3NTg0Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/475847?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/larsbergstrom",
      "html_url": "https://github.com/larsbergstrom",
      "followers_url": "https://api.github.com/users/larsbergstrom/followers",
      "following_url": "https://api.github.com/users/larsbergstrom/following{/other_user}",
      "gists_url": "https://api.github.com/users/larsbergstrom/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/larsbergstrom/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/larsbergstrom/subscriptions",
      "organizations_url": "https://api.github.com/users/larsbergstrom/orgs",
      "repos_url": "https://api.github.com/users/larsbergstrom/repos",
      "events_url": "https://api.github.com/users/larsbergstrom/events{/privacy}",
      "received_events_url": "https://api.github.com/users/larsbergstrom/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-11T18:23:46Z",
    "updated_at": "2015-01-11T18:23:46Z",
    "body": "You can also just use @huonw's compile_msg project. In Servo, you can see the error on OSX today by just building with `./mach build --android` and you will get:\n\n```\n/Users/larsberg/.cargo/git/checkouts/android-rs-glue-0edd59d2611b734a/servo/glue/src/lib.rs:8:1: 8:26 error: can't find crate for `compile_msg`\n/Users/larsberg/.cargo/git/checkouts/android-rs-glue-0edd59d2611b734a/servo/glue/src/lib.rs:8 extern crate compile_msg;\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69504707/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69511549",
    "html_url": "https://github.com/rust-lang/rust/issues/18699#issuecomment-69511549",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18699",
    "id": 69511549,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5NTExNTQ5",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-11T21:08:50Z",
    "updated_at": "2015-01-11T21:08:50Z",
    "body": "@farcaller, @bgamari I think you both need the `#[no_link]` in addition to the `#[plugin]` attribute, otherwise it's trying to actually link to the crate (hence the error message).\n\n@larsbergstrom it looks like you're using an older compiler, and I'm not quite sure what's going on there! That may have been a bug fixed in Cargo though?\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69511549/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69512380",
    "html_url": "https://github.com/rust-lang/rust/issues/18699#issuecomment-69512380",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18699",
    "id": 69512380,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5NTEyMzgw",
    "user": {
      "login": "farcaller",
      "id": 693,
      "node_id": "MDQ6VXNlcjY5Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/693?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/farcaller",
      "html_url": "https://github.com/farcaller",
      "followers_url": "https://api.github.com/users/farcaller/followers",
      "following_url": "https://api.github.com/users/farcaller/following{/other_user}",
      "gists_url": "https://api.github.com/users/farcaller/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/farcaller/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/farcaller/subscriptions",
      "organizations_url": "https://api.github.com/users/farcaller/orgs",
      "repos_url": "https://api.github.com/users/farcaller/repos",
      "events_url": "https://api.github.com/users/farcaller/events{/privacy}",
      "received_events_url": "https://api.github.com/users/farcaller/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-11T21:28:32Z",
    "updated_at": "2015-01-12T11:30:26Z",
    "body": "@alexcrichton seems that I managed to workaround this problem with `#[macro_use] #[no_link] #[plugin] extern crate ioreg;`, but rustc still fails to locate the libioreg.dylib if there are no `dll-prefix` / `dll-suffix` / `is-like-osx` flags in target spec.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69512380/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69602350",
    "html_url": "https://github.com/rust-lang/rust/issues/18699#issuecomment-69602350",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18699",
    "id": 69602350,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5NjAyMzUw",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-12T16:53:06Z",
    "updated_at": "2015-01-12T16:53:06Z",
    "body": "That does seem odd that it would require those flags for the _target_ as opposed to the host... Sounds like a bug!\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69602350/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69604815",
    "html_url": "https://github.com/rust-lang/rust/issues/18699#issuecomment-69604815",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18699",
    "id": 69604815,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5NjA0ODE1",
    "user": {
      "login": "farcaller",
      "id": 693,
      "node_id": "MDQ6VXNlcjY5Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/693?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/farcaller",
      "html_url": "https://github.com/farcaller",
      "followers_url": "https://api.github.com/users/farcaller/followers",
      "following_url": "https://api.github.com/users/farcaller/following{/other_user}",
      "gists_url": "https://api.github.com/users/farcaller/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/farcaller/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/farcaller/subscriptions",
      "organizations_url": "https://api.github.com/users/farcaller/orgs",
      "repos_url": "https://api.github.com/users/farcaller/repos",
      "events_url": "https://api.github.com/users/farcaller/events{/privacy}",
      "received_events_url": "https://api.github.com/users/farcaller/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-12T17:05:52Z",
    "updated_at": "2015-01-12T17:05:52Z",
    "body": "Well, effectively it is what this bug is originally about. The problem we raised two days ago here was apparently a misunderstanding of how `#[no_link]` works.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69604815/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/75576445",
    "html_url": "https://github.com/rust-lang/rust/issues/18699#issuecomment-75576445",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18699",
    "id": 75576445,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc1NTc2NDQ1",
    "user": {
      "login": "farcaller",
      "id": 693,
      "node_id": "MDQ6VXNlcjY5Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/693?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/farcaller",
      "html_url": "https://github.com/farcaller",
      "followers_url": "https://api.github.com/users/farcaller/followers",
      "following_url": "https://api.github.com/users/farcaller/following{/other_user}",
      "gists_url": "https://api.github.com/users/farcaller/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/farcaller/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/farcaller/subscriptions",
      "organizations_url": "https://api.github.com/users/farcaller/orgs",
      "repos_url": "https://api.github.com/users/farcaller/repos",
      "events_url": "https://api.github.com/users/farcaller/events{/privacy}",
      "received_events_url": "https://api.github.com/users/farcaller/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-02-23T16:27:39Z",
    "updated_at": "2015-02-23T16:27:39Z",
    "body": "Seems to work as of 2b01a37ec.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/75576445/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/81219166",
    "html_url": "https://github.com/rust-lang/rust/issues/18699#issuecomment-81219166",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18699",
    "id": 81219166,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgxMjE5MTY2",
    "user": {
      "login": "tamird",
      "id": 1535036,
      "node_id": "MDQ6VXNlcjE1MzUwMzY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1535036?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tamird",
      "html_url": "https://github.com/tamird",
      "followers_url": "https://api.github.com/users/tamird/followers",
      "following_url": "https://api.github.com/users/tamird/following{/other_user}",
      "gists_url": "https://api.github.com/users/tamird/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tamird/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tamird/subscriptions",
      "organizations_url": "https://api.github.com/users/tamird/orgs",
      "repos_url": "https://api.github.com/users/tamird/repos",
      "events_url": "https://api.github.com/users/tamird/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tamird/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-15T20:04:59Z",
    "updated_at": "2015-03-15T20:04:59Z",
    "body": "Is this inadvertently tested by 48b6aef6605794a9da0d9254960a91bbea0a0737?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/81219166/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/81256132",
    "html_url": "https://github.com/rust-lang/rust/issues/18699#issuecomment-81256132",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18699",
    "id": 81256132,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgxMjU2MTMy",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-15T21:52:41Z",
    "updated_at": "2015-03-15T21:52:41Z",
    "body": "Seems so.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/81256132/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
