[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/32241445",
    "html_url": "https://github.com/rust-lang/rust/issues/11527#issuecomment-32241445",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/11527",
    "id": 32241445,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyMjQxNDQ1",
    "user": {
      "login": "liigo",
      "id": 346530,
      "node_id": "MDQ6VXNlcjM0NjUzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/346530?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/liigo",
      "html_url": "https://github.com/liigo",
      "followers_url": "https://api.github.com/users/liigo/followers",
      "following_url": "https://api.github.com/users/liigo/following{/other_user}",
      "gists_url": "https://api.github.com/users/liigo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/liigo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/liigo/subscriptions",
      "organizations_url": "https://api.github.com/users/liigo/orgs",
      "repos_url": "https://api.github.com/users/liigo/repos",
      "events_url": "https://api.github.com/users/liigo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/liigo/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-01-14T06:19:17Z",
    "updated_at": "2014-01-14T06:19:17Z",
    "body": "+1\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/32241445/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/32241834",
    "html_url": "https://github.com/rust-lang/rust/issues/11527#issuecomment-32241834",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/11527",
    "id": 32241834,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyMjQxODM0",
    "user": {
      "login": "thestinger",
      "id": 1505226,
      "node_id": "MDQ6VXNlcjE1MDUyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thestinger",
      "html_url": "https://github.com/thestinger",
      "followers_url": "https://api.github.com/users/thestinger/followers",
      "following_url": "https://api.github.com/users/thestinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions",
      "organizations_url": "https://api.github.com/users/thestinger/orgs",
      "repos_url": "https://api.github.com/users/thestinger/repos",
      "events_url": "https://api.github.com/users/thestinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thestinger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-01-14T06:31:28Z",
    "updated_at": "2014-01-14T06:41:43Z",
    "body": "Here's the API used by rust-core for multiple-producer/multiple-consumer bounded queues:\n\n``` rust\n/// Return a new `BoundedPriorityQueue` instance, holding at most `maximum` elements.\nfn new(maximum: uint) -> BoundedPriorityQueue<A>;\n\n/// Pop the largest value from the queue, blocking until the queue is not empty\nfn pop(&self) -> A;\n\n/// Pop the largest value from the queue, or return `None` if the queue is empty.\nfn try_pop(&self) -> Option<A>;\n\n/// Pop the largest value from the queue, blocking until the queue is not empty or the timeout\n/// expires.\nfn pop_timeout(&self, reltime: Time) -> Option<A>;\n\n/// Push a value into the queue, blocking until the queue is not full.\nfn push(&self, item: A);\n\n/// Push a value into the queue, or return `Some(item)` if the queue is full.\nfn try_push(&self, item: A) -> Option<A>;\n\n/// Push a value into the queue, blocking until the queue is not full or the timeout expires. If\n/// the timeout expires, return `Some(item)`.\nfn push_timeout(&self, item: A, reltime: Time) -> Option<A>;\n```\n\nThere's no split in the types or a closed error case though. That's required if there's going to be a limitation of one consumer, but I don't think a micro-optimization belongs in the default channel you reach for.\n\nIn my opinion, a multiple-producer/multiple-consumer queue with support for blocking is the most important type as it supports the most functionality. You can swap it out for a less flexible queue with a single consumer and/or single producer limitation if possible but you're not forced to change your design to accommodate a micro-optimization that's not going to be a measurable difference in most cases. You can also switch to a purely non-blocking queue like the disruptor.\n\nThe more restricted forms would be included only after they were shown to offer performance improvements. At the moment, the blocking queue in Thread Building Blocks is significantly faster than Rust's channels despite support multiple consumers with fair scheduling and an _optional_ size bound.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/32241834/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/32502078",
    "html_url": "https://github.com/rust-lang/rust/issues/11527#issuecomment-32502078",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/11527",
    "id": 32502078,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyNTAyMDc4",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-01-16T18:23:15Z",
    "updated_at": "2014-01-16T18:23:15Z",
    "body": "Accepted for P-backcompat-libs (though we may or may not decide to actually do it).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/32502078/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/32502128",
    "html_url": "https://github.com/rust-lang/rust/issues/11527#issuecomment-32502128",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/11527",
    "id": 32502128,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyNTAyMTI4",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-01-16T18:23:50Z",
    "updated_at": "2014-01-16T18:23:50Z",
    "body": "My feeling is that full vs closed are distinct; it makes sense to get back the message if full, but not necessarily closed, since that may not be detectable and even if the message is enqeued, you don't know that the receiver will read it from the port.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/32502128/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
