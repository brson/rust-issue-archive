[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/102812829",
    "html_url": "https://github.com/rust-lang/rust/issues/25507#issuecomment-102812829",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25507",
    "id": 102812829,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwMjgxMjgyOQ==",
    "user": {
      "login": "Stebalien",
      "id": 310393,
      "node_id": "MDQ6VXNlcjMxMDM5Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/310393?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Stebalien",
      "html_url": "https://github.com/Stebalien",
      "followers_url": "https://api.github.com/users/Stebalien/followers",
      "following_url": "https://api.github.com/users/Stebalien/following{/other_user}",
      "gists_url": "https://api.github.com/users/Stebalien/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Stebalien/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Stebalien/subscriptions",
      "organizations_url": "https://api.github.com/users/Stebalien/orgs",
      "repos_url": "https://api.github.com/users/Stebalien/repos",
      "events_url": "https://api.github.com/users/Stebalien/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Stebalien/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-17T15:06:16Z",
    "updated_at": "2015-05-17T15:06:16Z",
    "body": "This could definitely be improved. Just as an FYI, for loops take `IntoIterator`s by-value so the following also works:\n\n``` rust\nfor foo in &self.member {\n    // ...\n}\n```\n\nThis is because `IntoIterator` is implemented on both `&Vec<T>` (producing an iterator that yields references to the items) and `Vec<T>` (producing an iterator that yields the items by value and consumes the vector.\n\nWe should probably add a detailed error message for this case; you're not the first to be confused.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/102812829/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/111778147",
    "html_url": "https://github.com/rust-lang/rust/issues/25507#issuecomment-111778147",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25507",
    "id": 111778147,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExMTc3ODE0Nw==",
    "user": {
      "login": "luke-gru",
      "id": 500554,
      "node_id": "MDQ6VXNlcjUwMDU1NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/500554?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-gru",
      "html_url": "https://github.com/luke-gru",
      "followers_url": "https://api.github.com/users/luke-gru/followers",
      "following_url": "https://api.github.com/users/luke-gru/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-gru/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-gru/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-gru/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-gru/orgs",
      "repos_url": "https://api.github.com/users/luke-gru/repos",
      "events_url": "https://api.github.com/users/luke-gru/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-gru/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-06-14T03:49:57Z",
    "updated_at": "2015-06-14T03:49:57Z",
    "body": "I just stumbled into this, +1 for more helpful error message\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/111778147/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/150416428",
    "html_url": "https://github.com/rust-lang/rust/issues/25507#issuecomment-150416428",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25507",
    "id": 150416428,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MDQxNjQyOA==",
    "user": {
      "login": "Eoin-ONeill-Yokai",
      "id": 3040352,
      "node_id": "MDQ6VXNlcjMwNDAzNTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3040352?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Eoin-ONeill-Yokai",
      "html_url": "https://github.com/Eoin-ONeill-Yokai",
      "followers_url": "https://api.github.com/users/Eoin-ONeill-Yokai/followers",
      "following_url": "https://api.github.com/users/Eoin-ONeill-Yokai/following{/other_user}",
      "gists_url": "https://api.github.com/users/Eoin-ONeill-Yokai/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Eoin-ONeill-Yokai/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Eoin-ONeill-Yokai/subscriptions",
      "organizations_url": "https://api.github.com/users/Eoin-ONeill-Yokai/orgs",
      "repos_url": "https://api.github.com/users/Eoin-ONeill-Yokai/repos",
      "events_url": "https://api.github.com/users/Eoin-ONeill-Yokai/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Eoin-ONeill-Yokai/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-23T02:36:52Z",
    "updated_at": "2015-10-23T02:36:52Z",
    "body": "I also stumbled upon this myself. Adding iter() also worked. +1 for better error message handling...\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/150416428/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/262564469",
    "html_url": "https://github.com/rust-lang/rust/issues/25507#issuecomment-262564469",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25507",
    "id": 262564469,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MjU2NDQ2OQ==",
    "user": {
      "login": "jleedev",
      "id": 23022,
      "node_id": "MDQ6VXNlcjIzMDIy",
      "avatar_url": "https://avatars.githubusercontent.com/u/23022?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jleedev",
      "html_url": "https://github.com/jleedev",
      "followers_url": "https://api.github.com/users/jleedev/followers",
      "following_url": "https://api.github.com/users/jleedev/following{/other_user}",
      "gists_url": "https://api.github.com/users/jleedev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jleedev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jleedev/subscriptions",
      "organizations_url": "https://api.github.com/users/jleedev/orgs",
      "repos_url": "https://api.github.com/users/jleedev/repos",
      "events_url": "https://api.github.com/users/jleedev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jleedev/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-11-23T16:30:52Z",
    "updated_at": "2016-11-23T16:30:52Z",
    "body": "I just ran into this. Here's a slightly different example:\r\n\r\n```rust\r\n#[derive(Debug)]\r\nstruct X;  // not Copy\r\n\r\nstruct Y{field: Option<X>}\r\n\r\nfn main() {\r\n    let v: Vec<Y> = Vec::new();\r\n    for y in v.iter() {\r\n        println!(\"{:?}\", y.field.unwrap_or(X));\r\n    }\r\n}\r\n```\r\n\r\nError:\r\n\r\n```\r\nrustc 1.13.0 (2c6933acc 2016-11-07)\r\nerror[E0507]: cannot move out of borrowed content\r\n --> <anon>:9:26\r\n  |\r\n9 |         println!(\"{:?}\", y.field.unwrap_or(X));\r\n  |                          ^ cannot move out of borrowed content\r\n```\r\n\r\nUltimately, the diagnostic here should explain _why_ something is being moved, and what was borrowed in the first place. Namely, it's because the call to `unwrap_or` takes `self`.\r\n\r\nThe lifecycle of my example is worth nothing as well: The loop originally iterated over just `v`, which implicitly calls `into_iter()`, but I manually inserted `iter()` to make `enumerate()` work. No clue if it's generally useful, but a hint \"did you mean into_iter\" would have helped me here.",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/262564469/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/299947475",
    "html_url": "https://github.com/rust-lang/rust/issues/25507#issuecomment-299947475",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25507",
    "id": 299947475,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5OTk0NzQ3NQ==",
    "user": {
      "login": "jleedev",
      "id": 23022,
      "node_id": "MDQ6VXNlcjIzMDIy",
      "avatar_url": "https://avatars.githubusercontent.com/u/23022?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jleedev",
      "html_url": "https://github.com/jleedev",
      "followers_url": "https://api.github.com/users/jleedev/followers",
      "following_url": "https://api.github.com/users/jleedev/following{/other_user}",
      "gists_url": "https://api.github.com/users/jleedev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jleedev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jleedev/subscriptions",
      "organizations_url": "https://api.github.com/users/jleedev/orgs",
      "repos_url": "https://api.github.com/users/jleedev/repos",
      "events_url": "https://api.github.com/users/jleedev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jleedev/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-05-08T18:17:20Z",
    "updated_at": "2017-05-08T18:17:20Z",
    "body": "This particular error pops up on me occasionally, so I have some more insight/complaints about my example. Let `it: &Option<X>`:\r\n\r\nThese three all give \"cannot move out of borrowed content\":\r\n\r\n    it.unwrap();\r\n    *it;\r\n    Option::unwrap(*it);\r\n\r\nBut this gives \"expected type `std::option::Option<_>`, found type `&std::option::Option<X>`\", which I think is more in line with my intent.\r\n\r\n    Option::unwrap(it);\r\n\r\nWhen I type `it.unwrap()`, I am told that my error is an attempt to dereference it. But I think my error is in calling a method that takes ownership of a value which I have only borrowed. The compiler is inserting an implicit dereference and then chastising me about it.",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/299947475/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/434718638",
    "html_url": "https://github.com/rust-lang/rust/issues/25507#issuecomment-434718638",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25507",
    "id": 434718638,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNDcxODYzOA==",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-10-31T14:55:17Z",
    "updated_at": "2018-10-31T14:55:17Z",
    "body": "Triage: no changes, I do see people complain about this diagnostic fairly regularly...",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/434718638/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/537615779",
    "html_url": "https://github.com/rust-lang/rust/issues/25507#issuecomment-537615779",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25507",
    "id": 537615779,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzNzYxNTc3OQ==",
    "user": {
      "login": "estebank",
      "id": 1606434,
      "node_id": "MDQ6VXNlcjE2MDY0MzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/estebank",
      "html_url": "https://github.com/estebank",
      "followers_url": "https://api.github.com/users/estebank/followers",
      "following_url": "https://api.github.com/users/estebank/following{/other_user}",
      "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/estebank/subscriptions",
      "organizations_url": "https://api.github.com/users/estebank/orgs",
      "repos_url": "https://api.github.com/users/estebank/repos",
      "events_url": "https://api.github.com/users/estebank/events{/privacy}",
      "received_events_url": "https://api.github.com/users/estebank/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2019-10-02T18:14:19Z",
    "updated_at": "2019-10-02T18:14:19Z",
    "body": "[Current output](https://play.rust-lang.org/?version=nightly&mode=debug&edition=2018&gist=ddfb47abef5393c81150ef7a6db38537):\r\n\r\n```\r\nerror[E0507]: cannot move out of `self.member` which is behind a shared reference\r\n --> src/main.rs:7:20\r\n  |\r\n7 |         for foo in self.member { // line 7\r\n  |                    ^^^^^^^^^^^ move occurs because `self.member` has type `std::vec::Vec<u8>`, which does not implement the `Copy` trait\r\n```",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/537615779/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/620333356",
    "html_url": "https://github.com/rust-lang/rust/issues/25507#issuecomment-620333356",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25507",
    "id": 620333356,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMDMzMzM1Ng==",
    "user": {
      "login": "estebank",
      "id": 1606434,
      "node_id": "MDQ6VXNlcjE2MDY0MzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/estebank",
      "html_url": "https://github.com/estebank",
      "followers_url": "https://api.github.com/users/estebank/followers",
      "following_url": "https://api.github.com/users/estebank/following{/other_user}",
      "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/estebank/subscriptions",
      "organizations_url": "https://api.github.com/users/estebank/orgs",
      "repos_url": "https://api.github.com/users/estebank/repos",
      "events_url": "https://api.github.com/users/estebank/events{/privacy}",
      "received_events_url": "https://api.github.com/users/estebank/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-04-28T02:07:02Z",
    "updated_at": "2020-04-28T02:07:02Z",
    "body": "Current output:\r\n\r\n```\r\nerror[E0507]: cannot move out of `self.member` which is behind a shared reference\r\n --> src/main.rs:7:20\r\n  |\r\n7 |         for foo in self.member { // line 7\r\n  |                    ^^^^^^^^^^^\r\n  |                    |\r\n  |                    move occurs because `self.member` has type `std::vec::Vec<u8>`, which does not implement the `Copy` trait\r\n  |                    help: consider iterating over a slice of the `Vec<_>`'s content: `&self.member`\r\n```\r\n\r\n```\r\nerror[E0507]: cannot move out of `y.field` which is behind a shared reference\r\n --> src/main.rs:9:26\r\n  |\r\n9 |         println!(\"{:?}\", y.field.unwrap_or(X));\r\n  |                          ^^^^^^^\r\n  |                          |\r\n  |                          move occurs because `y.field` has type `std::option::Option<X>`, which does not implement the `Copy` trait\r\n  |                          help: consider borrowing the `Option`'s content: `y.field.as_ref()`\r\n```",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/620333356/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
