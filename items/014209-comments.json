[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/43149012",
    "html_url": "https://github.com/rust-lang/rust/pull/14209#issuecomment-43149012",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14209",
    "id": 43149012,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMTQ5MDEy",
    "user": {
      "login": "aturon",
      "id": 709807,
      "node_id": "MDQ6VXNlcjcwOTgwNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/709807?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aturon",
      "html_url": "https://github.com/aturon",
      "followers_url": "https://api.github.com/users/aturon/followers",
      "following_url": "https://api.github.com/users/aturon/following{/other_user}",
      "gists_url": "https://api.github.com/users/aturon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aturon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aturon/subscriptions",
      "organizations_url": "https://api.github.com/users/aturon/orgs",
      "repos_url": "https://api.github.com/users/aturon/repos",
      "events_url": "https://api.github.com/users/aturon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aturon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-05-14T23:04:36Z",
    "updated_at": "2014-05-14T23:04:36Z",
    "body": "Thanks for getting to this so quickly! This looks like the right approach.\n\nBTW: I'm currently trying to land a [patch](https://github.com/mozilla/rust/pull/14208) that will change the signature of `from_bits` to return an `Option` (reflecting whether the bits are a valid combination of flags) and adds a `from_bits_truncate` that just drops any irrelevant bits.\n\nYou'll want to use one or the other of these functions for converting from an integer representation. You should consider in each case whether extra bits should cause a noisy failure or just be silently ignored, and use the corresponding function.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/43149012/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/43149186",
    "html_url": "https://github.com/rust-lang/rust/pull/14209#issuecomment-43149186",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14209",
    "id": 43149186,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMTQ5MTg2",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-05-14T23:06:50Z",
    "updated_at": "2014-05-14T23:06:50Z",
    "body": "This may actually be one case where the enum should stay, but it should be tagged with `#[repr(C)]` but it wasn't in the past due to us having ABI issues with enums (which I think are now fixed).\n\nThe LLVM definitions for the functions take an `LLVMAttribute` which is itself an enum, so this may not want to change to `bitflags!` just yet\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/43149186/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/43149663",
    "html_url": "https://github.com/rust-lang/rust/pull/14209#issuecomment-43149663",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14209",
    "id": 43149663,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMTQ5NjYz",
    "user": {
      "login": "aturon",
      "id": 709807,
      "node_id": "MDQ6VXNlcjcwOTgwNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/709807?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aturon",
      "html_url": "https://github.com/aturon",
      "followers_url": "https://api.github.com/users/aturon/followers",
      "following_url": "https://api.github.com/users/aturon/following{/other_user}",
      "gists_url": "https://api.github.com/users/aturon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aturon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aturon/subscriptions",
      "organizations_url": "https://api.github.com/users/aturon/orgs",
      "repos_url": "https://api.github.com/users/aturon/repos",
      "events_url": "https://api.github.com/users/aturon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aturon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-05-14T23:13:16Z",
    "updated_at": "2014-05-14T23:13:39Z",
    "body": "@alexcrichton Interesting! Most of the discriminants are powers of 2, except for `StackAttribute` and `AlignmentAttribute`. Does LLVM treat that attribute as a \"set\" of other attributes?\n\nIf so, maybe the point here is that LLVM doesn't want _all_ combinations of these attributes? But of course `bitflags` is designed to allow free combination. So `bitflags` just wouldn't be expressive enough to capture the constraints statically?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/43149663/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/43150257",
    "html_url": "https://github.com/rust-lang/rust/pull/14209#issuecomment-43150257",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14209",
    "id": 43150257,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMTUwMjU3",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-05-14T23:20:59Z",
    "updated_at": "2014-05-14T23:20:59Z",
    "body": "I think that LLVM internally or's together these variants into its own bit set, but the API level only ever takes one at a time.\n\nThis may just be an FFI case where the type of the argument really is just an enum with a specific value, rather than bitflags not being able to be expressive enough. I think that the ABI is technically not correct today because it's specified to be a `uint` where it should be an `enum`, and it just so happens that all relevant ABIs we use have those two coincide.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/43150257/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/43150770",
    "html_url": "https://github.com/rust-lang/rust/pull/14209#issuecomment-43150770",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14209",
    "id": 43150770,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMTUwNzcw",
    "user": {
      "login": "richo",
      "id": 476418,
      "node_id": "MDQ6VXNlcjQ3NjQxOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/476418?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/richo",
      "html_url": "https://github.com/richo",
      "followers_url": "https://api.github.com/users/richo/followers",
      "following_url": "https://api.github.com/users/richo/following{/other_user}",
      "gists_url": "https://api.github.com/users/richo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/richo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/richo/subscriptions",
      "organizations_url": "https://api.github.com/users/richo/orgs",
      "repos_url": "https://api.github.com/users/richo/repos",
      "events_url": "https://api.github.com/users/richo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/richo/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-05-14T23:28:08Z",
    "updated_at": "2014-05-14T23:28:08Z",
    "body": "Ok, cool. I'll close this and go looking for something more plausible.\n\nThanks for the feedback on the general approach though- appreciate it.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/43150770/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
