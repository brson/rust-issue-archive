[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/424026535",
    "html_url": "https://github.com/rust-lang/rust/issues/21727#issuecomment-424026535",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21727",
    "id": 424026535,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyNDAyNjUzNQ==",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-09-24T15:55:27Z",
    "updated_at": "2018-09-24T15:55:27Z",
    "body": "Triage: not aware of any changes here",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/424026535/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/450865257",
    "html_url": "https://github.com/rust-lang/rust/issues/21727#issuecomment-450865257",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21727",
    "id": 450865257,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MDg2NTI1Nw==",
    "user": {
      "login": "extrawurst",
      "id": 776816,
      "node_id": "MDQ6VXNlcjc3NjgxNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/776816?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/extrawurst",
      "html_url": "https://github.com/extrawurst",
      "followers_url": "https://api.github.com/users/extrawurst/followers",
      "following_url": "https://api.github.com/users/extrawurst/following{/other_user}",
      "gists_url": "https://api.github.com/users/extrawurst/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/extrawurst/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/extrawurst/subscriptions",
      "organizations_url": "https://api.github.com/users/extrawurst/orgs",
      "repos_url": "https://api.github.com/users/extrawurst/repos",
      "events_url": "https://api.github.com/users/extrawurst/events{/privacy}",
      "received_events_url": "https://api.github.com/users/extrawurst/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2019-01-02T13:38:22Z",
    "updated_at": "2019-01-02T13:38:22Z",
    "body": "This feature would be very appreciated",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/450865257/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/777799291",
    "html_url": "https://github.com/rust-lang/rust/issues/21727#issuecomment-777799291",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21727",
    "id": 777799291,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3Nzc5OTI5MQ==",
    "user": {
      "login": "holzschu",
      "id": 8070736,
      "node_id": "MDQ6VXNlcjgwNzA3MzY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8070736?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holzschu",
      "html_url": "https://github.com/holzschu",
      "followers_url": "https://api.github.com/users/holzschu/followers",
      "following_url": "https://api.github.com/users/holzschu/following{/other_user}",
      "gists_url": "https://api.github.com/users/holzschu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holzschu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holzschu/subscriptions",
      "organizations_url": "https://api.github.com/users/holzschu/orgs",
      "repos_url": "https://api.github.com/users/holzschu/repos",
      "events_url": "https://api.github.com/users/holzschu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holzschu/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2021-02-11T21:20:37Z",
    "updated_at": "2021-02-11T21:22:20Z",
    "body": "Hi,\r\nI'd like to re-up this issue as well. As the original poster said, iOS supports dynamic libraries since iOS 8. It would be great to have rustc support them as well.\r\nAmong other things, it is blocking cross-compilation of the Python cryptography module for iOS: https://github.com/pyca/cryptography/issues/5814",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/777799291/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/777802363",
    "html_url": "https://github.com/rust-lang/rust/issues/21727#issuecomment-777802363",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21727",
    "id": 777802363,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3NzgwMjM2Mw==",
    "user": {
      "login": "alex",
      "id": 772,
      "node_id": "MDQ6VXNlcjc3Mg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/772?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alex",
      "html_url": "https://github.com/alex",
      "followers_url": "https://api.github.com/users/alex/followers",
      "following_url": "https://api.github.com/users/alex/following{/other_user}",
      "gists_url": "https://api.github.com/users/alex/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alex/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alex/subscriptions",
      "organizations_url": "https://api.github.com/users/alex/orgs",
      "repos_url": "https://api.github.com/users/alex/repos",
      "events_url": "https://api.github.com/users/alex/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alex/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2021-02-11T21:25:56Z",
    "updated_at": "2021-02-11T21:25:56Z",
    "body": "Is implementing this just a matter of setting `dyanmic_linking: true` on the target spec, or is there more to it?",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/777802363/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/777806255",
    "html_url": "https://github.com/rust-lang/rust/issues/21727#issuecomment-777806255",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21727",
    "id": 777806255,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3NzgwNjI1NQ==",
    "user": {
      "login": "holzschu",
      "id": 8070736,
      "node_id": "MDQ6VXNlcjgwNzA3MzY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8070736?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holzschu",
      "html_url": "https://github.com/holzschu",
      "followers_url": "https://api.github.com/users/holzschu/followers",
      "following_url": "https://api.github.com/users/holzschu/following{/other_user}",
      "gists_url": "https://api.github.com/users/holzschu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holzschu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holzschu/subscriptions",
      "organizations_url": "https://api.github.com/users/holzschu/orgs",
      "repos_url": "https://api.github.com/users/holzschu/repos",
      "events_url": "https://api.github.com/users/holzschu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holzschu/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2021-02-11T21:33:03Z",
    "updated_at": "2021-02-11T21:33:03Z",
    "body": "According to this PR, it seems to be, yes: https://github.com/rust-lang/rust/pull/73516\r\n(it was merged, then pulled later: https://github.com/rust-lang/rust/pull/77716 )",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/777806255/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/777809969",
    "html_url": "https://github.com/rust-lang/rust/issues/21727#issuecomment-777809969",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21727",
    "id": 777809969,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3NzgwOTk2OQ==",
    "user": {
      "login": "alex",
      "id": 772,
      "node_id": "MDQ6VXNlcjc3Mg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/772?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alex",
      "html_url": "https://github.com/alex",
      "followers_url": "https://api.github.com/users/alex/followers",
      "following_url": "https://api.github.com/users/alex/following{/other_user}",
      "gists_url": "https://api.github.com/users/alex/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alex/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alex/subscriptions",
      "organizations_url": "https://api.github.com/users/alex/orgs",
      "repos_url": "https://api.github.com/users/alex/repos",
      "events_url": "https://api.github.com/users/alex/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alex/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2021-02-11T21:40:14Z",
    "updated_at": "2021-02-11T21:40:14Z",
    "body": "Ok, so as a practical matter this appears to be blocked on https://github.com/rust-lang/cargo/issues/4881",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/777809969/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1031021123",
    "html_url": "https://github.com/rust-lang/rust/issues/21727#issuecomment-1031021123",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21727",
    "id": 1031021123,
    "node_id": "IC_kwDOAAsO6M49dCJD",
    "user": {
      "login": "awakecoding",
      "id": 295841,
      "node_id": "MDQ6VXNlcjI5NTg0MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/295841?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/awakecoding",
      "html_url": "https://github.com/awakecoding",
      "followers_url": "https://api.github.com/users/awakecoding/followers",
      "following_url": "https://api.github.com/users/awakecoding/following{/other_user}",
      "gists_url": "https://api.github.com/users/awakecoding/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/awakecoding/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/awakecoding/subscriptions",
      "organizations_url": "https://api.github.com/users/awakecoding/orgs",
      "repos_url": "https://api.github.com/users/awakecoding/repos",
      "events_url": "https://api.github.com/users/awakecoding/events{/privacy}",
      "received_events_url": "https://api.github.com/users/awakecoding/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2022-02-07T02:54:25Z",
    "updated_at": "2022-02-07T02:54:25Z",
    "body": "Any update on this? I would really like to stop using static libraries *only* for iOS in projects that use shared libraries on all other platforms",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1031021123/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1161821454",
    "html_url": "https://github.com/rust-lang/rust/issues/21727#issuecomment-1161821454",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21727",
    "id": 1161821454,
    "node_id": "IC_kwDOAAsO6M5FP_0O",
    "user": {
      "login": "TCROC",
      "id": 24307049,
      "node_id": "MDQ6VXNlcjI0MzA3MDQ5",
      "avatar_url": "https://avatars.githubusercontent.com/u/24307049?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TCROC",
      "html_url": "https://github.com/TCROC",
      "followers_url": "https://api.github.com/users/TCROC/followers",
      "following_url": "https://api.github.com/users/TCROC/following{/other_user}",
      "gists_url": "https://api.github.com/users/TCROC/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TCROC/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TCROC/subscriptions",
      "organizations_url": "https://api.github.com/users/TCROC/orgs",
      "repos_url": "https://api.github.com/users/TCROC/repos",
      "events_url": "https://api.github.com/users/TCROC/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TCROC/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2022-06-21T14:27:12Z",
    "updated_at": "2022-06-21T14:27:12Z",
    "body": "Any update on this issue?",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1161821454/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1183106275",
    "html_url": "https://github.com/rust-lang/rust/issues/21727#issuecomment-1183106275",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21727",
    "id": 1183106275,
    "node_id": "IC_kwDOAAsO6M5GhMTj",
    "user": {
      "login": "holzschu",
      "id": 8070736,
      "node_id": "MDQ6VXNlcjgwNzA3MzY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8070736?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holzschu",
      "html_url": "https://github.com/holzschu",
      "followers_url": "https://api.github.com/users/holzschu/followers",
      "following_url": "https://api.github.com/users/holzschu/following{/other_user}",
      "gists_url": "https://api.github.com/users/holzschu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holzschu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holzschu/subscriptions",
      "organizations_url": "https://api.github.com/users/holzschu/orgs",
      "repos_url": "https://api.github.com/users/holzschu/repos",
      "events_url": "https://api.github.com/users/holzschu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holzschu/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2022-07-13T11:30:57Z",
    "updated_at": "2022-07-13T11:30:57Z",
    "body": "As far as I can tell, this issue has been addressed with PR #95847 (closed without merging) and #88130 (closed without merging). To the best of my knowledge (based on reading issues and PR) it is still an unresolved issue.",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1183106275/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1216695412",
    "html_url": "https://github.com/rust-lang/rust/issues/21727#issuecomment-1216695412",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21727",
    "id": 1216695412,
    "node_id": "IC_kwDOAAsO6M5IhUx0",
    "user": {
      "login": "awakecoding",
      "id": 295841,
      "node_id": "MDQ6VXNlcjI5NTg0MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/295841?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/awakecoding",
      "html_url": "https://github.com/awakecoding",
      "followers_url": "https://api.github.com/users/awakecoding/followers",
      "following_url": "https://api.github.com/users/awakecoding/following{/other_user}",
      "gists_url": "https://api.github.com/users/awakecoding/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/awakecoding/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/awakecoding/subscriptions",
      "organizations_url": "https://api.github.com/users/awakecoding/orgs",
      "repos_url": "https://api.github.com/users/awakecoding/repos",
      "events_url": "https://api.github.com/users/awakecoding/events{/privacy}",
      "received_events_url": "https://api.github.com/users/awakecoding/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2022-08-16T14:13:15Z",
    "updated_at": "2022-08-16T14:13:15Z",
    "body": "> As far as I can tell, this issue has been addressed with PR #95847 (closed without merging) and #88130 (closed without merging). To the best of my knowledge (based on reading issues and PR) it is still an unresolved issue.\r\n\r\nI concur, the issue does appear to be fixed by PR #95847 (closed without merging) and #88130 (closed without merging) - now the real question is, how do we get this fixed upstream? I've never made my own custom, patched Rust distribution before, and that doesn't look like a very simple thing to do, and even if it was, that's the kind of work that would likely take days of trial and error until it all works perfectly and is integrated into our CI environment.\r\n\r\nI've been blocked on this for a while, we have a growing number of Rust libraries that we build for Windows, macOS, Linux, Android and iOS in nuget packages with C# wrappers on top. As you can understand, static linking for iOS is very annoying as it means special treatment for one platform, but also the inability to easily ship libraries in packages built separately without symbol conflicts. The static libraries also don't necessarily trim unused code paths, so they're really big.\r\n\r\n@dvc94ch what's the next move?",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1216695412/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1216701258",
    "html_url": "https://github.com/rust-lang/rust/issues/21727#issuecomment-1216701258",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21727",
    "id": 1216701258,
    "node_id": "IC_kwDOAAsO6M5IhWNK",
    "user": {
      "login": "TCROC",
      "id": 24307049,
      "node_id": "MDQ6VXNlcjI0MzA3MDQ5",
      "avatar_url": "https://avatars.githubusercontent.com/u/24307049?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TCROC",
      "html_url": "https://github.com/TCROC",
      "followers_url": "https://api.github.com/users/TCROC/followers",
      "following_url": "https://api.github.com/users/TCROC/following{/other_user}",
      "gists_url": "https://api.github.com/users/TCROC/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TCROC/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TCROC/subscriptions",
      "organizations_url": "https://api.github.com/users/TCROC/orgs",
      "repos_url": "https://api.github.com/users/TCROC/repos",
      "events_url": "https://api.github.com/users/TCROC/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TCROC/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2022-08-16T14:17:53Z",
    "updated_at": "2022-08-16T14:17:53Z",
    "body": "It would be great to get these fixes merged into the official Rust distro! :)",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1216701258/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1216702296",
    "html_url": "https://github.com/rust-lang/rust/issues/21727#issuecomment-1216702296",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21727",
    "id": 1216702296,
    "node_id": "IC_kwDOAAsO6M5IhWdY",
    "user": {
      "login": "messense",
      "id": 1556054,
      "node_id": "MDQ6VXNlcjE1NTYwNTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1556054?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/messense",
      "html_url": "https://github.com/messense",
      "followers_url": "https://api.github.com/users/messense/followers",
      "following_url": "https://api.github.com/users/messense/following{/other_user}",
      "gists_url": "https://api.github.com/users/messense/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/messense/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/messense/subscriptions",
      "organizations_url": "https://api.github.com/users/messense/orgs",
      "repos_url": "https://api.github.com/users/messense/repos",
      "events_url": "https://api.github.com/users/messense/events{/privacy}",
      "received_events_url": "https://api.github.com/users/messense/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2022-08-16T14:18:40Z",
    "updated_at": "2022-08-16T14:18:40Z",
    "body": "> what's the next move?\r\n\r\nSee https://github.com/rust-lang/rust/pull/95847#issuecomment-1099458356",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1216702296/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1216712582",
    "html_url": "https://github.com/rust-lang/rust/issues/21727#issuecomment-1216712582",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21727",
    "id": 1216712582,
    "node_id": "IC_kwDOAAsO6M5IhY-G",
    "user": {
      "login": "awakecoding",
      "id": 295841,
      "node_id": "MDQ6VXNlcjI5NTg0MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/295841?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/awakecoding",
      "html_url": "https://github.com/awakecoding",
      "followers_url": "https://api.github.com/users/awakecoding/followers",
      "following_url": "https://api.github.com/users/awakecoding/following{/other_user}",
      "gists_url": "https://api.github.com/users/awakecoding/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/awakecoding/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/awakecoding/subscriptions",
      "organizations_url": "https://api.github.com/users/awakecoding/orgs",
      "repos_url": "https://api.github.com/users/awakecoding/repos",
      "events_url": "https://api.github.com/users/awakecoding/events{/privacy}",
      "received_events_url": "https://api.github.com/users/awakecoding/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2022-08-16T14:26:16Z",
    "updated_at": "2022-08-16T14:26:16Z",
    "body": "What I see is an actual fix to the current issue for which a [Major Change Proposal](https://github.com/rust-lang/compiler-team/issues/new?assignees=&labels=major-change%2C+T-compiler&template=major_change.md&title=%28My+major+change+proposal%29) was requested, causing the author of the pull request to close it because of lack of time. I could probably re-open a new pull request with exactly the same fixes, but then I'd have to look into what that major change proposal process is, and if, like the name says, it's a major thing.\r\n\r\nIs it really necessary? I'm not a core Rust developer, but I am very blocked on this. All the options I see right now appear fairly time consuming for something that would allow building for a platform currently hard-blocked in the code with just two boolean values. Am I seeing this as bigger than it is?\r\n\r\n![image](https://user-images.githubusercontent.com/295841/184903208-084250f2-f046-4f8f-9873-866127c8f15d.png)\r\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1216712582/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1216722527",
    "html_url": "https://github.com/rust-lang/rust/issues/21727#issuecomment-1216722527",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21727",
    "id": 1216722527,
    "node_id": "IC_kwDOAAsO6M5IhbZf",
    "user": {
      "login": "messense",
      "id": 1556054,
      "node_id": "MDQ6VXNlcjE1NTYwNTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1556054?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/messense",
      "html_url": "https://github.com/messense",
      "followers_url": "https://api.github.com/users/messense/followers",
      "following_url": "https://api.github.com/users/messense/following{/other_user}",
      "gists_url": "https://api.github.com/users/messense/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/messense/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/messense/subscriptions",
      "organizations_url": "https://api.github.com/users/messense/orgs",
      "repos_url": "https://api.github.com/users/messense/repos",
      "events_url": "https://api.github.com/users/messense/events{/privacy}",
      "received_events_url": "https://api.github.com/users/messense/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2022-08-16T14:33:31Z",
    "updated_at": "2022-08-16T14:33:31Z",
    "body": "There was a quite lengthy discussion in https://github.com/rust-lang/rust/pull/77716 which might provide more context.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1216722527/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1258598083",
    "html_url": "https://github.com/rust-lang/rust/issues/21727#issuecomment-1258598083",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21727",
    "id": 1258598083,
    "node_id": "IC_kwDOAAsO6M5LBK7D",
    "user": {
      "login": "awakecoding",
      "id": 295841,
      "node_id": "MDQ6VXNlcjI5NTg0MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/295841?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/awakecoding",
      "html_url": "https://github.com/awakecoding",
      "followers_url": "https://api.github.com/users/awakecoding/followers",
      "following_url": "https://api.github.com/users/awakecoding/following{/other_user}",
      "gists_url": "https://api.github.com/users/awakecoding/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/awakecoding/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/awakecoding/subscriptions",
      "organizations_url": "https://api.github.com/users/awakecoding/orgs",
      "repos_url": "https://api.github.com/users/awakecoding/repos",
      "events_url": "https://api.github.com/users/awakecoding/events{/privacy}",
      "received_events_url": "https://api.github.com/users/awakecoding/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2022-09-26T20:30:32Z",
    "updated_at": "2022-09-26T20:30:32Z",
    "body": "For anybody else still hard-blocked on this, I have decided to bite the bullet and figure out how to roll my own Rust distribution and publish a prebuilt toolchain on GitHub Releases: https://github.com/awakecoding/llvm-prebuilt\r\n\r\nThe only patch required is to set \"dynamic_linking: true\" in compiler/rustc_target/src/spec/apple_sdk_base.rs:\r\n\r\n![image](https://user-images.githubusercontent.com/295841/192372842-a6629b2d-8285-4aba-b2b9-4a7f5131439b.png)\r\n\r\nMy current Rust 1.64 prebuilt distribution does not include all components, but it works just fine by manually installing the patched components + the official components for the matching Rust toolchain release. I didn't get a chance to get a proper distribution manifest published somewhere, so I've just scripted the downloading and installing of individual components in my GitHub Actions workflow: https://github.com/Devolutions/sspi-rs/blob/master/.github/workflows/nuget.yml\r\n\r\n```\r\n$RustupToolchains = Resolve-Path \"~/.rustup/toolchains\"\r\n$ToolchainPrefix = Join-Path $RustupToolchains \"prebuilt\"\r\nNew-Item -ItemType Directory -Path $ToolchainPrefix | Out-Null\r\n$DownloadPath = \"/tmp/rust-download\"\r\nNew-Item -ItemType Directory -Path $DownloadPath | Out-Null\r\nPush-Location\r\nSet-Location $DownloadPath\r\n@(\r\n  \"rustc-1.64.0-x86_64-apple-darwin.tar.xz\",\r\n  \"rustc-dev-1.64.0-x86_64-apple-darwin.tar.xz\",\r\n  \"rust-dev-1.64.0-x86_64-apple-darwin.tar.xz\",\r\n  \"rust-std-1.64.0-x86_64-apple-darwin.tar.xz\"\r\n) | % {\r\n  Write-Host \"Downloading $_\"\r\n  wget -q https://github.com/awakecoding/llvm-prebuilt/releases/download/v2022.2.0/$_\r\n}\r\n@(\r\n  \"rust-std-1.64.0-aarch64-apple-darwin.tar.xz\",\r\n  \"rust-std-1.64.0-x86_64-apple-ios.tar.xz\",\r\n  \"rust-std-1.64.0-aarch64-apple-ios.tar.xz\"\r\n) | % {\r\n  Write-Host \"Downloading $_\"\r\n  wget -q https://static.rust-lang.org/dist/2022-09-22/$_\r\n}\r\nGet-Item *.tar.xz | % {\r\n  $FileName = $_.Name\r\n  $DirName = $FileName -Replace \".tar.xz\",\"\"\r\n  Write-Host \"Extracting $FileName\"\r\n  tar -xf $_\r\n  & \"./${DirName}/install.sh\" \"--prefix=$ToolchainPrefix\"\r\n}\r\nPop-Location\r\nrustup default prebuilt\r\n```\r\n\r\nI can now finally build Rust shared libraries for iOS, after years waiting for an upstream fix. I hope this can help others stuck in the same situation. I'd be glad to help with a pull request, but I don't see how much work would be required beyond the patch I'm already doing on my own distribution. As I understood it, there's a potential for file conflicts when building multiple crate types at a time? I would rather have an open issue about fixing that as a known limitation, rather than an open issue to enable shared library building.",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1258598083/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1276979762",
    "html_url": "https://github.com/rust-lang/rust/issues/21727#issuecomment-1276979762",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21727",
    "id": 1276979762,
    "node_id": "IC_kwDOAAsO6M5MHSoy",
    "user": {
      "login": "georgemp",
      "id": 1289458,
      "node_id": "MDQ6VXNlcjEyODk0NTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1289458?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/georgemp",
      "html_url": "https://github.com/georgemp",
      "followers_url": "https://api.github.com/users/georgemp/followers",
      "following_url": "https://api.github.com/users/georgemp/following{/other_user}",
      "gists_url": "https://api.github.com/users/georgemp/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/georgemp/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/georgemp/subscriptions",
      "organizations_url": "https://api.github.com/users/georgemp/orgs",
      "repos_url": "https://api.github.com/users/georgemp/repos",
      "events_url": "https://api.github.com/users/georgemp/events{/privacy}",
      "received_events_url": "https://api.github.com/users/georgemp/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2022-10-13T03:30:42Z",
    "updated_at": "2022-10-13T03:30:42Z",
    "body": "As an alternative (if you don't mind using nightly rust), we can also specify a `custom-target-spec`. The current target spec for iOS can be printed out via `rustc +nightly -Z unstable-options --print target-spec-json --target aarch64-apple-ios`. To these specs, add the flag `dynamic-linking: true`. I have the following saved in file `aarch64-apple-ios-dynamic.json` \r\n\r\n```\r\n{\r\n  \"abi-return-struct-as-int\": true,\r\n  \"arch\": \"aarch64\",\r\n  \"archive-format\": \"darwin\",\r\n  \"bitcode-llvm-cmdline\": \"-triple\\u0000arm64-apple-ios11.0.0\\u0000-emit-obj\\u0000-disable-llvm-passes\\u0000-target-abi\\u0000darwinpcs\\u0000-Os\\u0000\",\r\n  \"cpu\": \"apple-a7\",\r\n  \"dynamic-linking\" : true,\r\n  \"data-layout\": \"e-m:o-i64:64-i128:128-n32:64-S128\",\r\n  \"dll-suffix\": \".dylib\",\r\n  \"dwarf-version\": 2,\r\n  \"eh-frame-header\": false,\r\n  \"emit-debug-gdb-scripts\": false,\r\n  \"executables\": true,\r\n  \"features\": \"+neon,+fp-armv8,+apple-a7\",\r\n  \"forces-embed-bitcode\": true,\r\n  \"frame-pointer\": \"non-leaf\",\r\n  \"function-sections\": false,\r\n  \"has-rpath\": true,\r\n  \"is-builtin\": false,\r\n  \"is-like-osx\": true,\r\n  \"link-env\": [\r\n    \"ZERO_AR_DATE=1\"\r\n  ],\r\n  \"link-env-remove\": [\r\n    \"MACOSX_DEPLOYMENT_TARGET\"\r\n  ],\r\n  \"linker-is-gnu\": false,\r\n  \"lld-flavor\": \"darwin\",\r\n  \"llvm-target\": \"arm64-apple-ios9.0\",\r\n  \"max-atomic-width\": 128,\r\n  \"os\": \"ios\",\r\n  \"split-debuginfo\": \"packed\",\r\n  \"target-family\": [\r\n    \"unix\"\r\n  ],\r\n  \"target-pointer-width\": \"64\",\r\n  \"vendor\": \"apple\"\r\n}\r\n```\r\nA dynamic target can then be built with \r\n`cargo +nightly build --release -Z build-std=core,std,alloc --target aarch64-apple-ios-dynamic.json` \r\n\r\nSimilar custom specs can be built for simulator (x86 and arm).",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1276979762/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1454310220",
    "html_url": "https://github.com/rust-lang/rust/issues/21727#issuecomment-1454310220",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21727",
    "id": 1454310220,
    "node_id": "IC_kwDOAAsO6M5WrwNM",
    "user": {
      "login": "workingjubilee",
      "id": 46493976,
      "node_id": "MDQ6VXNlcjQ2NDkzOTc2",
      "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/workingjubilee",
      "html_url": "https://github.com/workingjubilee",
      "followers_url": "https://api.github.com/users/workingjubilee/followers",
      "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}",
      "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions",
      "organizations_url": "https://api.github.com/users/workingjubilee/orgs",
      "repos_url": "https://api.github.com/users/workingjubilee/repos",
      "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}",
      "received_events_url": "https://api.github.com/users/workingjubilee/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2023-03-04T00:59:02Z",
    "updated_at": "2023-03-04T00:59:02Z",
    "body": "1.65 included this PR:\r\n- https://github.com/rust-lang/rust/pull/100636\r\n\r\nThis should now be supported. Assuming there are no other bugs of concern: Closing!",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1454310220/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
