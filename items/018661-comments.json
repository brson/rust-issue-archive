[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/61911629",
    "html_url": "https://github.com/rust-lang/rust/issues/18661#issuecomment-61911629",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18661",
    "id": 61911629,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxOTExNjI5",
    "user": {
      "login": "abonander",
      "id": 3198595,
      "node_id": "MDQ6VXNlcjMxOTg1OTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3198595?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/abonander",
      "html_url": "https://github.com/abonander",
      "followers_url": "https://api.github.com/users/abonander/followers",
      "following_url": "https://api.github.com/users/abonander/following{/other_user}",
      "gists_url": "https://api.github.com/users/abonander/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/abonander/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/abonander/subscriptions",
      "organizations_url": "https://api.github.com/users/abonander/orgs",
      "repos_url": "https://api.github.com/users/abonander/repos",
      "events_url": "https://api.github.com/users/abonander/events{/privacy}",
      "received_events_url": "https://api.github.com/users/abonander/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-06T01:06:45Z",
    "updated_at": "2014-11-06T01:07:12Z",
    "body": "`RUST_BACKTRACE=1` does not produce additional information for this error, likely because the assertion failure is in LLVM's C++ code.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/61911629/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/61923851",
    "html_url": "https://github.com/rust-lang/rust/issues/18661#issuecomment-61923851",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18661",
    "id": 61923851,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxOTIzODUx",
    "user": {
      "login": "bkoropoff",
      "id": 2101303,
      "node_id": "MDQ6VXNlcjIxMDEzMDM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2101303?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bkoropoff",
      "html_url": "https://github.com/bkoropoff",
      "followers_url": "https://api.github.com/users/bkoropoff/followers",
      "following_url": "https://api.github.com/users/bkoropoff/following{/other_user}",
      "gists_url": "https://api.github.com/users/bkoropoff/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bkoropoff/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bkoropoff/subscriptions",
      "organizations_url": "https://api.github.com/users/bkoropoff/orgs",
      "repos_url": "https://api.github.com/users/bkoropoff/repos",
      "events_url": "https://api.github.com/users/bkoropoff/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bkoropoff/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-06T03:52:29Z",
    "updated_at": "2014-11-06T03:52:29Z",
    "body": "Looks like a bug in my monomorphization PR, will take a look.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/61923851/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/61927477",
    "html_url": "https://github.com/rust-lang/rust/issues/18661#issuecomment-61927477",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18661",
    "id": 61927477,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxOTI3NDc3",
    "user": {
      "login": "bkoropoff",
      "id": 2101303,
      "node_id": "MDQ6VXNlcjIxMDEzMDM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2101303?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bkoropoff",
      "html_url": "https://github.com/bkoropoff",
      "followers_url": "https://api.github.com/users/bkoropoff/followers",
      "following_url": "https://api.github.com/users/bkoropoff/following{/other_user}",
      "gists_url": "https://api.github.com/users/bkoropoff/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bkoropoff/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bkoropoff/subscriptions",
      "organizations_url": "https://api.github.com/users/bkoropoff/orgs",
      "repos_url": "https://api.github.com/users/bkoropoff/repos",
      "events_url": "https://api.github.com/users/bkoropoff/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bkoropoff/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-06T04:54:08Z",
    "updated_at": "2014-11-06T04:54:08Z",
    "body": "It looks like the precise unboxed closure type is being dropped on the floor during trait selection and then recalculated from scratch during trans of the `Fn` method call, but using the wrong substitutions!  This is probably a hold-over from when the only information carried around by `ty_unboxed_closure` was the def ID, so no information was lost by doing this.  It looks like there are other places besides trait selection where this can happen.\n\nSince both `deep` and `deeper` have exactly one type parameter in the function space, the bogus substitution silently succeeds and causes problems later.  Making the spaces incompatible results in an ICE that makes it more clear what's going on:\n\n``` rust\n#![feature(unboxed_closures)]\n\npub fn deeper<F: Fn()>(c: F) {\n    c.call(());\n}\n\npub fn deep<A,C:Fn(uint)>(_c: C) {\n    deeper(|&:| {});\n}\n\nfn main() { \n    deep::<char,_>(|&: _:uint| {});\n}\n```\n\nOutput:\n\n```\ntest.rs:1:1: 1:1 error: internal compiler error: Type parameter `C/FnSpace.1` (C/FnSpace/1) out of range when substituting (root type='static |()|:'static) substs=Substs[types=[[];[];[];['static |()|:'static]], regions=erased]\ntest.rs:1 #![feature(unboxed_closures)]\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/61927477/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/61937021",
    "html_url": "https://github.com/rust-lang/rust/issues/18661#issuecomment-61937021",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18661",
    "id": 61937021,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxOTM3MDIx",
    "user": {
      "login": "bkoropoff",
      "id": 2101303,
      "node_id": "MDQ6VXNlcjIxMDEzMDM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2101303?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bkoropoff",
      "html_url": "https://github.com/bkoropoff",
      "followers_url": "https://api.github.com/users/bkoropoff/followers",
      "following_url": "https://api.github.com/users/bkoropoff/following{/other_user}",
      "gists_url": "https://api.github.com/users/bkoropoff/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bkoropoff/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bkoropoff/subscriptions",
      "organizations_url": "https://api.github.com/users/bkoropoff/orgs",
      "repos_url": "https://api.github.com/users/bkoropoff/repos",
      "events_url": "https://api.github.com/users/bkoropoff/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bkoropoff/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-06T07:29:18Z",
    "updated_at": "2014-11-06T07:29:18Z",
    "body": "This will need to be fixed in tandem with #18685.  I have a fix in progress that seems promising.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/61937021/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
