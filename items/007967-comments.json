[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/21390817",
    "html_url": "https://github.com/rust-lang/rust/pull/7967#issuecomment-21390817",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/7967",
    "id": 21390817,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxMzkwODE3",
    "user": {
      "login": "erickt",
      "id": 84711,
      "node_id": "MDQ6VXNlcjg0NzEx",
      "avatar_url": "https://avatars.githubusercontent.com/u/84711?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/erickt",
      "html_url": "https://github.com/erickt",
      "followers_url": "https://api.github.com/users/erickt/followers",
      "following_url": "https://api.github.com/users/erickt/following{/other_user}",
      "gists_url": "https://api.github.com/users/erickt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/erickt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/erickt/subscriptions",
      "organizations_url": "https://api.github.com/users/erickt/orgs",
      "repos_url": "https://api.github.com/users/erickt/repos",
      "events_url": "https://api.github.com/users/erickt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/erickt/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-07-23T03:15:09Z",
    "updated_at": "2013-07-23T03:15:09Z",
    "body": "Updated to be rebased on HEAD. This needs a snapshot made on commit a972633. Then the rest can be merged in.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/21390817/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/21435711",
    "html_url": "https://github.com/rust-lang/rust/pull/7967#issuecomment-21435711",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/7967",
    "id": 21435711,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxNDM1NzEx",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-07-23T18:31:43Z",
    "updated_at": "2013-07-23T18:31:43Z",
    "body": "This seems like something we will need to discuss at the meeting, as well!\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/21435711/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/21673249",
    "html_url": "https://github.com/rust-lang/rust/pull/7967#issuecomment-21673249",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/7967",
    "id": 21673249,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxNjczMjQ5",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-07-27T21:57:07Z",
    "updated_at": "2013-07-27T21:57:07Z",
    "body": "Agree we should discuss this.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/21673249/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/21730668",
    "html_url": "https://github.com/rust-lang/rust/pull/7967#issuecomment-21730668",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/7967",
    "id": 21730668,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxNzMwNjY4",
    "user": {
      "login": "erickt",
      "id": 84711,
      "node_id": "MDQ6VXNlcjg0NzEx",
      "avatar_url": "https://avatars.githubusercontent.com/u/84711?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/erickt",
      "html_url": "https://github.com/erickt",
      "followers_url": "https://api.github.com/users/erickt/followers",
      "following_url": "https://api.github.com/users/erickt/following{/other_user}",
      "gists_url": "https://api.github.com/users/erickt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/erickt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/erickt/subscriptions",
      "organizations_url": "https://api.github.com/users/erickt/orgs",
      "repos_url": "https://api.github.com/users/erickt/repos",
      "events_url": "https://api.github.com/users/erickt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/erickt/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-07-29T16:12:27Z",
    "updated_at": "2013-07-29T16:12:27Z",
    "body": "I've thought about this a bit more (see this [thread](https://mail.mozilla.org/pipermail/rust-dev/2013-July/004969.html) for details), and now I'm starting to think we can completely move unsafe pointers out of the compiler and into a library. If I understand things correctly, this code snippet should have the same semantics as my unsafe region pointers:\n\n```\nmod intrinsics {\n    extern {\n        fn get(&self) -> T;\n        fn set(&mut self, value: T);\n        fn memcpy<T>(dest: &mut RawPtr<T>, src: &RawPtr<T>, len: uint);\n        ...\n    }\n}\n\nstruct RawPtr<T>;\n\nimpl<T> RawPtr<T> {\n    unsafe fn get(&self) -> T { intrinsics::ptr_get(self) }\n    unsafe fn set(&mut self, value: T) { intrinsics::ptr_set(self, value) }\n    fn is_null(&self) -> bool {\n        unsafe {\n            let x: uint = cast::intrinsics(self);\n            x == 0\n        }\n    }\n    fn offset<'a>(&'a self, len: uint) -> &'a RawPtr<T> { ... }\n    ...\n}\n\nfn as_imm_ptr<'a, T>(v: &'a [T]) -> &'a RawPtr<T> {\n    let (ptr, _): (&'a RawPtr<T>, uint) = cast::transmute(v);\n    ptr\n}\n\nmod libc {\n    extern {\n        fn getenv(&RawPtr<libc::c_char>) -> &'static RawPtr<libc::c_char>;\n}\n\nfn getenv(s: &str) -> Option<~str> {\n    unsafe {\n        let charp = s.as_c_str(|ptr| libc::getenv(ptr));\n        if charp.is_null() {\n            None\n        } else {\n            str::from_c_str(charp)\n        }\n    }\n}\n\n...\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/21730668/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/22082010",
    "html_url": "https://github.com/rust-lang/rust/pull/7967#issuecomment-22082010",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/7967",
    "id": 22082010,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMDgyMDEw",
    "user": {
      "login": "erickt",
      "id": 84711,
      "node_id": "MDQ6VXNlcjg0NzEx",
      "avatar_url": "https://avatars.githubusercontent.com/u/84711?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/erickt",
      "html_url": "https://github.com/erickt",
      "followers_url": "https://api.github.com/users/erickt/followers",
      "following_url": "https://api.github.com/users/erickt/following{/other_user}",
      "gists_url": "https://api.github.com/users/erickt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/erickt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/erickt/subscriptions",
      "organizations_url": "https://api.github.com/users/erickt/orgs",
      "repos_url": "https://api.github.com/users/erickt/repos",
      "events_url": "https://api.github.com/users/erickt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/erickt/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-08-05T00:17:04Z",
    "updated_at": "2013-08-05T00:17:04Z",
    "body": "I had a long conversation with @graydon about this, and he's still not in favor of this proposal. My intention was to make the process of taking a rust structure and passing it to a C function safer, but he thought we'd be implying that the C function would respect our regions, but that's not necessarily the case. He went on further to say that #3511 should help address my concern of passing an interior pointer of a deleted temporary to a function.\n\n@nikomatsakis / @brson: have either of you formed an opinion about this? I'm tempted to close this PR, but before I do I'd like to hear if either of you feel it's worth pursuing this idea.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/22082010/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/22082476",
    "html_url": "https://github.com/rust-lang/rust/pull/7967#issuecomment-22082476",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/7967",
    "id": 22082476,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMDgyNDc2",
    "user": {
      "login": "thestinger",
      "id": 1505226,
      "node_id": "MDQ6VXNlcjE1MDUyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thestinger",
      "html_url": "https://github.com/thestinger",
      "followers_url": "https://api.github.com/users/thestinger/followers",
      "following_url": "https://api.github.com/users/thestinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions",
      "organizations_url": "https://api.github.com/users/thestinger/orgs",
      "repos_url": "https://api.github.com/users/thestinger/repos",
      "events_url": "https://api.github.com/users/thestinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thestinger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-08-05T00:47:00Z",
    "updated_at": "2013-08-05T00:47:00Z",
    "body": "@erickt: would #5922 be anything close to what you want?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/22082476/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/22800479",
    "html_url": "https://github.com/rust-lang/rust/pull/7967#issuecomment-22800479",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/7967",
    "id": 22800479,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyODAwNDc5",
    "user": {
      "login": "thestinger",
      "id": 1505226,
      "node_id": "MDQ6VXNlcjE1MDUyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thestinger",
      "html_url": "https://github.com/thestinger",
      "followers_url": "https://api.github.com/users/thestinger/followers",
      "following_url": "https://api.github.com/users/thestinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions",
      "organizations_url": "https://api.github.com/users/thestinger/orgs",
      "repos_url": "https://api.github.com/users/thestinger/repos",
      "events_url": "https://api.github.com/users/thestinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thestinger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-08-16T23:36:31Z",
    "updated_at": "2013-08-16T23:36:31Z",
    "body": "I'm going to close this for now, since it requires a rebase and there doesn't seem to be support for handling the issue this way.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/22800479/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
