[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62530327",
    "html_url": "https://github.com/rust-lang/rust/issues/18866#issuecomment-62530327",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18866",
    "id": 62530327,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyNTMwMzI3",
    "user": {
      "login": "brandonson",
      "id": 1870695,
      "node_id": "MDQ6VXNlcjE4NzA2OTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1870695?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brandonson",
      "html_url": "https://github.com/brandonson",
      "followers_url": "https://api.github.com/users/brandonson/followers",
      "following_url": "https://api.github.com/users/brandonson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brandonson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brandonson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brandonson/subscriptions",
      "organizations_url": "https://api.github.com/users/brandonson/orgs",
      "repos_url": "https://api.github.com/users/brandonson/repos",
      "events_url": "https://api.github.com/users/brandonson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brandonson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-11T10:44:29Z",
    "updated_at": "2014-11-11T10:44:29Z",
    "body": "I'm poking around at this, since something that seems the same bit me a bit earlier today as well.  Not particularly familiar with internal compiler code though, so any tips are appreciated.\n\nIf I'm reading this right, the example should have failed during typeck (passing an &mut Box<Reader +'static> to bar where it should be an &mut Reader), so I'll start somewhere there.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62530327/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69580597",
    "html_url": "https://github.com/rust-lang/rust/issues/18866#issuecomment-69580597",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18866",
    "id": 69580597,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5NTgwNTk3",
    "user": {
      "login": "erickt",
      "id": 84711,
      "node_id": "MDQ6VXNlcjg0NzEx",
      "avatar_url": "https://avatars.githubusercontent.com/u/84711?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/erickt",
      "html_url": "https://github.com/erickt",
      "followers_url": "https://api.github.com/users/erickt/followers",
      "following_url": "https://api.github.com/users/erickt/following{/other_user}",
      "gists_url": "https://api.github.com/users/erickt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/erickt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/erickt/subscriptions",
      "organizations_url": "https://api.github.com/users/erickt/orgs",
      "repos_url": "https://api.github.com/users/erickt/repos",
      "events_url": "https://api.github.com/users/erickt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/erickt/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-12T14:52:32Z",
    "updated_at": "2015-01-12T14:52:32Z",
    "body": "This does not ICE on OSX:\n\n``` rust\nuse std::io::Reader;\n\npub struct Foo {\n    pub reader: Box<Reader +'static>\n}\n\npub fn bar(reader: &mut Reader) {\n}\n\npub fn new_Foo (reader: Box<Reader +'static>) -> Foo {\n    let mut foo = Foo {\n        reader: reader\n    };\n    bar(&mut foo.reader);\n    foo\n}\n\nfn main() {}\n```\n\nproduces:\n\n```\nbad2.rs:7:12: 7:18 warning: unused variable: `reader`, #[warn(unused_variables)] on by default\nbad2.rs:7 pub fn bar(reader: &mut Reader) {\n                     ^~~~~~\nbad2.rs:10:1: 16:2 warning: function `new_Foo` should have a snake case name such as `new_foo`, #[warn(non_snake_case)] on by default\nbad2.rs:10 pub fn new_Foo (reader: Box<Reader +'static>) -> Foo {\nbad2.rs:11     let mut foo = Foo {\nbad2.rs:12         reader: reader\nbad2.rs:13     };\nbad2.rs:14     bar(&mut foo.reader);\nbad2.rs:15     foo\n           ...\n```\n\nCould someone check if it still ICEs on Windows? If not, nominating this to be closed.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69580597/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/87484668",
    "html_url": "https://github.com/rust-lang/rust/issues/18866#issuecomment-87484668",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18866",
    "id": 87484668,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3NDg0NjY4",
    "user": {
      "login": "JustAPerson",
      "id": 789308,
      "node_id": "MDQ6VXNlcjc4OTMwOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/789308?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JustAPerson",
      "html_url": "https://github.com/JustAPerson",
      "followers_url": "https://api.github.com/users/JustAPerson/followers",
      "following_url": "https://api.github.com/users/JustAPerson/following{/other_user}",
      "gists_url": "https://api.github.com/users/JustAPerson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JustAPerson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JustAPerson/subscriptions",
      "organizations_url": "https://api.github.com/users/JustAPerson/orgs",
      "repos_url": "https://api.github.com/users/JustAPerson/repos",
      "events_url": "https://api.github.com/users/JustAPerson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JustAPerson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-29T21:32:41Z",
    "updated_at": "2015-03-29T21:32:41Z",
    "body": "**tl;dr**: _this bug appears to be fixed_.\nUpdated for current Rust (on playpen as of today, 29 March 2015):\n\n[@sivadeilra's example](https://github.com/rust-lang/rust/issues/18866#issue-48343696) _compiles fine_:\n\n``` rust\nuse std::io::Read;\n\npub struct Foo {\n    pub reader: Box<Read +'static>\n}\n\npub fn bar(reader: &mut Read) {\n}\n\npub fn new_Foo (reader: Box<Read +'static>) -> Foo {\n    let mut foo = Foo {\n        reader: reader\n    };\n    bar(&mut foo.reader);\n    foo\n}\n\nfn main() {}\n```\n\n@brandonson's concern is invalid. Box<T> implements Read where T: Read, so this code should pass type checking.\n\n@erickt although I wouldn't expect any issues on windows in particular, since this a bug in libsyntax, I went ahead and tested it on Window 8.1 x64 using today's nightly. Again, it compiles fine.\n\n```\nrustc 1.0.0-nightly (c89de2c56 2015-03-28) (built 2015-03-29)\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/87484668/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/87538464",
    "html_url": "https://github.com/rust-lang/rust/issues/18866#issuecomment-87538464",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18866",
    "id": 87538464,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3NTM4NDY0",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-30T04:30:50Z",
    "updated_at": "2015-03-30T04:30:50Z",
    "body": "Yay!\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/87538464/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
