[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49621390",
    "html_url": "https://github.com/rust-lang/rust/pull/15859#issuecomment-49621390",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15859",
    "id": 49621390,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NjIxMzkw",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-21T15:32:52Z",
    "updated_at": "2014-07-21T15:32:52Z",
    "body": "When moving `CString` from libstd to librustrt, I purposely didn't move it to libcollections because it's more of a C-compatibility layer than a collection itself (in my opinion). \n\nThe `CString` API also explicitly has a dependency on libc for allocation/deallocation, which libcollections currently does not have and I would like to keep it that way because collections should not require a C runtime.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49621390/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49624117",
    "html_url": "https://github.com/rust-lang/rust/pull/15859#issuecomment-49624117",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15859",
    "id": 49624117,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NjI0MTE3",
    "user": {
      "login": "aochagavia",
      "id": 5196584,
      "node_id": "MDQ6VXNlcjUxOTY1ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5196584?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aochagavia",
      "html_url": "https://github.com/aochagavia",
      "followers_url": "https://api.github.com/users/aochagavia/followers",
      "following_url": "https://api.github.com/users/aochagavia/following{/other_user}",
      "gists_url": "https://api.github.com/users/aochagavia/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aochagavia/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aochagavia/subscriptions",
      "organizations_url": "https://api.github.com/users/aochagavia/orgs",
      "repos_url": "https://api.github.com/users/aochagavia/repos",
      "events_url": "https://api.github.com/users/aochagavia/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aochagavia/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-21T15:51:35Z",
    "updated_at": "2014-07-21T15:51:35Z",
    "body": "It makes sense that `CString` isn't really a collection. However, I don't think it belongs to librustrt either.\n\nI guess the dependency of libcollections on `libc` is the biggest problem regarding this change. I don't see a clear solution for this.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49624117/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49624309",
    "html_url": "https://github.com/rust-lang/rust/pull/15859#issuecomment-49624309",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15859",
    "id": 49624309,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NjI0MzA5",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-21T15:52:49Z",
    "updated_at": "2014-07-21T15:52:49Z",
    "body": "> I don't see a clear solution for this.\n\nSadly that's why I just settled to put this in librustrt for now.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49624309/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49624547",
    "html_url": "https://github.com/rust-lang/rust/pull/15859#issuecomment-49624547",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15859",
    "id": 49624547,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NjI0NTQ3",
    "user": {
      "login": "aochagavia",
      "id": 5196584,
      "node_id": "MDQ6VXNlcjUxOTY1ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5196584?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aochagavia",
      "html_url": "https://github.com/aochagavia",
      "followers_url": "https://api.github.com/users/aochagavia/followers",
      "following_url": "https://api.github.com/users/aochagavia/following{/other_user}",
      "gists_url": "https://api.github.com/users/aochagavia/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aochagavia/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aochagavia/subscriptions",
      "organizations_url": "https://api.github.com/users/aochagavia/orgs",
      "repos_url": "https://api.github.com/users/aochagavia/repos",
      "events_url": "https://api.github.com/users/aochagavia/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aochagavia/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-21T15:54:35Z",
    "updated_at": "2014-07-21T15:54:35Z",
    "body": "I guess I will just remove the first commit and go with the last two\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49624547/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49627191",
    "html_url": "https://github.com/rust-lang/rust/pull/15859#issuecomment-49627191",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15859",
    "id": 49627191,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NjI3MTkx",
    "user": {
      "login": "aochagavia",
      "id": 5196584,
      "node_id": "MDQ6VXNlcjUxOTY1ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5196584?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aochagavia",
      "html_url": "https://github.com/aochagavia",
      "followers_url": "https://api.github.com/users/aochagavia/followers",
      "following_url": "https://api.github.com/users/aochagavia/following{/other_user}",
      "gists_url": "https://api.github.com/users/aochagavia/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aochagavia/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aochagavia/subscriptions",
      "organizations_url": "https://api.github.com/users/aochagavia/orgs",
      "repos_url": "https://api.github.com/users/aochagavia/repos",
      "events_url": "https://api.github.com/users/aochagavia/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aochagavia/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-21T16:12:50Z",
    "updated_at": "2014-07-21T16:12:50Z",
    "body": "Done. Thanks for reviewing!\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49627191/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49643529",
    "html_url": "https://github.com/rust-lang/rust/pull/15859#issuecomment-49643529",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15859",
    "id": 49643529,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NjQzNTI5",
    "user": {
      "login": "aochagavia",
      "id": 5196584,
      "node_id": "MDQ6VXNlcjUxOTY1ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5196584?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aochagavia",
      "html_url": "https://github.com/aochagavia",
      "followers_url": "https://api.github.com/users/aochagavia/followers",
      "following_url": "https://api.github.com/users/aochagavia/following{/other_user}",
      "gists_url": "https://api.github.com/users/aochagavia/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aochagavia/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aochagavia/subscriptions",
      "organizations_url": "https://api.github.com/users/aochagavia/orgs",
      "repos_url": "https://api.github.com/users/aochagavia/repos",
      "events_url": "https://api.github.com/users/aochagavia/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aochagavia/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-21T18:14:28Z",
    "updated_at": "2014-07-21T18:14:28Z",
    "body": "Maybe this is bikeshedding, but... Have you considered moving `CString` to libc? I know the library contains bindings to types, constants and functions, but maybe we could add a fourth module called `wrappers` or such, where we can put `CString` (and eventually other types that may arise in the future).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49643529/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49688917",
    "html_url": "https://github.com/rust-lang/rust/pull/15859#issuecomment-49688917",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15859",
    "id": 49688917,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5Njg4OTE3",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-22T01:46:49Z",
    "updated_at": "2014-07-22T01:46:49Z",
    "body": "I considered that, but currently `libc` is purely just wrappers and I wasn't ready to jump the gun and push actual types into the crate. The module structure also didn't lend itself that well to the inclusion of official library types.\n\nWe don't currently have much precedent for `Show` on fallible-ish implementations, ala Path/RefCell. The rationale in the past has been that `.to_string()` is quite alluring. That being said, `#[deriving(Show)]` is a real pain if types don't implement `Show`.\n\nI am personally in favor of implement `Show` as you have, but I believe that we may want to consider a more pervasive guideline for types such as this where technically `Show` can fail. cc @aturon on this topic\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49688917/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49751579",
    "html_url": "https://github.com/rust-lang/rust/pull/15859#issuecomment-49751579",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15859",
    "id": 49751579,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NzUxNTc5",
    "user": {
      "login": "aochagavia",
      "id": 5196584,
      "node_id": "MDQ6VXNlcjUxOTY1ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5196584?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aochagavia",
      "html_url": "https://github.com/aochagavia",
      "followers_url": "https://api.github.com/users/aochagavia/followers",
      "following_url": "https://api.github.com/users/aochagavia/following{/other_user}",
      "gists_url": "https://api.github.com/users/aochagavia/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aochagavia/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aochagavia/subscriptions",
      "organizations_url": "https://api.github.com/users/aochagavia/orgs",
      "repos_url": "https://api.github.com/users/aochagavia/repos",
      "events_url": "https://api.github.com/users/aochagavia/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aochagavia/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-22T15:05:25Z",
    "updated_at": "2014-07-22T15:05:25Z",
    "body": "Just for clarity, `fmt` will fail if the buffer is the null pointer. This also happens in the current implementation of the `Collection` trait (see the `len` function for more details).\n\nAdditionaly, we have of course undefined behavior in case the buffer points to invalid memory and such. However, that should cause problems all over the place so I don't think it is something we have to deal with.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49751579/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49755737",
    "html_url": "https://github.com/rust-lang/rust/pull/15859#issuecomment-49755737",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15859",
    "id": 49755737,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NzU1NzM3",
    "user": {
      "login": "aturon",
      "id": 709807,
      "node_id": "MDQ6VXNlcjcwOTgwNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/709807?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aturon",
      "html_url": "https://github.com/aturon",
      "followers_url": "https://api.github.com/users/aturon/followers",
      "following_url": "https://api.github.com/users/aturon/following{/other_user}",
      "gists_url": "https://api.github.com/users/aturon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aturon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aturon/subscriptions",
      "organizations_url": "https://api.github.com/users/aturon/orgs",
      "repos_url": "https://api.github.com/users/aturon/repos",
      "events_url": "https://api.github.com/users/aturon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aturon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-22T15:34:27Z",
    "updated_at": "2014-07-22T15:34:27Z",
    "body": "I think I'm OK with a failing `Show` here, because the only way to create a `c_str` is via an `unsafe` interface.\n\nThat said, I think we should probably revisit the `c_str` module as a whole. (For starters: it should probably be `c_string`.) It's a bit odd to me that `new` allows you to use a null pointer, but all the methods fail on null. Why not just have `new` fail on null, and avoid the checks/failing everywhere else? That would also take care of the issue with `Show`.\n\n@alexcrichton Do you know of a rationale for the current design?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49755737/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49760617",
    "html_url": "https://github.com/rust-lang/rust/pull/15859#issuecomment-49760617",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15859",
    "id": 49760617,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NzYwNjE3",
    "user": {
      "login": "aochagavia",
      "id": 5196584,
      "node_id": "MDQ6VXNlcjUxOTY1ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5196584?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aochagavia",
      "html_url": "https://github.com/aochagavia",
      "followers_url": "https://api.github.com/users/aochagavia/followers",
      "following_url": "https://api.github.com/users/aochagavia/following{/other_user}",
      "gists_url": "https://api.github.com/users/aochagavia/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aochagavia/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aochagavia/subscriptions",
      "organizations_url": "https://api.github.com/users/aochagavia/orgs",
      "repos_url": "https://api.github.com/users/aochagavia/repos",
      "events_url": "https://api.github.com/users/aochagavia/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aochagavia/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-22T16:07:35Z",
    "updated_at": "2014-07-22T16:07:35Z",
    "body": "Currently, there is one place in the codebase where a new `CString` is made passing a null pointer. See `libnative/io/addrinfo.rs` on lines 30 and 31. It could be easily refactored.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49760617/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49760786",
    "html_url": "https://github.com/rust-lang/rust/pull/15859#issuecomment-49760786",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15859",
    "id": 49760786,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NzYwNzg2",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-22T16:08:52Z",
    "updated_at": "2014-07-22T16:08:52Z",
    "body": "Sadly I don't know too, too much about the current design. All of your suggestions sound like a good direction to go in, however.\n\nI was more concerned about the non-utf8 contents of `CString` and how `from_utf8_lossy` may yield surprising results from time to time. That being said, implementing `Show` for types is so crucial that I believe it's necessary to implement `Show` for `CString` regardless of whether its contents are utf8 or not. I then also think that `format!(\"{}\", foo)` is so crucial to succeed, that there's no other choice than to implement it with `from_utf8_lossy`.\n\nI suppose I am proposing this convention:\n\n> All types should implement `Show`. The `Show` implementation should strive to never `fail!()` and always produce valid utf-8 encoded contents.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49760786/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49761774",
    "html_url": "https://github.com/rust-lang/rust/pull/15859#issuecomment-49761774",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15859",
    "id": 49761774,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NzYxNzc0",
    "user": {
      "login": "aturon",
      "id": 709807,
      "node_id": "MDQ6VXNlcjcwOTgwNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/709807?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aturon",
      "html_url": "https://github.com/aturon",
      "followers_url": "https://api.github.com/users/aturon/followers",
      "following_url": "https://api.github.com/users/aturon/following{/other_user}",
      "gists_url": "https://api.github.com/users/aturon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aturon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aturon/subscriptions",
      "organizations_url": "https://api.github.com/users/aturon/orgs",
      "repos_url": "https://api.github.com/users/aturon/repos",
      "events_url": "https://api.github.com/users/aturon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aturon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-22T16:15:43Z",
    "updated_at": "2014-07-22T16:15:43Z",
    "body": "@alexcrichton I think that's a useful convention; we should also then emphasize that `Show` is for _debugging_, while `Encodable` is used for (round-trippable) serialization.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49761774/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49763611",
    "html_url": "https://github.com/rust-lang/rust/pull/15859#issuecomment-49763611",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15859",
    "id": 49763611,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NzYzNjEx",
    "user": {
      "login": "aochagavia",
      "id": 5196584,
      "node_id": "MDQ6VXNlcjUxOTY1ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5196584?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aochagavia",
      "html_url": "https://github.com/aochagavia",
      "followers_url": "https://api.github.com/users/aochagavia/followers",
      "following_url": "https://api.github.com/users/aochagavia/following{/other_user}",
      "gists_url": "https://api.github.com/users/aochagavia/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aochagavia/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aochagavia/subscriptions",
      "organizations_url": "https://api.github.com/users/aochagavia/orgs",
      "repos_url": "https://api.github.com/users/aochagavia/repos",
      "events_url": "https://api.github.com/users/aochagavia/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aochagavia/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-22T16:29:09Z",
    "updated_at": "2014-07-22T16:29:09Z",
    "body": "@aturon I have added a check for null at `CString::new` and removed the rest of them.\n\nI guess we can also deprecate the `is_null` and `is_not_null` methods. If somebody really needs them, it is still possible to call `.as_ptr().is_null()`.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49763611/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49764150",
    "html_url": "https://github.com/rust-lang/rust/pull/15859#issuecomment-49764150",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15859",
    "id": 49764150,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NzY0MTUw",
    "user": {
      "login": "aturon",
      "id": 709807,
      "node_id": "MDQ6VXNlcjcwOTgwNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/709807?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aturon",
      "html_url": "https://github.com/aturon",
      "followers_url": "https://api.github.com/users/aturon/followers",
      "following_url": "https://api.github.com/users/aturon/following{/other_user}",
      "gists_url": "https://api.github.com/users/aturon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aturon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aturon/subscriptions",
      "organizations_url": "https://api.github.com/users/aturon/orgs",
      "repos_url": "https://api.github.com/users/aturon/repos",
      "events_url": "https://api.github.com/users/aturon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aturon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-22T16:32:53Z",
    "updated_at": "2014-07-22T16:32:53Z",
    "body": "@aochagavia Can you also update the doc comments to reflect this change? The `new` method should have a `# Failure` section, and the `# Failure` section for the other methods should be removed.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49764150/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49769373",
    "html_url": "https://github.com/rust-lang/rust/pull/15859#issuecomment-49769373",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15859",
    "id": 49769373,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NzY5Mzcz",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-22T17:10:42Z",
    "updated_at": "2014-07-22T17:10:42Z",
    "body": "The commits will also need a `[breaking-change]` annotation as well, along with an explanation about why it is a breaking change and how to migrate.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49769373/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49775775",
    "html_url": "https://github.com/rust-lang/rust/pull/15859#issuecomment-49775775",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15859",
    "id": 49775775,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5Nzc1Nzc1",
    "user": {
      "login": "aochagavia",
      "id": 5196584,
      "node_id": "MDQ6VXNlcjUxOTY1ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5196584?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aochagavia",
      "html_url": "https://github.com/aochagavia",
      "followers_url": "https://api.github.com/users/aochagavia/followers",
      "following_url": "https://api.github.com/users/aochagavia/following{/other_user}",
      "gists_url": "https://api.github.com/users/aochagavia/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aochagavia/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aochagavia/subscriptions",
      "organizations_url": "https://api.github.com/users/aochagavia/orgs",
      "repos_url": "https://api.github.com/users/aochagavia/repos",
      "events_url": "https://api.github.com/users/aochagavia/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aochagavia/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-22T17:54:08Z",
    "updated_at": "2014-07-22T17:57:23Z",
    "body": "I have included your suggestions. Should I also include `[breaking-change]` in the PR message?\n\nI still have a question: why does `libc`use `i8` to represent `c_char`? I thought `u8` was the obvious choice here...\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49775775/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49808482",
    "html_url": "https://github.com/rust-lang/rust/pull/15859#issuecomment-49808482",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15859",
    "id": 49808482,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5ODA4NDgy",
    "user": {
      "login": "aturon",
      "id": 709807,
      "node_id": "MDQ6VXNlcjcwOTgwNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/709807?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aturon",
      "html_url": "https://github.com/aturon",
      "followers_url": "https://api.github.com/users/aturon/followers",
      "following_url": "https://api.github.com/users/aturon/following{/other_user}",
      "gists_url": "https://api.github.com/users/aturon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aturon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aturon/subscriptions",
      "organizations_url": "https://api.github.com/users/aturon/orgs",
      "repos_url": "https://api.github.com/users/aturon/repos",
      "events_url": "https://api.github.com/users/aturon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aturon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-22T22:10:57Z",
    "updated_at": "2014-07-22T22:10:57Z",
    "body": "@aochagavia It doesn't matter whether `[breaking-change]` is in the PR, just the commit (because the latter is searchable via `git log | grep`).\n\nAs to `c_char`, the standard does not specify signed/unsigned. See [this thread](http://stackoverflow.com/questions/2054939/is-char-signed-or-unsigned-by-default) for example. GCC and MSVC `char`s are signed.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49808482/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49844037",
    "html_url": "https://github.com/rust-lang/rust/pull/15859#issuecomment-49844037",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15859",
    "id": 49844037,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5ODQ0MDM3",
    "user": {
      "login": "aochagavia",
      "id": 5196584,
      "node_id": "MDQ6VXNlcjUxOTY1ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5196584?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aochagavia",
      "html_url": "https://github.com/aochagavia",
      "followers_url": "https://api.github.com/users/aochagavia/followers",
      "following_url": "https://api.github.com/users/aochagavia/following{/other_user}",
      "gists_url": "https://api.github.com/users/aochagavia/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aochagavia/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aochagavia/subscriptions",
      "organizations_url": "https://api.github.com/users/aochagavia/orgs",
      "repos_url": "https://api.github.com/users/aochagavia/repos",
      "events_url": "https://api.github.com/users/aochagavia/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aochagavia/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-23T08:02:47Z",
    "updated_at": "2014-07-23T08:02:47Z",
    "body": "Thanks for the link to stackoverflow!\n\nThe Travis build timed out, but everything should be ok.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49844037/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49877031",
    "html_url": "https://github.com/rust-lang/rust/pull/15859#issuecomment-49877031",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15859",
    "id": 49877031,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5ODc3MDMx",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-23T13:59:28Z",
    "updated_at": "2014-07-23T13:59:28Z",
    "body": "The last commit seems to have deleted the `Show` impl for `CString`, was that intentional?\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49877031/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49920787",
    "html_url": "https://github.com/rust-lang/rust/pull/15859#issuecomment-49920787",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15859",
    "id": 49920787,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5OTIwNzg3",
    "user": {
      "login": "aochagavia",
      "id": 5196584,
      "node_id": "MDQ6VXNlcjUxOTY1ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5196584?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aochagavia",
      "html_url": "https://github.com/aochagavia",
      "followers_url": "https://api.github.com/users/aochagavia/followers",
      "following_url": "https://api.github.com/users/aochagavia/following{/other_user}",
      "gists_url": "https://api.github.com/users/aochagavia/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aochagavia/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aochagavia/subscriptions",
      "organizations_url": "https://api.github.com/users/aochagavia/orgs",
      "repos_url": "https://api.github.com/users/aochagavia/repos",
      "events_url": "https://api.github.com/users/aochagavia/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aochagavia/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-23T19:12:21Z",
    "updated_at": "2014-07-23T19:12:21Z",
    "body": "That's pretty weird... I have fixed it now. Thanks!\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49920787/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49986496",
    "html_url": "https://github.com/rust-lang/rust/pull/15859#issuecomment-49986496",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15859",
    "id": 49986496,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5OTg2NDk2",
    "user": {
      "login": "aochagavia",
      "id": 5196584,
      "node_id": "MDQ6VXNlcjUxOTY1ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5196584?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aochagavia",
      "html_url": "https://github.com/aochagavia",
      "followers_url": "https://api.github.com/users/aochagavia/followers",
      "following_url": "https://api.github.com/users/aochagavia/following{/other_user}",
      "gists_url": "https://api.github.com/users/aochagavia/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aochagavia/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aochagavia/subscriptions",
      "organizations_url": "https://api.github.com/users/aochagavia/orgs",
      "repos_url": "https://api.github.com/users/aochagavia/repos",
      "events_url": "https://api.github.com/users/aochagavia/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aochagavia/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-24T09:31:04Z",
    "updated_at": "2014-07-24T09:31:04Z",
    "body": "This should be ok now\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49986496/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
