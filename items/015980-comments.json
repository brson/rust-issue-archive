[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/71289345",
    "html_url": "https://github.com/rust-lang/rust/issues/15980#issuecomment-71289345",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15980",
    "id": 71289345,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxMjg5MzQ1",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-24T00:22:33Z",
    "updated_at": "2015-01-24T00:22:33Z",
    "body": "This error message is the same today. How awkward.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/71289345/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/92973309",
    "html_url": "https://github.com/rust-lang/rust/issues/15980#issuecomment-92973309",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15980",
    "id": 92973309,
    "node_id": "MDEyOklzc3VlQ29tbWVudDkyOTczMzA5",
    "user": {
      "login": "bombless",
      "id": 1296393,
      "node_id": "MDQ6VXNlcjEyOTYzOTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1296393?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bombless",
      "html_url": "https://github.com/bombless",
      "followers_url": "https://api.github.com/users/bombless/followers",
      "following_url": "https://api.github.com/users/bombless/following{/other_user}",
      "gists_url": "https://api.github.com/users/bombless/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bombless/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bombless/subscriptions",
      "organizations_url": "https://api.github.com/users/bombless/orgs",
      "repos_url": "https://api.github.com/users/bombless/repos",
      "events_url": "https://api.github.com/users/bombless/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bombless/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-14T16:47:23Z",
    "updated_at": "2015-04-14T16:47:23Z",
    "body": "I guess we can summary a pattern here (missing `=>` between pattern and block) to the parsing rule that allow us to add something similar as `check_no_chained_comparison`.\n\nI suspect another valid approach would be, don't mention the ident thing, just focus on the fact that a value is needed here (a struct literal, in fact), so we can just say \"invalid struct literal, unexpected `return` here\" or even simpler, \"`return` not allowed inside pattern matching\". At least this will warn the user that the `return` is not really inside a block.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/92973309/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/222519149",
    "html_url": "https://github.com/rust-lang/rust/issues/15980#issuecomment-222519149",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15980",
    "id": 222519149,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMjUxOTE0OQ==",
    "user": {
      "login": "gchp",
      "id": 1315394,
      "node_id": "MDQ6VXNlcjEzMTUzOTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1315394?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gchp",
      "html_url": "https://github.com/gchp",
      "followers_url": "https://api.github.com/users/gchp/followers",
      "following_url": "https://api.github.com/users/gchp/following{/other_user}",
      "gists_url": "https://api.github.com/users/gchp/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gchp/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gchp/subscriptions",
      "organizations_url": "https://api.github.com/users/gchp/orgs",
      "repos_url": "https://api.github.com/users/gchp/repos",
      "events_url": "https://api.github.com/users/gchp/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gchp/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-05-30T15:52:58Z",
    "updated_at": "2016-05-30T15:52:58Z",
    "body": "On `1.10.0-nightly` this gives:\n\n```\ntest.rs:5:30: 5:31 error: expected one of `.`, `=>`, `?`, or an operator, found `{`\ntest.rs:5         Err(ref e) if 1 == 2 {\n                                       ^\nerror: aborting due to previous error\n```\n\nThis seems accurate enough to me, the compiler is pointing out where it is expecting to find the `=>`, and mentioning it in the error message. Do we need something more specific than this?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/222519149/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/222555171",
    "html_url": "https://github.com/rust-lang/rust/issues/15980#issuecomment-222555171",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15980",
    "id": 222555171,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMjU1NTE3MQ==",
    "user": {
      "login": "dhardy",
      "id": 134893,
      "node_id": "MDQ6VXNlcjEzNDg5Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/134893?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dhardy",
      "html_url": "https://github.com/dhardy",
      "followers_url": "https://api.github.com/users/dhardy/followers",
      "following_url": "https://api.github.com/users/dhardy/following{/other_user}",
      "gists_url": "https://api.github.com/users/dhardy/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dhardy/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dhardy/subscriptions",
      "organizations_url": "https://api.github.com/users/dhardy/orgs",
      "repos_url": "https://api.github.com/users/dhardy/repos",
      "events_url": "https://api.github.com/users/dhardy/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dhardy/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-05-30T21:12:51Z",
    "updated_at": "2016-05-30T21:12:51Z",
    "body": "[The error I see is still pretty misleading](https://is.gd/40I4QJ)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/222555171/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 1,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/331291471",
    "html_url": "https://github.com/rust-lang/rust/issues/15980#issuecomment-331291471",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15980",
    "id": 331291471,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMTI5MTQ3MQ==",
    "user": {
      "login": "estebank",
      "id": 1606434,
      "node_id": "MDQ6VXNlcjE2MDY0MzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/estebank",
      "html_url": "https://github.com/estebank",
      "followers_url": "https://api.github.com/users/estebank/followers",
      "following_url": "https://api.github.com/users/estebank/following{/other_user}",
      "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/estebank/subscriptions",
      "organizations_url": "https://api.github.com/users/estebank/orgs",
      "repos_url": "https://api.github.com/users/estebank/repos",
      "events_url": "https://api.github.com/users/estebank/events{/privacy}",
      "received_events_url": "https://api.github.com/users/estebank/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-09-21T21:48:23Z",
    "updated_at": "2017-09-21T21:48:23Z",
    "body": "Current output:\r\n\r\n```\r\nerror: expected identifier, found keyword `return`\r\n --> src/main.rs:7:13\r\n  |\r\n7 |             return\r\n  |             ^^^^^^\r\n```\r\n\r\n---\r\n\r\n[`parse_pat`] can [parse a struct and recover from an error](https://github.com/rust-lang/rust/blob/1b55d19479eabcb5d6cbda651187c7004aa28f7f/src/libsyntax/parse/parser.rs#L3560-L3573). It should attach a secondary label pointing at the start of the struct constructor being parsed (I believe it should be `lo.to(self.prev_span)`) with a label along the lines of \"while parsing the fields for this struct\". This would end up looking close to this:\r\n\r\n```\r\nerror: expected identifier, found keyword `return`\r\n --> src/main.rs:7:13\r\n  |\r\n6 |         Err(ref e) if e.kind == io::EndOfFile {\r\n  |                                 ------------- while parsing the fields for this struct\r\n7 |             return\r\n  |             ^^^^^^ expected identifier, found keyword\r\n\r\n```\r\n\r\n[`parse_pat`]: https://github.com/rust-lang/rust/blob/1b55d19479eabcb5d6cbda651187c7004aa28f7f/src/libsyntax/parse/parser.rs#L3465",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/331291471/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
