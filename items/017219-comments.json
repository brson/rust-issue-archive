[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/128220623",
    "html_url": "https://github.com/rust-lang/rust/issues/17219#issuecomment-128220623",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/17219",
    "id": 128220623,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyODIyMDYyMw==",
    "user": {
      "login": "Nashenas88",
      "id": 1673130,
      "node_id": "MDQ6VXNlcjE2NzMxMzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1673130?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Nashenas88",
      "html_url": "https://github.com/Nashenas88",
      "followers_url": "https://api.github.com/users/Nashenas88/followers",
      "following_url": "https://api.github.com/users/Nashenas88/following{/other_user}",
      "gists_url": "https://api.github.com/users/Nashenas88/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Nashenas88/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Nashenas88/subscriptions",
      "organizations_url": "https://api.github.com/users/Nashenas88/orgs",
      "repos_url": "https://api.github.com/users/Nashenas88/repos",
      "events_url": "https://api.github.com/users/Nashenas88/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Nashenas88/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-08-06T02:50:31Z",
    "updated_at": "2015-08-06T02:50:31Z",
    "body": "I'm running into this when trying to build something with the `rustc_private` feature. I'm using multirust, and it's currently bound to the nightly toolchain. I have the exact same output as @comex. It's impossible to proceed without rebuilding rustc from scratch.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/128220623/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/131923737",
    "html_url": "https://github.com/rust-lang/rust/issues/17219#issuecomment-131923737",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/17219",
    "id": 131923737,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMTkyMzczNw==",
    "user": {
      "login": "durka",
      "id": 47007,
      "node_id": "MDQ6VXNlcjQ3MDA3",
      "avatar_url": "https://avatars.githubusercontent.com/u/47007?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/durka",
      "html_url": "https://github.com/durka",
      "followers_url": "https://api.github.com/users/durka/followers",
      "following_url": "https://api.github.com/users/durka/following{/other_user}",
      "gists_url": "https://api.github.com/users/durka/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/durka/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/durka/subscriptions",
      "organizations_url": "https://api.github.com/users/durka/orgs",
      "repos_url": "https://api.github.com/users/durka/repos",
      "events_url": "https://api.github.com/users/durka/events{/privacy}",
      "received_events_url": "https://api.github.com/users/durka/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-08-17T18:47:17Z",
    "updated_at": "2015-08-17T18:47:17Z",
    "body": "Confirmed here as well. It happens when trying to build rustbook as well as other things. Somehow `cargo run` is able to paper over the bogus library paths, but it would be nice if the binary worked on its own.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/131923737/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/278129810",
    "html_url": "https://github.com/rust-lang/rust/issues/17219#issuecomment-278129810",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/17219",
    "id": 278129810,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3ODEyOTgxMA==",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-02-07T20:28:32Z",
    "updated_at": "2017-02-07T20:28:32Z",
    "body": "Triage: I do not have a mac, so I cannot try to reproduce again today. Anyone?",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/278129810/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/278133826",
    "html_url": "https://github.com/rust-lang/rust/issues/17219#issuecomment-278133826",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/17219",
    "id": 278133826,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3ODEzMzgyNg==",
    "user": {
      "login": "durka",
      "id": 47007,
      "node_id": "MDQ6VXNlcjQ3MDA3",
      "avatar_url": "https://avatars.githubusercontent.com/u/47007?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/durka",
      "html_url": "https://github.com/durka",
      "followers_url": "https://api.github.com/users/durka/followers",
      "following_url": "https://api.github.com/users/durka/following{/other_user}",
      "gists_url": "https://api.github.com/users/durka/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/durka/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/durka/subscriptions",
      "organizations_url": "https://api.github.com/users/durka/orgs",
      "repos_url": "https://api.github.com/users/durka/repos",
      "events_url": "https://api.github.com/users/durka/events{/privacy}",
      "received_events_url": "https://api.github.com/users/durka/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-02-07T20:43:55Z",
    "updated_at": "2017-02-07T20:43:55Z",
    "body": "I don't know how to get output like what @comex pasted with the load commands. However, I have this:\r\n\r\n```\r\nAlexs-MacBook-Air-3:rust alex$ cat xx.rs\r\nfn main() {\r\n    println!(\"hi\");\r\n}\r\n\r\nAlexs-MacBook-Air-3:rust alex$ rustc -C prefer-dynamic xx.rs\r\nAlexs-MacBook-Air-3:rust alex$ ./xx\r\ndyld: Library not loaded: @rpath/libstd-a38e14755045bae4.dylib\r\n  Referenced from: /Users/alex/Programming/rust/rust/./xx\r\n  Reason: image not found\r\nTrace/BPT trap: 5\r\nAlexs-MacBook-Air-3:rust alex$ otool -L xx\r\nxx:\r\n\t@rpath/libstd-a38e14755045bae4.dylib (compatibility version 0.0.0, current version 0.0.0)\r\n\t/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1197.1.1)\r\nAlexs-MacBook-Air-3:rust alex$ rustc -C prefer-dynamic -C rpath xx.rs\r\nAlexs-MacBook-Air-3:rust alex$ ./xx\r\nhi\r\nAlexs-MacBook-Air-3:rust alex$ otool -L xx\r\nxx:\r\n\t@rpath/libstd-a38e14755045bae4.dylib (compatibility version 0.0.0, current version 0.0.0)\r\n\t/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1197.1.1)\r\n```\r\n\r\nThat is, `-C prefer-dynamic` produces a broken binary, `-C rpath` fixes it, but they seem to be referring to the same libs as far as `otool` is concerned.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/278133826/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/546163796",
    "html_url": "https://github.com/rust-lang/rust/issues/17219#issuecomment-546163796",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/17219",
    "id": 546163796,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU0NjE2Mzc5Ng==",
    "user": {
      "login": "comex",
      "id": 47517,
      "node_id": "MDQ6VXNlcjQ3NTE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/47517?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/comex",
      "html_url": "https://github.com/comex",
      "followers_url": "https://api.github.com/users/comex/followers",
      "following_url": "https://api.github.com/users/comex/following{/other_user}",
      "gists_url": "https://api.github.com/users/comex/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/comex/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/comex/subscriptions",
      "organizations_url": "https://api.github.com/users/comex/orgs",
      "repos_url": "https://api.github.com/users/comex/repos",
      "events_url": "https://api.github.com/users/comex/events{/privacy}",
      "received_events_url": "https://api.github.com/users/comex/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2019-10-25T01:32:11Z",
    "updated_at": "2019-10-25T01:32:11Z",
    "body": "There is still weirdness in this area, but `-C rpath` does have an effect now, so closing.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/546163796/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
