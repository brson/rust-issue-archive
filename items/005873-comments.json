[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/18858979",
    "html_url": "https://github.com/rust-lang/rust/issues/5873#issuecomment-18858979",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5873",
    "id": 18858979,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4ODU4OTc5",
    "user": {
      "login": "catamorphism",
      "id": 427212,
      "node_id": "MDQ6VXNlcjQyNzIxMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/427212?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/catamorphism",
      "html_url": "https://github.com/catamorphism",
      "followers_url": "https://api.github.com/users/catamorphism/followers",
      "following_url": "https://api.github.com/users/catamorphism/following{/other_user}",
      "gists_url": "https://api.github.com/users/catamorphism/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/catamorphism/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/catamorphism/subscriptions",
      "organizations_url": "https://api.github.com/users/catamorphism/orgs",
      "repos_url": "https://api.github.com/users/catamorphism/repos",
      "events_url": "https://api.github.com/users/catamorphism/events{/privacy}",
      "received_events_url": "https://api.github.com/users/catamorphism/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-06-03T17:59:24Z",
    "updated_at": "2013-06-03T17:59:24Z",
    "body": "It seems like the constant checker believes that `Bar` is a constant, whereas the constant evaluator does not. They should agree. I'm not sure which behavior is right. Also, it seems counter-intuitive that you can't refer to a constant (`i`) in other constants.\n\nNominating for milestone 1, welll-defined.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/18858979/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/21785398",
    "html_url": "https://github.com/rust-lang/rust/issues/5873#issuecomment-21785398",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5873",
    "id": 21785398,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxNzg1Mzk4",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-07-30T11:48:46Z",
    "updated_at": "2013-07-30T11:48:46Z",
    "body": "Works now. Fixed by https://github.com/mozilla/rust/commit/877bba91d54457c104ff0bf67fd46a499a451cf6 (possibly; at the very least, it includes a testcase).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/21785398/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23384763",
    "html_url": "https://github.com/rust-lang/rust/issues/5873#issuecomment-23384763",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5873",
    "id": 23384763,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzMzg0NzYz",
    "user": {
      "login": "tikue",
      "id": 2915777,
      "node_id": "MDQ6VXNlcjI5MTU3Nzc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2915777?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tikue",
      "html_url": "https://github.com/tikue",
      "followers_url": "https://api.github.com/users/tikue/followers",
      "following_url": "https://api.github.com/users/tikue/following{/other_user}",
      "gists_url": "https://api.github.com/users/tikue/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tikue/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tikue/subscriptions",
      "organizations_url": "https://api.github.com/users/tikue/orgs",
      "repos_url": "https://api.github.com/users/tikue/repos",
      "events_url": "https://api.github.com/users/tikue/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tikue/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-08-28T01:52:06Z",
    "updated_at": "2013-08-28T01:52:46Z",
    "body": "This doesn't seem to work now.\n\n```\nenum Category {\n    A,\n    B,\n    C,\n    NumCategories,\n}\nstatic NUM_CATEGORIES: uint = NumCategories as uint;\n\nfn main() {\n    let the_categories: [Category, ..NUM_CATEGORIES] = [A, B, C];\n    printfln!(the_categories);\n}\n```\n\n$ x86_64-apple-darwin/stage2/bin/rust run static_test.rs \nstatic_test.rs:10:24: 10:52 error: expected constant expr for vector length: Non-constant path in constant expr\nstatic_test.rs:10     let the_categories: [Category, ..NUM_CATEGORIES] = [A, B, C];\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23384763/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23390845",
    "html_url": "https://github.com/rust-lang/rust/issues/5873#issuecomment-23390845",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5873",
    "id": 23390845,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzMzkwODQ1",
    "user": {
      "login": "jdm",
      "id": 27658,
      "node_id": "MDQ6VXNlcjI3NjU4",
      "avatar_url": "https://avatars.githubusercontent.com/u/27658?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jdm",
      "html_url": "https://github.com/jdm",
      "followers_url": "https://api.github.com/users/jdm/followers",
      "following_url": "https://api.github.com/users/jdm/following{/other_user}",
      "gists_url": "https://api.github.com/users/jdm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jdm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jdm/subscriptions",
      "organizations_url": "https://api.github.com/users/jdm/orgs",
      "repos_url": "https://api.github.com/users/jdm/repos",
      "events_url": "https://api.github.com/users/jdm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jdm/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-08-28T04:51:12Z",
    "updated_at": "2013-08-28T04:51:12Z",
    "body": "I'm doubtful that the earlier testcase ever worked; 877bba9 explicitly calls out in the commit message that C style enums don't work in type signatures, only values.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23390845/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23506161",
    "html_url": "https://github.com/rust-lang/rust/issues/5873#issuecomment-23506161",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5873",
    "id": 23506161,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzNTA2MTYx",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-08-29T17:11:34Z",
    "updated_at": "2013-08-29T17:11:34Z",
    "body": "Part of #5551; inherits its maturity milestone implicitly.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23506161/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23511309",
    "html_url": "https://github.com/rust-lang/rust/issues/5873#issuecomment-23511309",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5873",
    "id": 23511309,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzNTExMzA5",
    "user": {
      "login": "jdm",
      "id": 27658,
      "node_id": "MDQ6VXNlcjI3NjU4",
      "avatar_url": "https://avatars.githubusercontent.com/u/27658?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jdm",
      "html_url": "https://github.com/jdm",
      "followers_url": "https://api.github.com/users/jdm/followers",
      "following_url": "https://api.github.com/users/jdm/following{/other_user}",
      "gists_url": "https://api.github.com/users/jdm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jdm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jdm/subscriptions",
      "organizations_url": "https://api.github.com/users/jdm/orgs",
      "repos_url": "https://api.github.com/users/jdm/repos",
      "events_url": "https://api.github.com/users/jdm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jdm/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-08-29T18:18:05Z",
    "updated_at": "2013-08-29T18:18:05Z",
    "body": "Just for the record, having integral enum constant support in type signatures is a complicated problem, since we end up needing to differentiate between types that can be checked without constant evaluation and types that require constant evaluation before they can be checked. Interleaving these two things looked exceedingly awkward when I attempted to tackle this before, hence why I punted on it.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23511309/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/35304537",
    "html_url": "https://github.com/rust-lang/rust/issues/5873#issuecomment-35304537",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5873",
    "id": 35304537,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MzA0NTM3",
    "user": {
      "login": "flaper87",
      "id": 13816,
      "node_id": "MDQ6VXNlcjEzODE2",
      "avatar_url": "https://avatars.githubusercontent.com/u/13816?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/flaper87",
      "html_url": "https://github.com/flaper87",
      "followers_url": "https://api.github.com/users/flaper87/followers",
      "following_url": "https://api.github.com/users/flaper87/following{/other_user}",
      "gists_url": "https://api.github.com/users/flaper87/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/flaper87/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/flaper87/subscriptions",
      "organizations_url": "https://api.github.com/users/flaper87/orgs",
      "repos_url": "https://api.github.com/users/flaper87/repos",
      "events_url": "https://api.github.com/users/flaper87/events{/privacy}",
      "received_events_url": "https://api.github.com/users/flaper87/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-02-17T17:21:15Z",
    "updated_at": "2014-02-17T17:21:15Z",
    "body": "triage bump.\n\nThe original example seems to work now:\n\n``` rust\nenum Category {\n    Bar = 4,\n}\nstatic i: int = Bar as int;\n\nfn main () {\n    let x: [int, ..i] = [1, 2, 3, 4];\n}\n```\n\nThis still fails, here's an updated example:\n\n``` rust\nenum Category {\n    A,\n    B,\n    C,\n    NumCategories,\n}\nstatic NUM_CATEGORIES: uint = NumCategories as uint;\n\nfn main() {\n    let the_categories: [Category, ..NUM_CATEGORIES] = [A, B, C];\n    println!(\"{}\", the_categories);\n}\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/35304537/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/35453212",
    "html_url": "https://github.com/rust-lang/rust/issues/5873#issuecomment-35453212",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5873",
    "id": 35453212,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NDUzMjEy",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-02-19T00:33:54Z",
    "updated_at": "2014-02-19T11:49:15Z",
    "body": "I don't think the latter example (that attempts to const-eval `NumCategories as uint` should work anyway; I believe our policy has been that we reserve the right to change enum encoding if not otherwise provided a la C-style enums, so it would be ... risky at best to support the code as written.\n\n(I do admit, it is a useful coding pattern.  Though perhaps I might be able to whip up a macro that expands into the C-style enum.  I will try to remember to try that tomorrow morning.)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/35453212/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/35689210",
    "html_url": "https://github.com/rust-lang/rust/issues/5873#issuecomment-35689210",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5873",
    "id": 35689210,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1Njg5MjEw",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-02-21T01:11:33Z",
    "updated_at": "2014-02-21T01:11:33Z",
    "body": "I consider the last case to be an anti-pattern in Rust. It creates an entry in the enum that doesn't exist and fouls up match statements. If we want to support this (which perhaps we should), we ought to add some way to get the number of variants in an enum for a constant -- but not by adding a fictitious entry to the enum.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/35689210/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38487786",
    "html_url": "https://github.com/rust-lang/rust/issues/5873#issuecomment-38487786",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5873",
    "id": 38487786,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4NDg3Nzg2",
    "user": {
      "login": "jaredly",
      "id": 112170,
      "node_id": "MDQ6VXNlcjExMjE3MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/112170?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jaredly",
      "html_url": "https://github.com/jaredly",
      "followers_url": "https://api.github.com/users/jaredly/followers",
      "following_url": "https://api.github.com/users/jaredly/following{/other_user}",
      "gists_url": "https://api.github.com/users/jaredly/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jaredly/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jaredly/subscriptions",
      "organizations_url": "https://api.github.com/users/jaredly/orgs",
      "repos_url": "https://api.github.com/users/jaredly/repos",
      "events_url": "https://api.github.com/users/jaredly/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jaredly/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-03-24T19:12:57Z",
    "updated_at": "2014-03-24T19:12:57Z",
    "body": "+1 for getting the number of variants in an enum\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38487786/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/74455119",
    "html_url": "https://github.com/rust-lang/rust/issues/5873#issuecomment-74455119",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5873",
    "id": 74455119,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc0NDU1MTE5",
    "user": {
      "login": "frewsxcv",
      "id": 416575,
      "node_id": "MDQ6VXNlcjQxNjU3NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/416575?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/frewsxcv",
      "html_url": "https://github.com/frewsxcv",
      "followers_url": "https://api.github.com/users/frewsxcv/followers",
      "following_url": "https://api.github.com/users/frewsxcv/following{/other_user}",
      "gists_url": "https://api.github.com/users/frewsxcv/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/frewsxcv/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/frewsxcv/subscriptions",
      "organizations_url": "https://api.github.com/users/frewsxcv/orgs",
      "repos_url": "https://api.github.com/users/frewsxcv/repos",
      "events_url": "https://api.github.com/users/frewsxcv/events{/privacy}",
      "received_events_url": "https://api.github.com/users/frewsxcv/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-02-16T03:17:48Z",
    "updated_at": "2015-02-16T03:17:48Z",
    "body": "_Visiting for triage_\n\nUpdated the example to compile with the latest Rust\n\n``` rust\nenum Category {\n    A,\n    B,\n    C,\n    NumCategories,\n}\nstatic NUM_CATEGORIES: uint = Category::NumCategories as uint;\n\nfn main() {\n    let the_categories: [Category; NUM_CATEGORIES] = [Category::A, Category::B, Category::C];\n    println!(\"{}\", the_categories);\n}\n```\n\n[Playpen](http://is.gd/R4iAJJ)\n\nCan confirm it still doesn't compile\n\n```\n\n\n<anon>:7:24: 7:28 warning: the `uint` type is deprecated; use `usize` or a fixed-sized integer\n<anon>:7 static NUM_CATEGORIES: uint = Category::NumCategories as uint;\n                                ^~~~\n<anon>:7:24: 7:28 help: add #![feature(int_uint)] to the crate attributes to silence this warning\n<anon>:7 static NUM_CATEGORIES: uint = Category::NumCategories as uint;\n                                ^~~~\n<anon>:7:58: 7:62 warning: the `uint` type is deprecated; use `usize` or a fixed-sized integer\n<anon>:7 static NUM_CATEGORIES: uint = Category::NumCategories as uint;\n                                                                  ^~~~\n<anon>:7:58: 7:62 help: add #![feature(int_uint)] to the crate attributes to silence this warning\n<anon>:7 static NUM_CATEGORIES: uint = Category::NumCategories as uint;\n                                                                  ^~~~\n<anon>:10:25: 10:51 error: expected constant expr for array length: non-constant path in constant expr [E0250]\n<anon>:10     let the_categories: [Category; NUM_CATEGORIES] = [Category::A, Category::B, Category::C];\n                                  ^~~~~~~~~~~~~~~~~~~~~~~~~~\nplaypen: application terminated with error code 101\nProgram ended.\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/74455119/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/74541386",
    "html_url": "https://github.com/rust-lang/rust/issues/5873#issuecomment-74541386",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5873",
    "id": 74541386,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc0NTQxMzg2",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-02-16T17:12:12Z",
    "updated_at": "2015-02-16T17:13:51Z",
    "body": "So, just to review the situation, and repeat what @nikomatsakis and I stated earlier:\n1. The original bug from the description has been fixed.  Namely, these two programs both run:\n   \n   First program:\n   \n   ``` rust\n   const I1: usize = 4;\n   \n   fn main () {\n       let x: [i32; I1] = [1, 2, 3, 4];\n       println!(\"{:?}\", x);\n   }\n   ```\n   \n   Second program:\n   \n   ``` rust\n   enum Foo {\n       Bar = 4,\n   }\n   const I2: usize = Foo::Bar as usize;\n   \n   fn main () {\n       let x: [i32; I2] = [1, 2, 3, 4];\n       println!(\"{:?}\", x);\n   }\n   ```\n2. There is _another_ program from [a comment above](https://github.com/rust-lang/rust/issues/5873#issuecomment-23384763) that does not work, but I do not think it was ever part of Rust's design that it _would_ work as written:\n\n``` rust\n#[derive(Debug)]\nenum Category {\n    A,\n    B,\n    C,\n    NumCategories,\n}\nconst NUM_CATEGORIES: usize = Category::NumCategories as usize;\n\nuse Category::*;\n\nfn main() {\n    let the_categories: [Category; NUM_CATEGORIES] = [A, B, C];\n    println!(\"{:?}\", the_categories);\n}\n```\n\nThis is the case where you get the following error:\n\n```\n<anon>:13:25: 13:51 error: expected constant expr for array length: non-constant path in constant expr [E0250]\n<anon>:13     let the_categories: [Category; NUM_CATEGORIES] = [A, B, C];\n                                  ^~~~~~~~~~~~~~~~~~~~~~~~~~\n```\n\n---\n\nFootnote 1: both @pnkfelix and @nikomatsakis think the last program above is using an _anti-pattern_; that is, it is not idiomatic Rust to encode meta-information like \"the number of enum variants\" as a member itself of the enum.  (We may extend the language in the future with some sort of associated constant that provides such information, but that is not part of the current design.)\n\nFootnote 2: there is a straight-forward workaround, if one wants to insist on using the anti-pattern: Put an explicit value in for the `NumCategories` variant:\n\n``` rust\n#[derive(Debug)]\nenum Category {\n    A,\n    B,\n    C,\n    NumCategories = 3,\n}\nconst NUM_CATEGORIES: usize = Category::NumCategories as usize;\n\nuse Category::*;\n\nfn main() {\n    let the_categories: [Category; NUM_CATEGORIES] = [A, B, C];\n    println!(\"{:?}\", the_categories);\n}\n```\n\nNote also that the Rust compiler will _catch_ if you put too low a value in for `NumCategories above, as long as you have not assigned \"out-of-band\" values to the earlier variants.  In other words, this code will fail to compile:\n\n``` rust\n#[derive(Debug)]\nenum Category {\n    A,\n    B,\n    C,\n    NumCategories = 2, // this is too low!\n}\nconst NUM_CATEGORIES: usize = Category::NumCategories as usize;\n\nuse Category::*;\n\nfn main() {\n    let the_categories: [Category; NUM_CATEGORIES] = [A, B];\n    println!(\"{:?}\", the_categories);\n}\n```\n\nThis yields the compile-time error:\n\n```\n<anon>:27:5: 27:22 error: discriminant value `2` already exists [E0081]\n<anon>:27     NumCategories = 2, // this is too low!\n              ^~~~~~~~~~~~~~~~~\n<anon>:26:5: 26:6 note: conflicting discriminant here\n<anon>:26     C,\n              ^\n```\n\n(I suspect there may even be a straight-forward macro one could write that creates a static array of all the values, to ensure that the provided number is also not too large.  Demonstrated here: http://is.gd/rGTANu Though such a macro would benefit from extensions like https://github.com/rust-lang/rfcs/issues/407 for counting.)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/74541386/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/74541434",
    "html_url": "https://github.com/rust-lang/rust/issues/5873#issuecomment-74541434",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5873",
    "id": 74541434,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc0NTQxNDM0",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-02-16T17:12:36Z",
    "updated_at": "2015-02-16T17:12:36Z",
    "body": "I think we should close this ticket.  Nominating for closure.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/74541434/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/75136772",
    "html_url": "https://github.com/rust-lang/rust/issues/5873#issuecomment-75136772",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5873",
    "id": 75136772,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc1MTM2Nzcy",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-02-19T21:11:34Z",
    "updated_at": "2015-02-19T21:11:34Z",
    "body": "(closing)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/75136772/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/77700425",
    "html_url": "https://github.com/rust-lang/rust/issues/5873#issuecomment-77700425",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5873",
    "id": 77700425,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3NzAwNDI1",
    "user": {
      "login": "ghost",
      "id": 10137,
      "node_id": "MDQ6VXNlcjEwMTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ghost",
      "html_url": "https://github.com/ghost",
      "followers_url": "https://api.github.com/users/ghost/followers",
      "following_url": "https://api.github.com/users/ghost/following{/other_user}",
      "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
      "organizations_url": "https://api.github.com/users/ghost/orgs",
      "repos_url": "https://api.github.com/users/ghost/repos",
      "events_url": "https://api.github.com/users/ghost/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ghost/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-07T17:44:58Z",
    "updated_at": "2015-03-12T11:20:46Z",
    "body": "Let me get this straight. Rust doesn't allow using c-like enum variants in compile-time evaluation contexts in general, unless the user opts-in to this workaround you've pointed out. Library writers don't know which ones of their public c-like enum variants might be needed to be used as compile-time constants, so they'd have to explicitly specify the values for each variant.\n\nTo me this is clearly a compiler bug, and as far as I can tell, you refuse to fix it just because the person reporting it happened to be using an anti-pattern in [demonstrating it](https://github.com/rust-lang/rust/issues/5873#issuecomment-23384763).\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/77700425/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/77708525",
    "html_url": "https://github.com/rust-lang/rust/issues/5873#issuecomment-77708525",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5873",
    "id": 77708525,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3NzA4NTI1",
    "user": {
      "login": "tikue",
      "id": 2915777,
      "node_id": "MDQ6VXNlcjI5MTU3Nzc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2915777?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tikue",
      "html_url": "https://github.com/tikue",
      "followers_url": "https://api.github.com/users/tikue/followers",
      "following_url": "https://api.github.com/users/tikue/following{/other_user}",
      "gists_url": "https://api.github.com/users/tikue/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tikue/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tikue/subscriptions",
      "organizations_url": "https://api.github.com/users/tikue/orgs",
      "repos_url": "https://api.github.com/users/tikue/repos",
      "events_url": "https://api.github.com/users/tikue/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tikue/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-07T20:31:34Z",
    "updated_at": "2015-03-07T20:41:22Z",
    "body": "It's backwards compatible to add implicit const ordinals, no? Likewise for a way to get const number of variants.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/77708525/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/77744645",
    "html_url": "https://github.com/rust-lang/rust/issues/5873#issuecomment-77744645",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5873",
    "id": 77744645,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3NzQ0NjQ1",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-08T11:40:44Z",
    "updated_at": "2015-03-08T11:47:44Z",
    "body": "@tommit compiler bug != language feature\n\n---\n\nAt one point I had a further notes here trying to further explain the above, but I think the comment thread is essentially self-explanatory, apart from one detail:\n\nI believe the phrase \"C-like enum variant\" is meant to refer to variants that have been given an explicit value.  The example that we have been calling an anti-pattern does not use any explicit values in the variants; therefore I do not think it qualifies as a C-like enum variant.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/77744645/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/77745670",
    "html_url": "https://github.com/rust-lang/rust/issues/5873#issuecomment-77745670",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5873",
    "id": 77745670,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3NzQ1Njcw",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-08T12:16:10Z",
    "updated_at": "2015-03-08T12:16:10Z",
    "body": "> I believe the phrase \"C-like enum variant\" is meant to refer to variants that have been given an explicit value. \n\nI might be wrong on this point; I will check more carefully when I am in front of a computer again\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/77745670/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/77753250",
    "html_url": "https://github.com/rust-lang/rust/issues/5873#issuecomment-77753250",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5873",
    "id": 77753250,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3NzUzMjUw",
    "user": {
      "login": "ghost",
      "id": 10137,
      "node_id": "MDQ6VXNlcjEwMTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ghost",
      "html_url": "https://github.com/ghost",
      "followers_url": "https://api.github.com/users/ghost/followers",
      "following_url": "https://api.github.com/users/ghost/following{/other_user}",
      "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
      "organizations_url": "https://api.github.com/users/ghost/orgs",
      "repos_url": "https://api.github.com/users/ghost/repos",
      "events_url": "https://api.github.com/users/ghost/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ghost/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-08T14:52:28Z",
    "updated_at": "2015-03-08T15:09:47Z",
    "body": "[The Reference](http://doc.rust-lang.org/reference.html#enumerations) claims the following:\n\n> Enums have a discriminant. You can assign them explicitly: `enum Foo { Bar = 123 }`\n> \n> If a discriminant isn't assigned, they start at zero, and add one for each variant, in order.\n> You can cast an enum to get this value: `let x = Foo::Bar as u32; // x is now 123u32`\n> \n> This only works as long as none of the variants have data attached. If it were Bar(i32), this is disallowed.\n\nFrom that quote I gather, that given the `enum E { A, B }`, Rust guarantees that `E::A as usize == 0_usize` and `E::B as usize == 1_usize`. If Rust can make those guarantees in its reference manual now, then why can't it make the same guarantees at compile-time?\n\n@pnkfelix You say that it's a language feature that these unassigned nullary enum variants (which belong to an enum whose all variants are nullary) aren't compile-time constants. What is the language design reasoning behind this feature?\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/77753250/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/77755820",
    "html_url": "https://github.com/rust-lang/rust/issues/5873#issuecomment-77755820",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5873",
    "id": 77755820,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3NzU1ODIw",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-08T15:32:42Z",
    "updated_at": "2015-03-08T15:32:42Z",
    "body": "@tommit I was not attempting to claim that it was a language feature that these aren't compile-time constants.  (I do concede that my earlier response can be interpreted that way.)\n\nI was trying to claim that changing the current language to treat them as compile-time constants _would_ be a language feature, and thus should go through the RFC process.  (After all, a ticket like this really isn't the appropriate venue to debate the value of such a change.)\n\n---\n\nHere's the essence of what I was thinking when I wrote that response: I have been long under the impression that we were reserving the right to change how discriminant values are assigned by the compiler if not explicitly assigned by programmer.\n\n(Of course actually allowing such a change would probably require restricting the current language; i.e. `Variant as Type` when `Variant` would need to be outlawed during dynamic execution in addition to it being disallowed at compile time.  And I imagine we could not do that unless we simultaneously accepted https://github.com/rust-lang/rfcs/pull/639 and probably provided a stable API to that RFC as well.)\n\nIts quite possible that my mental model of what we were planning to permit in the future was simply over-aggressive; i.e. that no one else on the team was planning on ever changing the assignment of discriminant values, at least not for enum variants that do not have a data payload attached.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/77755820/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/77755904",
    "html_url": "https://github.com/rust-lang/rust/issues/5873#issuecomment-77755904",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5873",
    "id": 77755904,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3NzU1OTA0",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-08T15:34:10Z",
    "updated_at": "2015-03-08T15:34:10Z",
    "body": "reopening and putting on agenda for next meeting; this deserves discussion at the team meeting, if only to get clarification about what guarantees we plan with respect to discriminant value assignment.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/77755904/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/77758347",
    "html_url": "https://github.com/rust-lang/rust/issues/5873#issuecomment-77758347",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5873",
    "id": 77758347,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3NzU4MzQ3",
    "user": {
      "login": "ghost",
      "id": 10137,
      "node_id": "MDQ6VXNlcjEwMTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ghost",
      "html_url": "https://github.com/ghost",
      "followers_url": "https://api.github.com/users/ghost/followers",
      "following_url": "https://api.github.com/users/ghost/following{/other_user}",
      "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
      "organizations_url": "https://api.github.com/users/ghost/orgs",
      "repos_url": "https://api.github.com/users/ghost/repos",
      "events_url": "https://api.github.com/users/ghost/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ghost/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-08T16:15:14Z",
    "updated_at": "2015-03-08T16:15:14Z",
    "body": "@pnkfelix Thank you for getting this thing to get sorted out and for clearing up my earlier confusion.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/77758347/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/78035535",
    "html_url": "https://github.com/rust-lang/rust/issues/5873#issuecomment-78035535",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5873",
    "id": 78035535,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4MDM1NTM1",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-10T11:21:40Z",
    "updated_at": "2015-03-10T11:21:40Z",
    "body": "Hmm, I tend to agree with @tommit that it should work for both explicitly assigned and unassigned values, if it works at all.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/78035535/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/78035591",
    "html_url": "https://github.com/rust-lang/rust/issues/5873#issuecomment-78035591",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5873",
    "id": 78035591,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4MDM1NTkx",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-10T11:22:01Z",
    "updated_at": "2015-03-10T11:22:01Z",
    "body": "(I didn't fully appreciate when commenting before that it worked only in one case and not the other.)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/78035591/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/78403523",
    "html_url": "https://github.com/rust-lang/rust/issues/5873#issuecomment-78403523",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5873",
    "id": 78403523,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4NDAzNTIz",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-12T00:39:53Z",
    "updated_at": "2015-03-12T00:39:53Z",
    "body": "So after discussing with @nikomatsakis i concluded that my mental model is simply wrong, and that there is not sufficient value in trying to future-proof our future discriminant value assignment.  In particular @nikomatsakis pointed out to me multiple times that the chosen discriminant value need not be directly represented as the numeric value chosen; thus various tricks I was anticipating (usually revolving around ensuring that e.g. bit patterns are non-zero) should be able to be adopted in the future.\n\nAnyway, the bugs been reopened; we should fix this, for consistency's sake.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/78403523/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/78613523",
    "html_url": "https://github.com/rust-lang/rust/issues/5873#issuecomment-78613523",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5873",
    "id": 78613523,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4NjEzNTIz",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-12T20:56:22Z",
    "updated_at": "2015-03-12T20:56:22Z",
    "body": "triage: P-high\n\n(In some sense this is a feature request, or at least a request for consistently deploying a particular feature.   Fixing this may be important when/if `const fn` comes, but its hard to tell right now.)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/78613523/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/88178457",
    "html_url": "https://github.com/rust-lang/rust/issues/5873#issuecomment-88178457",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5873",
    "id": 88178457,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg4MTc4NDU3",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-31T17:26:11Z",
    "updated_at": "2015-03-31T17:26:11Z",
    "body": "Decided to file a fresh issue, #23898, to ease triage.  (I.e. right now the main item left on this bug is hard to actually extract from the thread of conversation as presented.)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/88178457/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
