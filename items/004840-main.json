{
  "url": "https://api.github.com/repos/rust-lang/rust/issues/4840",
  "repository_url": "https://api.github.com/repos/rust-lang/rust",
  "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/4840/labels{/name}",
  "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/4840/comments",
  "events_url": "https://api.github.com/repos/rust-lang/rust/issues/4840/events",
  "html_url": "https://github.com/rust-lang/rust/pull/4840",
  "id": 10766333,
  "node_id": "MDExOlB1bGxSZXF1ZXN0NDA0OTg1NQ==",
  "number": 4840,
  "title": "auto: Add json enum encoding",
  "user": {
    "login": "jbclements",
    "id": 226617,
    "node_id": "MDQ6VXNlcjIyNjYxNw==",
    "avatar_url": "https://avatars.githubusercontent.com/u/226617?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jbclements",
    "html_url": "https://github.com/jbclements",
    "followers_url": "https://api.github.com/users/jbclements/followers",
    "following_url": "https://api.github.com/users/jbclements/following{/other_user}",
    "gists_url": "https://api.github.com/users/jbclements/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jbclements/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jbclements/subscriptions",
    "organizations_url": "https://api.github.com/users/jbclements/orgs",
    "repos_url": "https://api.github.com/users/jbclements/repos",
    "events_url": "https://api.github.com/users/jbclements/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jbclements/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "labels": [],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [],
  "milestone": null,
  "comments": 8,
  "created_at": "2013-02-08T02:55:59Z",
  "updated_at": "2014-07-24T18:27:41Z",
  "closed_at": "2013-02-13T21:58:59Z",
  "author_association": "CONTRIBUTOR",
  "type": null,
  "active_lock_reason": null,
  "draft": false,
  "pull_request": {
    "url": "https://api.github.com/repos/rust-lang/rust/pulls/4840",
    "html_url": "https://github.com/rust-lang/rust/pull/4840",
    "diff_url": "https://github.com/rust-lang/rust/pull/4840.diff",
    "patch_url": "https://github.com/rust-lang/rust/pull/4840.patch",
    "merged_at": null
  },
  "body": "r?\n\nI added code to the JSON encoder to support the serialization of enums.  Before this, the JSON serializer only handled Option, and encoded None as 'null'. Following this change, all enums are encoded as arrays containing the enum name followed by the encoded fields. This appears consistent with the unstated invariant that the resulting output can be mapped back to the input _if_ there's a decoder around that knows the types that were in existence when the serialization occurred.\n\nAlso, added test cases.\n",
  "closed_by": {
    "login": "bors",
    "id": 3372342,
    "node_id": "MDQ6VXNlcjMzNzIzNDI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/bors",
    "html_url": "https://github.com/bors",
    "followers_url": "https://api.github.com/users/bors/followers",
    "following_url": "https://api.github.com/users/bors/following{/other_user}",
    "gists_url": "https://api.github.com/users/bors/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bors/subscriptions",
    "organizations_url": "https://api.github.com/users/bors/orgs",
    "repos_url": "https://api.github.com/users/bors/repos",
    "events_url": "https://api.github.com/users/bors/events{/privacy}",
    "received_events_url": "https://api.github.com/users/bors/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/4840/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/4840/timeline",
  "performed_via_github_app": null,
  "state_reason": null,
  "_meta": {
    "type": "pr"
  }
}
