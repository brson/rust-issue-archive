{
  "url": "https://api.github.com/repos/rust-lang/rust/issues/17288",
  "repository_url": "https://api.github.com/repos/rust-lang/rust",
  "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/17288/labels{/name}",
  "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/17288/comments",
  "events_url": "https://api.github.com/repos/rust-lang/rust/issues/17288/events",
  "html_url": "https://github.com/rust-lang/rust/pull/17288",
  "id": 42836547,
  "node_id": "MDExOlB1bGxSZXF1ZXN0MjEyNzE5NDc=",
  "number": 17288,
  "title": "Change the last linux 64-bit snapshot",
  "user": {
    "login": "alexcrichton",
    "id": 64996,
    "node_id": "MDQ6VXNlcjY0OTk2",
    "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/alexcrichton",
    "html_url": "https://github.com/alexcrichton",
    "followers_url": "https://api.github.com/users/alexcrichton/followers",
    "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
    "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
    "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
    "repos_url": "https://api.github.com/users/alexcrichton/repos",
    "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
    "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "labels": [],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [],
  "milestone": null,
  "comments": 2,
  "created_at": "2014-09-16T01:34:40Z",
  "updated_at": "2014-09-16T14:12:05Z",
  "closed_at": "2014-09-16T04:51:01Z",
  "author_association": "MEMBER",
  "type": null,
  "active_lock_reason": null,
  "draft": false,
  "pull_request": {
    "url": "https://api.github.com/repos/rust-lang/rust/pulls/17288",
    "html_url": "https://github.com/rust-lang/rust/pull/17288",
    "diff_url": "https://github.com/rust-lang/rust/pull/17288.diff",
    "patch_url": "https://github.com/rust-lang/rust/pull/17288.patch",
    "merged_at": "2014-09-16T04:51:12Z"
  },
  "body": "I'm rotating in some CentOS 5.10 bots so we _actually_ build on Linux 2.6.18\nlike we advertise doing so. Currently the snapshots are incompatible with CentOS\n5.10 due to snapshots requiring glibc 2.6 and CentOS 5.10 having glibc 2.5.\n\nIt turns out that rustc only requires _one_ symbol from glibc 2.6, which is\n`futimens`. The rust distribution itself does not use this symbol, but LLVM\nconditionally detects it and then uses it. This symbol isn't even called as part\nof the compilation process, so we don't even need it!\n\nThe new snapshot was generated following these instructions [1](http://jamesbond3142.no-ip.org/wiki/wiki.cgi/NewAppsOnOldGlibc):\n1. Download the current x86_64 linux snapshot and unpack it.\n2. Open the rustc binary in a hex editor.\n3. Change the linkage against glibc 2.6 from strong to _weak_\n4. Write changes and re-run src/etc/make-snapshot.py\n5. Upload new tarball to S3\n\nOn CentOS 5.10 a warning is printed each time the snapshot runs that the symbol\ncannot be found (anyone with glibc 2.6+ does not have this warning printed). The\nkey part is that we can _bootstrap_ on CentOS 5.10 at this point. The next\nsnapshot will be naturally compatible with glibc 2.3 (even older!) and will not\nneed to be manually edited.\n",
  "closed_by": {
    "login": "bors",
    "id": 3372342,
    "node_id": "MDQ6VXNlcjMzNzIzNDI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/bors",
    "html_url": "https://github.com/bors",
    "followers_url": "https://api.github.com/users/bors/followers",
    "following_url": "https://api.github.com/users/bors/following{/other_user}",
    "gists_url": "https://api.github.com/users/bors/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bors/subscriptions",
    "organizations_url": "https://api.github.com/users/bors/orgs",
    "repos_url": "https://api.github.com/users/bors/repos",
    "events_url": "https://api.github.com/users/bors/events{/privacy}",
    "received_events_url": "https://api.github.com/users/bors/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/17288/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/17288/timeline",
  "performed_via_github_app": null,
  "state_reason": null,
  "_meta": {
    "type": "pr"
  }
}
