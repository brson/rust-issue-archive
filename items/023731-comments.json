[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/86570906",
    "html_url": "https://github.com/rust-lang/rust/issues/23731#issuecomment-86570906",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23731",
    "id": 86570906,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2NTcwOTA2",
    "user": {
      "login": "Stebalien",
      "id": 310393,
      "node_id": "MDQ6VXNlcjMxMDM5Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/310393?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Stebalien",
      "html_url": "https://github.com/Stebalien",
      "followers_url": "https://api.github.com/users/Stebalien/followers",
      "following_url": "https://api.github.com/users/Stebalien/following{/other_user}",
      "gists_url": "https://api.github.com/users/Stebalien/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Stebalien/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Stebalien/subscriptions",
      "organizations_url": "https://api.github.com/users/Stebalien/orgs",
      "repos_url": "https://api.github.com/users/Stebalien/repos",
      "events_url": "https://api.github.com/users/Stebalien/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Stebalien/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-26T15:30:37Z",
    "updated_at": "2015-03-26T15:30:37Z",
    "body": "Additionally, `PathBuf::pop` is not the inverse of `PathBuf::push`.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/86570906/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/154638311",
    "html_url": "https://github.com/rust-lang/rust/issues/23731#issuecomment-154638311",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23731",
    "id": 154638311,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1NDYzODMxMQ==",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-11-07T06:37:53Z",
    "updated_at": "2015-11-07T06:37:53Z",
    "body": "pop has been stabilized, so this is a wart we're just gonna have to live with.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/154638311/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1409916462",
    "html_url": "https://github.com/rust-lang/rust/issues/23731#issuecomment-1409916462",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23731",
    "id": 1409916462,
    "node_id": "IC_kwDOAAsO6M5UCZ4u",
    "user": {
      "login": "rinarakaki",
      "id": 13822753,
      "node_id": "MDQ6VXNlcjEzODIyNzUz",
      "avatar_url": "https://avatars.githubusercontent.com/u/13822753?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rinarakaki",
      "html_url": "https://github.com/rinarakaki",
      "followers_url": "https://api.github.com/users/rinarakaki/followers",
      "following_url": "https://api.github.com/users/rinarakaki/following{/other_user}",
      "gists_url": "https://api.github.com/users/rinarakaki/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rinarakaki/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rinarakaki/subscriptions",
      "organizations_url": "https://api.github.com/users/rinarakaki/orgs",
      "repos_url": "https://api.github.com/users/rinarakaki/repos",
      "events_url": "https://api.github.com/users/rinarakaki/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rinarakaki/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2023-01-31T07:55:22Z",
    "updated_at": "2023-02-01T01:32:10Z",
    "body": "This.\r\n\r\n@steveklabnik Can we deprecate this use of `pop` and begin preparing to reuse it for what we all expect?\r\n\r\n```rust\r\n#[cfg(feature = \"new-pathbuf-pop\")]\r\npub fn pop(&mut self) -> Option<OsStr> { .. }\r\n\r\n#[cfg(not(feature = \"new-pathbuf-pop\"))]\r\n#[cfg_attr(\r\n    not(feature = \"new-pathbuf-pop\"),\r\n    deprecated = \"We recommend you to enable \\\"new-pathbuf-pop\\\" feature and try new pop() method, or existing parent() method instead.\")]\r\npub fn pop(&mut self) -> bool { .. }\r\n```\r\n\r\nIt's ok, as @nwin suggested, to rename it to `truncate`, but I mean who's using this or would prefer over the new pop? \r\n\r\n```rust\r\n#[cfg(feature = \"new-pathbuf-pop\")]\r\npub fn truncate(&mut self) -> bool { .. }\r\n```",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1409916462/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/2225163862",
    "html_url": "https://github.com/rust-lang/rust/issues/23731#issuecomment-2225163862",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23731",
    "id": 2225163862,
    "node_id": "IC_kwDOAAsO6M6EoU5W",
    "user": {
      "login": "peter-scholtens",
      "id": 7198614,
      "node_id": "MDQ6VXNlcjcxOTg2MTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7198614?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/peter-scholtens",
      "html_url": "https://github.com/peter-scholtens",
      "followers_url": "https://api.github.com/users/peter-scholtens/followers",
      "following_url": "https://api.github.com/users/peter-scholtens/following{/other_user}",
      "gists_url": "https://api.github.com/users/peter-scholtens/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/peter-scholtens/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/peter-scholtens/subscriptions",
      "organizations_url": "https://api.github.com/users/peter-scholtens/orgs",
      "repos_url": "https://api.github.com/users/peter-scholtens/repos",
      "events_url": "https://api.github.com/users/peter-scholtens/events{/privacy}",
      "received_events_url": "https://api.github.com/users/peter-scholtens/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2024-07-12T09:14:45Z",
    "updated_at": "2024-07-12T09:16:15Z",
    "body": "For my use case it would be handy to get the popped value and inspect it: I try to detect if a revision control tool is used for my application by inspecting the presence of a hidden directory name. However, I would also like to inspect if the user is **not** reading or writing in that hidden revision control directory itself, as this will be dangerous. Imagine a file layout like this:\r\n\r\n```\r\n\u251c\u2500\u2500 my_project/\r\n\u2506   \u251c\u2500\u2500 correct_location/\r\n    \u251c\u2500\u2500 .svn/\r\n\u2506       \u2514\u2500\u2500 dangerous_location/\r\n```\r\nNow popping a `PathBuf` from `dangerous_location` I could test in the popped value is equal to `.svn` and emit a warning or error. Unfortunately, as mentioned earlier, `Pathbuf::pop` is **not** the inverse of `Pathbuf::push`. \r\n\r\nSome other remarks:\r\n\r\n1. I agree that the current behavior of `Pathbuf::pop` is indeed better described as `truncate`. Deprecating the old `pop` and introducing a new `pop_with_value` would be nice for my use case.\r\n2. Possibly returning a [component](https://doc.rust-lang.org/stable/std/path/enum.Component.html) by `PathBuf::pop_with_value` is even better?",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/2225163862/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
