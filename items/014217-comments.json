[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/43158575",
    "html_url": "https://github.com/rust-lang/rust/pull/14217#issuecomment-43158575",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14217",
    "id": 43158575,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMTU4NTc1",
    "user": {
      "login": "chris-morgan",
      "id": 392868,
      "node_id": "MDQ6VXNlcjM5Mjg2OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/392868?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chris-morgan",
      "html_url": "https://github.com/chris-morgan",
      "followers_url": "https://api.github.com/users/chris-morgan/followers",
      "following_url": "https://api.github.com/users/chris-morgan/following{/other_user}",
      "gists_url": "https://api.github.com/users/chris-morgan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chris-morgan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chris-morgan/subscriptions",
      "organizations_url": "https://api.github.com/users/chris-morgan/orgs",
      "repos_url": "https://api.github.com/users/chris-morgan/repos",
      "events_url": "https://api.github.com/users/chris-morgan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chris-morgan/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-05-15T01:03:17Z",
    "updated_at": "2014-05-15T01:06:45Z",
    "body": "(This is an unsolicited contribution; I expect it to be looked on with deep suspicion and will not be surprised if it is rejected.)\n\nAs a demonstration of where I want this stuff, my header representation scheme in Teepee needs this for optimal efficiency.\n\nIn [src/httpcommon/headers/mod.rs](https://github.com/teepee/teepee/blob/50a49cfce9400449b8569419a21a83ff862049e5/src/httpcommon/headers/mod.rs) I define `Header` as `Any`-compatible. Of course, I then need to go implementing all the `Any*Ext` traits, because while `Header` extends `Any`, `&Header` does not extend `&Any`, &c. This has the effect of diminishing the value of these unchecked methods to me as I still need to actually implement them, so my maintenance burden is not really changed one way or the other by this going upstream. This, by the way, is a pity. Still, I think there\u2019s value in having them, and it makes the feature that much more official.\n\nThe usage of the unchecked methods is in [src/httpcommon/headers/internals.rs, lines 125-126 and 155-156](https://github.com/teepee/teepee/blob/50a49cfce9400449b8569419a21a83ff862049e5/src/httpcommon/headers/internals.rs#L125..L126): box a value of a known type and immediately take a reference to it; no point in paying the `is` check twice there. Once it\u2019s being mingled with the `Some` part, I don\u2019t think you could just add a method which boxed-and-returned-a-reference, so providing the unchecked variety is the easier way to go.\n\nLine 135 also demonstrates another case for it, though there it is just a tad bit of convenience in matching which could be eradicated in favour of using the safe interface, at just the cost of slightly uglier code. (I should probably change it anyway.)\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/43158575/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/43158715",
    "html_url": "https://github.com/rust-lang/rust/pull/14217#issuecomment-43158715",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14217",
    "id": 43158715,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMTU4NzE1",
    "user": {
      "login": "chris-morgan",
      "id": 392868,
      "node_id": "MDQ6VXNlcjM5Mjg2OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/392868?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chris-morgan",
      "html_url": "https://github.com/chris-morgan",
      "followers_url": "https://api.github.com/users/chris-morgan/followers",
      "following_url": "https://api.github.com/users/chris-morgan/following{/other_user}",
      "gists_url": "https://api.github.com/users/chris-morgan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chris-morgan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chris-morgan/subscriptions",
      "organizations_url": "https://api.github.com/users/chris-morgan/orgs",
      "repos_url": "https://api.github.com/users/chris-morgan/repos",
      "events_url": "https://api.github.com/users/chris-morgan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chris-morgan/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-05-15T01:06:00Z",
    "updated_at": "2014-05-15T01:06:00Z",
    "body": "I am curious about the whole implement-the-safe-methods-on-the-trait thing; would making `is` take `&self` be feasible? (As it is, it proceeds to call `get_type_id` which takes `&self`.) If it was, we _could_ use default methods, and so the implementation burden for people wanting to use types that extend `Any` with methods of their own, like my `Header`, would be back to being smaller.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/43158715/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/43440917",
    "html_url": "https://github.com/rust-lang/rust/pull/14217#issuecomment-43440917",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14217",
    "id": 43440917,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNDQwOTE3",
    "user": {
      "login": "chris-morgan",
      "id": 392868,
      "node_id": "MDQ6VXNlcjM5Mjg2OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/392868?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chris-morgan",
      "html_url": "https://github.com/chris-morgan",
      "followers_url": "https://api.github.com/users/chris-morgan/followers",
      "following_url": "https://api.github.com/users/chris-morgan/following{/other_user}",
      "gists_url": "https://api.github.com/users/chris-morgan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chris-morgan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chris-morgan/subscriptions",
      "organizations_url": "https://api.github.com/users/chris-morgan/orgs",
      "repos_url": "https://api.github.com/users/chris-morgan/repos",
      "events_url": "https://api.github.com/users/chris-morgan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chris-morgan/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-05-18T14:22:01Z",
    "updated_at": "2014-05-18T14:22:01Z",
    "body": "Before putting the effort into rebasing this against upstream changes\u2014is this addition acceptable, O ye members of the core team?\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/43440917/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/44871945",
    "html_url": "https://github.com/rust-lang/rust/pull/14217#issuecomment-44871945",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14217",
    "id": 44871945,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0ODcxOTQ1",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-06-02T18:12:26Z",
    "updated_at": "2014-06-02T18:12:26Z",
    "body": "Closing due to inactivity. I'm not sure how far we want to go down this `*_unchecked` path. There is not much precedent (although there is some) in today's libraries. For now I'm tempted to say that we can get by without these functions, but if the need definitely does arise, we can definitely reconsider this.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/44871945/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/44909521",
    "html_url": "https://github.com/rust-lang/rust/pull/14217#issuecomment-44909521",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14217",
    "id": 44909521,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0OTA5NTIx",
    "user": {
      "login": "chris-morgan",
      "id": 392868,
      "node_id": "MDQ6VXNlcjM5Mjg2OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/392868?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chris-morgan",
      "html_url": "https://github.com/chris-morgan",
      "followers_url": "https://api.github.com/users/chris-morgan/followers",
      "following_url": "https://api.github.com/users/chris-morgan/following{/other_user}",
      "gists_url": "https://api.github.com/users/chris-morgan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chris-morgan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chris-morgan/subscriptions",
      "organizations_url": "https://api.github.com/users/chris-morgan/orgs",
      "repos_url": "https://api.github.com/users/chris-morgan/repos",
      "events_url": "https://api.github.com/users/chris-morgan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chris-morgan/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-06-03T01:05:29Z",
    "updated_at": "2014-06-03T01:05:29Z",
    "body": "The inactivity is simply due to me waiting for a decision from the team, so I think that citing that as the reason for closing it simultaneously with giving the opinion originally solicited is not fair.\n\nI would say that there is precedent for such things; for example, a string is UTF-8-checked, but there is a method to skip that checking. I demonstrated my use case\u2014though in it for other technical reasons I would not be using the actual _implementation_ of the unchecked methods, rather having to reimplement them for another trait definition, which certainly weakens my position.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/44909521/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/44911764",
    "html_url": "https://github.com/rust-lang/rust/pull/14217#issuecomment-44911764",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14217",
    "id": 44911764,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0OTExNzY0",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-06-03T01:48:33Z",
    "updated_at": "2014-06-03T01:48:33Z",
    "body": "You must understand that we are all quite busy people, and sometimes PRs like this fall through the cracks. It is not solely our responsibility to ensure that every last pull request receives a detailed review. It is often up to the contributor to actively seek out review if it appears to be inactive for quite some time.\n\nYou're always free to reopen this, I've stated my opinion, but mine is far from the only one.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/44911764/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
