[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/169148949",
    "html_url": "https://github.com/rust-lang/rust/issues/30449#issuecomment-169148949",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30449",
    "id": 169148949,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2OTE0ODk0OQ==",
    "user": {
      "login": "sfackler",
      "id": 1455697,
      "node_id": "MDQ6VXNlcjE0NTU2OTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sfackler",
      "html_url": "https://github.com/sfackler",
      "followers_url": "https://api.github.com/users/sfackler/followers",
      "following_url": "https://api.github.com/users/sfackler/following{/other_user}",
      "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions",
      "organizations_url": "https://api.github.com/users/sfackler/orgs",
      "repos_url": "https://api.github.com/users/sfackler/repos",
      "events_url": "https://api.github.com/users/sfackler/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sfackler/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-01-05T22:06:34Z",
    "updated_at": "2016-01-05T22:06:34Z",
    "body": "See https://github.com/rust-lang-nursery/log/pull/67 for one usage example.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/169148949/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/170833778",
    "html_url": "https://github.com/rust-lang/rust/issues/30449#issuecomment-170833778",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30449",
    "id": 170833778,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MDgzMzc3OA==",
    "user": {
      "login": "yberreby",
      "id": 5556521,
      "node_id": "MDQ6VXNlcjU1NTY1MjE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5556521?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yberreby",
      "html_url": "https://github.com/yberreby",
      "followers_url": "https://api.github.com/users/yberreby/followers",
      "following_url": "https://api.github.com/users/yberreby/following{/other_user}",
      "gists_url": "https://api.github.com/users/yberreby/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yberreby/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yberreby/subscriptions",
      "organizations_url": "https://api.github.com/users/yberreby/orgs",
      "repos_url": "https://api.github.com/users/yberreby/repos",
      "events_url": "https://api.github.com/users/yberreby/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yberreby/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-01-12T08:13:13Z",
    "updated_at": "2016-01-12T08:13:32Z",
    "body": "Is there a good reason for the global panic handler to run **even if the panic is `recover`ed from?**\n\n``` rust\n#![feature(std_panic, recover)]\nuse std::panic;\n\nfn main() {\n    panic::recover(|| {\n        panic!(\"hello\");\n    }).unwrap_err();\n}\n```\n\nhttp://is.gd/HP4EyO\n\nThis prints `thread '<main>' panicked at 'hello', <anon>:6`. It seems unexpected to me, since the panic was caught, it shouldn't trigger the global handler, should it? IMO, only **uncaught** panics should trigger the handler and print a message. If a message needs to be printed, it can be, explicitly, at the `recover` call site.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/170833778/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/171005122",
    "html_url": "https://github.com/rust-lang/rust/issues/30449#issuecomment-171005122",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30449",
    "id": 171005122,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MTAwNTEyMg==",
    "user": {
      "login": "sfackler",
      "id": 1455697,
      "node_id": "MDQ6VXNlcjE0NTU2OTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sfackler",
      "html_url": "https://github.com/sfackler",
      "followers_url": "https://api.github.com/users/sfackler/followers",
      "following_url": "https://api.github.com/users/sfackler/following{/other_user}",
      "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions",
      "organizations_url": "https://api.github.com/users/sfackler/orgs",
      "repos_url": "https://api.github.com/users/sfackler/repos",
      "events_url": "https://api.github.com/users/sfackler/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sfackler/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-01-12T18:35:45Z",
    "updated_at": "2016-01-12T18:35:45Z",
    "body": "There's some talk about this in the RFC PR, but the main reason is that it's very important for the handler to be able to take stack traces.\n\nIn addition, the intended use cases for `recover` are fairly limited, and almost all of them involve rethrowing the panic payload at a different location after catching it. The thread _did_ panic, so it makes sense that the handler would be called IMO.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/171005122/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/171520426",
    "html_url": "https://github.com/rust-lang/rust/issues/30449#issuecomment-171520426",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30449",
    "id": 171520426,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MTUyMDQyNg==",
    "user": {
      "login": "shahn",
      "id": 128636,
      "node_id": "MDQ6VXNlcjEyODYzNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/128636?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shahn",
      "html_url": "https://github.com/shahn",
      "followers_url": "https://api.github.com/users/shahn/followers",
      "following_url": "https://api.github.com/users/shahn/following{/other_user}",
      "gists_url": "https://api.github.com/users/shahn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shahn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shahn/subscriptions",
      "organizations_url": "https://api.github.com/users/shahn/orgs",
      "repos_url": "https://api.github.com/users/shahn/repos",
      "events_url": "https://api.github.com/users/shahn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shahn/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-01-14T03:40:21Z",
    "updated_at": "2016-01-14T03:40:21Z",
    "body": "My biggest usecase for this is #1089, so I'd love a way to suppress the std panic handler, too. I would like to present my users with an error message, set an appropriate exit code, and be assured that desctructors ran without wrapping basically all my return values in Results when an error happens very rarely, is dependant on certain combinations of user input that can't be checked early/not very deep in the call chain.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/171520426/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/171520808",
    "html_url": "https://github.com/rust-lang/rust/issues/30449#issuecomment-171520808",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30449",
    "id": 171520808,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MTUyMDgwOA==",
    "user": {
      "login": "sfackler",
      "id": 1455697,
      "node_id": "MDQ6VXNlcjE0NTU2OTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sfackler",
      "html_url": "https://github.com/sfackler",
      "followers_url": "https://api.github.com/users/sfackler/followers",
      "following_url": "https://api.github.com/users/sfackler/following{/other_user}",
      "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions",
      "organizations_url": "https://api.github.com/users/sfackler/orgs",
      "repos_url": "https://api.github.com/users/sfackler/repos",
      "events_url": "https://api.github.com/users/sfackler/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sfackler/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-01-14T03:44:25Z",
    "updated_at": "2016-01-14T03:44:25Z",
    "body": "@shahn `panic::set_handler(|_| ());` should do that for you.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/171520808/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/172334228",
    "html_url": "https://github.com/rust-lang/rust/issues/30449#issuecomment-172334228",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30449",
    "id": 172334228,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MjMzNDIyOA==",
    "user": {
      "login": "fables-tales",
      "id": 96662,
      "node_id": "MDQ6VXNlcjk2NjYy",
      "avatar_url": "https://avatars.githubusercontent.com/u/96662?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fables-tales",
      "html_url": "https://github.com/fables-tales",
      "followers_url": "https://api.github.com/users/fables-tales/followers",
      "following_url": "https://api.github.com/users/fables-tales/following{/other_user}",
      "gists_url": "https://api.github.com/users/fables-tales/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fables-tales/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fables-tales/subscriptions",
      "organizations_url": "https://api.github.com/users/fables-tales/orgs",
      "repos_url": "https://api.github.com/users/fables-tales/repos",
      "events_url": "https://api.github.com/users/fables-tales/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fables-tales/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-01-17T15:06:49Z",
    "updated_at": "2016-01-17T15:06:49Z",
    "body": "I'm trying to do something of the form:\n\n``` rust\nlet orig_handler = panic::take_handler();\npanic::set_handler(|_| ());\n<an actual thing>\npanic::set_handler(orig_handler);\n```\n\nand getting the error\n\n```\nsrc/example_group.rs:41:13: 41:31 error: the trait `for<'r, 'r> core::ops::Fn<(&'r std::panicking::PanicInfo<'r>,)>` is not implemented for the type `Box<for<'r, 'r> core::ops::Fn(&'r std::panicking::PanicInfo<'r>) + Send + Sync>` [E0277]\nsrc/example_group.rs:41             panic::set_handler(orig_panic_handler);\n                                    ^~~~~~~~~~~~~~~~~~\nsrc/example_group.rs:41:13: 41:31 help: run `rustc --explain E0277` to see a detailed explanation\nsrc/example_group.rs:41:13: 41:31 note: required by `std::panicking::set_handler`\nsrc/example_group.rs:41:13: 41:31 error: the trait `for<'r, 'r> core::ops::FnOnce<(&'r std::panicking::PanicInfo<'r>,)>` is not implemented for the type `Box<for<'r, 'r> core::ops::Fn(&'r std::panicking::PanicInfo<'r>) + Send + Sync>` [E0277]\nsrc/example_group.rs:41             panic::set_handler(orig_panic_handler);\n                                    ^~~~~~~~~~~~~~~~~~\nsrc/example_group.rs:41:13: 41:31 help: run `rustc --explain E0277` to see a detailed explanation\nsrc/example_group.rs:41:13: 41:31 help: the following implementations were found:\nsrc/example_group.rs:41:13: 41:31 help:   <Box<alloc::boxed::FnBox<A, Output=R> + 'a> as core::ops::FnOnce<A>>\nsrc/example_group.rs:41:13: 41:31 help:   <Box<alloc::boxed::FnBox<A, Output=R> + Send + 'a> as core::ops::FnOnce<A>>\nsrc/example_group.rs:41:13: 41:31 note: required by `std::panicking::set_handler`\nerror: aborting due to 2 previous errors\nCould not compile `descriptor`.\n```\n\nI tried taking ownership of the value inside the box with\n\n``` rust\npanic::set_handler(*orig_handler);\n```\n\nbut this gives the error\n\n```\nsrc/example_group.rs:41:13: 41:31 error: the trait `core::marker::Sized` is not implemented for the type `for<'r, 'r> core::ops::Fn(&'r std::panicking::PanicInfo<'r>) + Send + Sync` [E0277]\nsrc/example_group.rs:41             panic::set_handler(*orig_panic_handler);\n                                    ^~~~~~~~~~~~~~~~~~\nsrc/example_group.rs:41:13: 41:31 help: run `rustc --explain E0277` to see a detailed explanation\nsrc/example_group.rs:41:13: 41:31 note: `for<'r, 'r> core::ops::Fn(&'r std::panicking::PanicInfo<'r>) + Send + Sync` does not have a constant size known at compile-time\nsrc/example_group.rs:41:13: 41:31 note: required by `std::panicking::set_handler`\nerror: aborting due to previous error\nCould not compile `descriptor`.\n```\n\nI feel like it should be easy to `set_handler` the result from `take_handler` and I might be missing a trick here. Does anyone have any advice for me? I really like this API and I'd appreciate any help ^_^\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/172334228/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/172334475",
    "html_url": "https://github.com/rust-lang/rust/issues/30449#issuecomment-172334475",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30449",
    "id": 172334475,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MjMzNDQ3NQ==",
    "user": {
      "login": "yberreby",
      "id": 5556521,
      "node_id": "MDQ6VXNlcjU1NTY1MjE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5556521?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yberreby",
      "html_url": "https://github.com/yberreby",
      "followers_url": "https://api.github.com/users/yberreby/followers",
      "following_url": "https://api.github.com/users/yberreby/following{/other_user}",
      "gists_url": "https://api.github.com/users/yberreby/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yberreby/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yberreby/subscriptions",
      "organizations_url": "https://api.github.com/users/yberreby/orgs",
      "repos_url": "https://api.github.com/users/yberreby/repos",
      "events_url": "https://api.github.com/users/yberreby/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yberreby/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-01-17T15:10:51Z",
    "updated_at": "2016-01-17T15:10:51Z",
    "body": "@samphippen This is ugly, but it works.\n\n``` rust\n#![feature(std_panic, panic_handler)]\nuse std::panic;\n\nfn main() {\n    let orig_handler = panic::take_handler();\n    panic::set_handler(|_| ());\n    // <an actual thing>\n    panic::set_handler(move |info| (*orig_handler)(info));\n}\n```\n\nhttp://is.gd/CzXxcb\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/172334475/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/172334514",
    "html_url": "https://github.com/rust-lang/rust/issues/30449#issuecomment-172334514",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30449",
    "id": 172334514,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MjMzNDUxNA==",
    "user": {
      "login": "fables-tales",
      "id": 96662,
      "node_id": "MDQ6VXNlcjk2NjYy",
      "avatar_url": "https://avatars.githubusercontent.com/u/96662?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fables-tales",
      "html_url": "https://github.com/fables-tales",
      "followers_url": "https://api.github.com/users/fables-tales/followers",
      "following_url": "https://api.github.com/users/fables-tales/following{/other_user}",
      "gists_url": "https://api.github.com/users/fables-tales/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fables-tales/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fables-tales/subscriptions",
      "organizations_url": "https://api.github.com/users/fables-tales/orgs",
      "repos_url": "https://api.github.com/users/fables-tales/repos",
      "events_url": "https://api.github.com/users/fables-tales/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fables-tales/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-01-17T15:11:40Z",
    "updated_at": "2016-01-17T15:11:40Z",
    "body": "thanks!\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/172334514/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/172354300",
    "html_url": "https://github.com/rust-lang/rust/issues/30449#issuecomment-172354300",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30449",
    "id": 172354300,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MjM1NDMwMA==",
    "user": {
      "login": "fables-tales",
      "id": 96662,
      "node_id": "MDQ6VXNlcjk2NjYy",
      "avatar_url": "https://avatars.githubusercontent.com/u/96662?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fables-tales",
      "html_url": "https://github.com/fables-tales",
      "followers_url": "https://api.github.com/users/fables-tales/followers",
      "following_url": "https://api.github.com/users/fables-tales/following{/other_user}",
      "gists_url": "https://api.github.com/users/fables-tales/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fables-tales/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fables-tales/subscriptions",
      "organizations_url": "https://api.github.com/users/fables-tales/orgs",
      "repos_url": "https://api.github.com/users/fables-tales/repos",
      "events_url": "https://api.github.com/users/fables-tales/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fables-tales/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-01-17T17:16:39Z",
    "updated_at": "2016-01-17T17:18:16Z",
    "body": "Further to this, I think there's a race or bug in the implementation. If this is the wrong place to report this issue please let me know, and I'll delete this comment and put it in the appropriate place. I'm aware this feature is unstable as well, but I figured I'd report some real world feedback anyway. My use case boils down to the following rust program:\n\n``` rust\n#![feature(panic_handler, recover, std_panic)]\nuse std::thread;\nuse std::panic::{self, recover};\n\nfn main() {\n    let mut build = Vec::new();\n    for _ in 0..10 {\n        build.push(thread::spawn(|| {\n            let orig_handler = panic::take_handler();\n\n            panic::set_handler(|_| ());\n\n            let _res = recover(|| {\n                panic!(\"fail\");\n            });\n\n\n            panic::set_handler(move |info| { (*orig_handler)(info) });\n        }));\n    }\n\n    let results: Vec<_> = build.into_iter().map(|jh| jh.join()).collect();\n    let all_passed = results.into_iter().all(|r| r.is_ok());\n    println!(\"{}\", all_passed);\n}\n```\n\nWhen I run this, I get the following output:\n\n```\n     Running `target/debug/main`\nthread '<unnamed>' panicked at 'fail', src/bin/main.rs:14\nthread '<unnamed>' panicked at 'fail', src/bin/main.rs:14\ntrue\n```\n\n(other runs produce more output, or garbled output, but always fewer than 10 total lines)\n\nGiven that I'm running 10 threads, I'd expect to either 10 lines of output, or 0, but not two. Is this an incorrect usage of the API, or is this actually a bug I'm seeing?\n\nedit: versions\n\n```\n$ cargo --version\ncargo 0.8.0-nightly (2c1426e 2016-01-15)\n$ rustc --version\nrustc 1.7.0-nightly (2fb0c5ebc 2016-01-14)\n$\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/172354300/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/172358083",
    "html_url": "https://github.com/rust-lang/rust/issues/30449#issuecomment-172358083",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30449",
    "id": 172358083,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MjM1ODA4Mw==",
    "user": {
      "login": "SimonSapin",
      "id": 291359,
      "node_id": "MDQ6VXNlcjI5MTM1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SimonSapin",
      "html_url": "https://github.com/SimonSapin",
      "followers_url": "https://api.github.com/users/SimonSapin/followers",
      "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}",
      "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions",
      "organizations_url": "https://api.github.com/users/SimonSapin/orgs",
      "repos_url": "https://api.github.com/users/SimonSapin/repos",
      "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SimonSapin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-01-17T17:47:44Z",
    "updated_at": "2016-01-17T17:47:44Z",
    "body": "Having `set_handler` be a separate call from `take_handler` is inherently racy. This is a bug in the API design IMO.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/172358083/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/172359901",
    "html_url": "https://github.com/rust-lang/rust/issues/30449#issuecomment-172359901",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30449",
    "id": 172359901,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MjM1OTkwMQ==",
    "user": {
      "login": "sfackler",
      "id": 1455697,
      "node_id": "MDQ6VXNlcjE0NTU2OTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sfackler",
      "html_url": "https://github.com/sfackler",
      "followers_url": "https://api.github.com/users/sfackler/followers",
      "following_url": "https://api.github.com/users/sfackler/following{/other_user}",
      "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions",
      "organizations_url": "https://api.github.com/users/sfackler/orgs",
      "repos_url": "https://api.github.com/users/sfackler/repos",
      "events_url": "https://api.github.com/users/sfackler/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sfackler/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-01-17T18:12:51Z",
    "updated_at": "2016-01-17T18:12:51Z",
    "body": "@samphippen The panic handler is a global resource. If multiple threads are messing with it at once without synchronization, you'll see that kind of behavior.\n\nYou will want to take a different approach, possibly involving a handler that looks at a thread local which indicates if the panic should be suppressed.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/172359901/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/172360114",
    "html_url": "https://github.com/rust-lang/rust/issues/30449#issuecomment-172360114",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30449",
    "id": 172360114,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MjM2MDExNA==",
    "user": {
      "login": "yberreby",
      "id": 5556521,
      "node_id": "MDQ6VXNlcjU1NTY1MjE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5556521?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yberreby",
      "html_url": "https://github.com/yberreby",
      "followers_url": "https://api.github.com/users/yberreby/followers",
      "following_url": "https://api.github.com/users/yberreby/following{/other_user}",
      "gists_url": "https://api.github.com/users/yberreby/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yberreby/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yberreby/subscriptions",
      "organizations_url": "https://api.github.com/users/yberreby/orgs",
      "repos_url": "https://api.github.com/users/yberreby/repos",
      "events_url": "https://api.github.com/users/yberreby/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yberreby/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-01-17T18:16:38Z",
    "updated_at": "2016-01-17T18:16:38Z",
    "body": "Now that `recover` was stabilized, do we still _need_ global, or even thread-local panic handlers? `recover` with an error branch seems less error prone, immune (I think) to this kind of race condition, and cleaner overall.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/172360114/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/172360858",
    "html_url": "https://github.com/rust-lang/rust/issues/30449#issuecomment-172360858",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30449",
    "id": 172360858,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MjM2MDg1OA==",
    "user": {
      "login": "sfackler",
      "id": 1455697,
      "node_id": "MDQ6VXNlcjE0NTU2OTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sfackler",
      "html_url": "https://github.com/sfackler",
      "followers_url": "https://api.github.com/users/sfackler/followers",
      "following_url": "https://api.github.com/users/sfackler/following{/other_user}",
      "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions",
      "organizations_url": "https://api.github.com/users/sfackler/orgs",
      "repos_url": "https://api.github.com/users/sfackler/repos",
      "events_url": "https://api.github.com/users/sfackler/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sfackler/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-01-17T18:22:53Z",
    "updated_at": "2016-01-17T18:23:44Z",
    "body": "@SimonSapin Those kinds of race conditions still exist if setting and taking were not separate actions. If multiple threads are adjusting a global resource at once without any synchronization at once, you'll see inconsistent behavior. For example, if the panic handlers were a stack, and each handler could choose whether or not to let the next handler run, the ordering of that stack would be inconsistent and so if any handler doesn't unconditionally allow the next handler to run, you'll see inconsistent behavior.\n\n@yberreby `recover` hasn't yet been stabilized. Anyway, the use case for panic handlers is e.g. \"I want to log panic messages with liblog instead of having them dumped to standard output\". `recover` can't really serve that purpose because the handler will run anyway before the `recover` intercepts the unwind, `recover` doesn't have contextual information about the panic like the line number, and you don't necessarily have control over all threads in your program to insert the `recover`s.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/172360858/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/172361146",
    "html_url": "https://github.com/rust-lang/rust/issues/30449#issuecomment-172361146",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30449",
    "id": 172361146,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MjM2MTE0Ng==",
    "user": {
      "login": "sfackler",
      "id": 1455697,
      "node_id": "MDQ6VXNlcjE0NTU2OTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sfackler",
      "html_url": "https://github.com/sfackler",
      "followers_url": "https://api.github.com/users/sfackler/followers",
      "following_url": "https://api.github.com/users/sfackler/following{/other_user}",
      "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions",
      "organizations_url": "https://api.github.com/users/sfackler/orgs",
      "repos_url": "https://api.github.com/users/sfackler/repos",
      "events_url": "https://api.github.com/users/sfackler/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sfackler/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-01-17T18:27:18Z",
    "updated_at": "2016-01-17T18:28:32Z",
    "body": "The issue with resetting an old handler is a problem - it's not great to force it to get wrapped in another closure every time. It seems like adjusting `set_handler` to take an `Into<Box<Fn(&PanicInfo)>>` would be what you'd want, but it doesn't look like `From<T>` is implemented for `Box<T>`. @aturon is that impl prohibited by coherence or something, or could we add it?\n\nEDIT: Ah, it's actually a bit weirder since it's more like `impl<F: Fn(&PanicInfo)> From<F> for Box<Fn(&PanicInfo)>`.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/172361146/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/172362618",
    "html_url": "https://github.com/rust-lang/rust/issues/30449#issuecomment-172362618",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30449",
    "id": 172362618,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MjM2MjYxOA==",
    "user": {
      "login": "yberreby",
      "id": 5556521,
      "node_id": "MDQ6VXNlcjU1NTY1MjE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5556521?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yberreby",
      "html_url": "https://github.com/yberreby",
      "followers_url": "https://api.github.com/users/yberreby/followers",
      "following_url": "https://api.github.com/users/yberreby/following{/other_user}",
      "gists_url": "https://api.github.com/users/yberreby/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yberreby/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yberreby/subscriptions",
      "organizations_url": "https://api.github.com/users/yberreby/orgs",
      "repos_url": "https://api.github.com/users/yberreby/repos",
      "events_url": "https://api.github.com/users/yberreby/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yberreby/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-01-17T18:32:11Z",
    "updated_at": "2016-01-17T18:34:31Z",
    "body": "@sfackler Oh? I thought it had been. My mistake.\n\n> `recover` can't really serve that purpose because the handler will run anyway before the recover intercepts the unwind, recover doesn't have contextual information about the panic like the line number, and you don't necessarily have control over all threads in your program to insert the recovers.\n\nCouldn't all of this be solved rather easily, especially since `recover` is still unstable?\n- Add a `PanicInfo` parameter to `recover`'s `FnOnce`.\n- Have just one panic handler for the main thread, which _only_ runs in case of a bubbled up, unhandled, unrecovered panic.\n\nYou usually don't want to have dependencies mess with a global resource, but the current approach encourages this behavior. If you don't want caught panics to be silent, you can always re-throw them and have them bubble up to the main thread, can't you?\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/172362618/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/172363679",
    "html_url": "https://github.com/rust-lang/rust/issues/30449#issuecomment-172363679",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30449",
    "id": 172363679,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MjM2MzY3OQ==",
    "user": {
      "login": "sfackler",
      "id": 1455697,
      "node_id": "MDQ6VXNlcjE0NTU2OTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sfackler",
      "html_url": "https://github.com/sfackler",
      "followers_url": "https://api.github.com/users/sfackler/followers",
      "following_url": "https://api.github.com/users/sfackler/following{/other_user}",
      "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions",
      "organizations_url": "https://api.github.com/users/sfackler/orgs",
      "repos_url": "https://api.github.com/users/sfackler/repos",
      "events_url": "https://api.github.com/users/sfackler/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sfackler/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-01-17T18:45:33Z",
    "updated_at": "2016-01-17T18:47:55Z",
    "body": "`PanicInfo` wouldn't be a parameter to the closure, but rather part of the `Err` return value.\n\n\"Just one panic handler\" sounds like a global resource to me. How would you configure it? It's absolutely true you don't want dependencies messing with the global handler whenever they want, but you absolutely _do_ want it to be possible for dependencies to adjust the panic handler when asked. For example, you may want your `log` dependency to install a handler that logs panics: https://doc.rust-lang.org/log/log/fn.log_panics.html\n\nEDIT: Ah, and as I mentioned in a previous comment, it is crucial that you be able to capture backtraces at the point that you \"deal\" with a panic, whether that be in a panic handler or elsewhere.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/172363679/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/172365135",
    "html_url": "https://github.com/rust-lang/rust/issues/30449#issuecomment-172365135",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30449",
    "id": 172365135,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MjM2NTEzNQ==",
    "user": {
      "login": "yberreby",
      "id": 5556521,
      "node_id": "MDQ6VXNlcjU1NTY1MjE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5556521?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yberreby",
      "html_url": "https://github.com/yberreby",
      "followers_url": "https://api.github.com/users/yberreby/followers",
      "following_url": "https://api.github.com/users/yberreby/following{/other_user}",
      "gists_url": "https://api.github.com/users/yberreby/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yberreby/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yberreby/subscriptions",
      "organizations_url": "https://api.github.com/users/yberreby/orgs",
      "repos_url": "https://api.github.com/users/yberreby/repos",
      "events_url": "https://api.github.com/users/yberreby/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yberreby/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-01-17T18:53:39Z",
    "updated_at": "2016-01-17T18:54:40Z",
    "body": "@sfackler You're right, it should be part of `Err`.\n\n\"Just one panic handler\" _is_ a global resource, like, say, environment variables. However, with this approach, it's less problematic because `recover` eliminates the need for it in the majority of cases.\n\nMoreover, we already had a global panic handler. There needs to be one to provide logging in case of completely unhandled panic.\n\nIt's not strictly needed for it to be writable, but it's convenient for the use-case you described (panic logging), and not having to wrap main in a giant `recover` closure. If users want to do the latter and get the same behavior, they can.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/172365135/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/172378925",
    "html_url": "https://github.com/rust-lang/rust/issues/30449#issuecomment-172378925",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30449",
    "id": 172378925,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MjM3ODkyNQ==",
    "user": {
      "login": "sfackler",
      "id": 1455697,
      "node_id": "MDQ6VXNlcjE0NTU2OTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sfackler",
      "html_url": "https://github.com/sfackler",
      "followers_url": "https://api.github.com/users/sfackler/followers",
      "following_url": "https://api.github.com/users/sfackler/following{/other_user}",
      "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions",
      "organizations_url": "https://api.github.com/users/sfackler/orgs",
      "repos_url": "https://api.github.com/users/sfackler/repos",
      "events_url": "https://api.github.com/users/sfackler/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sfackler/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-01-17T20:43:24Z",
    "updated_at": "2016-01-17T20:43:24Z",
    "body": "From my perspective, there are a couple things here:\n\nFirst, `recover` is a thing that most people _should not use_. It's intended to be used in a very few contexts, primarily preventing a program from unwinding through FFI layers. We explicitly do not want `recover` to be used in contexts where people would be catching panics as a matter of course. The `RecoverSafe` bound makes it unergonomic to work with, and that is to some extent intentional.\n\nHere are a couple of examples that the panic handler API is intended to help deal with. Could you go into a bit more detail on how these kinds of things would work with your proposal? I'm not sure I totally understand it.\n\nI'm writing an e.g. webserver, and use `log::log_panics` to send panic messages to my logger instead of standard error.\n\nI notice some weird panics popping up, and switch to a panic handler that also captures backtraces of the panic source.\n\nI can't track down what's going on just from a backtrace, so I switch to a panic handler that will trigger a process abort for the panic I'm debugging so I can look at the core dump in a debugger.\n\nNote that the latter two of these cases require that the code that looks at the `PanicInfo` needs to be running before unwinding begins.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/172378925/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/172531305",
    "html_url": "https://github.com/rust-lang/rust/issues/30449#issuecomment-172531305",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30449",
    "id": 172531305,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MjUzMTMwNQ==",
    "user": {
      "login": "SimonSapin",
      "id": 291359,
      "node_id": "MDQ6VXNlcjI5MTM1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SimonSapin",
      "html_url": "https://github.com/SimonSapin",
      "followers_url": "https://api.github.com/users/SimonSapin/followers",
      "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}",
      "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions",
      "organizations_url": "https://api.github.com/users/SimonSapin/orgs",
      "repos_url": "https://api.github.com/users/SimonSapin/repos",
      "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SimonSapin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-01-18T13:49:41Z",
    "updated_at": "2016-01-18T13:49:41Z",
    "body": "@sfackler Yes, synchronization is needed, and I argue that libstd should provide that synchronization by default. The API could take a closure that is given a the previous handler and return the new one, and is called with a lock held internally. Something like:\n\n```\npub type Handler = Box<Fn(&PanicInfo) + 'static + Sync + Send>;\npub fn set_handler<F>(F) where F: FnOnce(Handler) -> Handler\n```\n\nLooking at the source now, access to the private `static mut HANDLER` is already protected by a RW lock.\n\nNote that the first thing `set_handler` currently does with the given unboxed generic `Fn(&PanicInfo)` is box it, so it\u2019s not a loss to take it boxed in the first place.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/172531305/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/172621728",
    "html_url": "https://github.com/rust-lang/rust/issues/30449#issuecomment-172621728",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30449",
    "id": 172621728,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MjYyMTcyOA==",
    "user": {
      "login": "sfackler",
      "id": 1455697,
      "node_id": "MDQ6VXNlcjE0NTU2OTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sfackler",
      "html_url": "https://github.com/sfackler",
      "followers_url": "https://api.github.com/users/sfackler/followers",
      "following_url": "https://api.github.com/users/sfackler/following{/other_user}",
      "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions",
      "organizations_url": "https://api.github.com/users/sfackler/orgs",
      "repos_url": "https://api.github.com/users/sfackler/repos",
      "events_url": "https://api.github.com/users/sfackler/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sfackler/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-01-18T18:52:18Z",
    "updated_at": "2016-01-18T18:52:18Z",
    "body": "@SimonSapin the issue is that that kind of API _doesn't provide_ the proper sort of synchronization. For example, the race that @samphippen ran into is still present.\n\nFundamentally, if you have multiple threads adjusting the panic handler concurrently, it seems to me like you _need_ an external, implementation specific ordering to be imposed for the resulting handler to be consistent.\n\nWhat use cases were you imagining for which an atomic `set_handler`/`take_handler` combo was necessary? I think I'd prefer to implement it via an RAII-style API rather than one with nested closures.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/172621728/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/175099752",
    "html_url": "https://github.com/rust-lang/rust/issues/30449#issuecomment-175099752",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30449",
    "id": 175099752,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3NTA5OTc1Mg==",
    "user": {
      "login": "aturon",
      "id": 709807,
      "node_id": "MDQ6VXNlcjcwOTgwNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/709807?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aturon",
      "html_url": "https://github.com/aturon",
      "followers_url": "https://api.github.com/users/aturon/followers",
      "following_url": "https://api.github.com/users/aturon/following{/other_user}",
      "gists_url": "https://api.github.com/users/aturon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aturon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aturon/subscriptions",
      "organizations_url": "https://api.github.com/users/aturon/orgs",
      "repos_url": "https://api.github.com/users/aturon/repos",
      "events_url": "https://api.github.com/users/aturon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aturon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-01-26T16:21:26Z",
    "updated_at": "2016-01-26T16:21:26Z",
    "body": "@sfackler \n\n>  It seems like adjusting set_handler to take an Into<Box<Fn(&PanicInfo)>> would be what you'd want, but it doesn't look like From<T> is implemented for Box<T>. @aturon is that impl prohibited by coherence or something, or could we add it?\n\nNope, should be fine. I don't remember any deliberate decision not to include it.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/175099752/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/195521260",
    "html_url": "https://github.com/rust-lang/rust/issues/30449#issuecomment-195521260",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30449",
    "id": 195521260,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE5NTUyMTI2MA==",
    "user": {
      "login": "sfackler",
      "id": 1455697,
      "node_id": "MDQ6VXNlcjE0NTU2OTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sfackler",
      "html_url": "https://github.com/sfackler",
      "followers_url": "https://api.github.com/users/sfackler/followers",
      "following_url": "https://api.github.com/users/sfackler/following{/other_user}",
      "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions",
      "organizations_url": "https://api.github.com/users/sfackler/orgs",
      "repos_url": "https://api.github.com/users/sfackler/repos",
      "events_url": "https://api.github.com/users/sfackler/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sfackler/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-03-11T19:55:03Z",
    "updated_at": "2016-03-11T19:55:03Z",
    "body": "I think the terminology of \"panic handlers\" is a bit misleading and confusing. \"Handling\" implies that you are resolving the situation - a panic happened, the handler runs and fixes whatever bad thing was going on. In this API, however, all you get is a \"heads up\" that a panic has occurred.\n\n\"Panic listener\" seems like a more accurate term, IMO.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/195521260/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/196392173",
    "html_url": "https://github.com/rust-lang/rust/issues/30449#issuecomment-196392173",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30449",
    "id": 196392173,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE5NjM5MjE3Mw==",
    "user": {
      "login": "aturon",
      "id": 709807,
      "node_id": "MDQ6VXNlcjcwOTgwNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/709807?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aturon",
      "html_url": "https://github.com/aturon",
      "followers_url": "https://api.github.com/users/aturon/followers",
      "following_url": "https://api.github.com/users/aturon/following{/other_user}",
      "gists_url": "https://api.github.com/users/aturon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aturon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aturon/subscriptions",
      "organizations_url": "https://api.github.com/users/aturon/orgs",
      "repos_url": "https://api.github.com/users/aturon/repos",
      "events_url": "https://api.github.com/users/aturon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aturon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-03-14T16:19:27Z",
    "updated_at": "2016-03-14T16:19:27Z",
    "body": "@sfackler I agree that \"panic handler\" is quite misleading. \"Listener\" is reasonable, but I might vote for something more like \"hook\", which is pretty evocative of \"something that runs whenever a panic occurs\".\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/196392173/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/196577559",
    "html_url": "https://github.com/rust-lang/rust/issues/30449#issuecomment-196577559",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30449",
    "id": 196577559,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE5NjU3NzU1OQ==",
    "user": {
      "login": "sfackler",
      "id": 1455697,
      "node_id": "MDQ6VXNlcjE0NTU2OTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sfackler",
      "html_url": "https://github.com/sfackler",
      "followers_url": "https://api.github.com/users/sfackler/followers",
      "following_url": "https://api.github.com/users/sfackler/following{/other_user}",
      "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions",
      "organizations_url": "https://api.github.com/users/sfackler/orgs",
      "repos_url": "https://api.github.com/users/sfackler/repos",
      "events_url": "https://api.github.com/users/sfackler/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sfackler/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-03-15T00:06:34Z",
    "updated_at": "2016-03-15T00:06:34Z",
    "body": "Hook sounds right to me.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/196577559/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/199640531",
    "html_url": "https://github.com/rust-lang/rust/issues/30449#issuecomment-199640531",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30449",
    "id": 199640531,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE5OTY0MDUzMQ==",
    "user": {
      "login": "hank",
      "id": 8534,
      "node_id": "MDQ6VXNlcjg1MzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8534?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hank",
      "html_url": "https://github.com/hank",
      "followers_url": "https://api.github.com/users/hank/followers",
      "following_url": "https://api.github.com/users/hank/following{/other_user}",
      "gists_url": "https://api.github.com/users/hank/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hank/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hank/subscriptions",
      "organizations_url": "https://api.github.com/users/hank/orgs",
      "repos_url": "https://api.github.com/users/hank/repos",
      "events_url": "https://api.github.com/users/hank/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hank/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-03-22T05:06:29Z",
    "updated_at": "2016-03-22T05:06:29Z",
    "body": "Am I right that with the MSVC linker this may allow me to create binaries that don't depend on the VC runtime's __except_handler3 for panic?  Because that is one of the last dependencies I have for my small program.  If you know of a better way, I'm all ears.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/199640531/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/199641011",
    "html_url": "https://github.com/rust-lang/rust/issues/30449#issuecomment-199641011",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30449",
    "id": 199641011,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE5OTY0MTAxMQ==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-03-22T05:11:34Z",
    "updated_at": "2016-03-22T05:11:34Z",
    "body": "@hank no unfortunately this feature won't cover that, but https://github.com/rust-lang/rfcs/pull/1513 should suffice for it\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/199641011/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/215902591",
    "html_url": "https://github.com/rust-lang/rust/issues/30449#issuecomment-215902591",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30449",
    "id": 215902591,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxNTkwMjU5MQ==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-04-29T22:56:46Z",
    "updated_at": "2016-04-29T22:56:46Z",
    "body": "\ud83d\udd14 This issue is now entering its cycle-long **final comment period** for stabilization \ud83d\udd14 \n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/215902591/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/219837146",
    "html_url": "https://github.com/rust-lang/rust/issues/30449#issuecomment-219837146",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30449",
    "id": 219837146,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxOTgzNzE0Ng==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-05-17T20:06:29Z",
    "updated_at": "2016-05-17T20:06:29Z",
    "body": "The libs team discussed this issue during triage yesterday and the decision was to **stabilize**\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/219837146/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/220703795",
    "html_url": "https://github.com/rust-lang/rust/issues/30449#issuecomment-220703795",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30449",
    "id": 220703795,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMDcwMzc5NQ==",
    "user": {
      "login": "tomaka",
      "id": 1412254,
      "node_id": "MDQ6VXNlcjE0MTIyNTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1412254?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tomaka",
      "html_url": "https://github.com/tomaka",
      "followers_url": "https://api.github.com/users/tomaka/followers",
      "following_url": "https://api.github.com/users/tomaka/following{/other_user}",
      "gists_url": "https://api.github.com/users/tomaka/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tomaka/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tomaka/subscriptions",
      "organizations_url": "https://api.github.com/users/tomaka/orgs",
      "repos_url": "https://api.github.com/users/tomaka/repos",
      "events_url": "https://api.github.com/users/tomaka/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tomaka/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-05-20T19:57:13Z",
    "updated_at": "2016-05-20T19:57:36Z",
    "body": "When the crate is compiled with `-C panic=abort`, is the hook called after a panic and before the abort? Or is it not called at all? Maybe the docs should have a note about that.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/220703795/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/220743576",
    "html_url": "https://github.com/rust-lang/rust/issues/30449#issuecomment-220743576",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30449",
    "id": 220743576,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMDc0MzU3Ng==",
    "user": {
      "login": "sfackler",
      "id": 1455697,
      "node_id": "MDQ6VXNlcjE0NTU2OTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sfackler",
      "html_url": "https://github.com/sfackler",
      "followers_url": "https://api.github.com/users/sfackler/followers",
      "following_url": "https://api.github.com/users/sfackler/following{/other_user}",
      "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions",
      "organizations_url": "https://api.github.com/users/sfackler/orgs",
      "repos_url": "https://api.github.com/users/sfackler/repos",
      "events_url": "https://api.github.com/users/sfackler/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sfackler/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-05-20T23:48:29Z",
    "updated_at": "2016-05-20T23:48:29Z",
    "body": "I believe it will still be called, yeah - is that right @alexcrichton? I'll update the docs.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/220743576/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/220744599",
    "html_url": "https://github.com/rust-lang/rust/issues/30449#issuecomment-220744599",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30449",
    "id": 220744599,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMDc0NDU5OQ==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-05-20T23:58:40Z",
    "updated_at": "2016-05-20T23:58:40Z",
    "body": "Yes hooks are called regardless of the panic runtime\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/220744599/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
