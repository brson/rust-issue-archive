[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/20026054",
    "html_url": "https://github.com/rust-lang/rust/issues/7400#issuecomment-20026054",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/7400",
    "id": 20026054,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwMDI2MDU0",
    "user": {
      "login": "Aatch",
      "id": 342416,
      "node_id": "MDQ6VXNlcjM0MjQxNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/342416?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Aatch",
      "html_url": "https://github.com/Aatch",
      "followers_url": "https://api.github.com/users/Aatch/followers",
      "following_url": "https://api.github.com/users/Aatch/following{/other_user}",
      "gists_url": "https://api.github.com/users/Aatch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Aatch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Aatch/subscriptions",
      "organizations_url": "https://api.github.com/users/Aatch/orgs",
      "repos_url": "https://api.github.com/users/Aatch/repos",
      "events_url": "https://api.github.com/users/Aatch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Aatch/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-06-26T04:03:29Z",
    "updated_at": "2013-06-26T04:03:29Z",
    "body": "@dcolish So it's a valid issue, (I haven't checked for duplicates yet), but that code shouldn't compile anyway.\n\n``` rust\nstruct BitVector<'self> {\n    v: &'self [u8]\n}\n```\n\nThat struct is defined to contain a _slice_ that lasts for atleast as long as the struct itself. This is perfectly valid. However, this is wrong (explanation inline):\n\n``` rust\npub fn new(n: u64) -> BitVector<'self> {\n    // So this constructs a ~[u8] and assigns it to 'f'\n    let f = vec::with_capacity::<u8>(n);\n    // This constructs 'BitVector' and gives it 'f', since 'f' is a ~[u8] and\n    // 'v' is a &[u8], 'f' is \"auto-sliced\" when you assign it like this.\n    BitVector {\n        v: f\n    }\n    // This is where the lifetime of 'f' ends, since slicing it doesn't move it,\n    // the lifetime ends here and the vector is freed.\n    // Since you are returning a pointer to that vector, this would mean that\n    // BitVector contains a dangling pointer. If it compiled this would be a use-\n    // after-free error, something lifetimes are supposed to prevent.\n}\n```\n\n---\n\ncc'ing @nikomatsakis \n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/20026054/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/21230047",
    "html_url": "https://github.com/rust-lang/rust/issues/7400#issuecomment-21230047",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/7400",
    "id": 21230047,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxMjMwMDQ3",
    "user": {
      "login": "eevee",
      "id": 94112,
      "node_id": "MDQ6VXNlcjk0MTEy",
      "avatar_url": "https://avatars.githubusercontent.com/u/94112?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eevee",
      "html_url": "https://github.com/eevee",
      "followers_url": "https://api.github.com/users/eevee/followers",
      "following_url": "https://api.github.com/users/eevee/following{/other_user}",
      "gists_url": "https://api.github.com/users/eevee/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eevee/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eevee/subscriptions",
      "organizations_url": "https://api.github.com/users/eevee/orgs",
      "repos_url": "https://api.github.com/users/eevee/repos",
      "events_url": "https://api.github.com/users/eevee/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eevee/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-07-19T03:46:47Z",
    "updated_at": "2013-07-19T03:46:47Z",
    "body": "I bumbled across this as well; the problem seems to be that the `<'self>` is missing from after the function name.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/21230047/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/21271989",
    "html_url": "https://github.com/rust-lang/rust/issues/7400#issuecomment-21271989",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/7400",
    "id": 21271989,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxMjcxOTg5",
    "user": {
      "login": "jdm",
      "id": 27658,
      "node_id": "MDQ6VXNlcjI3NjU4",
      "avatar_url": "https://avatars.githubusercontent.com/u/27658?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jdm",
      "html_url": "https://github.com/jdm",
      "followers_url": "https://api.github.com/users/jdm/followers",
      "following_url": "https://api.github.com/users/jdm/following{/other_user}",
      "gists_url": "https://api.github.com/users/jdm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jdm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jdm/subscriptions",
      "organizations_url": "https://api.github.com/users/jdm/orgs",
      "repos_url": "https://api.github.com/users/jdm/repos",
      "events_url": "https://api.github.com/users/jdm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jdm/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-07-19T19:30:34Z",
    "updated_at": "2013-07-19T19:31:05Z",
    "body": "Minimal testcase:\n\n``` rust\npub trait NodeBase<'self> {\n    pub fn base_node(&'self self) -> &'self int;\n}\n\npub fn create<'self, T: NodeBase<'self>>(node: &'self mut T) {\n}\n\nfn main() {\n}\n```\n\n```\nBreakpoint 1, rust_task_fail (task=0x7ffff0204790, expr=0x7fffe84a41a0 \"assertion failed: rp.is_none()\", file=0x7ffff7114570 <str59342> \"/home/jdm/sdb/rust/src/librustc/middle/typeck/collect.rs\", line=1066)\n    at /home/jdm/sdb/rust/src/rt/rust_task.cpp:91\nwarning: Source file is more recent than executable.\n91      task->begin_failure(expr, file, line);\nMissing separate debuginfos, use: debuginfo-install glibc-2.16-33.fc18.x86_64 libgcc-4.7.2-8.fc18.x86_64 libstdc++-4.7.2-8.fc18.x86_64\n(gdb) bt\n#0  rust_task_fail (task=0x7ffff0204790, expr=0x7fffe84a41a0 \"assertion failed: rp.is_none()\", file=0x7ffff7114570 <str59342> \"/home/jdm/sdb/rust/src/librustc/middle/typeck/collect.rs\", line=1066)\n    at /home/jdm/sdb/rust/src/rt/rust_task.cpp:91\n#1  0x00007ffff65907f9 in __morestack () from /usr/local/bin/../lib/librustrt.so\n#2  0x00007ffff6581aa0 in call_on_c_stack (fn_ptr=0x7ffff65813e0 <upcall_s_fail(s_fail_args*)>, args=0x7ffff46c34f0, this=0x7ffff0204790) at /home/jdm/sdb/rust/src/rt/rust_task.h:481\n#3  call_upcall_on_c_stack (fn_ptr=0x7ffff65813e0 <upcall_s_fail(s_fail_args*)>, args=0x7ffff46c34f0, task=<optimized out>) at /home/jdm/sdb/rust/src/rt/rust_upcall.cpp:51\n#4  upcall_fail (expr=<optimized out>, file=0x7ffff7114570 <str59342> \"/home/jdm/sdb/rust/src/librustc/middle/typeck/collect.rs\", line=1066) at /home/jdm/sdb/rust/src/rt/rust_upcall.cpp:134\n#5  0x00007ffff7d29103 in sys::begin_unwind_::_615cb041c655a97::_07pre () from /usr/local/bin/../lib/libcore-c3ca5d77d81b46c1-0.7-pre.so\n#6  0x00007ffff7d29092 in sys::__extensions__::fail_with::anon::anon::expr_fn_20105 () from /usr/local/bin/../lib/libcore-c3ca5d77d81b46c1-0.7-pre.so\n#7  0x00007ffff7c6902b in sys::__extensions__::meth_9151::fail_with::_ac9eb45dc42bd690::_07pre () from /usr/local/bin/../lib/libcore-c3ca5d77d81b46c1-0.7-pre.so\n#8  0x00007ffff6c8bb0d in middle::typeck::collect::ty_of_item::_af587f345880ea15::_07pre () from /usr/local/bin/../lib/librustc-c84825241471686d-0.7-pre.so\n#9  0x00007ffff6c8698b in middle::typeck::collect::convert::_d0cba369a739ab4::_07pre () from /usr/local/bin/../lib/librustc-c84825241471686d-0.7-pre.so\n#10 0x00007ffff6c8636b in middle::typeck::collect::collect_item_types::anon::expr_fn_59405 () from /usr/local/bin/../lib/librustc-c84825241471686d-0.7-pre.so\n#11 0x00007ffff7405ae6 in visit::mk_simple_visitor::anon::expr_fn_17109 () from /usr/local/bin/../lib/libsyntax-84efebcb12c867a2-0.7-pre.so\n#12 0x00007ffff74050ca in visit::mk_simple_visitor::anon::expr_fn_17099 () from /usr/local/bin/../lib/libsyntax-84efebcb12c867a2-0.7-pre.so\n#13 0x00007ffff6890ae1 in visit::visit_crate_34001::_a964efa1e9ab4f6::_07pre () from /usr/local/bin/../lib/librustc-c84825241471686d-0.7-pre.so\n#14 0x00007ffff6c8449e in middle::typeck::collect::collect_item_types::_3ba31b1c9b8b1891::_07pre () from /usr/local/bin/../lib/librustc-c84825241471686d-0.7-pre.so\n#15 0x00007ffff6cdedd2 in middle::typeck::check_crate::anon::expr_fn_60938 () from /usr/local/bin/../lib/librustc-c84825241471686d-0.7-pre.so\n#16 0x00007ffff6cdec29 in util::common::time_60929::_a6aa6673bcdf8f66::_07pre () from /usr/local/bin/../lib/librustc-c84825241471686d-0.7-pre.so\n#17 0x00007ffff6cdc1f0 in middle::typeck::check_crate::_4387c6ff27b03d::_07pre () from /usr/local/bin/../lib/librustc-c84825241471686d-0.7-pre.so\n#18 0x00007ffff6fe349d in driver::driver::compile_rest::_134f5496ff5de1::_07pre () from /usr/local/bin/../lib/librustc-c84825241471686d-0.7-pre.so\n#19 0x00007ffff6fe9682 in driver::driver::compile_upto::_747e21c0469b22f2::_07pre () from /usr/local/bin/../lib/librustc-c84825241471686d-0.7-pre.so\n#20 0x00007ffff6fe9b07 in driver::driver::compile_input::_0b1e5b3afc4cd1::_07pre () from /usr/local/bin/../lib/librustc-c84825241471686d-0.7-pre.so\n#21 0x00007ffff701a32b in run_compiler::_63c0a0c62771367c::_07pre () from /usr/local/bin/../lib/librustc-c84825241471686d-0.7-pre.so\n#22 0x00007ffff702d00e in main::anon::expr_fn_89809 () from /usr/local/bin/../lib/librustc-c84825241471686d-0.7-pre.so\n#23 0x00007ffff702a8fc in monitor::anon::expr_fn_89630 () from /usr/local/bin/../lib/librustc-c84825241471686d-0.7-pre.so\n#24 0x00007ffff70242cc in task::__extensions__::try_89033::anon::expr_fn_89226 () from /usr/local/bin/../lib/librustc-c84825241471686d-0.7-pre.so\n#25 0x00007ffff702d2e8 in __morestack () from /usr/local/bin/../lib/librustc-c84825241471686d-0.7-pre.so\n#26 0x00007ffff7cf2045 in task::spawn::spawn_raw_oldsched::make_child_wrapper::anon::expr_fn_17074 () from /usr/local/bin/../lib/libcore-c3ca5d77d81b46c1-0.7-pre.so\n#27 0x00007ffff7d6e898 in __morestack () from /usr/local/bin/../lib/libcore-c3ca5d77d81b46c1-0.7-pre.so\n#28 0x00007ffff6580414 in task_start_wrapper (a=0x7ffff0205750) at /home/jdm/sdb/rust/src/rt/rust_task.cpp:167\n#29 0x0000000000000000 in ?? ()\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/21271989/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/28175524",
    "html_url": "https://github.com/rust-lang/rust/issues/7400#issuecomment-28175524",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/7400",
    "id": 28175524,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4MTc1NTI0",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-11T05:38:01Z",
    "updated_at": "2013-11-11T05:38:01Z",
    "body": "Closed by #10153, relevant tests already appear to be checked in.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/28175524/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/28190734",
    "html_url": "https://github.com/rust-lang/rust/issues/7400#issuecomment-28190734",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/7400",
    "id": 28190734,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4MTkwNzM0",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-11T11:15:02Z",
    "updated_at": "2013-11-11T11:15:02Z",
    "body": "> Closed by #10153, relevant tests already appear to be checked in.\n\nAre the tests enabled? I didn't check them in, at least.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/28190734/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/28223690",
    "html_url": "https://github.com/rust-lang/rust/issues/7400#issuecomment-28223690",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/7400",
    "id": 28223690,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4MjIzNjkw",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-11T18:05:07Z",
    "updated_at": "2013-11-11T18:05:07Z",
    "body": "I was specifically referencing https://github.com/mozilla/rust/blob/master/src/test/compile-fail/regions-undeclared.rs because this is just using an undeclared region. That being said, you know far more about this than I do, so I'll stick to just flagging as `needstest` for now.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/28223690/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/28238170",
    "html_url": "https://github.com/rust-lang/rust/issues/7400#issuecomment-28238170",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/7400",
    "id": 28238170,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4MjM4MTcw",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-11T20:59:34Z",
    "updated_at": "2013-11-11T20:59:34Z",
    "body": "I don't think a special test is needed, there are tests target the named lifetime resolver.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/28238170/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
