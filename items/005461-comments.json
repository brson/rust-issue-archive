[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/15253595",
    "html_url": "https://github.com/rust-lang/rust/pull/5461#issuecomment-15253595",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5461",
    "id": 15253595,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MjUzNTk1",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-03-21T17:34:56Z",
    "updated_at": "2013-03-21T17:34:56Z",
    "body": "Tim---this basically looks great!  I didn't read it through in utmost detail, more skimmed over.  This seems prone to fast bitrot so I thought it better to give r+ now and we can refine later.  One improvement I would like is if you would modify the comment in typeck/check/mod.rs (or create one on `check_expr`) that explains the invariants here.  For example, is it an invariant that if the thing has type bottom, it will hvae ty_bot (and not some type which has bot embedded?) Similarly for error? I'm not _sure_ that is the right invariant, actually, since it seems like more work to maintain than is worth the trouble, but that's debatable and in any case I'd like to know.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/15253595/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/15256393",
    "html_url": "https://github.com/rust-lang/rust/pull/5461#issuecomment-15256393",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5461",
    "id": 15256393,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MjU2Mzkz",
    "user": {
      "login": "catamorphism",
      "id": 427212,
      "node_id": "MDQ6VXNlcjQyNzIxMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/427212?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/catamorphism",
      "html_url": "https://github.com/catamorphism",
      "followers_url": "https://api.github.com/users/catamorphism/followers",
      "following_url": "https://api.github.com/users/catamorphism/following{/other_user}",
      "gists_url": "https://api.github.com/users/catamorphism/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/catamorphism/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/catamorphism/subscriptions",
      "organizations_url": "https://api.github.com/users/catamorphism/orgs",
      "repos_url": "https://api.github.com/users/catamorphism/repos",
      "events_url": "https://api.github.com/users/catamorphism/events{/privacy}",
      "received_events_url": "https://api.github.com/users/catamorphism/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-03-21T18:19:28Z",
    "updated_at": "2013-03-21T18:19:28Z",
    "body": "@nikomatsakis No, that's not the invariant -- I _wanted_ it to be, but wasn't able to implement it because if I tried to change `ty::mk_t_with_id` to return `ty_bot` when given, say, `~[ty_bot]`, I got memory corruption. So instead, \"has_bot\" and \"has_err\" are just type flags and the predicates `type_is_bot` and `type_is_error` check them. Thus, _observationally_, the invariant that if a thing has type bot then its type will be ty_bot is true, assuming the caller always uses the predicates and doesn't match on the type structure directly. I'll add a comment to this effect.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/15256393/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/15257221",
    "html_url": "https://github.com/rust-lang/rust/pull/5461#issuecomment-15257221",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5461",
    "id": 15257221,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MjU3MjIx",
    "user": {
      "login": "catamorphism",
      "id": 427212,
      "node_id": "MDQ6VXNlcjQyNzIxMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/427212?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/catamorphism",
      "html_url": "https://github.com/catamorphism",
      "followers_url": "https://api.github.com/users/catamorphism/followers",
      "following_url": "https://api.github.com/users/catamorphism/following{/other_user}",
      "gists_url": "https://api.github.com/users/catamorphism/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/catamorphism/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/catamorphism/subscriptions",
      "organizations_url": "https://api.github.com/users/catamorphism/orgs",
      "repos_url": "https://api.github.com/users/catamorphism/repos",
      "events_url": "https://api.github.com/users/catamorphism/events{/privacy}",
      "received_events_url": "https://api.github.com/users/catamorphism/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-03-21T18:34:15Z",
    "updated_at": "2013-03-21T18:34:15Z",
    "body": "Added a comment -- @nikomatsakis r? just to make sure I was clear.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/15257221/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
