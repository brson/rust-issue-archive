[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/132863704",
    "html_url": "https://github.com/rust-lang/rust/issues/27911#issuecomment-132863704",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27911",
    "id": 132863704,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMjg2MzcwNA==",
    "user": {
      "login": "Gankra",
      "id": 1136864,
      "node_id": "MDQ6VXNlcjExMzY4NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1136864?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Gankra",
      "html_url": "https://github.com/Gankra",
      "followers_url": "https://api.github.com/users/Gankra/followers",
      "following_url": "https://api.github.com/users/Gankra/following{/other_user}",
      "gists_url": "https://api.github.com/users/Gankra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Gankra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Gankra/subscriptions",
      "organizations_url": "https://api.github.com/users/Gankra/orgs",
      "repos_url": "https://api.github.com/users/Gankra/repos",
      "events_url": "https://api.github.com/users/Gankra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Gankra/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-08-20T02:50:42Z",
    "updated_at": "2015-08-20T02:50:42Z",
    "body": "It has been argued that the references section should be written in terms of lvalue paths. I believe this is what the borrow checker reasons in terms of, and is at very least a concrete concept. However this section does not want to simply model how the borrow checker thinks -- the entire point is that there needs to be a more fundamental model that the borrow checker models a subset of, but is fundamentally unable to model all of. This is the model unsafe code should be written against, and that the borrow checker can grow into if improved (e.g. nonlexical borrows).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/132863704/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/132865024",
    "html_url": "https://github.com/rust-lang/rust/issues/27911#issuecomment-132865024",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27911",
    "id": 132865024,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMjg2NTAyNA==",
    "user": {
      "login": "Gankra",
      "id": 1136864,
      "node_id": "MDQ6VXNlcjExMzY4NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1136864?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Gankra",
      "html_url": "https://github.com/Gankra",
      "followers_url": "https://api.github.com/users/Gankra/followers",
      "following_url": "https://api.github.com/users/Gankra/following{/other_user}",
      "gists_url": "https://api.github.com/users/Gankra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Gankra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Gankra/subscriptions",
      "organizations_url": "https://api.github.com/users/Gankra/orgs",
      "repos_url": "https://api.github.com/users/Gankra/repos",
      "events_url": "https://api.github.com/users/Gankra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Gankra/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-08-20T02:52:52Z",
    "updated_at": "2015-08-20T02:52:52Z",
    "body": "CC @RalfJung and co who are working on formally modeling Rust's semantics.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/132865024/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/133350545",
    "html_url": "https://github.com/rust-lang/rust/issues/27911#issuecomment-133350545",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27911",
    "id": 133350545,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMzM1MDU0NQ==",
    "user": {
      "login": "RalfJung",
      "id": 330628,
      "node_id": "MDQ6VXNlcjMzMDYyOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/RalfJung",
      "html_url": "https://github.com/RalfJung",
      "followers_url": "https://api.github.com/users/RalfJung/followers",
      "following_url": "https://api.github.com/users/RalfJung/following{/other_user}",
      "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions",
      "organizations_url": "https://api.github.com/users/RalfJung/orgs",
      "repos_url": "https://api.github.com/users/RalfJung/repos",
      "events_url": "https://api.github.com/users/RalfJung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/RalfJung/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-08-21T09:35:52Z",
    "updated_at": "2015-08-21T09:35:52Z",
    "body": "Indeed, we'll have some fun figuring this out ;-)\n\nSpeaking of which, \"A reference cannot outlive its referent\" is already something that's not actually enforced in my model. It's only when you _use_ a reference that you have to prove that the referent is still alive, by showing that the lifetime of the reference is still active. As long as you don't use the reference, the model doesn't care whether it is valid.\n\nI should also mention that \"path\" is not a thing in my formal model. I don't even have a stack. It's all about owning locations, or knowing the protocols that some locations are currently subject to. (Like, a shared borrow to a basic datatype follows the protocol that everybody can read it, and that multiple reads are guaranteed to deliver the same result. A mutable borrow to a basic datatype has the protocol that you can temporarily exchange your borrow for actual ownership of the referent, but until you change this back, it is impossible for the lifetime of the borrow to end.) The challenge will be to translate these protocols, and the even more implicit notions of separation/disjointness, back to something that makes sense when looking at surface Rust code...\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/133350545/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/133495511",
    "html_url": "https://github.com/rust-lang/rust/issues/27911#issuecomment-133495511",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27911",
    "id": 133495511,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMzQ5NTUxMQ==",
    "user": {
      "login": "aturon",
      "id": 709807,
      "node_id": "MDQ6VXNlcjcwOTgwNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/709807?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aturon",
      "html_url": "https://github.com/aturon",
      "followers_url": "https://api.github.com/users/aturon/followers",
      "following_url": "https://api.github.com/users/aturon/following{/other_user}",
      "gists_url": "https://api.github.com/users/aturon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aturon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aturon/subscriptions",
      "organizations_url": "https://api.github.com/users/aturon/orgs",
      "repos_url": "https://api.github.com/users/aturon/repos",
      "events_url": "https://api.github.com/users/aturon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aturon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-08-21T17:03:02Z",
    "updated_at": "2015-08-21T17:03:02Z",
    "body": "@RalfJung\n\n> Speaking of which, \"A reference cannot outlive its referent\" is already something that's not actually enforced in my model. It's only when you use a reference that you have to prove that the referent is still alive, by showing that the lifetime of the reference is still active. As long as you don't use the reference, the model doesn't care whether it is valid.\n\nThis was essentially what the whole `mem::forget`/`thread::scoped` drama was about, and it's equally true of Rust the language: the type system ensures that lifetimes are not usefully reachable outside the scope they describe, but you can e.g. stash them in a leaked Rc cycle.\n\nI think the \"path\" description in the current document is a bit of a dead end for what the book is ultimately trying to do -- describe the constraints on unsafe code. I _do_ think that a more precise version of the path explanation would be a good way to explain borrow checking, though.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/133495511/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/155259787",
    "html_url": "https://github.com/rust-lang/rust/issues/27911#issuecomment-155259787",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27911",
    "id": 155259787,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1NTI1OTc4Nw==",
    "user": {
      "login": "Parakleta",
      "id": 11205202,
      "node_id": "MDQ6VXNlcjExMjA1MjAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/11205202?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Parakleta",
      "html_url": "https://github.com/Parakleta",
      "followers_url": "https://api.github.com/users/Parakleta/followers",
      "following_url": "https://api.github.com/users/Parakleta/following{/other_user}",
      "gists_url": "https://api.github.com/users/Parakleta/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Parakleta/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Parakleta/subscriptions",
      "organizations_url": "https://api.github.com/users/Parakleta/orgs",
      "repos_url": "https://api.github.com/users/Parakleta/repos",
      "events_url": "https://api.github.com/users/Parakleta/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Parakleta/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-11-10T02:04:48Z",
    "updated_at": "2015-11-10T02:05:17Z",
    "body": "I assume this is the correct issue to add this question to.  I've discovered through some experimentation and by reading #10488 that\n\n``` rust\nlet _ = Iron::new(hello_world).http(\"localhost:3000\").unwrap();\n```\n\nfor example causes the destructor to be run immediately (i.e. the end of the statement) and so joins the thread and blocks further execution, but\n\n``` rust\nlet _ = &Iron::new(hello_world).http(\"localhost:3000\").unwrap();\n```\n\nextends the lifetime to the enclosing block.\n\nI can understand that\n\n``` rust\nlet _listen = Iron::new(hello_world).http(\"localhost:3000\").unwrap();\n```\n\nextends the lifetime to the enclosing block because that is the scope of the variable `_listen`, even though it is unused.  What I don't understand is how the lifetime of `let _ = <rvalue>` differs from `let _ = &<rvalue>`.  Is this a difference I should be relying on?  What is the correct method to control the lifetime of unused/anonymous objects?\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/155259787/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/155276060",
    "html_url": "https://github.com/rust-lang/rust/issues/27911#issuecomment-155276060",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27911",
    "id": 155276060,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1NTI3NjA2MA==",
    "user": {
      "login": "Gankra",
      "id": 1136864,
      "node_id": "MDQ6VXNlcjExMzY4NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1136864?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Gankra",
      "html_url": "https://github.com/Gankra",
      "followers_url": "https://api.github.com/users/Gankra/followers",
      "following_url": "https://api.github.com/users/Gankra/following{/other_user}",
      "gists_url": "https://api.github.com/users/Gankra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Gankra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Gankra/subscriptions",
      "organizations_url": "https://api.github.com/users/Gankra/orgs",
      "repos_url": "https://api.github.com/users/Gankra/repos",
      "events_url": "https://api.github.com/users/Gankra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Gankra/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-11-10T03:50:23Z",
    "updated_at": "2015-11-10T03:50:23Z",
    "body": "Interesting! @eddyb any thoughts on this?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/155276060/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/155546205",
    "html_url": "https://github.com/rust-lang/rust/issues/27911#issuecomment-155546205",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27911",
    "id": 155546205,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1NTU0NjIwNQ==",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-11-10T19:48:19Z",
    "updated_at": "2015-11-10T19:48:19Z",
    "body": "On Mon, Nov 09, 2015 at 06:05:20PM -0800, Parakleta wrote:\n\n> I assume this is the correct issue to add this question to.  I've discovered through some experimentation and by reading #10488 that\n> \n> ``` rust\n> let _ = Iron::new(hello_world).http(\"localhost:3000\").unwrap();\n> ```\n> \n> for example causes the destructor to be run immediately (i.e. the end of the statement) and so joins the thread and blocks further execution, but\n> \n> ``` rust\n> let _ = &Iron::new(hello_world).http(\"localhost:3000\").unwrap();\n> ```\n> \n> extends the lifetime to the enclosing block.\n> \n> I can understand that\n> \n> ``` rust\n> let _listen = Iron::new(hello_world).http(\"localhost:3000\").unwrap();\n> ```\n> \n> extends the lifetime to the enclosing block because that is the scope of the variable `_listen`, even though it is unused.  What I don't understand is how the lifetime of `_ = <rvalue>` differs from `_ = &<rvalue>`.  Is this a difference I should be relying on?  What is the correct method to control the lifetime of unused/anonymous objects?\n\nYes, these are all different. It's kind of the intersection of two\ndistinct rules. The mental model is roughly that the initializer is\nstored into a temporary which has the lifetime of the statement.  When\nyou do `let <pat> = <initializer>`, then, the pattern is matched\nagainst this temporary. It may move things out of the temporary and\nplace them into fresh bindings, which then live as long as the block,\nbut things it does not move get dropped along with the temporary.\n\nSo something like `let (foo, _) = <expr>` is roughly as if you did:\n\n``` rust\nlet foo;\n{\n    let temp = <expr>;\n    foo = temp.0;\n}\n```\n\nNote that `_` is not an identifier, it is a pattern which means \"ignore this value\".\n\nSo in terms of your examples:\n\n`let _ = foo.unwrap()` means: call unwrap and discard result (drops\nimmediately).\n\n`let _x = foo.unwrap()` means: call unwrap and store result into a\nvariable called `_x` (drops when `_x` is dropped)\n\nMeanwhile, orthogonally: `&foo.unwrap()` means \"create a temporary\nstack slot\" and store `foo.unwrap()` into it. Because it is being\nstored into a `let` binding, the lifetime of this temporary is\nextended to the enclosing block.\n\nIt's possible that the lifetime of the temporary we create when doing\npattern matching in a `let` should be the enclosing block, rather than\nthe `let` statement. This would be perhaps more analogous with the `&`\nrules. But I wonder if this would break existing code; it's hard to\nknow. I'm not 100% sure why I didn't do it this way at the time,\nbecause I remember being annoyed that `let _ = foo()` and `let _x =\nfoo()` were not equivalent. _That said,_ there are many who believe\nthey should not be; I can't find the issue now, but there was at one\npoint specific code in trans to ensure that `let _ = foo()` would drop\nthe result of `foo()` immediately.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/155546205/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/155558841",
    "html_url": "https://github.com/rust-lang/rust/issues/27911#issuecomment-155558841",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27911",
    "id": 155558841,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1NTU1ODg0MQ==",
    "user": {
      "login": "Parakleta",
      "id": 11205202,
      "node_id": "MDQ6VXNlcjExMjA1MjAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/11205202?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Parakleta",
      "html_url": "https://github.com/Parakleta",
      "followers_url": "https://api.github.com/users/Parakleta/followers",
      "following_url": "https://api.github.com/users/Parakleta/following{/other_user}",
      "gists_url": "https://api.github.com/users/Parakleta/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Parakleta/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Parakleta/subscriptions",
      "organizations_url": "https://api.github.com/users/Parakleta/orgs",
      "repos_url": "https://api.github.com/users/Parakleta/repos",
      "events_url": "https://api.github.com/users/Parakleta/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Parakleta/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-11-10T20:38:28Z",
    "updated_at": "2015-11-10T20:38:28Z",
    "body": "The discussion in #10488 for the distinction between `_` and `_x` makes sense to me, and I'm happy with the rationale that `let _ = <rvalue>` is essentially a no-op.  I'm just confused by the `&` case.  Does it mean that an `&` anywhere in an expression always creates a temporary that has the lifetime at least as long as the enclosing block?  The statement `&Iron::new()::http()::unwrap()` doesn't but is assume that's because it's a statement and not an expression.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/155558841/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/155947117",
    "html_url": "https://github.com/rust-lang/rust/issues/27911#issuecomment-155947117",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27911",
    "id": 155947117,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1NTk0NzExNw==",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-11-11T23:50:07Z",
    "updated_at": "2015-11-11T23:50:07Z",
    "body": "On Tue, Nov 10, 2015 at 12:39:02PM -0800, Parakleta wrote:\n\n> Does it mean that an `&` anywhere in an expression always creates a\n> temporary that has the lifetime at least as long as the enclosing\n> block?\n\nNo. The rules are more subtle than that. Temporaries usually live\nuntil the end of the current statement (the `let`, in this case) but\nif they appear in specific places, they are extended until the end of\nthe block. Basically, if they appear in a place where it is unambiguous\nthat they would be stored into the result of a let.\n\nHence, the following temporaries will last until end of block:\n\n```\nlet <pat> = &<expr>\nlet <pat> = StructName { field: &<expr>, ... }\n```\n\nBut (under current rules) this would not:\n\n```\nlet <pat> = method(&<expr>);\n```\n\nSee http://doc.rust-lang.org/reference.html#temporary-lifetimes for\nmore details and more examples.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/155947117/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/155950311",
    "html_url": "https://github.com/rust-lang/rust/issues/27911#issuecomment-155950311",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27911",
    "id": 155950311,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1NTk1MDMxMQ==",
    "user": {
      "login": "Parakleta",
      "id": 11205202,
      "node_id": "MDQ6VXNlcjExMjA1MjAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/11205202?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Parakleta",
      "html_url": "https://github.com/Parakleta",
      "followers_url": "https://api.github.com/users/Parakleta/followers",
      "following_url": "https://api.github.com/users/Parakleta/following{/other_user}",
      "gists_url": "https://api.github.com/users/Parakleta/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Parakleta/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Parakleta/subscriptions",
      "organizations_url": "https://api.github.com/users/Parakleta/orgs",
      "repos_url": "https://api.github.com/users/Parakleta/repos",
      "events_url": "https://api.github.com/users/Parakleta/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Parakleta/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-11-12T00:03:35Z",
    "updated_at": "2015-11-12T00:03:35Z",
    "body": "So the `let _ = <rvalue>;` statement lifetime and the `let <pat> = &<rvalue>;` statement lifetimes are different but my confusion comes from the idea (maybe I'm missing something though) that `_` is a valid `<pat>` and `&<rvalue>` is also a valid `<rvalue>` so the statement `let _ = &<rvalue>` would match both rules?\n\nDoes this mean that `let <pat> = &<rvalue>` has higher priority than `let _ = ...` and should we assume this will always be true?\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/155950311/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/156028971",
    "html_url": "https://github.com/rust-lang/rust/issues/27911#issuecomment-156028971",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27911",
    "id": 156028971,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1NjAyODk3MQ==",
    "user": {
      "login": "eddyb",
      "id": 77424,
      "node_id": "MDQ6VXNlcjc3NDI0",
      "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eddyb",
      "html_url": "https://github.com/eddyb",
      "followers_url": "https://api.github.com/users/eddyb/followers",
      "following_url": "https://api.github.com/users/eddyb/following{/other_user}",
      "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions",
      "organizations_url": "https://api.github.com/users/eddyb/orgs",
      "repos_url": "https://api.github.com/users/eddyb/repos",
      "events_url": "https://api.github.com/users/eddyb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eddyb/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-11-12T08:02:11Z",
    "updated_at": "2015-11-12T08:02:11Z",
    "body": "@Parakleta `let _ = <rvalue>;` drops the RHS immediatelly but always evaluates it, so the rules for `&<rvalue>` still apply, even if the reference is dropped (which is a no-op because references are `Copy`).\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/156028971/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/156276097",
    "html_url": "https://github.com/rust-lang/rust/issues/27911#issuecomment-156276097",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27911",
    "id": 156276097,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1NjI3NjA5Nw==",
    "user": {
      "login": "Parakleta",
      "id": 11205202,
      "node_id": "MDQ6VXNlcjExMjA1MjAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/11205202?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Parakleta",
      "html_url": "https://github.com/Parakleta",
      "followers_url": "https://api.github.com/users/Parakleta/followers",
      "following_url": "https://api.github.com/users/Parakleta/following{/other_user}",
      "gists_url": "https://api.github.com/users/Parakleta/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Parakleta/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Parakleta/subscriptions",
      "organizations_url": "https://api.github.com/users/Parakleta/orgs",
      "repos_url": "https://api.github.com/users/Parakleta/repos",
      "events_url": "https://api.github.com/users/Parakleta/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Parakleta/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-11-13T00:05:31Z",
    "updated_at": "2015-11-13T00:05:31Z",
    "body": "Thanks, I just noticed the text \"The compiler uses simple syntactic rules to decide\" in the reference manual.  This all seems a bit fragile, considering that the decision is made on Syntax rather than Semantics.  For example, if I have `let _ = nop!(&<rvalue>);` the lifetime is unknown without knowing exactly the contents of the macro.  It seems RFC66 (Issue #15023) has the potential to end up changing this anyway.  I'll steer clear of `let _ = &<rvalue>` for now and stick with `let _tmp = <rvalue>` instead.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/156276097/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/160700644",
    "html_url": "https://github.com/rust-lang/rust/issues/27911#issuecomment-160700644",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27911",
    "id": 160700644,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2MDcwMDY0NA==",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-11-30T17:36:13Z",
    "updated_at": "2015-11-30T17:36:13Z",
    "body": "On Thu, Nov 12, 2015 at 04:06:03PM -0800, Parakleta wrote:\n\n> Thanks, I just noticed the text \"The compiler uses simple syntactic rules to decide\" in the reference manual.  This all seems a bit fragile, considering that the decision is made on Syntax rather than Semantics.  For example, if I have `let _ = nop!(&<rvalue>);` the lifetime is unknown without knowing exactly the contents of the macro.  It seems RFC66 (Issue #15023) has the potential to end up changing this anyway.  I'll steer clear of `let _ = &<rvalue>` for now and stick with `let _tmp = <rvalue>` instead.\n\nIt is true that you have to know the contents of the macro. However,\nthe motivation for using syntax was precisely to make it easier to\nfollow -- people were nervous about relying on inference to decide\nwhen a destructor runs, since inference algorithms might be overly\nconservative, or change over time.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/160700644/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/289121759",
    "html_url": "https://github.com/rust-lang/rust/issues/27911#issuecomment-289121759",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27911",
    "id": 289121759,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4OTEyMTc1OQ==",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-03-24T19:27:47Z",
    "updated_at": "2017-03-24T19:27:47Z",
    "body": "Moving this to https://github.com/rust-lang-nursery/nomicon/issues/7",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/289121759/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
