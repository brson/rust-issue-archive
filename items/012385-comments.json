[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/35464014",
    "html_url": "https://github.com/rust-lang/rust/pull/12385#issuecomment-35464014",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12385",
    "id": 35464014,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NDY0MDE0",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-02-19T04:01:04Z",
    "updated_at": "2014-02-19T04:01:04Z",
    "body": "BTW, if you write \"Fixes #9767\" or \"Closes #9767\" in the commit and/or pull request, github will automatically close that issue when this lands. (There's very little flexibility for the formatting.)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/35464014/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/35466328",
    "html_url": "https://github.com/rust-lang/rust/pull/12385#issuecomment-35466328",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12385",
    "id": 35466328,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NDY2MzI4",
    "user": {
      "login": "chromatic",
      "id": 50255,
      "node_id": "MDQ6VXNlcjUwMjU1",
      "avatar_url": "https://avatars.githubusercontent.com/u/50255?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chromatic",
      "html_url": "https://github.com/chromatic",
      "followers_url": "https://api.github.com/users/chromatic/followers",
      "following_url": "https://api.github.com/users/chromatic/following{/other_user}",
      "gists_url": "https://api.github.com/users/chromatic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chromatic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chromatic/subscriptions",
      "organizations_url": "https://api.github.com/users/chromatic/orgs",
      "repos_url": "https://api.github.com/users/chromatic/repos",
      "events_url": "https://api.github.com/users/chromatic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chromatic/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-02-19T04:58:03Z",
    "updated_at": "2014-02-19T04:58:03Z",
    "body": "How about this comment? It's a lot more specific.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/35466328/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/35466559",
    "html_url": "https://github.com/rust-lang/rust/pull/12385#issuecomment-35466559",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12385",
    "id": 35466559,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NDY2NTU5",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-02-19T05:03:49Z",
    "updated_at": "2014-02-19T05:04:45Z",
    "body": "That comment looks good, yes.\n\nI don't understand the code fully, but it seems like `get_base_type_def_id` returns `None` for primitive types like `int` and tuples (since it calls `get_base_type`), so does this cause `impl int { ... }` to emit the \"cannot provide impl for typedefs\" error?\n\nAlso, what about something like\n\n``` rust\nstruct Foo;\ntype Bar = Foo;\nimpl Bar { ... }\n```\n\nwhere the typedef is pointing to a non-primitive?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/35466559/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/35467826",
    "html_url": "https://github.com/rust-lang/rust/pull/12385#issuecomment-35467826",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12385",
    "id": 35467826,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NDY3ODI2",
    "user": {
      "login": "chromatic",
      "id": 50255,
      "node_id": "MDQ6VXNlcjUwMjU1",
      "avatar_url": "https://avatars.githubusercontent.com/u/50255?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chromatic",
      "html_url": "https://github.com/chromatic",
      "followers_url": "https://api.github.com/users/chromatic/followers",
      "following_url": "https://api.github.com/users/chromatic/following{/other_user}",
      "gists_url": "https://api.github.com/users/chromatic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chromatic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chromatic/subscriptions",
      "organizations_url": "https://api.github.com/users/chromatic/orgs",
      "repos_url": "https://api.github.com/users/chromatic/repos",
      "events_url": "https://api.github.com/users/chromatic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chromatic/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-02-19T05:34:15Z",
    "updated_at": "2014-02-19T05:34:15Z",
    "body": "Yes, it does--but that case already emitted an error. Only the text of the error message changed in that particular branch.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/35467826/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/35480953",
    "html_url": "https://github.com/rust-lang/rust/pull/12385#issuecomment-35480953",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12385",
    "id": 35480953,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NDgwOTUz",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-02-19T09:38:10Z",
    "updated_at": "2014-02-19T09:38:10Z",
    "body": "@chromatic I'm not quite sure what you mean by \"yes\" (since I asked two questions).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/35480953/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/35515915",
    "html_url": "https://github.com/rust-lang/rust/pull/12385#issuecomment-35515915",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12385",
    "id": 35515915,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NTE1OTE1",
    "user": {
      "login": "chromatic",
      "id": 50255,
      "node_id": "MDQ6VXNlcjUwMjU1",
      "avatar_url": "https://avatars.githubusercontent.com/u/50255?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chromatic",
      "html_url": "https://github.com/chromatic",
      "followers_url": "https://api.github.com/users/chromatic/followers",
      "following_url": "https://api.github.com/users/chromatic/following{/other_user}",
      "gists_url": "https://api.github.com/users/chromatic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chromatic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chromatic/subscriptions",
      "organizations_url": "https://api.github.com/users/chromatic/orgs",
      "repos_url": "https://api.github.com/users/chromatic/repos",
      "events_url": "https://api.github.com/users/chromatic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chromatic/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-02-19T16:16:17Z",
    "updated_at": "2014-02-19T16:16:17Z",
    "body": "@huonw, Sorry, that was really misleading of me!\n\n`impl int { ... }` will trigger the error message as you suggested. As for the second question, when the typedef points to something non primitive, you get the error message \"cannot associate methods with a type outside the crate the type is defined in; define and implement a trait or new type instead\n\". That behavior should be unchanged with or without this patch.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/35515915/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/35569963",
    "html_url": "https://github.com/rust-lang/rust/pull/12385#issuecomment-35569963",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12385",
    "id": 35569963,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NTY5OTYz",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-02-20T00:38:21Z",
    "updated_at": "2014-02-20T00:38:21Z",
    "body": "Impl-ing directly on primitive types like `int` should not trigger a message that says \"typedefs\", and typedefs like my second one should. So, unfortunately, it seems that this patch is not the correct way to implement this.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/35569963/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/35756120",
    "html_url": "https://github.com/rust-lang/rust/pull/12385#issuecomment-35756120",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12385",
    "id": 35756120,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NzU2MTIw",
    "user": {
      "login": "chromatic",
      "id": 50255,
      "node_id": "MDQ6VXNlcjUwMjU1",
      "avatar_url": "https://avatars.githubusercontent.com/u/50255?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chromatic",
      "html_url": "https://github.com/chromatic",
      "followers_url": "https://api.github.com/users/chromatic/followers",
      "following_url": "https://api.github.com/users/chromatic/following{/other_user}",
      "gists_url": "https://api.github.com/users/chromatic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chromatic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chromatic/subscriptions",
      "organizations_url": "https://api.github.com/users/chromatic/orgs",
      "repos_url": "https://api.github.com/users/chromatic/repos",
      "events_url": "https://api.github.com/users/chromatic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chromatic/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-02-21T18:03:04Z",
    "updated_at": "2014-02-21T18:03:04Z",
    "body": "This discussion may have identified multiple issues. This list may not be exhaustive, but it's a start:\n\n1) What's the preferred error message for impl-ing a typedef?\n\n2) Should it be possible to impl a primitive type?\n\n2a) If so, is the syntax you gave correct?\n\n2b) If not, what should the error message be? (There's no test for that.)\n\n3) Should it be possible to impl a typedef pointing to a non-primitive?\n\n3a) If so, is the syntax you gave correct?\n\n3b) If not, what should the error message be? (There's no test for that.)\n\n4) Are there other cases where impl-ing something is prohibited?\n\n4a) If so, what should those error messages be? (There are no tests for that.)\n\n5) If the existing code before this PR was in fact incomplete, should this single ticket and PR address all of those cases, or should the additional error cases have their own tickets?\n\nI am very willing to continue addressing this issue, but it seems like these questions need to be answered before the code work can continue.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/35756120/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/35801773",
    "html_url": "https://github.com/rust-lang/rust/pull/12385#issuecomment-35801773",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12385",
    "id": 35801773,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1ODAxNzcz",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-02-22T12:46:34Z",
    "updated_at": "2014-02-22T12:46:34Z",
    "body": "Most of these questions aren't really brought up by this issue specifically. The primitive/non-primitive distinction essentially only cropped up as an artifact of the implementation you've given us (because the compiler doesn't seem to provide a quick-and-easy way to identify if a type is a `type` synonym).\n\n> 1) What's the preferred error message for impl-ing a typedef?\n\n\"Cannot impl a `type` synonym\"\n\n> 2) Should it be possible to impl a primitive type?\n\nMaybe, some loose discussion has happened in a few places (spread across IRC and a few github issues).\n\n> 2a) If so, is the syntax you gave correct?\n\nProbably.\n\n> 2b) If not, what should the error message be? (There's no test for that.)\n\nPreferably \"Cannot impl directly on a built-in type, use a trait\" (or something like that).\n\n> 3) Should it be possible to impl a typedef pointing to a non-primitive?\n\nI think `type` synonyms should be handled uniformly, whether or not they point to primitives.\n\n> 3a) If so, is the syntax you gave correct?\n\nWhy would we change from `impl Foo`?\n\n3b) If not, what should the error message be? (There's no test for that.)\n\nSee 1.\n\n> 4) Are there other cases where impl-ing something is prohibited?\n\nA few, but barely related to type synonyms.\n\n> 4a) If so, what should those error messages be? (There are no tests for that.)\n\nEh? There are a few tests for invalid impls.\n\n> 5) If the existing code before this PR was in fact incomplete, should this single ticket and PR address all of those cases, or should the additional error cases have their own tickets?\n\nThis PR is purporting to fix error messages for `type` synonyms, and so would preferably address every `type` synonym case (or at least most of them, without regressing other error reporting).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/35801773/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/37116262",
    "html_url": "https://github.com/rust-lang/rust/pull/12385#issuecomment-37116262",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12385",
    "id": 37116262,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MTE2MjYy",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-03-09T01:40:32Z",
    "updated_at": "2014-03-09T01:40:32Z",
    "body": "Closing due to a lack of activity, but feel free to reopen with a rebase!\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/37116262/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
