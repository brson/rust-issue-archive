{
  "url": "https://api.github.com/repos/rust-lang/rust/issues/14755",
  "repository_url": "https://api.github.com/repos/rust-lang/rust",
  "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/14755/labels{/name}",
  "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/14755/comments",
  "events_url": "https://api.github.com/repos/rust-lang/rust/issues/14755/events",
  "html_url": "https://github.com/rust-lang/rust/pull/14755",
  "id": 35246652,
  "node_id": "MDExOlB1bGxSZXF1ZXN0MTY4NjY2MDA=",
  "number": 14755,
  "title": "TcpListener::bind/TcpStream::connect (&str, Int), &str and SocketAddr{...} overrides",
  "user": {
    "login": "thomaslee",
    "id": 93216,
    "node_id": "MDQ6VXNlcjkzMjE2",
    "avatar_url": "https://avatars.githubusercontent.com/u/93216?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/thomaslee",
    "html_url": "https://github.com/thomaslee",
    "followers_url": "https://api.github.com/users/thomaslee/followers",
    "following_url": "https://api.github.com/users/thomaslee/following{/other_user}",
    "gists_url": "https://api.github.com/users/thomaslee/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/thomaslee/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/thomaslee/subscriptions",
    "organizations_url": "https://api.github.com/users/thomaslee/orgs",
    "repos_url": "https://api.github.com/users/thomaslee/repos",
    "events_url": "https://api.github.com/users/thomaslee/events{/privacy}",
    "received_events_url": "https://api.github.com/users/thomaslee/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "labels": [],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [],
  "milestone": null,
  "comments": 4,
  "created_at": "2014-06-08T20:53:33Z",
  "updated_at": "2014-07-15T14:26:23Z",
  "closed_at": "2014-07-15T14:26:23Z",
  "author_association": "CONTRIBUTOR",
  "type": null,
  "active_lock_reason": null,
  "draft": false,
  "pull_request": {
    "url": "https://api.github.com/repos/rust-lang/rust/pulls/14755",
    "html_url": "https://github.com/rust-lang/rust/pull/14755",
    "diff_url": "https://github.com/rust-lang/rust/pull/14755.diff",
    "patch_url": "https://github.com/rust-lang/rust/pull/14755.patch",
    "merged_at": null
  },
  "body": "cc @alexcrichton\n\nIn #13919 we changed `TcpStream::connect` to accept a host and a port parameter instead of a somewhat \"uncomfortable\" `SocketAddr`. There were some reasonable complaints following the merge that basically said sometimes you might _want_ a SocketAddr for various different reasons, and that carting strings around everywhere might be painful in certain situations.\n\n@huonw and @zargony suggested it might be better for `TcpStream::connect` and `TcpListener::bind` to use traits so that they can operate with various different types of arguments. I gave that a shot, and I think the results are really nice.\n\nThis change allows the following:\n\n```\n// (&str, Int)\nlet conn1 = try!(TcpStream::connect((\"mozilla.org\", 80)))\n\n// &str (I think this is what @alexcrichton originally wanted the API to look like prior to #13919)\nlet conn2 = try!(TcpStream::connect(\"mozilla.org:80\"))\n\n// SocketAddr{...} (this is the old pre-#13919 API)\nlet conn3 = try!(TcpStream::connect(SocketAddr{ip: Ipv4Addr(63, 254, 215, 20), port: 80}))\n```\n\nIt would also be trivial to add support for e.g. (IpAddr, Int) tuples too, but I didn't want to get too carried away :)\n\nI think this PR needs some work before it gets merged. In particular, `connect_timeout` hasn't been modified, and I'm not sure that we want two distinct traits (`ToBindSocketAddr` and `ToSocketAddrs`) for very similar use-cases. Figure it's at a point where it'll probably drive some discussion, though.\n",
  "closed_by": {
    "login": "alexcrichton",
    "id": 64996,
    "node_id": "MDQ6VXNlcjY0OTk2",
    "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/alexcrichton",
    "html_url": "https://github.com/alexcrichton",
    "followers_url": "https://api.github.com/users/alexcrichton/followers",
    "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
    "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
    "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
    "repos_url": "https://api.github.com/users/alexcrichton/repos",
    "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
    "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/14755/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/14755/timeline",
  "performed_via_github_app": null,
  "state_reason": null,
  "_meta": {
    "type": "pr"
  }
}
