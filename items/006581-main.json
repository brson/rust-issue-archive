{
  "url": "https://api.github.com/repos/rust-lang/rust/issues/6581",
  "repository_url": "https://api.github.com/repos/rust-lang/rust",
  "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/6581/labels{/name}",
  "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/6581/comments",
  "events_url": "https://api.github.com/repos/rust-lang/rust/issues/6581/events",
  "html_url": "https://github.com/rust-lang/rust/pull/6581",
  "id": 14478717,
  "node_id": "MDExOlB1bGxSZXF1ZXN0NTc5MjU5MQ==",
  "number": 6581,
  "title": "rt: Release big stacks immediately after use to avoid holding on to them...",
  "user": {
    "login": "brson",
    "id": 147214,
    "node_id": "MDQ6VXNlcjE0NzIxNA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/brson",
    "html_url": "https://github.com/brson",
    "followers_url": "https://api.github.com/users/brson/followers",
    "following_url": "https://api.github.com/users/brson/following{/other_user}",
    "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
    "organizations_url": "https://api.github.com/users/brson/orgs",
    "repos_url": "https://api.github.com/users/brson/repos",
    "events_url": "https://api.github.com/users/brson/events{/privacy}",
    "received_events_url": "https://api.github.com/users/brson/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "labels": [],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [],
  "milestone": null,
  "comments": 0,
  "created_at": "2013-05-18T03:47:17Z",
  "updated_at": "2014-07-03T11:32:25Z",
  "closed_at": "2013-06-13T21:16:23Z",
  "author_association": "CONTRIBUTOR",
  "type": null,
  "active_lock_reason": null,
  "draft": false,
  "pull_request": {
    "url": "https://api.github.com/repos/rust-lang/rust/pulls/6581",
    "html_url": "https://github.com/rust-lang/rust/pull/6581",
    "diff_url": "https://github.com/rust-lang/rust/pull/6581.diff",
    "patch_url": "https://github.com/rust-lang/rust/pull/6581.patch",
    "merged_at": null
  },
  "body": "... through yields\n\nr? @pcwalton\n\nThis avoids the following pathological scenario that makes threadring OOM:\n\n1) task calls C using fast_ffi, borrowing a big stack from the scheduler.\n2) task returns from C and places the big stack on the task-local stack segment list\n3) task calls further Rust functions that require growing the stack, and for this reuses the big stack\n4) task yields, failing to return the big stack to the scheduler.\n5) repeat 500+ times and OOM\n\nFixes #5985\n",
  "closed_by": {
    "login": "graydon",
    "id": 14097,
    "node_id": "MDQ6VXNlcjE0MDk3",
    "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/graydon",
    "html_url": "https://github.com/graydon",
    "followers_url": "https://api.github.com/users/graydon/followers",
    "following_url": "https://api.github.com/users/graydon/following{/other_user}",
    "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/graydon/subscriptions",
    "organizations_url": "https://api.github.com/users/graydon/orgs",
    "repos_url": "https://api.github.com/users/graydon/repos",
    "events_url": "https://api.github.com/users/graydon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/graydon/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/6581/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/6581/timeline",
  "performed_via_github_app": null,
  "state_reason": null,
  "_meta": {
    "type": "pr"
  }
}
