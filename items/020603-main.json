{
  "url": "https://api.github.com/repos/rust-lang/rust/issues/20603",
  "repository_url": "https://api.github.com/repos/rust-lang/rust",
  "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/20603/labels{/name}",
  "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/20603/comments",
  "events_url": "https://api.github.com/repos/rust-lang/rust/issues/20603/events",
  "html_url": "https://github.com/rust-lang/rust/pull/20603",
  "id": 53467648,
  "node_id": "MDExOlB1bGxSZXF1ZXN0MjY4NjI4NTI=",
  "number": 20603,
  "title": "Finalize story for libtest",
  "user": {
    "login": "alexcrichton",
    "id": 64996,
    "node_id": "MDQ6VXNlcjY0OTk2",
    "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/alexcrichton",
    "html_url": "https://github.com/alexcrichton",
    "followers_url": "https://api.github.com/users/alexcrichton/followers",
    "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
    "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
    "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
    "repos_url": "https://api.github.com/users/alexcrichton/repos",
    "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
    "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "labels": [],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "aturon",
    "id": 709807,
    "node_id": "MDQ6VXNlcjcwOTgwNw==",
    "avatar_url": "https://avatars.githubusercontent.com/u/709807?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/aturon",
    "html_url": "https://github.com/aturon",
    "followers_url": "https://api.github.com/users/aturon/followers",
    "following_url": "https://api.github.com/users/aturon/following{/other_user}",
    "gists_url": "https://api.github.com/users/aturon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/aturon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/aturon/subscriptions",
    "organizations_url": "https://api.github.com/users/aturon/orgs",
    "repos_url": "https://api.github.com/users/aturon/repos",
    "events_url": "https://api.github.com/users/aturon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/aturon/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "aturon",
      "id": 709807,
      "node_id": "MDQ6VXNlcjcwOTgwNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/709807?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aturon",
      "html_url": "https://github.com/aturon",
      "followers_url": "https://api.github.com/users/aturon/followers",
      "following_url": "https://api.github.com/users/aturon/following{/other_user}",
      "gists_url": "https://api.github.com/users/aturon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aturon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aturon/subscriptions",
      "organizations_url": "https://api.github.com/users/aturon/orgs",
      "repos_url": "https://api.github.com/users/aturon/repos",
      "events_url": "https://api.github.com/users/aturon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aturon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 9,
  "created_at": "2015-01-06T00:50:53Z",
  "updated_at": "2015-01-07T20:52:41Z",
  "closed_at": "2015-01-07T20:52:17Z",
  "author_association": "MEMBER",
  "type": null,
  "active_lock_reason": null,
  "draft": false,
  "pull_request": {
    "url": "https://api.github.com/repos/rust-lang/rust/pulls/20603",
    "html_url": "https://github.com/rust-lang/rust/pull/20603",
    "diff_url": "https://github.com/rust-lang/rust/pull/20603.diff",
    "patch_url": "https://github.com/rust-lang/rust/pull/20603.patch",
    "merged_at": null
  },
  "body": "One of the last remaining crates to have a stabilization story in the standard\ndistribution is the libtest library. This library currently provides the backing\ninfrastructure and test harness used when rustc generates a test execuable via\nthe `--test` command line flag.\n\nIt's well known that libtest is not the end-all-be-all of testing frameworks. It\nis intentionally minimal and is currently quite conservative in its scope of\nwhat it tries to accomplish as well as what it implements. A testament to this\nis the fact that one very rarely writes `extern crate test`, and it almost means\nthat the stabilization story need not be considered for the crate at all! The\nbenchmarking feature of the compiler, however, is quite useful and is one of the\nsole reasons for using `extern crate test`.\n\nWhen benchmarking, there are a few primary interfaces to the libtest library\nthat are used:\n- `test::Bencher` - the type for a benchmarking harness.\n- `test::Bencher::iter` - a member function used to run a benchmark.\n- `test::black_box` - a useful function to hinder optimizations and prevent a\n  value from being optimized away.\n\nThese three pieces of information are the primary targets for the stabilization\nin this commit. The rest of the testing infrastructure, while still quite useful\nto some projects, is not in scope for stabilization at 1.0 and will remain\n`#[experimental]` for now.\n\nThe benchmarking pieces have been moved to a new `rustc_bench` crate which will\nbe part of the standard distribution. In order to write a benchmark one will\nneed to import the crate via `extern crate rustc_bench` and otherwise all usage\nremains the same. The purpose of this crate is to provide a clear area for these\nbenchmarking utilities as well as provide a clear name that it is _only_\nintended for use via the compiler `#[bench]` attribute. The current interface is\nquite minimal with only what's necessary as `#[stable]`.\n\nIt is most certainly a desire for the compiler to support other testing\nframeworks other than the standard libtest. This form of infrastructure (be it a\nplugin or a separate interface) is out of scope for 1.0, however, and this\ncommit does not attempt to resolve it.\n\nDue to the removal of benchmarking items from libtest, this is a breaking\nchange. To update, rewrite imports of `extern crate test` to `extern crate\nrustc_bench` and then rewrite all `use` statements as well. The public interface\nof the `Bencher` struct has not changed.\n\n[breaking-change]\n",
  "closed_by": {
    "login": "alexcrichton",
    "id": 64996,
    "node_id": "MDQ6VXNlcjY0OTk2",
    "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/alexcrichton",
    "html_url": "https://github.com/alexcrichton",
    "followers_url": "https://api.github.com/users/alexcrichton/followers",
    "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
    "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
    "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
    "repos_url": "https://api.github.com/users/alexcrichton/repos",
    "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
    "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/20603/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/20603/timeline",
  "performed_via_github_app": null,
  "state_reason": null,
  "_meta": {
    "type": "pr"
  }
}
