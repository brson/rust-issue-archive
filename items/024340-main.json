{
  "url": "https://api.github.com/repos/rust-lang/rust/issues/24340",
  "repository_url": "https://api.github.com/repos/rust-lang/rust",
  "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/24340/labels{/name}",
  "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/24340/comments",
  "events_url": "https://api.github.com/repos/rust-lang/rust/issues/24340/events",
  "html_url": "https://github.com/rust-lang/rust/pull/24340",
  "id": 67859329,
  "node_id": "MDExOlB1bGxSZXF1ZXN0MzMxMTMyNjI=",
  "number": 24340,
  "title": "add UAX#29 word bounds algorithm to libunicode",
  "user": {
    "login": "kwantam",
    "id": 716593,
    "node_id": "MDQ6VXNlcjcxNjU5Mw==",
    "avatar_url": "https://avatars.githubusercontent.com/u/716593?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/kwantam",
    "html_url": "https://github.com/kwantam",
    "followers_url": "https://api.github.com/users/kwantam/followers",
    "following_url": "https://api.github.com/users/kwantam/following{/other_user}",
    "gists_url": "https://api.github.com/users/kwantam/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/kwantam/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/kwantam/subscriptions",
    "organizations_url": "https://api.github.com/users/kwantam/orgs",
    "repos_url": "https://api.github.com/users/kwantam/repos",
    "events_url": "https://api.github.com/users/kwantam/events{/privacy}",
    "received_events_url": "https://api.github.com/users/kwantam/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "labels": [],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "alexcrichton",
    "id": 64996,
    "node_id": "MDQ6VXNlcjY0OTk2",
    "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/alexcrichton",
    "html_url": "https://github.com/alexcrichton",
    "followers_url": "https://api.github.com/users/alexcrichton/followers",
    "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
    "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
    "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
    "repos_url": "https://api.github.com/users/alexcrichton/repos",
    "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
    "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 14,
  "created_at": "2015-04-12T01:48:15Z",
  "updated_at": "2015-04-14T07:52:27Z",
  "closed_at": "2015-04-14T04:30:46Z",
  "author_association": "CONTRIBUTOR",
  "type": null,
  "active_lock_reason": null,
  "draft": false,
  "pull_request": {
    "url": "https://api.github.com/repos/rust-lang/rust/pulls/24340",
    "html_url": "https://github.com/rust-lang/rust/pull/24340",
    "diff_url": "https://github.com/rust-lang/rust/pull/24340.diff",
    "patch_url": "https://github.com/rust-lang/rust/pull/24340.patch",
    "merged_at": null
  },
  "body": "This patch does the following:\n1. Adds three new structs in libunicode/str.rs:\n   \n   a. UnicodeWords: a filter on the UWordBounds iterator that yields only\n     the \"words\" of a string as defined in Section 4 of Unicode Standard\n     Annex #29 (UAX#29), http://unicode.org/reports/tr29/#Word_Boundaries\n   \n   b. UWordBounds: an iterator that segments a string on its word\n     boundaries as defined in UAX#29. Note that this _only_ segments\n     the string, and does _not_ drop whitespace and other non-word\n     pieces of the text (that's what UnicodeWords does).\n   \n     Note that UWordBounds has both a forward and backward iterator\n     that have total running time (that is, to segment the entire\n     string) linear in the size of the string. It should be noted that\n     with pathological inputs the reverse iterator could be about 2x less\n     efficient than the forward iterator, but on reasonable inputs\n     their costs are similar.\n   \n   c. UWordBoundIndices: the above iterator, but returning tuples of\n     (offset, &str).\n2. Adds three new functions in the `UnicodeStr` trait:\n   \n   a. words_unicode(): returns a UnicodeWords iterator.\n   \n   b. split_words_uax29(): returns a UWordBounds iterator.\n   \n   c. split_words_uax29_indices(): returns a UWordBoundIndices iterator.\n3. Updates the `src/etc/unicode.py` script to generate tables necessary\n   for running the UWordBounds iterators.\n4. Adds a new script, `src/etc/unicode_gen_breaktests.py`,\n   which processes the grapheme and word break tests published\n   by the Unicode consortium into a format for inclusion in\n   libcollectionstest.\n5. Adds new impls in libcollections's `str` corresponding to the\n   `UnicodeStr` functions of (2).\n   \n   Note that this new functionality is gated with `feature(unicode)`.\n6. Adds tests in libcollectionstest to exercise this new functionality.\n   \n   In addition, updates the test data for the graphemes test to\n   correspond to the output from the script of (4). (Note that at the\n   moment this change is primarily cosmetic.)\n\nThis patch does not settle the question raised by @huonw in #15628;\nrather, it introduces a new function alongside `words()` that follows\nUAX#29.\n\nIn addition, it does not address the concerns that @SimonSapin raises in\nhttps://github.com/rust-lang/rfcs/pull/1054 since it leaves `words()`\nalone.\n",
  "closed_by": {
    "login": "kwantam",
    "id": 716593,
    "node_id": "MDQ6VXNlcjcxNjU5Mw==",
    "avatar_url": "https://avatars.githubusercontent.com/u/716593?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/kwantam",
    "html_url": "https://github.com/kwantam",
    "followers_url": "https://api.github.com/users/kwantam/followers",
    "following_url": "https://api.github.com/users/kwantam/following{/other_user}",
    "gists_url": "https://api.github.com/users/kwantam/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/kwantam/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/kwantam/subscriptions",
    "organizations_url": "https://api.github.com/users/kwantam/orgs",
    "repos_url": "https://api.github.com/users/kwantam/repos",
    "events_url": "https://api.github.com/users/kwantam/events{/privacy}",
    "received_events_url": "https://api.github.com/users/kwantam/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/24340/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/24340/timeline",
  "performed_via_github_app": null,
  "state_reason": null,
  "_meta": {
    "type": "pr"
  }
}
