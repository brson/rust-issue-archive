[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/64038933",
    "html_url": "https://github.com/rust-lang/rust/pull/19183#issuecomment-64038933",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19183",
    "id": 64038933,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0MDM4OTMz",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-21T21:16:42Z",
    "updated_at": "2014-11-21T21:16:42Z",
    "body": "Can you profile the compile time of a before/after hello world? In the past I've seen the \"altering rlib\" step take an inordinately large amount of time compared to just passing it through to the linker. I'd want to make sure that our link times don't regress too much as a result of this change.\n\nAdditionally, The `--whole-archive` flag is `-force_load` on OSX, so you may need some platform-specific detection in that regard.\n\nAn alternative solution would be to generate references to symbols to all upstream libraries from within the object file itself. That would guarantee that the linker would at least consider all rlib object files, and we'd rely on --gc-sections to strip out all the extra cruft (I can go into more detail on this if you'd like).\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/64038933/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/64738824",
    "html_url": "https://github.com/rust-lang/rust/pull/19183#issuecomment-64738824",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19183",
    "id": 64738824,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0NzM4ODI0",
    "user": {
      "login": "klutzy",
      "id": 1589355,
      "node_id": "MDQ6VXNlcjE1ODkzNTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1589355?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/klutzy",
      "html_url": "https://github.com/klutzy",
      "followers_url": "https://api.github.com/users/klutzy/followers",
      "following_url": "https://api.github.com/users/klutzy/following{/other_user}",
      "gists_url": "https://api.github.com/users/klutzy/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/klutzy/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/klutzy/subscriptions",
      "organizations_url": "https://api.github.com/users/klutzy/orgs",
      "repos_url": "https://api.github.com/users/klutzy/repos",
      "events_url": "https://api.github.com/users/klutzy/events{/privacy}",
      "received_events_url": "https://api.github.com/users/klutzy/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-27T02:32:33Z",
    "updated_at": "2014-11-27T02:32:33Z",
    "body": "> Can you profile the compile time of a before/after hello world? In the past I've seen the \"altering rlib\" step take an inordinately large amount of time compared to just passing it through to the linker. I'd want to make sure that our link times don't regress too much as a result of this change.\n\n```\ntime: 0.003     LLVM passes\n  time: 0.021   altering a.rlib\n  time: 0.098   altering std-4e7c5e5c.rlib\n  time: 0.104   altering sync-4e7c5e5c.rlib\n  time: 0.017   altering rustrt-4e7c5e5c.rlib\n  time: 0.023   altering collections-4e7c5e5c.rlib\n  time: 0.019   altering alloc-4e7c5e5c.rlib\n  time: 0.015   altering libc-4e7c5e5c.rlib\n  time: 0.016   altering rand-4e7c5e5c.rlib\n  time: 0.026   altering unicode-4e7c5e5c.rlib\n  time: 0.052   altering core-4e7c5e5c.rlib\n  time: 0.167   running linker\ntime: 0.564     linking\n```\n\nSo linking time has increased 0.167 -> 0.564, and it would be more if there are more dependencies. Right now I'm not sure if this is a right approach..\n\nI also started to think this is not a right approach for static C libraries, since it may be intended that unused symbols are stripped out; the alternative solution seems more plausible since it would not affect non-rlib libraries.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/64738824/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
