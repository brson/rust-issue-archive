[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/165532295",
    "html_url": "https://github.com/rust-lang/rust/issues/30438#issuecomment-165532295",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30438",
    "id": 165532295,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2NTUzMjI5NQ==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-12-17T18:01:06Z",
    "updated_at": "2015-12-17T18:01:06Z",
    "body": "Hm, this shouldn't compile because `return &Test { s: &self.s};` is returning a temporary which can't live as long as `self`. Seems odd that it does though! I've confirmed that this compiles on all of stable/beta/nightly.\n\ncc @rust-lang/compiler, perhaps this is a dupe of an existing bug?\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/165532295/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/165537847",
    "html_url": "https://github.com/rust-lang/rust/issues/30438#issuecomment-165537847",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30438",
    "id": 165537847,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2NTUzNzg0Nw==",
    "user": {
      "login": "durka",
      "id": 47007,
      "node_id": "MDQ6VXNlcjQ3MDA3",
      "avatar_url": "https://avatars.githubusercontent.com/u/47007?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/durka",
      "html_url": "https://github.com/durka",
      "followers_url": "https://api.github.com/users/durka/followers",
      "following_url": "https://api.github.com/users/durka/following{/other_user}",
      "gists_url": "https://api.github.com/users/durka/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/durka/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/durka/subscriptions",
      "organizations_url": "https://api.github.com/users/durka/orgs",
      "repos_url": "https://api.github.com/users/durka/repos",
      "events_url": "https://api.github.com/users/durka/events{/privacy}",
      "received_events_url": "https://api.github.com/users/durka/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-12-17T18:23:34Z",
    "updated_at": "2015-12-17T18:23:34Z",
    "body": "It doesn't actually have to do with the Index sugar: http://is.gd/6sCgIy. It seems like it has to do with copying the lifetime bound from the associated type into the function return type: if you manually substitute in `Test<'a>` for `Self::Output` on line 19, then it doesn't compile.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/165537847/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/165537937",
    "html_url": "https://github.com/rust-lang/rust/issues/30438#issuecomment-165537937",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30438",
    "id": 165537937,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2NTUzNzkzNw==",
    "user": {
      "login": "eddyb",
      "id": 77424,
      "node_id": "MDQ6VXNlcjc3NDI0",
      "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eddyb",
      "html_url": "https://github.com/eddyb",
      "followers_url": "https://api.github.com/users/eddyb/followers",
      "following_url": "https://api.github.com/users/eddyb/following{/other_user}",
      "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions",
      "organizations_url": "https://api.github.com/users/eddyb/orgs",
      "repos_url": "https://api.github.com/users/eddyb/repos",
      "events_url": "https://api.github.com/users/eddyb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eddyb/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-12-17T18:23:59Z",
    "updated_at": "2015-12-17T18:23:59Z",
    "body": "@alexcrichton I would've guessed it's similar to #29861.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/165537937/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/165582117",
    "html_url": "https://github.com/rust-lang/rust/issues/30438#issuecomment-165582117",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30438",
    "id": 165582117,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2NTU4MjExNw==",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-12-17T21:06:13Z",
    "updated_at": "2015-12-17T21:06:13Z",
    "body": "triage: P-high\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/165582117/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/166291323",
    "html_url": "https://github.com/rust-lang/rust/issues/30438#issuecomment-166291323",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30438",
    "id": 166291323,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2NjI5MTMyMw==",
    "user": {
      "login": "MagaTailor",
      "id": 12054457,
      "node_id": "MDQ6VXNlcjEyMDU0NDU3",
      "avatar_url": "https://avatars.githubusercontent.com/u/12054457?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MagaTailor",
      "html_url": "https://github.com/MagaTailor",
      "followers_url": "https://api.github.com/users/MagaTailor/followers",
      "following_url": "https://api.github.com/users/MagaTailor/following{/other_user}",
      "gists_url": "https://api.github.com/users/MagaTailor/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MagaTailor/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MagaTailor/subscriptions",
      "organizations_url": "https://api.github.com/users/MagaTailor/orgs",
      "repos_url": "https://api.github.com/users/MagaTailor/repos",
      "events_url": "https://api.github.com/users/MagaTailor/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MagaTailor/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-12-21T12:20:13Z",
    "updated_at": "2015-12-21T12:20:44Z",
    "body": "Why does it not compile on nightly in playpen?\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/166291323/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/166293569",
    "html_url": "https://github.com/rust-lang/rust/issues/30438#issuecomment-166293569",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30438",
    "id": 166293569,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2NjI5MzU2OQ==",
    "user": {
      "login": "eddyb",
      "id": 77424,
      "node_id": "MDQ6VXNlcjc3NDI0",
      "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eddyb",
      "html_url": "https://github.com/eddyb",
      "followers_url": "https://api.github.com/users/eddyb/followers",
      "following_url": "https://api.github.com/users/eddyb/following{/other_user}",
      "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions",
      "organizations_url": "https://api.github.com/users/eddyb/orgs",
      "repos_url": "https://api.github.com/users/eddyb/repos",
      "events_url": "https://api.github.com/users/eddyb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eddyb/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-12-21T12:29:19Z",
    "updated_at": "2015-12-21T12:29:19Z",
    "body": "@petevine Could be #29861, or some other recent fix.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/166293569/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/166670029",
    "html_url": "https://github.com/rust-lang/rust/issues/30438#issuecomment-166670029",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30438",
    "id": 166670029,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2NjY3MDAyOQ==",
    "user": {
      "login": "durka",
      "id": 47007,
      "node_id": "MDQ6VXNlcjQ3MDA3",
      "avatar_url": "https://avatars.githubusercontent.com/u/47007?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/durka",
      "html_url": "https://github.com/durka",
      "followers_url": "https://api.github.com/users/durka/followers",
      "following_url": "https://api.github.com/users/durka/following{/other_user}",
      "gists_url": "https://api.github.com/users/durka/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/durka/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/durka/subscriptions",
      "organizations_url": "https://api.github.com/users/durka/orgs",
      "repos_url": "https://api.github.com/users/durka/repos",
      "events_url": "https://api.github.com/users/durka/events{/privacy}",
      "received_events_url": "https://api.github.com/users/durka/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-12-22T16:44:50Z",
    "updated_at": "2015-12-22T16:44:50Z",
    "body": "So this seems like it can be closed?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/166670029/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/180335525",
    "html_url": "https://github.com/rust-lang/rust/issues/30438#issuecomment-180335525",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30438",
    "id": 180335525,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4MDMzNTUyNQ==",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-02-05T12:37:38Z",
    "updated_at": "2016-02-05T12:37:38Z",
    "body": "Unfortunately it seems like we didn't have nightly builds from 2015-12-15 through 2015-12-18.\n\nI can confirm that this was broken in rust nightly-2015-12-14 and is rejected (correctly) by rust nightly-2015-12-19.\n\nI'll do a quick bisect just to double check what fixed it.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/180335525/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/180382134",
    "html_url": "https://github.com/rust-lang/rust/issues/30438#issuecomment-180382134",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30438",
    "id": 180382134,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4MDM4MjEzNA==",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-02-05T14:34:23Z",
    "updated_at": "2016-02-05T14:34:23Z",
    "body": "Bisection reveals that the fix was due to PR #30341.\n\nWhile there is a test attached to PR #30341, to me the test there (which is a reduction of the code from #29793) seems different enough from the code here that I'm going to make an independent regression test for the code given here.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/180382134/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/180387096",
    "html_url": "https://github.com/rust-lang/rust/issues/30438#issuecomment-180387096",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30438",
    "id": 180387096,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4MDM4NzA5Ng==",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-02-05T14:50:49Z",
    "updated_at": "2016-02-05T14:50:49Z",
    "body": "Hmm.  While writing the test and then \"simplifying\" it, I actually found a related program that continues to segfault:\n\nhttp://is.gd/TpRMsz\n\n``` rust\ntrait Trait { type Out; fn method(&self) -> &Self::Out; }\nstruct Test<'a> { s: &'a String }\n\nimpl<'a> Trait for Test<'a> {\ntype Out = Test<'a>;\n    fn method(&self) -> &Self::Out {\n        &Test { s: &self.s }\n    }\n}\n\nfn main() {\n    let s = \"Hello World\".to_string();\n    let test = Test { s: &s };\n    let r = test.method();\n    println!(\"{}\", test.s); // OK since test is valid\n    println!(\"{}\", r.s); // Segfault (value ref'd by r dropped during index)\n}\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/180387096/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/180387757",
    "html_url": "https://github.com/rust-lang/rust/issues/30438#issuecomment-180387757",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30438",
    "id": 180387757,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4MDM4Nzc1Nw==",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-02-05T14:52:17Z",
    "updated_at": "2016-02-05T14:52:17Z",
    "body": "(apparently the switch from explicit `return &Test { s: &self.s };` to implicit return of `&Test {s: &self.s }` in the body of `fn method` is what is causing the regression to sneak in again.  I'll investigate.)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/180387757/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/180612442",
    "html_url": "https://github.com/rust-lang/rust/issues/30438#issuecomment-180612442",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30438",
    "id": 180612442,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4MDYxMjQ0Mg==",
    "user": {
      "login": "arielb1",
      "id": 1830974,
      "node_id": "MDQ6VXNlcjE4MzA5NzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1830974?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/arielb1",
      "html_url": "https://github.com/arielb1",
      "followers_url": "https://api.github.com/users/arielb1/followers",
      "following_url": "https://api.github.com/users/arielb1/following{/other_user}",
      "gists_url": "https://api.github.com/users/arielb1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/arielb1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/arielb1/subscriptions",
      "organizations_url": "https://api.github.com/users/arielb1/orgs",
      "repos_url": "https://api.github.com/users/arielb1/repos",
      "events_url": "https://api.github.com/users/arielb1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/arielb1/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-02-05T23:01:35Z",
    "updated_at": "2016-02-05T23:01:35Z",
    "body": "``` Rust\nfn silly<'y, 'a>(s: &'y Test<'a>) -> &'y <Test<'a> as Trait>::Out {\n    let x = Test { s: &s.s }; &x\n}\n```\n\nwhat?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/180612442/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/180633635",
    "html_url": "https://github.com/rust-lang/rust/issues/30438#issuecomment-180633635",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30438",
    "id": 180633635,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4MDYzMzYzNQ==",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-02-06T00:27:32Z",
    "updated_at": "2016-02-06T00:27:32Z",
    "body": "There's some really funky interactions going on here with associated types and with lifetime bounds  on the struct.\n\nFor example, this version of @arielb1's refined example is (correctly) rejected by the compiler: http://is.gd/NGHvkm \nwhile this alternative is incorrectly accepted: http://is.gd/jbh1xd\n\nbut the only different between the two is that in the version that is rejected, we have a maximally parameteric blanket impl:\n\n``` rust\nimpl<T> Trait for T { type Out = T; }\n```\n\nwhile for the version that is accepted, we have instead a more narrowly focused impl (that happens to be lifetime parameterized):\n\n``` rust\nimpl<'b> Trait for Test<'b> { type Out = Test<'b>; }\n\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/180633635/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/180649980",
    "html_url": "https://github.com/rust-lang/rust/issues/30438#issuecomment-180649980",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30438",
    "id": 180649980,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4MDY0OTk4MA==",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-02-06T01:35:53Z",
    "updated_at": "2016-02-06T03:12:19Z",
    "body": "So far I think that something is funky in the region inference.\n\nLooking at the output from `-Z print-region-graph` as well as what the debug output reports, I see evidence that the region graph is (properly) encoding a constraint of the form:\n\n  ConstrainRegSubVar(ReFree(CodeExtent(7/CallSiteScope { fn_id: 15, body_id: 32 }), BrNamed(DefId { krate: 0, node: DefIndex(11) => silly::'y }, 'y(76))), '_#11r))\n- in other words, `'y` is an existentially-bound region that we know must live at least as long as the CallSiteScope for the fn, and we are encoding that this `'y <: '_#11r` (or if you prefer, \"the region variable `'_#11r` outlives `'y`\")\n\nYet _despite_ the above constraint, the region variable is eventually \"solved\" and resolves as follows:\n\nresolve_var('_#11r) = ReScope(CodeExtent(18/Misc(38)))\n\nBut this does not make sense; the node id 38 is contained _within_ the function that is being called, so that ReScope cannot possibly be long-lived enough to satisfy the above constraint (right?)\n\ncc @nikomatsakis \n\n---\n\nUpdate: for some reason, during expansion when we encounter the above quoted ConstrainRegSubVar, it falls into the early check if a relationship is implied by the givens. I'll keep looking; I'd like to know what given is being employed here to deduce that, but such info is not yet included in the `debug!` instrumentation.\n\nBTW, here is the region constraint graph as generated by `-Z print-region-graph`: https://gist.github.com/pnkfelix/e643048a742b096652ab ; you can pass that into something like http://www.webgraphviz.com/ to see the picture here (the immediately relevant part being the `'_#11r` region variable)\n\nrelevant lines from current `debug!` output (prefixed by their line numbers, for my own future reference)\n\n```\n 838: DEBUG:rustc::middle::infer::region_inference: expansion: \n    constraint=ConstrainRegSubVar(ReFree(CodeExtent(7/CallSiteScope { fn_id: 15, body_id: 32 }), \n    BrNamed(DefId { krate: 0, node: DefIndex(11) => silly::'y }, 'y(76))), '_#11r) \n    origin=Subtype(TypeTrace(ExprAssignable(issue-30438-d.rs:11:5: 11:7)))\n 839: DEBUG:rustc::middle::infer::region_inference: \n    expand_node(ReFree(CodeExtent(7/CallSiteScope{ fn_id: 15, body_id: 32 }),\n    BrNamed(DefId { krate: 0, node: DefIndex(11) => silly::'y }, 'y(76))),\n     '_#11r == Value(ReScope(CodeExtent(18/Misc(38)))))\n 840: DEBUG:rustc::middle::infer::region_inference: given\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/180649980/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/180653086",
    "html_url": "https://github.com/rust-lang/rust/issues/30438#issuecomment-180653086",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30438",
    "id": 180653086,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4MDY1MzA4Ng==",
    "user": {
      "login": "eddyb",
      "id": 77424,
      "node_id": "MDQ6VXNlcjc3NDI0",
      "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eddyb",
      "html_url": "https://github.com/eddyb",
      "followers_url": "https://api.github.com/users/eddyb/followers",
      "following_url": "https://api.github.com/users/eddyb/following{/other_user}",
      "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions",
      "organizations_url": "https://api.github.com/users/eddyb/orgs",
      "repos_url": "https://api.github.com/users/eddyb/repos",
      "events_url": "https://api.github.com/users/eddyb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eddyb/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-02-06T01:45:20Z",
    "updated_at": "2016-02-06T01:45:20Z",
    "body": "@pnkfelix you might want to wrap some of that up in code fences, it's getting reinterpreted as markdown.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/180653086/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/180653446",
    "html_url": "https://github.com/rust-lang/rust/issues/30438#issuecomment-180653446",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30438",
    "id": 180653446,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4MDY1MzQ0Ng==",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-02-06T01:46:17Z",
    "updated_at": "2016-02-06T01:46:17Z",
    "body": "@eddyb yeah I was debating; the lines are really long so that's why I didn't do code fences at first, since I figured it was better to let the lines wrap.\n\nI'll manually wrap the lines and add fences.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/180653446/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/180664959",
    "html_url": "https://github.com/rust-lang/rust/issues/30438#issuecomment-180664959",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30438",
    "id": 180664959,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4MDY2NDk1OQ==",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-02-06T03:20:32Z",
    "updated_at": "2016-02-08T12:21:49Z",
    "body": "Okay I think I found the bug.\n\nThe _actual_ region-graph representation (as opposed to what the `-Z print-region-graph` code works to present via graphviz) allocates one node for every region-variable, and then allocates _just_ one more node, at the so-called `dummy-idx`, to represent all of the concrete (non inference variable) regions.\n\n(Presumably the logic here is that all such concrete regions are existentially bound and thus we can abstract them into a single node, in terms of the reasoning that will be employed for the purposes of finding solutions to the constraint sets.)\n- Also, for future code archaeologists: the use of a dummy-idx dates from back when niko first switched the region-inference code to use a standalone graph abstraction, back in e706590e70cb0a050834ba75f46cbdd5a71cf5e3 (July 2013!). (This does not predate the introduction of explicit lifetime variables, the syntax for which was being discussed on [rust-dev](https://mail.mozilla.org/pipermail/rust-dev/2013-February/003105.html) as late as February 2013.)\n\nThe problem is that other code in the region_inference module assumes that we aren't playing such games. In particular, the `fn expand_givens(&self, graph: &RegionGraph)` method is very simple code, because it is just calling directly out to `graph.depth_traverse` and looping over the resulting iterator.\n\nBut that depth-first traversal will then see all the edges that are going both into and out of the _single_ dummy-idx node!  So it ends up over-expanding the `givens` set to include _way_ more assumed relationships than it should.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/180664959/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
