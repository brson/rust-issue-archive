[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/77562999",
    "html_url": "https://github.com/rust-lang/rust/issues/23115#issuecomment-77562999",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23115",
    "id": 77562999,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3NTYyOTk5",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-06T14:04:56Z",
    "updated_at": "2015-03-06T14:04:56Z",
    "body": "exciting!  Another entry for the bug log.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/77562999/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/77680782",
    "html_url": "https://github.com/rust-lang/rust/issues/23115#issuecomment-77680782",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23115",
    "id": 77680782,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3NjgwNzgy",
    "user": {
      "login": "isurakka",
      "id": 1478495,
      "node_id": "MDQ6VXNlcjE0Nzg0OTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1478495?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/isurakka",
      "html_url": "https://github.com/isurakka",
      "followers_url": "https://api.github.com/users/isurakka/followers",
      "following_url": "https://api.github.com/users/isurakka/following{/other_user}",
      "gists_url": "https://api.github.com/users/isurakka/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/isurakka/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/isurakka/subscriptions",
      "organizations_url": "https://api.github.com/users/isurakka/orgs",
      "repos_url": "https://api.github.com/users/isurakka/repos",
      "events_url": "https://api.github.com/users/isurakka/events{/privacy}",
      "received_events_url": "https://api.github.com/users/isurakka/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-07T09:15:16Z",
    "updated_at": "2015-03-07T09:18:19Z",
    "body": "Got similar error but with different caller.\n\n```\nerror: internal compiler error: unexpected panic\nnote: the compiler unexpectedly panicked. this is a bug.\nnote: we would appreciate a bug report: https://github.com/rust-lang/rust/blob/master/CONTRIBUTING.md#bug-reports\nnote: run with `RUST_BACKTRACE=1` for a backtrace\nthread 'rustc' panicked at 'arithmetic operation overflowed', C:/bot/slave/nightly-dist-rustc-win-64/build/src/libsyntax\\codemap.rs:73\n\nstack backtrace:\n   1:         0x7121a6fc - sys::backtrace::write::h0dbbf7b67c297decSVA\n   2:         0x71235b08 - rt::unwind::register::h77e3f3d90b03e98dXpJ\n   3:         0x711833b7 - rt::unwind::begin_unwind_inner::h12ceb964528c2b96mnJ\n   4:         0x71183b7b - rt::unwind::begin_unwind_fmt::ha1e3b759bf51a254XlJ\n   5:         0x7123573a - rust_begin_unwind\n   6:         0x7124c2a9 - panicking::panic_fmt::h55855a4db6daddf2IZs\n   7:         0x712488e1 - panicking::panic::h4d7abbe447750a26UXs\n   8:           0x51260e - codemap::BytePos.Sub::sub::hb4e9bb288333e96exYB\n   9:           0xbd7f48 - middle::astencode::_&'a DecodeContext<'b, 'c, 'tcx>.ast_map..FoldOps::new_span::h2c2deff2e015ae41qqa\n  10:           0xbe824a - middle::astencode::rbml..Doc<'a>.doc_decoder_helpers::opt_child::hc02538a1a994b8cb7Tb\n  11:           0xbe7f77 - middle::astencode::rbml..Doc<'a>.doc_decoder_helpers::opt_child::hc02538a1a994b8cb7Tb\n  12:           0xbeb70f - middle::astencode::rbml..Doc<'a>.doc_decoder_helpers::opt_child::hc02538a1a994b8cb7Tb\n  13:           0xbe848b - middle::astencode::rbml..Doc<'a>.doc_decoder_helpers::opt_child::hc02538a1a994b8cb7Tb\n  14:           0xbe7f77 - middle::astencode::rbml..Doc<'a>.doc_decoder_helpers::opt_child::hc02538a1a994b8cb7Tb\n  15:           0xbeb6dc - middle::astencode::rbml..Doc<'a>.doc_decoder_helpers::opt_child::hc02538a1a994b8cb7Tb\n  16:           0xbebd41 - middle::astencode::rbml..Doc<'a>.doc_decoder_helpers::opt_child::hc02538a1a994b8cb7Tb\n  17:           0xbeb859 - middle::astencode::rbml..Doc<'a>.doc_decoder_helpers::opt_child::hc02538a1a994b8cb7Tb\n  18:           0xc0a706 - middle::astencode::rbml..Doc<'a>.doc_decoder_helpers::opt_child::hc02538a1a994b8cb7Tb\n  19:           0xc09ea2 - middle::astencode::rbml..Doc<'a>.doc_decoder_helpers::opt_child::hc02538a1a994b8cb7Tb\n  20:           0xbdaa0b - middle::astencode::decode_inlined_item::h4b5ecdf19d937b3aPqa\n  21:         0x635f1b0a - trans::base::_InsnCtxt.Drop::drop::h23e8c6aa94978b9eYmr\n  22:           0xfa1efe - metadata::decoder::maybe_get_item_ast::hc63081888c5999fbPDi\n  23:           0xdbd1a5 - metadata::csearch::maybe_get_item_ast::h01114cd4d0fa035fo3k\n  24:         0x635f03fd - back::write::run_assembler::h9b10d62e3415d47666c\n  25:         0x6363cd69 - trans::common::ExprOrMethodCall...std..fmt..Debug::fmt::h2639905fc5fb8c20SAl\n  26:         0x6363c087 - trans::context::CrateContext<'b, 'tcx>::tn::head2a03b8133cd76d7l\n  27:         0x63638848 - trans::context::CrateContext<'b, 'tcx>::tn::head2a03b8133cd76d7l\n  28:         0x6364ea25 - trans::common::ExprOrMethodCall...std..cmp..PartialEq::ne::h90e475dde6fd53b6BDl\n  29:         0x6365b6fb - trans::common::ExprOrMethodCall...std..cmp..PartialEq::ne::h90e475dde6fd53b6BDl\n  30:         0x6360e087 - trans::cleanup::FunctionContext<'blk, 'tcx>.CleanupMethods<'blk, 'tcx>::pop_and_trans_ast_cleanup_scope::hac8b50cc79571f06wTJ\n  31:         0x6360ee02 - trans::cleanup::FunctionContext<'blk, 'tcx>.CleanupMethods<'blk, 'tcx>::pop_and_trans_ast_cleanup_scope::hac8b50cc79571f06wTJ\n  32:         0x636dea2a - trans::base::FindNestedReturn.Visitor<'v>::visit_expr::h820ae59272a71f02HTs\n  33:         0x635f7ffd - trans::context::CrateContext<'b, 'tcx>::sess::h1bfe1f4cd70e1d25w4l\n  34:         0x635f92c0 - trans::context::CrateContext<'b, 'tcx>::sess::h1bfe1f4cd70e1d25w4l\n  35:         0x6363cf14 - trans::common::ExprOrMethodCall...std..fmt..Debug::fmt::h2639905fc5fb8c20SAl\n  36:         0x6363b5bb - trans::context::CrateContext<'b, 'tcx>::tn::head2a03b8133cd76d7l\n  37:         0x63638a5e - trans::context::CrateContext<'b, 'tcx>::tn::head2a03b8133cd76d7l\n  38:         0x6364ea25 - trans::common::ExprOrMethodCall...std..cmp..PartialEq::ne::h90e475dde6fd53b6BDl\n  39:         0x6365b6fb - trans::common::ExprOrMethodCall...std..cmp..PartialEq::ne::h90e475dde6fd53b6BDl\n  40:         0x6360e087 - trans::cleanup::FunctionContext<'blk, 'tcx>.CleanupMethods<'blk, 'tcx>::pop_and_trans_ast_cleanup_scope::hac8b50cc79571f06wTJ\n  41:         0x63716b3d - trans::_match::ReassignmentChecker.euv..Delegate<'tcx>::mutate::h460f09245e4f2e80ZGw\n  42:         0x6360d4e2 - trans::cleanup::FunctionContext<'blk, 'tcx>.CleanupMethods<'blk, 'tcx>::push_ast_cleanup_scope::h2e3d819ba03b0988SJJ\n  43:         0x6360eb63 - trans::cleanup::FunctionContext<'blk, 'tcx>.CleanupMethods<'blk, 'tcx>::pop_and_trans_ast_cleanup_scope::hac8b50cc79571f06wTJ\n  44:         0x636dea2a - trans::base::FindNestedReturn.Visitor<'v>::visit_expr::h820ae59272a71f02HTs\n  45:         0x635f7ffd - trans::context::CrateContext<'b, 'tcx>::sess::h1bfe1f4cd70e1d25w4l\n  46:         0x635f942c - trans::context::CrateContext<'b, 'tcx>::sess::h1bfe1f4cd70e1d25w4l\n  47:         0x6363cf14 - trans::common::ExprOrMethodCall...std..fmt..Debug::fmt::h2639905fc5fb8c20SAl\n  48:         0x6363b5bb - trans::context::CrateContext<'b, 'tcx>::tn::head2a03b8133cd76d7l\n  49:         0x63638a5e - trans::context::CrateContext<'b, 'tcx>::tn::head2a03b8133cd76d7l\n  50:         0x6364ea25 - trans::common::ExprOrMethodCall...std..cmp..PartialEq::ne::h90e475dde6fd53b6BDl\n  51:         0x6365b6fb - trans::common::ExprOrMethodCall...std..cmp..PartialEq::ne::h90e475dde6fd53b6BDl\n  52:         0x6360e087 - trans::cleanup::FunctionContext<'blk, 'tcx>.CleanupMethods<'blk, 'tcx>::pop_and_trans_ast_cleanup_scope::hac8b50cc79571f06wTJ\n  53:         0x6360ee02 - trans::cleanup::FunctionContext<'blk, 'tcx>.CleanupMethods<'blk, 'tcx>::pop_and_trans_ast_cleanup_scope::hac8b50cc79571f06wTJ\n  54:         0x636dea2a - trans::base::FindNestedReturn.Visitor<'v>::visit_expr::h820ae59272a71f02HTs\n  55:         0x635f7ffd - trans::context::CrateContext<'b, 'tcx>::sess::h1bfe1f4cd70e1d25w4l\n  56:         0x635f942c - trans::context::CrateContext<'b, 'tcx>::sess::h1bfe1f4cd70e1d25w4l\n  57:         0x6363cf14 - trans::common::ExprOrMethodCall...std..fmt..Debug::fmt::h2639905fc5fb8c20SAl\n  58:         0x6363b5bb - trans::context::CrateContext<'b, 'tcx>::tn::head2a03b8133cd76d7l\n  59:         0x63651b84 - trans::common::ExprOrMethodCall...std..cmp..PartialEq::ne::h90e475dde6fd53b6BDl\n  60:         0x63650293 - trans::common::ExprOrMethodCall...std..cmp..PartialEq::ne::h90e475dde6fd53b6BDl\n  61:         0x63659f70 - trans::common::ExprOrMethodCall...std..cmp..PartialEq::ne::h90e475dde6fd53b6BDl\n  62:         0x63658d8e - trans::common::ExprOrMethodCall...std..cmp..PartialEq::ne::h90e475dde6fd53b6BDl\n  63:         0x6360f77f - trans::expr::Dest...std..cmp..PartialEq::eq::ha661cb7533fe26abOmh\n  64:         0x6366fc5d - trans::common::erase_regions::RegionEraser<'a, 'tcx>.TypeFolder<'tcx>::fold_substs::hcee31f2ecd0cd8c3Zvk\n  65:         0x63658e76 - trans::common::ExprOrMethodCall...std..cmp..PartialEq::ne::h90e475dde6fd53b6BDl\n  66:         0x6360e0a8 - trans::cleanup::FunctionContext<'blk, 'tcx>.CleanupMethods<'blk, 'tcx>::pop_and_trans_ast_cleanup_scope::hac8b50cc79571f06wTJ\n  67:         0x6360ee02 - trans::cleanup::FunctionContext<'blk, 'tcx>.CleanupMethods<'blk, 'tcx>::pop_and_trans_ast_cleanup_scope::hac8b50cc79571f06wTJ\n  68:         0x636dea2a - trans::base::FindNestedReturn.Visitor<'v>::visit_expr::h820ae59272a71f02HTs\n  69:         0x635f7ffd - trans::context::CrateContext<'b, 'tcx>::sess::h1bfe1f4cd70e1d25w4l\n  70:         0x635f942c - trans::context::CrateContext<'b, 'tcx>::sess::h1bfe1f4cd70e1d25w4l\n  71:         0x6363cf14 - trans::common::ExprOrMethodCall...std..fmt..Debug::fmt::h2639905fc5fb8c20SAl\n  72:         0x6363b5bb - trans::context::CrateContext<'b, 'tcx>::tn::head2a03b8133cd76d7l\n  73:         0x63651b84 - trans::common::ExprOrMethodCall...std..cmp..PartialEq::ne::h90e475dde6fd53b6BDl\n  74:         0x63650293 - trans::common::ExprOrMethodCall...std..cmp..PartialEq::ne::h90e475dde6fd53b6BDl\n  75:         0x63659f70 - trans::common::ExprOrMethodCall...std..cmp..PartialEq::ne::h90e475dde6fd53b6BDl\n  76:         0x6360e087 - trans::cleanup::FunctionContext<'blk, 'tcx>.CleanupMethods<'blk, 'tcx>::pop_and_trans_ast_cleanup_scope::hac8b50cc79571f06wTJ\n  77:         0x63716b3d - trans::_match::ReassignmentChecker.euv..Delegate<'tcx>::mutate::h460f09245e4f2e80ZGw\n  78:         0x6360d4e2 - trans::cleanup::FunctionContext<'blk, 'tcx>.CleanupMethods<'blk, 'tcx>::push_ast_cleanup_scope::h2e3d819ba03b0988SJJ\n  79:         0x6360eb63 - trans::cleanup::FunctionContext<'blk, 'tcx>.CleanupMethods<'blk, 'tcx>::pop_and_trans_ast_cleanup_scope::hac8b50cc79571f06wTJ\n  80:         0x636dea2a - trans::base::FindNestedReturn.Visitor<'v>::visit_expr::h820ae59272a71f02HTs\n  81:         0x635f7ffd - trans::context::CrateContext<'b, 'tcx>::sess::h1bfe1f4cd70e1d25w4l\n  82:         0x635f4d8b - trans::context::CrateContext<'b, 'tcx>::stats::h974340237ce9f5d56fm\n```\n\n`rustc 1.0.0-nightly (b0746ff19 2015-03-05) (built 2015-03-06)`\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/77680782/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/77686082",
    "html_url": "https://github.com/rust-lang/rust/issues/23115#issuecomment-77686082",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23115",
    "id": 77686082,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3Njg2MDgy",
    "user": {
      "login": "Manishearth",
      "id": 1617736,
      "node_id": "MDQ6VXNlcjE2MTc3MzY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1617736?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Manishearth",
      "html_url": "https://github.com/Manishearth",
      "followers_url": "https://api.github.com/users/Manishearth/followers",
      "following_url": "https://api.github.com/users/Manishearth/following{/other_user}",
      "gists_url": "https://api.github.com/users/Manishearth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Manishearth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Manishearth/subscriptions",
      "organizations_url": "https://api.github.com/users/Manishearth/orgs",
      "repos_url": "https://api.github.com/users/Manishearth/repos",
      "events_url": "https://api.github.com/users/Manishearth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Manishearth/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-07T11:49:38Z",
    "updated_at": "2015-03-07T11:49:38Z",
    "body": "`new_span` is just a wrapper around `tr_span`, so it's the same bug :)\n\n(hopefully)\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/77686082/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/77686994",
    "html_url": "https://github.com/rust-lang/rust/issues/23115#issuecomment-77686994",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23115",
    "id": 77686994,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3Njg2OTk0",
    "user": {
      "login": "Manishearth",
      "id": 1617736,
      "node_id": "MDQ6VXNlcjE2MTc3MzY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1617736?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Manishearth",
      "html_url": "https://github.com/Manishearth",
      "followers_url": "https://api.github.com/users/Manishearth/followers",
      "following_url": "https://api.github.com/users/Manishearth/following{/other_user}",
      "gists_url": "https://api.github.com/users/Manishearth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Manishearth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Manishearth/subscriptions",
      "organizations_url": "https://api.github.com/users/Manishearth/orgs",
      "repos_url": "https://api.github.com/users/Manishearth/repos",
      "events_url": "https://api.github.com/users/Manishearth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Manishearth/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-07T12:17:14Z",
    "updated_at": "2015-03-07T12:17:14Z",
    "body": "@isurakka What was the code you were compiling?\n\nPerhaps the following lines:\n\n```\n        let lo = (span.lo - imported_filemaps[filemap_index].original_start_pos) +\n                  imported_filemaps[filemap_index].translated_filemap.start_pos;\n        let hi = (span.hi - imported_filemaps[filemap_index].original_start_pos) +\n                  imported_filemaps[filemap_index].translated_filemap.start_pos;\n```\n\nshould be \n\n```\n        let lo = (span.lo + imported_filemaps[filemap_index].original_start_pos) -\n                    imported_filemaps[filemap_index].translated_filemap.start_pos;\n        let hi = (span.hi + imported_filemaps[filemap_index].original_start_pos) -\n                    imported_filemaps[filemap_index].translated_filemap.start_pos;\n```\n\nThat would explain why this underflow didn't break anything before. I've never seen an underflowed span in rustc output.\n\nThe function was introduced in #22235, @michaelwoerister do you think that the above fix is enough?\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/77686994/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/77688083",
    "html_url": "https://github.com/rust-lang/rust/issues/23115#issuecomment-77688083",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23115",
    "id": 77688083,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3Njg4MDgz",
    "user": {
      "login": "isurakka",
      "id": 1478495,
      "node_id": "MDQ6VXNlcjE0Nzg0OTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1478495?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/isurakka",
      "html_url": "https://github.com/isurakka",
      "followers_url": "https://api.github.com/users/isurakka/followers",
      "following_url": "https://api.github.com/users/isurakka/following{/other_user}",
      "gists_url": "https://api.github.com/users/isurakka/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/isurakka/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/isurakka/subscriptions",
      "organizations_url": "https://api.github.com/users/isurakka/orgs",
      "repos_url": "https://api.github.com/users/isurakka/repos",
      "events_url": "https://api.github.com/users/isurakka/events{/privacy}",
      "received_events_url": "https://api.github.com/users/isurakka/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-07T12:50:29Z",
    "updated_at": "2015-03-07T12:50:29Z",
    "body": "I was compiling [glium](https://github.com/tomaka/glium).\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/77688083/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/77688448",
    "html_url": "https://github.com/rust-lang/rust/issues/23115#issuecomment-77688448",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23115",
    "id": 77688448,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3Njg4NDQ4",
    "user": {
      "login": "michaelwoerister",
      "id": 1825894,
      "node_id": "MDQ6VXNlcjE4MjU4OTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1825894?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michaelwoerister",
      "html_url": "https://github.com/michaelwoerister",
      "followers_url": "https://api.github.com/users/michaelwoerister/followers",
      "following_url": "https://api.github.com/users/michaelwoerister/following{/other_user}",
      "gists_url": "https://api.github.com/users/michaelwoerister/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michaelwoerister/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michaelwoerister/subscriptions",
      "organizations_url": "https://api.github.com/users/michaelwoerister/orgs",
      "repos_url": "https://api.github.com/users/michaelwoerister/repos",
      "events_url": "https://api.github.com/users/michaelwoerister/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michaelwoerister/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-07T13:01:55Z",
    "updated_at": "2015-03-07T13:01:55Z",
    "body": "@Manishearth Normally this should not make a difference, since at this point `span.lo` should always be greater than or equal to `imported_filemaps[filemap_index].original_start_pos`. It would be interesting to see what the span and filemap in question look like.\n\nAnyway, I actually would not swap the additions and subtractions here. It would probably get rid of the underflow, but we actually want to fail immediately here instead of hiding the error. Something has to be wrong with either the input data (span and/or filemap) or with the binary search determining the filemap index.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/77688448/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/77688488",
    "html_url": "https://github.com/rust-lang/rust/issues/23115#issuecomment-77688488",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23115",
    "id": 77688488,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3Njg4NDg4",
    "user": {
      "login": "Manishearth",
      "id": 1617736,
      "node_id": "MDQ6VXNlcjE2MTc3MzY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1617736?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Manishearth",
      "html_url": "https://github.com/Manishearth",
      "followers_url": "https://api.github.com/users/Manishearth/followers",
      "following_url": "https://api.github.com/users/Manishearth/following{/other_user}",
      "gists_url": "https://api.github.com/users/Manishearth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Manishearth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Manishearth/subscriptions",
      "organizations_url": "https://api.github.com/users/Manishearth/orgs",
      "repos_url": "https://api.github.com/users/Manishearth/repos",
      "events_url": "https://api.github.com/users/Manishearth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Manishearth/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-07T13:03:12Z",
    "updated_at": "2015-03-07T13:03:12Z",
    "body": ">  It would probably get rid of the underflow, but we actually want to fail immediately here instead of hiding the error\n\nYeah, that's what I was unsure of. I might have a look at this later (not now, busy)\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/77688488/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/77688599",
    "html_url": "https://github.com/rust-lang/rust/issues/23115#issuecomment-77688599",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23115",
    "id": 77688599,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3Njg4NTk5",
    "user": {
      "login": "michaelwoerister",
      "id": 1825894,
      "node_id": "MDQ6VXNlcjE4MjU4OTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1825894?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michaelwoerister",
      "html_url": "https://github.com/michaelwoerister",
      "followers_url": "https://api.github.com/users/michaelwoerister/followers",
      "following_url": "https://api.github.com/users/michaelwoerister/following{/other_user}",
      "gists_url": "https://api.github.com/users/michaelwoerister/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michaelwoerister/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michaelwoerister/subscriptions",
      "organizations_url": "https://api.github.com/users/michaelwoerister/orgs",
      "repos_url": "https://api.github.com/users/michaelwoerister/repos",
      "events_url": "https://api.github.com/users/michaelwoerister/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michaelwoerister/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-07T13:06:06Z",
    "updated_at": "2015-03-07T13:06:06Z",
    "body": "@Manishearth That would be great. I won't have time to look into this until Wednesday.\n@pnkfelix It looks like a legitimate entry for your list `:)`\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/77688599/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/77745065",
    "html_url": "https://github.com/rust-lang/rust/issues/23115#issuecomment-77745065",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23115",
    "id": 77745065,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3NzQ1MDY1",
    "user": {
      "login": "michaelwoerister",
      "id": 1825894,
      "node_id": "MDQ6VXNlcjE4MjU4OTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1825894?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michaelwoerister",
      "html_url": "https://github.com/michaelwoerister",
      "followers_url": "https://api.github.com/users/michaelwoerister/followers",
      "following_url": "https://api.github.com/users/michaelwoerister/following{/other_user}",
      "gists_url": "https://api.github.com/users/michaelwoerister/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michaelwoerister/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michaelwoerister/subscriptions",
      "organizations_url": "https://api.github.com/users/michaelwoerister/orgs",
      "repos_url": "https://api.github.com/users/michaelwoerister/repos",
      "events_url": "https://api.github.com/users/michaelwoerister/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michaelwoerister/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-08T11:56:05Z",
    "updated_at": "2015-03-08T11:56:05Z",
    "body": "I've taken a short look at this but I'm having a hard time reproducing the ICE.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/77745065/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/81851001",
    "html_url": "https://github.com/rust-lang/rust/issues/23115#issuecomment-81851001",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23115",
    "id": 81851001,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgxODUxMDAx",
    "user": {
      "login": "pavlo-v-chernykh",
      "id": 526266,
      "node_id": "MDQ6VXNlcjUyNjI2Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/526266?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pavlo-v-chernykh",
      "html_url": "https://github.com/pavlo-v-chernykh",
      "followers_url": "https://api.github.com/users/pavlo-v-chernykh/followers",
      "following_url": "https://api.github.com/users/pavlo-v-chernykh/following{/other_user}",
      "gists_url": "https://api.github.com/users/pavlo-v-chernykh/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pavlo-v-chernykh/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pavlo-v-chernykh/subscriptions",
      "organizations_url": "https://api.github.com/users/pavlo-v-chernykh/orgs",
      "repos_url": "https://api.github.com/users/pavlo-v-chernykh/repos",
      "events_url": "https://api.github.com/users/pavlo-v-chernykh/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pavlo-v-chernykh/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-16T18:18:07Z",
    "updated_at": "2015-03-16T18:18:07Z",
    "body": "Hi, guys,\n\nI faced with the same issue when tried to use \"pub use\"ed structs in my integration test\n\nsrc/lib.rs\n\n``` rust\n#[macro_use]\nmod lexer;\n#[macro_use]\npub mod expr;\n#[macro_use]\nmod parser;\nmod scope;\n\npub use parser::Parser;\npub use scope::Scope;\n```\n\ntests/lib.rs\n\n``` rust\n#[macro_use]\nextern crate lust;\n\nuse lust::{Parser, Scope};\n\n#[test]\nfn test_macro_expansion() {\n    let ref mut scope = Scope::new_std();\n    let input = \"(def m (macro (a) '(+ 1 ~a)))\";\n    let expr = Parser::new(input.chars())\n        .parse().ok().unwrap()\n        .expand(scope).ok().unwrap()\n        .eval(scope).ok().unwrap();\n....\n```\n\nLine \n\n``` rust\nlet expr = Parser::new(input.chars())\n```\n\ncauses a backtrace\n\n```\nthread 'rustc' panicked at 'arithmetic operation overflowed', /Users/rustbuild/src/rust-buildbot/slave/nightly-dist-rustc-mac/build/src/libsyntax/codemap.rs:73\n\nstack backtrace:\n   1:        0x10a831d2b - sys::backtrace::write::ha860f032f06dd89afCC\n   2:        0x10a85ab0d - panicking::on_panic::h6a18b44186bb57afDsI\n   3:        0x10a77aa77 - rt::unwind::begin_unwind_inner::hd2534fa4a37f06f1EbI\n   4:        0x10a77b24e - rt::unwind::begin_unwind_fmt::hf8a9b93d4166a152faI\n   5:        0x10a85a5cd - rust_begin_unwind\n   6:        0x10a8aa325 - panicking::panic_fmt::hbdadebd7eca0abecESs\n   7:        0x10a8a22e4 - panicking::panic::h90cda9aae43785b6bRs\n   8:        0x109ee8aaf - codemap::BytePos.Sub::sub::ha963a332df6226d2X7y\n   9:        0x107732970 - middle::astencode::DecodeContext<'a, 'b, 'tcx>::tr_span::h41b6adfd5f25b283UBa\n  10:        0x107744af4 - fold::noop_fold_expr::h16033087652823088353\n  11:        0x107744815 - ptr::P<T>::map::h6010855507994973922\n  12:        0x107748335 - fold::noop_fold_expr::closure.65783\n  13:        0x107744d2a - fold::noop_fold_expr::h16033087652823088353\n  14:        0x107744815 - ptr::P<T>::map::h6010855507994973922\n  15:        0x107748335 - fold::noop_fold_expr::closure.65783\n  16:        0x107744c23 - fold::noop_fold_expr::h16033087652823088353\n  17:        0x107744815 - ptr::P<T>::map::h6010855507994973922\n  18:        0x107748335 - fold::noop_fold_expr::closure.65783\n  19:        0x107744d2a - fold::noop_fold_expr::h16033087652823088353\n  20:        0x107744815 - ptr::P<T>::map::h6010855507994973922\n  21:        0x107748335 - fold::noop_fold_expr::closure.65783\n  22:        0x107744d2a - fold::noop_fold_expr::h16033087652823088353\n  23:        0x107744815 - ptr::P<T>::map::h6010855507994973922\n  24:        0x107748335 - fold::noop_fold_expr::closure.65783\n  25:        0x107744d2a - fold::noop_fold_expr::h16033087652823088353\n  26:        0x107744815 - ptr::P<T>::map::h6010855507994973922\n  27:        0x107748335 - fold::noop_fold_expr::closure.65783\n  28:        0x107744d2a - fold::noop_fold_expr::h16033087652823088353\n  29:        0x107744815 - ptr::P<T>::map::h6010855507994973922\n  30:        0x1077482d2 - fold::noop_fold_expr::closure.65778\n  31:        0x107748b40 - fold::noop_fold_block::closure.65796\n  32:        0x10774853a - fold::noop_fold_block::h7304960027847516833\n  33:        0x107767d9a - fold::noop_fold_impl_item::closure.66351\n  34:        0x10776769d - fold::noop_fold_impl_item::h7368773820276733676\n  35:        0x10773573f - middle::astencode::decode_inlined_item::hb675d3182a90b087vqa\n  36:        0x1072fdb0c - trans::inline::instantiate_inline::closure.39507\n  37:        0x107b5bf3f - metadata::decoder::maybe_get_item_ast::h6ba2addb84791b678eg\n  38:        0x107941a68 - metadata::csearch::maybe_get_item_ast::h4a190184b359c7080Ei\n  39:        0x1072fc36b - trans::inline::instantiate_inline::hefe097f819d375207hd\n  40:        0x10734ea06 - trans::callee::trans_fn_ref_with_substs::h8a10bfc8d2eca420nkg\n  41:        0x10734d14e - trans::callee::trans_fn_ref::hdaccaca288958908X8f\n  42:        0x1073650ea - trans::meth::trans_method_callee::ha9796b94ffe9fe6da3x\n  43:        0x10736341b - trans::callee::trans_call_inner::h4682379842394608694\n  44:        0x10736e05a - trans::expr::trans_rvalue_dps_unadjusted::h8983b19e474e6ca6xzi\n  45:        0x10731c3c6 - trans::expr::trans_into::hc315f02b271dc490Smh\n  46:        0x10731d509 - trans::controlflow::trans_block::hc4ca9bc8aa6d667ct6d\n  47:        0x10736e940 - trans::expr::trans_rvalue_dps_unadjusted::h8983b19e474e6ca6xzi\n  48:        0x10731c3c6 - trans::expr::trans_into::hc315f02b271dc490Smh\n  49:        0x10741f490 - trans::_match::trans_match_inner::h861edf79f4e576da5Ew\n  50:        0x10736e8d3 - trans::expr::trans_rvalue_dps_unadjusted::h8983b19e474e6ca6xzi\n  51:        0x10731c3c6 - trans::expr::trans_into::hc315f02b271dc490Smh\n  52:        0x10731d509 - trans::controlflow::trans_block::hc4ca9bc8aa6d667ct6d\n  53:        0x1073fc739 - trans::base::trans_closure::hc39e993224ba4a39Rjt\n  54:        0x107304895 - trans::base::trans_fn::h1d576ccdd7ec4f71Kut\n  55:        0x107306022 - trans::monomorphize::monomorphic_fn::h72c960e470611a152td\n  56:        0x10734ebbb - trans::callee::trans_fn_ref_with_substs::h8a10bfc8d2eca420nkg\n  57:        0x10734d14e - trans::callee::trans_fn_ref::hdaccaca288958908X8f\n  58:        0x1073650ea - trans::meth::trans_method_callee::ha9796b94ffe9fe6da3x\n  59:        0x10736341b - trans::callee::trans_call_inner::h4682379842394608694\n  60:        0x10736e05a - trans::expr::trans_rvalue_dps_unadjusted::h8983b19e474e6ca6xzi\n  61:        0x10731c3c6 - trans::expr::trans_into::hc315f02b271dc490Smh\n  62:        0x107437b76 - trans::_match::mk_binding_alloca::h15152849454709322174\n  63:        0x10731b830 - trans::base::init_local::h70e5ce26f8b17897Vys\n  64:        0x10731d1e2 - trans::controlflow::trans_block::hc4ca9bc8aa6d667ct6d\n  65:        0x1073fc739 - trans::base::trans_closure::hc39e993224ba4a39Rjt\n  66:        0x107304895 - trans::base::trans_fn::h1d576ccdd7ec4f71Kut\n  67:        0x107306022 - trans::monomorphize::monomorphic_fn::h72c960e470611a152td\n  68:        0x10734ebbb - trans::callee::trans_fn_ref_with_substs::h8a10bfc8d2eca420nkg\n  69:        0x10734d14e - trans::callee::trans_fn_ref::hdaccaca288958908X8f\n  70:        0x1073650ea - trans::meth::trans_method_callee::ha9796b94ffe9fe6da3x\n  71:        0x10736341b - trans::callee::trans_call_inner::h4682379842394608694\n  72:        0x10736e05a - trans::expr::trans_rvalue_dps_unadjusted::h8983b19e474e6ca6xzi\n  73:        0x10736ce0c - trans::expr::trans_unadjusted::hf6041f49187a68f123h\n  74:        0x10731df5b - trans::expr::trans::h922f0fb9b242d298ath\n  75:        0x10735ce11 - trans::callee::trans_args::ha7923c949f541125F0g\n  76:        0x107364547 - trans::callee::trans_call_inner::h4682379842394608694\n  77:        0x10736e05a - trans::expr::trans_rvalue_dps_unadjusted::h8983b19e474e6ca6xzi\n  78:        0x10736ce0c - trans::expr::trans_unadjusted::hf6041f49187a68f123h\n  79:        0x10731df5b - trans::expr::trans::h922f0fb9b242d298ath\n  80:        0x10735ce11 - trans::callee::trans_args::ha7923c949f541125F0g\n  81:        0x107364547 - trans::callee::trans_call_inner::h4682379842394608694\n  82:        0x10736e05a - trans::expr::trans_rvalue_dps_unadjusted::h8983b19e474e6ca6xzi\n  83:        0x10736ce0c - trans::expr::trans_unadjusted::hf6041f49187a68f123h\n  84:        0x10731df5b - trans::expr::trans::h922f0fb9b242d298ath\n  85:        0x10735ce11 - trans::callee::trans_args::ha7923c949f541125F0g\n  86:        0x107364547 - trans::callee::trans_call_inner::h4682379842394608694\n  87:        0x10736e05a - trans::expr::trans_rvalue_dps_unadjusted::h8983b19e474e6ca6xzi\n  88:        0x10736ce0c - trans::expr::trans_unadjusted::hf6041f49187a68f123h\n  89:        0x10731df5b - trans::expr::trans::h922f0fb9b242d298ath\n  90:        0x10735ce11 - trans::callee::trans_args::ha7923c949f541125F0g\n  91:        0x107364547 - trans::callee::trans_call_inner::h4682379842394608694\n  92:        0x10736e05a - trans::expr::trans_rvalue_dps_unadjusted::h8983b19e474e6ca6xzi\n  93:        0x10736ce0c - trans::expr::trans_unadjusted::hf6041f49187a68f123h\n  94:        0x10731df5b - trans::expr::trans::h922f0fb9b242d298ath\n  95:        0x10735ce11 - trans::callee::trans_args::ha7923c949f541125F0g\n  96:        0x107364547 - trans::callee::trans_call_inner::h4682379842394608694\n  97:        0x10736e05a - trans::expr::trans_rvalue_dps_unadjusted::h8983b19e474e6ca6xzi\n  98:        0x10736ce0c - trans::expr::trans_unadjusted::hf6041f49187a68f123h\n  99:        0x10731df5b - trans::expr::trans::h922f0fb9b242d298ath\n  100:        0x10735ce11 - trans::callee::trans_args::ha7923c949f541125F0g\n ... <frames omitted>\n```\n\nEverything was fine with this code until I updated to the latest nightly.\n\nVersions of cargo and rustc\n\n```\ncargo 0.0.1-pre-nightly (07cd618 2015-03-12) (built 2015-03-13)\nrustc 1.0.0-nightly (30e1f9a1c 2015-03-14) (built 2015-03-15)\nbinary: rustc\ncommit-hash: 30e1f9a1c2bf7134135800bc9afd082773defadc\ncommit-date: 2015-03-14\nbuild-date: 2015-03-15\nhost: x86_64-apple-darwin\nrelease: 1.0.0-nightly\n```\n\nHope this will help to reproduce the bug.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/81851001/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/81922753",
    "html_url": "https://github.com/rust-lang/rust/issues/23115#issuecomment-81922753",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23115",
    "id": 81922753,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgxOTIyNzUz",
    "user": {
      "login": "tomaka",
      "id": 1412254,
      "node_id": "MDQ6VXNlcjE0MTIyNTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1412254?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tomaka",
      "html_url": "https://github.com/tomaka",
      "followers_url": "https://api.github.com/users/tomaka/followers",
      "following_url": "https://api.github.com/users/tomaka/following{/other_user}",
      "gists_url": "https://api.github.com/users/tomaka/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tomaka/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tomaka/subscriptions",
      "organizations_url": "https://api.github.com/users/tomaka/orgs",
      "repos_url": "https://api.github.com/users/tomaka/repos",
      "events_url": "https://api.github.com/users/tomaka/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tomaka/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-16T20:32:27Z",
    "updated_at": "2015-03-16T20:46:01Z",
    "body": "There seem to be several crates which have this ICE:\n- https://github.com/pistondevelopers/gfx_graphics\n- https://github.com/tomaka/glium\n- https://github.com/kubkon/rust-GSL\n\n~~For me the ICE appeared somewhere between the 12th nightly and the 14th nightly. The faulty commit must be in this range.~~ For glium the ICE appeared in the `c9b03c24e 2015-03-12` nightly. The `2015-03-11` nightly was working.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/81922753/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/82856473",
    "html_url": "https://github.com/rust-lang/rust/issues/23115#issuecomment-82856473",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23115",
    "id": 82856473,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyODU2NDcz",
    "user": {
      "login": "michaelwoerister",
      "id": 1825894,
      "node_id": "MDQ6VXNlcjE4MjU4OTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1825894?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michaelwoerister",
      "html_url": "https://github.com/michaelwoerister",
      "followers_url": "https://api.github.com/users/michaelwoerister/followers",
      "following_url": "https://api.github.com/users/michaelwoerister/following{/other_user}",
      "gists_url": "https://api.github.com/users/michaelwoerister/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michaelwoerister/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michaelwoerister/subscriptions",
      "organizations_url": "https://api.github.com/users/michaelwoerister/orgs",
      "repos_url": "https://api.github.com/users/michaelwoerister/repos",
      "events_url": "https://api.github.com/users/michaelwoerister/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michaelwoerister/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-18T09:49:35Z",
    "updated_at": "2015-03-18T09:49:35Z",
    "body": "I've allocated today for looking into this...\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/82856473/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/82938811",
    "html_url": "https://github.com/rust-lang/rust/issues/23115#issuecomment-82938811",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23115",
    "id": 82938811,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyOTM4ODEx",
    "user": {
      "login": "michaelwoerister",
      "id": 1825894,
      "node_id": "MDQ6VXNlcjE4MjU4OTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1825894?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michaelwoerister",
      "html_url": "https://github.com/michaelwoerister",
      "followers_url": "https://api.github.com/users/michaelwoerister/followers",
      "following_url": "https://api.github.com/users/michaelwoerister/following{/other_user}",
      "gists_url": "https://api.github.com/users/michaelwoerister/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michaelwoerister/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michaelwoerister/subscriptions",
      "organizations_url": "https://api.github.com/users/michaelwoerister/orgs",
      "repos_url": "https://api.github.com/users/michaelwoerister/repos",
      "events_url": "https://api.github.com/users/michaelwoerister/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michaelwoerister/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-18T12:08:03Z",
    "updated_at": "2015-03-18T12:08:03Z",
    "body": "I'm making some progress on this. It seems that `rustc` creates invalid spans (with `span.hi < span.lo`) during macro expansion. This is what trips up span translation when importing another crate.\n\n```\nthread 'rustc' panicked at 'assertion failed: lo <= hi', /home/mw/rust/src/libsyntax/codemap.rs:181\n\nstack backtrace:\n   1:     0x2b19ace8a8a1 - sys::backtrace::write::h3e9b4dca0513864dKrD\n   2:     0x2b19acea7323 - panicking::on_panic::hcb89533c10dead95GJJ\n   3:     0x2b19ace0602b - rt::unwind::begin_unwind_inner::ha5515b368a7d162eeqJ\n   4:     0x2b19af553ccc - rt::unwind::begin_unwind::h7177973865999339449\n   5:     0x2b19af623721 - parse::parser::Parser<'a>::mk_expr::h7e6012b214477e73kyI\n   6:     0x2b19af62dd58 - parse::parser::Parser<'a>::parse_more_binops::hfd08f1c10b16b5abgoJ\n   7:     0x2b19af62dff9 - parse::parser::Parser<'a>::parse_assign_expr::ha90692af103ba88bGsJ\n   8:     0x2b19af626b18 - parse::parser::Parser<'a>::parse_bottom_expr::haeda66665b87a4b9qDI\n   9:     0x2b19af62d59b - parse::parser::Parser<'a>::parse_prefix_expr::ha7f81e84568c81e9ZiJ\n  10:     0x2b19af62dfec - parse::parser::Parser<'a>::parse_assign_expr::ha90692af103ba88bGsJ\n  11:     0x2b19af63faf2 - parse::parser::Parser<'a>::parse_item_const::h73b6ec07b5cd7463PmL\n  12:     0x2b19af631c07 - parse::parser::Parser<'a>::parse_item_::hb119daa3df77ffaeJRL\n  13:     0x2b19af7b9e4e - ext::tt::macro_rules::ParserAnyMacro<'a>.MacResult::make_items::h21f35fae734f799fsyf\n  14:     0x2b19af73fe93 - ext::expand::expand_item_mac::hc8036110974a2e865Ra\n  15:     0x2b19af734af5 - ext::expand::expand_annotatable::hd63e48fa5a49f5f9Nlb\n  16:     0x2b19af731ad0 - ext::expand::expand_item::h3e710c5693bd09f40La\n  17:     0x2b19af73aec4 - ext::expand::MacroExpander<'a, 'b>.Folder::fold_item::h5a856dd7f64966f3KDb\n  18:     0x2b19af73ab70 - iter::FlatMap<I, U, F>.Iterator::next::h8620248382209828813\n  19:     0x2b19af73a8ab - vec::Vec<T>.FromIterator<T>::from_iter::h17981381026392602979\n  20:     0x2b19af73a548 - fold::noop_fold_mod::h13311583651119820058\n  21:     0x2b19af736f47 - ext::expand::expand_item_underscore::hdbcfb7421bd9ad50GPa\n  22:     0x2b19af777757 - fold::noop_fold_item_simple::h12913474026910056601\n  23:     0x2b19af77744e - ptr::P<T>::map::h6853041154571815780\n  24:     0x2b19af735491 - ext::expand::expand_annotatable::hd63e48fa5a49f5f9Nlb\n  25:     0x2b19af731ad0 - ext::expand::expand_item::h3e710c5693bd09f40La\n  26:     0x2b19af73aec4 - ext::expand::MacroExpander<'a, 'b>.Folder::fold_item::h5a856dd7f64966f3KDb\n  27:     0x2b19af73ab70 - iter::FlatMap<I, U, F>.Iterator::next::h8620248382209828813\n  28:     0x2b19af73a8e2 - vec::Vec<T>.FromIterator<T>::from_iter::h17981381026392602979\n  29:     0x2b19af73a548 - fold::noop_fold_mod::h13311583651119820058\n  30:     0x2b19af736f47 - ext::expand::expand_item_underscore::hdbcfb7421bd9ad50GPa\n  31:     0x2b19af777757 - fold::noop_fold_item_simple::h12913474026910056601\n  32:     0x2b19af77744e - ptr::P<T>::map::h6853041154571815780\n  33:     0x2b19af735491 - ext::expand::expand_annotatable::hd63e48fa5a49f5f9Nlb\n  34:     0x2b19af731ad0 - ext::expand::expand_item::h3e710c5693bd09f40La\n  35:     0x2b19af73aec4 - ext::expand::MacroExpander<'a, 'b>.Folder::fold_item::h5a856dd7f64966f3KDb\n  36:     0x2b19af77f2f3 - ext::expand::expand_crate::h6999d25ae521adf3bKb\n  37:     0x2b19acabc113 - driver::phase_2_configure_and_expand::closure.18814\n  38:     0x2b19aca7817c - driver::phase_2_configure_and_expand::h69f8943526788512Xsa\n  39:     0x2b19aca69f28 - driver::compile_input::hbd3be055171b4244Rba\n  40:     0x2b19acb0a049 - run_compiler::ha6b2ab1236d9b5f6S6b\n  41:     0x2b19acb0825d - thunk::F.Invoke<A, R>::invoke::h12269788191574515370\n  42:     0x2b19acb07835 - rt::unwind::try::try_fn::h17916825617625713907\n  43:     0x2b19acf16c78 - rust_try_inner\n  44:     0x2b19acf16c65 - rust_try\n  45:     0x2b19acb07c43 - thunk::F.Invoke<A, R>::invoke::h724682906673806154\n  46:     0x2b19ace9af89 - sys::thread::create::thread_start::h9e0cd7532d186bdd3iI\n  47:     0x2b19b2c94181 - start_thread\n  48:     0x2b19ad55f47c - __clone\n  49:                0x0 - <unknown>\n   1:     0x2b19ace8a8a1 - sys::backtrace::write::h3e9b4dca0513864dKrD\n   2:     0x2b19acea7323 - panicking::on_panic::hcb89533c10dead95GJJ\n   3:     0x2b19ace0602b - rt::unwind::begin_unwind_inner::ha5515b368a7d162eeqJ\n   4:     0x2b19af553ccc - rt::unwind::begin_unwind::h7177973865999339449\n   5:     0x2b19af623721 - parse::parser::Parser<'a>::mk_expr::h7e6012b214477e73kyI\n   6:     0x2b19af62dd58 - parse::parser::Parser<'a>::parse_more_binops::hfd08f1c10b16b5abgoJ\n   7:     0x2b19af62dff9 - parse::parser::Parser<'a>::parse_assign_expr::ha90692af103ba88bGsJ\n   8:     0x2b19af626b18 - parse::parser::Parser<'a>::parse_bottom_expr::haeda66665b87a4b9qDI\n   9:     0x2b19af62d59b - parse::parser::Parser<'a>::parse_prefix_expr::ha7f81e84568c81e9ZiJ\n  10:     0x2b19af62dfec - parse::parser::Parser<'a>::parse_assign_expr::ha90692af103ba88bGsJ\n  11:     0x2b19af63faf2 - parse::parser::Parser<'a>::parse_item_const::h73b6ec07b5cd7463PmL\n  12:     0x2b19af631c07 - parse::parser::Parser<'a>::parse_item_::hb119daa3df77ffaeJRL\n  13:     0x2b19af7b9e4e - ext::tt::macro_rules::ParserAnyMacro<'a>.MacResult::make_items::h21f35fae734f799fsyf\n  14:     0x2b19af73fe93 - ext::expand::expand_item_mac::hc8036110974a2e865Ra\n  15:     0x2b19af734af5 - ext::expand::expand_annotatable::hd63e48fa5a49f5f9Nlb\n  16:     0x2b19af731ad0 - ext::expand::expand_item::h3e710c5693bd09f40La\n  17:     0x2b19af73aec4 - ext::expand::MacroExpander<'a, 'b>.Folder::fold_item::h5a856dd7f64966f3KDb\n  18:     0x2b19af73ab70 - iter::FlatMap<I, U, F>.Iterator::next::h8620248382209828813\n  19:     0x2b19af73a8ab - vec::Vec<T>.FromIterator<T>::from_iter::h17981381026392602979\n  20:     0x2b19af73a548 - fold::noop_fold_mod::h13311583651119820058\n  21:     0x2b19af736f47 - ext::expand::expand_item_underscore::hdbcfb7421bd9ad50GPa\n  22:     0x2b19af777757 - fold::noop_fold_item_simple::h12913474026910056601\n  23:     0x2b19af77744e - ptr::P<T>::map::h6853041154571815780\n  24:     0x2b19af735491 - ext::expand::expand_annotatable::hd63e48fa5a49f5f9Nlb\n  25:     0x2b19af731ad0 - ext::expand::expand_item::h3e710c5693bd09f40La\n  26:     0x2b19af73aec4 - ext::expand::MacroExpander<'a, 'b>.Folder::fold_item::h5a856dd7f64966f3KDb\n  27:     0x2b19af73ab70 - iter::FlatMap<I, U, F>.Iterator::next::h8620248382209828813\n  28:     0x2b19af73a8e2 - vec::Vec<T>.FromIterator<T>::from_iter::h17981381026392602979\n  29:     0x2b19af73a548 - fold::noop_fold_mod::h13311583651119820058\n  30:     0x2b19af736f47 - ext::expand::expand_item_underscore::hdbcfb7421bd9ad50GPa\n  31:     0x2b19af777757 - fold::noop_fold_item_simple::h12913474026910056601\n  32:     0x2b19af77744e - ptr::P<T>::map::h6853041154571815780\n  33:     0x2b19af735491 - ext::expand::expand_annotatable::hd63e48fa5a49f5f9Nlb\n  34:     0x2b19af731ad0 - ext::expand::expand_item::h3e710c5693bd09f40La\n  35:     0x2b19af73aec4 - ext::expand::MacroExpander<'a, 'b>.Folder::fold_item::h5a856dd7f64966f3KDb\n  36:     0x2b19af77f2f3 - ext::expand::expand_crate::h6999d25ae521adf3bKb\n  37:     0x2b19acabc113 - driver::phase_2_configure_and_expand::closure.18814\n  38:     0x2b19aca7817c - driver::phase_2_configure_and_expand::h69f8943526788512Xsa\n  39:     0x2b19aca69f28 - driver::compile_input::hbd3be055171b4244Rba\n  40:     0x2b19acb0a049 - run_compiler::ha6b2ab1236d9b5f6S6b\n  41:     0x2b19acb0825d - thunk::F.Invoke<A, R>::invoke::h12269788191574515370\n  42:     0x2b19acb07835 - rt::unwind::try::try_fn::h17916825617625713907\n  43:     0x2b19acf16c78 - rust_try_inner\n  44:     0x2b19acf16c65 - rust_try\n  45:     0x2b19acb07c43 - thunk::F.Invoke<A, R>::invoke::h724682906673806154\n  46:     0x2b19ace9af89 - sys::thread::create::thread_start::h9e0cd7532d186bdd3iI\n  47:     0x2b19b2c94181 - start_thread\n  48:     0x2b19ad55f47c - __clone\n  49:                0x0 - <unknown>\n```\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/82938811/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/82957824",
    "html_url": "https://github.com/rust-lang/rust/issues/23115#issuecomment-82957824",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23115",
    "id": 82957824,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyOTU3ODI0",
    "user": {
      "login": "michaelwoerister",
      "id": 1825894,
      "node_id": "MDQ6VXNlcjE4MjU4OTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1825894?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michaelwoerister",
      "html_url": "https://github.com/michaelwoerister",
      "followers_url": "https://api.github.com/users/michaelwoerister/followers",
      "following_url": "https://api.github.com/users/michaelwoerister/following{/other_user}",
      "gists_url": "https://api.github.com/users/michaelwoerister/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michaelwoerister/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michaelwoerister/subscriptions",
      "organizations_url": "https://api.github.com/users/michaelwoerister/orgs",
      "repos_url": "https://api.github.com/users/michaelwoerister/repos",
      "events_url": "https://api.github.com/users/michaelwoerister/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michaelwoerister/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-18T12:57:13Z",
    "updated_at": "2015-03-18T12:57:13Z",
    "body": "OK, so here's the problem, the parser contains code like the following:\n\n``` rust\n// from Parser::parse_more_binops\nlet lhs_span = lhs.span;\nlet rhs_span = rhs.span;\nlet binary = self.mk_binary(codemap::respan(cur_op_span, cur_op), lhs, rhs);\nlet bin = self.mk_expr(lhs_span.lo, rhs_span.hi, binary);\n```\n\nNow, in the case of macros `lhs` and `rhs` can come from completely different contexts, like here:\n\n```\nadd1!(3);\nmacro_rules! add1 { ($val:expr) => ( { 1 + $val } ) }\n```\n\nIn the expansion of the macro, `lhs_span` would come from the macro-definition-site (`lo: 50, hi: 51`) while `rhs_span` would come from the expansion-site (`lo: 6, hi:7`). Taking `lo` from `lhs` and `hi` from `rhs`, as the above code does, we end up with a span of `lo: 50, hi: 7` :boom:\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/82957824/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/82960834",
    "html_url": "https://github.com/rust-lang/rust/issues/23115#issuecomment-82960834",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23115",
    "id": 82960834,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyOTYwODM0",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-18T13:03:25Z",
    "updated_at": "2015-03-18T13:03:25Z",
    "body": "@michaelwoerister yeah I remember when I discovered that the supposed `lo <= hi` invariant does not hold in general.  I should have probably mentioned that up above when I first saw this bug.\n\nWe probably should try to put in tests that deliberate exercise cases like this (perhaps by even directly constructing such spans, rather than relying on the particulars of how certain patterns of source code are parsed).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/82960834/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/82961778",
    "html_url": "https://github.com/rust-lang/rust/issues/23115#issuecomment-82961778",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23115",
    "id": 82961778,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyOTYxNzc4",
    "user": {
      "login": "Manishearth",
      "id": 1617736,
      "node_id": "MDQ6VXNlcjE2MTc3MzY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1617736?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Manishearth",
      "html_url": "https://github.com/Manishearth",
      "followers_url": "https://api.github.com/users/Manishearth/followers",
      "following_url": "https://api.github.com/users/Manishearth/following{/other_user}",
      "gists_url": "https://api.github.com/users/Manishearth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Manishearth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Manishearth/subscriptions",
      "organizations_url": "https://api.github.com/users/Manishearth/orgs",
      "repos_url": "https://api.github.com/users/Manishearth/repos",
      "events_url": "https://api.github.com/users/Manishearth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Manishearth/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-18T13:05:06Z",
    "updated_at": "2015-03-18T13:05:06Z",
    "body": "We could just put a debug-assert (or some sort of assert that doesn't reach the nightlies) in `mk_span` that `lo < hi`, and we ought to find lots of bugs i nthe compiler that way.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/82961778/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/82962161",
    "html_url": "https://github.com/rust-lang/rust/issues/23115#issuecomment-82962161",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23115",
    "id": 82962161,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyOTYyMTYx",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-18T13:06:09Z",
    "updated_at": "2015-03-18T13:06:50Z",
    "body": "@Manishearth I don't think that's a good idea for the short term.  I tried to put in such an assertion some time ago, and its a real rat hole.\n\n(That is why I instead suggested that we put in some tests that exercise such strange spans instead.)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/82962161/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/82962587",
    "html_url": "https://github.com/rust-lang/rust/issues/23115#issuecomment-82962587",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23115",
    "id": 82962587,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyOTYyNTg3",
    "user": {
      "login": "Manishearth",
      "id": 1617736,
      "node_id": "MDQ6VXNlcjE2MTc3MzY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1617736?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Manishearth",
      "html_url": "https://github.com/Manishearth",
      "followers_url": "https://api.github.com/users/Manishearth/followers",
      "following_url": "https://api.github.com/users/Manishearth/following{/other_user}",
      "gists_url": "https://api.github.com/users/Manishearth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Manishearth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Manishearth/subscriptions",
      "organizations_url": "https://api.github.com/users/Manishearth/orgs",
      "repos_url": "https://api.github.com/users/Manishearth/repos",
      "events_url": "https://api.github.com/users/Manishearth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Manishearth/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-18T13:07:24Z",
    "updated_at": "2015-03-18T13:07:24Z",
    "body": "Ah, so should we _not_ be relying on this assumption about spans? That seems like a bigger rat hole to be honest :/\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/82962587/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/82962684",
    "html_url": "https://github.com/rust-lang/rust/issues/23115#issuecomment-82962684",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23115",
    "id": 82962684,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyOTYyNjg0",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-18T13:07:43Z",
    "updated_at": "2015-03-18T13:07:43Z",
    "body": "(but then again, I am not going to object if someone else wants to put into the effort necessary to try to enforce `lo <= hi`)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/82962684/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/82991743",
    "html_url": "https://github.com/rust-lang/rust/issues/23115#issuecomment-82991743",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23115",
    "id": 82991743,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyOTkxNzQz",
    "user": {
      "login": "michaelwoerister",
      "id": 1825894,
      "node_id": "MDQ6VXNlcjE4MjU4OTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1825894?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michaelwoerister",
      "html_url": "https://github.com/michaelwoerister",
      "followers_url": "https://api.github.com/users/michaelwoerister/followers",
      "following_url": "https://api.github.com/users/michaelwoerister/following{/other_user}",
      "gists_url": "https://api.github.com/users/michaelwoerister/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michaelwoerister/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michaelwoerister/subscriptions",
      "organizations_url": "https://api.github.com/users/michaelwoerister/orgs",
      "repos_url": "https://api.github.com/users/michaelwoerister/repos",
      "events_url": "https://api.github.com/users/michaelwoerister/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michaelwoerister/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-18T14:14:17Z",
    "updated_at": "2015-03-18T14:35:20Z",
    "body": "I would have liked to tackle this as part of a bigger reform of span representation along the lines I described here: http://internals.rust-lang.org/t/rfc-compiler-refactoring-spans/1357/23\nBut since my contract is coming to an end this month I won't have time to do this.\n\nI guess this kind of thing can happen anywhere where some AST node span is constructed from the spans of the node's children, respectively whenever a child-node span also constitutes a border of the parent-node. That's the case for many things:\n\n``` rust\n// binary operators\n$e1 + $e2\n\n// unary operators\n! $e\n\n// closures\n|x| $e\n\n// parameters\nfn foo($e: $t) {}\n\n// type parameters\nfn bar<$ident: $type>\n\n// type ascription\n$e : $type\n\n// path expressions (?)\n$x::foo()\n\n// C-style enums\nenum Foo {\n    $ident = $e,\n}\n\n// derived types\n& &mut $t\n\n// call expressions (?)\n$e()\n\n// ... and who knows what else ...\n```\n\nHandling all these cases in the parser is definitely quite a bit of work. It's also not entirely clear _how_ to handle this. I would suggest that spans that are partly in a macro are defined completely in the macro. That is, for the example above, the `+` expression would have the span:\n\n```\nmacro_rules! add1 { ($val:expr) => ( { 1 + $val } ) }\n                                       ^^^^^^^^\n```\n\n...regardless of where `$val` comes from. But I don't think the original span of `$val` is available any more at this point.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/82991743/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/83023225",
    "html_url": "https://github.com/rust-lang/rust/issues/23115#issuecomment-83023225",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23115",
    "id": 83023225,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgzMDIzMjI1",
    "user": {
      "login": "michaelwoerister",
      "id": 1825894,
      "node_id": "MDQ6VXNlcjE4MjU4OTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1825894?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michaelwoerister",
      "html_url": "https://github.com/michaelwoerister",
      "followers_url": "https://api.github.com/users/michaelwoerister/followers",
      "following_url": "https://api.github.com/users/michaelwoerister/following{/other_user}",
      "gists_url": "https://api.github.com/users/michaelwoerister/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michaelwoerister/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michaelwoerister/subscriptions",
      "organizations_url": "https://api.github.com/users/michaelwoerister/orgs",
      "repos_url": "https://api.github.com/users/michaelwoerister/repos",
      "events_url": "https://api.github.com/users/michaelwoerister/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michaelwoerister/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-18T15:36:02Z",
    "updated_at": "2015-03-18T15:36:02Z",
    "body": "I opened an issue (#23480) describing the underlying problem. In order to get rid of this ICE I will create a temporary workaround, probably validating spans before they get exported. This may lead to some strange debuginfo-source locations when macros are involved but not worse than is already the case.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/83023225/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/87392771",
    "html_url": "https://github.com/rust-lang/rust/issues/23115#issuecomment-87392771",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23115",
    "id": 87392771,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3MzkyNzcx",
    "user": {
      "login": "michaelwoerister",
      "id": 1825894,
      "node_id": "MDQ6VXNlcjE4MjU4OTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1825894?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michaelwoerister",
      "html_url": "https://github.com/michaelwoerister",
      "followers_url": "https://api.github.com/users/michaelwoerister/followers",
      "following_url": "https://api.github.com/users/michaelwoerister/following{/other_user}",
      "gists_url": "https://api.github.com/users/michaelwoerister/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michaelwoerister/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michaelwoerister/subscriptions",
      "organizations_url": "https://api.github.com/users/michaelwoerister/orgs",
      "repos_url": "https://api.github.com/users/michaelwoerister/repos",
      "events_url": "https://api.github.com/users/michaelwoerister/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michaelwoerister/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-29T10:59:55Z",
    "updated_at": "2015-03-29T10:59:55Z",
    "body": "@Manishearth This should be fixed already. Please close if you can verify.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/87392771/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/87392827",
    "html_url": "https://github.com/rust-lang/rust/issues/23115#issuecomment-87392827",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23115",
    "id": 87392827,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3MzkyODI3",
    "user": {
      "login": "Manishearth",
      "id": 1617736,
      "node_id": "MDQ6VXNlcjE2MTc3MzY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1617736?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Manishearth",
      "html_url": "https://github.com/Manishearth",
      "followers_url": "https://api.github.com/users/Manishearth/followers",
      "following_url": "https://api.github.com/users/Manishearth/following{/other_user}",
      "gists_url": "https://api.github.com/users/Manishearth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Manishearth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Manishearth/subscriptions",
      "organizations_url": "https://api.github.com/users/Manishearth/orgs",
      "repos_url": "https://api.github.com/users/Manishearth/repos",
      "events_url": "https://api.github.com/users/Manishearth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Manishearth/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-29T11:01:26Z",
    "updated_at": "2015-03-29T11:01:26Z",
    "body": "Seems to be. Thanks.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/87392827/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
