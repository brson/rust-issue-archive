[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/34856547",
    "html_url": "https://github.com/rust-lang/rust/pull/12209#issuecomment-34856547",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12209",
    "id": 34856547,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0ODU2NTQ3",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-02-12T10:33:16Z",
    "updated_at": "2014-02-12T10:33:16Z",
    "body": "Cool; there's another instance of almost exactly the same pattern on line ~440, could you do this change there as well?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/34856547/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/34856897",
    "html_url": "https://github.com/rust-lang/rust/pull/12209#issuecomment-34856897",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12209",
    "id": 34856897,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0ODU2ODk3",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-02-12T10:38:11Z",
    "updated_at": "2014-02-12T10:42:49Z",
    "body": "r=me if you do that and add a `#[bench]` e.g.\n\n``` rust\nlet n = BigUint::from_uint(1) << 1000;\nbh.iter(|| {\n    let mut m = n.clone();\n    for _ in range(0, 100) {\n        m = m >> 1;\n    }\n})\n```\n\n(Adjust the 100 & 1000 constants as necessary to get a reasonable benchmark.)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/34856897/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/34858731",
    "html_url": "https://github.com/rust-lang/rust/pull/12209#issuecomment-34858731",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12209",
    "id": 34858731,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0ODU4NzMx",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-02-12T11:05:24Z",
    "updated_at": "2014-02-12T11:16:47Z",
    "body": "@huonw I'm not sure the two cases are analogous.\n\nIn the case that my commit is addressing, the generated vector is of O(n) length, where n is the length of the input.  Thus building via repeated unshifting is taking O(n^2) time.\n\nIn the case on line ~440 (within `fn div_estimate(a: &BigUint, b: &BigUint, n: uint)`, we are not iterating over the entire length of `a` nor `b`.  We are only iterating over a slice of length `n`.  Now, that would still be troubling to me and I would normally put in your change, except... am I crazy, or is `n` always either 1 or 2 in every call to `div_estimate`?\n\nGiven that, I think we should just leave the loop on line ~440 alone.  If my hypothesis above is correct, then it should be replaced with code to just handle the two cases of `n in {1, 2}`, right?\n\n---\n\nI will however add the `#[bench]` as you suggest.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/34858731/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/34859511",
    "html_url": "https://github.com/rust-lang/rust/pull/12209#issuecomment-34859511",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12209",
    "id": 34859511,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0ODU5NTEx",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-02-12T11:18:57Z",
    "updated_at": "2014-02-12T11:18:57Z",
    "body": "> am I crazy, or is n always either 1 or 2 in every call to div_estimate?\n\nGood catch! It certainly looks like it.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/34859511/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/34859886",
    "html_url": "https://github.com/rust-lang/rust/pull/12209#issuecomment-34859886",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12209",
    "id": 34859886,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0ODU5ODg2",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-02-12T11:24:22Z",
    "updated_at": "2014-02-12T11:24:22Z",
    "body": "On Wed, Feb 12, 2014 at 02:30:49AM -0800, Felix S Klock II wrote:\n\n> I have been thinking of\n> adding a `vec::from_fn_rev` to handle this case, maybe I will try that\n> this weekend.)\n\nWe have to be very careful about the cleanups here in case of\nfailure. For now we can get away with zeroing; maybe not forever,\nthough I imagine we could use a custom destructor scheme.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/34859886/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/34859936",
    "html_url": "https://github.com/rust-lang/rust/pull/12209#issuecomment-34859936",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12209",
    "id": 34859936,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0ODU5OTM2",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-02-12T11:25:15Z",
    "updated_at": "2014-02-12T11:25:15Z",
    "body": "On Wed, Feb 12, 2014 at 02:30:49AM -0800, Felix S Klock II wrote:\n\n> I have been thinking of adding a `vec::from_fn_rev` to handle this\n> case, maybe I will try that this weekend.)\n\nOh, I guess you can leave memory at the front uninitialized, and then\nin the destructor you just shift all elements from the right to the\nend and set the length. In the case of a successful run, this will be\nzero elements. All set.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/34859936/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/34903593",
    "html_url": "https://github.com/rust-lang/rust/pull/12209#issuecomment-34903593",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12209",
    "id": 34903593,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0OTAzNTkz",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-02-12T19:05:13Z",
    "updated_at": "2014-02-12T19:05:13Z",
    "body": "Nice find, @pnkfelix \n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/34903593/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
