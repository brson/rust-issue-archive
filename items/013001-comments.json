[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/37933966",
    "html_url": "https://github.com/rust-lang/rust/pull/13001#issuecomment-37933966",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/13001",
    "id": 37933966,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3OTMzOTY2",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-03-18T13:48:53Z",
    "updated_at": "2014-03-18T13:48:53Z",
    "body": "r? @thestinger @nikomatsakis \n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/37933966/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38219630",
    "html_url": "https://github.com/rust-lang/rust/pull/13001#issuecomment-38219630",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/13001",
    "id": 38219630,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MjE5NjMw",
    "user": {
      "login": "thestinger",
      "id": 1505226,
      "node_id": "MDQ6VXNlcjE1MDUyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thestinger",
      "html_url": "https://github.com/thestinger",
      "followers_url": "https://api.github.com/users/thestinger/followers",
      "following_url": "https://api.github.com/users/thestinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions",
      "organizations_url": "https://api.github.com/users/thestinger/orgs",
      "repos_url": "https://api.github.com/users/thestinger/repos",
      "events_url": "https://api.github.com/users/thestinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thestinger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-03-20T20:52:43Z",
    "updated_at": "2014-03-20T20:52:43Z",
    "body": "@cmr: Can you make sure they are marked `nocapture` both in the declaration itself and on calls of function pointers? I seem to remember this code being split in two places, but maybe it was fixed.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38219630/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38237925",
    "html_url": "https://github.com/rust-lang/rust/pull/13001#issuecomment-38237925",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/13001",
    "id": 38237925,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MjM3OTI1",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-03-21T00:48:07Z",
    "updated_at": "2014-03-21T00:48:07Z",
    "body": "@thestinger what would IR for that look like? For example with\n\n``` rust\nfn foo<'a>(x: &'a int) -> int { *x }\nfn bar(x: &int) -> int { *x }\n\nfn unwrap<T>(f: fn(&T) -> T, v: &T) -> T {\n    f(v)\n}\n\nfn main() {\n    let x = unwrap(foo, &42);\n    let y = unwrap(bar, &32);\n    assert!(x == 42);\n    assert!(y == 32);\n}\n```\n\nI find a line in the IR:\n\n```\n%9 = call i64 @_ZN6unwrap20hacdc2b0bbf46ca93Daa4v0.0E(i64 (i64*)* @_ZN3bar20h161c05615de3eaa4saa4v0.0E, i64* %addr_of1)\n```\n\nWhich if I change to...\n\n```\n%9 = call i64 @_ZN6unwrap20hacdc2b0bbf46ca93Daa4v0.0E(i64 (i64* nocapture)* @_ZN3bar20h161c05615de3eaa4saa4v0.0E, i64* %addr_of1)\n```\n\nllc dies with \n\n```\nllc: foo.ll:341:62: error: argument attributes invalid in function type\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38237925/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38242354",
    "html_url": "https://github.com/rust-lang/rust/pull/13001#issuecomment-38242354",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/13001",
    "id": 38242354,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MjQyMzU0",
    "user": {
      "login": "thestinger",
      "id": 1505226,
      "node_id": "MDQ6VXNlcjE1MDUyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thestinger",
      "html_url": "https://github.com/thestinger",
      "followers_url": "https://api.github.com/users/thestinger/followers",
      "following_url": "https://api.github.com/users/thestinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions",
      "organizations_url": "https://api.github.com/users/thestinger/orgs",
      "repos_url": "https://api.github.com/users/thestinger/repos",
      "events_url": "https://api.github.com/users/thestinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thestinger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-03-21T02:05:05Z",
    "updated_at": "2014-03-21T02:05:05Z",
    "body": "@cmr: I forget the syntax, but the code adding `sret` is in `src/librustc/middle/trans/callee.rs`.\n\n``` rust\n        // A function pointer is called without the declaration\n        // available, so we have to apply any attributes with ABI\n        // implications directly to the call instruction. Right now,\n        // the only attribute we need to worry about is `sret`.\n        let mut attrs = Vec::new();\n        if type_of::return_uses_outptr(ccx, ret_ty) {\n            attrs.push((1, StructRetAttribute));\n        }\n\n        // The `noalias` attribute on the return value is useful to a\n        // function ptr caller.\n        match ty::get(ret_ty).sty {\n            // `~` pointer return values never alias because ownership\n            // is transferred\n            ty::ty_uniq(..) | ty::ty_vec(_, ty::vstore_uniq) => {\n                attrs.push((0, NoAliasAttribute));\n            }\n            _ => {}\n        }\n```\n\nSo you could add `nocapture` there and see if it works, or if LLVM just doesn't allow this.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38242354/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38361068",
    "html_url": "https://github.com/rust-lang/rust/pull/13001#issuecomment-38361068",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/13001",
    "id": 38361068,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MzYxMDY4",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-03-22T19:07:42Z",
    "updated_at": "2014-03-22T19:07:42Z",
    "body": "@thestinger after playing with it, LLVM errors on broken functions whenever I try to add attributes there. So I think it just doesn't allow it.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38361068/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38363110",
    "html_url": "https://github.com/rust-lang/rust/pull/13001#issuecomment-38363110",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/13001",
    "id": 38363110,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MzYzMTEw",
    "user": {
      "login": "dotdash",
      "id": 230962,
      "node_id": "MDQ6VXNlcjIzMDk2Mg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/230962?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dotdash",
      "html_url": "https://github.com/dotdash",
      "followers_url": "https://api.github.com/users/dotdash/followers",
      "following_url": "https://api.github.com/users/dotdash/following{/other_user}",
      "gists_url": "https://api.github.com/users/dotdash/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dotdash/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dotdash/subscriptions",
      "organizations_url": "https://api.github.com/users/dotdash/orgs",
      "repos_url": "https://api.github.com/users/dotdash/repos",
      "events_url": "https://api.github.com/users/dotdash/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dotdash/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-03-22T20:28:17Z",
    "updated_at": "2014-03-22T20:28:17Z",
    "body": "The code that @thestinger referenced is about adding the attribute to the argument in the call itself. For example, there is an indirect call in `unwrap()` that looks like this:\n\n``` llvm\n%4 = call i64 %2(i64* %3)\n```\n\nextending the code to handle `nocapture` as well should turn that into:\n\n``` llvm\n  %4 = call i64 %2(i64* nocapture %3)\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38363110/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38363269",
    "html_url": "https://github.com/rust-lang/rust/pull/13001#issuecomment-38363269",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/13001",
    "id": 38363269,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MzYzMjY5",
    "user": {
      "login": "dotdash",
      "id": 230962,
      "node_id": "MDQ6VXNlcjIzMDk2Mg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/230962?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dotdash",
      "html_url": "https://github.com/dotdash",
      "followers_url": "https://api.github.com/users/dotdash/followers",
      "following_url": "https://api.github.com/users/dotdash/following{/other_user}",
      "gists_url": "https://api.github.com/users/dotdash/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dotdash/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dotdash/subscriptions",
      "organizations_url": "https://api.github.com/users/dotdash/orgs",
      "repos_url": "https://api.github.com/users/dotdash/repos",
      "events_url": "https://api.github.com/users/dotdash/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dotdash/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-03-22T20:35:04Z",
    "updated_at": "2014-03-22T20:35:04Z",
    "body": "Made up example where this makes a difference:\n\n``` llvm\n; ModuleID = 'issue-13001.rs'\ntarget datalayout = \"e-p:64:64:64-i1:8:8-i8:8:8-i16:16:16-i32:32:32-i64:64:64-f32:32:32-f64:64:64-v64:64:64-v128:128:128-a0:0:64-s0:64:64-f80:128:128-n8:16:32:64-S128\"\ntarget triple = \"x86_64-unknown-linux-gnu\"\n\ndeclare void @other()\n\ndefine i64 @without(i64 (i64*)*) unnamed_addr #4 {\nentry-block:\n  %1 = alloca i64\n  %2 = call i64 %0(i64* %1)\n  store i64 8, i64* %1\n  call void @other()\n  ret i64 %2\n}\n\ndefine i64 @with(i64 (i64*)*) unnamed_addr #4 {\nentry-block:\n  %1 = alloca i64\n  %2 = call i64 %0(i64* nocapture %1)\n  store i64 8, i64* %1\n  call void @other()\n  ret i64 %2\n}\n```\n\nGets optimized to:\n\n``` llvm\n; ModuleID = '<stdin>'\ntarget datalayout = \"e-p:64:64:64-i1:8:8-i8:8:8-i16:16:16-i32:32:32-i64:64:64-f32:32:32-f64:64:64-v64:64:64-v128:128:128-a0:0:64-s0:64:64-f80:128:128-n8:16:32:64-S128\"\ntarget triple = \"x86_64-unknown-linux-gnu\"\n\ndeclare void @other()\n\ndefine i64 @without(i64 (i64*)* nocapture) unnamed_addr {\nentry-block:\n  %1 = alloca i64, align 8\n  %2 = call i64 %0(i64* %1)\n  store i64 8, i64* %1, align 8\n  call void @other()\n  ret i64 %2\n}\n\ndefine i64 @with(i64 (i64*)* nocapture) unnamed_addr {\nentry-block:\n  %1 = alloca i64, align 8\n  %2 = call i64 %0(i64* nocapture %1)\n  tail call void @other()\n  ret i64 %2\n}\n```\n\nThe `store` can only be removed if `nocapture` is present.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38363269/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38363288",
    "html_url": "https://github.com/rust-lang/rust/pull/13001#issuecomment-38363288",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/13001",
    "id": 38363288,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MzYzMjg4",
    "user": {
      "login": "thestinger",
      "id": 1505226,
      "node_id": "MDQ6VXNlcjE1MDUyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thestinger",
      "html_url": "https://github.com/thestinger",
      "followers_url": "https://api.github.com/users/thestinger/followers",
      "following_url": "https://api.github.com/users/thestinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions",
      "organizations_url": "https://api.github.com/users/thestinger/orgs",
      "repos_url": "https://api.github.com/users/thestinger/repos",
      "events_url": "https://api.github.com/users/thestinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thestinger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-03-22T20:36:06Z",
    "updated_at": "2014-03-22T20:36:06Z",
    "body": "@cmr: It's already adding `sret` there so it does seem to work.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38363288/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38363441",
    "html_url": "https://github.com/rust-lang/rust/pull/13001#issuecomment-38363441",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/13001",
    "id": 38363441,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MzYzNDQx",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-03-22T20:41:49Z",
    "updated_at": "2014-03-22T20:41:49Z",
    "body": "What I tried in the \"wip\" commit.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38363441/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38363445",
    "html_url": "https://github.com/rust-lang/rust/pull/13001#issuecomment-38363445",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/13001",
    "id": 38363445,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MzYzNDQ1",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-03-22T20:41:58Z",
    "updated_at": "2014-03-22T20:41:58Z",
    "body": "(Rebuilding to try and debug further)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38363445/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38392774",
    "html_url": "https://github.com/rust-lang/rust/pull/13001#issuecomment-38392774",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/13001",
    "id": 38392774,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MzkyNzc0",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-03-23T18:53:30Z",
    "updated_at": "2014-03-24T16:29:43Z",
    "body": "Current status with the wips:\n\n```\nAttribute after last parameter!\n  call void %34(%\"enum.result::Result<(),io::IoError>\"* noalias nocapture sret %0, i8* %28, { i8*, i64 }* nocapture %__adjust)\nAttribute after last parameter!\n  call void %67(%\"enum.result::Result<(),io::IoError>\"* noalias nocapture sret %0, i8* %61, { i8*, i64 }* nocapture %__adjust2)\nAttribute after last parameter!\n  call void %88(%\"enum.result::Result<(),io::IoError>\"* noalias nocapture sret %0, i8* %82, { i8*, i64 }* nocapture %__adjust13)\nAttribute after last parameter!\n  call void %104(%\"enum.result::Result<(),io::IoError>\"* noalias nocapture sret %0, i8* %98, { i8*, i64 }* nocapture %__adjust14)\nLLVM ERROR: Broken function found, compilation aborted!\n```\n\nI think the accounting for self/envptr might be wrong but I'll continue debugging tomorrow.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38392774/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38395757",
    "html_url": "https://github.com/rust-lang/rust/pull/13001#issuecomment-38395757",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/13001",
    "id": 38395757,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4Mzk1NzU3",
    "user": {
      "login": "dotdash",
      "id": 230962,
      "node_id": "MDQ6VXNlcjIzMDk2Mg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/230962?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dotdash",
      "html_url": "https://github.com/dotdash",
      "followers_url": "https://api.github.com/users/dotdash/followers",
      "following_url": "https://api.github.com/users/dotdash/following{/other_user}",
      "gists_url": "https://api.github.com/users/dotdash/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dotdash/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dotdash/subscriptions",
      "organizations_url": "https://api.github.com/users/dotdash/orgs",
      "repos_url": "https://api.github.com/users/dotdash/repos",
      "events_url": "https://api.github.com/users/dotdash/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dotdash/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-03-23T20:19:13Z",
    "updated_at": "2014-03-23T20:19:13Z",
    "body": "Note that you don't have to account for `self`, that should be a regular argument as far as `ty_fn_args` is concerned. You probably missed the gist I pasted in #rust-internals earlier today, https://gist.github.com/dotdash/163790858bc88d5c66ac -- that worked fine with ZExt for me.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38395757/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38465154",
    "html_url": "https://github.com/rust-lang/rust/pull/13001#issuecomment-38465154",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/13001",
    "id": 38465154,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4NDY1MTU0",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-03-24T16:19:50Z",
    "updated_at": "2014-03-24T16:19:50Z",
    "body": "@dotdash ah thanks. do you want me to add that to this pr?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38465154/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38666989",
    "html_url": "https://github.com/rust-lang/rust/pull/13001#issuecomment-38666989",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/13001",
    "id": 38666989,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4NjY2OTg5",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-03-26T10:11:46Z",
    "updated_at": "2014-03-26T10:11:46Z",
    "body": "@cmr looks like travis doesn't like some of your long lines. I gave r+ but removed it due to travis failures.\n\nI think the reasoning for using `NoCapture` here is valid, and the code looks right to me, but I confess I'm having some trepidation. I'm starting to think I'd rather see this sort of analysis take place in a pass _before_ trans. The workings of trans are so confusing that I feel like I don't have a good grasp on the complete set of conditions in which, e.g., `register_fn` can be called. I'm also worried about how complicated and confusing it's going to be as the set of conditions we look for grows.\n\nI think I'd feel more comfortable if we had a pass that ran just before trans and which analysed and annotated (in a side table) the various parameters with the various kinds of attributes that they are best suited for. I envision a very simple visitor that walks the AST, examining the declared types of each function and closure.\n\nOne argument against this approach would be that perhaps the results of monomorphization are relevant in some cases (though not in this one). There would also be the necessity of serializing and deserializing these results for cross-crate inlining, which is always a bit of a pain.\n\n@cmr what do you think about that? Am I just being overly nervous?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38666989/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38667181",
    "html_url": "https://github.com/rust-lang/rust/pull/13001#issuecomment-38667181",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/13001",
    "id": 38667181,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4NjY3MTgx",
    "user": {
      "login": "thestinger",
      "id": 1505226,
      "node_id": "MDQ6VXNlcjE1MDUyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thestinger",
      "html_url": "https://github.com/thestinger",
      "followers_url": "https://api.github.com/users/thestinger/followers",
      "following_url": "https://api.github.com/users/thestinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions",
      "organizations_url": "https://api.github.com/users/thestinger/orgs",
      "repos_url": "https://api.github.com/users/thestinger/repos",
      "events_url": "https://api.github.com/users/thestinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thestinger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-03-26T10:14:14Z",
    "updated_at": "2014-03-26T10:14:32Z",
    "body": "@nikomatsakis: At some point we'll want to be outputting TBAA metadata nodes rather than just parameter attributes, so we will need some kind of smarter high-level infrastructure. I don't think it's too difficult to get it right with just parameters though.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38667181/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38785235",
    "html_url": "https://github.com/rust-lang/rust/pull/13001#issuecomment-38785235",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/13001",
    "id": 38785235,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4Nzg1MjM1",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-03-27T10:00:24Z",
    "updated_at": "2014-03-27T10:00:24Z",
    "body": "These failures are in some way legitimate, investigating.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38785235/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38794127",
    "html_url": "https://github.com/rust-lang/rust/pull/13001#issuecomment-38794127",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/13001",
    "id": 38794127,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4Nzk0MTI3",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-03-27T11:57:23Z",
    "updated_at": "2014-03-27T11:57:23Z",
    "body": "Accidentally let LLVM do some TCO where we didn't want it.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38794127/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
