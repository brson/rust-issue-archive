{
  "url": "https://api.github.com/repos/rust-lang/rust/issues/9012",
  "repository_url": "https://api.github.com/repos/rust-lang/rust",
  "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/9012/labels{/name}",
  "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/9012/comments",
  "events_url": "https://api.github.com/repos/rust-lang/rust/issues/9012/events",
  "html_url": "https://github.com/rust-lang/rust/pull/9012",
  "id": 19086213,
  "node_id": "MDExOlB1bGxSZXF1ZXN0ODEyNjQxNg==",
  "number": 9012,
  "title": "Implement a format_args!() macro",
  "user": {
    "login": "alexcrichton",
    "id": 64996,
    "node_id": "MDQ6VXNlcjY0OTk2",
    "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/alexcrichton",
    "html_url": "https://github.com/alexcrichton",
    "followers_url": "https://api.github.com/users/alexcrichton/followers",
    "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
    "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
    "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
    "repos_url": "https://api.github.com/users/alexcrichton/repos",
    "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
    "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "labels": [],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [],
  "milestone": null,
  "comments": 8,
  "created_at": "2013-09-06T03:03:06Z",
  "updated_at": "2024-03-24T21:40:41Z",
  "closed_at": "2013-09-12T11:31:09Z",
  "author_association": "MEMBER",
  "type": null,
  "active_lock_reason": null,
  "draft": false,
  "pull_request": {
    "url": "https://api.github.com/repos/rust-lang/rust/pulls/9012",
    "html_url": "https://github.com/rust-lang/rust/pull/9012",
    "diff_url": "https://github.com/rust-lang/rust/pull/9012.diff",
    "patch_url": "https://github.com/rust-lang/rust/pull/9012.patch",
    "merged_at": null
  },
  "body": "The purpose of this macro is to further reduce the number of allocations which\noccur when dealing with formatting strings. This macro will perform all of the\nstatic analysis necessary to validate that a format string is safe, and then it\nwill wrap up the \"format string\" into an opaque struct which can then be passed\naround.\n\nTwo safe functions are added (write/format) which take this opaque argument\nstructure, unwrap it, and then call the unsafe version of write/format (in an\nunsafe block). Other than these two functions, it is not intended for anyone to\never look inside this opaque struct.\n\nThe macro looks a bit odd, but mostly because of rvalue lifetimes this is the\nonly way for it to be safe that I know of.\n\nExample use-cases of this are:\n- third-party libraries can use the default formatting syntax without any\n  forced allocations\n- the fail!() macro can avoid allocating the format string\n- the logging macros can avoid allocation any strings\n\nI plan on transitioning the standard logging/failing to using these macros soon. This is currently blocking on inner statics being usable in cross-crate situations (still tracking down bugs there), but this will hopefully be coming soon!\n\nAdditionally, I'd rather settle on a name now than later, so if anyone has a better suggestion other than `format_args`, I'm not attached to the name at all :)\n",
  "closed_by": {
    "login": "bors",
    "id": 3372342,
    "node_id": "MDQ6VXNlcjMzNzIzNDI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/bors",
    "html_url": "https://github.com/bors",
    "followers_url": "https://api.github.com/users/bors/followers",
    "following_url": "https://api.github.com/users/bors/following{/other_user}",
    "gists_url": "https://api.github.com/users/bors/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bors/subscriptions",
    "organizations_url": "https://api.github.com/users/bors/orgs",
    "repos_url": "https://api.github.com/users/bors/repos",
    "events_url": "https://api.github.com/users/bors/events{/privacy}",
    "received_events_url": "https://api.github.com/users/bors/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/9012/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/9012/timeline",
  "performed_via_github_app": null,
  "state_reason": null,
  "_meta": {
    "type": "pr"
  }
}
