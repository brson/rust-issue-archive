[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62274180",
    "html_url": "https://github.com/rust-lang/rust/pull/18690#issuecomment-62274180",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18690",
    "id": 62274180,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMjc0MTgw",
    "user": {
      "login": "aturon",
      "id": 709807,
      "node_id": "MDQ6VXNlcjcwOTgwNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/709807?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aturon",
      "html_url": "https://github.com/aturon",
      "followers_url": "https://api.github.com/users/aturon/followers",
      "following_url": "https://api.github.com/users/aturon/following{/other_user}",
      "gists_url": "https://api.github.com/users/aturon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aturon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aturon/subscriptions",
      "organizations_url": "https://api.github.com/users/aturon/orgs",
      "repos_url": "https://api.github.com/users/aturon/repos",
      "events_url": "https://api.github.com/users/aturon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aturon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-08T19:46:04Z",
    "updated_at": "2014-11-08T19:46:04Z",
    "body": "Thanks for the PR, @1-more! Would you mind outlining the tradeoffs with this new representation and why the choice is being made?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62274180/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62291906",
    "html_url": "https://github.com/rust-lang/rust/pull/18690#issuecomment-62291906",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18690",
    "id": 62291906,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMjkxOTA2",
    "user": {
      "login": "1-more",
      "id": 9108646,
      "node_id": "MDQ6VXNlcjkxMDg2NDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9108646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/1-more",
      "html_url": "https://github.com/1-more",
      "followers_url": "https://api.github.com/users/1-more/followers",
      "following_url": "https://api.github.com/users/1-more/following{/other_user}",
      "gists_url": "https://api.github.com/users/1-more/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/1-more/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/1-more/subscriptions",
      "organizations_url": "https://api.github.com/users/1-more/orgs",
      "repos_url": "https://api.github.com/users/1-more/repos",
      "events_url": "https://api.github.com/users/1-more/events{/privacy}",
      "received_events_url": "https://api.github.com/users/1-more/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-09T05:14:58Z",
    "updated_at": "2014-11-09T05:14:58Z",
    "body": "That's easy! \n\nShow me your data structures, and I won't usually need your code. This is not the case with the old `Duration` representation: \n- It has a field named `secs`, but in code it is restricted to hold values from `i64::MIN -1` to `i64::MAX` milliseconds. Otherwise `num_milliseconds()` method, which is heavily used throughout Rust's code, overflows.\n- `nanos` field type is `i32`, but it is restricted to hold only positive values.\n\nI think that the new representation is more adequate for our purpose: \n- `millis` field is to hold any i64 value with no `num_milliseconds()` method overflow.\n- `nanos` field is to have both positive and negative values.\n\nAnd last but not least, while our old representation is meant to be compatible with C like Timespec (see [this](https://github.com/rust-lang/rust/blob/master/src/libtime/lib.rs), the new one is easily convertible to  that. \n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62291906/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62292325",
    "html_url": "https://github.com/rust-lang/rust/pull/18690#issuecomment-62292325",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18690",
    "id": 62292325,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMjkyMzI1",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-09T05:34:52Z",
    "updated_at": "2014-11-09T05:35:04Z",
    "body": "For reviewers, etc: [previous discussion](http://discuss.rust-lang.org/t/yet-another-attempt-to-refactor-libstds-duration/733).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62292325/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62301047",
    "html_url": "https://github.com/rust-lang/rust/pull/18690#issuecomment-62301047",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18690",
    "id": 62301047,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMzAxMDQ3",
    "user": {
      "login": "1-more",
      "id": 9108646,
      "node_id": "MDQ6VXNlcjkxMDg2NDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9108646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/1-more",
      "html_url": "https://github.com/1-more",
      "followers_url": "https://api.github.com/users/1-more/followers",
      "following_url": "https://api.github.com/users/1-more/following{/other_user}",
      "gists_url": "https://api.github.com/users/1-more/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/1-more/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/1-more/subscriptions",
      "organizations_url": "https://api.github.com/users/1-more/orgs",
      "repos_url": "https://api.github.com/users/1-more/repos",
      "events_url": "https://api.github.com/users/1-more/events{/privacy}",
      "received_events_url": "https://api.github.com/users/1-more/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-09T12:05:33Z",
    "updated_at": "2014-11-09T12:16:43Z",
    "body": "Yeah!\n\nAccording to previous discussion, the best definition of `Duration` type should look like:\n\n```\npub struct Duraion {\n    pub ticks: i64, // A single tick represents 100 nanoseconds\n}\n```\n\nThat is the way .NET and Joda-Time go. It gives the best performance. It fits to alignment rules. The full range of values is large enough etc. But it takes nanoseconds away. \n\nNobody knows do we really need them. At the moment, the only place in Rust code that uses `Duration::nanoseconds` and `Duration::num_nanoseconds()` is [this](https://github.com/rust-lang/rust/blob/master/src/libtime/lib.rs) file. It also the only one that uses C like Timespec. \n\nThe  discussion is still in progress. My commit respects Timespec and nanos, but makes the `Duration` type a bit more consistent.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62301047/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62303853",
    "html_url": "https://github.com/rust-lang/rust/pull/18690#issuecomment-62303853",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18690",
    "id": 62303853,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMzAzODUz",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-09T13:44:36Z",
    "updated_at": "2014-11-09T13:44:36Z",
    "body": "Hm, could you explain why the change made here is neither of the suggestions from the previous discussion?\n\n> At the moment, the only place in Rust code that uses Duration::nanoseconds and Duration::num_nanoseconds() is this file\n\nThe stdlib/compiler is not a particularly good place to look for uses of specific functions. This repo will not care or need many functions: they are mainly designed for use by others. A global search of github is a slightly better way to measure the prevalence of a function.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62303853/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62304341",
    "html_url": "https://github.com/rust-lang/rust/pull/18690#issuecomment-62304341",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18690",
    "id": 62304341,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMzA0MzQx",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-09T14:02:19Z",
    "updated_at": "2014-11-09T14:02:54Z",
    "body": "(To be clear, I don't necessarily think this design is bad, it was just a little surprising to me to follow that discussion and then see something else implemented, so a bit of background motivation for the change would be nice.)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62304341/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62304996",
    "html_url": "https://github.com/rust-lang/rust/pull/18690#issuecomment-62304996",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18690",
    "id": 62304996,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMzA0OTk2",
    "user": {
      "login": "1-more",
      "id": 9108646,
      "node_id": "MDQ6VXNlcjkxMDg2NDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9108646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/1-more",
      "html_url": "https://github.com/1-more",
      "followers_url": "https://api.github.com/users/1-more/followers",
      "following_url": "https://api.github.com/users/1-more/following{/other_user}",
      "gists_url": "https://api.github.com/users/1-more/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/1-more/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/1-more/subscriptions",
      "organizations_url": "https://api.github.com/users/1-more/orgs",
      "repos_url": "https://api.github.com/users/1-more/repos",
      "events_url": "https://api.github.com/users/1-more/events{/privacy}",
      "received_events_url": "https://api.github.com/users/1-more/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-09T14:24:00Z",
    "updated_at": "2014-11-09T14:24:00Z",
    "body": "Well, as I've said before: the discussion is still in progress. And at least one file exists that needs `Duration::nanoseconds` and `Duration::num_nanoseconds()`. I don't want to break someone else's code ...\n\nAs for `is_digit` method  includes non-ASCII digit sequences, I have no idea at the moment. Any advice? \n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62304996/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62305192",
    "html_url": "https://github.com/rust-lang/rust/pull/18690#issuecomment-62305192",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18690",
    "id": 62305192,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMzA1MTky",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-09T14:31:10Z",
    "updated_at": "2014-11-09T14:34:07Z",
    "body": "> Well, as I've said before: the discussion is still in progress\n\nSure, the discussion is in progress, but this PR seems to be ignoring that discussion entirely. I don't think the choice here is bad, per se, but I would like to see some justification for it, i.e. why we should change `Duration` to this format rather than leaving it as is or changing it to one of the proposals in the discuss thread (since apparently they are the best format).\n\n(I see you've justified why we shouldn't leave it as-is above, but the latter is still missing: why is `ticks: i64, nanos: i8` less appropriate?)\n\n> As for is_digit method includes non-ASCII digit sequences, I have no idea at the moment. Any advice? \n\nJust do normal comparison: `'0' <= c && c <= '9'`.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62305192/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62305747",
    "html_url": "https://github.com/rust-lang/rust/pull/18690#issuecomment-62305747",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18690",
    "id": 62305747,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMzA1NzQ3",
    "user": {
      "login": "1-more",
      "id": 9108646,
      "node_id": "MDQ6VXNlcjkxMDg2NDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9108646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/1-more",
      "html_url": "https://github.com/1-more",
      "followers_url": "https://api.github.com/users/1-more/followers",
      "following_url": "https://api.github.com/users/1-more/following{/other_user}",
      "gists_url": "https://api.github.com/users/1-more/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/1-more/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/1-more/subscriptions",
      "organizations_url": "https://api.github.com/users/1-more/orgs",
      "repos_url": "https://api.github.com/users/1-more/repos",
      "events_url": "https://api.github.com/users/1-more/events{/privacy}",
      "received_events_url": "https://api.github.com/users/1-more/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-09T14:50:14Z",
    "updated_at": "2014-11-09T14:50:14Z",
    "body": "`ticks: i64, nanos: i8` vs `millis: i64, nanos: i32`? \n\nThere is no big difference between them. It's `3 bytes less` vs `3 bytes more` choice, that is nothing due to alignment rules. But in second case the full range of values is larger. It might be important for someone.\n\nIn fact, I dislike both and wish the third case (`ticks: i64`) to be.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62305747/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62350952",
    "html_url": "https://github.com/rust-lang/rust/pull/18690#issuecomment-62350952",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18690",
    "id": 62350952,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMzUwOTUy",
    "user": {
      "login": "1-more",
      "id": 9108646,
      "node_id": "MDQ6VXNlcjkxMDg2NDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9108646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/1-more",
      "html_url": "https://github.com/1-more",
      "followers_url": "https://api.github.com/users/1-more/followers",
      "following_url": "https://api.github.com/users/1-more/following{/other_user}",
      "gists_url": "https://api.github.com/users/1-more/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/1-more/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/1-more/subscriptions",
      "organizations_url": "https://api.github.com/users/1-more/orgs",
      "repos_url": "https://api.github.com/users/1-more/repos",
      "events_url": "https://api.github.com/users/1-more/events{/privacy}",
      "received_events_url": "https://api.github.com/users/1-more/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-10T07:45:48Z",
    "updated_at": "2014-11-10T07:45:48Z",
    "body": "I found one more reason why `ticks: i64, nanos: i8` (or even `ticks: i64`) is less appropriate: \n`num_microseconds` method will always return a valid i64 value. I mean we should change method signature from:\n\n```\npub fn num_microseconds(&self) -> Option<i64>\n```\n\nto\n\n```\npub fn num_microseconds(&self) -> i64\n```\n\nBut it might to be a compatibility issue. Or leave it as is, then it'll be inconsistent. \n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62350952/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
