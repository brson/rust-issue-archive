[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/157210915",
    "html_url": "https://github.com/rust-lang/rust/issues/29877#issuecomment-157210915",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29877",
    "id": 157210915,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1NzIxMDkxNQ==",
    "user": {
      "login": "gus",
      "id": 3900,
      "node_id": "MDQ6VXNlcjM5MDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3900?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gus",
      "html_url": "https://github.com/gus",
      "followers_url": "https://api.github.com/users/gus/followers",
      "following_url": "https://api.github.com/users/gus/following{/other_user}",
      "gists_url": "https://api.github.com/users/gus/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gus/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gus/subscriptions",
      "organizations_url": "https://api.github.com/users/gus/orgs",
      "repos_url": "https://api.github.com/users/gus/repos",
      "events_url": "https://api.github.com/users/gus/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gus/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-11-16T23:44:36Z",
    "updated_at": "2015-11-16T23:44:36Z",
    "body": "Sounds cool, but I didn't ask for that, @brson :)\n\nCheers,\nGus\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/157210915/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/157235969",
    "html_url": "https://github.com/rust-lang/rust/issues/29877#issuecomment-157235969",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29877",
    "id": 157235969,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1NzIzNTk2OQ==",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-11-17T01:55:08Z",
    "updated_at": "2015-11-17T01:55:08Z",
    "body": "Oops, wrong @gus. Sorry! Strong beard though.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/157235969/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/157262614",
    "html_url": "https://github.com/rust-lang/rust/issues/29877#issuecomment-157262614",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29877",
    "id": 157262614,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1NzI2MjYxNA==",
    "user": {
      "login": "gus",
      "id": 3900,
      "node_id": "MDQ6VXNlcjM5MDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3900?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gus",
      "html_url": "https://github.com/gus",
      "followers_url": "https://api.github.com/users/gus/followers",
      "following_url": "https://api.github.com/users/gus/following{/other_user}",
      "gists_url": "https://api.github.com/users/gus/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gus/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gus/subscriptions",
      "organizations_url": "https://api.github.com/users/gus/orgs",
      "repos_url": "https://api.github.com/users/gus/repos",
      "events_url": "https://api.github.com/users/gus/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gus/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-11-17T04:06:15Z",
    "updated_at": "2015-11-17T04:06:15Z",
    "body": ";)\n\nOn Mon, Nov 16, 2015, 20:55 Brian Anderson notifications@github.com wrote:\n\n> Oops, wrong @gus https://github.com/gus. Sorry! Strong beard though.\n> \n> \u2014\n> Reply to this email directly or view it on GitHub\n> https://github.com/rust-lang/rust/issues/29877#issuecomment-157235969.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/157262614/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/163013175",
    "html_url": "https://github.com/rust-lang/rust/issues/29877#issuecomment-163013175",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29877",
    "id": 163013175,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2MzAxMzE3NQ==",
    "user": {
      "login": "genodeftest",
      "id": 934401,
      "node_id": "MDQ6VXNlcjkzNDQwMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/934401?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/genodeftest",
      "html_url": "https://github.com/genodeftest",
      "followers_url": "https://api.github.com/users/genodeftest/followers",
      "following_url": "https://api.github.com/users/genodeftest/following{/other_user}",
      "gists_url": "https://api.github.com/users/genodeftest/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/genodeftest/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/genodeftest/subscriptions",
      "organizations_url": "https://api.github.com/users/genodeftest/orgs",
      "repos_url": "https://api.github.com/users/genodeftest/repos",
      "events_url": "https://api.github.com/users/genodeftest/events{/privacy}",
      "received_events_url": "https://api.github.com/users/genodeftest/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-12-08T20:46:49Z",
    "updated_at": "2015-12-08T20:46:49Z",
    "body": "There is something similiar on Fedora: [Change: Harden all packages](https://fedoraproject.org//wiki/Changes/Harden_All_Packages)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/163013175/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/299246528",
    "html_url": "https://github.com/rust-lang/rust/issues/29877#issuecomment-299246528",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29877",
    "id": 299246528,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5OTI0NjUyOA==",
    "user": {
      "login": "nagisa",
      "id": 679122,
      "node_id": "MDQ6VXNlcjY3OTEyMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/679122?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nagisa",
      "html_url": "https://github.com/nagisa",
      "followers_url": "https://api.github.com/users/nagisa/followers",
      "following_url": "https://api.github.com/users/nagisa/following{/other_user}",
      "gists_url": "https://api.github.com/users/nagisa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nagisa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nagisa/subscriptions",
      "organizations_url": "https://api.github.com/users/nagisa/orgs",
      "repos_url": "https://api.github.com/users/nagisa/repos",
      "events_url": "https://api.github.com/users/nagisa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nagisa/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-05-04T16:59:52Z",
    "updated_at": "2017-05-04T16:59:52Z",
    "body": "Downside is that not every alternative linker out there might support the flags.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/299246528/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/299246688",
    "html_url": "https://github.com/rust-lang/rust/issues/29877#issuecomment-299246688",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29877",
    "id": 299246688,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5OTI0NjY4OA==",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-05-04T17:00:26Z",
    "updated_at": "2017-05-04T17:00:26Z",
    "body": "@alexcrichton do recall if we've done anything here? I don't see 'relro' in the source.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/299246688/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/299251649",
    "html_url": "https://github.com/rust-lang/rust/issues/29877#issuecomment-299251649",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29877",
    "id": 299251649,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5OTI1MTY0OQ==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-05-04T17:19:25Z",
    "updated_at": "2017-05-04T17:19:25Z",
    "body": "No I don't believe we ever implemented this, but would be good to do so!",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/299251649/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/299251684",
    "html_url": "https://github.com/rust-lang/rust/issues/29877#issuecomment-299251684",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29877",
    "id": 299251684,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5OTI1MTY4NA==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-05-04T17:19:33Z",
    "updated_at": "2017-05-04T17:19:33Z",
    "body": "er didn't mean to close",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/299251684/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/299251901",
    "html_url": "https://github.com/rust-lang/rust/issues/29877#issuecomment-299251901",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29877",
    "id": 299251901,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5OTI1MTkwMQ==",
    "user": {
      "login": "cuviper",
      "id": 36186,
      "node_id": "MDQ6VXNlcjM2MTg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/36186?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cuviper",
      "html_url": "https://github.com/cuviper",
      "followers_url": "https://api.github.com/users/cuviper/followers",
      "following_url": "https://api.github.com/users/cuviper/following{/other_user}",
      "gists_url": "https://api.github.com/users/cuviper/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cuviper/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cuviper/subscriptions",
      "organizations_url": "https://api.github.com/users/cuviper/orgs",
      "repos_url": "https://api.github.com/users/cuviper/repos",
      "events_url": "https://api.github.com/users/cuviper/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cuviper/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-05-04T17:20:33Z",
    "updated_at": "2017-05-04T17:20:33Z",
    "body": "FWIW, I also apply `-Clink-arg=-Wl,-z,relro,-z,now` in Fedora.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/299251901/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1739909263",
    "html_url": "https://github.com/rust-lang/rust/issues/29877#issuecomment-1739909263",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29877",
    "id": 1739909263,
    "node_id": "IC_kwDOAAsO6M5ntOiP",
    "user": {
      "login": "OfekShilon",
      "id": 73080,
      "node_id": "MDQ6VXNlcjczMDgw",
      "avatar_url": "https://avatars.githubusercontent.com/u/73080?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/OfekShilon",
      "html_url": "https://github.com/OfekShilon",
      "followers_url": "https://api.github.com/users/OfekShilon/followers",
      "following_url": "https://api.github.com/users/OfekShilon/following{/other_user}",
      "gists_url": "https://api.github.com/users/OfekShilon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/OfekShilon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/OfekShilon/subscriptions",
      "organizations_url": "https://api.github.com/users/OfekShilon/orgs",
      "repos_url": "https://api.github.com/users/OfekShilon/repos",
      "events_url": "https://api.github.com/users/OfekShilon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/OfekShilon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2023-09-28T19:45:46Z",
    "updated_at": "2023-09-28T19:45:46Z",
    "body": "Why not build with `-no-plt` instead?  Seems a bit funny to erect the entire PLT apparatus to support lazy loading and then populate it at program startup. ",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1739909263/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1739965169",
    "html_url": "https://github.com/rust-lang/rust/issues/29877#issuecomment-1739965169",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29877",
    "id": 1739965169,
    "node_id": "IC_kwDOAAsO6M5ntcLx",
    "user": {
      "login": "bjorn3",
      "id": 17426603,
      "node_id": "MDQ6VXNlcjE3NDI2NjAz",
      "avatar_url": "https://avatars.githubusercontent.com/u/17426603?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bjorn3",
      "html_url": "https://github.com/bjorn3",
      "followers_url": "https://api.github.com/users/bjorn3/followers",
      "following_url": "https://api.github.com/users/bjorn3/following{/other_user}",
      "gists_url": "https://api.github.com/users/bjorn3/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bjorn3/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bjorn3/subscriptions",
      "organizations_url": "https://api.github.com/users/bjorn3/orgs",
      "repos_url": "https://api.github.com/users/bjorn3/repos",
      "events_url": "https://api.github.com/users/bjorn3/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bjorn3/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2023-09-28T20:32:32Z",
    "updated_at": "2023-09-28T20:32:32Z",
    "body": "Using a GOT instead will cause every function call to require a load of the address, even if the target is guaranteed to resolve in the same DSO. When emitting relocations for a PLT, the linker can replace PLT calls with direct relative calls in case of non-exported symbols AFAIK which is almost all calls in an average Rust program.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1739965169/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1740981779",
    "html_url": "https://github.com/rust-lang/rust/issues/29877#issuecomment-1740981779",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29877",
    "id": 1740981779,
    "node_id": "IC_kwDOAAsO6M5nxUYT",
    "user": {
      "login": "OfekShilon",
      "id": 73080,
      "node_id": "MDQ6VXNlcjczMDgw",
      "avatar_url": "https://avatars.githubusercontent.com/u/73080?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/OfekShilon",
      "html_url": "https://github.com/OfekShilon",
      "followers_url": "https://api.github.com/users/OfekShilon/followers",
      "following_url": "https://api.github.com/users/OfekShilon/following{/other_user}",
      "gists_url": "https://api.github.com/users/OfekShilon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/OfekShilon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/OfekShilon/subscriptions",
      "organizations_url": "https://api.github.com/users/OfekShilon/orgs",
      "repos_url": "https://api.github.com/users/OfekShilon/repos",
      "events_url": "https://api.github.com/users/OfekShilon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/OfekShilon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2023-09-29T14:26:32Z",
    "updated_at": "2023-09-29T14:26:32Z",
    "body": "@bjorn3  I think PLT relocations must resolve to GOT slots anyway.",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1740981779/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1740995955",
    "html_url": "https://github.com/rust-lang/rust/issues/29877#issuecomment-1740995955",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29877",
    "id": 1740995955,
    "node_id": "IC_kwDOAAsO6M5nxX1z",
    "user": {
      "login": "bjorn3",
      "id": 17426603,
      "node_id": "MDQ6VXNlcjE3NDI2NjAz",
      "avatar_url": "https://avatars.githubusercontent.com/u/17426603?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bjorn3",
      "html_url": "https://github.com/bjorn3",
      "followers_url": "https://api.github.com/users/bjorn3/followers",
      "following_url": "https://api.github.com/users/bjorn3/following{/other_user}",
      "gists_url": "https://api.github.com/users/bjorn3/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bjorn3/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bjorn3/subscriptions",
      "organizations_url": "https://api.github.com/users/bjorn3/orgs",
      "repos_url": "https://api.github.com/users/bjorn3/repos",
      "events_url": "https://api.github.com/users/bjorn3/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bjorn3/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2023-09-29T14:36:01Z",
    "updated_at": "2023-09-29T14:36:01Z",
    "body": "A PLT relocation for an external symbol is implemented as pc-relative call to a stub function which loads from the GOT. For an internal symbol this can trivially be relaxed to a pc-relative call to the actual function. The stub function is generated by the linker, not the compiler, so the linker has full control over it. For a GOT relocation however the load is part of the code emitted by the compiler and can't be replaced.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1740995955/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1741193107",
    "html_url": "https://github.com/rust-lang/rust/issues/29877#issuecomment-1741193107",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29877",
    "id": 1741193107,
    "node_id": "IC_kwDOAAsO6M5nyH-T",
    "user": {
      "login": "OfekShilon",
      "id": 73080,
      "node_id": "MDQ6VXNlcjczMDgw",
      "avatar_url": "https://avatars.githubusercontent.com/u/73080?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/OfekShilon",
      "html_url": "https://github.com/OfekShilon",
      "followers_url": "https://api.github.com/users/OfekShilon/followers",
      "following_url": "https://api.github.com/users/OfekShilon/following{/other_user}",
      "gists_url": "https://api.github.com/users/OfekShilon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/OfekShilon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/OfekShilon/subscriptions",
      "organizations_url": "https://api.github.com/users/OfekShilon/orgs",
      "repos_url": "https://api.github.com/users/OfekShilon/repos",
      "events_url": "https://api.github.com/users/OfekShilon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/OfekShilon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2023-09-29T16:41:04Z",
    "updated_at": "2023-09-29T16:41:04Z",
    "body": "@bjorn3  internal symbols with \"default\" visibility are still interposable, and the compiler/linker are forced* to place a GOT entry for them - to account for the case that another binary preempts them.\r\n\r\n*clang sometimes optimizes these calls anyway, but in doing so it knowingly breaks the ABI. ",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1741193107/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1741210064",
    "html_url": "https://github.com/rust-lang/rust/issues/29877#issuecomment-1741210064",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29877",
    "id": 1741210064,
    "node_id": "IC_kwDOAAsO6M5nyMHQ",
    "user": {
      "login": "bjorn3",
      "id": 17426603,
      "node_id": "MDQ6VXNlcjE3NDI2NjAz",
      "avatar_url": "https://avatars.githubusercontent.com/u/17426603?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bjorn3",
      "html_url": "https://github.com/bjorn3",
      "followers_url": "https://api.github.com/users/bjorn3/followers",
      "following_url": "https://api.github.com/users/bjorn3/following{/other_user}",
      "gists_url": "https://api.github.com/users/bjorn3/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bjorn3/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bjorn3/subscriptions",
      "organizations_url": "https://api.github.com/users/bjorn3/orgs",
      "repos_url": "https://api.github.com/users/bjorn3/repos",
      "events_url": "https://api.github.com/users/bjorn3/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bjorn3/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2023-09-29T16:55:35Z",
    "updated_at": "2023-09-29T16:55:35Z",
    "body": "Rust uses `-fno-semantic-interposition` just like clang defaults to. Even if we didn't there wouldn't be any way to interpose mangled rust symbols without depending on implementation details. Symbol names are not stable and depend on the exact rustc version as well as whatever cargo passes as `-Cmetadata` argument. Only `#[no_mangle]` symbols can safely be interposed, and those are never internal anyway. Also how can internal symbols be interposed in the first place? They don't end up in `.dynsym` and as such the dynamic linker should know nothing about them. Rustc is very careful to avoid leaking any rust symbol from cdylibs and bins.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1741210064/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1741512781",
    "html_url": "https://github.com/rust-lang/rust/issues/29877#issuecomment-1741512781",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29877",
    "id": 1741512781,
    "node_id": "IC_kwDOAAsO6M5nzWBN",
    "user": {
      "login": "OfekShilon",
      "id": 73080,
      "node_id": "MDQ6VXNlcjczMDgw",
      "avatar_url": "https://avatars.githubusercontent.com/u/73080?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/OfekShilon",
      "html_url": "https://github.com/OfekShilon",
      "followers_url": "https://api.github.com/users/OfekShilon/followers",
      "following_url": "https://api.github.com/users/OfekShilon/following{/other_user}",
      "gists_url": "https://api.github.com/users/OfekShilon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/OfekShilon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/OfekShilon/subscriptions",
      "organizations_url": "https://api.github.com/users/OfekShilon/orgs",
      "repos_url": "https://api.github.com/users/OfekShilon/repos",
      "events_url": "https://api.github.com/users/OfekShilon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/OfekShilon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2023-09-29T21:33:44Z",
    "updated_at": "2023-09-29T21:34:21Z",
    "body": "@bjorn3  This is an empirical matter. This toy test:\r\n\r\n```\r\n$ cat main.cpp\r\nvoid exefunc() {}\r\n\r\nint main() {\r\n    exefunc();\r\n    return 0;\r\n}\r\n$\r\n$ g++ -o exe_gcc main.cpp\r\n$ readelf --sections exe_clang | grep got$ readelf --sections exe_gcc | grep got\r\n  [13] .plt.got          PROGBITS         0000000000001030  00001030\r\n  [22] .got              PROGBITS         0000000000003fc0  00002fc0\r\n$ \r\n$ g++ -o exe_gcc main.cpp -fno-plt\r\n$ readelf --sections exe_gcc | grep got\r\n  [13] .plt.got          PROGBITS         0000000000001030  00001030\r\n  [22] .got              PROGBITS         0000000000003fc0  00002fc0\r\n$ \r\n$ clang++ -o exe_clang main.cpp\r\n$ readelf --sections exe_clang | grep got\r\n  [19] .got              PROGBITS         0000000000403ff0  00002ff0\r\n  [20] .got.plt          PROGBITS         0000000000404000  00003000\r\n$ \r\n$ clang++ -o exe_clang main.cpp -fno-plt\r\n$ readelf --sections exe_clang | grep got\r\n  [19] .got              PROGBITS         0000000000403ff0  00002ff0\r\n  [20] .got.plt          PROGBITS         0000000000404000  00003000\r\n```\r\nSeems to show that with or without PLT, in both gcc and clang, the GOT is used. Am I missing something? ",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1741512781/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1741517436",
    "html_url": "https://github.com/rust-lang/rust/issues/29877#issuecomment-1741517436",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29877",
    "id": 1741517436,
    "node_id": "IC_kwDOAAsO6M5nzXJ8",
    "user": {
      "login": "OfekShilon",
      "id": 73080,
      "node_id": "MDQ6VXNlcjczMDgw",
      "avatar_url": "https://avatars.githubusercontent.com/u/73080?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/OfekShilon",
      "html_url": "https://github.com/OfekShilon",
      "followers_url": "https://api.github.com/users/OfekShilon/followers",
      "following_url": "https://api.github.com/users/OfekShilon/following{/other_user}",
      "gists_url": "https://api.github.com/users/OfekShilon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/OfekShilon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/OfekShilon/subscriptions",
      "organizations_url": "https://api.github.com/users/OfekShilon/orgs",
      "repos_url": "https://api.github.com/users/OfekShilon/repos",
      "events_url": "https://api.github.com/users/OfekShilon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/OfekShilon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2023-09-29T21:39:46Z",
    "updated_at": "2023-09-29T21:39:46Z",
    "body": "> Rust uses `-fno-semantic-interposition` just like clang defaults to.\r\n \r\nActually this switch just avoids the interposition infrastructure for calls into the same translation unit.\r\n\r\n> Even if we didn't there wouldn't be any way to interpose mangled rust symbols without depending on implementation details. Symbol names are not stable and depend on the exact rustc version as well as whatever cargo passes as `-Cmetadata` argument. Only `#[no_mangle]` symbols can safely be interposed, and those are never internal anyway. \r\n\r\nIndeed, the GOT is redundant for rust - and largely for C++ too. Yet this is not the point in question: The point is that *PLT* is redundant. The PLT isn't there to facilitate interposition, it is there to facilitate lazy binding. And this merge shows that rust (rightfully) avoids lazy binding anyway, so why pay the extra overhead?\r\n\r\n> Also how can internal symbols be interposed in the first place? They don't end up in `.dynsym` and as such the dynamic linker should know nothing about them. \r\n\r\nYou're right, internal symbols have hidden visibility and cannot be interposed. Again, this is a side discussion and not the point of my comment.\r\n\r\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1741517436/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1741685192",
    "html_url": "https://github.com/rust-lang/rust/issues/29877#issuecomment-1741685192",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29877",
    "id": 1741685192,
    "node_id": "IC_kwDOAAsO6M5n0AHI",
    "user": {
      "login": "bjorn3",
      "id": 17426603,
      "node_id": "MDQ6VXNlcjE3NDI2NjAz",
      "avatar_url": "https://avatars.githubusercontent.com/u/17426603?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bjorn3",
      "html_url": "https://github.com/bjorn3",
      "followers_url": "https://api.github.com/users/bjorn3/followers",
      "following_url": "https://api.github.com/users/bjorn3/following{/other_user}",
      "gists_url": "https://api.github.com/users/bjorn3/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bjorn3/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bjorn3/subscriptions",
      "organizations_url": "https://api.github.com/users/bjorn3/orgs",
      "repos_url": "https://api.github.com/users/bjorn3/repos",
      "events_url": "https://api.github.com/users/bjorn3/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bjorn3/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2023-09-30T05:34:48Z",
    "updated_at": "2023-09-30T05:34:48Z",
    "body": "We don't yet know when compiling object files if non-local rust symbols will be looked up inside the same DSO or outside. Only once we start linking do we know this. This rules out using non-PLT PC-relative relocations for position independent executables. So PLT or GOT relocations are the only option. GOT relocations can't be relaxed to regular PC-relative calls, so PLT relocations it is.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1741685192/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3090104462",
    "html_url": "https://github.com/rust-lang/rust/issues/29877#issuecomment-3090104462",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29877",
    "id": 3090104462,
    "node_id": "IC_kwDOAAsO6M64L0CO",
    "user": {
      "login": "yugr",
      "id": 1101391,
      "node_id": "MDQ6VXNlcjExMDEzOTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1101391?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yugr",
      "html_url": "https://github.com/yugr",
      "followers_url": "https://api.github.com/users/yugr/followers",
      "following_url": "https://api.github.com/users/yugr/following{/other_user}",
      "gists_url": "https://api.github.com/users/yugr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yugr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yugr/subscriptions",
      "organizations_url": "https://api.github.com/users/yugr/orgs",
      "repos_url": "https://api.github.com/users/yugr/repos",
      "events_url": "https://api.github.com/users/yugr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yugr/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2025-07-18T17:02:32Z",
    "updated_at": "2025-07-18T17:05:02Z",
    "body": "> Using a GOT instead will cause every function call to require a load of the address, even if the target is guaranteed to resolve in the same DSO. When emitting relocations for a PLT, the linker can replace PLT calls with direct relative calls in case of non-exported symbols AFAIK which is almost all calls in an average Rust program.\n\nAre you sure? In this example\n```\n$ cat file1.c\nvoid foo() {}\n$ cat file2.c\nextern void foo();\n\n__attribute__((visibility(\"default\")))\nvoid bar() { foo(); }\n```\ntoolchain is able to generate direct call for both cases:\n```\n$ gcc -O2 -fPIC -shared -fvisibility=hidden file1.c file2.c\n$ objdump -d a.out\n...\n0000000000001110 <bar>:\n    1110:       31 c0                   xor    %eax,%eax\n    1112:       e9 e9 ff ff ff          jmpq   1100 <foo>\n\n\n$ gcc -O2 -fPIC -shared -fvisibility=hidden -fno-plt file1.c file2.c\n$ objdump -d a.out\n...\n0000000000001110 <bar>:\n    1110:       31 c0                   xor    %eax,%eax\n    1112:       e9 e9 ff ff ff          jmpq   1100 <foo>\n    1117:       90                      nop\n```\nThe `-fno-plt` case is handled through linker relaxation (works only for X86, with `ld`, `gold` and `lld`). More details are available in [MaskRay's blog](https://maskray.me/blog/2021-09-19-all-about-procedure-linkage-table).\n\nRelaxed case has small size overhead (1 byte for each call) but given that `-fno-plt` can result in significant savings (I [got](https://github.com/yugr/CppRussia/blob/master/2024/EN.pdf) 10% for Clang with `-DBUILD_SHARED_LIBS=ON` few years ago, YMMV) this may be acceptable.",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3090104462/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3092231578",
    "html_url": "https://github.com/rust-lang/rust/issues/29877#issuecomment-3092231578",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29877",
    "id": 3092231578,
    "node_id": "IC_kwDOAAsO6M64T7Wa",
    "user": {
      "login": "yugr",
      "id": 1101391,
      "node_id": "MDQ6VXNlcjExMDEzOTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1101391?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yugr",
      "html_url": "https://github.com/yugr",
      "followers_url": "https://api.github.com/users/yugr/followers",
      "following_url": "https://api.github.com/users/yugr/following{/other_user}",
      "gists_url": "https://api.github.com/users/yugr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yugr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yugr/subscriptions",
      "organizations_url": "https://api.github.com/users/yugr/orgs",
      "repos_url": "https://api.github.com/users/yugr/repos",
      "events_url": "https://api.github.com/users/yugr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yugr/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2025-07-19T10:04:13Z",
    "updated_at": "2025-07-19T10:04:13Z",
    "body": "> Why not build with `-no-plt` instead? Seems a bit funny to erect the entire PLT apparatus to support lazy loading and then populate it at program startup.\n\nTurns out `-fno-plt` is [enabled by default](https://github.com/rust-lang/rust/blob/aa364cac52f6f4b79dfd3eeb7189bbd259184d57/compiler/rustc_session/src/session.rs#L551) in Rust on Linux and Android now.",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3092231578/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3117929907",
    "html_url": "https://github.com/rust-lang/rust/issues/29877#issuecomment-3117929907",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29877",
    "id": 3117929907,
    "node_id": "IC_kwDOAAsO6M6519Wz",
    "user": {
      "login": "bjorn3",
      "id": 17426603,
      "node_id": "MDQ6VXNlcjE3NDI2NjAz",
      "avatar_url": "https://avatars.githubusercontent.com/u/17426603?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bjorn3",
      "html_url": "https://github.com/bjorn3",
      "followers_url": "https://api.github.com/users/bjorn3/followers",
      "following_url": "https://api.github.com/users/bjorn3/following{/other_user}",
      "gists_url": "https://api.github.com/users/bjorn3/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bjorn3/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bjorn3/subscriptions",
      "organizations_url": "https://api.github.com/users/bjorn3/orgs",
      "repos_url": "https://api.github.com/users/bjorn3/repos",
      "events_url": "https://api.github.com/users/bjorn3/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bjorn3/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2025-07-25T14:00:34Z",
    "updated_at": "2025-07-25T14:00:34Z",
    "body": "> The -fno-plt case is handled through linker relaxation (works only for X86, with ld, gold and lld). More details are available in [MaskRay's blog](https://maskray.me/blog/2021-09-19-all-about-procedure-linkage-table).\n\nI can't find any details about the linker relaxation on that page.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3117929907/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3119033286",
    "html_url": "https://github.com/rust-lang/rust/issues/29877#issuecomment-3119033286",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29877",
    "id": 3119033286,
    "node_id": "IC_kwDOAAsO6M656KvG",
    "user": {
      "login": "yugr",
      "id": 1101391,
      "node_id": "MDQ6VXNlcjExMDEzOTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1101391?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yugr",
      "html_url": "https://github.com/yugr",
      "followers_url": "https://api.github.com/users/yugr/followers",
      "following_url": "https://api.github.com/users/yugr/following{/other_user}",
      "gists_url": "https://api.github.com/users/yugr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yugr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yugr/subscriptions",
      "organizations_url": "https://api.github.com/users/yugr/orgs",
      "repos_url": "https://api.github.com/users/yugr/repos",
      "events_url": "https://api.github.com/users/yugr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yugr/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2025-07-25T16:07:12Z",
    "updated_at": "2025-07-25T16:07:22Z",
    "body": "> > The -fno-plt case is handled through linker relaxation (works only for X86, with ld, gold and lld). More details are available in [MaskRay's blog](https://maskray.me/blog/2021-09-19-all-about-procedure-linkage-table).\n> \n> I can't find any details about the linker relaxation on that page.\n\n```\nHowever, if the target is non-preemptible, i.e. the target is resolved to the same component, this is actually a pessimization.\nThe linker (GNU ld, gold, and ld.lld) can mitigate the loss by rewriting the 6 bytes to addr32 call foo.\nThe downside is the one-byte-longer code sequence.\n```",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3119033286/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3119997957",
    "html_url": "https://github.com/rust-lang/rust/issues/29877#issuecomment-3119997957",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29877",
    "id": 3119997957,
    "node_id": "IC_kwDOAAsO6M6592QF",
    "user": {
      "login": "bjorn3",
      "id": 17426603,
      "node_id": "MDQ6VXNlcjE3NDI2NjAz",
      "avatar_url": "https://avatars.githubusercontent.com/u/17426603?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bjorn3",
      "html_url": "https://github.com/bjorn3",
      "followers_url": "https://api.github.com/users/bjorn3/followers",
      "following_url": "https://api.github.com/users/bjorn3/following{/other_user}",
      "gists_url": "https://api.github.com/users/bjorn3/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bjorn3/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bjorn3/subscriptions",
      "organizations_url": "https://api.github.com/users/bjorn3/orgs",
      "repos_url": "https://api.github.com/users/bjorn3/repos",
      "events_url": "https://api.github.com/users/bjorn3/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bjorn3/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2025-07-25T18:58:16Z",
    "updated_at": "2025-07-25T18:58:16Z",
    "body": "Just disabling the PLT wouldn't enable that relaxation, right? There would need to be some relocation applied to tell thet linker that the relaxation is allowed (the linker isn't allowed to do arbitrary rewrites. that can easily break code). I can't find any details about which relocation or under what exact conditions LLVM will emit them.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3119997957/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3120300228",
    "html_url": "https://github.com/rust-lang/rust/issues/29877#issuecomment-3120300228",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29877",
    "id": 3120300228,
    "node_id": "IC_kwDOAAsO6M65_ADE",
    "user": {
      "login": "yugr",
      "id": 1101391,
      "node_id": "MDQ6VXNlcjExMDEzOTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1101391?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yugr",
      "html_url": "https://github.com/yugr",
      "followers_url": "https://api.github.com/users/yugr/followers",
      "following_url": "https://api.github.com/users/yugr/following{/other_user}",
      "gists_url": "https://api.github.com/users/yugr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yugr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yugr/subscriptions",
      "organizations_url": "https://api.github.com/users/yugr/orgs",
      "repos_url": "https://api.github.com/users/yugr/repos",
      "events_url": "https://api.github.com/users/yugr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yugr/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2025-07-25T20:47:09Z",
    "updated_at": "2025-07-25T20:47:29Z",
    "body": "Yes, relaxations are done by linker based on relocations provided by compiler.\n\nIn this particular case under `-fno-plt` compiler will emit a `R_X86_64_GOTPCRELX` relocation which linker will then use to relax\n```\ncall *foo@GOTPCREL(%rip)\n```\nto\n```\nnop\ncall foo\n```\nI think [this](https://github.com/bminor/binutils-gdb/blob/129cdfc16433bd755c81357bb2f665ca93edb0b4/bfd/elf64-x86-64.c#L2086) is the relevant code in GNU ld.\n\nPlease note that our discussion is probly irrelevant by now because `plt_by_default=false` for most amd64 linux platforms.",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3120300228/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
