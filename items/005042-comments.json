[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/15941120",
    "html_url": "https://github.com/rust-lang/rust/issues/5042#issuecomment-15941120",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5042",
    "id": 15941120,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1OTQxMTIw",
    "user": {
      "login": "Aatch",
      "id": 342416,
      "node_id": "MDQ6VXNlcjM0MjQxNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/342416?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Aatch",
      "html_url": "https://github.com/Aatch",
      "followers_url": "https://api.github.com/users/Aatch/followers",
      "following_url": "https://api.github.com/users/Aatch/following{/other_user}",
      "gists_url": "https://api.github.com/users/Aatch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Aatch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Aatch/subscriptions",
      "organizations_url": "https://api.github.com/users/Aatch/orgs",
      "repos_url": "https://api.github.com/users/Aatch/repos",
      "events_url": "https://api.github.com/users/Aatch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Aatch/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-04-05T06:40:23Z",
    "updated_at": "2013-04-05T06:40:23Z",
    "body": "I'm currently looking at implementing this.\n\nHow close to the C++ atomics is ok? Given the similarities between Rust and C++, it is possible to almost exactly replicate `<atomic>`. You can't do stuff like overload assignment (or assignment-op), but otherwise I think it is possible.\n\nThe advantage of mimicking the C++ api is that it simultaneously exposes all the memory ordering options and means that the semantics of the orderings are the same between the two languages, which helps people coming to Rust from C/C++.\n\nFinally, since atomic variables are only really useful when they are shared, mutable objects, they should be able to be passed between tasks as shared data, much like ARC. However ARC has more overhead than the actual data stored in an atomic variable. I'm not sure what, if any, changes might need to be made to get something like `Atomic<int>` and friends working without making the api confusing and/or inefficient.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/15941120/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/15995076",
    "html_url": "https://github.com/rust-lang/rust/issues/5042#issuecomment-15995076",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5042",
    "id": 15995076,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1OTk1MDc2",
    "user": {
      "login": "Aatch",
      "id": 342416,
      "node_id": "MDQ6VXNlcjM0MjQxNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/342416?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Aatch",
      "html_url": "https://github.com/Aatch",
      "followers_url": "https://api.github.com/users/Aatch/followers",
      "following_url": "https://api.github.com/users/Aatch/following{/other_user}",
      "gists_url": "https://api.github.com/users/Aatch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Aatch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Aatch/subscriptions",
      "organizations_url": "https://api.github.com/users/Aatch/orgs",
      "repos_url": "https://api.github.com/users/Aatch/repos",
      "events_url": "https://api.github.com/users/Aatch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Aatch/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-04-06T12:05:28Z",
    "updated_at": "2013-04-06T12:19:02Z",
    "body": "Ok, so I did more investigation. While it seems to be mostly possible, it's a bit fragile, unless you make sure, some how, that all of the tasks that can see the atomic variable(s) are finished before freeing it, you get some very odd behaviour and fairly frequent segfaults.\n\nI don't know enough about Rust's internals regarding memory management to suggest a possible solution, so I would welcome some guidance.\n\nLooks like this should probably wait until more happens with #553, although I think that this is actually part of #553 anyway.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/15995076/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/16003009",
    "html_url": "https://github.com/rust-lang/rust/issues/5042#issuecomment-16003009",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5042",
    "id": 16003009,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2MDAzMDA5",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-04-06T20:01:42Z",
    "updated_at": "2013-04-06T20:01:42Z",
    "body": "Mimicking C++ is appropriate I think. They've had a lot of experience with this and we are building on their memory model.\n\nI think we can start with an atomic type, like `Atomic<int>` or `AtomicInt` and implement the atomic operations on it without enforcing any specific way of sharing that value. It could be shared safely or unsafely depending on context.\n\nAs an example, in the scheduler we will probably have a shared data structure like:\n\n```\nstruct KernelData {\n    task_count: Atomic<int>,\n    schedulers: [AtomicRef<SchedulerHandle>>, .. MAX_SCHEDS],\n    etc.\n}\n```\n\nThe entire `KernelData` structure is shared in an `AtomicRef<KernelData>` type, but all the interior values have their own synchronization scheme.\n\n(`AtomicRef` here is a synonym for the type currently named `SharedMutableState`)\n\nI don't think this depends on globals since there are other ways to share memory.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/16003009/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/16007371",
    "html_url": "https://github.com/rust-lang/rust/issues/5042#issuecomment-16007371",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5042",
    "id": 16007371,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2MDA3Mzcx",
    "user": {
      "login": "Aatch",
      "id": 342416,
      "node_id": "MDQ6VXNlcjM0MjQxNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/342416?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Aatch",
      "html_url": "https://github.com/Aatch",
      "followers_url": "https://api.github.com/users/Aatch/followers",
      "following_url": "https://api.github.com/users/Aatch/following{/other_user}",
      "gists_url": "https://api.github.com/users/Aatch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Aatch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Aatch/subscriptions",
      "organizations_url": "https://api.github.com/users/Aatch/orgs",
      "repos_url": "https://api.github.com/users/Aatch/repos",
      "events_url": "https://api.github.com/users/Aatch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Aatch/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-04-07T01:13:09Z",
    "updated_at": "2013-04-07T02:32:00Z",
    "body": "@brson It doesn't depend exactly on globals, but while working on a proof-of-concept, I found some fairly obvious issues.\n\nThis is some code that uses a theoretical atomic type, it's based on some actual code I have, but the implementation isn't important.\n\n``` rust\nfn main() -> () {\n    let atom1 = atomic_init(&0);\n\n    for [0, ..5].each |_| {\n        do task::spawn || {\n            for [0, ..5].each |_| {\n                atom1.add(2);\n                io::println(fmt!(\"[%d] Var is %d\", *(task::get_task()), atom1.load());\n            }\n        }\n    }\n}\n```\n\nThe issue here is with the fact that `atom1` is copied into each task, but is really a reference to the underlying data (since I am assuming that the point of having atomic variables is that they are thread safe?). Now, my toy implementation, with this code, seems to work fine. Each task sees gradually increasing values and no task go backwards.\n\nHowever, if I turn optimizations on (`rustc -O`), then the output I get is quite different. the first lines seem but then the value shoot ups to some random, high value. If I add this line: `while atom1.load() < 50 {task::yield()}` to the end of `main` then the issue goes away.\n\nThe memory for `atom1` is allocated on the stack, and the stack is freed before the tasks all finish, this is because the scheduler waits for the tasks _after_ main has finished. While I don't know what the optimizations are, running the program through valgrind confirms it.\n\nWhile in and of itself, this isn't a problem, it does highlight the fact that we have no way of knowing the lifetime of atomic variables and therefore no assurance that it won't be pulled out from underneath the task. Obviously I have demonstrated a way around this, but it doesn't detract from the fact that there is no way (to my knowledge) to store data in a way that allows you be sure that the end of some function won't free the underlying data, without using locks and mutexes anyway (thus defeating the entire point).\n\nIn C++, between global variables and manual memory management it is fairly trivial to be certain that a value is still alive when you access it, as long as you don't do things that would cause invalid memory accesses anyway, you're pretty safe. Unfortunately, no matter where the data for an atomic variable is store, rust will almost certainly free it, thinking that you are done with it.\n\nWhile I understand that this may not be an issue in practical programs, I think there needs to be at least something to account for this, as it is very easy to hit this issue.\n\nOtherwise, I happy to implement something that looks similar to the above, preferably without needing to pass a pointer to the type at all.\n\nEdit: As a final note, this is my first real dive into the language like this, so I may be missing something obvious. If so, please let me know.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/16007371/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/16210341",
    "html_url": "https://github.com/rust-lang/rust/issues/5042#issuecomment-16210341",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5042",
    "id": 16210341,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2MjEwMzQx",
    "user": {
      "login": "asb",
      "id": 1900,
      "node_id": "MDQ6VXNlcjE5MDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1900?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/asb",
      "html_url": "https://github.com/asb",
      "followers_url": "https://api.github.com/users/asb/followers",
      "following_url": "https://api.github.com/users/asb/following{/other_user}",
      "gists_url": "https://api.github.com/users/asb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/asb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/asb/subscriptions",
      "organizations_url": "https://api.github.com/users/asb/orgs",
      "repos_url": "https://api.github.com/users/asb/repos",
      "events_url": "https://api.github.com/users/asb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/asb/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-04-11T00:14:31Z",
    "updated_at": "2013-04-11T00:14:31Z",
    "body": "It might also be worth looking at the proposed libuv portable atomics API: https://github.com/joyent/libuv/issues/726\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/16210341/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/16283256",
    "html_url": "https://github.com/rust-lang/rust/issues/5042#issuecomment-16283256",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5042",
    "id": 16283256,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2MjgzMjU2",
    "user": {
      "login": "Aatch",
      "id": 342416,
      "node_id": "MDQ6VXNlcjM0MjQxNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/342416?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Aatch",
      "html_url": "https://github.com/Aatch",
      "followers_url": "https://api.github.com/users/Aatch/followers",
      "following_url": "https://api.github.com/users/Aatch/following{/other_user}",
      "gists_url": "https://api.github.com/users/Aatch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Aatch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Aatch/subscriptions",
      "organizations_url": "https://api.github.com/users/Aatch/orgs",
      "repos_url": "https://api.github.com/users/Aatch/repos",
      "events_url": "https://api.github.com/users/Aatch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Aatch/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-04-12T09:14:06Z",
    "updated_at": "2013-04-12T09:14:06Z",
    "body": "@asb, not really that useful. The atomicity is at the processor level (and a little at the compiler level) so it's not like we need any code to be thread/task aware.\n\nLLVM has atomic versions of store/load, CAS and RMW, which is more than enough, and being LLVM it means that it's mostly platform independent. running through libuv functions would just add an unnecessary level of complexity when it's easier just to have the LLVM instructions generated directly.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/16283256/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/16283571",
    "html_url": "https://github.com/rust-lang/rust/issues/5042#issuecomment-16283571",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5042",
    "id": 16283571,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2MjgzNTcx",
    "user": {
      "login": "asb",
      "id": 1900,
      "node_id": "MDQ6VXNlcjE5MDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1900?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/asb",
      "html_url": "https://github.com/asb",
      "followers_url": "https://api.github.com/users/asb/followers",
      "following_url": "https://api.github.com/users/asb/following{/other_user}",
      "gists_url": "https://api.github.com/users/asb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/asb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/asb/subscriptions",
      "organizations_url": "https://api.github.com/users/asb/orgs",
      "repos_url": "https://api.github.com/users/asb/repos",
      "events_url": "https://api.github.com/users/asb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/asb/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-04-12T09:22:38Z",
    "updated_at": "2013-04-12T09:22:38Z",
    "body": "@Aatch I linked it more for the ability to specify the desired memory model but now I see that's just copied from the C++11 API. Of course, it's arguable whether exposing this is even useful and whether rust would be better off to just stand on the (at least in comparison to the others) easy to reason about sequential consistency model.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/16283571/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/16285242",
    "html_url": "https://github.com/rust-lang/rust/issues/5042#issuecomment-16285242",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5042",
    "id": 16285242,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2Mjg1MjQy",
    "user": {
      "login": "Aatch",
      "id": 342416,
      "node_id": "MDQ6VXNlcjM0MjQxNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/342416?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Aatch",
      "html_url": "https://github.com/Aatch",
      "followers_url": "https://api.github.com/users/Aatch/followers",
      "following_url": "https://api.github.com/users/Aatch/following{/other_user}",
      "gists_url": "https://api.github.com/users/Aatch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Aatch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Aatch/subscriptions",
      "organizations_url": "https://api.github.com/users/Aatch/orgs",
      "repos_url": "https://api.github.com/users/Aatch/repos",
      "events_url": "https://api.github.com/users/Aatch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Aatch/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-04-12T10:05:24Z",
    "updated_at": "2013-04-12T10:05:24Z",
    "body": "So I just looked at the implementation that clang uses for atomics, trying to get some idea of how to implement it and they actually handle atomics as a special object/expression. I'm not sure if that's required for us, but it does pose the interesting question of whether or not we want to make atomic types special in some way.\n\n#### Advantages\n- Automatically use atomic instructions when using atomic values.\n- Enables support implicit casting between atomic and non-atomic values (ie atomic load/store) and similar.\n- Support in the type system, lower restrictions on sharing atomic types.\n- Generation of atomic code for arbitrary types. Though there are likely limitations on that.\n\n#### Disadvantages\n- Creates a special type in the compiler that isn't just a primitive.\n- Requires special casing in a lot of the compiler without significant refactoring.\n- Makes the compiler bigger\n\nI would appreciate feedback on this, since I am having trouble coming up with a design that doesn't require either creating ~30 intrinsics or changing a significant about of the compiler.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/16285242/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/16313463",
    "html_url": "https://github.com/rust-lang/rust/issues/5042#issuecomment-16313463",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5042",
    "id": 16313463,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2MzEzNDYz",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-04-12T19:42:06Z",
    "updated_at": "2013-04-12T19:42:06Z",
    "body": "@AAtch your atomic_init takes a reference to the value it atomically manages and then appears to be copyable. I would suggest making the atomic type _cointain_ its value and be noncopyable. On it's own that is safe and it leaves the policy decision about how to share the atomic type up to someone else.\n\nI haven't read your latest post yet. Will get back to you later.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/16313463/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/17679237",
    "html_url": "https://github.com/rust-lang/rust/issues/5042#issuecomment-17679237",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5042",
    "id": 17679237,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3Njc5MjM3",
    "user": {
      "login": "Thiez",
      "id": 204550,
      "node_id": "MDQ6VXNlcjIwNDU1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/204550?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Thiez",
      "html_url": "https://github.com/Thiez",
      "followers_url": "https://api.github.com/users/Thiez/followers",
      "following_url": "https://api.github.com/users/Thiez/following{/other_user}",
      "gists_url": "https://api.github.com/users/Thiez/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Thiez/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Thiez/subscriptions",
      "organizations_url": "https://api.github.com/users/Thiez/orgs",
      "repos_url": "https://api.github.com/users/Thiez/repos",
      "events_url": "https://api.github.com/users/Thiez/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Thiez/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-05-09T18:00:16Z",
    "updated_at": "2013-05-09T18:00:16Z",
    "body": "@Aatch I'm also interested in this issue, are you still working on this?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/17679237/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/20096870",
    "html_url": "https://github.com/rust-lang/rust/issues/5042#issuecomment-20096870",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5042",
    "id": 20096870,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwMDk2ODcw",
    "user": {
      "login": "Aatch",
      "id": 342416,
      "node_id": "MDQ6VXNlcjM0MjQxNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/342416?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Aatch",
      "html_url": "https://github.com/Aatch",
      "followers_url": "https://api.github.com/users/Aatch/followers",
      "following_url": "https://api.github.com/users/Aatch/following{/other_user}",
      "gists_url": "https://api.github.com/users/Aatch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Aatch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Aatch/subscriptions",
      "organizations_url": "https://api.github.com/users/Aatch/orgs",
      "repos_url": "https://api.github.com/users/Aatch/repos",
      "events_url": "https://api.github.com/users/Aatch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Aatch/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-06-27T04:36:21Z",
    "updated_at": "2013-06-27T04:36:21Z",
    "body": "This is essentially done. I'll open issues for the remaining work.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/20096870/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49242379",
    "html_url": "https://github.com/rust-lang/rust/issues/5042#issuecomment-49242379",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5042",
    "id": 49242379,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MjQyMzc5",
    "user": {
      "login": "nox",
      "id": 123095,
      "node_id": "MDQ6VXNlcjEyMzA5NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/123095?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nox",
      "html_url": "https://github.com/nox",
      "followers_url": "https://api.github.com/users/nox/followers",
      "following_url": "https://api.github.com/users/nox/following{/other_user}",
      "gists_url": "https://api.github.com/users/nox/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nox/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nox/subscriptions",
      "organizations_url": "https://api.github.com/users/nox/orgs",
      "repos_url": "https://api.github.com/users/nox/repos",
      "events_url": "https://api.github.com/users/nox/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nox/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-16T23:42:08Z",
    "updated_at": "2014-07-16T23:42:08Z",
    "body": "What about an AtomicCLike?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49242379/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49292827",
    "html_url": "https://github.com/rust-lang/rust/issues/5042#issuecomment-49292827",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5042",
    "id": 49292827,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MjkyODI3",
    "user": {
      "login": "Thiez",
      "id": 204550,
      "node_id": "MDQ6VXNlcjIwNDU1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/204550?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Thiez",
      "html_url": "https://github.com/Thiez",
      "followers_url": "https://api.github.com/users/Thiez/followers",
      "following_url": "https://api.github.com/users/Thiez/following{/other_user}",
      "gists_url": "https://api.github.com/users/Thiez/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Thiez/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Thiez/subscriptions",
      "organizations_url": "https://api.github.com/users/Thiez/orgs",
      "repos_url": "https://api.github.com/users/Thiez/repos",
      "events_url": "https://api.github.com/users/Thiez/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Thiez/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-17T11:05:15Z",
    "updated_at": "2014-07-17T11:05:15Z",
    "body": "What about it?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49292827/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49292883",
    "html_url": "https://github.com/rust-lang/rust/issues/5042#issuecomment-49292883",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5042",
    "id": 49292883,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MjkyODgz",
    "user": {
      "login": "nox",
      "id": 123095,
      "node_id": "MDQ6VXNlcjEyMzA5NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/123095?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nox",
      "html_url": "https://github.com/nox",
      "followers_url": "https://api.github.com/users/nox/followers",
      "following_url": "https://api.github.com/users/nox/following{/other_user}",
      "gists_url": "https://api.github.com/users/nox/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nox/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nox/subscriptions",
      "organizations_url": "https://api.github.com/users/nox/orgs",
      "repos_url": "https://api.github.com/users/nox/repos",
      "events_url": "https://api.github.com/users/nox/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nox/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-17T11:06:00Z",
    "updated_at": "2014-07-17T11:06:00Z",
    "body": "Well it would be useful for simple C-like enum types, right?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49292883/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49294366",
    "html_url": "https://github.com/rust-lang/rust/issues/5042#issuecomment-49294366",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5042",
    "id": 49294366,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5Mjk0MzY2",
    "user": {
      "login": "Thiez",
      "id": 204550,
      "node_id": "MDQ6VXNlcjIwNDU1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/204550?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Thiez",
      "html_url": "https://github.com/Thiez",
      "followers_url": "https://api.github.com/users/Thiez/followers",
      "following_url": "https://api.github.com/users/Thiez/following{/other_user}",
      "gists_url": "https://api.github.com/users/Thiez/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Thiez/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Thiez/subscriptions",
      "organizations_url": "https://api.github.com/users/Thiez/orgs",
      "repos_url": "https://api.github.com/users/Thiez/repos",
      "events_url": "https://api.github.com/users/Thiez/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Thiez/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-17T11:22:42Z",
    "updated_at": "2014-07-17T11:22:42Z",
    "body": "Perhaps. Once #15620 is solved that would probably be easy.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49294366/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
