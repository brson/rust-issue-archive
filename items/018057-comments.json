[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/59639653",
    "html_url": "https://github.com/rust-lang/rust/issues/18057#issuecomment-59639653",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18057",
    "id": 59639653,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5NjM5NjUz",
    "user": {
      "login": "bkoropoff",
      "id": 2101303,
      "node_id": "MDQ6VXNlcjIxMDEzMDM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2101303?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bkoropoff",
      "html_url": "https://github.com/bkoropoff",
      "followers_url": "https://api.github.com/users/bkoropoff/followers",
      "following_url": "https://api.github.com/users/bkoropoff/following{/other_user}",
      "gists_url": "https://api.github.com/users/bkoropoff/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bkoropoff/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bkoropoff/subscriptions",
      "organizations_url": "https://api.github.com/users/bkoropoff/orgs",
      "repos_url": "https://api.github.com/users/bkoropoff/repos",
      "events_url": "https://api.github.com/users/bkoropoff/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bkoropoff/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-10-19T05:15:19Z",
    "updated_at": "2014-10-19T05:15:19Z",
    "body": "The code is garbled, but the backtrace and error look related to #16791\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/59639653/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/60856513",
    "html_url": "https://github.com/rust-lang/rust/issues/18057#issuecomment-60856513",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18057",
    "id": 60856513,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwODU2NTEz",
    "user": {
      "login": "bkoropoff",
      "id": 2101303,
      "node_id": "MDQ6VXNlcjIxMDEzMDM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2101303?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bkoropoff",
      "html_url": "https://github.com/bkoropoff",
      "followers_url": "https://api.github.com/users/bkoropoff/followers",
      "following_url": "https://api.github.com/users/bkoropoff/following{/other_user}",
      "gists_url": "https://api.github.com/users/bkoropoff/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bkoropoff/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bkoropoff/subscriptions",
      "organizations_url": "https://api.github.com/users/bkoropoff/orgs",
      "repos_url": "https://api.github.com/users/bkoropoff/repos",
      "events_url": "https://api.github.com/users/bkoropoff/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bkoropoff/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-10-29T00:38:10Z",
    "updated_at": "2014-10-29T00:38:10Z",
    "body": "@potan, can you re-test on the latest master now that the fix for #16791 went in?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/60856513/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/60890810",
    "html_url": "https://github.com/rust-lang/rust/issues/18057#issuecomment-60890810",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18057",
    "id": 60890810,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwODkwODEw",
    "user": {
      "login": "potan",
      "id": 402241,
      "node_id": "MDQ6VXNlcjQwMjI0MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/402241?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/potan",
      "html_url": "https://github.com/potan",
      "followers_url": "https://api.github.com/users/potan/followers",
      "following_url": "https://api.github.com/users/potan/following{/other_user}",
      "gists_url": "https://api.github.com/users/potan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/potan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/potan/subscriptions",
      "organizations_url": "https://api.github.com/users/potan/orgs",
      "repos_url": "https://api.github.com/users/potan/repos",
      "events_url": "https://api.github.com/users/potan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/potan/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-10-29T08:55:38Z",
    "updated_at": "2014-10-29T08:55:38Z",
    "body": "Internal compiler error has fixed.\nNow rustc outputs \"error: cannot infer an appropriate lifetime due to conflicting requirements\", but earlier this code worked :-).\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/60890810/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/61432855",
    "html_url": "https://github.com/rust-lang/rust/issues/18057#issuecomment-61432855",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18057",
    "id": 61432855,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNDMyODU1",
    "user": {
      "login": "bkoropoff",
      "id": 2101303,
      "node_id": "MDQ6VXNlcjIxMDEzMDM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2101303?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bkoropoff",
      "html_url": "https://github.com/bkoropoff",
      "followers_url": "https://api.github.com/users/bkoropoff/followers",
      "following_url": "https://api.github.com/users/bkoropoff/following{/other_user}",
      "gists_url": "https://api.github.com/users/bkoropoff/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bkoropoff/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bkoropoff/subscriptions",
      "organizations_url": "https://api.github.com/users/bkoropoff/orgs",
      "repos_url": "https://api.github.com/users/bkoropoff/repos",
      "events_url": "https://api.github.com/users/bkoropoff/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bkoropoff/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-03T01:21:56Z",
    "updated_at": "2014-11-03T01:21:56Z",
    "body": "One problem is that unboxed closures now default to by-ref capture where previously it was by move.  After sprinkling the `move` keyword around, there were a few legitimate lifetime errors and missing bounds.  After fixing them up it builds and runs.  This bug can be closed.\n\n``` rust\n#![feature(unboxed_closures, overloaded_calls, unboxed_closure_sugar)]\n\npub trait Seq<T> {\n    fn pop(self) -> Result<(T, Self, Self), Self>;\n}\n\nimpl<'a> Seq<char> for &'a str {\n    fn pop(self) -> Result<(char, &'a str, &'a str), &'a str> {\n        if self.is_empty() {\n            Err(self)\n        } else {\n            Ok((self.char_at(0), self, self.slice_from(1)))\n        }\n    }\n}\n\ntype ParseResult<S,T> = Result<(T, S, S),S>;\ntype Parser<S,T> = Box<|&: S| -> ParseResult<S,T>>;\n\nfn elem<T, S:Seq<T>, Res>(e:Box<|&: T| -> Option<Res>>) -> Parser<S, Res> {\n  box move |&: s:S| {\n    match s.pop() {\n      Err(b) => Err(b),\n      Ok((c, b, n)) => match e.call((c,)) {\n        Some(r) => Ok((r, b, n)),\n        None => Err(b)\n      }\n    }\n  }\n}\n\nfn concat<C,S:Seq<C>,T1,T2>(p1: Parser<S, T1>, p2: Parser<S, T2>) -> Parser<S,(T1,T2)> {\n  box move |&: s:S| {\n    match p1.call((s,)) {\n       Err(b) => Err(b),\n       Ok((r1, b, n1)) => {\n         match p2.call((n1,)) {\n            Err(_) => Err(b),\n            Ok((r2, _, n2)) => Ok(((r1,r2), b, n2))\n         }\n       }\n    }\n  }\n}\n\nfn alter<C,S:Seq<C>,T>(p1: Parser<S, T>, p2: Parser<S, T>) -> Parser<S, T> {\n  box move |&: s:S| {\n    match p1.call((s,)) {\n       Err(b) => p2.call((b,)),\n       r => r\n    }\n  }\n}\n\nfn digit(r:&int) -> Box<|&: char| -> Option<int>> {\n  let r = *r;\n  box move |&: c:char| {\n   let i = match c {\n     '0'...'9' => { c as int - '0' as int },\n     'a'...'z' => { 10 + c as int - 'a' as int },\n     'A'...'Z' => { 10 + c as int - 'A' as int },\n     _ => r\n   };\n   if i < r {\n    Some(i)\n   } else {\n    None\n   }\n  }\n}\n\nfn do_fold<S,T,R>(p:&Parser<S,T>, l:&Box<|&: T,R| -> R>, b:S, i:R, s:S) -> ParseResult<S,R> {\n  match p.call((s,)) {\n    Err(n) => Ok((i,b,n)),\n    Ok((r,_,n)) => {\n      let v = l.call((r,i));\n      do_fold(p,l,b,v,n)\n    }\n  }\n}\n\nfn fold1<S,T,R:Clone+'static>(p:Parser<S,T>, l: Box<|&: T,R| -> R>, i:R) -> Parser<S,R> {\n  box move |&: s:S| {\n    match p.call((s,)) {\n      Err(e) => Err(e),\n      Ok((r,b,n)) => {\n        let v = l.call((r,i.clone()));\n        do_fold(&p,&l,b,v,n)\n      }\n    }\n  }\n}\n\nfn main() {\n    static RADIX:int = 13;\n    let p1 = fold1(elem(digit(&RADIX)), box |&: c:int, v:int| -> int {v*RADIX+c}, 0i) ;\n    let p2 = alter(elem(box |&: c:char| { if c == 'z' { Some('Z') } else { None } }),\n                   elem(box |&: c:char| { if c == 'w' { Some('W') } else { None } })) ;\n    println!(\"{}\", concat(p1, p2).call((\"1awert\",)));\n}\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/61432855/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/67779929",
    "html_url": "https://github.com/rust-lang/rust/issues/18057#issuecomment-67779929",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18057",
    "id": 67779929,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3Nzc5OTI5",
    "user": {
      "login": "nodakai",
      "id": 90726,
      "node_id": "MDQ6VXNlcjkwNzI2",
      "avatar_url": "https://avatars.githubusercontent.com/u/90726?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nodakai",
      "html_url": "https://github.com/nodakai",
      "followers_url": "https://api.github.com/users/nodakai/followers",
      "following_url": "https://api.github.com/users/nodakai/following{/other_user}",
      "gists_url": "https://api.github.com/users/nodakai/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nodakai/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nodakai/subscriptions",
      "organizations_url": "https://api.github.com/users/nodakai/orgs",
      "repos_url": "https://api.github.com/users/nodakai/repos",
      "events_url": "https://api.github.com/users/nodakai/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nodakai/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-12-21T18:45:05Z",
    "updated_at": "2014-12-21T18:45:05Z",
    "body": "@aturon Can you check the status of this issue?  Seems like you can close this\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/67779929/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69234954",
    "html_url": "https://github.com/rust-lang/rust/issues/18057#issuecomment-69234954",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18057",
    "id": 69234954,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5MjM0OTU0",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-08T19:32:32Z",
    "updated_at": "2015-01-08T19:32:32Z",
    "body": "Going to close this on basis of @bkoropoff's comments. Re-open if you think there is still a problem.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69234954/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
