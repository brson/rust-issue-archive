[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/237863069",
    "html_url": "https://github.com/rust-lang/rust/issues/29641#issuecomment-237863069",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29641",
    "id": 237863069,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzNzg2MzA2OQ==",
    "user": {
      "login": "pyfisch",
      "id": 2781017,
      "node_id": "MDQ6VXNlcjI3ODEwMTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2781017?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pyfisch",
      "html_url": "https://github.com/pyfisch",
      "followers_url": "https://api.github.com/users/pyfisch/followers",
      "following_url": "https://api.github.com/users/pyfisch/following{/other_user}",
      "gists_url": "https://api.github.com/users/pyfisch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pyfisch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pyfisch/subscriptions",
      "organizations_url": "https://api.github.com/users/pyfisch/orgs",
      "repos_url": "https://api.github.com/users/pyfisch/repos",
      "events_url": "https://api.github.com/users/pyfisch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pyfisch/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-08-05T14:20:24Z",
    "updated_at": "2016-08-05T14:20:24Z",
    "body": "Will it be possible to use box patterns with smart pointers?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/237863069/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/294265175",
    "html_url": "https://github.com/rust-lang/rust/issues/29641#issuecomment-294265175",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29641",
    "id": 294265175,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5NDI2NTE3NQ==",
    "user": {
      "login": "clarfonthey",
      "id": 15850505,
      "node_id": "MDQ6VXNlcjE1ODUwNTA1",
      "avatar_url": "https://avatars.githubusercontent.com/u/15850505?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/clarfonthey",
      "html_url": "https://github.com/clarfonthey",
      "followers_url": "https://api.github.com/users/clarfonthey/followers",
      "following_url": "https://api.github.com/users/clarfonthey/following{/other_user}",
      "gists_url": "https://api.github.com/users/clarfonthey/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/clarfonthey/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/clarfonthey/subscriptions",
      "organizations_url": "https://api.github.com/users/clarfonthey/orgs",
      "repos_url": "https://api.github.com/users/clarfonthey/repos",
      "events_url": "https://api.github.com/users/clarfonthey/events{/privacy}",
      "received_events_url": "https://api.github.com/users/clarfonthey/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-04-15T01:52:54Z",
    "updated_at": "2017-04-15T01:52:54Z",
    "body": "Odd question: I've seen a few `fn method(self: Box<Self>)` type things in libstd; is there any plan to eventually turn this into `fn method(box self)` ?",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/294265175/reactions",
      "total_count": 3,
      "+1": 3,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/294280000",
    "html_url": "https://github.com/rust-lang/rust/issues/29641#issuecomment-294280000",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29641",
    "id": 294280000,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5NDI4MDAwMA==",
    "user": {
      "login": "pyfisch",
      "id": 2781017,
      "node_id": "MDQ6VXNlcjI3ODEwMTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2781017?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pyfisch",
      "html_url": "https://github.com/pyfisch",
      "followers_url": "https://api.github.com/users/pyfisch/followers",
      "following_url": "https://api.github.com/users/pyfisch/following{/other_user}",
      "gists_url": "https://api.github.com/users/pyfisch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pyfisch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pyfisch/subscriptions",
      "organizations_url": "https://api.github.com/users/pyfisch/orgs",
      "repos_url": "https://api.github.com/users/pyfisch/repos",
      "events_url": "https://api.github.com/users/pyfisch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pyfisch/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-04-15T08:29:50Z",
    "updated_at": "2017-04-15T08:29:50Z",
    "body": "Types will be written `Box<Foo>` and not `box Foo` even if box_patterns is stabilized. Allowing `box Foo` would be a new feature that is not planned I think. `box` is useful to box values (shorter then `Box::new(value)` and allows some pattern matching impossible before.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/294280000/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/294303505",
    "html_url": "https://github.com/rust-lang/rust/issues/29641#issuecomment-294303505",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29641",
    "id": 294303505,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5NDMwMzUwNQ==",
    "user": {
      "login": "clarfonthey",
      "id": 15850505,
      "node_id": "MDQ6VXNlcjE1ODUwNTA1",
      "avatar_url": "https://avatars.githubusercontent.com/u/15850505?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/clarfonthey",
      "html_url": "https://github.com/clarfonthey",
      "followers_url": "https://api.github.com/users/clarfonthey/followers",
      "following_url": "https://api.github.com/users/clarfonthey/following{/other_user}",
      "gists_url": "https://api.github.com/users/clarfonthey/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/clarfonthey/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/clarfonthey/subscriptions",
      "organizations_url": "https://api.github.com/users/clarfonthey/orgs",
      "repos_url": "https://api.github.com/users/clarfonthey/repos",
      "events_url": "https://api.github.com/users/clarfonthey/events{/privacy}",
      "received_events_url": "https://api.github.com/users/clarfonthey/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-04-15T16:27:36Z",
    "updated_at": "2017-04-15T16:27:36Z",
    "body": "Oh, I understand that in general, `box Foo` won't be a type. I was just wondering because I was under the assumption that `&self` in method definitions was more of a pattern than a type description, which means that `box self` in methods makes sense.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/294303505/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/294316633",
    "html_url": "https://github.com/rust-lang/rust/issues/29641#issuecomment-294316633",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29641",
    "id": 294316633,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5NDMxNjYzMw==",
    "user": {
      "login": "SimonSapin",
      "id": 291359,
      "node_id": "MDQ6VXNlcjI5MTM1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SimonSapin",
      "html_url": "https://github.com/SimonSapin",
      "followers_url": "https://api.github.com/users/SimonSapin/followers",
      "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}",
      "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions",
      "organizations_url": "https://api.github.com/users/SimonSapin/orgs",
      "repos_url": "https://api.github.com/users/SimonSapin/repos",
      "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SimonSapin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-04-15T20:39:30Z",
    "updated_at": "2017-04-15T20:39:30Z",
    "body": "`&self` in methods does not work like a pattern. For example in `fn foo(x: &u32) { let &y = x }` the `&y` pattern \"removes\" one pointer indirection and make `y` have type `u32`, whereas in a `impl SomTrait for u32 { fn bar(&self) { \u2026 }}` method `self` has type `&u32` with the `&_` indirection included.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/294316633/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/297551076",
    "html_url": "https://github.com/rust-lang/rust/issues/29641#issuecomment-297551076",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29641",
    "id": 297551076,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5NzU1MTA3Ng==",
    "user": {
      "login": "jadbox",
      "id": 595843,
      "node_id": "MDQ6VXNlcjU5NTg0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/595843?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jadbox",
      "html_url": "https://github.com/jadbox",
      "followers_url": "https://api.github.com/users/jadbox/followers",
      "following_url": "https://api.github.com/users/jadbox/following{/other_user}",
      "gists_url": "https://api.github.com/users/jadbox/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jadbox/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jadbox/subscriptions",
      "organizations_url": "https://api.github.com/users/jadbox/orgs",
      "repos_url": "https://api.github.com/users/jadbox/repos",
      "events_url": "https://api.github.com/users/jadbox/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jadbox/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-04-26T21:47:27Z",
    "updated_at": "2017-04-26T21:48:00Z",
    "body": "Are 'Box patterns' enabled, without flags, on Nightly yet?",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/297551076/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/297561736",
    "html_url": "https://github.com/rust-lang/rust/issues/29641#issuecomment-297561736",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29641",
    "id": 297561736,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5NzU2MTczNg==",
    "user": {
      "login": "SimonSapin",
      "id": 291359,
      "node_id": "MDQ6VXNlcjI5MTM1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SimonSapin",
      "html_url": "https://github.com/SimonSapin",
      "followers_url": "https://api.github.com/users/SimonSapin/followers",
      "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}",
      "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions",
      "organizations_url": "https://api.github.com/users/SimonSapin/orgs",
      "repos_url": "https://api.github.com/users/SimonSapin/repos",
      "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SimonSapin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-04-26T22:39:51Z",
    "updated_at": "2017-04-26T22:39:51Z",
    "body": "@jadbox No. Unless someone missed something, this issue would be closed if they were.\r\n\r\nrustc 1.18.0-nightly (2b4c91158 2017-04-25)\r\n\r\n```rust\r\nerror: box pattern syntax is experimental (see issue #29641)\r\n --> a.rs:2:9\r\n  |\r\n2 |     let box a = Box::new(1);\r\n  |         ^^^^^\r\n  |\r\n  = help: add #![feature(box_patterns)] to the crate attributes to enable\r\n\r\nerror: aborting due to previous error\r\n```",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/297561736/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/297564097",
    "html_url": "https://github.com/rust-lang/rust/issues/29641#issuecomment-297564097",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29641",
    "id": 297564097,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5NzU2NDA5Nw==",
    "user": {
      "login": "jadbox",
      "id": 595843,
      "node_id": "MDQ6VXNlcjU5NTg0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/595843?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jadbox",
      "html_url": "https://github.com/jadbox",
      "followers_url": "https://api.github.com/users/jadbox/followers",
      "following_url": "https://api.github.com/users/jadbox/following{/other_user}",
      "gists_url": "https://api.github.com/users/jadbox/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jadbox/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jadbox/subscriptions",
      "organizations_url": "https://api.github.com/users/jadbox/orgs",
      "repos_url": "https://api.github.com/users/jadbox/repos",
      "events_url": "https://api.github.com/users/jadbox/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jadbox/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-04-26T22:53:45Z",
    "updated_at": "2017-04-26T22:53:45Z",
    "body": "thanks @SimonSapin \r\n\r\nWhat's left to do on the feature before it can be considered 'stable' enough for nightly?",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/297564097/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/297667493",
    "html_url": "https://github.com/rust-lang/rust/issues/29641#issuecomment-297667493",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29641",
    "id": 297667493,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5NzY2NzQ5Mw==",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-04-27T09:48:11Z",
    "updated_at": "2017-04-27T09:48:11Z",
    "body": "> What's left to do on the feature before it can be considered 'stable' enough for nightly?\r\n\r\nThis is related to box syntax more generally, so the questions around that need to be resolved first.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/297667493/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/360557067",
    "html_url": "https://github.com/rust-lang/rust/issues/29641#issuecomment-360557067",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29641",
    "id": 360557067,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2MDU1NzA2Nw==",
    "user": {
      "login": "deontologician",
      "id": 1366,
      "node_id": "MDQ6VXNlcjEzNjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1366?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/deontologician",
      "html_url": "https://github.com/deontologician",
      "followers_url": "https://api.github.com/users/deontologician/followers",
      "following_url": "https://api.github.com/users/deontologician/following{/other_user}",
      "gists_url": "https://api.github.com/users/deontologician/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/deontologician/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/deontologician/subscriptions",
      "organizations_url": "https://api.github.com/users/deontologician/orgs",
      "repos_url": "https://api.github.com/users/deontologician/repos",
      "events_url": "https://api.github.com/users/deontologician/events{/privacy}",
      "received_events_url": "https://api.github.com/users/deontologician/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-01-25T18:31:15Z",
    "updated_at": "2018-01-25T18:54:01Z",
    "body": "This is really critical to matching recursive enums. I have some code like:\r\n\r\n```rust\r\nmatch act {\r\n    Subcondition(box Always(act)) => simplify(act),\r\n    Subcondition(box cond) => Subcondition(Box::new(simplify(cond))),\r\n    otherwise => otherwise\r\n}\r\n```\r\nAnd basically, I'm stuck on nightly.\r\n\r\nIs this box pattern syntax *really* super tied to the placement syntax in the other issues that are also using the `box` keyword? The resemblance seems cosmetic (also, the tracking issue linked here doesn't mention the pattern syntax except in passing). Boxing recursive enums is a basic thing to do, and being able to deeply match those recursive enums seems like a pure win, regardless of how placement works.\r\n\r\nMaybe changing the keyword from `box` would help get this feature going again?",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/360557067/reactions",
      "total_count": 28,
      "+1": 28,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/360574042",
    "html_url": "https://github.com/rust-lang/rust/issues/29641#issuecomment-360574042",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29641",
    "id": 360574042,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2MDU3NDA0Mg==",
    "user": {
      "login": "glaebhoerl",
      "id": 1216629,
      "node_id": "MDQ6VXNlcjEyMTY2Mjk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1216629?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/glaebhoerl",
      "html_url": "https://github.com/glaebhoerl",
      "followers_url": "https://api.github.com/users/glaebhoerl/followers",
      "following_url": "https://api.github.com/users/glaebhoerl/following{/other_user}",
      "gists_url": "https://api.github.com/users/glaebhoerl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/glaebhoerl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/glaebhoerl/subscriptions",
      "organizations_url": "https://api.github.com/users/glaebhoerl/orgs",
      "repos_url": "https://api.github.com/users/glaebhoerl/repos",
      "events_url": "https://api.github.com/users/glaebhoerl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/glaebhoerl/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-01-25T19:29:47Z",
    "updated_at": "2018-01-25T19:31:31Z",
    "body": "As [discussed](https://github.com/rust-lang/rfcs/pull/2005#issuecomment-307935415) on the RFC for default binding modes in `match` (tracking issue https://github.com/rust-lang/rust/issues/42640), I think the best solution here would not be `box` patterns, but simply to have the `ref` \"default binding mode\" automatically propagate through all types with `Deref` implementations (not just through `&` itself), and likewise the `ref mut` mode through all `DerefMut` types (and not just `&mut`).\r\n\r\nSo you could do things like:\r\n\r\n```rust\r\nlet foo = Rc::new(Some(true)); // or Box, or Arc, or ...\r\nmatch &foo {\r\n    Some(b) => { /* b is of type `&bool` here */ }\r\n    None => { ... }\r\n}\r\n```\r\n\r\nThere may or may not be complications around things like `DerefPure` here, I can't remember. (If the complications don't implicate safety then I think we should just accept them with, \"don't write surprising `Deref` implementations or you'll get surprising results\".)",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/360574042/reactions",
      "total_count": 38,
      "+1": 37,
      "-1": 0,
      "laugh": 0,
      "hooray": 1,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/360577697",
    "html_url": "https://github.com/rust-lang/rust/issues/29641#issuecomment-360577697",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29641",
    "id": 360577697,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2MDU3NzY5Nw==",
    "user": {
      "login": "rpjohnst",
      "id": 161677,
      "node_id": "MDQ6VXNlcjE2MTY3Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/161677?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rpjohnst",
      "html_url": "https://github.com/rpjohnst",
      "followers_url": "https://api.github.com/users/rpjohnst/followers",
      "following_url": "https://api.github.com/users/rpjohnst/following{/other_user}",
      "gists_url": "https://api.github.com/users/rpjohnst/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rpjohnst/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rpjohnst/subscriptions",
      "organizations_url": "https://api.github.com/users/rpjohnst/orgs",
      "repos_url": "https://api.github.com/users/rpjohnst/repos",
      "events_url": "https://api.github.com/users/rpjohnst/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rpjohnst/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-01-25T19:42:26Z",
    "updated_at": "2018-01-25T19:42:26Z",
    "body": "Would it also be possible for `&` in patterns to go through `Deref`, to preserve the ability to write the \"default binding mode\" stuff explicitly? Or would it be better to keep `box` as the explicit version, and let it be stabilized on its own?",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/360577697/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/360583735",
    "html_url": "https://github.com/rust-lang/rust/issues/29641#issuecomment-360583735",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29641",
    "id": 360583735,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2MDU4MzczNQ==",
    "user": {
      "login": "glaebhoerl",
      "id": 1216629,
      "node_id": "MDQ6VXNlcjEyMTY2Mjk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1216629?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/glaebhoerl",
      "html_url": "https://github.com/glaebhoerl",
      "followers_url": "https://api.github.com/users/glaebhoerl/followers",
      "following_url": "https://api.github.com/users/glaebhoerl/following{/other_user}",
      "gists_url": "https://api.github.com/users/glaebhoerl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/glaebhoerl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/glaebhoerl/subscriptions",
      "organizations_url": "https://api.github.com/users/glaebhoerl/orgs",
      "repos_url": "https://api.github.com/users/glaebhoerl/repos",
      "events_url": "https://api.github.com/users/glaebhoerl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/glaebhoerl/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-01-25T20:02:46Z",
    "updated_at": "2018-01-25T20:02:46Z",
    "body": "I would prefer to deprecate `&` and `&mut` (and `ref` and `ref mut`) in pattern contexts and just do this kind of adjustment on the RHS when necessary (in expression context) - so in this case, just use `*` to deref as normal - which may not always be as ideal as possible from a code-golf perspective, but is generally much clearer and less of a learning hazard.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/360583735/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/360608772",
    "html_url": "https://github.com/rust-lang/rust/issues/29641#issuecomment-360608772",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29641",
    "id": 360608772,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2MDYwODc3Mg==",
    "user": {
      "login": "rpjohnst",
      "id": 161677,
      "node_id": "MDQ6VXNlcjE2MTY3Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/161677?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rpjohnst",
      "html_url": "https://github.com/rpjohnst",
      "followers_url": "https://api.github.com/users/rpjohnst/followers",
      "following_url": "https://api.github.com/users/rpjohnst/following{/other_user}",
      "gists_url": "https://api.github.com/users/rpjohnst/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rpjohnst/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rpjohnst/subscriptions",
      "organizations_url": "https://api.github.com/users/rpjohnst/orgs",
      "repos_url": "https://api.github.com/users/rpjohnst/repos",
      "events_url": "https://api.github.com/users/rpjohnst/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rpjohnst/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-01-25T21:37:50Z",
    "updated_at": "2018-01-25T21:37:50Z",
    "body": "I don't think binding modes are as expressive on their own, though. We would need something beyond the RFC in order to fully remove `&`/`&mut`, no?\r\n\r\nOr did you mean forcing people to add `*` in the match arm after the pattern? I feel like that's a step backwards and we don't have a clear path to avoiding that either.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/360608772/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/360639356",
    "html_url": "https://github.com/rust-lang/rust/issues/29641#issuecomment-360639356",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29641",
    "id": 360639356,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2MDYzOTM1Ng==",
    "user": {
      "login": "glaebhoerl",
      "id": 1216629,
      "node_id": "MDQ6VXNlcjEyMTY2Mjk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1216629?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/glaebhoerl",
      "html_url": "https://github.com/glaebhoerl",
      "followers_url": "https://api.github.com/users/glaebhoerl/followers",
      "following_url": "https://api.github.com/users/glaebhoerl/following{/other_user}",
      "gists_url": "https://api.github.com/users/glaebhoerl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/glaebhoerl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/glaebhoerl/subscriptions",
      "organizations_url": "https://api.github.com/users/glaebhoerl/orgs",
      "repos_url": "https://api.github.com/users/glaebhoerl/repos",
      "events_url": "https://api.github.com/users/glaebhoerl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/glaebhoerl/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-01-25T23:49:26Z",
    "updated_at": "2018-01-25T23:49:26Z",
    "body": "There was some discussion about these things on the RFC, but I don't really remember it. In either case, this is getting into the weeds; I think the part that's important for now is just that the use case that was going to be satisfied by `box` patterns should be satisfied by extending default binding modes instead. After that I would *like to* also be able to remove all the other things from patterns, *if* there aren't any major obstacles (e.g. strictly reduced expressivity), but we can attend to those details later in the process (e.g. I'm imagining the first thing would end up as one RFC / feature flag and the second as another, later on, or something).",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/360639356/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/360880477",
    "html_url": "https://github.com/rust-lang/rust/issues/29641#issuecomment-360880477",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29641",
    "id": 360880477,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2MDg4MDQ3Nw==",
    "user": {
      "login": "deontologician",
      "id": 1366,
      "node_id": "MDQ6VXNlcjEzNjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1366?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/deontologician",
      "html_url": "https://github.com/deontologician",
      "followers_url": "https://api.github.com/users/deontologician/followers",
      "following_url": "https://api.github.com/users/deontologician/following{/other_user}",
      "gists_url": "https://api.github.com/users/deontologician/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/deontologician/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/deontologician/subscriptions",
      "organizations_url": "https://api.github.com/users/deontologician/orgs",
      "repos_url": "https://api.github.com/users/deontologician/repos",
      "events_url": "https://api.github.com/users/deontologician/events{/privacy}",
      "received_events_url": "https://api.github.com/users/deontologician/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-01-26T19:25:45Z",
    "updated_at": "2018-01-26T19:25:45Z",
    "body": "@glaebhoerl So the best place to discuss this is default binding modes then? Is there much momentum there?",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/360880477/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/360896997",
    "html_url": "https://github.com/rust-lang/rust/issues/29641#issuecomment-360896997",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29641",
    "id": 360896997,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2MDg5Njk5Nw==",
    "user": {
      "login": "glaebhoerl",
      "id": 1216629,
      "node_id": "MDQ6VXNlcjEyMTY2Mjk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1216629?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/glaebhoerl",
      "html_url": "https://github.com/glaebhoerl",
      "followers_url": "https://api.github.com/users/glaebhoerl/followers",
      "following_url": "https://api.github.com/users/glaebhoerl/following{/other_user}",
      "gists_url": "https://api.github.com/users/glaebhoerl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/glaebhoerl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/glaebhoerl/subscriptions",
      "organizations_url": "https://api.github.com/users/glaebhoerl/orgs",
      "repos_url": "https://api.github.com/users/glaebhoerl/repos",
      "events_url": "https://api.github.com/users/glaebhoerl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/glaebhoerl/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-01-26T20:34:01Z",
    "updated_at": "2018-01-26T20:34:01Z",
    "body": "@deontologician Yes I'd think so (go ahead and drop a line there if the use case is important to you). Default binding modes itself (based on the tracking issue) is implemented but has a ways to go before stabilization; there hasn't been any \"official\" discussion about doing the thing I described, but a few people have seemed to agree that it seems like a promising direction to move in.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/360896997/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/360899339",
    "html_url": "https://github.com/rust-lang/rust/issues/29641#issuecomment-360899339",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29641",
    "id": 360899339,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2MDg5OTMzOQ==",
    "user": {
      "login": "deontologician",
      "id": 1366,
      "node_id": "MDQ6VXNlcjEzNjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1366?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/deontologician",
      "html_url": "https://github.com/deontologician",
      "followers_url": "https://api.github.com/users/deontologician/followers",
      "following_url": "https://api.github.com/users/deontologician/following{/other_user}",
      "gists_url": "https://api.github.com/users/deontologician/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/deontologician/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/deontologician/subscriptions",
      "organizations_url": "https://api.github.com/users/deontologician/orgs",
      "repos_url": "https://api.github.com/users/deontologician/repos",
      "events_url": "https://api.github.com/users/deontologician/events{/privacy}",
      "received_events_url": "https://api.github.com/users/deontologician/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-01-26T20:44:34Z",
    "updated_at": "2018-01-26T20:44:34Z",
    "body": "Yeah, looks like discussion of that part is picked up in https://github.com/rust-lang/rfcs/issues/2099 which doesn't have an RFC yet. I'll move my focus there, thanks!",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/360899339/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/384828755",
    "html_url": "https://github.com/rust-lang/rust/issues/29641#issuecomment-384828755",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29641",
    "id": 384828755,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4NDgyODc1NQ==",
    "user": {
      "login": "jonhoo",
      "id": 176295,
      "node_id": "MDQ6VXNlcjE3NjI5NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/176295?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonhoo",
      "html_url": "https://github.com/jonhoo",
      "followers_url": "https://api.github.com/users/jonhoo/followers",
      "following_url": "https://api.github.com/users/jonhoo/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonhoo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonhoo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonhoo/subscriptions",
      "organizations_url": "https://api.github.com/users/jonhoo/orgs",
      "repos_url": "https://api.github.com/users/jonhoo/repos",
      "events_url": "https://api.github.com/users/jonhoo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonhoo/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-04-27T00:34:27Z",
    "updated_at": "2018-04-27T00:34:27Z",
    "body": "@pnkfelix Is there a planned path to stabilization for this? The feature gate landed in https://github.com/rust-lang/rust/pull/22175 quite some time ago, and this is pretty essential for doing nested matches over struct and enums that contains boxes.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/384828755/reactions",
      "total_count": 46,
      "+1": 46,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/471393589",
    "html_url": "https://github.com/rust-lang/rust/issues/29641#issuecomment-471393589",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29641",
    "id": 471393589,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3MTM5MzU4OQ==",
    "user": {
      "login": "jcotton42",
      "id": 5257450,
      "node_id": "MDQ6VXNlcjUyNTc0NTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5257450?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jcotton42",
      "html_url": "https://github.com/jcotton42",
      "followers_url": "https://api.github.com/users/jcotton42/followers",
      "following_url": "https://api.github.com/users/jcotton42/following{/other_user}",
      "gists_url": "https://api.github.com/users/jcotton42/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jcotton42/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jcotton42/subscriptions",
      "organizations_url": "https://api.github.com/users/jcotton42/orgs",
      "repos_url": "https://api.github.com/users/jcotton42/repos",
      "events_url": "https://api.github.com/users/jcotton42/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jcotton42/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2019-03-11T03:35:33Z",
    "updated_at": "2019-03-11T03:35:33Z",
    "body": "Bumping this since it's been 11 months and I'm also interested in this (don't have any specific use case, just interested)",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/471393589/reactions",
      "total_count": 13,
      "+1": 12,
      "-1": 1,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/490501727",
    "html_url": "https://github.com/rust-lang/rust/issues/29641#issuecomment-490501727",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29641",
    "id": 490501727,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MDUwMTcyNw==",
    "user": {
      "login": "ice1000",
      "id": 16398479,
      "node_id": "MDQ6VXNlcjE2Mzk4NDc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/16398479?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ice1000",
      "html_url": "https://github.com/ice1000",
      "followers_url": "https://api.github.com/users/ice1000/followers",
      "following_url": "https://api.github.com/users/ice1000/following{/other_user}",
      "gists_url": "https://api.github.com/users/ice1000/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ice1000/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ice1000/subscriptions",
      "organizations_url": "https://api.github.com/users/ice1000/orgs",
      "repos_url": "https://api.github.com/users/ice1000/repos",
      "events_url": "https://api.github.com/users/ice1000/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ice1000/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2019-05-08T14:11:53Z",
    "updated_at": "2019-05-08T14:11:53Z",
    "body": "> As [discussed](https://github.com/rust-lang/rfcs/pull/2005#issuecomment-307935415) on the RFC for default binding modes in `match` (tracking issue #42640), I think the best solution here would not be `box` patterns, but simply to have the `ref` \"default binding mode\" automatically propagate through all types with `Deref` implementations (not just through `&` itself), and likewise the `ref mut` mode through all `DerefMut` types (and not just `&mut`).\r\n> \r\n> So you could do things like:\r\n> \r\n> ```rust\r\n> let foo = Rc::new(Some(true)); // or Box, or Arc, or ...\r\n> match &foo {\r\n>     Some(b) => { /* b is of type `&bool` here */ }\r\n>     None => { ... }\r\n> }\r\n> ```\r\n> \r\n> There may or may not be complications around things like `DerefPure` here, I can't remember. (If the complications don't implicate safety then I think we should just accept them with, \"don't write surprising `Deref` implementations or you'll get surprising results\".)\r\n\r\n\"Default binding mode\" sounds incredibly good! Is there anything related to this that I can take a look at?\r\nI was looking forward to box patterns, but now you've provided an alternative that sounds even better.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/490501727/reactions",
      "total_count": 6,
      "+1": 6,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/490549842",
    "html_url": "https://github.com/rust-lang/rust/issues/29641#issuecomment-490549842",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29641",
    "id": 490549842,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MDU0OTg0Mg==",
    "user": {
      "login": "Robbepop",
      "id": 8193155,
      "node_id": "MDQ6VXNlcjgxOTMxNTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8193155?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Robbepop",
      "html_url": "https://github.com/Robbepop",
      "followers_url": "https://api.github.com/users/Robbepop/followers",
      "following_url": "https://api.github.com/users/Robbepop/following{/other_user}",
      "gists_url": "https://api.github.com/users/Robbepop/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Robbepop/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Robbepop/subscriptions",
      "organizations_url": "https://api.github.com/users/Robbepop/orgs",
      "repos_url": "https://api.github.com/users/Robbepop/repos",
      "events_url": "https://api.github.com/users/Robbepop/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Robbepop/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2019-05-08T16:11:05Z",
    "updated_at": "2019-05-08T16:11:05Z",
    "body": "> > As [discussed](https://github.com/rust-lang/rfcs/pull/2005#issuecomment-307935415) on the RFC for default binding modes in `match` (tracking issue #42640), I think the best solution here would not be `box` patterns, but simply to have the `ref` \"default binding mode\" automatically propagate through all types with `Deref` implementations (not just through `&` itself), and likewise the `ref mut` mode through all `DerefMut` types (and not just `&mut`).\r\n> > So you could do things like:\r\n> > ```rust\r\n> > let foo = Rc::new(Some(true)); // or Box, or Arc, or ...\r\n> > match &foo {\r\n> >     Some(b) => { /* b is of type `&bool` here */ }\r\n> >     None => { ... }\r\n> > }\r\n> > ```\r\n> > \r\n> > \r\n> > There may or may not be complications around things like `DerefPure` here, I can't remember. (If the complications don't implicate safety then I think we should just accept them with, \"don't write surprising `Deref` implementations or you'll get surprising results\".)\r\n> \r\n> \"Default binding mode\" sounds incredibly good! Is there anything related to this that I can take a look at?\r\n> I was looking forward to box patterns, but now you've provided an alternative that sounds even better.\r\n\r\nI use the `box_patterns` feature quite extensively in here: https://github.com/Robbepop/stevia/blob/master/simplifier/src/simplifications/term_const_prop.rs#L37\r\nEspecially conditional move out of a structure guided by a pattern is done very commonly there.\r\nAs far as I understood the proposed `DerefPure` would be used in that case behind the curtains of default binding modes, am I right about this? If not I would really like to know how this use case is covered.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/490549842/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/490580175",
    "html_url": "https://github.com/rust-lang/rust/issues/29641#issuecomment-490580175",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29641",
    "id": 490580175,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MDU4MDE3NQ==",
    "user": {
      "login": "glaebhoerl",
      "id": 1216629,
      "node_id": "MDQ6VXNlcjEyMTY2Mjk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1216629?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/glaebhoerl",
      "html_url": "https://github.com/glaebhoerl",
      "followers_url": "https://api.github.com/users/glaebhoerl/followers",
      "following_url": "https://api.github.com/users/glaebhoerl/following{/other_user}",
      "gists_url": "https://api.github.com/users/glaebhoerl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/glaebhoerl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/glaebhoerl/subscriptions",
      "organizations_url": "https://api.github.com/users/glaebhoerl/orgs",
      "repos_url": "https://api.github.com/users/glaebhoerl/repos",
      "events_url": "https://api.github.com/users/glaebhoerl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/glaebhoerl/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2019-05-08T17:37:00Z",
    "updated_at": "2019-05-08T17:38:56Z",
    "body": "@ice1000 There haven't been any developments on this front that I know of since then, if that's what you're thinking of.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/490580175/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/503199709",
    "html_url": "https://github.com/rust-lang/rust/issues/29641#issuecomment-503199709",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29641",
    "id": 503199709,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwMzE5OTcwOQ==",
    "user": {
      "login": "ice1000",
      "id": 16398479,
      "node_id": "MDQ6VXNlcjE2Mzk4NDc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/16398479?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ice1000",
      "html_url": "https://github.com/ice1000",
      "followers_url": "https://api.github.com/users/ice1000/followers",
      "following_url": "https://api.github.com/users/ice1000/following{/other_user}",
      "gists_url": "https://api.github.com/users/ice1000/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ice1000/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ice1000/subscriptions",
      "organizations_url": "https://api.github.com/users/ice1000/orgs",
      "repos_url": "https://api.github.com/users/ice1000/repos",
      "events_url": "https://api.github.com/users/ice1000/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ice1000/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2019-06-18T15:57:34Z",
    "updated_at": "2019-06-18T15:57:34Z",
    "body": "> @ice1000 There haven't been any developments on this front that I know of since then, if that's what you're thinking of.\r\n\r\nSad to hear that. Thanks for your information!",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/503199709/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/548453785",
    "html_url": "https://github.com/rust-lang/rust/issues/29641#issuecomment-548453785",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29641",
    "id": 548453785,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU0ODQ1Mzc4NQ==",
    "user": {
      "login": "jonhoo",
      "id": 176295,
      "node_id": "MDQ6VXNlcjE3NjI5NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/176295?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonhoo",
      "html_url": "https://github.com/jonhoo",
      "followers_url": "https://api.github.com/users/jonhoo/followers",
      "following_url": "https://api.github.com/users/jonhoo/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonhoo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonhoo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonhoo/subscriptions",
      "organizations_url": "https://api.github.com/users/jonhoo/orgs",
      "repos_url": "https://api.github.com/users/jonhoo/repos",
      "events_url": "https://api.github.com/users/jonhoo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonhoo/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2019-10-31T16:17:49Z",
    "updated_at": "2019-10-31T16:17:49Z",
    "body": "Another gentle bump to this issue \u2014 what's the current path towards stabilization? As far as I'm aware, this is still the only way to destructure across a `Box`.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/548453785/reactions",
      "total_count": 25,
      "+1": 25,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/564397369",
    "html_url": "https://github.com/rust-lang/rust/issues/29641#issuecomment-564397369",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29641",
    "id": 564397369,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2NDM5NzM2OQ==",
    "user": {
      "login": "Karrq",
      "id": 3997923,
      "node_id": "MDQ6VXNlcjM5OTc5MjM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3997923?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Karrq",
      "html_url": "https://github.com/Karrq",
      "followers_url": "https://api.github.com/users/Karrq/followers",
      "following_url": "https://api.github.com/users/Karrq/following{/other_user}",
      "gists_url": "https://api.github.com/users/Karrq/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Karrq/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Karrq/subscriptions",
      "organizations_url": "https://api.github.com/users/Karrq/orgs",
      "repos_url": "https://api.github.com/users/Karrq/repos",
      "events_url": "https://api.github.com/users/Karrq/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Karrq/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2019-12-11T06:17:51Z",
    "updated_at": "2019-12-11T06:17:51Z",
    "body": "Yet another bump. Currently there's no way to destructure a box inside an enum variant in 1 step except by using this feature. Is there really no path towards stabilization? \r\nTriage?",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/564397369/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/564442317",
    "html_url": "https://github.com/rust-lang/rust/issues/29641#issuecomment-564442317",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29641",
    "id": 564442317,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2NDQ0MjMxNw==",
    "user": {
      "login": "SimonSapin",
      "id": 291359,
      "node_id": "MDQ6VXNlcjI5MTM1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SimonSapin",
      "html_url": "https://github.com/SimonSapin",
      "followers_url": "https://api.github.com/users/SimonSapin/followers",
      "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}",
      "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions",
      "organizations_url": "https://api.github.com/users/SimonSapin/orgs",
      "repos_url": "https://api.github.com/users/SimonSapin/repos",
      "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SimonSapin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2019-12-11T08:54:42Z",
    "updated_at": "2019-12-11T08:54:42Z",
    "body": "I understand the frustration, but at this point I think it\u2019s pretty clear that this feature is not gonna be stabilized without another round of design work. This not a case of a feature that\u2019s basically done and we just need to press the button.\r\n\r\nThe last formal Language Team decision around this feature was [RFC 469](https://github.com/rust-lang/rfcs/pull/469) in 2014, which made the feature unstable before Rust 1.0. (Or perhaps this was before there was a language team.) So the path forward if there is one likely involves a high-level proposal for how this feature should change (or why it shouldn\u2019t), finding a member of the language team willing to champion this, and submitting a new RFC.\r\n\r\nRegarding changes, the unstabilization RFC discusses extending the feature to types other than `Box`. This may be more tricky than simply calling `deref`: there\u2019s precedent for matching a pattern that refers to a `const` being \u201cstructural\u201d (fields are matched recursively) rather than calling `PartialEq::eq`. The trait is required to be derived, because it would be weird if matching and `==` gave different results.\r\n\r\n```rust\r\n#[derive(Eq)]\r\npub struct Foo(u32);\r\n\r\nimpl PartialEq for Foo {\r\n    fn eq(&self, other: &Self) -> bool {\r\n        (self.0 - other.0).abs() <= 3\r\n    }\r\n}\r\n\r\npub fn foo(x: Foo) {\r\n    const FOUR: Foo = Foo(4);\r\n    if let FOUR = x {}\r\n}\r\n```\r\n\r\n[Playground](https://play.rust-lang.org/?version=stable&mode=debug&edition=2018&gist=bc40eb5aa928f2bd4753a84d3c25bbe8), errors:\r\n\r\n```rust\r\nerror: to use a constant of type `Foo` in a pattern, `Foo` must be annotated with `#[derive(PartialEq, Eq)]`\r\n  --> src/lib.rs:12:12\r\n   |\r\n12 |     if let FOUR = x {}\r\n   |            ^^^^\r\n```\r\n\r\nAlso consider that the language team has limited bandwidth for design work. How important is this particular feature compared to ongoing work? https://github.com/servo/servo/commit/11bd81e1157dde8b3131766bf8ebecbb134e54ce is the commit that removed all uses of box patterns from Servo. The code becomes slightly less nice, but it\u2019s not too bad IMO. This is **not** a case of being forced to rework the entire approach to a problem because of language limitations. Personally I\u2019d be happy to delay box patterns indefinitely if it means delaying slightly less any of the big items like specialization, const generics, or generic associated types.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/564442317/reactions",
      "total_count": 16,
      "+1": 10,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 6,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/564879782",
    "html_url": "https://github.com/rust-lang/rust/issues/29641#issuecomment-564879782",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29641",
    "id": 564879782,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2NDg3OTc4Mg==",
    "user": {
      "login": "Karrq",
      "id": 3997923,
      "node_id": "MDQ6VXNlcjM5OTc5MjM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3997923?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Karrq",
      "html_url": "https://github.com/Karrq",
      "followers_url": "https://api.github.com/users/Karrq/followers",
      "following_url": "https://api.github.com/users/Karrq/following{/other_user}",
      "gists_url": "https://api.github.com/users/Karrq/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Karrq/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Karrq/subscriptions",
      "organizations_url": "https://api.github.com/users/Karrq/orgs",
      "repos_url": "https://api.github.com/users/Karrq/repos",
      "events_url": "https://api.github.com/users/Karrq/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Karrq/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2019-12-12T07:08:22Z",
    "updated_at": "2019-12-12T07:08:22Z",
    "body": "Thank you for shedding some light on the status of this feature!",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/564879782/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/565017017",
    "html_url": "https://github.com/rust-lang/rust/issues/29641#issuecomment-565017017",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29641",
    "id": 565017017,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2NTAxNzAxNw==",
    "user": {
      "login": "nirvdrum",
      "id": 12584,
      "node_id": "MDQ6VXNlcjEyNTg0",
      "avatar_url": "https://avatars.githubusercontent.com/u/12584?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nirvdrum",
      "html_url": "https://github.com/nirvdrum",
      "followers_url": "https://api.github.com/users/nirvdrum/followers",
      "following_url": "https://api.github.com/users/nirvdrum/following{/other_user}",
      "gists_url": "https://api.github.com/users/nirvdrum/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nirvdrum/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nirvdrum/subscriptions",
      "organizations_url": "https://api.github.com/users/nirvdrum/orgs",
      "repos_url": "https://api.github.com/users/nirvdrum/repos",
      "events_url": "https://api.github.com/users/nirvdrum/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nirvdrum/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2019-12-12T13:56:45Z",
    "updated_at": "2021-02-03T06:11:28Z",
    "body": "@SimonSapin Thanks for the info. I do think box patterns are quite important. I'm still relatively new to the language, but I've been working on a compiler on-and-off for the past 18 months. The most natural way to represent an AST in Rust is as a recursive enum, which means needing to box values. The IR I'm using happens to be a recursive enum as well. Multiple phases of the compiler need to pattern match on specific structures and without box patterns, this grossly complicates the code. Rather than seeing a nice succinct pattern, you see part of a match with a bunch of manual unboxing then the next part of the match and so on.\r\n\r\nIt's not that the problem isn't solvable without box patterns. It's that I'm not convinced doing it without box patterns is even worthwhile doing in Rust. And that might be fine. Rust doesn't need to be the solution to every problem domain, so maybe something like OCaml is the right answer here. But, I thought I'd share how important this feature would be to someone like me. For me, not having this feature means I really need to convince myself I want to use Rust because it adversely affects the legibility, and thus maintainability, of my code.\r\n\r\nHaving said that, I don't know enough at this point to try to advance the issue on my own. I'm hoping someone else can take up the mantle. I suspect if I tried to draft an RFC right now I'd end up overlooking a lot of the issues surrounding the feature that you mentioned.",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/565017017/reactions",
      "total_count": 38,
      "+1": 33,
      "-1": 1,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 4,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/565079242",
    "html_url": "https://github.com/rust-lang/rust/issues/29641#issuecomment-565079242",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29641",
    "id": 565079242,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2NTA3OTI0Mg==",
    "user": {
      "login": "rpjohnst",
      "id": 161677,
      "node_id": "MDQ6VXNlcjE2MTY3Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/161677?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rpjohnst",
      "html_url": "https://github.com/rpjohnst",
      "followers_url": "https://api.github.com/users/rpjohnst/followers",
      "following_url": "https://api.github.com/users/rpjohnst/following{/other_user}",
      "gists_url": "https://api.github.com/users/rpjohnst/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rpjohnst/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rpjohnst/subscriptions",
      "organizations_url": "https://api.github.com/users/rpjohnst/orgs",
      "repos_url": "https://api.github.com/users/rpjohnst/repos",
      "events_url": "https://api.github.com/users/rpjohnst/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rpjohnst/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2019-12-12T16:25:18Z",
    "updated_at": "2019-12-12T16:25:18Z",
    "body": "One alternative to box patterns in your case might be to allocate nodes in an arena, enabling you to use references instead.\r\n\r\nThat gives you support for default binding modes, which are even more succinct than box patterns, and is likely to be a performance improvement as well.\r\n\r\n(Leaving this here so others with the same problem can see it.)",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/565079242/reactions",
      "total_count": 18,
      "+1": 13,
      "-1": 1,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 4,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/661941280",
    "html_url": "https://github.com/rust-lang/rust/issues/29641#issuecomment-661941280",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29641",
    "id": 661941280,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2MTk0MTI4MA==",
    "user": {
      "login": "bbqsrc",
      "id": 279099,
      "node_id": "MDQ6VXNlcjI3OTA5OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/279099?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bbqsrc",
      "html_url": "https://github.com/bbqsrc",
      "followers_url": "https://api.github.com/users/bbqsrc/followers",
      "following_url": "https://api.github.com/users/bbqsrc/following{/other_user}",
      "gists_url": "https://api.github.com/users/bbqsrc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bbqsrc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bbqsrc/subscriptions",
      "organizations_url": "https://api.github.com/users/bbqsrc/orgs",
      "repos_url": "https://api.github.com/users/bbqsrc/repos",
      "events_url": "https://api.github.com/users/bbqsrc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bbqsrc/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-07-21T15:47:09Z",
    "updated_at": "2020-07-21T15:47:09Z",
    "body": "Has there been any movement in this space since the last round of discussion, in particular perhaps about auto-deref for pattern matching instead of stabilising the `box` keyword for pattern matching?\r\n\r\nBeen implementing an AST and tearing out my hair. :smile:",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/661941280/reactions",
      "total_count": 24,
      "+1": 20,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 4,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/661962463",
    "html_url": "https://github.com/rust-lang/rust/issues/29641#issuecomment-661962463",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29641",
    "id": 661962463,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2MTk2MjQ2Mw==",
    "user": {
      "login": "ice1000",
      "id": 16398479,
      "node_id": "MDQ6VXNlcjE2Mzk4NDc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/16398479?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ice1000",
      "html_url": "https://github.com/ice1000",
      "followers_url": "https://api.github.com/users/ice1000/followers",
      "following_url": "https://api.github.com/users/ice1000/following{/other_user}",
      "gists_url": "https://api.github.com/users/ice1000/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ice1000/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ice1000/subscriptions",
      "organizations_url": "https://api.github.com/users/ice1000/orgs",
      "repos_url": "https://api.github.com/users/ice1000/repos",
      "events_url": "https://api.github.com/users/ice1000/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ice1000/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-07-21T16:24:17Z",
    "updated_at": "2020-07-21T16:24:17Z",
    "body": "I think people are looking at \"default-binding mode\" now.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/661962463/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/674605039",
    "html_url": "https://github.com/rust-lang/rust/issues/29641#issuecomment-674605039",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29641",
    "id": 674605039,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3NDYwNTAzOQ==",
    "user": {
      "login": "brendanzab",
      "id": 695077,
      "node_id": "MDQ6VXNlcjY5NTA3Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/695077?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brendanzab",
      "html_url": "https://github.com/brendanzab",
      "followers_url": "https://api.github.com/users/brendanzab/followers",
      "following_url": "https://api.github.com/users/brendanzab/following{/other_user}",
      "gists_url": "https://api.github.com/users/brendanzab/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brendanzab/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brendanzab/subscriptions",
      "organizations_url": "https://api.github.com/users/brendanzab/orgs",
      "repos_url": "https://api.github.com/users/brendanzab/repos",
      "events_url": "https://api.github.com/users/brendanzab/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brendanzab/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-08-17T00:57:50Z",
    "updated_at": "2020-08-17T00:57:50Z",
    "body": "@ice1000 are you referring to #42640?",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/674605039/reactions",
      "total_count": 3,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 3,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/675082717",
    "html_url": "https://github.com/rust-lang/rust/issues/29641#issuecomment-675082717",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29641",
    "id": 675082717,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3NTA4MjcxNw==",
    "user": {
      "login": "ice1000",
      "id": 16398479,
      "node_id": "MDQ6VXNlcjE2Mzk4NDc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/16398479?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ice1000",
      "html_url": "https://github.com/ice1000",
      "followers_url": "https://api.github.com/users/ice1000/followers",
      "following_url": "https://api.github.com/users/ice1000/following{/other_user}",
      "gists_url": "https://api.github.com/users/ice1000/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ice1000/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ice1000/subscriptions",
      "organizations_url": "https://api.github.com/users/ice1000/orgs",
      "repos_url": "https://api.github.com/users/ice1000/repos",
      "events_url": "https://api.github.com/users/ice1000/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ice1000/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-08-17T20:00:09Z",
    "updated_at": "2020-08-17T20:00:09Z",
    "body": "> @ice1000 are you referring to #42640?\r\n\r\nYes.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/675082717/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/709448992",
    "html_url": "https://github.com/rust-lang/rust/issues/29641#issuecomment-709448992",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29641",
    "id": 709448992,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwOTQ0ODk5Mg==",
    "user": {
      "login": "tema3210",
      "id": 30626872,
      "node_id": "MDQ6VXNlcjMwNjI2ODcy",
      "avatar_url": "https://avatars.githubusercontent.com/u/30626872?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tema3210",
      "html_url": "https://github.com/tema3210",
      "followers_url": "https://api.github.com/users/tema3210/followers",
      "following_url": "https://api.github.com/users/tema3210/following{/other_user}",
      "gists_url": "https://api.github.com/users/tema3210/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tema3210/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tema3210/subscriptions",
      "organizations_url": "https://api.github.com/users/tema3210/orgs",
      "repos_url": "https://api.github.com/users/tema3210/repos",
      "events_url": "https://api.github.com/users/tema3210/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tema3210/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-10-15T16:40:17Z",
    "updated_at": "2020-10-15T16:40:17Z",
    "body": "Can this be used to do an \"owning pointer\", like `fn A<T:  !Sized>(box data: T)`? This could mean, that we recieving a boxed, unsized value, but working with it like it was usized local. Is it a good adition to DST?",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/709448992/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/955229472",
    "html_url": "https://github.com/rust-lang/rust/issues/29641#issuecomment-955229472",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29641",
    "id": 955229472,
    "node_id": "IC_kwDOAAsO6M4476Ug",
    "user": {
      "login": "fxdave",
      "id": 12275699,
      "node_id": "MDQ6VXNlcjEyMjc1Njk5",
      "avatar_url": "https://avatars.githubusercontent.com/u/12275699?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fxdave",
      "html_url": "https://github.com/fxdave",
      "followers_url": "https://api.github.com/users/fxdave/followers",
      "following_url": "https://api.github.com/users/fxdave/following{/other_user}",
      "gists_url": "https://api.github.com/users/fxdave/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fxdave/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fxdave/subscriptions",
      "organizations_url": "https://api.github.com/users/fxdave/orgs",
      "repos_url": "https://api.github.com/users/fxdave/repos",
      "events_url": "https://api.github.com/users/fxdave/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fxdave/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2021-10-30T13:43:32Z",
    "updated_at": "2021-10-30T13:43:32Z",
    "body": "As I was reading this, I have to tell that, this is really not the way of doing this. \r\nFor exampe, we add box keyword and what about the other types? Will we add rc keyword, and refcell keyword and others, and even custom_cell keyword? Of course not. I'm not proposing any solution, but I personally wouldn't want to see this feature in this keyword form. There must be a better way.",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/955229472/reactions",
      "total_count": 9,
      "+1": 4,
      "-1": 5,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/955476300",
    "html_url": "https://github.com/rust-lang/rust/issues/29641#issuecomment-955476300",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29641",
    "id": 955476300,
    "node_id": "IC_kwDOAAsO6M4482lM",
    "user": {
      "login": "clarfonthey",
      "id": 15850505,
      "node_id": "MDQ6VXNlcjE1ODUwNTA1",
      "avatar_url": "https://avatars.githubusercontent.com/u/15850505?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/clarfonthey",
      "html_url": "https://github.com/clarfonthey",
      "followers_url": "https://api.github.com/users/clarfonthey/followers",
      "following_url": "https://api.github.com/users/clarfonthey/following{/other_user}",
      "gists_url": "https://api.github.com/users/clarfonthey/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/clarfonthey/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/clarfonthey/subscriptions",
      "organizations_url": "https://api.github.com/users/clarfonthey/orgs",
      "repos_url": "https://api.github.com/users/clarfonthey/repos",
      "events_url": "https://api.github.com/users/clarfonthey/events{/privacy}",
      "received_events_url": "https://api.github.com/users/clarfonthey/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2021-10-30T16:56:06Z",
    "updated_at": "2021-10-30T16:56:06Z",
    "body": "From what I understand, the box keyword works for rc and other types. It's basically the semantics of a deref-move, whatever that would mean.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/955476300/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/955858207",
    "html_url": "https://github.com/rust-lang/rust/issues/29641#issuecomment-955858207",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29641",
    "id": 955858207,
    "node_id": "IC_kwDOAAsO6M44-T0f",
    "user": {
      "login": "ice1000",
      "id": 16398479,
      "node_id": "MDQ6VXNlcjE2Mzk4NDc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/16398479?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ice1000",
      "html_url": "https://github.com/ice1000",
      "followers_url": "https://api.github.com/users/ice1000/followers",
      "following_url": "https://api.github.com/users/ice1000/following{/other_user}",
      "gists_url": "https://api.github.com/users/ice1000/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ice1000/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ice1000/subscriptions",
      "organizations_url": "https://api.github.com/users/ice1000/orgs",
      "repos_url": "https://api.github.com/users/ice1000/repos",
      "events_url": "https://api.github.com/users/ice1000/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ice1000/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2021-11-01T01:51:28Z",
    "updated_at": "2021-11-01T01:51:28Z",
    "body": "> As I was reading this, I have to tell that, this is really not the way of doing this. \n> For exampe, we add box keyword and what about the other types? Will we add rc keyword, and refcell keyword and others, and even custom_cell keyword? Of course not. I'm not proposing any solution, but I personally wouldn't want to see this feature in this keyword form. There must be a better way.\n\nI guess it's #42640",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/955858207/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 1,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/956179901",
    "html_url": "https://github.com/rust-lang/rust/issues/29641#issuecomment-956179901",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29641",
    "id": 956179901,
    "node_id": "IC_kwDOAAsO6M44_iW9",
    "user": {
      "login": "Nadrieril",
      "id": 6783654,
      "node_id": "MDQ6VXNlcjY3ODM2NTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6783654?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Nadrieril",
      "html_url": "https://github.com/Nadrieril",
      "followers_url": "https://api.github.com/users/Nadrieril/followers",
      "following_url": "https://api.github.com/users/Nadrieril/following{/other_user}",
      "gists_url": "https://api.github.com/users/Nadrieril/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Nadrieril/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Nadrieril/subscriptions",
      "organizations_url": "https://api.github.com/users/Nadrieril/orgs",
      "repos_url": "https://api.github.com/users/Nadrieril/repos",
      "events_url": "https://api.github.com/users/Nadrieril/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Nadrieril/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2021-11-01T12:09:40Z",
    "updated_at": "2021-11-01T12:09:40Z",
    "body": "> From what I understand, the box keyword works for rc and other types. It's basically the semantics of a deref-move, whatever that would mean.\r\n\r\nThat's not the case currently, but there is a project group that is working to make something like this happen: https://github.com/rust-lang/project-deref-patterns",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/956179901/reactions",
      "total_count": 6,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 6,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/989103091",
    "html_url": "https://github.com/rust-lang/rust/issues/29641#issuecomment-989103091",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29641",
    "id": 989103091,
    "node_id": "IC_kwDOAAsO6M469IPz",
    "user": {
      "login": "joshtriplett",
      "id": 162737,
      "node_id": "MDQ6VXNlcjE2MjczNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/162737?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/joshtriplett",
      "html_url": "https://github.com/joshtriplett",
      "followers_url": "https://api.github.com/users/joshtriplett/followers",
      "following_url": "https://api.github.com/users/joshtriplett/following{/other_user}",
      "gists_url": "https://api.github.com/users/joshtriplett/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/joshtriplett/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/joshtriplett/subscriptions",
      "organizations_url": "https://api.github.com/users/joshtriplett/orgs",
      "repos_url": "https://api.github.com/users/joshtriplett/repos",
      "events_url": "https://api.github.com/users/joshtriplett/events{/privacy}",
      "received_events_url": "https://api.github.com/users/joshtriplett/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2021-12-08T18:56:36Z",
    "updated_at": "2021-12-08T18:56:36Z",
    "body": "Marking Box patterns (in the literal sense of the `box` keyword) as perma-unstable. If there's forward progress here, it'd be under the auspices of \"deref patterns\".",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/989103091/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1203216939",
    "html_url": "https://github.com/rust-lang/rust/issues/29641#issuecomment-1203216939",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29641",
    "id": 1203216939,
    "node_id": "IC_kwDOAAsO6M5Ht6Ir",
    "user": {
      "login": "safinaskar",
      "id": 859494,
      "node_id": "MDQ6VXNlcjg1OTQ5NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/859494?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/safinaskar",
      "html_url": "https://github.com/safinaskar",
      "followers_url": "https://api.github.com/users/safinaskar/followers",
      "following_url": "https://api.github.com/users/safinaskar/following{/other_user}",
      "gists_url": "https://api.github.com/users/safinaskar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/safinaskar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/safinaskar/subscriptions",
      "organizations_url": "https://api.github.com/users/safinaskar/orgs",
      "repos_url": "https://api.github.com/users/safinaskar/repos",
      "events_url": "https://api.github.com/users/safinaskar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/safinaskar/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2022-08-02T21:09:30Z",
    "updated_at": "2022-08-02T21:09:30Z",
    "body": "@deontologician, @jonhoo, @jcotton42, @ice1000, @Robbepop, @nirvdrum, @bbqsrc and everybody else interested!\r\n\r\nI made proc macro library, which implements deref patterns right now, in stable Rust! \ud83c\udf89\r\n\r\nhttps://crates.io/crates/match_deref\r\n\r\nIt will work for any type, which implements Deref, for example Box, Rc and String.\r\n\r\nMy library is not drop-in replacement for box patterns, because I call Deref::deref internally, and Deref::deref takes a reference and returns a reference. I. e. with my lib you can do this: `match &Box::new(...) { Deref @ _ => ... }`, but you cannot do this: `match Box::new(...) { Deref @ _ => ... }`. I. e. moving a value out of a box is not supported.\r\n\r\nAlso currently there is no support for DerefMut and RefCell, but they can be trivially added. It is possible that I will add support for them (check periodically my lib on crates.io ). But you can simply download the code and just edit it in few places to get DerefMut and RefCell support",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1203216939/reactions",
      "total_count": 10,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 9,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1266374575",
    "html_url": "https://github.com/rust-lang/rust/issues/29641#issuecomment-1266374575",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29641",
    "id": 1266374575,
    "node_id": "IC_kwDOAAsO6M5Le1ev",
    "user": {
      "login": "KisaragiEffective",
      "id": 48310258,
      "node_id": "MDQ6VXNlcjQ4MzEwMjU4",
      "avatar_url": "https://avatars.githubusercontent.com/u/48310258?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/KisaragiEffective",
      "html_url": "https://github.com/KisaragiEffective",
      "followers_url": "https://api.github.com/users/KisaragiEffective/followers",
      "following_url": "https://api.github.com/users/KisaragiEffective/following{/other_user}",
      "gists_url": "https://api.github.com/users/KisaragiEffective/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/KisaragiEffective/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/KisaragiEffective/subscriptions",
      "organizations_url": "https://api.github.com/users/KisaragiEffective/orgs",
      "repos_url": "https://api.github.com/users/KisaragiEffective/repos",
      "events_url": "https://api.github.com/users/KisaragiEffective/events{/privacy}",
      "received_events_url": "https://api.github.com/users/KisaragiEffective/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2022-10-04T04:14:49Z",
    "updated_at": "2022-10-04T04:14:49Z",
    "body": "maybe create new gate `min_box_pattern` and think about only Box on there? Is there blocker to stabilize?",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1266374575/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1279683118",
    "html_url": "https://github.com/rust-lang/rust/issues/29641#issuecomment-1279683118",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29641",
    "id": 1279683118,
    "node_id": "IC_kwDOAAsO6M5MRmou",
    "user": {
      "login": "safinaskar",
      "id": 859494,
      "node_id": "MDQ6VXNlcjg1OTQ5NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/859494?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/safinaskar",
      "html_url": "https://github.com/safinaskar",
      "followers_url": "https://api.github.com/users/safinaskar/followers",
      "following_url": "https://api.github.com/users/safinaskar/following{/other_user}",
      "gists_url": "https://api.github.com/users/safinaskar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/safinaskar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/safinaskar/subscriptions",
      "organizations_url": "https://api.github.com/users/safinaskar/orgs",
      "repos_url": "https://api.github.com/users/safinaskar/repos",
      "events_url": "https://api.github.com/users/safinaskar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/safinaskar/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2022-10-15T07:20:06Z",
    "updated_at": "2022-10-15T07:24:58Z",
    "body": "@KisaragiEffective , there is already nearly-finished work for strings here: \r\nhttps://github.com/rust-lang/rust/pull/98914 . My opinion is this: we should create `DerefPure` as suggested in https://github.com/rust-lang/rust/pull/98914#issuecomment-1234545196 and then make String and Box both impls of DerefPure\r\n\r\nEdit: unfortunately, this will not add ability to move out of Box",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1279683118/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1399430625",
    "html_url": "https://github.com/rust-lang/rust/issues/29641#issuecomment-1399430625",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29641",
    "id": 1399430625,
    "node_id": "IC_kwDOAAsO6M5TaZ3h",
    "user": {
      "login": "tgross35",
      "id": 13724985,
      "node_id": "MDQ6VXNlcjEzNzI0OTg1",
      "avatar_url": "https://avatars.githubusercontent.com/u/13724985?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tgross35",
      "html_url": "https://github.com/tgross35",
      "followers_url": "https://api.github.com/users/tgross35/followers",
      "following_url": "https://api.github.com/users/tgross35/following{/other_user}",
      "gists_url": "https://api.github.com/users/tgross35/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tgross35/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tgross35/subscriptions",
      "organizations_url": "https://api.github.com/users/tgross35/orgs",
      "repos_url": "https://api.github.com/users/tgross35/repos",
      "events_url": "https://api.github.com/users/tgross35/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tgross35/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2023-01-22T08:36:24Z",
    "updated_at": "2023-02-03T20:23:08Z",
    "body": "For anyone hunting for info - this https://github.com/rust-lang/rust/issues/87121 is the tracking issue for deref patterns, which eliminate the need for `box_patterns`. So, `box_patterns` will eventually be deprecated and not stabilized.\r\n\r\nSupport will probably be added one by one for std types (String, Vec, Box, Rc, Arc) until a trait is decided upon that enables use on custom types like `DerefPure` (which could only be those where `deref` has no side effects, [per zulip](https://rust-lang.zulipchat.com/#narrow/stream/213817-t-lang/topic/box.20pattern.20.26.20box.20syntax/near/322819832)). It seems like it will be a while before we're able to use the result though, since the changes look pretty wide reaching - see the preliminary implementation for String https://github.com/rust-lang/rust/pull/98914 that merged somewhat recently\r\n\r\nEdit: couldn't find one anywhere, so here's a working example with the new string deref syntax:\r\n\r\n```rust\r\n#![feature(string_deref_patterns)]\r\n\r\nfn main() {\r\n    let s = String::from(\"this is a string\");\r\n    if let Some(\"this is a string\") = Some(s) {\r\n        println!(\"matches!\");\r\n    }\r\n}\r\n```",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1399430625/reactions",
      "total_count": 45,
      "+1": 37,
      "-1": 0,
      "laugh": 0,
      "hooray": 3,
      "confused": 0,
      "heart": 5,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
