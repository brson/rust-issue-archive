[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/153786273",
    "html_url": "https://github.com/rust-lang/rust/issues/20841#issuecomment-153786273",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20841",
    "id": 153786273,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1Mzc4NjI3Mw==",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-11-04T16:39:16Z",
    "updated_at": "2016-01-07T21:38:50Z",
    "body": "Triage: updated code\n\n``` rust\nfn do_async<F>(_cb: Box<F>) where F: FnOnce(&i32) {\n}\n\nfn do_async_unboxed<F>(cb: F) where F: FnOnce(&i32) {\n    do_async(Box::new(cb))\n}\n\nfn main() {\n    do_async_unboxed(|x| { println!(\"{}\", *x); });   // Ok\n    do_async(Box::new(|x| { println!(\"{}\", *x); }));  // ERROR the type of this value must be known in this context\n}\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/153786273/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/158754182",
    "html_url": "https://github.com/rust-lang/rust/issues/20841#issuecomment-158754182",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20841",
    "id": 158754182,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1ODc1NDE4Mg==",
    "user": {
      "login": "arielb1",
      "id": 1830974,
      "node_id": "MDQ6VXNlcjE4MzA5NzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1830974?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/arielb1",
      "html_url": "https://github.com/arielb1",
      "followers_url": "https://api.github.com/users/arielb1/followers",
      "following_url": "https://api.github.com/users/arielb1/following{/other_user}",
      "gists_url": "https://api.github.com/users/arielb1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/arielb1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/arielb1/subscriptions",
      "organizations_url": "https://api.github.com/users/arielb1/orgs",
      "repos_url": "https://api.github.com/users/arielb1/repos",
      "events_url": "https://api.github.com/users/arielb1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/arielb1/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-11-22T12:26:29Z",
    "updated_at": "2015-11-22T12:26:55Z",
    "body": "From my investigation, the problem is that we don't relate the return type of `Wrapper`/`Box::new` to the argument type of `api`, because we are afraid there might be a coercion involved. This means the bound information is not passed to the closure. We could try to be better here - cc @nikomatsakis @eddyb.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/158754182/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/158754211",
    "html_url": "https://github.com/rust-lang/rust/issues/20841#issuecomment-158754211",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20841",
    "id": 158754211,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1ODc1NDIxMQ==",
    "user": {
      "login": "arielb1",
      "id": 1830974,
      "node_id": "MDQ6VXNlcjE4MzA5NzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1830974?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/arielb1",
      "html_url": "https://github.com/arielb1",
      "followers_url": "https://api.github.com/users/arielb1/followers",
      "following_url": "https://api.github.com/users/arielb1/following{/other_user}",
      "gists_url": "https://api.github.com/users/arielb1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/arielb1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/arielb1/subscriptions",
      "organizations_url": "https://api.github.com/users/arielb1/orgs",
      "repos_url": "https://api.github.com/users/arielb1/repos",
      "events_url": "https://api.github.com/users/arielb1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/arielb1/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-11-22T12:27:23Z",
    "updated_at": "2015-11-22T12:27:23Z",
    "body": "Nominating as this is makes some API patterns horribly non-ergonomic.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/158754211/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/161791964",
    "html_url": "https://github.com/rust-lang/rust/issues/20841#issuecomment-161791964",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20841",
    "id": 161791964,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2MTc5MTk2NA==",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-12-03T21:37:14Z",
    "updated_at": "2015-12-03T21:37:14Z",
    "body": "triage: P-medium\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/161791964/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/161792039",
    "html_url": "https://github.com/rust-lang/rust/issues/20841#issuecomment-161792039",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20841",
    "id": 161792039,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2MTc5MjAzOQ==",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-12-03T21:37:31Z",
    "updated_at": "2015-12-03T21:37:31Z",
    "body": "I agree we could probably do better here. I'm not sure what precisely is going on or the current state of this coercion code though.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/161792039/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/165588594",
    "html_url": "https://github.com/rust-lang/rust/issues/20841#issuecomment-165588594",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20841",
    "id": 165588594,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2NTU4ODU5NA==",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-12-17T21:34:37Z",
    "updated_at": "2015-12-17T21:34:37Z",
    "body": "triage: P-medium\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/165588594/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/170024151",
    "html_url": "https://github.com/rust-lang/rust/issues/20841#issuecomment-170024151",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20841",
    "id": 170024151,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MDAyNDE1MQ==",
    "user": {
      "login": "eddyb",
      "id": 77424,
      "node_id": "MDQ6VXNlcjc3NDI0",
      "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eddyb",
      "html_url": "https://github.com/eddyb",
      "followers_url": "https://api.github.com/users/eddyb/followers",
      "following_url": "https://api.github.com/users/eddyb/following{/other_user}",
      "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions",
      "organizations_url": "https://api.github.com/users/eddyb/orgs",
      "repos_url": "https://api.github.com/users/eddyb/repos",
      "events_url": "https://api.github.com/users/eddyb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eddyb/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-01-08T14:58:11Z",
    "updated_at": "2016-01-08T14:58:11Z",
    "body": "``` rust\n// Works:\nfn foo<F: Fn(f32) -> f32>(_: F) {}\nfoo(|x| x.sin())\n\n// Why it works: the inference variables look like this:\nfoo::<$F>((|x: $A| x.sin()): $F)\n// Because $F: Fn(f32) -> f32, we can deduce $A: f32.\n```\n\n``` rust\n// Doesn't work:\nfn bar<F: Fn(f32) -> f32>(_: Option<F>) {}\nbar(Some(|x| x.sin()))\n\n// Why it doesn't work: the inference variables look like this:\nbar::<$F>(Some::<$T>((|x: $A| x.sin()): $T): Option<$F>)\n// Because Some: T -> Option<T>, we know that $T = $F.\n// But they are both inference variables, so we don't replace\n// one with the other, and $T: Fn(f32) -> f32 doesn't exist.\n```\n\nIf my analysis is correct, it should be possible to fix this bug by computing inference variable equivalence via union-find [instead of using simple equality](https://github.com/rust-lang/rust/blob/64a8ffeffaae2fe72994fb0832ae525346b8a3c0/src/librustc_typeck/check/closure.rs#L253).\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/170024151/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/170345126",
    "html_url": "https://github.com/rust-lang/rust/issues/20841#issuecomment-170345126",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20841",
    "id": 170345126,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MDM0NTEyNg==",
    "user": {
      "login": "arielb1",
      "id": 1830974,
      "node_id": "MDQ6VXNlcjE4MzA5NzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1830974?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/arielb1",
      "html_url": "https://github.com/arielb1",
      "followers_url": "https://api.github.com/users/arielb1/followers",
      "following_url": "https://api.github.com/users/arielb1/following{/other_user}",
      "gists_url": "https://api.github.com/users/arielb1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/arielb1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/arielb1/subscriptions",
      "organizations_url": "https://api.github.com/users/arielb1/orgs",
      "repos_url": "https://api.github.com/users/arielb1/repos",
      "events_url": "https://api.github.com/users/arielb1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/arielb1/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-01-10T13:42:18Z",
    "updated_at": "2016-01-10T13:42:18Z",
    "body": "@eddyb \n\nExcept that the variables are only related via a coercion.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/170345126/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/170345256",
    "html_url": "https://github.com/rust-lang/rust/issues/20841#issuecomment-170345256",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20841",
    "id": 170345256,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MDM0NTI1Ng==",
    "user": {
      "login": "arielb1",
      "id": 1830974,
      "node_id": "MDQ6VXNlcjE4MzA5NzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1830974?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/arielb1",
      "html_url": "https://github.com/arielb1",
      "followers_url": "https://api.github.com/users/arielb1/followers",
      "following_url": "https://api.github.com/users/arielb1/following{/other_user}",
      "gists_url": "https://api.github.com/users/arielb1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/arielb1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/arielb1/subscriptions",
      "organizations_url": "https://api.github.com/users/arielb1/orgs",
      "repos_url": "https://api.github.com/users/arielb1/repos",
      "events_url": "https://api.github.com/users/arielb1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/arielb1/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-01-10T13:42:54Z",
    "updated_at": "2016-01-10T13:42:54Z",
    "body": "That looks like a case of things being so loosely coupled they fall apart.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/170345256/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/170345797",
    "html_url": "https://github.com/rust-lang/rust/issues/20841#issuecomment-170345797",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20841",
    "id": 170345797,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MDM0NTc5Nw==",
    "user": {
      "login": "eddyb",
      "id": 77424,
      "node_id": "MDQ6VXNlcjc3NDI0",
      "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eddyb",
      "html_url": "https://github.com/eddyb",
      "followers_url": "https://api.github.com/users/eddyb/followers",
      "following_url": "https://api.github.com/users/eddyb/following{/other_user}",
      "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions",
      "organizations_url": "https://api.github.com/users/eddyb/orgs",
      "repos_url": "https://api.github.com/users/eddyb/repos",
      "events_url": "https://api.github.com/users/eddyb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eddyb/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-01-10T13:44:23Z",
    "updated_at": "2016-01-10T14:18:21Z",
    "body": "@arielb1 There's no coercion magic going on, this is the \"expected\" type being propagated down. Coercions are applied _after_ the type is known. ~~Try replacing the strict equality with equivalence and it should just start working.~~\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/170345797/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/170347845",
    "html_url": "https://github.com/rust-lang/rust/issues/20841#issuecomment-170347845",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20841",
    "id": 170347845,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MDM0Nzg0NQ==",
    "user": {
      "login": "arielb1",
      "id": 1830974,
      "node_id": "MDQ6VXNlcjE4MzA5NzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1830974?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/arielb1",
      "html_url": "https://github.com/arielb1",
      "followers_url": "https://api.github.com/users/arielb1/followers",
      "following_url": "https://api.github.com/users/arielb1/following{/other_user}",
      "gists_url": "https://api.github.com/users/arielb1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/arielb1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/arielb1/subscriptions",
      "organizations_url": "https://api.github.com/users/arielb1/orgs",
      "repos_url": "https://api.github.com/users/arielb1/repos",
      "events_url": "https://api.github.com/users/arielb1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/arielb1/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-01-10T13:49:13Z",
    "updated_at": "2016-01-10T13:49:13Z",
    "body": "I mean, we don't equate `$T` and `$F`, but rather we will coerce them _after_ the call is type-checked.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/170347845/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/170348170",
    "html_url": "https://github.com/rust-lang/rust/issues/20841#issuecomment-170348170",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20841",
    "id": 170348170,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MDM0ODE3MA==",
    "user": {
      "login": "eddyb",
      "id": 77424,
      "node_id": "MDQ6VXNlcjc3NDI0",
      "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eddyb",
      "html_url": "https://github.com/eddyb",
      "followers_url": "https://api.github.com/users/eddyb/followers",
      "following_url": "https://api.github.com/users/eddyb/following{/other_user}",
      "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions",
      "organizations_url": "https://api.github.com/users/eddyb/orgs",
      "repos_url": "https://api.github.com/users/eddyb/repos",
      "events_url": "https://api.github.com/users/eddyb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eddyb/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-01-10T13:49:39Z",
    "updated_at": "2016-01-10T13:49:39Z",
    "body": "@arielb1 We do to obtain the expected type for the arguments of a call.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/170348170/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/170349435",
    "html_url": "https://github.com/rust-lang/rust/issues/20841#issuecomment-170349435",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20841",
    "id": 170349435,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MDM0OTQzNQ==",
    "user": {
      "login": "arielb1",
      "id": 1830974,
      "node_id": "MDQ6VXNlcjE4MzA5NzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1830974?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/arielb1",
      "html_url": "https://github.com/arielb1",
      "followers_url": "https://api.github.com/users/arielb1/followers",
      "following_url": "https://api.github.com/users/arielb1/following{/other_user}",
      "gists_url": "https://api.github.com/users/arielb1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/arielb1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/arielb1/subscriptions",
      "organizations_url": "https://api.github.com/users/arielb1/orgs",
      "repos_url": "https://api.github.com/users/arielb1/repos",
      "events_url": "https://api.github.com/users/arielb1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/arielb1/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-01-10T13:53:32Z",
    "updated_at": "2016-01-10T13:53:32Z",
    "body": "@eddyb \n\nThat would be a subtype relation, which is destroyed by the `commit_regions_if_ok` call.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/170349435/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/170352547",
    "html_url": "https://github.com/rust-lang/rust/issues/20841#issuecomment-170352547",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20841",
    "id": 170352547,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MDM1MjU0Nw==",
    "user": {
      "login": "eddyb",
      "id": 77424,
      "node_id": "MDQ6VXNlcjc3NDI0",
      "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eddyb",
      "html_url": "https://github.com/eddyb",
      "followers_url": "https://api.github.com/users/eddyb/followers",
      "following_url": "https://api.github.com/users/eddyb/following{/other_user}",
      "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions",
      "organizations_url": "https://api.github.com/users/eddyb/orgs",
      "repos_url": "https://api.github.com/users/eddyb/repos",
      "events_url": "https://api.github.com/users/eddyb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eddyb/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-01-10T14:18:04Z",
    "updated_at": "2016-01-10T14:19:17Z",
    "body": "@arielb1  Let's try to be clearer using pseudosyntax:\n\n``` rust\n// Initial expression.\nbar(Some((|x| x.sin())))\n// Add type variables for bar.\nbar::<$F>(Some((|x| x.sin())))\n// Propagate expected type from signature of bar.\nbar::<$F>(Some((|x| x.sin())) expects Option<$F>)\n// Add type variables for Some.\nbar::<$F>(Some::<$T>((|x| x.sin())))\n// Propagate expected type from signature of Some.\nbar::<$F>(Some::<$T>((|x| x.sin()) expects $T) expects Option<$F>)\n```\n\nWell, that's embarrassing, turns out I was being unreasonable. A relationship between `$T` and `$F` cannot exist before assigning the actual types.\n\nPresumably it might be possible to end up with:\n\n``` rust\nbar::<$F>(Some::<$T>((|x| x.sin()) expects $F) expects Option<$F>)\n```\n\nWhat confused me was that the following snippet ~~works~~ seemed to work when I tried it initially:\n\n``` rust\nfn foo<F: Fn(f32) -> f32>(_: F) {}\nfn id<T>(x: T) -> T {x}\nfoo(id(|x| x.sin()))\n```\n\nGiven that it doesn't _actually_ work, it's a better testcase.\nIf we end up with:\n\n``` rust\nfoo::<$F>(id::<$T>((|x| x.sin()) expects $F) expects $F)\n```\n\nThen that would work, but consider:\n\n``` rust\nfn foo<F>(_: F) {}\nfn id<T: Fn(f32) -> f32>(x: T) -> T {x}\nfoo(id(|x| x.sin()))\n```\n\nWhere `$T` has the `Fn` bound but `$F` doesn't.\n\n@arielb1 @nikomatsakis Would it make sense to have a set of inference variable \"assignments\" used for the expected type?\nSo that `$T = $F` is known but doesn't affect code which doesn't explicitly deal with expected types, as we _only_ need to know that `X: Fn(f32) -> f32` applies to the closure whether `X` is `$F` or `$T`.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/170352547/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/170510176",
    "html_url": "https://github.com/rust-lang/rust/issues/20841#issuecomment-170510176",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20841",
    "id": 170510176,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MDUxMDE3Ng==",
    "user": {
      "login": "arielb1",
      "id": 1830974,
      "node_id": "MDQ6VXNlcjE4MzA5NzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1830974?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/arielb1",
      "html_url": "https://github.com/arielb1",
      "followers_url": "https://api.github.com/users/arielb1/followers",
      "following_url": "https://api.github.com/users/arielb1/following{/other_user}",
      "gists_url": "https://api.github.com/users/arielb1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/arielb1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/arielb1/subscriptions",
      "organizations_url": "https://api.github.com/users/arielb1/orgs",
      "repos_url": "https://api.github.com/users/arielb1/repos",
      "events_url": "https://api.github.com/users/arielb1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/arielb1/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-01-11T11:07:47Z",
    "updated_at": "2016-01-11T11:07:47Z",
    "body": "@eddyb \n\nThat might fix this, but it may cause confusing issues if a coercion were actually to occur. Maybe have hints solely for closure inference? That looks like a hack.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/170510176/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/170608107",
    "html_url": "https://github.com/rust-lang/rust/issues/20841#issuecomment-170608107",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20841",
    "id": 170608107,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MDYwODEwNw==",
    "user": {
      "login": "eddyb",
      "id": 77424,
      "node_id": "MDQ6VXNlcjc3NDI0",
      "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eddyb",
      "html_url": "https://github.com/eddyb",
      "followers_url": "https://api.github.com/users/eddyb/followers",
      "following_url": "https://api.github.com/users/eddyb/following{/other_user}",
      "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions",
      "organizations_url": "https://api.github.com/users/eddyb/orgs",
      "repos_url": "https://api.github.com/users/eddyb/repos",
      "events_url": "https://api.github.com/users/eddyb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eddyb/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-01-11T16:32:38Z",
    "updated_at": "2016-01-11T16:32:38Z",
    "body": "@arielb1 Nothing other than closure inference looks at bounds which refer to the expected type, AFAICT.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/170608107/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/333318694",
    "html_url": "https://github.com/rust-lang/rust/issues/20841#issuecomment-333318694",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20841",
    "id": 333318694,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMzMxODY5NA==",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-09-30T16:13:42Z",
    "updated_at": "2017-09-30T16:13:42Z",
    "body": "Triage: not aware of any movement on this issue",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/333318694/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1073812269",
    "html_url": "https://github.com/rust-lang/rust/issues/20841#issuecomment-1073812269",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20841",
    "id": 1073812269,
    "node_id": "IC_kwDOAAsO6M5AARMt",
    "user": {
      "login": "Spoonbender",
      "id": 6010433,
      "node_id": "MDQ6VXNlcjYwMTA0MzM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6010433?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Spoonbender",
      "html_url": "https://github.com/Spoonbender",
      "followers_url": "https://api.github.com/users/Spoonbender/followers",
      "following_url": "https://api.github.com/users/Spoonbender/following{/other_user}",
      "gists_url": "https://api.github.com/users/Spoonbender/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Spoonbender/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Spoonbender/subscriptions",
      "organizations_url": "https://api.github.com/users/Spoonbender/orgs",
      "repos_url": "https://api.github.com/users/Spoonbender/repos",
      "events_url": "https://api.github.com/users/Spoonbender/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Spoonbender/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2022-03-21T12:04:05Z",
    "updated_at": "2022-03-21T12:04:05Z",
    "body": "Triage: still reproduces on 2021 edition, tested using `rustc 1.59.0 (9d1b2106e 2022-02-23)`",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1073812269/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
