[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/231570098",
    "html_url": "https://github.com/rust-lang/rust/issues/24189#issuecomment-231570098",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24189",
    "id": 231570098,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzMTU3MDA5OA==",
    "user": {
      "login": "orthecreedence",
      "id": 220134,
      "node_id": "MDQ6VXNlcjIyMDEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/220134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/orthecreedence",
      "html_url": "https://github.com/orthecreedence",
      "followers_url": "https://api.github.com/users/orthecreedence/followers",
      "following_url": "https://api.github.com/users/orthecreedence/following{/other_user}",
      "gists_url": "https://api.github.com/users/orthecreedence/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/orthecreedence/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/orthecreedence/subscriptions",
      "organizations_url": "https://api.github.com/users/orthecreedence/orgs",
      "repos_url": "https://api.github.com/users/orthecreedence/repos",
      "events_url": "https://api.github.com/users/orthecreedence/events{/privacy}",
      "received_events_url": "https://api.github.com/users/orthecreedence/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-07-10T04:28:34Z",
    "updated_at": "2016-07-10T04:39:45Z",
    "body": "@andersk Did you ever find a workaround for this? I'm trying to write a macro that parses structs and I'm running into this:\n\n``` rust\nmacro_rules! serializable {\n    (\n        $(#[$struct_meta:meta])*\n        pub struct $name:ident {\n            $(\n                $(#[$field_meta:meta])*\n                $field:ident: $type_:ty\n            ),* ,\n        }\n    ) => {\n        $(#[$struct_meta])*\n        pub struct $name {\n            $(\n                $(#[$field_meta])*\n               $field: $type_\n            ),* ,\n        }\n    }\n}\n\nserializable! {\n    #[allow(dead_code)]\n    /// This is a test\n    pub struct Tester {\n        #[allow(dead_code)]\n        name: String,\n    }\n}\n```\n\nYields: \n\n```\nsrc\\util\\serialization.rs:180:13: 180:14 error: local ambiguity: multiple parsing options: built-in NTs ident ('field') or 1 other option.\nsrc\\util\\serialization.rs:180             #[allow(dead_code)]\n                                          ^\n\n```\n\n`rustc 1.10.0 (cfcb716cf 2016-07-03)`\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/231570098/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/231570485",
    "html_url": "https://github.com/rust-lang/rust/issues/24189#issuecomment-231570485",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24189",
    "id": 231570485,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzMTU3MDQ4NQ==",
    "user": {
      "login": "orthecreedence",
      "id": 220134,
      "node_id": "MDQ6VXNlcjIyMDEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/220134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/orthecreedence",
      "html_url": "https://github.com/orthecreedence",
      "followers_url": "https://api.github.com/users/orthecreedence/followers",
      "following_url": "https://api.github.com/users/orthecreedence/following{/other_user}",
      "gists_url": "https://api.github.com/users/orthecreedence/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/orthecreedence/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/orthecreedence/subscriptions",
      "organizations_url": "https://api.github.com/users/orthecreedence/orgs",
      "repos_url": "https://api.github.com/users/orthecreedence/repos",
      "events_url": "https://api.github.com/users/orthecreedence/events{/privacy}",
      "received_events_url": "https://api.github.com/users/orthecreedence/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-07-10T04:43:08Z",
    "updated_at": "2016-07-10T04:44:37Z",
    "body": "Actually, this issue looks like the exact same as https://github.com/rust-lang/rust/issues/24827\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/231570485/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/250389367",
    "html_url": "https://github.com/rust-lang/rust/issues/24189#issuecomment-250389367",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24189",
    "id": 250389367,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1MDM4OTM2Nw==",
    "user": {
      "login": "azriel91",
      "id": 2993230,
      "node_id": "MDQ6VXNlcjI5OTMyMzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2993230?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/azriel91",
      "html_url": "https://github.com/azriel91",
      "followers_url": "https://api.github.com/users/azriel91/followers",
      "following_url": "https://api.github.com/users/azriel91/following{/other_user}",
      "gists_url": "https://api.github.com/users/azriel91/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/azriel91/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/azriel91/subscriptions",
      "organizations_url": "https://api.github.com/users/azriel91/orgs",
      "repos_url": "https://api.github.com/users/azriel91/repos",
      "events_url": "https://api.github.com/users/azriel91/events{/privacy}",
      "received_events_url": "https://api.github.com/users/azriel91/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-09-29T07:16:07Z",
    "updated_at": "2016-09-29T07:16:07Z",
    "body": "I managed to implement a workaround while writing a builder macro, which is to have two parts:\n- keep matching on the front token as a `meta` token, save that into a separate place, and recursively call yourself, passing the rest of the tokens\n- have another rule that matches on the final pattern that no longer has meta attributes\n\nSee code at [test.rs](https://github.com/azriel91/builder_macro/blob/ccd1addb7bc33152914d0325cdaccf9ddb28f8b9/test.rs#L75-L86) (sorry for ugliness, this was a proof of concept which evolved a lot).\n\nI'll convert that to a proper crate and document it this weekend.\n\nExample output for `FiveBuilder => Five`\n\n``` rust\n    #[doc =\n          r\" hello everyone\"]\n    struct Five {\n        #[doc = r\" doc for i32\"]\n        something: i32,\n    }\n    #[doc = \"Generated struct builder\"]\n    struct FiveBuilder {\n        #[doc = r\" doc for i32\"]\n        something: Option<i32>,\n    }\n    impl FiveBuilder {\n        /// Construct the builder\n        pub fn new() -> FiveBuilder { FiveBuilder{something: Some(0),} }\n        /// Build the struct\n        pub fn build(self) -> Five {\n            let something = self.something.unwrap();\n            Five{something: something,}\n        }\n        #[allow(dead_code)]\n        /// Specify a value for the $F_NAME field\n        fn something(mut self, value: i32) -> Self {\n            self.something = Some(value);\n            self\n        }\n    }\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/250389367/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/271254297",
    "html_url": "https://github.com/rust-lang/rust/issues/24189#issuecomment-271254297",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24189",
    "id": 271254297,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTI1NDI5Nw==",
    "user": {
      "login": "andersk",
      "id": 26471,
      "node_id": "MDQ6VXNlcjI2NDcx",
      "avatar_url": "https://avatars.githubusercontent.com/u/26471?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/andersk",
      "html_url": "https://github.com/andersk",
      "followers_url": "https://api.github.com/users/andersk/followers",
      "following_url": "https://api.github.com/users/andersk/following{/other_user}",
      "gists_url": "https://api.github.com/users/andersk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/andersk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/andersk/subscriptions",
      "organizations_url": "https://api.github.com/users/andersk/orgs",
      "repos_url": "https://api.github.com/users/andersk/repos",
      "events_url": "https://api.github.com/users/andersk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/andersk/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-01-09T10:41:35Z",
    "updated_at": "2017-01-09T10:41:35Z",
    "body": "@orthecreedence: #24827 has idents conflicting with other idents; those conflicts are \u201clegitimate\u201d, given Rust\u2019s left-to-right parsing strategy. In contrast, this is about idents conflicting with tokens that cannot possibly be idents. Simpler example, showing that rustc can\u2019t determine that (e.g.) `>` is not an ident:\r\n\r\n```rust\r\nmacro_rules! foo {\r\n    ( $( > )* $x:ident ) => { };\r\n}\r\nfoo!( > a );\r\n```\r\n\r\n```\r\nerror: local ambiguity: multiple parsing options: built-in NTs ident ('x') or 1 other option.\r\n --> foo.rs:4:7\r\n  |\r\n4 | foo!( > a );\r\n  |       ^\r\n```\r\n\r\nIt seems like the same thing happens with any token in place of `>`.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/271254297/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/303580100",
    "html_url": "https://github.com/rust-lang/rust/issues/24189#issuecomment-303580100",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24189",
    "id": 303580100,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMzU4MDEwMA==",
    "user": {
      "login": "beamspease",
      "id": 12635611,
      "node_id": "MDQ6VXNlcjEyNjM1NjEx",
      "avatar_url": "https://avatars.githubusercontent.com/u/12635611?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/beamspease",
      "html_url": "https://github.com/beamspease",
      "followers_url": "https://api.github.com/users/beamspease/followers",
      "following_url": "https://api.github.com/users/beamspease/following{/other_user}",
      "gists_url": "https://api.github.com/users/beamspease/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/beamspease/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/beamspease/subscriptions",
      "organizations_url": "https://api.github.com/users/beamspease/orgs",
      "repos_url": "https://api.github.com/users/beamspease/repos",
      "events_url": "https://api.github.com/users/beamspease/events{/privacy}",
      "received_events_url": "https://api.github.com/users/beamspease/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-05-24T00:29:26Z",
    "updated_at": "2017-05-24T00:29:26Z",
    "body": "I'm running into an error in enum_primitive that according to the bug report is blocked on this issue",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/303580100/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/314522545",
    "html_url": "https://github.com/rust-lang/rust/issues/24189#issuecomment-314522545",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24189",
    "id": 314522545,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNDUyMjU0NQ==",
    "user": {
      "login": "Yamakaky",
      "id": 1327378,
      "node_id": "MDQ6VXNlcjEzMjczNzg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1327378?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yamakaky",
      "html_url": "https://github.com/Yamakaky",
      "followers_url": "https://api.github.com/users/Yamakaky/followers",
      "following_url": "https://api.github.com/users/Yamakaky/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yamakaky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yamakaky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yamakaky/subscriptions",
      "organizations_url": "https://api.github.com/users/Yamakaky/orgs",
      "repos_url": "https://api.github.com/users/Yamakaky/repos",
      "events_url": "https://api.github.com/users/Yamakaky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yamakaky/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-07-11T17:53:51Z",
    "updated_at": "2017-07-11T17:54:01Z",
    "body": "So this issue is solved? (at least on nightly)",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/314522545/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/314526682",
    "html_url": "https://github.com/rust-lang/rust/issues/24189#issuecomment-314526682",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24189",
    "id": 314526682,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNDUyNjY4Mg==",
    "user": {
      "login": "andersk",
      "id": 26471,
      "node_id": "MDQ6VXNlcjI2NDcx",
      "avatar_url": "https://avatars.githubusercontent.com/u/26471?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/andersk",
      "html_url": "https://github.com/andersk",
      "followers_url": "https://api.github.com/users/andersk/followers",
      "following_url": "https://api.github.com/users/andersk/following{/other_user}",
      "gists_url": "https://api.github.com/users/andersk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/andersk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/andersk/subscriptions",
      "organizations_url": "https://api.github.com/users/andersk/orgs",
      "repos_url": "https://api.github.com/users/andersk/repos",
      "events_url": "https://api.github.com/users/andersk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/andersk/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-07-11T18:09:00Z",
    "updated_at": "2017-07-11T18:09:00Z",
    "body": "@Yamakaky It\u2019s marked as closed, isn\u2019t it? But you\u2019ll have to wait for the 2017-07-11 nightly, which hasn\u2019t been built yet.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/314526682/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
