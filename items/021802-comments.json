[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/72310602",
    "html_url": "https://github.com/rust-lang/rust/issues/21802#issuecomment-72310602",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21802",
    "id": 72310602,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyMzEwNjAy",
    "user": {
      "login": "abonander",
      "id": 3198595,
      "node_id": "MDQ6VXNlcjMxOTg1OTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3198595?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/abonander",
      "html_url": "https://github.com/abonander",
      "followers_url": "https://api.github.com/users/abonander/followers",
      "following_url": "https://api.github.com/users/abonander/following{/other_user}",
      "gists_url": "https://api.github.com/users/abonander/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/abonander/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/abonander/subscriptions",
      "organizations_url": "https://api.github.com/users/abonander/orgs",
      "repos_url": "https://api.github.com/users/abonander/repos",
      "events_url": "https://api.github.com/users/abonander/events{/privacy}",
      "received_events_url": "https://api.github.com/users/abonander/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-31T09:15:05Z",
    "updated_at": "2015-01-31T09:15:05Z",
    "body": "This is because `UnsafeCell` does not implement `Send` nor `Sync`, both of which are required for `Weak::upgrade()`. `UnsafeCell` is not meant to be used across threads and thus cannot be used this way.\n\nIf you don't need to send the `UnsafeCell` across threads then you can use `Rc` instead of `Arc`, which does not have these requirements and can be used with `UnsafeCell`. Otherwise, you should probably use the safe interfaces exposed by `Mutex` and `RWLock`.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/72310602/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/72311503",
    "html_url": "https://github.com/rust-lang/rust/issues/21802#issuecomment-72311503",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21802",
    "id": 72311503,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyMzExNTAz",
    "user": {
      "login": "egmkang",
      "id": 65175,
      "node_id": "MDQ6VXNlcjY1MTc1",
      "avatar_url": "https://avatars.githubusercontent.com/u/65175?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/egmkang",
      "html_url": "https://github.com/egmkang",
      "followers_url": "https://api.github.com/users/egmkang/followers",
      "following_url": "https://api.github.com/users/egmkang/following{/other_user}",
      "gists_url": "https://api.github.com/users/egmkang/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/egmkang/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/egmkang/subscriptions",
      "organizations_url": "https://api.github.com/users/egmkang/orgs",
      "repos_url": "https://api.github.com/users/egmkang/repos",
      "events_url": "https://api.github.com/users/egmkang/events{/privacy}",
      "received_events_url": "https://api.github.com/users/egmkang/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-31T09:49:09Z",
    "updated_at": "2015-01-31T09:51:52Z",
    "body": "You mean i cannot use `UnsafeCell` or `RefCell` to implement a cpp style `shared_ptr`, because which cannot work through threads?\nBut if i want a container like `Key =>  shared_ptr<Value>`, how can i solve this problem in rust?\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/72311503/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/72311862",
    "html_url": "https://github.com/rust-lang/rust/issues/21802#issuecomment-72311862",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21802",
    "id": 72311862,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyMzExODYy",
    "user": {
      "login": "abonander",
      "id": 3198595,
      "node_id": "MDQ6VXNlcjMxOTg1OTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3198595?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/abonander",
      "html_url": "https://github.com/abonander",
      "followers_url": "https://api.github.com/users/abonander/followers",
      "following_url": "https://api.github.com/users/abonander/following{/other_user}",
      "gists_url": "https://api.github.com/users/abonander/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/abonander/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/abonander/subscriptions",
      "organizations_url": "https://api.github.com/users/abonander/orgs",
      "repos_url": "https://api.github.com/users/abonander/repos",
      "events_url": "https://api.github.com/users/abonander/events{/privacy}",
      "received_events_url": "https://api.github.com/users/abonander/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-31T10:02:50Z",
    "updated_at": "2015-01-31T10:03:26Z",
    "body": "`Arc` itself does basically what `shared_ptr` does, however you have to keep in mind that it will not give you a mutable reference to the object. `shared_ptr` is an unsafe, racy construct that would have little use in safe Rust. If you want to access an object mutably across threads you'll want a `Mutex` wrapped in an `Arc`.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/72311862/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/72312102",
    "html_url": "https://github.com/rust-lang/rust/issues/21802#issuecomment-72312102",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21802",
    "id": 72312102,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyMzEyMTAy",
    "user": {
      "login": "egmkang",
      "id": 65175,
      "node_id": "MDQ6VXNlcjY1MTc1",
      "avatar_url": "https://avatars.githubusercontent.com/u/65175?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/egmkang",
      "html_url": "https://github.com/egmkang",
      "followers_url": "https://api.github.com/users/egmkang/followers",
      "following_url": "https://api.github.com/users/egmkang/following{/other_user}",
      "gists_url": "https://api.github.com/users/egmkang/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/egmkang/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/egmkang/subscriptions",
      "organizations_url": "https://api.github.com/users/egmkang/orgs",
      "repos_url": "https://api.github.com/users/egmkang/repos",
      "events_url": "https://api.github.com/users/egmkang/events{/privacy}",
      "received_events_url": "https://api.github.com/users/egmkang/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-31T10:11:53Z",
    "updated_at": "2015-01-31T10:11:53Z",
    "body": "yes. threads modify one object is not safe; but threads copy one shared_ptr/weak_ptr object is thread safe.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/72312102/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/72312453",
    "html_url": "https://github.com/rust-lang/rust/issues/21802#issuecomment-72312453",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21802",
    "id": 72312453,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyMzEyNDUz",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-31T10:24:06Z",
    "updated_at": "2015-01-31T10:24:06Z",
    "body": "I am giving this issue a close, because it is not a bug.\n\nI would suggest moving this discussion to users.rust-lang.org or StackOverflow, thank you!\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/72312453/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
