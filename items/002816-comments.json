[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/6793774",
    "html_url": "https://github.com/rust-lang/rust/issues/2816#issuecomment-6793774",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/2816",
    "id": 6793774,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3OTM3NzQ=",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-07-05T23:33:08Z",
    "updated_at": "2012-07-05T23:33:08Z",
    "body": "I think there is an expressiveness problem when it comes to sendable data structures.  Typically you want to be able to mutate and iterate over such structures, and both without copying.\n\nRight now the only real way to write such data structures is to make all of their internals swappable.  Iteration can then swap out to the stack as needed.  This guarantees that no mutation will occur during iteration because it would encounter swapped out data and fail.  It's crude and pushes errors to runtime, but it \"works\" in the sense that the compiler accepts it.\n\nI think there could be a better way to adjust how we think about mutability and unique pointers.  This is kind of half-baked at the moment so I probably ought to sit down and try to write up a blog post.  But the basic problem seems to be that if you have, say, a linked list of unique pointers, you'd like to be able to have an iteration method which expresses the idea that this list must be immutable (for the duration of the iteration) and a insert method which expresses the idea that the list must be mutable (for the duration of the insert).  Borrow check can do these sorts of guarantees in a limited sense but it doesn't work for chains of unique pointers of arbitrary lengths.  I think however it could be made to do so.  This is certainly related to the ideas of freezing and thawing.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/6793774/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/7485647",
    "html_url": "https://github.com/rust-lang/rust/issues/2816#issuecomment-7485647",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/2816",
    "id": 7485647,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc0ODU2NDc=",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-08-03T15:06:33Z",
    "updated_at": "2012-08-03T15:06:33Z",
    "body": "I think this is fixed, basically? The `send_map` module shows how this can work. Re-open if you disagree.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/7485647/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/7490152",
    "html_url": "https://github.com/rust-lang/rust/issues/2816#issuecomment-7490152",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/2816",
    "id": 7490152,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc0OTAxNTI=",
    "user": {
      "login": "bblum",
      "id": 1820515,
      "node_id": "MDQ6VXNlcjE4MjA1MTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1820515?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bblum",
      "html_url": "https://github.com/bblum",
      "followers_url": "https://api.github.com/users/bblum/followers",
      "following_url": "https://api.github.com/users/bblum/following{/other_user}",
      "gists_url": "https://api.github.com/users/bblum/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bblum/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bblum/subscriptions",
      "organizations_url": "https://api.github.com/users/bblum/orgs",
      "repos_url": "https://api.github.com/users/bblum/repos",
      "events_url": "https://api.github.com/users/bblum/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bblum/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-08-03T18:16:14Z",
    "updated_at": "2012-08-03T18:16:14Z",
    "body": "sounds fine. I guess I was envisioning a separate sendable version for each data structure (and that development might expose more deficiencies in the region system)... but that's probably way far off in the future.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/7490152/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/7495413",
    "html_url": "https://github.com/rust-lang/rust/issues/2816#issuecomment-7495413",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/2816",
    "id": 7495413,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc0OTU0MTM=",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-08-03T21:40:54Z",
    "updated_at": "2012-08-03T21:40:54Z",
    "body": "I would like to have all the base data structures be sendable, with the exception of those for which it doesn't make much sense (e.g., `std::list`)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/7495413/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
