[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/10611613",
    "html_url": "https://github.com/rust-lang/rust/pull/4013#issuecomment-10611613",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/4013",
    "id": 10611613,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNjExNjEz",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-11-21T19:50:02Z",
    "updated_at": "2012-11-21T19:50:02Z",
    "body": "I think this change is a bit incomplete.  You want to adjust (at least):\n- `middle::mem_categorization::opt_deref_kind()`, which should probably treat `@[]` and `@mut[]` the same way\n- `middle::ty::index_sty` which, in the case of `vstore_mut_box`, should override the mutability in `mt` for the returned value\n\nIn general it might be good to ack for `vstore_box` and make sure that `vstore_mut_box` is handled in each case (I did not do this, those were just two things that I thought ought to be changed off the top of my head).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/10611613/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/10611637",
    "html_url": "https://github.com/rust-lang/rust/pull/4013#issuecomment-10611637",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/4013",
    "id": 10611637,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNjExNjM3",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-11-21T19:50:43Z",
    "updated_at": "2012-11-21T19:50:43Z",
    "body": "Oh, and it'd be good to add a borrowck-related test that makes sure that `@[mut T]` and `@mut [T]` yield similar errors.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/10611637/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/10744283",
    "html_url": "https://github.com/rust-lang/rust/pull/4013#issuecomment-10744283",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/4013",
    "id": 10744283,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNzQ0Mjgz",
    "user": {
      "login": "pcwalton",
      "id": 157897,
      "node_id": "MDQ6VXNlcjE1Nzg5Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/157897?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pcwalton",
      "html_url": "https://github.com/pcwalton",
      "followers_url": "https://api.github.com/users/pcwalton/followers",
      "following_url": "https://api.github.com/users/pcwalton/following{/other_user}",
      "gists_url": "https://api.github.com/users/pcwalton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pcwalton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pcwalton/subscriptions",
      "organizations_url": "https://api.github.com/users/pcwalton/orgs",
      "repos_url": "https://api.github.com/users/pcwalton/repos",
      "events_url": "https://api.github.com/users/pcwalton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pcwalton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-11-27T02:47:29Z",
    "updated_at": "2012-11-27T02:47:29Z",
    "body": "@nikomatsakis There are two different `vstore_box`es: one for the AST (in `libsyntax::ast`) and one for the types (in `librustc::middle::ty`). I only changed the one in the AST; your comments apply to the one in the types.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/10744283/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/10744577",
    "html_url": "https://github.com/rust-lang/rust/pull/4013#issuecomment-10744577",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/4013",
    "id": 10744577,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNzQ0NTc3",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-11-27T03:03:25Z",
    "updated_at": "2012-11-27T03:03:25Z",
    "body": "I see.  I was confused.  That said, can you update the various tests to use the new syntax?\n\nHere's a quick list I found with `grep '\\[mut' *.rs`:\n\n```\nassign-super.rs:2:    let mut x: ~[mut int] = ~[mut 3];\nborrowck-assign-comp-idx.rs:4:    let mut p = ~[mut 1];\nborrowck-assign-comp-idx.rs:18:    let mut p = ~[mut 1];\nborrowck-assign-comp-idx.rs:28:    let mut p = ~[mut 1];\nborrowck-loan-vec-content.rs:10:    let v = ~[mut 1, 2, 3];\nborrowck-loan-vec-content.rs:16:    let v = ~[mut 1, 2, 3];\nborrowck-loan-vec-content.rs:27:    let v = ~[mut 1, 2, 3];\nborrowck-mut-slice-of-imm-vec.rs:1:fn write(v: &[mut int]) {\nborrowck-mut-vec-as-imm-slice-bad.rs:7:fn has_mut_vec(+v: @~[mut int]) -> int {\nborrowck-mut-vec-as-imm-slice-bad.rs:13:    assert has_mut_vec(@~[mut 1, 2, 3]) == 6;\nissue-2548.rs:26:        let mut v = ~[mut];\nissue-2548.rs:27:        v = move ~[mut (move res)] + v; //~ ERROR instantiating a type parameter with an incompatible type (needs `copy`, got `owned`, missing `copy`)\nlub-in-args.rs:4:    let x: ~[mut int] = ~[mut 3];\nmutable-huh-variance-box.rs:7:        *v = ~[mut 3]\nmutable-huh-variance-deep.rs:4:    let v = ~[mut @mut ~mut ~[0]];\nmutable-huh-variance-deep.rs:6:    fn f(&&v: ~[mut @mut ~mut ~[const int]]) {\nmutable-huh-variance-ptr.rs:11:            *v = ~[mut 3]\nmutable-huh-variance-rec.rs:7:        v.g = ~[mut 3]\nmutable-huh-variance-unique.rs:7:        *v = ~[mut 3]\nmutable-huh-variance-vec1.rs:4:    // and assigns a type of ~[mut ~[const int]].\nmutable-huh-variance-vec1.rs:5:    let v: ~[mut ~[int]] = ~[mut ~[0]];\nmutable-huh-variance-vec1.rs:7:    fn f(&&v: ~[mut ~[const int]]) {\nmutable-huh-variance-vec1.rs:8:        v[0] = ~[mut 3]\nmutable-huh-variance-vec2.rs:4:    // and assigns a type of ~[mut ~[const int]].\nmutable-huh-variance-vec2.rs:5:    let v: ~[mut ~[mut int]] = ~[mut ~[mut 0]];\nmutable-huh-variance-vec2.rs:7:    fn f(&&v: ~[mut ~[const int]]) {\nmutable-huh-variance-vec3.rs:4:    // and assigns a type of ~[mut ~[const int]].\nmutable-huh-variance-vec3.rs:5:    let v: ~[mut ~[mut ~[int]]] = ~[mut ~[mut ~[0]]];\nmutable-huh-variance-vec3.rs:7:    fn f(&&v: ~[mut ~[mut ~[const int]]]) {\nmutable-huh-variance-vec3.rs:8:        v[0][1] = ~[mut 3]\nmutable-huh-variance-vec4.rs:6:    let v = ~[mut ~[0]];\nmutable-huh-variance-vec4.rs:7:    let w = ~[mut ~[mut 0]];\nmutable-huh-variance-vec4.rs:8:    let x = ~[mut ~[mut 0]];\nmutable-huh-variance-vec4.rs:10:    fn f(&&v: ~[mut ~[int]]) {\nmutable-huh-variance-vec4.rs:17:    fn h(&&v: ~[mut ~[mut int]]) {\nmutable-huh-variance-vec4.rs:18:        v[0] = ~[mut 3]\nmutable-huh-variance-vec4.rs:21:    fn i(&&v: ~[mut ~[const int]]) {\nmutable-huh-variance-vec4.rs:22:        v[0] = ~[mut 3]\nmutable-huh-variance-vec4.rs:41:    // x to have the type ~[mut ~[const int]], and thus we can safely\nnon-const.rs:37:    foo(~[mut 1]); //~ ERROR missing `const`\nregions-infer-invariance-due-to-mutability-2.rs:2:    f: @[mut &int]\nvec-add.rs:7:fn add(i: ~[int], m: ~[mut int], c: ~[const int]) {\nvec-add.rs:17:   add(i + ~[mut 3],\nvec-add.rs:18:       m + ~[mut 3],\nvec-add.rs:19:       ~[mut 3]);\nvec-add.rs:47:   add(m + ~[mut 3], //~ ERROR mismatched types\nvec-add.rs:48:       m + ~[mut 3],\nvec-add.rs:49:       m + ~[mut 3]);\nvec-add.rs:51:   add(i + ~[mut 3],\nvec-add.rs:52:       i + ~[mut 3], //~ ERROR mismatched types\nvec-add.rs:53:       i + ~[mut 3]);\nvec-add.rs:55:   add(c + ~[mut 3], //~ ERROR binary operation + cannot be applied\nvec-add.rs:57:       c + ~[mut 3], //~ ERROR binary operation + cannot be applied\nvec-add.rs:59:       ~[mut 3]);\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/10744577/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/10744612",
    "html_url": "https://github.com/rust-lang/rust/pull/4013#issuecomment-10744612",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/4013",
    "id": 10744612,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNzQ0NjEy",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-11-27T03:05:08Z",
    "updated_at": "2012-11-27T03:05:08Z",
    "body": "r+ (though I think updating tests would be good)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/10744612/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/10744822",
    "html_url": "https://github.com/rust-lang/rust/pull/4013#issuecomment-10744822",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/4013",
    "id": 10744822,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNzQ0ODIy",
    "user": {
      "login": "pcwalton",
      "id": 157897,
      "node_id": "MDQ6VXNlcjE1Nzg5Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/157897?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pcwalton",
      "html_url": "https://github.com/pcwalton",
      "followers_url": "https://api.github.com/users/pcwalton/followers",
      "following_url": "https://api.github.com/users/pcwalton/following{/other_user}",
      "gists_url": "https://api.github.com/users/pcwalton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pcwalton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pcwalton/subscriptions",
      "organizations_url": "https://api.github.com/users/pcwalton/orgs",
      "repos_url": "https://api.github.com/users/pcwalton/repos",
      "events_url": "https://api.github.com/users/pcwalton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pcwalton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-11-27T03:16:59Z",
    "updated_at": "2012-11-27T03:16:59Z",
    "body": "re-r? @nikomatsakis \n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/10744822/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/10758430",
    "html_url": "https://github.com/rust-lang/rust/pull/4013#issuecomment-10758430",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/4013",
    "id": 10758430,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNzU4NDMw",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-11-27T13:52:16Z",
    "updated_at": "2012-11-27T13:52:16Z",
    "body": "r+\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/10758430/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
