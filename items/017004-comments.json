[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/71685501",
    "html_url": "https://github.com/rust-lang/rust/issues/17004#issuecomment-71685501",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/17004",
    "id": 71685501,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxNjg1NTAx",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-27T17:07:40Z",
    "updated_at": "2015-01-27T17:07:40Z",
    "body": "I'm not sure if this is still relevant with the closure changes or not. @nikomatsakis ? \n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/71685501/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/107016412",
    "html_url": "https://github.com/rust-lang/rust/issues/17004#issuecomment-107016412",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/17004",
    "id": 107016412,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNzAxNjQxMg==",
    "user": {
      "login": "bluss",
      "id": 3209739,
      "node_id": "MDQ6VXNlcjMyMDk3Mzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3209739?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bluss",
      "html_url": "https://github.com/bluss",
      "followers_url": "https://api.github.com/users/bluss/followers",
      "following_url": "https://api.github.com/users/bluss/following{/other_user}",
      "gists_url": "https://api.github.com/users/bluss/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bluss/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bluss/subscriptions",
      "organizations_url": "https://api.github.com/users/bluss/orgs",
      "repos_url": "https://api.github.com/users/bluss/repos",
      "events_url": "https://api.github.com/users/bluss/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bluss/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-30T09:24:45Z",
    "updated_at": "2015-05-30T09:24:45Z",
    "body": "I updated the code to Rust 1.0 as well as i could. Seems to produce the same errors. [(playpen link)](https://play.rust-lang.org/?gist=3fb6b24cfda30003b396&version=stable)\n\n``` rust\nenum Chain<'a:'b, 'b> {\n    Base(&'a i32),\n    Rec(&'a i32, &'b Chain<'a,'b>)\n}\n\nfn call_with_rec<'a, 'b, F>(c: Chain<'a, 'b>,\n                         x: &'a i32,\n                         f: F) where F: for<'c> Fn(Chain<'a, 'c>) {\n    f(Chain::Rec(x, &c))\n}\n\nfn main() {\n    let x = 0;\n    let y = 0;\n\n    call_with_rec(Chain::Base(&x), &y, |mut inner| {\n        loop {\n            match inner {\n                Chain::Base(&x) => {\n                    println!(\"Base({})\", x);\n                    break;\n                },\n                Chain::Rec(&x, &p) => {\n                    println!(\"Rec({})\", x);\n                    inner = p;\n                }\n            }\n        }\n    });\n}\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/107016412/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/263697685",
    "html_url": "https://github.com/rust-lang/rust/issues/17004#issuecomment-263697685",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/17004",
    "id": 263697685,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MzY5NzY4NQ==",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-11-29T21:02:13Z",
    "updated_at": "2016-11-29T21:02:13Z",
    "body": "The updated version now fails with 'cannot move out of borrowed content', which feels right.\r\n\r\n@bkoropoff if you're still seeing this in some form, please let me know, but closing until then.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/263697685/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/444633715",
    "html_url": "https://github.com/rust-lang/rust/issues/17004#issuecomment-444633715",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/17004",
    "id": 444633715,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0NDYzMzcxNQ==",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-12-05T20:25:34Z",
    "updated_at": "2018-12-05T20:25:34Z",
    "body": "hmm. At this bug was originally filed, didn't we infer `Copy` for data types? Which would mean the appropriate update to 1.0 code would include a `#[derive(Copy, Clone)]` ?",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/444633715/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/444634557",
    "html_url": "https://github.com/rust-lang/rust/issues/17004#issuecomment-444634557",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/17004",
    "id": 444634557,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0NDYzNDU1Nw==",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-12-05T20:28:02Z",
    "updated_at": "2018-12-05T20:29:29Z",
    "body": "having said that, this attempt to update the code in the aforementioned manner also does not seem to replicate the bug anymore. Huzzah?\r\n\r\n[play](https://play.rust-lang.org/?version=nightly&mode=debug&edition=2015&gist=b49494213a0bbc823bf09a46ac70bdf1)\r\n\r\n```rust\r\nuse self::Chain::{Base, Rec};\r\n\r\n#[derive(Copy, Clone)]\r\nenum Chain<'a:'b, 'b> {\r\n    Base(&'a i32),\r\n    Rec(&'a i32, &'b Chain<'a,'b>)\r\n}\r\n\r\nfn call_with_rec<'a, 'b, F: for <'c> Fn(Chain<'a, 'c>)>(c: Chain<'a, 'b>,\r\n                         x: &'a i32,\r\n                         f: F) {\r\n    f(Rec(x, &c))\r\n}\r\n\r\nfn helper<'a, 'b>(mut inner: Chain<'a, 'b>) {\r\n    loop {\r\n        match inner {\r\n            Base(&x) => {\r\n                println!(\"Base({})\", x);\r\n                break;\r\n            },\r\n            Rec(&x, &p) => {\r\n                println!(\"Rec({})\", x);\r\n                inner = p;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nfn main() {\r\n    let x = 0i32;\r\n    let y = 0i32;\r\n\r\n    call_with_rec(Base(&x), &y, helper);\r\n\r\n    call_with_rec(Base(&x), &y, |mut inner| {\r\n       loop {\r\n            match inner {\r\n                Base(&x) => {\r\n                    println!(\"Base({})\", x);\r\n                    break;\r\n                },\r\n                Rec(&x, &p) => {\r\n                    println!(\"Rec({})\", x);\r\n                    inner = p;\r\n                }\r\n            }\r\n        }\r\n    })\r\n}\r\n```",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/444634557/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
