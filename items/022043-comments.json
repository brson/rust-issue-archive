[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/192367391",
    "html_url": "https://github.com/rust-lang/rust/issues/22043#issuecomment-192367391",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/22043",
    "id": 192367391,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE5MjM2NzM5MQ==",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-03-04T17:21:52Z",
    "updated_at": "2016-03-04T17:21:52Z",
    "body": "Triage: none of these work today, but I haven't followed the `box` syntax changes closely enough to know how to update them. Removing the type annotations on the closure arguments leads to\n\n```\nhello.rs:14:29: 14:30 error: unresolved name `a` [E0425]\nhello.rs:14         to_refcell( box () |a| { *a = *a+1; a } )\n                                        ^\n```\n\nwhich seems... quite bad.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/192367391/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/298265840",
    "html_url": "https://github.com/rust-lang/rust/issues/22043#issuecomment-298265840",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/22043",
    "id": 298265840,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5ODI2NTg0MA==",
    "user": {
      "login": "Mark-Simulacrum",
      "id": 5047365,
      "node_id": "MDQ6VXNlcjUwNDczNjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5047365?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Mark-Simulacrum",
      "html_url": "https://github.com/Mark-Simulacrum",
      "followers_url": "https://api.github.com/users/Mark-Simulacrum/followers",
      "following_url": "https://api.github.com/users/Mark-Simulacrum/following{/other_user}",
      "gists_url": "https://api.github.com/users/Mark-Simulacrum/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Mark-Simulacrum/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Mark-Simulacrum/subscriptions",
      "organizations_url": "https://api.github.com/users/Mark-Simulacrum/orgs",
      "repos_url": "https://api.github.com/users/Mark-Simulacrum/repos",
      "events_url": "https://api.github.com/users/Mark-Simulacrum/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Mark-Simulacrum/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-05-01T00:01:27Z",
    "updated_at": "2017-05-01T00:01:27Z",
    "body": "Updated code, as best as I can figure. `b` still breaks with this error. I'm not sure why; I sort of thought that `box` was just sugar for `in (::std::boxed::HEAP)`, but I guess that's not the case.\r\n\r\n```\r\nerror[E0271]: type mismatch resolving `for<'r> <[closure@test.rs:13:31: 13:44] as std::ops::FnOnce<(&'r (),)>>::Output == &'r ()`\r\n  --> test.rs:13:5\r\n   |\r\n13 |     in (::std::boxed::HEAP) { |b:&()| { b } }\r\n   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ expected bound lifetime parameter , found concrete lifetime\r\n   |\r\n   = note: concrete lifetime that was found is lifetime '_#5r\r\n   = note: required for the cast to the object type `for<'r> std::ops::Fn(&'r ()) -> &'r ()`\r\n\r\nerror: aborting due to previous error\r\n``` \r\n\r\n```rust\r\n#![feature(box_syntax, box_heap)]\r\n#![feature(placement_in_syntax)]\r\n\r\ntype BoxedFunc = Box<Fn(&()) -> &()>;\r\n\r\n// works\r\nfn a() -> BoxedFunc {\r\n    box |a:&()| { a }\r\n}\r\n\r\n// breaks\r\nfn b() -> BoxedFunc {\r\n    in (::std::boxed::HEAP) { |b:&()| { b } }\r\n}\r\n\r\nfn main() {}\r\n```",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/298265840/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/568912607",
    "html_url": "https://github.com/rust-lang/rust/issues/22043#issuecomment-568912607",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/22043",
    "id": 568912607,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2ODkxMjYwNw==",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2019-12-25T16:17:34Z",
    "updated_at": "2019-12-25T16:17:34Z",
    "body": "Triage: as far as I know, everything about box syntax is going back to first base, right? I'm not sure if this issue is useful or not.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/568912607/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1126937143",
    "html_url": "https://github.com/rust-lang/rust/issues/22043#issuecomment-1126937143",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/22043",
    "id": 1126937143,
    "node_id": "IC_kwDOAAsO6M5DK7I3",
    "user": {
      "login": "bjorn3",
      "id": 17426603,
      "node_id": "MDQ6VXNlcjE3NDI2NjAz",
      "avatar_url": "https://avatars.githubusercontent.com/u/17426603?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bjorn3",
      "html_url": "https://github.com/bjorn3",
      "followers_url": "https://api.github.com/users/bjorn3/followers",
      "following_url": "https://api.github.com/users/bjorn3/following{/other_user}",
      "gists_url": "https://api.github.com/users/bjorn3/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bjorn3/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bjorn3/subscriptions",
      "organizations_url": "https://api.github.com/users/bjorn3/orgs",
      "repos_url": "https://api.github.com/users/bjorn3/repos",
      "events_url": "https://api.github.com/users/bjorn3/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bjorn3/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2022-05-15T13:05:28Z",
    "updated_at": "2022-05-15T13:05:28Z",
    "body": "Placement in syntax has been removed so this issue is no longer relevant I think.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1126937143/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
