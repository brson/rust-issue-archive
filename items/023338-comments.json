[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/79103326",
    "html_url": "https://github.com/rust-lang/rust/issues/23338#issuecomment-79103326",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23338",
    "id": 79103326,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc5MTAzMzI2",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-13T16:29:28Z",
    "updated_at": "2015-03-13T16:29:28Z",
    "body": "cc @pnkfelix \n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/79103326/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/79352454",
    "html_url": "https://github.com/rust-lang/rust/issues/23338#issuecomment-79352454",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23338",
    "id": 79352454,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc5MzUyNDU0",
    "user": {
      "login": "larsbergstrom",
      "id": 475847,
      "node_id": "MDQ6VXNlcjQ3NTg0Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/475847?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/larsbergstrom",
      "html_url": "https://github.com/larsbergstrom",
      "followers_url": "https://api.github.com/users/larsbergstrom/followers",
      "following_url": "https://api.github.com/users/larsbergstrom/following{/other_user}",
      "gists_url": "https://api.github.com/users/larsbergstrom/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/larsbergstrom/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/larsbergstrom/subscriptions",
      "organizations_url": "https://api.github.com/users/larsbergstrom/orgs",
      "repos_url": "https://api.github.com/users/larsbergstrom/repos",
      "events_url": "https://api.github.com/users/larsbergstrom/events{/privacy}",
      "received_events_url": "https://api.github.com/users/larsbergstrom/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-13T20:29:27Z",
    "updated_at": "2015-03-13T20:29:27Z",
    "body": "@SimonSapin has also mentioned that there are some cases (e.g., in our \"script\" crate) where even this transformation does not work.\n\ncc @nikomatsakis \n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/79352454/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/79366675",
    "html_url": "https://github.com/rust-lang/rust/issues/23338#issuecomment-79366675",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23338",
    "id": 79366675,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc5MzY2Njc1",
    "user": {
      "login": "SimonSapin",
      "id": 291359,
      "node_id": "MDQ6VXNlcjI5MTM1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SimonSapin",
      "html_url": "https://github.com/SimonSapin",
      "followers_url": "https://api.github.com/users/SimonSapin/followers",
      "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}",
      "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions",
      "organizations_url": "https://api.github.com/users/SimonSapin/orgs",
      "repos_url": "https://api.github.com/users/SimonSapin/repos",
      "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SimonSapin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-13T20:41:09Z",
    "updated_at": "2015-03-13T20:41:09Z",
    "body": "I got stuck at some point but @jdm managed to find work arounds https://github.com/servo/servo/commit/0c12dd9007475886a642a8af8072362824fa852f\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/79366675/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/82596915",
    "html_url": "https://github.com/rust-lang/rust/issues/23338#issuecomment-82596915",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23338",
    "id": 82596915,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyNTk2OTE1",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-17T20:55:43Z",
    "updated_at": "2015-03-17T20:55:43Z",
    "body": "This may be a consequence of the new scoping rules introduced in #21657.  We may attempt to address coding patterns like this by implementing #22323; but implementing that is not a 1.0-blocking issue (i.e. it may wait until after 1.0 is released, depending on other priorities).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/82596915/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/82597092",
    "html_url": "https://github.com/rust-lang/rust/issues/23338#issuecomment-82597092",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23338",
    "id": 82597092,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyNTk3MDky",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-17T20:56:09Z",
    "updated_at": "2015-03-17T20:56:09Z",
    "body": "cc #22321\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/82597092/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/82602818",
    "html_url": "https://github.com/rust-lang/rust/issues/23338#issuecomment-82602818",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23338",
    "id": 82602818,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyNjAyODE4",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-17T21:12:17Z",
    "updated_at": "2015-03-17T21:12:17Z",
    "body": "Standalone test case:\n\n``` rust\nuse std::cell::RefCell;\n\nfn foo(x: RefCell<String>) -> String {\n  x.borrow().clone()\n}\n\nfn main() { }\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/82602818/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/83763523",
    "html_url": "https://github.com/rust-lang/rust/issues/23338#issuecomment-83763523",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23338",
    "id": 83763523,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgzNzYzNTIz",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-19T21:19:34Z",
    "updated_at": "2015-03-19T21:19:34Z",
    "body": "leaving nominated tag to talk again next week, assigning to self to investigate.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/83763523/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/88974864",
    "html_url": "https://github.com/rust-lang/rust/issues/23338#issuecomment-88974864",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23338",
    "id": 88974864,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg4OTc0ODY0",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-02T17:00:23Z",
    "updated_at": "2015-04-02T17:01:29Z",
    "body": "Another work-around worth noting (if only because it provides a hint at the problem here):\n\n``` rust\nfn foo(x: RefCell<String>) -> String {\n  let t = x.borrow().clone();\n  t // this works!\n}\n```\n\nI think this is an artifact of our temporary r-value rules, in particular the one that says that all temporaries for the tail expression in a block are assigned the lifetime of the _parent_ of the block (that is, they can outlive the block), and thus the `Ref` returned by `x.borrow()` is assigned a lifetime that is too long.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/88974864/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/88989098",
    "html_url": "https://github.com/rust-lang/rust/issues/23338#issuecomment-88989098",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23338",
    "id": 88989098,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg4OTg5MDk4",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-02T17:47:27Z",
    "updated_at": "2015-04-02T23:29:46Z",
    "body": "(Having said that, I _would_ like to see if we can still fix this in some way.  But I no longer see this as a potential smoking gun pointing at some fundamental flaw in the system.  So I've removed the I-nominated tag.)\n\n---\n\nMore details for those interested: the thing that comes up is this:\n1. `borrow` has this signature: `fn borrow<'a>(&'a self) -> Ref<'a>`, and the `Ref` has a destructor.\n2. So `dropck` wants the `'a` to outlive the _parent_ of the scope of the returned `Ref`.\n3. The returned `Ref`, due to our tail expression rule for expression-blocks, is assigned the lifetime of the _parent_ of the block.\n4. So `'a` in the call to `borrow` ends up being assigned the lifetime of the destruction scope surrounding the function body.\n5. But the parameter `x` does not live that long.\n\nWe could hack in special support for this case (i.e. some hack in terms of how `fn` bodies are treated).   \n- For example maybe we could change things so that fn parameters are torn down after the fn body is torn down (in that case the parent of the block would be the destruction scope for the fn body, and the fn parameters would be defined to outlive that.  But then again that might be too much of a breaking-change, not sure.)  But I don't know if that's a great option; e.g. then people will still run into problems with code that isn't a fn-body, like this revision of the example above:\n\n``` rust\nuse std::cell::RefCell;\n\nfn foo(x: RefCell<String>) -> String {\n    let result = {\n        let t = x;\n        t.borrow().clone()\n    };\n    result\n}\n\nfn main() { }\n```\n\n(but maybe that is acceptable...)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/88989098/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/89266626",
    "html_url": "https://github.com/rust-lang/rust/issues/23338#issuecomment-89266626",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23338",
    "id": 89266626,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg5MjY2NjI2",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-03T11:52:29Z",
    "updated_at": "2015-04-03T12:01:34Z",
    "body": "Actually, according to the current dynamic semantics, fn parameters _already_ are torn down after the fn body is torn down.\n\nSo it should be entirely sound (perhaps even a legitimate bug fix, not sure) to make the code-extents reflect the fact that the temporaries from the tail expression for the fn-body are destroyed before the parameters are dropped (i.e., that the parameters strictly outlive all of the r-value temporaries of the fn body).\n\nHere is some demo code illustrating this (note also that the behavior differs if one passes `--cfg nested`, but in either case the parameters still outlive the r-value temporaries).\n\n``` rust\nstruct D(&'static str, u32);\n\nimpl Drop for D {\n    fn drop(&mut self) {\n        println!(\"Dropping D({}, {})\", self.0, self.1);\n    }\n}\n\nimpl D {\n    fn incr(&self, name: &'static str) -> D {\n        D(name, self.1 + 1)\n    }\n}\n\n#[cfg(not(nested))]\nfn foo(a1: D, b1: D) -> (&'static str, D) {\n    let _b2 = b1.incr(\"b\");\n\n        let _a2 = a1.incr(\"a\");\n        let b3 = b1.incr(\"temp1\").incr(\"b\");\n        println!(\"made b2 a2 and b3\");\n        (\"foo_direct\", b3.incr(\"temp2\").incr(\"b\"))\n\n}\n\n#[cfg(nested)]\nfn foo(a1: D, b1: D) -> (&'static str, D) {\n    let _b2 = b1.incr(\"b\");\n    {\n        let _a2 = a1.incr(\"a\");\n        let b3 = b1.incr(\"temp1\").incr(\"b\");\n        println!(\"made b2 a2 and b3\");\n        (\"foo_nested\", b3.incr(\"temp2\").incr(\"b\"))\n    }\n}\n\nfn main() {\n    let (name, result) = foo(D(\"param_a\", 1), D(\"param_b\", 1));\n    println!(\"called {}, got result D({}, {})\",\n             name, result.0, result.1);\n}\n```\n\n(The reason that its interesting that the behavior differs with and without `cfg nested` is that it even differs if you comment out the `let _b2 = ...;` line at the top ... i.e. the program transformation:\n\n``` rust\nfn function(args ...) -> result { stmts ...; expr } \n```\n\nto\n\n``` rust\nfn function(args ...) -> result { { stmts ...; expr } }\n```\n\nis _not_ semantics preserving; it changes the time at which the temporaries within `expr` are dropped with respect to the let-bindings within `stmts ...`)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/89266626/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/89392923",
    "html_url": "https://github.com/rust-lang/rust/issues/23338#issuecomment-89392923",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23338",
    "id": 89392923,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg5MzkyOTIz",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-03T19:05:52Z",
    "updated_at": "2015-04-03T19:05:52Z",
    "body": "Okay, I'm pretty happy with the solution given in #24021.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/89392923/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/252072434",
    "html_url": "https://github.com/rust-lang/rust/issues/23338#issuecomment-252072434",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23338",
    "id": 252072434,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1MjA3MjQzNA==",
    "user": {
      "login": "agrover",
      "id": 2305,
      "node_id": "MDQ6VXNlcjIzMDU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2305?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/agrover",
      "html_url": "https://github.com/agrover",
      "followers_url": "https://api.github.com/users/agrover/followers",
      "following_url": "https://api.github.com/users/agrover/following{/other_user}",
      "gists_url": "https://api.github.com/users/agrover/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/agrover/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/agrover/subscriptions",
      "organizations_url": "https://api.github.com/users/agrover/orgs",
      "repos_url": "https://api.github.com/users/agrover/repos",
      "events_url": "https://api.github.com/users/agrover/events{/privacy}",
      "received_events_url": "https://api.github.com/users/agrover/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-10-06T20:01:59Z",
    "updated_at": "2016-10-06T20:01:59Z",
    "body": "@pnkfelix this still is present w.r.t expression blocks, though, which are pretty useful when attempting to control the length of borrows. Using workaround in https://github.com/rust-lang/rust/issues/23338#issuecomment-88974864 for now but it would be great for this to work nicely at some point, it led me to think I was going crazy :smile: \n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/252072434/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
