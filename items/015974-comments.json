[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/50134342",
    "html_url": "https://github.com/rust-lang/rust/issues/15974#issuecomment-50134342",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15974",
    "id": 50134342,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwMTM0MzQy",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-25T10:50:05Z",
    "updated_at": "2014-07-25T10:51:49Z",
    "body": "libstd only depends on libnative when building stdtest for testing, i.e. there's no recursive dependency (and it definitely doesn't depend on a version of itself). The compiler does not support circularly dependent crates at all, so it's literally impossible for them to happen. There can appear to be circular dependencies due to traits and trait objects, where some crate defines interfaces and downstream ones implement them, and are \"magically\" insert back to be used with the original crate.\n\nAs an example, the runtimes just implement traits from `rustrt` and are then manipulated via trait objects that get inserted into task-local globals. The `native` runtime has slightly special behaviour since it defines [the `start` language](https://github.com/rust-lang/rust/blob/e5984640e63d2e9f613d857ad2d48ff57b310655/src/libnative/lib.rs#L86-L94) item (see [here](https://gist.github.com/luqmana/fa40eb63ff653fdfb3cf) for more info about entrypoints), and is inserted with `std` into every crate and so becomes the default entry point of a Rust program, but the `green` runtime requires [manual initialisation](http://doc.rust-lang.org/master/green/#starting-with-i/o-support-in-libgreen).\n\n>  from_str: belongs to collections, because this is where string is defined?\n\n`from_str` takes a `&str` (not a `String`) and thus can probably be defined in `libcore`.\n\n>  deriving(Clone) right now generates code with ::std::clone::Clone while it should be ::core::clone::Clone. I think this is useful in general also for other projects that solely depend on libcore. Other derivings might have to be changed to ::core as well.\n\nThis would require that `core` gets implicitly inserted along with `std` at the top of each crate. I'd be very interested to find a way to avoid inserting extra names into the namespace (random idea, have an attribute `#[deriving_root] extern crate core;` which is on `std` by default but can be overrided).\n\n>  libstd/macros.rs: fail!, assert!, assert_eq!, debug_assert!, debug_assert_eq!, unreachable!, unimplemented!, format!, try!, vec!. They shouldn't live in libstd as they might be useful in other software that depend on libcore (plus fail functionality).\n\nSome of them actually [exist in `core` already](http://doc.rust-lang.org/master/core/#macros).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/50134342/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/50149956",
    "html_url": "https://github.com/rust-lang/rust/issues/15974#issuecomment-50149956",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15974",
    "id": 50149956,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwMTQ5OTU2",
    "user": {
      "login": "mneumann",
      "id": 34112,
      "node_id": "MDQ6VXNlcjM0MTEy",
      "avatar_url": "https://avatars.githubusercontent.com/u/34112?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mneumann",
      "html_url": "https://github.com/mneumann",
      "followers_url": "https://api.github.com/users/mneumann/followers",
      "following_url": "https://api.github.com/users/mneumann/following{/other_user}",
      "gists_url": "https://api.github.com/users/mneumann/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mneumann/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mneumann/subscriptions",
      "organizations_url": "https://api.github.com/users/mneumann/orgs",
      "repos_url": "https://api.github.com/users/mneumann/repos",
      "events_url": "https://api.github.com/users/mneumann/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mneumann/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-25T13:38:17Z",
    "updated_at": "2014-07-25T13:38:17Z",
    "body": "Ah ok, thanks for the clarification! Makes a lot more sense now!\n\nI wonder if these macros can be re-exported from `std` instead of duplication them.\n\nI think `format!` can also move into `core` and `vec!` should probably be moved to `collections`.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/50149956/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/50152732",
    "html_url": "https://github.com/rust-lang/rust/issues/15974#issuecomment-50152732",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15974",
    "id": 50152732,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwMTUyNzMy",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-25T13:59:47Z",
    "updated_at": "2014-07-25T13:59:47Z",
    "body": "Sadly we don't have a system of macro reexports now so they all have to be defined in std at the very least, and likely duplicated in core/collections.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/50152732/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
