[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/64139620",
    "html_url": "https://github.com/rust-lang/rust/issues/19245#issuecomment-64139620",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19245",
    "id": 64139620,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0MTM5NjIw",
    "user": {
      "login": "ben0x539",
      "id": 24142,
      "node_id": "MDQ6VXNlcjI0MTQy",
      "avatar_url": "https://avatars.githubusercontent.com/u/24142?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ben0x539",
      "html_url": "https://github.com/ben0x539",
      "followers_url": "https://api.github.com/users/ben0x539/followers",
      "following_url": "https://api.github.com/users/ben0x539/following{/other_user}",
      "gists_url": "https://api.github.com/users/ben0x539/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ben0x539/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ben0x539/subscriptions",
      "organizations_url": "https://api.github.com/users/ben0x539/orgs",
      "repos_url": "https://api.github.com/users/ben0x539/repos",
      "events_url": "https://api.github.com/users/ben0x539/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ben0x539/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-23T23:12:23Z",
    "updated_at": "2014-11-23T23:12:23Z",
    "body": "I think Chris Morgan is overstating how problematic `libc::exit` is and I think it ought to be exposed in `std::os` or somewhere, not just as a C binding. I don't think we usually consider resource leaks a safety issue and exiting early without doing further cleanup seems fairly common in C/C++ where it's not really any cleaner than it would be in Rust. \n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/64139620/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/64139649",
    "html_url": "https://github.com/rust-lang/rust/issues/19245#issuecomment-64139649",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19245",
    "id": 64139649,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0MTM5NjQ5",
    "user": {
      "login": "ben0x539",
      "id": 24142,
      "node_id": "MDQ6VXNlcjI0MTQy",
      "avatar_url": "https://avatars.githubusercontent.com/u/24142?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ben0x539",
      "html_url": "https://github.com/ben0x539",
      "followers_url": "https://api.github.com/users/ben0x539/followers",
      "following_url": "https://api.github.com/users/ben0x539/following{/other_user}",
      "gists_url": "https://api.github.com/users/ben0x539/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ben0x539/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ben0x539/subscriptions",
      "organizations_url": "https://api.github.com/users/ben0x539/orgs",
      "repos_url": "https://api.github.com/users/ben0x539/repos",
      "events_url": "https://api.github.com/users/ben0x539/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ben0x539/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-23T23:13:20Z",
    "updated_at": "2014-11-23T23:13:20Z",
    "body": "(I'd bet the lack of `exit` in the standard library dates back to when people thought Rust was going to be a lot more Erlang-like than it actually ended up being.)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/64139649/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/64141469",
    "html_url": "https://github.com/rust-lang/rust/issues/19245#issuecomment-64141469",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19245",
    "id": 64141469,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0MTQxNDY5",
    "user": {
      "login": "chris-morgan",
      "id": 392868,
      "node_id": "MDQ6VXNlcjM5Mjg2OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/392868?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chris-morgan",
      "html_url": "https://github.com/chris-morgan",
      "followers_url": "https://api.github.com/users/chris-morgan/followers",
      "following_url": "https://api.github.com/users/chris-morgan/following{/other_user}",
      "gists_url": "https://api.github.com/users/chris-morgan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chris-morgan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chris-morgan/subscriptions",
      "organizations_url": "https://api.github.com/users/chris-morgan/orgs",
      "repos_url": "https://api.github.com/users/chris-morgan/repos",
      "events_url": "https://api.github.com/users/chris-morgan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chris-morgan/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-24T00:03:01Z",
    "updated_at": "2014-11-24T00:03:01Z",
    "body": "@ben0x539 I don\u2019t think I overstated it\u2014the fact that buffered writers will not flush and so data loss may ensue is sufficient for me to consider the libc exit approach _catastrophic_ in the general case. Rust values correctness; `libc::exit` simply makes a mess of that. That function needs massive warnings on it about what it can do; merely marking it `unsafe` is necessary but not sufficient. ([It doesn\u2019t even have docs!](http://doc.rust-lang.org/libc/funcs/c95/stdlib/ffi.exit.html))\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/64141469/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/64142325",
    "html_url": "https://github.com/rust-lang/rust/issues/19245#issuecomment-64142325",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19245",
    "id": 64142325,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0MTQyMzI1",
    "user": {
      "login": "ben0x539",
      "id": 24142,
      "node_id": "MDQ6VXNlcjI0MTQy",
      "avatar_url": "https://avatars.githubusercontent.com/u/24142?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ben0x539",
      "html_url": "https://github.com/ben0x539",
      "followers_url": "https://api.github.com/users/ben0x539/followers",
      "following_url": "https://api.github.com/users/ben0x539/following{/other_user}",
      "gists_url": "https://api.github.com/users/ben0x539/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ben0x539/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ben0x539/subscriptions",
      "organizations_url": "https://api.github.com/users/ben0x539/orgs",
      "repos_url": "https://api.github.com/users/ben0x539/repos",
      "events_url": "https://api.github.com/users/ben0x539/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ben0x539/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-24T00:29:53Z",
    "updated_at": "2014-11-24T00:29:53Z",
    "body": "Rust values safety, I don't think it is particularly preoccupied with correctness.\n\nNone of the libc bindings really have docs, but then I suppose the manual pages that came with my linux installation don't really spell out that `exit` does not flush non-libc buffers either.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/64142325/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/64143065",
    "html_url": "https://github.com/rust-lang/rust/issues/19245#issuecomment-64143065",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19245",
    "id": 64143065,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0MTQzMDY1",
    "user": {
      "login": "reem",
      "id": 4745181,
      "node_id": "MDQ6VXNlcjQ3NDUxODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4745181?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/reem",
      "html_url": "https://github.com/reem",
      "followers_url": "https://api.github.com/users/reem/followers",
      "following_url": "https://api.github.com/users/reem/following{/other_user}",
      "gists_url": "https://api.github.com/users/reem/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/reem/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/reem/subscriptions",
      "organizations_url": "https://api.github.com/users/reem/orgs",
      "repos_url": "https://api.github.com/users/reem/repos",
      "events_url": "https://api.github.com/users/reem/events{/privacy}",
      "received_events_url": "https://api.github.com/users/reem/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-24T00:52:04Z",
    "updated_at": "2014-11-24T00:52:04Z",
    "body": "I agree with @chris-morgan - `libc::exit` _at least_ needs to be documented explaining that it can cause significant correctness problems if not used correctly.\n\n@ben0x539 I disagree strongly that Rust doesn't care about correctness - much of the emphasis on safety is to make it easier to write correct programs.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/64143065/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/64144821",
    "html_url": "https://github.com/rust-lang/rust/issues/19245#issuecomment-64144821",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19245",
    "id": 64144821,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0MTQ0ODIx",
    "user": {
      "login": "quantheory",
      "id": 1740206,
      "node_id": "MDQ6VXNlcjE3NDAyMDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1740206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/quantheory",
      "html_url": "https://github.com/quantheory",
      "followers_url": "https://api.github.com/users/quantheory/followers",
      "following_url": "https://api.github.com/users/quantheory/following{/other_user}",
      "gists_url": "https://api.github.com/users/quantheory/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/quantheory/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/quantheory/subscriptions",
      "organizations_url": "https://api.github.com/users/quantheory/orgs",
      "repos_url": "https://api.github.com/users/quantheory/repos",
      "events_url": "https://api.github.com/users/quantheory/events{/privacy}",
      "received_events_url": "https://api.github.com/users/quantheory/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-24T01:44:25Z",
    "updated_at": "2014-11-24T01:44:25Z",
    "body": "A few thoughts:\n- I don't have a very clear, strong motivating example for this in my head yet.\n  - \"Catastrophic\" errors (see [RFC 236](https://github.com/rust-lang/rfcs/blob/master/text/0236-error-conventions.md)) should generally use `panic!`.\n  - \"Obstructions\" should be propagated upward toward code that can decide what to do about them.\n  - \"Normal\" exiting, like in the Stack Overflow question, usually only happens in a few places in a program. Because normal termination doesn't happen that often, it shouldn't usually be that difficult to pass information up to `main` by returning `bool` or `Option` from any function that wants to signal a need to exit.\n  \n  So `panic!` is the correct call when exiting due to errors, and I have trouble thinking of a situation where it would be particularly hard or tedious for a program to return up to `main` if it completes with no errors. (I'm not saying that there's not such a situation, but I can't picture one right now.)\n- Calling `libc::exit` is potentially more dangerous in Rust than in C/C++.\n  - C at least flushes/closes the standard library's streams and runs `atexit` functions.\n  - In C++, you also have destructors run on thread-local and static objects.\n  \n  While not as safe as stack unwinding, there is of course a better chance of successful cleanup in both cases compared to just immediately terminating the process. I don't know that any of the above is done by Rust right now. If not, then calling `libc::exit` in Rust is more like calling `std::terminate` in C++.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/64144821/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/64146687",
    "html_url": "https://github.com/rust-lang/rust/issues/19245#issuecomment-64146687",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19245",
    "id": 64146687,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0MTQ2Njg3",
    "user": {
      "login": "zslayton",
      "id": 611616,
      "node_id": "MDQ6VXNlcjYxMTYxNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/611616?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zslayton",
      "html_url": "https://github.com/zslayton",
      "followers_url": "https://api.github.com/users/zslayton/followers",
      "following_url": "https://api.github.com/users/zslayton/following{/other_user}",
      "gists_url": "https://api.github.com/users/zslayton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zslayton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zslayton/subscriptions",
      "organizations_url": "https://api.github.com/users/zslayton/orgs",
      "repos_url": "https://api.github.com/users/zslayton/repos",
      "events_url": "https://api.github.com/users/zslayton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zslayton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-24T02:33:41Z",
    "updated_at": "2014-11-24T02:33:51Z",
    "body": "> So panic! is the correct call when exiting due to errors ....\n\nA minor gripe I have with `panic!` as the standard means of exiting in the event of an error is that I don't have control over the output that it produces. It will always take the form:\n\n> task '<main>' panicked at '<some string>'\n\nI'd like a way to exit without the boilerplate.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/64146687/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/64149344",
    "html_url": "https://github.com/rust-lang/rust/issues/19245#issuecomment-64149344",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19245",
    "id": 64149344,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0MTQ5MzQ0",
    "user": {
      "login": "thestinger",
      "id": 1505226,
      "node_id": "MDQ6VXNlcjE1MDUyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thestinger",
      "html_url": "https://github.com/thestinger",
      "followers_url": "https://api.github.com/users/thestinger/followers",
      "following_url": "https://api.github.com/users/thestinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions",
      "organizations_url": "https://api.github.com/users/thestinger/orgs",
      "repos_url": "https://api.github.com/users/thestinger/repos",
      "events_url": "https://api.github.com/users/thestinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thestinger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-24T03:36:21Z",
    "updated_at": "2014-11-24T03:36:41Z",
    "body": "@chris-morgan: It hardly needs massive warnings. It's not any different than going out-of-stack (abort), out-of-memory (abort or OOM killer), a power outage and so on. The code already needs to be robust against failures like this by making use of transactions. Leaking resources before exit is not a safety issue and is not _wrong_ either.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/64149344/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/64151447",
    "html_url": "https://github.com/rust-lang/rust/issues/19245#issuecomment-64151447",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19245",
    "id": 64151447,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0MTUxNDQ3",
    "user": {
      "login": "chris-morgan",
      "id": 392868,
      "node_id": "MDQ6VXNlcjM5Mjg2OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/392868?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chris-morgan",
      "html_url": "https://github.com/chris-morgan",
      "followers_url": "https://api.github.com/users/chris-morgan/followers",
      "following_url": "https://api.github.com/users/chris-morgan/following{/other_user}",
      "gists_url": "https://api.github.com/users/chris-morgan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chris-morgan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chris-morgan/subscriptions",
      "organizations_url": "https://api.github.com/users/chris-morgan/orgs",
      "repos_url": "https://api.github.com/users/chris-morgan/repos",
      "events_url": "https://api.github.com/users/chris-morgan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chris-morgan/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-24T04:30:45Z",
    "updated_at": "2014-11-24T04:30:45Z",
    "body": "@thestinger: I think there\u2019s still a significant difference, one of intent; those are _known_ problems that nothing much can be done about and which are truly exceptional circumstances, though I quite agree with you that making software robust against spontaneous failure is an important thing. But in this case we\u2019re talking about a snippet of code _deliberately_ invoked that, based on people\u2019s experiences in other languages, may not do what they expect. It is the factor of expectation that clinches this one, in my opinion.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/64151447/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/64154625",
    "html_url": "https://github.com/rust-lang/rust/issues/19245#issuecomment-64154625",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19245",
    "id": 64154625,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0MTU0NjI1",
    "user": {
      "login": "quantheory",
      "id": 1740206,
      "node_id": "MDQ6VXNlcjE3NDAyMDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1740206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/quantheory",
      "html_url": "https://github.com/quantheory",
      "followers_url": "https://api.github.com/users/quantheory/followers",
      "following_url": "https://api.github.com/users/quantheory/following{/other_user}",
      "gists_url": "https://api.github.com/users/quantheory/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/quantheory/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/quantheory/subscriptions",
      "organizations_url": "https://api.github.com/users/quantheory/orgs",
      "repos_url": "https://api.github.com/users/quantheory/repos",
      "events_url": "https://api.github.com/users/quantheory/events{/privacy}",
      "received_events_url": "https://api.github.com/users/quantheory/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-24T05:57:14Z",
    "updated_at": "2014-11-24T05:57:14Z",
    "body": "> A minor gripe I have with `panic!` as the standard means of exiting in the event of an error is that I don't have control over the output that it produces.\n\nTrue. Maybe there should be a more advanced macro that's even more general than the formatted form of `panic`, e.g. passing the the file/line information to a user-defined method and letting it figure out the final message/logging. (Of course you can just call `std::rt::begin_unwind` yourself, or do so in your own macro, but I don't know when if ever `begin_unwind` will be stable.)\n\nAt the same time, my understanding is that `panic!` is mostly for situations where the error is most likely due to a bug in the program (or likely-unrecoverable cases like out-of-memory errors), which ideally shouldn't be seen much by users. Errors having to do with I/O, communication, permissions, etc., which are more likely to be user-visible, and which the user is more likely to be able to actually do something about, are supposed to be propagated upward by returning `Result`, _not_ by exiting/aborting/panicking from wherever you encounter them.\n\n(Admittedly, I'm not sure how well that will end up. It requires a lot less language complexity and opportunity for mistakes than if an exception mechanism was added, but I imagine that a lot of codes will have a ton of `try!` and `Result` all over them.)\n\n> It hardly needs massive warnings.\n\nEh, I guess \"massive\" is a matter of opinion. If it was moved/reexported outside of `libc`, it would certainly need _some_ warning just to note that, unlike other ways you can exit, it does no cleanup. But it's a less important point if it isn't moved out of `libc`, and I still don't see why it should be.\n\nIf you really must abort now, you should probably use `panic!` (or some other thing like `unwind_and_die!` could be created if `panic!` turns out not to be general enough). If you really, deliberately want to exit without doing so, you can always go find the function in `libc`. But I don't know why we would advertise this function, since it isn't really what people will generally want, and it potentially violates invariants that (except in cases like your power outage) could otherwise be enforced by the destructors.\n\n> those are known problems that nothing much can be done about [... b]ut in this case we\u2019re talking about a snippet of code deliberately invoked\n\nThis.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/64154625/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/64155528",
    "html_url": "https://github.com/rust-lang/rust/issues/19245#issuecomment-64155528",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19245",
    "id": 64155528,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0MTU1NTI4",
    "user": {
      "login": "thestinger",
      "id": 1505226,
      "node_id": "MDQ6VXNlcjE1MDUyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thestinger",
      "html_url": "https://github.com/thestinger",
      "followers_url": "https://api.github.com/users/thestinger/followers",
      "following_url": "https://api.github.com/users/thestinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions",
      "organizations_url": "https://api.github.com/users/thestinger/orgs",
      "repos_url": "https://api.github.com/users/thestinger/repos",
      "events_url": "https://api.github.com/users/thestinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thestinger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-24T06:20:42Z",
    "updated_at": "2014-11-24T06:20:42Z",
    "body": "``` rust\nextern crate test;\n\nfn abort() -> ! {\n    test::black_box(&());\n    abort()\n}\n\nfn main() {\n    abort();\n}\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/64155528/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/64155564",
    "html_url": "https://github.com/rust-lang/rust/issues/19245#issuecomment-64155564",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19245",
    "id": 64155564,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0MTU1NTY0",
    "user": {
      "login": "thestinger",
      "id": 1505226,
      "node_id": "MDQ6VXNlcjE1MDUyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thestinger",
      "html_url": "https://github.com/thestinger",
      "followers_url": "https://api.github.com/users/thestinger/followers",
      "following_url": "https://api.github.com/users/thestinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions",
      "organizations_url": "https://api.github.com/users/thestinger/orgs",
      "repos_url": "https://api.github.com/users/thestinger/repos",
      "events_url": "https://api.github.com/users/thestinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thestinger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-24T06:21:30Z",
    "updated_at": "2014-11-24T06:21:30Z",
    "body": "``` rust\nstruct Foo;\n\nimpl Drop for Foo {\n    fn drop(&mut self) {\n        panic!()\n    }\n}\n\nfn abort() -> ! {\n    let _x = Foo;\n    panic!()\n}\n\nfn main() {\n    abort();\n}\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/64155564/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/64155682",
    "html_url": "https://github.com/rust-lang/rust/issues/19245#issuecomment-64155682",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19245",
    "id": 64155682,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0MTU1Njgy",
    "user": {
      "login": "thestinger",
      "id": 1505226,
      "node_id": "MDQ6VXNlcjE1MDUyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thestinger",
      "html_url": "https://github.com/thestinger",
      "followers_url": "https://api.github.com/users/thestinger/followers",
      "following_url": "https://api.github.com/users/thestinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions",
      "organizations_url": "https://api.github.com/users/thestinger/orgs",
      "repos_url": "https://api.github.com/users/thestinger/repos",
      "events_url": "https://api.github.com/users/thestinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thestinger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-24T06:24:14Z",
    "updated_at": "2014-11-24T06:24:14Z",
    "body": "``` rust\nextern crate test;\n\nfn abort() -> ! {\n    let xs = Vec::from_elem(std::uint::MAX, 1u8);\n    test::black_box(&xs);\n    loop {}\n}\n\nfn main() {\n    abort();\n}\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/64155682/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/64155876",
    "html_url": "https://github.com/rust-lang/rust/issues/19245#issuecomment-64155876",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19245",
    "id": 64155876,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0MTU1ODc2",
    "user": {
      "login": "thestinger",
      "id": 1505226,
      "node_id": "MDQ6VXNlcjE1MDUyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thestinger",
      "html_url": "https://github.com/thestinger",
      "followers_url": "https://api.github.com/users/thestinger/followers",
      "following_url": "https://api.github.com/users/thestinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions",
      "organizations_url": "https://api.github.com/users/thestinger/orgs",
      "repos_url": "https://api.github.com/users/thestinger/repos",
      "events_url": "https://api.github.com/users/thestinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thestinger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-24T06:28:11Z",
    "updated_at": "2014-11-24T06:28:11Z",
    "body": "@chris-morgan: Rust is going to be switching to detached threads for `spawn`. The program will exit as soon as you fall off `main` and you'll need to explicitly synchronize if you want it to block until other tasks are done their work. The alternative is the overhead of extra synchronization and a mandatory hosted runtime incompatible with running code on threads managed by the C standard library. Are you against removing the runtime?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/64155876/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/64157997",
    "html_url": "https://github.com/rust-lang/rust/issues/19245#issuecomment-64157997",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19245",
    "id": 64157997,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0MTU3OTk3",
    "user": {
      "login": "thestinger",
      "id": 1505226,
      "node_id": "MDQ6VXNlcjE1MDUyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thestinger",
      "html_url": "https://github.com/thestinger",
      "followers_url": "https://api.github.com/users/thestinger/followers",
      "following_url": "https://api.github.com/users/thestinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions",
      "organizations_url": "https://api.github.com/users/thestinger/orgs",
      "repos_url": "https://api.github.com/users/thestinger/repos",
      "events_url": "https://api.github.com/users/thestinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thestinger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-24T07:18:11Z",
    "updated_at": "2014-11-24T07:18:19Z",
    "body": "It's also easy to exit by raising a signal. There was some discussion about this, and [the reference manual](http://doc.rust-lang.org/reference.html#behaviour-not-considered-unsafe) now states that raising / sending signals is not `unsafe` based on the consensus.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/64157997/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/64281362",
    "html_url": "https://github.com/rust-lang/rust/issues/19245#issuecomment-64281362",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19245",
    "id": 64281362,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0MjgxMzYy",
    "user": {
      "login": "quantheory",
      "id": 1740206,
      "node_id": "MDQ6VXNlcjE3NDAyMDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1740206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/quantheory",
      "html_url": "https://github.com/quantheory",
      "followers_url": "https://api.github.com/users/quantheory/followers",
      "following_url": "https://api.github.com/users/quantheory/following{/other_user}",
      "gists_url": "https://api.github.com/users/quantheory/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/quantheory/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/quantheory/subscriptions",
      "organizations_url": "https://api.github.com/users/quantheory/orgs",
      "repos_url": "https://api.github.com/users/quantheory/repos",
      "events_url": "https://api.github.com/users/quantheory/events{/privacy}",
      "received_events_url": "https://api.github.com/users/quantheory/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-24T23:01:39Z",
    "updated_at": "2014-11-24T23:01:39Z",
    "body": "I see the point about safety; I would say that these cases are not `unsafe` in the Rust sense, but are still to be avoided in most cases (e.g. panicking in a destructor, or killing the process when `panic!` would work fine). A program that leaves an \"acceptable\" state when suddenly terminated, might still exit much more gracefully when it has the chance to unwind the stack. It's not a binary choice.\n\nBut I'm worried that we're starting to drift off-topic. I think that the questions to be resolved are:\n- Do we have a need for another standard exit or abort macro/function? (Meaning one that's in some important way different from `panic!`.)\n- If so, what would be the best function for the job?\n- If not (or it's just not a priority right now), should there be documentation somewhere pointing out that `panic!` is the only \"standard\" method for early termination? (Well, that and the other macros that use `panic!` internally.)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/64281362/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/64311291",
    "html_url": "https://github.com/rust-lang/rust/issues/19245#issuecomment-64311291",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19245",
    "id": 64311291,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0MzExMjkx",
    "user": {
      "login": "thestinger",
      "id": 1505226,
      "node_id": "MDQ6VXNlcjE1MDUyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thestinger",
      "html_url": "https://github.com/thestinger",
      "followers_url": "https://api.github.com/users/thestinger/followers",
      "following_url": "https://api.github.com/users/thestinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions",
      "organizations_url": "https://api.github.com/users/thestinger/orgs",
      "repos_url": "https://api.github.com/users/thestinger/repos",
      "events_url": "https://api.github.com/users/thestinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thestinger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-25T05:12:08Z",
    "updated_at": "2014-11-25T05:12:08Z",
    "body": "`panic!` doesn't terminate the process, it terminates the task and the error isn't automatically bubbled up in any way. It's just completely ignored and the process keeps running by default. It doesn't let you set the exit status and it writes to `stderr` _before_ it can be handled.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/64311291/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/65928196",
    "html_url": "https://github.com/rust-lang/rust/issues/19245#issuecomment-65928196",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19245",
    "id": 65928196,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1OTI4MTk2",
    "user": {
      "login": "quantheory",
      "id": 1740206,
      "node_id": "MDQ6VXNlcjE3NDAyMDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1740206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/quantheory",
      "html_url": "https://github.com/quantheory",
      "followers_url": "https://api.github.com/users/quantheory/followers",
      "following_url": "https://api.github.com/users/quantheory/following{/other_user}",
      "gists_url": "https://api.github.com/users/quantheory/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/quantheory/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/quantheory/subscriptions",
      "organizations_url": "https://api.github.com/users/quantheory/orgs",
      "repos_url": "https://api.github.com/users/quantheory/repos",
      "events_url": "https://api.github.com/users/quantheory/events{/privacy}",
      "received_events_url": "https://api.github.com/users/quantheory/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-12-07T06:24:38Z",
    "updated_at": "2014-12-07T06:24:38Z",
    "body": "Oops, missed this reply.\n\n> `panic!` doesn't terminate the process, it terminates the task and the error isn't automatically bubbled up in any way. It's just completely ignored and the process keeps running by default.\n\nOK. There are three ways I can think of to deal with that:\n1. Add a new macro that's similar to `panic!` except that it kills the process after unwinding.\n2. For this purpose, promote `libc::exit`, which AFAIK just dies with no cleanup (except if doing I/O in a way that ultimately uses libc as the backend).\n3. Add something like `std::exit` in C++, where static/thread-local destructors are run, but there is no unwinding. To be frank I'm not sure _why_ C++ picked this particular compromise, so I won't defend it myself, but I figured it worth mentioning.\n\n> It doesn't let you set the exit status and it writes to stderr before it can be handled.\n\nIt's not clear to me that either of these justifies a separate macro rather than changing/enhancing `panic!`. `panic!` in a task other than the master is a recoverable error, so you could argue that it shouldn't unconditionally write to stderr anyway.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/65928196/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
