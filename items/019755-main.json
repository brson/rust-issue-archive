{
  "url": "https://api.github.com/repos/rust-lang/rust/issues/19755",
  "repository_url": "https://api.github.com/repos/rust-lang/rust",
  "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/19755/labels{/name}",
  "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/19755/comments",
  "events_url": "https://api.github.com/repos/rust-lang/rust/issues/19755/events",
  "html_url": "https://github.com/rust-lang/rust/pull/19755",
  "id": 51734614,
  "node_id": "MDExOlB1bGxSZXF1ZXN0MjU5Mjk4OTU=",
  "number": 19755,
  "title": "rustc: Start the deprecation of libserialize",
  "user": {
    "login": "alexcrichton",
    "id": 64996,
    "node_id": "MDQ6VXNlcjY0OTk2",
    "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/alexcrichton",
    "html_url": "https://github.com/alexcrichton",
    "followers_url": "https://api.github.com/users/alexcrichton/followers",
    "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
    "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
    "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
    "repos_url": "https://api.github.com/users/alexcrichton/repos",
    "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
    "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "labels": [],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [],
  "milestone": null,
  "comments": 7,
  "created_at": "2014-12-11T20:34:45Z",
  "updated_at": "2014-12-17T23:48:47Z",
  "closed_at": "2014-12-17T23:43:19Z",
  "author_association": "MEMBER",
  "type": null,
  "active_lock_reason": null,
  "draft": false,
  "pull_request": {
    "url": "https://api.github.com/repos/rust-lang/rust/pulls/19755",
    "html_url": "https://github.com/rust-lang/rust/pull/19755",
    "diff_url": "https://github.com/rust-lang/rust/pull/19755.diff",
    "patch_url": "https://github.com/rust-lang/rust/pull/19755.patch",
    "merged_at": "2014-12-17T23:43:19Z"
  },
  "body": "The primary focus of Rust's stability story at 1.0 is the standard library.\nAll other libraries distributed with the Rust compiler are planned to\nbe #[unstable] and therfore only accessible on the nightly channel of Rust. One\nof the more widely used libraries today is libserialize, Rust's current solution\nfor encoding and decoding types.\n\nThe current libserialize library, however, has a number of drawbacks:\n- The API is not ready to be stabilize as-is and we will likely not have enough\n  resources to stabilize the API for 1.0.\n- The library is not necessarily the speediest implementations with alternatives\n  being developed out-of-tree (e.g. serde from erickt).\n- It is not clear how the API of Encodable/Decodable can evolve over time while\n  maintaining backwards compatibility.\n\nOne of the major pros to the current libserialize, however, is\n`deriving(Encodable, Decodable)` as short-hands for enabling serializing and\ndeserializing a type. This is unambiguously useful functionality, so we cannot\nsimply deprecate the in-tree libserialize in favor of an external crates.io\nimplementation.\n\nFor these reasons, this commit starts off a stability story for libserialize by\nfollowing these steps:\n1. The deriving(Encodable, Decodable) modes will be deprecated in favor of a\n   renamed deriving(RustcEncodable, RustcDecodable).\n2. The in-tree libserialize will be deprecated in favor of an external\n   rustc-serialize crate shipped on crates.io. The contents of the crate will be\n   the same for now (but they can evolve separately).\n3. At 1.0 serialization will be performed through\n   deriving(RustcEncodable, RustcDecodable) and the rustc-serialize crate. The\n   expansions for each deriving mode will change from `::serialize::foo` to\n   `::rustc_serialize::foo`.\n\nThis story will require that the compiler freezes its implementation of\n`RustcEncodable` deriving for all of time, but this should be a fairly minimal\nmaintenance burden. Otherwise the crate in crates.io must always maintain the\nexact definition of its traits, but the implementation of json, for example, can\ncontinue to evolve in the semver-sense.\n\nThe major goal for this stabilization effort is to pave the road for a new\nofficial serialization crate which can replace the current one, solving many of\nits downsides in the process. We are not assuming that this will exist for 1.0,\nhence the above measures. Some possibilities for replacing libserialize include:\n- If plugins have a stable API, then any crate can provide a custom `deriving`\n  mode (will require some compiler work). This means that any new serialization\n  crate can provide its own `deriving` with its own backing\n  implementation, entirely obsoleting the current libserialize and fully\n  replacing it.\n- Erick is exploring the possibility of code generation via preprocessing Rust\n  source files in the near term until plugins are stable. This strategy would\n  provide the same ergonomic benefit that `deriving` does today in theory.\n\nSo, in summary, the current libserialize crate is being deprecated in favor of\nthe crates.io-based rustc-serialize crate where the `deriving` modes are\nappropriately renamed. This opens up space for a later implementation of\nserialization in a more official capacity while allowing alternative\nimplementations to be explored in the meantime.\n\nConcretely speaking, this change adds support for the `RustcEncodable` and\n`RustcDecodable` deriving modes. After a snapshot is made warnings will be\nturned on for usage of `Encodable` and `Decodable` as well as deprecating the\nin-tree libserialize crate to encurage users to use rustc-serialize instead.\n",
  "closed_by": {
    "login": "bors",
    "id": 3372342,
    "node_id": "MDQ6VXNlcjMzNzIzNDI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/bors",
    "html_url": "https://github.com/bors",
    "followers_url": "https://api.github.com/users/bors/followers",
    "following_url": "https://api.github.com/users/bors/following{/other_user}",
    "gists_url": "https://api.github.com/users/bors/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bors/subscriptions",
    "organizations_url": "https://api.github.com/users/bors/orgs",
    "repos_url": "https://api.github.com/users/bors/repos",
    "events_url": "https://api.github.com/users/bors/events{/privacy}",
    "received_events_url": "https://api.github.com/users/bors/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/19755/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/19755/timeline",
  "performed_via_github_app": null,
  "state_reason": null,
  "_meta": {
    "type": "pr"
  }
}
