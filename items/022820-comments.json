[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/76084722",
    "html_url": "https://github.com/rust-lang/rust/issues/22820#issuecomment-76084722",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/22820",
    "id": 76084722,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2MDg0NzIy",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-02-25T23:29:50Z",
    "updated_at": "2015-02-25T23:29:50Z",
    "body": "(but hey, if other people want to _add_ such missing tests in the meantime, while I am asleep, I will not mind.  :)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/76084722/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/77917404",
    "html_url": "https://github.com/rust-lang/rust/issues/22820#issuecomment-77917404",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/22820",
    "id": 77917404,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3OTE3NDA0",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-09T18:49:21Z",
    "updated_at": "2015-03-09T18:49:21Z",
    "body": "In case its not clear: If you want to help, just find a case above that does not have a check-mark and also does not have a pull request number attached beneath it.  (And I guess write your name so that other people do not waste time adding a test for the same feature gate).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/77917404/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/93731646",
    "html_url": "https://github.com/rust-lang/rust/issues/22820#issuecomment-93731646",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/22820",
    "id": 93731646,
    "node_id": "MDEyOklzc3VlQ29tbWVudDkzNzMxNjQ2",
    "user": {
      "login": "lgrz",
      "id": 158654,
      "node_id": "MDQ6VXNlcjE1ODY1NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/158654?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lgrz",
      "html_url": "https://github.com/lgrz",
      "followers_url": "https://api.github.com/users/lgrz/followers",
      "following_url": "https://api.github.com/users/lgrz/following{/other_user}",
      "gists_url": "https://api.github.com/users/lgrz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lgrz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lgrz/subscriptions",
      "organizations_url": "https://api.github.com/users/lgrz/orgs",
      "repos_url": "https://api.github.com/users/lgrz/repos",
      "events_url": "https://api.github.com/users/lgrz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lgrz/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-16T13:17:26Z",
    "updated_at": "2015-04-16T13:17:26Z",
    "body": "The test for `custom_attribute` is located in [custom_attribute.rs](https://github.com/rust-lang/rust/blob/master/src/test/compile-fail/custom_attribute.rs)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/93731646/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/93761032",
    "html_url": "https://github.com/rust-lang/rust/issues/22820#issuecomment-93761032",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/22820",
    "id": 93761032,
    "node_id": "MDEyOklzc3VlQ29tbWVudDkzNzYxMDMy",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-16T15:17:48Z",
    "updated_at": "2015-04-16T15:20:11Z",
    "body": "I am not surprised that I \"overlooked\" that ... the expected error message prefix does not say anything about a feature gate.  Let me just confirm that the whole message does ...\n\nUpdate: Okay, the help output for that test ([custom_attribute.rs](https://github.com/rust-lang/rust/blob/master/src/test/compile-fail/custom_attribute.rs)) does mention the feature gate:\n\n```\nhelp: add #![feature(custom_attribute)] to the crate attributes to enable\n```\n\nSo I have now checked off that box, though I wonder if I should add this help message to the expected test output there.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/93761032/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/93879130",
    "html_url": "https://github.com/rust-lang/rust/issues/22820#issuecomment-93879130",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/22820",
    "id": 93879130,
    "node_id": "MDEyOklzc3VlQ29tbWVudDkzODc5MTMw",
    "user": {
      "login": "lgrz",
      "id": 158654,
      "node_id": "MDQ6VXNlcjE1ODY1NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/158654?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lgrz",
      "html_url": "https://github.com/lgrz",
      "followers_url": "https://api.github.com/users/lgrz/followers",
      "following_url": "https://api.github.com/users/lgrz/following{/other_user}",
      "gists_url": "https://api.github.com/users/lgrz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lgrz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lgrz/subscriptions",
      "organizations_url": "https://api.github.com/users/lgrz/orgs",
      "repos_url": "https://api.github.com/users/lgrz/repos",
      "events_url": "https://api.github.com/users/lgrz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lgrz/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-17T02:13:49Z",
    "updated_at": "2015-04-17T02:13:49Z",
    "body": "I was wondering the same thing about the help message. It is not very clear what that `custom_attribute` test is doing, the only hint was the filename.\n\nFrom reading #23974 some help messages were removed, would there be any concern for adding help messages to the expected test output in this case?\n\nIt could be worth adding a comment in there similar to the other gated tests:\n\n```\n// Test that `#[...]` attribute is gated by `...` feature gate.\n```\n\nIn addition, would it be worth going as far as to rename `custom_attribute.rs` to `gated-custom_attribute.rs` (and doing the same for any other gated tests that do not have a `gated-` prefix in their filename)?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/93879130/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/93879817",
    "html_url": "https://github.com/rust-lang/rust/issues/22820#issuecomment-93879817",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/22820",
    "id": 93879817,
    "node_id": "MDEyOklzc3VlQ29tbWVudDkzODc5ODE3",
    "user": {
      "login": "lgrz",
      "id": 158654,
      "node_id": "MDQ6VXNlcjE1ODY1NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/158654?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lgrz",
      "html_url": "https://github.com/lgrz",
      "followers_url": "https://api.github.com/users/lgrz/followers",
      "following_url": "https://api.github.com/users/lgrz/following{/other_user}",
      "gists_url": "https://api.github.com/users/lgrz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lgrz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lgrz/subscriptions",
      "organizations_url": "https://api.github.com/users/lgrz/orgs",
      "repos_url": "https://api.github.com/users/lgrz/repos",
      "events_url": "https://api.github.com/users/lgrz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lgrz/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-17T02:20:09Z",
    "updated_at": "2015-04-19T13:18:32Z",
    "body": "In relation to the feature gate list above I'm going to start off by looking into the following:\n\n**update**: removed items that had tests, and added `optin_builtin_traits`, `advanced_slice_patterns`\n- `rustc_attrs`\n- `on_unimplemented`\n- ~~`custom_derive`~~\n- ~~`box_patterns`~~\n- `optin_builtin_traits`\n- `advanced_slice_patterns`\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/93879817/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/93921370",
    "html_url": "https://github.com/rust-lang/rust/issues/22820#issuecomment-93921370",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/22820",
    "id": 93921370,
    "node_id": "MDEyOklzc3VlQ29tbWVudDkzOTIxMzcw",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-17T07:02:02Z",
    "updated_at": "2015-04-17T07:02:02Z",
    "body": "@lstat ah yes, #23974 is (correctly) why the help mag is missing .... hmm .... that complicates things \n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/93921370/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/94135582",
    "html_url": "https://github.com/rust-lang/rust/issues/22820#issuecomment-94135582",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/22820",
    "id": 94135582,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk0MTM1NTgy",
    "user": {
      "login": "lgrz",
      "id": 158654,
      "node_id": "MDQ6VXNlcjE1ODY1NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/158654?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lgrz",
      "html_url": "https://github.com/lgrz",
      "followers_url": "https://api.github.com/users/lgrz/followers",
      "following_url": "https://api.github.com/users/lgrz/following{/other_user}",
      "gists_url": "https://api.github.com/users/lgrz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lgrz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lgrz/subscriptions",
      "organizations_url": "https://api.github.com/users/lgrz/orgs",
      "repos_url": "https://api.github.com/users/lgrz/repos",
      "events_url": "https://api.github.com/users/lgrz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lgrz/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-18T06:55:33Z",
    "updated_at": "2015-04-18T06:55:33Z",
    "body": "I've done a pass through of the unchecked feature gates and have found tests for the following:\n- `box_patterns` ([gated-box-patterns.rs](https://github.com/rust-lang/rust/blob/master/src/test/compile-fail/gated-box-patterns.rs))\n- `box_syntax` ([gated-box-syntax.rs](https://github.com/rust-lang/rust/blob/master/src/test/compile-fail/gated-box-syntax.rs))\n- `custom_derive` ([single-derive-attr.rs](https://github.com/rust-lang/rust/blob/master/src/test/compile-fail/single-derive-attr.rs))\n- `staged_api` ([staged_api.rs](https://github.com/rust-lang/rust/blob/master/src/test/compile-fail/staged_api.rs))\n- `simd_ffi` ([gated-simd-ffi.rs](https://github.com/rust-lang/rust/blob/master/src/test/compile-fail/gated-simd-ffi.rs))\n- `macro_reexports` ([gated-macro-reexports.rs](https://github.com/rust-lang/rust/blob/master/src/test/compile-fail-fulldeps/gated-macro-reexports.rs))\n\n@pnkfelix Could these be marked as complete?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/94135582/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/94136375",
    "html_url": "https://github.com/rust-lang/rust/issues/22820#issuecomment-94136375",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/22820",
    "id": 94136375,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk0MTM2Mzc1",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-18T07:13:01Z",
    "updated_at": "2015-04-18T07:13:01Z",
    "body": "@lstat thanks!\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/94136375/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/94590639",
    "html_url": "https://github.com/rust-lang/rust/issues/22820#issuecomment-94590639",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/22820",
    "id": 94590639,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk0NTkwNjM5",
    "user": {
      "login": "lgrz",
      "id": 158654,
      "node_id": "MDQ6VXNlcjE1ODY1NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/158654?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lgrz",
      "html_url": "https://github.com/lgrz",
      "followers_url": "https://api.github.com/users/lgrz/followers",
      "following_url": "https://api.github.com/users/lgrz/following{/other_user}",
      "gists_url": "https://api.github.com/users/lgrz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lgrz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lgrz/subscriptions",
      "organizations_url": "https://api.github.com/users/lgrz/orgs",
      "repos_url": "https://api.github.com/users/lgrz/repos",
      "events_url": "https://api.github.com/users/lgrz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lgrz/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-20T23:17:42Z",
    "updated_at": "2015-04-20T23:17:42Z",
    "body": "Ok, so I've had a look through everything, here's my findings:\n\n@pnkfelix I have some questions below for the three outstanding feature gates (at the very bottom of this comment) and was wondering if you could help confirm the status of those feature gate tests?\n\nMy previous [comment](https://github.com/rust-lang/rust/issues/22820#issuecomment-94135582) listed feature gates that had existing tests. I've since found a few more to add to that list.\n\nHere is the full list of feature gates with existing tests. New findings are in bold:\n- `custom_derive`: [single-derive-attr.rs](https://github.com/rust-lang/rust/blob/master/src/test/compile-fail/single-derive-attr.rs)\n- `staged_api`: [staged_api.rs](https://github.com/rust-lang/rust/blob/master/src/test/compile-fail/staged_api.rs)\n- `box_patterns`: [gated-box-patterns.rs](https://github.com/rust-lang/rust/blob/master/src/test/compile-fail/gated-box-patterns.rs)\n- `macro_reexport`: [gated-macro-reexports.rs](https://github.com/rust-lang/rust/blob/master/src/test/compile-fail-fulldeps/gated-macro-reexports.rs)\n- `box_syntax`: [gated-box-syntax.rs](https://github.com/rust-lang/rust/blob/master/src/test/compile-fail/gated-box-syntax.rs)\n- `simd_ffi`: [gated-simd-ffi.rs](https://github.com/rust-lang/rust/blob/master/src/test/compile-fail/gated-simd-ffi.rs)\n- **`unboxed_closures`**: [unboxed-closure-feature-gate.rs](https://github.com/rust-lang/rust/blob/master/src/test/compile-fail/unboxed-closure-feature-gate.rs)\n- **`plugin_registrar`**: [gated-plugin_registrar.rs](https://github.com/rust-lang/rust/blob/master/src/test/compile-fail/gated-plugin_registrar.rs)\n- **`advanced_slice_patterns`**: [feature-gate-advanced-slice-features.rs](https://github.com/rust-lang/rust/blob/master/src/test/compile-fail/feature-gate-advanced-slice-features.rs)\n\nThe following feature gates were removed after this issue was initially created. Since they are no longer around they can be considered complete or crossed out of the task list above:\n- `old_impl_check`: see #23749\n- `old_orphan_check`: see #23288\n\nThe following feature gates appear to have duplicate tests introduced in #23578, the initial tests were added in #20723 and #21233:\n- `box_patterns`\n- `simd_ffi`\n\nThe following are not in the above task list as they have been added since the issue was initially created:\n- `slice_patterns`: see #23794\n- `negate_unsigned`: see #23945\n\nThe following are remaining feature gates needing tests (excluding the feature gates I had questions for, see below). I'm cooking up a PR for these:\n- `on_unimplemented`\n- `rust_attr`\n- `optin_builtin_traits`\n- `plugin`\n- `slice_patterns`\n- `negate_unsigned`\n\nThe following items are ones that I had trouble completing because I have questions and need some feedback:\n- `unmarked_api`\n- `visible_private_types`\n- `rustc_diagnostic_macros`\n\n`unmarked_api`\n\nThe `unmarked_api` was introduced in #21910, and tests for `unmarked_api` were replaced with tests for missing stability attributes: [missing-stability.rs](https://github.com/rust-lang/rust/blob/master/src/test/compile-fail/missing-stability.rs).\n\nIn addition, it seems that there is no way to trigger [this code path](https://github.com/rust-lang/rust/blob/30425bfe54318049e07d97602742b7ee6c745b3a/src/librustc/middle/stability.rs#L261) unless there is a bug in a library or the compiler itself.\n\nAre the tests in missing-stability.rs enough to consider `unmarked_api` complete?\n\n`visible_private_types`\n\nThese appear to be the [tests](lint-visible-private-types.rs) we're looking for relating to `visible_private_types`, could someone confirm this?\n\n`rustc_diagnostic_macros`\n\nThis appears to be the `rustc_diagnostic_macros` feature gate test, but was removed in #19362 (14f9127d) [rustc-diagnostics-3.rs](https://github.com/rust-lang/rust/blob/5d19432679b1047dc00d1fd110d630c4de1dbcfc/src/test/compile-fail/rustc-diagnostics-3.rs)\n\nShould we reinstate the test in this issue or let it be handled by #19624 which is in the works?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/94590639/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/154194778",
    "html_url": "https://github.com/rust-lang/rust/issues/22820#issuecomment-154194778",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/22820",
    "id": 154194778,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1NDE5NDc3OA==",
    "user": {
      "login": "abhijeetbhagat",
      "id": 9682848,
      "node_id": "MDQ6VXNlcjk2ODI4NDg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9682848?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/abhijeetbhagat",
      "html_url": "https://github.com/abhijeetbhagat",
      "followers_url": "https://api.github.com/users/abhijeetbhagat/followers",
      "following_url": "https://api.github.com/users/abhijeetbhagat/following{/other_user}",
      "gists_url": "https://api.github.com/users/abhijeetbhagat/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/abhijeetbhagat/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/abhijeetbhagat/subscriptions",
      "organizations_url": "https://api.github.com/users/abhijeetbhagat/orgs",
      "repos_url": "https://api.github.com/users/abhijeetbhagat/repos",
      "events_url": "https://api.github.com/users/abhijeetbhagat/events{/privacy}",
      "received_events_url": "https://api.github.com/users/abhijeetbhagat/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-11-05T21:14:04Z",
    "updated_at": "2015-11-05T21:14:04Z",
    "body": "For visible_private_types, i found src/test/run-pass/visible-private-types-feature-gate.rs\nNot sure if item this should be ticked as well.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/154194778/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/228901669",
    "html_url": "https://github.com/rust-lang/rust/issues/22820#issuecomment-228901669",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/22820",
    "id": 228901669,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyODkwMTY2OQ==",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-06-27T23:01:59Z",
    "updated_at": "2016-06-27T23:02:09Z",
    "body": "There appear to be a lot of new unstable features since this was touched. It seems hopeless to ever catch up on this issue without an automatic tidy script verifying the tests exist. @pnkfelix do you want this issue to continue? Should we try to augment tidy to check the existence of compile-fail tests mentioning unstable features?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/228901669/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/229026889",
    "html_url": "https://github.com/rust-lang/rust/issues/22820#issuecomment-229026889",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/22820",
    "id": 229026889,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyOTAyNjg4OQ==",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-06-28T11:50:51Z",
    "updated_at": "2016-06-28T11:50:51Z",
    "body": "@brson I agree that it seems like we'll never be able to close this without having some sort of automation (e.g. a tidy script, as you say) to verify that the tests exist.\n\nI don't have any immediate idea about the best way to write such a script. I guess it could just be based on some naming convention for the test itself; i.e. it would be just a heuristic check, not a true verification of it.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/229026889/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/229122041",
    "html_url": "https://github.com/rust-lang/rust/issues/22820#issuecomment-229122041",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/22820",
    "id": 229122041,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyOTEyMjA0MQ==",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-06-28T17:31:07Z",
    "updated_at": "2016-06-28T17:31:38Z",
    "body": "I think it could be written like so: after [featureck](https://github.com/rust-lang/rust/blob/master/src/tools/tidy/src/features.rs), search everything in `src/compile-fail` for `#![deny($feature_name)]`. If this makes sense I can mentor.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/229122041/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/229211191",
    "html_url": "https://github.com/rust-lang/rust/issues/22820#issuecomment-229211191",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/22820",
    "id": 229211191,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyOTIxMTE5MQ==",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-06-28T23:08:57Z",
    "updated_at": "2016-06-28T23:08:57Z",
    "body": "@brson but requiring the test to explicitly deny the feature defeats the point, doesn't it? \n\nThat is,  the goal here is to catch code that makes use of a feature without explicitly opting into that feature. ..\n\nThough I suppose you might be thinking that if there is enough infrastructure present to support some kind of deny(feature) attribute, then that is a sign that the necessary gating is in place, regardless of what the default lint settings actually are? \n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/229211191/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/229449826",
    "html_url": "https://github.com/rust-lang/rust/issues/22820#issuecomment-229449826",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/22820",
    "id": 229449826,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyOTQ0OTgyNg==",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-06-29T18:42:19Z",
    "updated_at": "2016-06-29T18:42:19Z",
    "body": "@pnkfelix Good point. I think yes, I was considering that just confirming that the compiler has code that correctly _can_ deny the feature is good enough, but there is some room for error by making the deny explicit. The `deny` attribute also wouldn't actually confirm that the compile failed for the correct reason. We could also just require tests to annotate in some other way that yes, it is testing that a particular feature is denied.\n\nAs an extension to my previous suggestion, the test runner could take the test case that is annotated to be a 'deny feature' test, run it once with `allow(feature)` then run it again with no feature attribute, and compare the results.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/229449826/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/229450234",
    "html_url": "https://github.com/rust-lang/rust/issues/22820#issuecomment-229450234",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/22820",
    "id": 229450234,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyOTQ1MDIzNA==",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-06-29T18:43:46Z",
    "updated_at": "2016-06-29T18:43:46Z",
    "body": "Similarly to the above, but to avoid creating another custom test runner. The featureck lint could require that `compile-test` and `run-pass` contain pairs of feature tests that are identical, one with `#[allow(feature)]` and one without.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/229450234/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/286711497",
    "html_url": "https://github.com/rust-lang/rust/issues/22820#issuecomment-286711497",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/22820",
    "id": 286711497,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NjcxMTQ5Nw==",
    "user": {
      "login": "est31",
      "id": 8872119,
      "node_id": "MDQ6VXNlcjg4NzIxMTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8872119?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/est31",
      "html_url": "https://github.com/est31",
      "followers_url": "https://api.github.com/users/est31/followers",
      "following_url": "https://api.github.com/users/est31/following{/other_user}",
      "gists_url": "https://api.github.com/users/est31/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/est31/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/est31/subscriptions",
      "organizations_url": "https://api.github.com/users/est31/orgs",
      "repos_url": "https://api.github.com/users/est31/repos",
      "events_url": "https://api.github.com/users/est31/events{/privacy}",
      "received_events_url": "https://api.github.com/users/est31/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-03-15T11:11:54Z",
    "updated_at": "2017-03-15T11:11:54Z",
    "body": "With #39059 fixed, maybe this issue can be closed as resolved?",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/286711497/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/303510017",
    "html_url": "https://github.com/rust-lang/rust/issues/22820#issuecomment-303510017",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/22820",
    "id": 303510017,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMzUxMDAxNw==",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-05-23T19:41:41Z",
    "updated_at": "2017-05-23T19:41:41Z",
    "body": "Thanks @est31 ",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/303510017/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
