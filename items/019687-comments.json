[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/66405072",
    "html_url": "https://github.com/rust-lang/rust/issues/19687#issuecomment-66405072",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19687",
    "id": 66405072,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2NDA1MDcy",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-12-10T05:02:20Z",
    "updated_at": "2014-12-10T05:02:20Z",
    "body": "Just double checking: are you building with optimisations?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/66405072/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/66406038",
    "html_url": "https://github.com/rust-lang/rust/issues/19687#issuecomment-66406038",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19687",
    "id": 66406038,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2NDA2MDM4",
    "user": {
      "login": "reem",
      "id": 4745181,
      "node_id": "MDQ6VXNlcjQ3NDUxODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4745181?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/reem",
      "html_url": "https://github.com/reem",
      "followers_url": "https://api.github.com/users/reem/followers",
      "following_url": "https://api.github.com/users/reem/following{/other_user}",
      "gists_url": "https://api.github.com/users/reem/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/reem/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/reem/subscriptions",
      "organizations_url": "https://api.github.com/users/reem/orgs",
      "repos_url": "https://api.github.com/users/reem/repos",
      "events_url": "https://api.github.com/users/reem/events{/privacy}",
      "received_events_url": "https://api.github.com/users/reem/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-12-10T05:20:29Z",
    "updated_at": "2014-12-10T05:20:29Z",
    "body": "Yup. Originally tried with cargo bench then compiled manually with\n--opt-level 3 -C lto\nOn Tue, Dec 9, 2014 at 9:02 PM Huon Wilson notifications@github.com wrote:\n\n> Just double checking: are you building with optimisations?\n> \n> \u2014\n> Reply to this email directly or view it on GitHub\n> https://github.com/rust-lang/rust/issues/19687#issuecomment-66405072.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/66406038/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/66418221",
    "html_url": "https://github.com/rust-lang/rust/issues/19687#issuecomment-66418221",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19687",
    "id": 66418221,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2NDE4MjIx",
    "user": {
      "login": "mahkoh",
      "id": 1882250,
      "node_id": "MDQ6VXNlcjE4ODIyNTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1882250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mahkoh",
      "html_url": "https://github.com/mahkoh",
      "followers_url": "https://api.github.com/users/mahkoh/followers",
      "following_url": "https://api.github.com/users/mahkoh/following{/other_user}",
      "gists_url": "https://api.github.com/users/mahkoh/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mahkoh/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mahkoh/subscriptions",
      "organizations_url": "https://api.github.com/users/mahkoh/orgs",
      "repos_url": "https://api.github.com/users/mahkoh/repos",
      "events_url": "https://api.github.com/users/mahkoh/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mahkoh/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-12-10T08:23:28Z",
    "updated_at": "2014-12-10T08:23:28Z",
    "body": "The faster version doesn't actually bench anything:\n\n``` asm\n    callq   _ZN15n_queens_helper20h5eeb7aeda9e3dcfbFaaE\n    leaq    8(%rsp), %rcx\n    leaq    16(%rsp), %rdx\n    .align  16, 0x90\n.LBB2_4:\n    movq    %rax, 8(%rsp)\n    #APP\n    #NO_APP\n    #APP\n    #NO_APP\n    decq    %rbx\n    jne .LBB2_4\n```\n\nwhereas the slower version\n\n``` asm\n    .align  16, 0x90\n.LBB1_4:\n    xorl    %edi, %edi\n    xorl    %esi, %esi\n    xorl    %edx, %edx\n    callq   _ZN15n_queens_helper20h7ab2ef9deb11893eFaaE\n    movq    %rax, 8(%rsp)\n    #APP\n    #NO_APP\n    #APP\n    #NO_APP\n    decq    %rbx\n    jne .LBB1_4\n```\n\nGenerated with the following code and an unknown rust version from approximately 11-8:\n\n``` rust\nextern crate test;\nuse test::Bencher;\n\nfn n_queens(n: i32) -> uint {\n    return n_queens_helper((1 << n as uint) -1, 0, 0, 0);\n}\n\nfn n_queens_helper(all_ones: i32, left_diags: i32, columns: i32, right_diags: i32) -> uint {\n    let mut solutions = 0;\n    let mut valid_spots = !(left_diags | columns | right_diags) & all_ones;\n    while valid_spots != 0 {\n        let spot = -valid_spots & valid_spots;\n        valid_spots = valid_spots ^ spot;\n        solutions += n_queens_helper(\n            all_ones,\n            (left_diags | spot) << 1,\n            (columns | spot),\n            (right_diags | spot) >> 1);\n    }\n    return solutions + ((columns == all_ones) as uint)\n}\n\n//#[test]\n//fn test_parallel_n_queens() {\n//    n_queens_helper(0, 0, 0, 0);\n//}\n\n#[bench]\nfn bench_n_queens(b: &mut Bencher) {\n    b.iter(|| test::black_box(n_queens(12)));\n}\n```\n\nThis generates the slower version. Remove the // to generate the faster version.\n\nNot a regression.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/66418221/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/85760273",
    "html_url": "https://github.com/rust-lang/rust/issues/19687#issuecomment-85760273",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19687",
    "id": 85760273,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg1NzYwMjcz",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-25T00:36:49Z",
    "updated_at": "2015-03-25T00:36:49Z",
    "body": "@reem closing due to inactivity and @mahkoh's indication that this isn't a regression. Feel free to repro and reopen.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/85760273/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
