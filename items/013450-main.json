{
  "url": "https://api.github.com/repos/rust-lang/rust/issues/13450",
  "repository_url": "https://api.github.com/repos/rust-lang/rust",
  "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/13450/labels{/name}",
  "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/13450/comments",
  "events_url": "https://api.github.com/repos/rust-lang/rust/issues/13450/events",
  "html_url": "https://github.com/rust-lang/rust/pull/13450",
  "id": 31289240,
  "node_id": "MDExOlB1bGxSZXF1ZXN0MTQ2MzExODY=",
  "number": 13450,
  "title": "Filesearch fixes for crosses.",
  "user": {
    "login": "DiamondLovesYou",
    "id": 650357,
    "node_id": "MDQ6VXNlcjY1MDM1Nw==",
    "avatar_url": "https://avatars.githubusercontent.com/u/650357?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/DiamondLovesYou",
    "html_url": "https://github.com/DiamondLovesYou",
    "followers_url": "https://api.github.com/users/DiamondLovesYou/followers",
    "following_url": "https://api.github.com/users/DiamondLovesYou/following{/other_user}",
    "gists_url": "https://api.github.com/users/DiamondLovesYou/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/DiamondLovesYou/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/DiamondLovesYou/subscriptions",
    "organizations_url": "https://api.github.com/users/DiamondLovesYou/orgs",
    "repos_url": "https://api.github.com/users/DiamondLovesYou/repos",
    "events_url": "https://api.github.com/users/DiamondLovesYou/events{/privacy}",
    "received_events_url": "https://api.github.com/users/DiamondLovesYou/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "labels": [],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [],
  "milestone": null,
  "comments": 22,
  "created_at": "2014-04-10T22:57:45Z",
  "updated_at": "2014-06-18T05:21:17Z",
  "closed_at": "2014-04-24T22:30:26Z",
  "author_association": "CONTRIBUTOR",
  "type": null,
  "active_lock_reason": null,
  "draft": false,
  "pull_request": {
    "url": "https://api.github.com/repos/rust-lang/rust/pulls/13450",
    "html_url": "https://github.com/rust-lang/rust/pull/13450",
    "diff_url": "https://github.com/rust-lang/rust/pull/13450.diff",
    "patch_url": "https://github.com/rust-lang/rust/pull/13450.patch",
    "merged_at": null
  },
  "body": "Currently Rustc has no way to differentiate crates based on the crate's target. That is, getting Rustc to use host platform crates for syntax phase dependencies (by using -L paths) whilst also using the same filesearch paths to resolve link phase crates results in either version mismatches or multiple matching crate errors. A truly vexing problem whilst cross compiling.\n\nTo remedy this, I added a new metadata tag, tag_crate_target, and added it to the crate metadata. I also slightly modified the build pipeline so that resolving syntax extensions for crosses will search through rustc's set of crates, instead of always searching though the target set (but only while cross compiling). Additionally, while cross compiling, rustc will _always_ reset its cstore, lest host platform dep libraries leak in.\n\nThis isn't user visible, but I also added a Triple structure, which for the most part mimics LLVM's behavior. I realize it wasn't strictly speaking necessarily, but it made working with the triple in filesearch && loader a tad bit easier.\n",
  "closed_by": {
    "login": "alexcrichton",
    "id": 64996,
    "node_id": "MDQ6VXNlcjY0OTk2",
    "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/alexcrichton",
    "html_url": "https://github.com/alexcrichton",
    "followers_url": "https://api.github.com/users/alexcrichton/followers",
    "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
    "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
    "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
    "repos_url": "https://api.github.com/users/alexcrichton/repos",
    "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
    "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/13450/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/13450/timeline",
  "performed_via_github_app": null,
  "state_reason": null,
  "_meta": {
    "type": "pr"
  }
}
