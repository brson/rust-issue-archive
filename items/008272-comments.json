[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/22063516",
    "html_url": "https://github.com/rust-lang/rust/pull/8272#issuecomment-22063516",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8272",
    "id": 22063516,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMDYzNTE2",
    "user": {
      "login": "bluss",
      "id": 3209739,
      "node_id": "MDQ6VXNlcjMyMDk3Mzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3209739?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bluss",
      "html_url": "https://github.com/bluss",
      "followers_url": "https://api.github.com/users/bluss/followers",
      "following_url": "https://api.github.com/users/bluss/following{/other_user}",
      "gists_url": "https://api.github.com/users/bluss/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bluss/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bluss/subscriptions",
      "organizations_url": "https://api.github.com/users/bluss/orgs",
      "repos_url": "https://api.github.com/users/bluss/repos",
      "events_url": "https://api.github.com/users/bluss/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bluss/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-08-03T23:00:17Z",
    "updated_at": "2013-08-03T23:00:32Z",
    "body": "We need to discuss the I/O traits (Reader and Writer) at some point. Maybe not now, I'm just making you aware. The SipHash in libstd does implement Writer, and I think it would make sense for all digest objects to do too, eventually.\n\nRight now \u2014 since the move to the new I/O traits is not completed \u2014 it's not really a convenient time. I was thinking of this because the I/O module already defines reading/writing things like `u64_le` and so on.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/22063516/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/22123624",
    "html_url": "https://github.com/rust-lang/rust/pull/8272#issuecomment-22123624",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8272",
    "id": 22123624,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMTIzNjI0",
    "user": {
      "login": "alco",
      "id": 207748,
      "node_id": "MDQ6VXNlcjIwNzc0OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/207748?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alco",
      "html_url": "https://github.com/alco",
      "followers_url": "https://api.github.com/users/alco/followers",
      "following_url": "https://api.github.com/users/alco/following{/other_user}",
      "gists_url": "https://api.github.com/users/alco/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alco/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alco/subscriptions",
      "organizations_url": "https://api.github.com/users/alco/orgs",
      "repos_url": "https://api.github.com/users/alco/repos",
      "events_url": "https://api.github.com/users/alco/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alco/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-08-05T17:50:46Z",
    "updated_at": "2013-08-05T17:50:46Z",
    "body": "I'm having issues with building your branch and I don't have much free time to deal with this anymore. My MD5 implementation is based on MD4 that is currently in Rust, so it should be pretty straightforward to compare that to this PR if anyone has interest in this.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/22123624/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/22223710",
    "html_url": "https://github.com/rust-lang/rust/pull/8272#issuecomment-22223710",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8272",
    "id": 22223710,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMjIzNzEw",
    "user": {
      "login": "DaGenix",
      "id": 2101211,
      "node_id": "MDQ6VXNlcjIxMDEyMTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2101211?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DaGenix",
      "html_url": "https://github.com/DaGenix",
      "followers_url": "https://api.github.com/users/DaGenix/followers",
      "following_url": "https://api.github.com/users/DaGenix/following{/other_user}",
      "gists_url": "https://api.github.com/users/DaGenix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DaGenix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DaGenix/subscriptions",
      "organizations_url": "https://api.github.com/users/DaGenix/orgs",
      "repos_url": "https://api.github.com/users/DaGenix/repos",
      "events_url": "https://api.github.com/users/DaGenix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DaGenix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-08-07T01:16:51Z",
    "updated_at": "2013-08-07T01:16:51Z",
    "body": "@blake2-ppc I'm not sure I have a fully baked opinion on implementing Writer. One thing that feels weird to me is that the Writer trait has a flush() method. This method is unnecessary for Digests, but if they all implement Writer, then they'd all have to have no-op versions of this method. Writer also defines an error handling protocol. That protocol isn't really applicable to Digests, however, since they generally can't fail in a way where I think a reasonable application would be able to recover. Md5 can't fail at all; Sha1 and Sha2 can only fail if the input size is too large. I don't see how an application can recover from that error though - if the application needs a Sha1 hash, but the input is too large, I don't think there much that can be done. In general, I think an application that needs a Sha1 hash needs a Sha1 hash specifically and won't be able to detect failure and then fallback to MD5 or Sha-512 - if those hashes were acceptable, it would have used them in the first place.\n\nWhat about a set of adapter objects that implement Writer and delegate to a Digest? Maybe DigestWriter and DigestStreamWriter? The former would just send the input to Digest, while the latter would send it to the Digest and then also to another Writer for processing?\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/22223710/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/22223816",
    "html_url": "https://github.com/rust-lang/rust/pull/8272#issuecomment-22223816",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8272",
    "id": 22223816,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMjIzODE2",
    "user": {
      "login": "DaGenix",
      "id": 2101211,
      "node_id": "MDQ6VXNlcjIxMDEyMTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2101211?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DaGenix",
      "html_url": "https://github.com/DaGenix",
      "followers_url": "https://api.github.com/users/DaGenix/followers",
      "following_url": "https://api.github.com/users/DaGenix/following{/other_user}",
      "gists_url": "https://api.github.com/users/DaGenix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DaGenix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DaGenix/subscriptions",
      "organizations_url": "https://api.github.com/users/DaGenix/orgs",
      "repos_url": "https://api.github.com/users/DaGenix/repos",
      "events_url": "https://api.github.com/users/DaGenix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DaGenix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-08-07T01:19:53Z",
    "updated_at": "2013-08-07T01:19:53Z",
    "body": "I rebased to get rid of uses of \"foreach.\"\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/22223816/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/22289871",
    "html_url": "https://github.com/rust-lang/rust/pull/8272#issuecomment-22289871",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8272",
    "id": 22289871,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMjg5ODcx",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-08-07T22:40:19Z",
    "updated_at": "2013-08-07T22:40:19Z",
    "body": "@DaGenix `flush` should probably have a no-op default implementation. I don't think your concerns about error handling are relevant. It just wont' throw the error if it can't happen, and if nothing can be done to handle the error for other hashes, that's fine too, but there's no problem using a condition, and using a condition is nicer than task failure when the user _does_ want to handle the error.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/22289871/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/22304160",
    "html_url": "https://github.com/rust-lang/rust/pull/8272#issuecomment-22304160",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8272",
    "id": 22304160,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMzA0MTYw",
    "user": {
      "login": "DaGenix",
      "id": 2101211,
      "node_id": "MDQ6VXNlcjIxMDEyMTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2101211?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DaGenix",
      "html_url": "https://github.com/DaGenix",
      "followers_url": "https://api.github.com/users/DaGenix/followers",
      "following_url": "https://api.github.com/users/DaGenix/following{/other_user}",
      "gists_url": "https://api.github.com/users/DaGenix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DaGenix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DaGenix/subscriptions",
      "organizations_url": "https://api.github.com/users/DaGenix/orgs",
      "repos_url": "https://api.github.com/users/DaGenix/repos",
      "events_url": "https://api.github.com/users/DaGenix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DaGenix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-08-08T05:49:08Z",
    "updated_at": "2013-08-08T05:56:34Z",
    "body": "@cmr I wasn't saying that I think anything is necessarily wrong with the Writer trait. All I'm trying to say is that the Writer trait defines a bunch of behavior that is irrelevant for most or all Digests.\n- flush() is one example.\n- A 2nd is that Writer defines raising a io_error condition which I don't think makes sense for Digests. A caller that expects failed calls to write() to raise io_error might be surprised.\n- If one task writes too much data to a Digest, but doesn't get the result, and than passes that Digest to a child task which does get the result - which task should fail, the parent or the child? If we want the child to fail, we'd have to add extra state handling logic to the Digests for this corner case. If its the parent that fails, that might be surprising due to the previous point.\n- Right now the Reader and Writer traits are a little inconsistent - Reader allows for reads to return 0 bytes, but the Writer trait doesn't currently allow for write() to write 0 bytes. POSIX write() allows for this, however. So, I'd assume that either Reader or Writer will be changed eventually. If Writer grows the ability to complete without writing everything that was requested, that becomes another thing that doesn't really apply to Digests. Any effort that the caller spends to handle this case is wasted if a Digest is passed in. Maybe LLVM could optimize out that effort in some cases, but I'd imagine it couldn't handle all of them.\n- How often does a caller want to write data to a Digest, but not also have access to the data that was processed? Probably sometimes, but, I'd argue that in the majority of cases, if I compute a Digest on some data, I also want to have the data that was processed to write to a file or a socket. Not every function that sends bytes to a Writer is guaranteed to send the exact same bytes each time.\n\nSo, is a Digest really a Writer? The main similarity seems to be that both a Writer and a Digest can accept a bunch of bytes and do something with them, but they differ in how they accept those bytes.\n\nIf no-one agrees with me, I'm happy to write up a patch that implements Writer for Digests, though, I have some reservations about it. I'd suggest that maybe a different PR would be a better place to do that, since that change would affect all existing Digests, not just this one.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/22304160/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/22304210",
    "html_url": "https://github.com/rust-lang/rust/pull/8272#issuecomment-22304210",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8272",
    "id": 22304210,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMzA0MjEw",
    "user": {
      "login": "DaGenix",
      "id": 2101211,
      "node_id": "MDQ6VXNlcjIxMDEyMTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2101211?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DaGenix",
      "html_url": "https://github.com/DaGenix",
      "followers_url": "https://api.github.com/users/DaGenix/followers",
      "following_url": "https://api.github.com/users/DaGenix/following{/other_user}",
      "gists_url": "https://api.github.com/users/DaGenix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DaGenix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DaGenix/subscriptions",
      "organizations_url": "https://api.github.com/users/DaGenix/orgs",
      "repos_url": "https://api.github.com/users/DaGenix/repos",
      "events_url": "https://api.github.com/users/DaGenix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DaGenix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-08-08T05:50:56Z",
    "updated_at": "2013-08-08T05:50:56Z",
    "body": "I opened this PR to foster a discussion / comparison of various implementations. Is there more discussion that needs to take place? Is this ready for a review or should this stay open a bit longer before being reviewed?\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/22304210/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/22805579",
    "html_url": "https://github.com/rust-lang/rust/pull/8272#issuecomment-22805579",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8272",
    "id": 22805579,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyODA1NTc5",
    "user": {
      "login": "DaGenix",
      "id": 2101211,
      "node_id": "MDQ6VXNlcjIxMDEyMTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2101211?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DaGenix",
      "html_url": "https://github.com/DaGenix",
      "followers_url": "https://api.github.com/users/DaGenix/followers",
      "following_url": "https://api.github.com/users/DaGenix/following{/other_user}",
      "gists_url": "https://api.github.com/users/DaGenix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DaGenix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DaGenix/subscriptions",
      "organizations_url": "https://api.github.com/users/DaGenix/orgs",
      "repos_url": "https://api.github.com/users/DaGenix/repos",
      "events_url": "https://api.github.com/users/DaGenix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DaGenix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-08-17T04:43:15Z",
    "updated_at": "2013-08-17T04:43:15Z",
    "body": "@cmr I rebased this to combine it with #8501 to be easier on bors.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/22805579/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
