[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/27044374",
    "html_url": "https://github.com/rust-lang/rust/pull/10058#issuecomment-27044374",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10058",
    "id": 27044374,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MDQ0Mzc0",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-10-24T23:53:35Z",
    "updated_at": "2013-10-24T23:53:35Z",
    "body": "I also wanted to mention that we should not be linking `libuv` into `librustrt` right now, but rather we should statically link it to this `librustuv` crate and prevent the symbols from being exposed. We're currently \"really lucky\" in that the `-lrustrt` is propagated all over the place so the symbols can all get resolved, but this situation is not ideal.\n\nI don't believe that our linking model is currently well suited to express functionality like this, but it's also not a high-priority issue.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/27044374/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/27113670",
    "html_url": "https://github.com/rust-lang/rust/pull/10058#issuecomment-27113670",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10058",
    "id": 27113670,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTEzNjcw",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-10-25T18:08:09Z",
    "updated_at": "2013-10-25T18:08:09Z",
    "body": "One change which I've now snuck in here is removing the `weak_linkage` attribute. From what I've seen, this cannot be done in a platform-agnostic manner (at least not as implemented), and certainly not by \"just using\" the `extern_weak` linkage from LLVM.\n\nThe only use case for this was the crate map, and it turned out that the crate map needed even more special treatment than just the `weak_linkage` attribute. The problem that I ran into was that `rust_crate_map_toplevel` was declared at the start of trans as a global (when compiling libstd as a --test binary), but then when it came around to translating the static which is a weak reference to the crate map, it would redeclare a global with the same name (which LLVM would silently rewrite to `rust_crate_map_XXXX`). Linkage then failed because the weak global of `rust_crate_map_XXXX` was never resolved and things started dying.\n\nI'm personally in favor of this issue because `weak_linkage` barely works today, and it really only works on linux. On OSX you've got to pass some weird linker flags, and then on windows nothing works at all so we have to manually resort to a dynamic lookup of a symbol. If we want to support the idea of \"weak linkage\", then I think this is going to need some more language and runtime support than just using LLVM's `ExternWeak` linkage.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/27113670/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/27268047",
    "html_url": "https://github.com/rust-lang/rust/pull/10058#issuecomment-27268047",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10058",
    "id": 27268047,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MjY4MDQ3",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-10-28T23:53:35Z",
    "updated_at": "2013-10-28T23:53:35Z",
    "body": "The #[event_loop_factory] lang item implies that multiple crates that implement the event loop can't be used interchangeably (because we'd be linking in two event loop factory lang items). In other words, if `librustev` implements the event loop and also defines the lang item, then a user can't use the default `libuv` for most schedulers then also opt in to one scheduler using `libev`. That's a contrived example, and I don't think this will be a problem for a long time, so not a big deal now. Just pointing it out.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/27268047/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/27268349",
    "html_url": "https://github.com/rust-lang/rust/pull/10058#issuecomment-27268349",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10058",
    "id": 27268349,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MjY4MzQ5",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-10-28T23:59:27Z",
    "updated_at": "2013-10-28T23:59:27Z",
    "body": "The compiler doesn't appear to use the 'event_loop' lang item. Is it really needed?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/27268349/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
