[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/43427685",
    "html_url": "https://github.com/rust-lang/rust/issues/14268#issuecomment-43427685",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14268",
    "id": 43427685,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNDI3Njg1",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-05-18T00:07:55Z",
    "updated_at": "2014-05-18T00:08:15Z",
    "body": "> I think the right solution here is to simply not consider the marker fields when deriving traits, with the only exception being Clone. Every other trait should just pretend that field doesn't exist.\n\nThere's no way to do this in general, `#[deriving]` cannot tell if a field is a marker or not.\n\nImplementing more traits for the markers would work.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/43427685/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/43429037",
    "html_url": "https://github.com/rust-lang/rust/issues/14268#issuecomment-43429037",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14268",
    "id": 43429037,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNDI5MDM3",
    "user": {
      "login": "lilyball",
      "id": 714,
      "node_id": "MDQ6VXNlcjcxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/714?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lilyball",
      "html_url": "https://github.com/lilyball",
      "followers_url": "https://api.github.com/users/lilyball/followers",
      "following_url": "https://api.github.com/users/lilyball/following{/other_user}",
      "gists_url": "https://api.github.com/users/lilyball/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lilyball/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lilyball/subscriptions",
      "organizations_url": "https://api.github.com/users/lilyball/orgs",
      "repos_url": "https://api.github.com/users/lilyball/repos",
      "events_url": "https://api.github.com/users/lilyball/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lilyball/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-05-18T01:40:06Z",
    "updated_at": "2014-05-18T01:40:06Z",
    "body": "> Implementing more traits for the markers would work.\n\nEvery single derivable trait would have to be implemented on the markers (except for `Send`/`Share`/`Copy`, of course). And that's not necessarily going to produce desired behavior in the container struct.\n\nFor example, a struct with a marker is unlikely to find `Encodable`/`Decodable` to be useful traits to derive, as the intended JSON (or whatever) representation is unlikely to want a `nocopy` field.\n\nSimilarly, including the field in `Show` is probably not going to be very useful.\n\n> There's no way to do this in general\n\nCrud, looks like you're right. Deriving can see the path to the type, but I guess it can't actually get any info about it beyond that path.\n\nAn alternative would be an attribute on the field that says it should be skipped for derivings. Although again, it would want to be ignored for Clone, and I'm not sure how to handle `Decodable` either (unless in both cases we resort to a default value). Something like\n\n``` rust\n#[deriving(Show)]\nstruct Foo {\n    x: int,\n    #[deriving(skip)]\n    nocopy: ::std::kinds::marker::NoCopy\n}\n```\n\nWe could even use `Default::default()` to provide the default value (which does require implementing that one trait on the marker types).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/43429037/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/43455085",
    "html_url": "https://github.com/rust-lang/rust/issues/14268#issuecomment-43455085",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14268",
    "id": 43455085,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNDU1MDg1",
    "user": {
      "login": "Kimundi",
      "id": 2903206,
      "node_id": "MDQ6VXNlcjI5MDMyMDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2903206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Kimundi",
      "html_url": "https://github.com/Kimundi",
      "followers_url": "https://api.github.com/users/Kimundi/followers",
      "following_url": "https://api.github.com/users/Kimundi/following{/other_user}",
      "gists_url": "https://api.github.com/users/Kimundi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Kimundi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Kimundi/subscriptions",
      "organizations_url": "https://api.github.com/users/Kimundi/orgs",
      "repos_url": "https://api.github.com/users/Kimundi/repos",
      "events_url": "https://api.github.com/users/Kimundi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Kimundi/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-05-18T22:07:47Z",
    "updated_at": "2014-05-18T22:40:27Z",
    "body": "An attribute to exclude a field sounds like a more useful solution, and also easily allows customization for other use cases.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/43455085/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/43456915",
    "html_url": "https://github.com/rust-lang/rust/issues/14268#issuecomment-43456915",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14268",
    "id": 43456915,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNDU2OTE1",
    "user": {
      "login": "lilyball",
      "id": 714,
      "node_id": "MDQ6VXNlcjcxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/714?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lilyball",
      "html_url": "https://github.com/lilyball",
      "followers_url": "https://api.github.com/users/lilyball/followers",
      "following_url": "https://api.github.com/users/lilyball/following{/other_user}",
      "gists_url": "https://api.github.com/users/lilyball/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lilyball/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lilyball/subscriptions",
      "organizations_url": "https://api.github.com/users/lilyball/orgs",
      "repos_url": "https://api.github.com/users/lilyball/repos",
      "events_url": "https://api.github.com/users/lilyball/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lilyball/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-05-18T23:27:48Z",
    "updated_at": "2014-05-18T23:27:48Z",
    "body": "@Kimundi I have a PR #14219 that allows for customizing of `#[deriving(Default)]` on a per-field basis. It uses an attribute like `#[default=\"42\"]`. Perhaps this is the right time to talk about a more general approach to customizing Deriving in general. @alexcrichton seems to be against the idea, although I'm not sure why.\n\nPerhaps we could re-use the `deriving` name, so that my above attribute is `#[deriving(default=\"42\")]`? (assuming that syntax is compatible with the current attribute parser, I haven't checked to see what exactly we're accepting now, but of course the parser isn't set in stone). Then skipping fields could just be `#[deriving(skip)]` to mean \"skip when possible\". We'd have to define `clone` and `decodable` as perhaps using `Default::default()` as the value (which has a nice symmetry with `#[deriving(Default)]`, e.g. derived traits that return a new instance of the struct will fill each field with `Default::default()` unless the derived trait instructs otherwise). Then we could also do e.g. `#[deriving(Show=skip)]`. Or maybe it would be better as `#[deriving(skip(Show))]`.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/43456915/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/71272844",
    "html_url": "https://github.com/rust-lang/rust/issues/14268#issuecomment-71272844",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14268",
    "id": 71272844,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxMjcyODQ0",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-23T21:53:06Z",
    "updated_at": "2015-01-23T21:53:06Z",
    "body": "I'm pulling a massive triage effort to get us ready for 1.0. As part of this, I'm moving stuff that's wishlist-like to the RFCs repo, as that's where major new things should get discussed/prioritized.\n\nThis issue has been moved to the RFCs repo: rust-lang/rfcs#726\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/71272844/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
