[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/17646575",
    "html_url": "https://github.com/rust-lang/rust/pull/6348#issuecomment-17646575",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6348",
    "id": 17646575,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3NjQ2NTc1",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-05-09T02:45:03Z",
    "updated_at": "2013-05-09T02:45:03Z",
    "body": "Related to #4724\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/17646575/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/17646804",
    "html_url": "https://github.com/rust-lang/rust/pull/6348#issuecomment-17646804",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6348",
    "id": 17646804,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3NjQ2ODA0",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-05-09T02:55:45Z",
    "updated_at": "2013-05-09T02:57:01Z",
    "body": "Thanks! Can you give an example of how `absurd` would be used? Are there any synonyms that you also considered? The word `absurd` is sort of strange for a method name.\n\nI think we probably also want to make `libc::c_void` a typedef for `util::Void`. Do you mind adding that commit?\n\nIn the future we might want to comb through the codebase to find places where `c_void` should be replaced with `Void` - it's not every occurrence but Rust code that just wants to use void pointers without other C interop should probably be using `Void`.\n\nWe may also want some conversion traits, e.g. `VoidPtrable`. It's a fairly common pattern in my bindings code to transmute between `~` and `*c_void`, but I'm not entirely sure what's needed here.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/17646804/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/17647844",
    "html_url": "https://github.com/rust-lang/rust/pull/6348#issuecomment-17647844",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6348",
    "id": 17647844,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3NjQ3ODQ0",
    "user": {
      "login": "basic-calculus",
      "id": 4070335,
      "node_id": "MDQ6VXNlcjQwNzAzMzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4070335?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/basic-calculus",
      "html_url": "https://github.com/basic-calculus",
      "followers_url": "https://api.github.com/users/basic-calculus/followers",
      "following_url": "https://api.github.com/users/basic-calculus/following{/other_user}",
      "gists_url": "https://api.github.com/users/basic-calculus/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/basic-calculus/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/basic-calculus/subscriptions",
      "organizations_url": "https://api.github.com/users/basic-calculus/orgs",
      "repos_url": "https://api.github.com/users/basic-calculus/repos",
      "events_url": "https://api.github.com/users/basic-calculus/events{/privacy}",
      "received_events_url": "https://api.github.com/users/basic-calculus/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-05-09T03:43:04Z",
    "updated_at": "2013-05-09T03:44:32Z",
    "body": "@brson I was using absurd because it was the name of the function that another person used when doing a similar thing in Haskell. However, I was thinking of using uninhabitable instead of absurd to highlight the similarities to the function unreachable because they have similar purposes, (or maybe name the type Uninhabited.)\n\nThe use of absurd is similar to the use of uninhabitable. Consider a generic higher-order function \"receive\" that allows the user to optionable get a different type of value. In the following code absurd would simply be a less error prone alternative to unreachable.\n\n```\ndo receive |value| {\n      match value {\n              Left(x) => x,\n              Right(void) => void.absurd () // Extra feature of sometimes receiving alternative value is unused\n       }\n}\n```\n\nUsing the type *Void would make sense except it's not possible to stop someone from dereferencing such a pointer to get a Void value. Maybe there is some kind of lifetime weirdness that could prevent someone from doing such a thing? Or alternatively one might implement something along the lines of a trait Void where the trait is somehow impossible to implement. Then one could use *Void all one wants without danger of dereferencing it to a value.\n\nPersonally I think that the best way of representing void pointers though is to think of them as using existential quantification. In other words, a void pointer is a pointer to a type T for some type T. This scheme can be implemented using traits (they quantify over the Self type.) I believe the following code works.\n\n```\n// The trivial trait implementable by everybody\npub trait Object { }\npub <T> Object for T { }\n```\n\nThen any pointer to a value should be easily castable to a pointer to an Object. Of course, one would have to use unsafe code to cast back. I don't remember how pointers to traits are represented. Is it possible to make a scheme like this be efficient, and compatible with C void pointers? Also, there is the issue of pointers to arrays of values. For example, the type &[Object] doesn't really make sense.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/17647844/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/17649360",
    "html_url": "https://github.com/rust-lang/rust/pull/6348#issuecomment-17649360",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6348",
    "id": 17649360,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3NjQ5MzYw",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-05-09T04:49:40Z",
    "updated_at": "2013-05-09T04:49:40Z",
    "body": "@sstewartgallus Besides copying are there additional reasons that you would want to forbid dereferencing `*Void`? `c_void` is uninstantiable and uncopyable by defining it as `enum c_void { }`, an enum without any variants. A similar definition seems appropriate here.\n\nI like your idea about the `Object trait`. Object types (trait pointers) in Rust are fat pointers containing vtables so they do not have the same representation as a `*c_void` or `~`-pointers, so I don't think it works as a substitute for `*c_void`. Something like you propose will probably be done eventually for the argument to `fail!`, which we have sometimes called `~Any`.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/17649360/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/17651513",
    "html_url": "https://github.com/rust-lang/rust/pull/6348#issuecomment-17651513",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6348",
    "id": 17651513,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3NjUxNTEz",
    "user": {
      "login": "basic-calculus",
      "id": 4070335,
      "node_id": "MDQ6VXNlcjQwNzAzMzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4070335?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/basic-calculus",
      "html_url": "https://github.com/basic-calculus",
      "followers_url": "https://api.github.com/users/basic-calculus/followers",
      "following_url": "https://api.github.com/users/basic-calculus/following{/other_user}",
      "gists_url": "https://api.github.com/users/basic-calculus/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/basic-calculus/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/basic-calculus/subscriptions",
      "organizations_url": "https://api.github.com/users/basic-calculus/orgs",
      "repos_url": "https://api.github.com/users/basic-calculus/repos",
      "events_url": "https://api.github.com/users/basic-calculus/events{/privacy}",
      "received_events_url": "https://api.github.com/users/basic-calculus/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-05-09T06:30:54Z",
    "updated_at": "2013-05-09T06:31:34Z",
    "body": "@brson Making the type `pub enum Void { }` is a much smarter idea. I did not know that syntax. In fact `pub struct enum Foo { }` is as good as `pub struct Foo (Void);`. I renamed the absurd method to uninhabited.\n\nI guess using Void for pointers would make sense then.\n\nI'm not sure that Object is really the same as an Any trait. As far as I understand an Any trait would have to have a few extra methods.\n\nHere's what I think an Any trait might be (with the implementations automatically generated by the compiler.)\n\n```\npub trait Any {\n     fn size(&self) -> uint;\n     fn type_name(&self) -> &'static str;\n}\n```\n\nAnd maybe there'd be a number identifying the type. As well, I'd suggest such a trait would make sense to be called something like Introspectable.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/17651513/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
