[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/9811508",
    "html_url": "https://github.com/rust-lang/rust/issues/3863#issuecomment-9811508",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/3863",
    "id": 9811508,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk4MTE1MDg=",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-10-26T12:38:48Z",
    "updated_at": "2012-10-26T12:38:48Z",
    "body": "This is an important issue.  My general plan is to remove the existing `HashMap` and make `SendMap` (well, an optimized, improved version of `SendMap`) the default.  In general I think we should try to make all of our containers sendable and freezable when possible; but sometimes this does not work so well.  We'll have to experiment.  I think a chained hashtable can be built that is sendable, but I haven't tried it.\n\nRight now we don't offer any functional-style persistent data structures other than `List`.  We should do this.  Ironically, functional data structures are not well-suited to sendability because they tend to require sharing between structures and hence are well-suited only to `@`.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/9811508/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/9832249",
    "html_url": "https://github.com/rust-lang/rust/issues/3863#issuecomment-9832249",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/3863",
    "id": 9832249,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk4MzIyNDk=",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-10-27T03:39:11Z",
    "updated_at": "2012-10-27T03:39:11Z",
    "body": "An interesting thought: one could implement persistent/functional data structures based on ARCs, as well.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/9832249/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/9836813",
    "html_url": "https://github.com/rust-lang/rust/issues/3863#issuecomment-9836813",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/3863",
    "id": 9836813,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk4MzY4MTM=",
    "user": {
      "login": "graydon",
      "id": 14097,
      "node_id": "MDQ6VXNlcjE0MDk3",
      "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/graydon",
      "html_url": "https://github.com/graydon",
      "followers_url": "https://api.github.com/users/graydon/followers",
      "following_url": "https://api.github.com/users/graydon/following{/other_user}",
      "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/graydon/subscriptions",
      "organizations_url": "https://api.github.com/users/graydon/orgs",
      "repos_url": "https://api.github.com/users/graydon/repos",
      "events_url": "https://api.github.com/users/graydon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/graydon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-10-27T16:05:20Z",
    "updated_at": "2012-10-27T16:05:20Z",
    "body": "I think making all container types sendable and freezable is a good default. I think the libs should shy away from managed types unless they're mandated by the data structure (eg. a circular list or a list / tree that supports tail-sharing).\n\nWhile there are some advantages to chaining over open addressing, I don't feel they're substantial enough in a language with automatic memory management (esp. one with owning pointers, engineered around swapping). I think if someone wants a \"small\" hashmap entry they can just make the value type ~V rather than V. We can make this space/speed tradeoff clear in the docs. Given our very pleasant randomized / strong hash function, I think a double-hashed open address table should be default there. The second (...Nth) hash function can be derived from the key values in the table: just use k+n.\n\nThe default TreeMap should be an LLRB tree, yes. Imperative, to match the Map interface.\n\nI don't think the functional interface matters much for sendable types. We should have a different interface for managed (@), substructure-sharing maps: Tries and functional LLRBs at least satisfy this. Various HAMTs and Heaps do too. FunMap? ManagedMap? PersistMap? I'm not sure how to name that.\n\nGiven that core is merging with rt and we want to implement as much of rt as possible in rust itself, I think it reasonable to move a few _primary_ container types into core. Not every possible container ever, but the Normal Bunch Every Program Uses: the Map trait, HashMap and TreeMap, a small variety of Lists (sendable, managed, circular), Sets (Tree and Hash), Queue (unsafe, double-ended, circular) and Heap (vector-based).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/9836813/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/9837452",
    "html_url": "https://github.com/rust-lang/rust/issues/3863#issuecomment-9837452",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/3863",
    "id": 9837452,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk4Mzc0NTI=",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-10-27T17:03:39Z",
    "updated_at": "2012-10-27T17:03:39Z",
    "body": "By the way, I started doing some of the work towards refactoring the map trait (you see the `SendMap` trait for example) but hit some bugs in the implementation, particularly concerning region parameterization and self pointers.  Those will need to be fixed before we can go too much farther.  I don't know that there is any issue filed for the particular problem I hit, I ought to do so.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/9837452/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/9861809",
    "html_url": "https://github.com/rust-lang/rust/issues/3863#issuecomment-9861809",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/3863",
    "id": 9861809,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk4NjE4MDk=",
    "user": {
      "login": "luci1900",
      "id": 101894,
      "node_id": "MDQ6VXNlcjEwMTg5NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/101894?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luci1900",
      "html_url": "https://github.com/luci1900",
      "followers_url": "https://api.github.com/users/luci1900/followers",
      "following_url": "https://api.github.com/users/luci1900/following{/other_user}",
      "gists_url": "https://api.github.com/users/luci1900/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luci1900/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luci1900/subscriptions",
      "organizations_url": "https://api.github.com/users/luci1900/orgs",
      "repos_url": "https://api.github.com/users/luci1900/repos",
      "events_url": "https://api.github.com/users/luci1900/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luci1900/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-10-29T10:32:01Z",
    "updated_at": "2012-10-29T10:32:01Z",
    "body": "I think Persistent\\* is a good naming scheme. Other languages (like Clojure) use this naming as well to differentiate between those and the imperative versions.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/9861809/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/13678626",
    "html_url": "https://github.com/rust-lang/rust/issues/3863#issuecomment-13678626",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/3863",
    "id": 13678626,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzNjc4NjI2",
    "user": {
      "login": "thestinger",
      "id": 1505226,
      "node_id": "MDQ6VXNlcjE1MDUyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thestinger",
      "html_url": "https://github.com/thestinger",
      "followers_url": "https://api.github.com/users/thestinger/followers",
      "following_url": "https://api.github.com/users/thestinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions",
      "organizations_url": "https://api.github.com/users/thestinger/orgs",
      "repos_url": "https://api.github.com/users/thestinger/repos",
      "events_url": "https://api.github.com/users/thestinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thestinger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-02-17T01:08:31Z",
    "updated_at": "2013-02-17T01:08:31Z",
    "body": "I think it would be best to close this issue and coordinate on [this wiki page](https://github.com/mozilla/rust/wiki/Containers) instead. Issues can be opened for individual bugs, features and wanted containers. I've worked on a lot on related issues since this was opened/discussed, so the issues discussed here are mostly dealt with.\n\nSummary of changes since this was opened:\n- `TreeMap` is now a self-balancing binary search tree, sendable, copy-free, and implements `Eq` and `Ord`\n- `core::container` now exists, with a redone `Map` trait (implemented by `TreeMap`, `LinearMap` and `SmallIntMap`) and a `Set` trait (implemented by the new `TreeSet` and `LinearSet` types)\n- there's now a `std::priority_queue` (binary heap)\n- `TreeMap`, `TreeSet`, `LinearMap`, `LinearSet`, `SmallIntMap` and `PriorityQueue` now all implement `BaseIter`\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/13678626/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
