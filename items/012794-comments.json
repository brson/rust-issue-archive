[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/40771241",
    "html_url": "https://github.com/rust-lang/rust/issues/12794#issuecomment-40771241",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12794",
    "id": 40771241,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNzcxMjQx",
    "user": {
      "login": "ZeroOne3010",
      "id": 2502423,
      "node_id": "MDQ6VXNlcjI1MDI0MjM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2502423?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ZeroOne3010",
      "html_url": "https://github.com/ZeroOne3010",
      "followers_url": "https://api.github.com/users/ZeroOne3010/followers",
      "following_url": "https://api.github.com/users/ZeroOne3010/following{/other_user}",
      "gists_url": "https://api.github.com/users/ZeroOne3010/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ZeroOne3010/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ZeroOne3010/subscriptions",
      "organizations_url": "https://api.github.com/users/ZeroOne3010/orgs",
      "repos_url": "https://api.github.com/users/ZeroOne3010/repos",
      "events_url": "https://api.github.com/users/ZeroOne3010/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ZeroOne3010/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-04-17T22:45:49Z",
    "updated_at": "2014-04-17T22:45:49Z",
    "body": "Hi @quux00! Did you come up with any good workaround for this issue?\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/40771241/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/40772255",
    "html_url": "https://github.com/rust-lang/rust/issues/12794#issuecomment-40772255",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12794",
    "id": 40772255,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNzcyMjU1",
    "user": {
      "login": "quux00",
      "id": 694387,
      "node_id": "MDQ6VXNlcjY5NDM4Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/694387?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/quux00",
      "html_url": "https://github.com/quux00",
      "followers_url": "https://api.github.com/users/quux00/followers",
      "following_url": "https://api.github.com/users/quux00/following{/other_user}",
      "gists_url": "https://api.github.com/users/quux00/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/quux00/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/quux00/subscriptions",
      "organizations_url": "https://api.github.com/users/quux00/orgs",
      "repos_url": "https://api.github.com/users/quux00/repos",
      "events_url": "https://api.github.com/users/quux00/events{/privacy}",
      "received_events_url": "https://api.github.com/users/quux00/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-04-17T23:02:00Z",
    "updated_at": "2014-04-17T23:02:00Z",
    "body": "The workaround was to have the \"null\" field be empty string instead.  Not very satisfactory.  I ended up not needing the Option<> field in my struct so haven't worked on this issue.  I just tried the latest version of rustc to see how it works now, but got caught in a endless cycle of compiler errors that I didn't have enough motivation to wade through.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/40772255/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/40773006",
    "html_url": "https://github.com/rust-lang/rust/issues/12794#issuecomment-40773006",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12794",
    "id": 40773006,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNzczMDA2",
    "user": {
      "login": "ZeroOne3010",
      "id": 2502423,
      "node_id": "MDQ6VXNlcjI1MDI0MjM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2502423?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ZeroOne3010",
      "html_url": "https://github.com/ZeroOne3010",
      "followers_url": "https://api.github.com/users/ZeroOne3010/followers",
      "following_url": "https://api.github.com/users/ZeroOne3010/following{/other_user}",
      "gists_url": "https://api.github.com/users/ZeroOne3010/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ZeroOne3010/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ZeroOne3010/subscriptions",
      "organizations_url": "https://api.github.com/users/ZeroOne3010/orgs",
      "repos_url": "https://api.github.com/users/ZeroOne3010/repos",
      "events_url": "https://api.github.com/users/ZeroOne3010/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ZeroOne3010/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-04-17T23:14:04Z",
    "updated_at": "2014-04-17T23:14:04Z",
    "body": "So you were also in control of the JSON format that you were trying to decode? I unluckily am not, so I need to find some other way.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/40773006/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/40774000",
    "html_url": "https://github.com/rust-lang/rust/issues/12794#issuecomment-40774000",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12794",
    "id": 40774000,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNzc0MDAw",
    "user": {
      "login": "tomjakubowski",
      "id": 667901,
      "node_id": "MDQ6VXNlcjY2NzkwMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/667901?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tomjakubowski",
      "html_url": "https://github.com/tomjakubowski",
      "followers_url": "https://api.github.com/users/tomjakubowski/followers",
      "following_url": "https://api.github.com/users/tomjakubowski/following{/other_user}",
      "gists_url": "https://api.github.com/users/tomjakubowski/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tomjakubowski/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tomjakubowski/subscriptions",
      "organizations_url": "https://api.github.com/users/tomjakubowski/orgs",
      "repos_url": "https://api.github.com/users/tomjakubowski/repos",
      "events_url": "https://api.github.com/users/tomjakubowski/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tomjakubowski/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-04-17T23:30:40Z",
    "updated_at": "2014-04-17T23:30:40Z",
    "body": "If this is approved as an enhancement I'd be interested in tackling this.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/40774000/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/40774527",
    "html_url": "https://github.com/rust-lang/rust/issues/12794#issuecomment-40774527",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12794",
    "id": 40774527,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNzc0NTI3",
    "user": {
      "login": "compmstr",
      "id": 393652,
      "node_id": "MDQ6VXNlcjM5MzY1Mg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/393652?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/compmstr",
      "html_url": "https://github.com/compmstr",
      "followers_url": "https://api.github.com/users/compmstr/followers",
      "following_url": "https://api.github.com/users/compmstr/following{/other_user}",
      "gists_url": "https://api.github.com/users/compmstr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/compmstr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/compmstr/subscriptions",
      "organizations_url": "https://api.github.com/users/compmstr/orgs",
      "repos_url": "https://api.github.com/users/compmstr/repos",
      "events_url": "https://api.github.com/users/compmstr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/compmstr/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-04-17T23:39:11Z",
    "updated_at": "2014-04-17T23:39:11Z",
    "body": "I'm currently working on a fix for this. I have a simple one that only works for Json, but I'm working on updating the Deccodable expansion to provide an optional field, so it will work with any type where an optional value will work.  I'm stuck on figuring out what type an object is during deriving(Decodable) expansion, however.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/40774527/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/40775561",
    "html_url": "https://github.com/rust-lang/rust/issues/12794#issuecomment-40775561",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12794",
    "id": 40775561,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNzc1NTYx",
    "user": {
      "login": "seanmonstar",
      "id": 51479,
      "node_id": "MDQ6VXNlcjUxNDc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/51479?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/seanmonstar",
      "html_url": "https://github.com/seanmonstar",
      "followers_url": "https://api.github.com/users/seanmonstar/followers",
      "following_url": "https://api.github.com/users/seanmonstar/following{/other_user}",
      "gists_url": "https://api.github.com/users/seanmonstar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/seanmonstar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/seanmonstar/subscriptions",
      "organizations_url": "https://api.github.com/users/seanmonstar/orgs",
      "repos_url": "https://api.github.com/users/seanmonstar/repos",
      "events_url": "https://api.github.com/users/seanmonstar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/seanmonstar/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-04-17T23:57:08Z",
    "updated_at": "2014-04-17T23:57:47Z",
    "body": "So, the problem comes from Decoder not knowing that a value is optional until the field name is read:\n\n``` rs\n// ...\n// tries to read field before read_option\nself.command = try!(d.read_struct_field(\"command\", 3u, |d| Decodable::decode(d)));\n// ..\n```\n\nA special case would likely need to be added in the deriving code to check if the value should be an option, and not Err if not found.\n\nCurrently, you can get around this by just not `deriving(Decodable)`, since you can't use the default impl. For the LogEntry example, it could look like this:\n\n``` rs\nimpl<D:Decoder<E>, E> Decodable<D, E> for LogEntry {\n    fn decode(d: &mut D) -> Result<LogEntry, E> {\n        d.read_struct(\"LogEntry\", 4u, |d|\n            Ok(LogEntry {\n                index: try!(d.read_struct_field(\"index\", 0u, |d| Decodable::decode(d))),\n                term: try!(d.read_struct_field(\"term\", 1u, |d| Decodable::decode(d))),\n                command_name: try!(d.read_struct_field(\"command_name\", 2u, |d| Decodable::decode(d))),\n                command: match d.read_struct_field(\"command\", 3u, |d| Decodable::decode(d))) {\n                    Ok(opt) => opt,\n                    Err(_) => None\n                }\n            })\n        )\n    }\n}\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/40775561/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/40775723",
    "html_url": "https://github.com/rust-lang/rust/issues/12794#issuecomment-40775723",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12794",
    "id": 40775723,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNzc1NzIz",
    "user": {
      "login": "tomjakubowski",
      "id": 667901,
      "node_id": "MDQ6VXNlcjY2NzkwMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/667901?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tomjakubowski",
      "html_url": "https://github.com/tomjakubowski",
      "followers_url": "https://api.github.com/users/tomjakubowski/followers",
      "following_url": "https://api.github.com/users/tomjakubowski/following{/other_user}",
      "gists_url": "https://api.github.com/users/tomjakubowski/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tomjakubowski/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tomjakubowski/subscriptions",
      "organizations_url": "https://api.github.com/users/tomjakubowski/orgs",
      "repos_url": "https://api.github.com/users/tomjakubowski/repos",
      "events_url": "https://api.github.com/users/tomjakubowski/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tomjakubowski/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-04-17T23:59:34Z",
    "updated_at": "2014-04-18T00:02:31Z",
    "body": "@quux00 Not sure if you're already aware, but an alternative to using the empty string to represent an \"empty\" string field would be use a null value for that key in the JSON, which will deserialize to None:\n\n``` json\n{\"index\": 200, \"term\": 4, \"command_name\": \"foo\", \"command\": null}\n```\n\ndeserializes to `LogEntry { index: 200, term: 4, command_name: foo, command: None }`. The problem you reported is still there for missing keys though.\n\nGiven that null can be used to deserialize a field as None, would it be reasonable to provide two Decoder structs in serialize::json: one which defaults any missing Option<T> fields as None, and a stricter one which has the current behavior of erroring when any field is missing?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/40775723/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/40775842",
    "html_url": "https://github.com/rust-lang/rust/issues/12794#issuecomment-40775842",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12794",
    "id": 40775842,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNzc1ODQy",
    "user": {
      "login": "seanmonstar",
      "id": 51479,
      "node_id": "MDQ6VXNlcjUxNDc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/51479?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/seanmonstar",
      "html_url": "https://github.com/seanmonstar",
      "followers_url": "https://api.github.com/users/seanmonstar/followers",
      "following_url": "https://api.github.com/users/seanmonstar/following{/other_user}",
      "gists_url": "https://api.github.com/users/seanmonstar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/seanmonstar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/seanmonstar/subscriptions",
      "organizations_url": "https://api.github.com/users/seanmonstar/orgs",
      "repos_url": "https://api.github.com/users/seanmonstar/repos",
      "events_url": "https://api.github.com/users/seanmonstar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/seanmonstar/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-04-18T00:01:28Z",
    "updated_at": "2014-04-18T00:01:28Z",
    "body": "@tomjakubowski it'd be quite difficult to do that. As I said, the call to `read_struct_field` happens before `read_option`, so the `JsonDecoder` isn't able to know that the struct field should be optional.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/40775842/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/40776338",
    "html_url": "https://github.com/rust-lang/rust/issues/12794#issuecomment-40776338",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12794",
    "id": 40776338,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNzc2MzM4",
    "user": {
      "login": "tomjakubowski",
      "id": 667901,
      "node_id": "MDQ6VXNlcjY2NzkwMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/667901?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tomjakubowski",
      "html_url": "https://github.com/tomjakubowski",
      "followers_url": "https://api.github.com/users/tomjakubowski/followers",
      "following_url": "https://api.github.com/users/tomjakubowski/following{/other_user}",
      "gists_url": "https://api.github.com/users/tomjakubowski/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tomjakubowski/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tomjakubowski/subscriptions",
      "organizations_url": "https://api.github.com/users/tomjakubowski/orgs",
      "repos_url": "https://api.github.com/users/tomjakubowski/repos",
      "events_url": "https://api.github.com/users/tomjakubowski/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tomjakubowski/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-04-18T00:10:33Z",
    "updated_at": "2014-04-18T00:10:33Z",
    "body": "Didn't see your comment while I was writing mine, makes sense.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/40776338/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/40776425",
    "html_url": "https://github.com/rust-lang/rust/issues/12794#issuecomment-40776425",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12794",
    "id": 40776425,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNzc2NDI1",
    "user": {
      "login": "compmstr",
      "id": 393652,
      "node_id": "MDQ6VXNlcjM5MzY1Mg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/393652?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/compmstr",
      "html_url": "https://github.com/compmstr",
      "followers_url": "https://api.github.com/users/compmstr/followers",
      "following_url": "https://api.github.com/users/compmstr/following{/other_user}",
      "gists_url": "https://api.github.com/users/compmstr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/compmstr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/compmstr/subscriptions",
      "organizations_url": "https://api.github.com/users/compmstr/orgs",
      "repos_url": "https://api.github.com/users/compmstr/repos",
      "events_url": "https://api.github.com/users/compmstr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/compmstr/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-04-18T00:12:33Z",
    "updated_at": "2014-04-18T00:12:33Z",
    "body": "@tomjakubowski  @seanmonstar The quick way I had set it up for json only was to try read_option if read_struct_field failed, and if read_option failed, to only then throw the missing field error.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/40776425/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/40777386",
    "html_url": "https://github.com/rust-lang/rust/issues/12794#issuecomment-40777386",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12794",
    "id": 40777386,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNzc3Mzg2",
    "user": {
      "login": "compmstr",
      "id": 393652,
      "node_id": "MDQ6VXNlcjM5MzY1Mg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/393652?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/compmstr",
      "html_url": "https://github.com/compmstr",
      "followers_url": "https://api.github.com/users/compmstr/followers",
      "following_url": "https://api.github.com/users/compmstr/following{/other_user}",
      "gists_url": "https://api.github.com/users/compmstr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/compmstr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/compmstr/subscriptions",
      "organizations_url": "https://api.github.com/users/compmstr/orgs",
      "repos_url": "https://api.github.com/users/compmstr/repos",
      "events_url": "https://api.github.com/users/compmstr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/compmstr/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-04-18T00:32:20Z",
    "updated_at": "2014-04-18T00:32:20Z",
    "body": "Sorry, I mistyped, it puts a null on the stack, then tries read_option, so that if it was an optional field, it will read null/None, then if that fails it wasn't an optional field.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/40777386/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/50954946",
    "html_url": "https://github.com/rust-lang/rust/issues/12794#issuecomment-50954946",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12794",
    "id": 50954946,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwOTU0OTQ2",
    "user": {
      "login": "pzol",
      "id": 145103,
      "node_id": "MDQ6VXNlcjE0NTEwMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/145103?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pzol",
      "html_url": "https://github.com/pzol",
      "followers_url": "https://api.github.com/users/pzol/followers",
      "following_url": "https://api.github.com/users/pzol/following{/other_user}",
      "gists_url": "https://api.github.com/users/pzol/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pzol/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pzol/subscriptions",
      "organizations_url": "https://api.github.com/users/pzol/orgs",
      "repos_url": "https://api.github.com/users/pzol/repos",
      "events_url": "https://api.github.com/users/pzol/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pzol/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-02T05:54:38Z",
    "updated_at": "2014-08-02T05:54:38Z",
    "body": "Anybody working on this??\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/50954946/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/51412231",
    "html_url": "https://github.com/rust-lang/rust/issues/12794#issuecomment-51412231",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12794",
    "id": 51412231,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxNDEyMjMx",
    "user": {
      "login": "bguiz",
      "id": 1773785,
      "node_id": "MDQ6VXNlcjE3NzM3ODU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1773785?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bguiz",
      "html_url": "https://github.com/bguiz",
      "followers_url": "https://api.github.com/users/bguiz/followers",
      "following_url": "https://api.github.com/users/bguiz/following{/other_user}",
      "gists_url": "https://api.github.com/users/bguiz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bguiz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bguiz/subscriptions",
      "organizations_url": "https://api.github.com/users/bguiz/orgs",
      "repos_url": "https://api.github.com/users/bguiz/repos",
      "events_url": "https://api.github.com/users/bguiz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bguiz/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-06T23:34:21Z",
    "updated_at": "2014-08-06T23:34:21Z",
    "body": "+1 for `Option<T>` to represent fields that may not be present; I would like to see this implemented.\n\nConcerns for symmetry though:\n\nLet's say that you have a field whose type is `Option<T>`, and the object, prior to serialisation, contains `None` for that value, what should the serialised output look like:\n- Should it contain that key with a value of `null`, or should that key not be present?\n- Should we have a mechanism for being able to specify default values?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/51412231/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/51707669",
    "html_url": "https://github.com/rust-lang/rust/issues/12794#issuecomment-51707669",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12794",
    "id": 51707669,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxNzA3NjY5",
    "user": {
      "login": "pzol",
      "id": 145103,
      "node_id": "MDQ6VXNlcjE0NTEwMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/145103?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pzol",
      "html_url": "https://github.com/pzol",
      "followers_url": "https://api.github.com/users/pzol/followers",
      "following_url": "https://api.github.com/users/pzol/following{/other_user}",
      "gists_url": "https://api.github.com/users/pzol/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pzol/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pzol/subscriptions",
      "organizations_url": "https://api.github.com/users/pzol/orgs",
      "repos_url": "https://api.github.com/users/pzol/repos",
      "events_url": "https://api.github.com/users/pzol/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pzol/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-10T06:37:12Z",
    "updated_at": "2014-08-10T06:37:36Z",
    "body": "How about passing an object with defaults and passing it to decode?\n\n``` rust\n#[deriving(Decodable)]\nstruct Category {\n    min: uint,\n    max: uint\n}\n\n//...\nlet mut category = Category { min: 0, max: 5 };\nlet category = Decodable::decode(&mut decoder, &mut category);\n```\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/51707669/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/51707843",
    "html_url": "https://github.com/rust-lang/rust/issues/12794#issuecomment-51707843",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12794",
    "id": 51707843,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxNzA3ODQz",
    "user": {
      "login": "bguiz",
      "id": 1773785,
      "node_id": "MDQ6VXNlcjE3NzM3ODU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1773785?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bguiz",
      "html_url": "https://github.com/bguiz",
      "followers_url": "https://api.github.com/users/bguiz/followers",
      "following_url": "https://api.github.com/users/bguiz/following{/other_user}",
      "gists_url": "https://api.github.com/users/bguiz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bguiz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bguiz/subscriptions",
      "organizations_url": "https://api.github.com/users/bguiz/orgs",
      "repos_url": "https://api.github.com/users/bguiz/repos",
      "events_url": "https://api.github.com/users/bguiz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bguiz/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-10T06:51:04Z",
    "updated_at": "2014-08-10T06:51:04Z",
    "body": "> How about passing an object with defaults and passing it to decode?\n\nThat sounds good, although I would still prefer being able to specify the defaults when declaring the struct.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/51707843/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/54088301",
    "html_url": "https://github.com/rust-lang/rust/issues/12794#issuecomment-54088301",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12794",
    "id": 54088301,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU0MDg4MzAx",
    "user": {
      "login": "erickt",
      "id": 84711,
      "node_id": "MDQ6VXNlcjg0NzEx",
      "avatar_url": "https://avatars.githubusercontent.com/u/84711?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/erickt",
      "html_url": "https://github.com/erickt",
      "followers_url": "https://api.github.com/users/erickt/followers",
      "following_url": "https://api.github.com/users/erickt/following{/other_user}",
      "gists_url": "https://api.github.com/users/erickt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/erickt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/erickt/subscriptions",
      "organizations_url": "https://api.github.com/users/erickt/orgs",
      "repos_url": "https://api.github.com/users/erickt/repos",
      "events_url": "https://api.github.com/users/erickt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/erickt/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-09-01T19:56:04Z",
    "updated_at": "2014-09-01T19:56:04Z",
    "body": "@pzol: I'm working on this as part of my serialization rewrite https://github.com/rust-lang/rfcs/pull/22. \n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/54088301/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/54255508",
    "html_url": "https://github.com/rust-lang/rust/issues/12794#issuecomment-54255508",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12794",
    "id": 54255508,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU0MjU1NTA4",
    "user": {
      "login": "mitchmindtree",
      "id": 4587373,
      "node_id": "MDQ6VXNlcjQ1ODczNzM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4587373?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mitchmindtree",
      "html_url": "https://github.com/mitchmindtree",
      "followers_url": "https://api.github.com/users/mitchmindtree/followers",
      "following_url": "https://api.github.com/users/mitchmindtree/following{/other_user}",
      "gists_url": "https://api.github.com/users/mitchmindtree/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mitchmindtree/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mitchmindtree/subscriptions",
      "organizations_url": "https://api.github.com/users/mitchmindtree/orgs",
      "repos_url": "https://api.github.com/users/mitchmindtree/repos",
      "events_url": "https://api.github.com/users/mitchmindtree/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mitchmindtree/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-09-03T06:02:43Z",
    "updated_at": "2014-09-03T06:02:43Z",
    "body": "I've looked through a few issues now and I'm struggling to find where this has previously been mentioned:\n\nIs it possible to require the `std::default::Default` trait for all types that implement `Decodable` to solve the missing fields issue? I'm sure there are reasons something like this has been avoided, I just haven't run across them yet and I'd love to hear them!\n\nMy recent use case is within my audio synthesis instrument library - development currently involves lots of back and forth between testing and adding/removing fields. Each time I add or remove fields within the data structure my library loading starts to fail and I have to either discard the library and start designing the instruments again from scratch or manually add/remove fields to/from the .json file. If I were able to specify default values instead of having the loading fail, it would make the whole process much smoother.\n\nI understand that this may not be an issue for other users of `Decodable` - Perhaps it would be better to have a separate trait (i.e. `PartiallyDecodable`) that uses defaults in the `decode` method where `Decodable` would normally fail?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/54255508/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/54351189",
    "html_url": "https://github.com/rust-lang/rust/issues/12794#issuecomment-54351189",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12794",
    "id": 54351189,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU0MzUxMTg5",
    "user": {
      "login": "treeman",
      "id": 162027,
      "node_id": "MDQ6VXNlcjE2MjAyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/162027?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/treeman",
      "html_url": "https://github.com/treeman",
      "followers_url": "https://api.github.com/users/treeman/followers",
      "following_url": "https://api.github.com/users/treeman/following{/other_user}",
      "gists_url": "https://api.github.com/users/treeman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/treeman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/treeman/subscriptions",
      "organizations_url": "https://api.github.com/users/treeman/orgs",
      "repos_url": "https://api.github.com/users/treeman/repos",
      "events_url": "https://api.github.com/users/treeman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/treeman/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-09-03T19:19:46Z",
    "updated_at": "2014-09-03T19:19:46Z",
    "body": "@erickt I did not see your comment before writing my PR for this issue. RFC seems useful.\n\n@mitchmindtree I do think some manner of defaults for fields should be there, but I'm not certain how best to approach it. It would require a slightly larger rewrite of `Decodable` whatever way we want to do it. Maybe add these comments to @erickt's  rust-lang/rfcs#22?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/54351189/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
