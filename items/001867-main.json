{
  "url": "https://api.github.com/repos/rust-lang/rust/issues/1867",
  "repository_url": "https://api.github.com/repos/rust-lang/rust",
  "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/1867/labels{/name}",
  "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/1867/comments",
  "events_url": "https://api.github.com/repos/rust-lang/rust/issues/1867/events",
  "html_url": "https://github.com/rust-lang/rust/pull/1867",
  "id": 3283698,
  "node_id": "MDExOlB1bGxSZXF1ZXN0ODUxMzM2",
  "number": 1867,
  "title": "New task API",
  "user": {
    "login": "brson",
    "id": 147214,
    "node_id": "MDQ6VXNlcjE0NzIxNA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/brson",
    "html_url": "https://github.com/brson",
    "followers_url": "https://api.github.com/users/brson/followers",
    "following_url": "https://api.github.com/users/brson/following{/other_user}",
    "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
    "organizations_url": "https://api.github.com/users/brson/orgs",
    "repos_url": "https://api.github.com/users/brson/repos",
    "events_url": "https://api.github.com/users/brson/events{/privacy}",
    "received_events_url": "https://api.github.com/users/brson/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "labels": [],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [],
  "milestone": null,
  "comments": 10,
  "created_at": "2012-02-19T09:00:53Z",
  "updated_at": "2014-06-26T12:44:26Z",
  "closed_at": "2012-02-21T02:58:30Z",
  "author_association": "CONTRIBUTOR",
  "type": null,
  "active_lock_reason": null,
  "draft": false,
  "pull_request": {
    "url": "https://api.github.com/repos/rust-lang/rust/pulls/1867",
    "html_url": "https://github.com/rust-lang/rust/pull/1867",
    "diff_url": "https://github.com/rust-lang/rust/pull/1867.diff",
    "patch_url": "https://github.com/rust-lang/rust/pull/1867.patch",
    "merged_at": null
  },
  "body": "This is a rewrite of the task API (#1788) based on some ideas niko and I have been tossing around: http://smallcultfollowing.com/babysteps/blog/2012/02/14/using-futures-in-the-task-api/\n\nThe goal is to make room for various configuration options and to rewrite the various special forms of spawn in terms of a composable task builder API.\n\nIt introduces a task_opts record for static spawn options, and a task_builder type for setting up the options and adding arbitrary setup methods to the spawnee.\n\nIt replaces spawn_connected with spawn_listener which, instead of setting up bidirectional communication, just does the hard part of creating a port in the new task and sending the channel  back to the original task.\n\nIt gets rid of spawn_joinable in favor of using the builder to get a future of the task result.\n\nSpawn no longer returns the nearly useless task value. If it's really needed the builder can be used to, again, get a future of it.\n\nIt doesn't make schedulers first class objects yet, both because I am not sold on the idea, and because the runtime requires further changes. It doesn't implement some of the options that are visible in the API, like different scheduling modes and configuring stack sizes.\n\nIt is not ready to merge yet. This is just an opportunity for review.\n",
  "closed_by": {
    "login": "brson",
    "id": 147214,
    "node_id": "MDQ6VXNlcjE0NzIxNA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/brson",
    "html_url": "https://github.com/brson",
    "followers_url": "https://api.github.com/users/brson/followers",
    "following_url": "https://api.github.com/users/brson/following{/other_user}",
    "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
    "organizations_url": "https://api.github.com/users/brson/orgs",
    "repos_url": "https://api.github.com/users/brson/repos",
    "events_url": "https://api.github.com/users/brson/events{/privacy}",
    "received_events_url": "https://api.github.com/users/brson/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/1867/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/1867/timeline",
  "performed_via_github_app": null,
  "state_reason": null,
  "_meta": {
    "type": "pr"
  }
}
