[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/45455544",
    "html_url": "https://github.com/rust-lang/rust/issues/14762#issuecomment-45455544",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14762",
    "id": 45455544,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NDU1NTQ0",
    "user": {
      "login": "taralx",
      "id": 1036808,
      "node_id": "MDQ6VXNlcjEwMzY4MDg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1036808?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/taralx",
      "html_url": "https://github.com/taralx",
      "followers_url": "https://api.github.com/users/taralx/followers",
      "following_url": "https://api.github.com/users/taralx/following{/other_user}",
      "gists_url": "https://api.github.com/users/taralx/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/taralx/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/taralx/subscriptions",
      "organizations_url": "https://api.github.com/users/taralx/orgs",
      "repos_url": "https://api.github.com/users/taralx/repos",
      "events_url": "https://api.github.com/users/taralx/events{/privacy}",
      "received_events_url": "https://api.github.com/users/taralx/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-06-09T01:56:20Z",
    "updated_at": "2014-06-09T01:56:20Z",
    "body": "This affects i386 as well, so I suspect it's a 32/64 problem.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/45455544/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/45455571",
    "html_url": "https://github.com/rust-lang/rust/issues/14762#issuecomment-45455571",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14762",
    "id": 45455571,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NDU1NTcx",
    "user": {
      "login": "taralx",
      "id": 1036808,
      "node_id": "MDQ6VXNlcjEwMzY4MDg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1036808?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/taralx",
      "html_url": "https://github.com/taralx",
      "followers_url": "https://api.github.com/users/taralx/followers",
      "following_url": "https://api.github.com/users/taralx/following{/other_user}",
      "gists_url": "https://api.github.com/users/taralx/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/taralx/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/taralx/subscriptions",
      "organizations_url": "https://api.github.com/users/taralx/orgs",
      "repos_url": "https://api.github.com/users/taralx/repos",
      "events_url": "https://api.github.com/users/taralx/events{/privacy}",
      "received_events_url": "https://api.github.com/users/taralx/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-06-09T01:57:19Z",
    "updated_at": "2014-06-09T01:57:19Z",
    "body": "For reference:\n\nrustc 0.11.0-pre-nightly (7580ef9 2014-06-08 00:46:57 -0700)\nhost: x86_64-apple-darwin\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/45455571/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/45457138",
    "html_url": "https://github.com/rust-lang/rust/issues/14762#issuecomment-45457138",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14762",
    "id": 45457138,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NDU3MTM4",
    "user": {
      "login": "taralx",
      "id": 1036808,
      "node_id": "MDQ6VXNlcjEwMzY4MDg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1036808?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/taralx",
      "html_url": "https://github.com/taralx",
      "followers_url": "https://api.github.com/users/taralx/followers",
      "following_url": "https://api.github.com/users/taralx/following{/other_user}",
      "gists_url": "https://api.github.com/users/taralx/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/taralx/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/taralx/subscriptions",
      "organizations_url": "https://api.github.com/users/taralx/orgs",
      "repos_url": "https://api.github.com/users/taralx/repos",
      "events_url": "https://api.github.com/users/taralx/events{/privacy}",
      "received_events_url": "https://api.github.com/users/taralx/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-06-09T02:45:11Z",
    "updated_at": "2014-06-09T20:36:34Z",
    "body": "So as far as I can tell, SROA is running before copy elimination can clean things up:\n\n``` llvm\n*** IR Dump After Remove unused exception handling info ***\n; Function Attrs: inlinehint nounwind uwtable\ndefine internal fastcc i8* @\"_ZN5slice60_$BP$$x27a$x20$x5bT$x5d.ImmutableVector$LT$$x27a$C$$x20T$GT$6as_ptr21h152019210325997247454v0.0E\"({ i8*, i32 }* nocapture nonnull) unnamed_addr #2 {\nentry-block:\n  %1 = alloca %\"struct.core::raw::Slice<u8>[#1]\", align 4\n  call fastcc void @_ZN3raw4Repr4repr19h7328813308158244434v0.0E(%\"struct.core::raw::Slice<u8>[#1]\"* noalias nocapture nonnull sret %1, { i8*, i32 }* nonnull %0)\n  %2 = getelementptr inbounds %\"struct.core::raw::Slice<u8>[#1]\"* %1, i32 0, i32 0\n  %3 = load i8** %2, align 4\n  ret i8* %3\n}\n*** IR Dump After Function Integration/Inlining ***\n; Function Attrs: inlinehint nounwind uwtable\ndefine internal fastcc i8* @\"_ZN5slice60_$BP$$x27a$x20$x5bT$x5d.ImmutableVector$LT$$x27a$C$$x20T$GT$6as_ptr21h152019210325997247454v0.0E\"({ i8*, i32 }* nocapture nonnull) unnamed_addr #2 {\nentry-block:\n  %1 = alloca %\"struct.core::raw::Slice<u8>[#1]\", align 4\n  %2 = bitcast { i8*, i32 }* %0 to i64*\n  %3 = load i64* %2, align 4\n  %4 = bitcast %\"struct.core::raw::Slice<u8>[#1]\"* %1 to i64*\n  store i64 %3, i64* %4, align 4\n  %5 = getelementptr inbounds %\"struct.core::raw::Slice<u8>[#1]\"* %1, i32 0, i32 0\n  %6 = load i8** %5, align 4\n  ret i8* %6\n}\n[snip]\n*** IR Dump After SROA ***\n; Function Attrs: inlinehint nounwind readonly uwtable\ndefine internal fastcc i8* @\"_ZN5slice60_$BP$$x27a$x20$x5bT$x5d.ImmutableVector$LT$$x27a$C$$x20T$GT$6as_ptr21h152019210325997247454v0.0E\"({ i8*, i32 }* nocapture nonnull readonly) unnamed_addr #2 {\nentry-block:\n  %1 = bitcast { i8*, i32 }* %0 to i64*\n  %2 = load i64* %1, align 4\n  %.sroa.0.0.extract.trunc = trunc i64 %2 to i32\n  %3 = inttoptr i32 %.sroa.0.0.extract.trunc to i8*\n  %.sroa.2.0.extract.shift = lshr i64 %2, 32\n  %.sroa.2.0.extract.trunc = trunc i64 %.sroa.2.0.extract.shift to i32\n  ret i8* %3\n}\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/45457138/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69851759",
    "html_url": "https://github.com/rust-lang/rust/issues/14762#issuecomment-69851759",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14762",
    "id": 69851759,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5ODUxNzU5",
    "user": {
      "login": "dotdash",
      "id": 230962,
      "node_id": "MDQ6VXNlcjIzMDk2Mg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/230962?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dotdash",
      "html_url": "https://github.com/dotdash",
      "followers_url": "https://api.github.com/users/dotdash/followers",
      "following_url": "https://api.github.com/users/dotdash/following{/other_user}",
      "gists_url": "https://api.github.com/users/dotdash/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dotdash/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dotdash/subscriptions",
      "organizations_url": "https://api.github.com/users/dotdash/orgs",
      "repos_url": "https://api.github.com/users/dotdash/repos",
      "events_url": "https://api.github.com/users/dotdash/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dotdash/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-14T00:57:56Z",
    "updated_at": "2015-01-14T00:57:56Z",
    "body": "Using\n\n``` rust\n#![feature(lang_items, intrinsics)]\n#![crate_type=\"rlib\"]\n#![no_std]\n\n#[lang=\"copy\"]\ntrait Copy {}\n#[lang=\"sized\"]\ntrait Sizes {}\n\nextern \"rust-intrinsic\" {\n\n\n    /// Abort the execution of the process.\n    pub fn abort() -> !;\n}\n#[lang=\"panic_bounds_check\"]\nfn panic_bounds_check(file_line: &(&'static str, usize),\n                      index: usize, len: usize) -> ! {\n    unsafe {\n        abort();\n    }\n}\n\nextern \"C\" {\n    fn puts(p: *const i8) -> i32;\n}\n\nunsafe fn dostuff(p: *const u8) {\n    puts(p as *const i8);\n}\n\npub fn main() {\n    unsafe { dostuff((&b\"TEXT!\"[0]) as *const u8); }\n}\n```\n\nI can't reproduce the problem. I guess this is fixed?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69851759/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/124155473",
    "html_url": "https://github.com/rust-lang/rust/issues/14762#issuecomment-124155473",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14762",
    "id": 124155473,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNDE1NTQ3Mw==",
    "user": {
      "login": "apasel422",
      "id": 8644784,
      "node_id": "MDQ6VXNlcjg2NDQ3ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8644784?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/apasel422",
      "html_url": "https://github.com/apasel422",
      "followers_url": "https://api.github.com/users/apasel422/followers",
      "following_url": "https://api.github.com/users/apasel422/following{/other_user}",
      "gists_url": "https://api.github.com/users/apasel422/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/apasel422/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/apasel422/subscriptions",
      "organizations_url": "https://api.github.com/users/apasel422/orgs",
      "repos_url": "https://api.github.com/users/apasel422/repos",
      "events_url": "https://api.github.com/users/apasel422/events{/privacy}",
      "received_events_url": "https://api.github.com/users/apasel422/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-23T16:18:19Z",
    "updated_at": "2015-07-23T16:18:19Z",
    "body": "What is the status of this? The `bytes!` macro no longer exists.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/124155473/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
