[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69776781",
    "html_url": "https://github.com/rust-lang/rust/issues/21068#issuecomment-69776781",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21068",
    "id": 69776781,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5Nzc2Nzgx",
    "user": {
      "login": "frankmcsherry",
      "id": 5741500,
      "node_id": "MDQ6VXNlcjU3NDE1MDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5741500?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/frankmcsherry",
      "html_url": "https://github.com/frankmcsherry",
      "followers_url": "https://api.github.com/users/frankmcsherry/followers",
      "following_url": "https://api.github.com/users/frankmcsherry/following{/other_user}",
      "gists_url": "https://api.github.com/users/frankmcsherry/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/frankmcsherry/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/frankmcsherry/subscriptions",
      "organizations_url": "https://api.github.com/users/frankmcsherry/orgs",
      "repos_url": "https://api.github.com/users/frankmcsherry/repos",
      "events_url": "https://api.github.com/users/frankmcsherry/events{/privacy}",
      "received_events_url": "https://api.github.com/users/frankmcsherry/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-13T16:51:45Z",
    "updated_at": "2015-01-13T16:51:45Z",
    "body": "This is still present in \n\n```\nEchidnatron% rustc --version\nrustc 1.0.0-nightly (3d0d9bb6f 2015-01-12 22:56:20 +0000)\n```\n\nThe code that causes this is checked in at https://github.com/frankmcsherry/timely-dataflow.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69776781/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69789249",
    "html_url": "https://github.com/rust-lang/rust/issues/21068#issuecomment-69789249",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21068",
    "id": 69789249,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5Nzg5MjQ5",
    "user": {
      "login": "frankmcsherry",
      "id": 5741500,
      "node_id": "MDQ6VXNlcjU3NDE1MDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5741500?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/frankmcsherry",
      "html_url": "https://github.com/frankmcsherry",
      "followers_url": "https://api.github.com/users/frankmcsherry/followers",
      "following_url": "https://api.github.com/users/frankmcsherry/following{/other_user}",
      "gists_url": "https://api.github.com/users/frankmcsherry/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/frankmcsherry/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/frankmcsherry/subscriptions",
      "organizations_url": "https://api.github.com/users/frankmcsherry/orgs",
      "repos_url": "https://api.github.com/users/frankmcsherry/repos",
      "events_url": "https://api.github.com/users/frankmcsherry/events{/privacy}",
      "received_events_url": "https://api.github.com/users/frankmcsherry/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-13T18:02:53Z",
    "updated_at": "2015-01-13T18:02:53Z",
    "body": "More poking around suggests that the ICE goes away when the (only) member of the following struct is commented out (and its implementations updated to be no-ops):\n\n``` rust\npub struct OutputPort<T: Timestamp, D: Data> {\n    pub shared:    Rc<RefCell<Vec<Box<Observer<Time=T, Data=D>>>>>,\n}\n```\n\nThe only implementation `OutputPort` has is for `Observer` (with associated types Time = T and Data = D) and just maps each method across the members. It's all in `src/communication/observer.rs`, if that is helpful.\n\nNo clue if a) I'm doing it wrong, or b) not expected to work anyhow, or c) it should work; is bug.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69789249/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69793578",
    "html_url": "https://github.com/rust-lang/rust/issues/21068#issuecomment-69793578",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21068",
    "id": 69793578,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5NzkzNTc4",
    "user": {
      "login": "frankmcsherry",
      "id": 5741500,
      "node_id": "MDQ6VXNlcjU3NDE1MDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5741500?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/frankmcsherry",
      "html_url": "https://github.com/frankmcsherry",
      "followers_url": "https://api.github.com/users/frankmcsherry/followers",
      "following_url": "https://api.github.com/users/frankmcsherry/following{/other_user}",
      "gists_url": "https://api.github.com/users/frankmcsherry/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/frankmcsherry/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/frankmcsherry/subscriptions",
      "organizations_url": "https://api.github.com/users/frankmcsherry/orgs",
      "repos_url": "https://api.github.com/users/frankmcsherry/repos",
      "events_url": "https://api.github.com/users/frankmcsherry/events{/privacy}",
      "received_events_url": "https://api.github.com/users/frankmcsherry/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-13T18:29:33Z",
    "updated_at": "2015-01-13T18:29:33Z",
    "body": "More information. I'm able to get rustc to not ICE without removing any code, by adding an explicit type annotation elsewhere. Just before the `OutputPort` struct above is constructed, I have (approximately; some code elided):\n\n``` rust\nlet targets = Rc::new(RefCell::new(Vec::new()));\nself.add_observer(OutputPort { shared: targets.clone() });\n```\n\nThis ICEs, but if I add in a type annotation for `targets`: \n\n``` rust\nlet targets: Rc<RefCell<Vec<Box<Observer<Time=T, Data=D>>>>> = Rc::new(RefCell::new(Vec::new()));\nself.add_observer(OutputPort { shared: targets.clone() });\n```\n\nall is well. Not sure if this is an error without the annotation (and rustc is indirectly telling me it couldn't do type inference) or it should work and is just tickling some previously un-tickled code.\n\nAnyhow, hope this helps!\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69793578/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/94966467",
    "html_url": "https://github.com/rust-lang/rust/issues/21068#issuecomment-94966467",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21068",
    "id": 94966467,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk0OTY2NDY3",
    "user": {
      "login": "tamird",
      "id": 1535036,
      "node_id": "MDQ6VXNlcjE1MzUwMzY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1535036?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tamird",
      "html_url": "https://github.com/tamird",
      "followers_url": "https://api.github.com/users/tamird/followers",
      "following_url": "https://api.github.com/users/tamird/following{/other_user}",
      "gists_url": "https://api.github.com/users/tamird/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tamird/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tamird/subscriptions",
      "organizations_url": "https://api.github.com/users/tamird/orgs",
      "repos_url": "https://api.github.com/users/tamird/repos",
      "events_url": "https://api.github.com/users/tamird/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tamird/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-21T22:57:31Z",
    "updated_at": "2015-04-21T22:57:31Z",
    "body": "@frankmcsherry in the minimum number of steps: how do I reproduce this?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/94966467/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/95034775",
    "html_url": "https://github.com/rust-lang/rust/issues/21068#issuecomment-95034775",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21068",
    "id": 95034775,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk1MDM0Nzc1",
    "user": {
      "login": "frankmcsherry",
      "id": 5741500,
      "node_id": "MDQ6VXNlcjU3NDE1MDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5741500?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/frankmcsherry",
      "html_url": "https://github.com/frankmcsherry",
      "followers_url": "https://api.github.com/users/frankmcsherry/followers",
      "following_url": "https://api.github.com/users/frankmcsherry/following{/other_user}",
      "gists_url": "https://api.github.com/users/frankmcsherry/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/frankmcsherry/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/frankmcsherry/subscriptions",
      "organizations_url": "https://api.github.com/users/frankmcsherry/orgs",
      "repos_url": "https://api.github.com/users/frankmcsherry/repos",
      "events_url": "https://api.github.com/users/frankmcsherry/events{/privacy}",
      "received_events_url": "https://api.github.com/users/frankmcsherry/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-22T04:59:02Z",
    "updated_at": "2015-04-22T04:59:02Z",
    "body": "Sorry, this was about three months ago. I just pulled the commit to see if (by chance) there was still an ICE, but it doesn't build because it was written against pre-beta Rust and the language has changed so much. Closing as \"can't reproduce\", I guess?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/95034775/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
