[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/89973549",
    "html_url": "https://github.com/rust-lang/rust/issues/15402#issuecomment-89973549",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15402",
    "id": 89973549,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg5OTczNTQ5",
    "user": {
      "login": "richo",
      "id": 476418,
      "node_id": "MDQ6VXNlcjQ3NjQxOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/476418?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/richo",
      "html_url": "https://github.com/richo",
      "followers_url": "https://api.github.com/users/richo/followers",
      "following_url": "https://api.github.com/users/richo/following{/other_user}",
      "gists_url": "https://api.github.com/users/richo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/richo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/richo/subscriptions",
      "organizations_url": "https://api.github.com/users/richo/orgs",
      "repos_url": "https://api.github.com/users/richo/repos",
      "events_url": "https://api.github.com/users/richo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/richo/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-06T08:23:30Z",
    "updated_at": "2015-04-06T08:23:30Z",
    "body": "Just ran into this again, however for a lot of this year this worked, as I [wrote some code that does this](https://github.com/richo/rs-beef/blob/master/src/jit.rs#L122-L124).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/89973549/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/94953514",
    "html_url": "https://github.com/rust-lang/rust/issues/15402#issuecomment-94953514",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15402",
    "id": 94953514,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk0OTUzNTE0",
    "user": {
      "login": "tamird",
      "id": 1535036,
      "node_id": "MDQ6VXNlcjE1MzUwMzY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1535036?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tamird",
      "html_url": "https://github.com/tamird",
      "followers_url": "https://api.github.com/users/tamird/followers",
      "following_url": "https://api.github.com/users/tamird/following{/other_user}",
      "gists_url": "https://api.github.com/users/tamird/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tamird/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tamird/subscriptions",
      "organizations_url": "https://api.github.com/users/tamird/orgs",
      "repos_url": "https://api.github.com/users/tamird/repos",
      "events_url": "https://api.github.com/users/tamird/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tamird/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-21T21:49:52Z",
    "updated_at": "2015-04-21T21:49:52Z",
    "body": "This once again does not ICE:\n\n``` rust\n#![feature(asm)]\n\npub struct Wrapper(u32);\n\nfn main() {\n    let mut value: Wrapper = Wrapper(7);\n    unsafe {\n        asm!(\"mov %eax, $0\" : \"+r\"(value));\n    }\n}\n```\n\n@steveklabnik E-needstest?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/94953514/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/101042014",
    "html_url": "https://github.com/rust-lang/rust/issues/15402#issuecomment-101042014",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15402",
    "id": 101042014,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwMTA0MjAxNA==",
    "user": {
      "login": "jooert",
      "id": 1774713,
      "node_id": "MDQ6VXNlcjE3NzQ3MTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1774713?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jooert",
      "html_url": "https://github.com/jooert",
      "followers_url": "https://api.github.com/users/jooert/followers",
      "following_url": "https://api.github.com/users/jooert/following{/other_user}",
      "gists_url": "https://api.github.com/users/jooert/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jooert/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jooert/subscriptions",
      "organizations_url": "https://api.github.com/users/jooert/orgs",
      "repos_url": "https://api.github.com/users/jooert/repos",
      "events_url": "https://api.github.com/users/jooert/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jooert/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-11T20:44:08Z",
    "updated_at": "2015-05-11T20:44:08Z",
    "body": "With LLVM assertions enabled, this still fails with the same error message.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/101042014/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/174744352",
    "html_url": "https://github.com/rust-lang/rust/issues/15402#issuecomment-174744352",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15402",
    "id": 174744352,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3NDc0NDM1Mg==",
    "user": {
      "login": "jethrogb",
      "id": 1132307,
      "node_id": "MDQ6VXNlcjExMzIzMDc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1132307?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jethrogb",
      "html_url": "https://github.com/jethrogb",
      "followers_url": "https://api.github.com/users/jethrogb/followers",
      "following_url": "https://api.github.com/users/jethrogb/following{/other_user}",
      "gists_url": "https://api.github.com/users/jethrogb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jethrogb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jethrogb/subscriptions",
      "organizations_url": "https://api.github.com/users/jethrogb/orgs",
      "repos_url": "https://api.github.com/users/jethrogb/repos",
      "events_url": "https://api.github.com/users/jethrogb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jethrogb/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-01-26T00:24:04Z",
    "updated_at": "2016-01-26T00:24:04Z",
    "body": "The error depends on the exact asm invocation. \n\n``` rust\n#![feature(asm)]\n\n#[repr(packed)]\nstruct Bitfield<T>(T);\n\nfn test()->(Bitfield<u32>,Bitfield<u32>) {\n    let mut out=(Bitfield(0),Bitfield(0));\n    unsafe{asm!(\"\" : \"={eax}\"(out.0), \"={ebx}\"(out.1))};\n    out\n}\n\nfn main() {\n    test();\n}\n```\n\nyields:\n\n```\nUnknown type!\nUNREACHABLE executed at /buildslave/rust-buildbot/slave/nightly-dist-rustc-linux/build/src/llvm/lib/IR/ValueTypes.cpp:253!\n```\n\nWhile this\n\n``` rust\n#![feature(asm)]\n\n#[repr(packed)]\nstruct Bitfield<T>(T);\n\nfn test()->(Bitfield<u32>,Bitfield<u32>) {\n    let mut out=(Bitfield(0),Bitfield(0));\n    unsafe{asm!(\"\" : \"={eax}\"(out.0))};\n    out\n}\n\nfn main() {\n    test();\n}\n```\n\nyields:\n\n```\nrustc: /buildslave/rust-buildbot/slave/nightly-dist-rustc-linux/build/src/llvm/lib/IR/InlineAsm.cpp:47: llvm::InlineAsm::InlineAsm(llvm::PointerType*, const string&, const string&, bool, bool, llvm::InlineAsm::AsmDialect): Assertion `Verify(getFunctionType(), constraints) && \"Function type not legal for constraints!\"' failed.\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/174744352/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/322066281",
    "html_url": "https://github.com/rust-lang/rust/issues/15402#issuecomment-322066281",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15402",
    "id": 322066281,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyMjA2NjI4MQ==",
    "user": {
      "login": "chordowl",
      "id": 3811822,
      "node_id": "MDQ6VXNlcjM4MTE4MjI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3811822?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chordowl",
      "html_url": "https://github.com/chordowl",
      "followers_url": "https://api.github.com/users/chordowl/followers",
      "following_url": "https://api.github.com/users/chordowl/following{/other_user}",
      "gists_url": "https://api.github.com/users/chordowl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chordowl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chordowl/subscriptions",
      "organizations_url": "https://api.github.com/users/chordowl/orgs",
      "repos_url": "https://api.github.com/users/chordowl/repos",
      "events_url": "https://api.github.com/users/chordowl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chordowl/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-08-13T20:43:54Z",
    "updated_at": "2017-08-13T20:43:54Z",
    "body": "Triage: [still reproduces](https://play.rust-lang.org/?gist=72ea51fc477c80fa9bd574a7177268da&version=nightly)\r\n\r\n<details>\r\n\r\n```\r\nrustc: /checkout/src/llvm/lib/IR/InlineAsm.cpp:46: llvm::InlineAsm::InlineAsm(llvm::FunctionType*, const string&, const string&, bool, bool, llvm::InlineAsm::AsmDialect): Assertion `Verify(getFunctionType(), constraints) && \"Function type not legal for constraints!\"' failed.\r\nerror: Could not compile `playground`.\r\n```\r\n\r\n</details>",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/322066281/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/345511095",
    "html_url": "https://github.com/rust-lang/rust/issues/15402#issuecomment-345511095",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15402",
    "id": 345511095,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NTUxMTA5NQ==",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-11-19T11:58:44Z",
    "updated_at": "2017-11-19T11:58:44Z",
    "body": "This no longer ICEs!",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/345511095/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/345513219",
    "html_url": "https://github.com/rust-lang/rust/issues/15402#issuecomment-345513219",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15402",
    "id": 345513219,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NTUxMzIxOQ==",
    "user": {
      "login": "petrochenkov",
      "id": 5751617,
      "node_id": "MDQ6VXNlcjU3NTE2MTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5751617?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/petrochenkov",
      "html_url": "https://github.com/petrochenkov",
      "followers_url": "https://api.github.com/users/petrochenkov/followers",
      "following_url": "https://api.github.com/users/petrochenkov/following{/other_user}",
      "gists_url": "https://api.github.com/users/petrochenkov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/petrochenkov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/petrochenkov/subscriptions",
      "organizations_url": "https://api.github.com/users/petrochenkov/orgs",
      "repos_url": "https://api.github.com/users/petrochenkov/repos",
      "events_url": "https://api.github.com/users/petrochenkov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/petrochenkov/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-11-19T12:35:08Z",
    "updated_at": "2017-11-19T12:35:08Z",
    "body": "Because LLVM assertions were disabled on nightly https://github.com/rust-lang/rust/pull/45810",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/345513219/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/498240249",
    "html_url": "https://github.com/rust-lang/rust/issues/15402#issuecomment-498240249",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15402",
    "id": 498240249,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5ODI0MDI0OQ==",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2019-06-03T12:42:27Z",
    "updated_at": "2019-06-03T12:42:27Z",
    "body": "ICE is dependent on `feature(asm)` (cc #29722), which is not on the 2019 roadmap. Marking as P-medium until we get an overall plan for asm in Rust. (Although the fact that this can cause rustc itself to segfault, presumably via a problem internal to LLVM, does lead me to wonder if I should up the priority to P-high anyway.)",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/498240249/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/632864511",
    "html_url": "https://github.com/rust-lang/rust/issues/15402#issuecomment-632864511",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15402",
    "id": 632864511,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzMjg2NDUxMQ==",
    "user": {
      "login": "Amanieu",
      "id": 278509,
      "node_id": "MDQ6VXNlcjI3ODUwOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/278509?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Amanieu",
      "html_url": "https://github.com/Amanieu",
      "followers_url": "https://api.github.com/users/Amanieu/followers",
      "following_url": "https://api.github.com/users/Amanieu/following{/other_user}",
      "gists_url": "https://api.github.com/users/Amanieu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Amanieu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Amanieu/subscriptions",
      "organizations_url": "https://api.github.com/users/Amanieu/orgs",
      "repos_url": "https://api.github.com/users/Amanieu/repos",
      "events_url": "https://api.github.com/users/Amanieu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Amanieu/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-05-22T19:08:12Z",
    "updated_at": "2020-05-22T19:08:12Z",
    "body": "This issue does not apply to the new `asm!` ([RFC 2850](https://github.com/rust-lang/rfcs/pull/2850)) which has stricter checks on the types that can be used as asm operands.\r\n\r\nThe legacy `llvm_asm!` is deprecated and is no longer maintained.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/632864511/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
