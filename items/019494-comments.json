[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/65505992",
    "html_url": "https://github.com/rust-lang/rust/pull/19494#issuecomment-65505992",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19494",
    "id": 65505992,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1NTA1OTky",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-12-03T22:47:23Z",
    "updated_at": "2014-12-03T22:47:23Z",
    "body": "This looks pretty clever and useful.\n\nIs it incorrect to ever compare equality of `Tokens` without `check` or `check_operator`? If so, it may be prudent to not implement `PartialEq`/`Eq` to avoid future errors.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/65505992/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/65509912",
    "html_url": "https://github.com/rust-lang/rust/pull/19494#issuecomment-65509912",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19494",
    "id": 65509912,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1NTA5OTEy",
    "user": {
      "login": "ftxqxd",
      "id": 2055302,
      "node_id": "MDQ6VXNlcjIwNTUzMDI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2055302?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ftxqxd",
      "html_url": "https://github.com/ftxqxd",
      "followers_url": "https://api.github.com/users/ftxqxd/followers",
      "following_url": "https://api.github.com/users/ftxqxd/following{/other_user}",
      "gists_url": "https://api.github.com/users/ftxqxd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ftxqxd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ftxqxd/subscriptions",
      "organizations_url": "https://api.github.com/users/ftxqxd/orgs",
      "repos_url": "https://api.github.com/users/ftxqxd/repos",
      "events_url": "https://api.github.com/users/ftxqxd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ftxqxd/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-12-03T23:15:57Z",
    "updated_at": "2014-12-03T23:15:57Z",
    "body": "No, it\u2019s not incorrect to compare `Token`s using `==`, and I do keep a number of uses of `==` in the code here, because we don\u2019t want an error message to say that it expected something which isn\u2019t supported any more (e.g., `let x: fn int` will say something like \u2018expected `(`, found `int`\u2019 instead of \u2018expected one of `(` or `<`, found `int`\u2019, because the `fn<'a>(\u2026)` syntax is deprecated).\n\nThat said, I think you\u2019re right in that it\u2019s very easy for someone modifying the parser in the future to write `self.token == foo` instead of `self.check(&foo)`. Adding a new method which does not add the token to `self.expected_tokens` would let us remove `PartialEq`/`Eq`, but I\u2019m wary about disallowing `==` for `Token`s _everywhere_, not just in the parser (which is all we really want to disallow). Perhaps `Parser.token` could use a wrapper around `Token` that does not implement `PartialEq` instead of directly using `Token`?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/65509912/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/65513988",
    "html_url": "https://github.com/rust-lang/rust/pull/19494#issuecomment-65513988",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19494",
    "id": 65513988,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1NTEzOTg4",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-12-03T23:49:24Z",
    "updated_at": "2014-12-03T23:49:24Z",
    "body": "@P1start I'm not sure whether it's necessary. The potential bug is relatively minor: that the error fails to suggest a possible token. I'll leave it to your judgement to decide whether such defensive programming is warranted here.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/65513988/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/65521278",
    "html_url": "https://github.com/rust-lang/rust/pull/19494#issuecomment-65521278",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19494",
    "id": 65521278,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1NTIxMjc4",
    "user": {
      "login": "ftxqxd",
      "id": 2055302,
      "node_id": "MDQ6VXNlcjIwNTUzMDI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2055302?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ftxqxd",
      "html_url": "https://github.com/ftxqxd",
      "followers_url": "https://api.github.com/users/ftxqxd/followers",
      "following_url": "https://api.github.com/users/ftxqxd/following{/other_user}",
      "gists_url": "https://api.github.com/users/ftxqxd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ftxqxd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ftxqxd/subscriptions",
      "organizations_url": "https://api.github.com/users/ftxqxd/orgs",
      "repos_url": "https://api.github.com/users/ftxqxd/repos",
      "events_url": "https://api.github.com/users/ftxqxd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ftxqxd/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-12-04T01:02:58Z",
    "updated_at": "2014-12-04T01:02:58Z",
    "body": "I decided not to prevent `==` on `self.token`. It\u2019s just not worth the bother, and significantly decreases the ergonomics writing code in the parser.\n\nI did end up removing `check_operator`, and the code to my eyes looks clearer and makes more sense. I also fixed up a few other special-cased \u2018expected\u2026\u2019 messages to print out the actual symbol for the token instead of the internal representation of it.\n\nr? @brson\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/65521278/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
