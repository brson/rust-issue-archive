[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/100990297",
    "html_url": "https://github.com/rust-lang/rust/issues/25310#issuecomment-100990297",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25310",
    "id": 100990297,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwMDk5MDI5Nw==",
    "user": {
      "login": "mbrubeck",
      "id": 5920,
      "node_id": "MDQ6VXNlcjU5MjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5920?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mbrubeck",
      "html_url": "https://github.com/mbrubeck",
      "followers_url": "https://api.github.com/users/mbrubeck/followers",
      "following_url": "https://api.github.com/users/mbrubeck/following{/other_user}",
      "gists_url": "https://api.github.com/users/mbrubeck/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mbrubeck/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mbrubeck/subscriptions",
      "organizations_url": "https://api.github.com/users/mbrubeck/orgs",
      "repos_url": "https://api.github.com/users/mbrubeck/repos",
      "events_url": "https://api.github.com/users/mbrubeck/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mbrubeck/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-11T17:38:52Z",
    "updated_at": "2015-05-11T17:38:52Z",
    "body": "Or this might be an intentional breakage from #24461.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/100990297/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/101007675",
    "html_url": "https://github.com/rust-lang/rust/issues/25310#issuecomment-101007675",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25310",
    "id": 101007675,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwMTAwNzY3NQ==",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-11T18:25:07Z",
    "updated_at": "2015-05-11T18:25:07Z",
    "body": "I don't see `Box` in the example, so I am skeptical that this would be #25212 ...\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/101007675/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/102987737",
    "html_url": "https://github.com/rust-lang/rust/issues/25310#issuecomment-102987737",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25310",
    "id": 102987737,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwMjk4NzczNw==",
    "user": {
      "login": "bluss",
      "id": 3209739,
      "node_id": "MDQ6VXNlcjMyMDk3Mzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3209739?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bluss",
      "html_url": "https://github.com/bluss",
      "followers_url": "https://api.github.com/users/bluss/followers",
      "following_url": "https://api.github.com/users/bluss/following{/other_user}",
      "gists_url": "https://api.github.com/users/bluss/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bluss/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bluss/subscriptions",
      "organizations_url": "https://api.github.com/users/bluss/orgs",
      "repos_url": "https://api.github.com/users/bluss/repos",
      "events_url": "https://api.github.com/users/bluss/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bluss/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-18T09:18:16Z",
    "updated_at": "2015-05-18T09:18:16Z",
    "body": "This is a regression from Rust 1.0\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/102987737/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/103025617",
    "html_url": "https://github.com/rust-lang/rust/issues/25310#issuecomment-103025617",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25310",
    "id": 103025617,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwMzAyNTYxNw==",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-18T11:34:18Z",
    "updated_at": "2015-05-18T11:34:18Z",
    "body": "cc @nikomatsakis \n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/103025617/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/103054981",
    "html_url": "https://github.com/rust-lang/rust/issues/25310#issuecomment-103054981",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25310",
    "id": 103054981,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwMzA1NDk4MQ==",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-18T13:17:45Z",
    "updated_at": "2015-05-18T13:18:15Z",
    "body": "There is also this approach to working around the problem: use a `for <'a> ...` in the trait bound to bind the lifetime.  (But doing this apparently requires eta-expanding the `fn`, wrapping it with a trivial closure; I'm not clear about why that is necessary...)\n\n``` rust\nuse std::env;\nuse std::ffi::OsString;\n\nfn foo<F>(bar: &F) -> Option<OsString>\n    where F: for <'r> Fn(&'r str) -> Option<OsString>\n{\n    bar(\"HOME\")\n}\n\nfn main() {\n    println!(\"{:?}\", foo(&|x|env::var_os(x)));\n}\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/103054981/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/103151036",
    "html_url": "https://github.com/rust-lang/rust/issues/25310#issuecomment-103151036",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25310",
    "id": 103151036,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwMzE1MTAzNg==",
    "user": {
      "login": "codyps",
      "id": 103437,
      "node_id": "MDQ6VXNlcjEwMzQzNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/103437?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/codyps",
      "html_url": "https://github.com/codyps",
      "followers_url": "https://api.github.com/users/codyps/followers",
      "following_url": "https://api.github.com/users/codyps/following{/other_user}",
      "gists_url": "https://api.github.com/users/codyps/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/codyps/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/codyps/subscriptions",
      "organizations_url": "https://api.github.com/users/codyps/orgs",
      "repos_url": "https://api.github.com/users/codyps/repos",
      "events_url": "https://api.github.com/users/codyps/events{/privacy}",
      "received_events_url": "https://api.github.com/users/codyps/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-18T18:05:31Z",
    "updated_at": "2015-05-18T18:06:23Z",
    "body": "Playpen of the failing-on-nightly-but-not-stable version, for reference:\n\nhttp://is.gd/UIC7SX (playpen is now on a nightly new enough to reproduce the failure, despite the inline comment)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/103151036/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/106468077",
    "html_url": "https://github.com/rust-lang/rust/issues/25310#issuecomment-106468077",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25310",
    "id": 106468077,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNjQ2ODA3Nw==",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-28T16:31:12Z",
    "updated_at": "2015-05-28T16:31:12Z",
    "body": "Nominating because @bluss suggested this was a stable regression.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/106468077/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/106530883",
    "html_url": "https://github.com/rust-lang/rust/issues/25310#issuecomment-106530883",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25310",
    "id": 106530883,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNjUzMDg4Mw==",
    "user": {
      "login": "codyps",
      "id": 103437,
      "node_id": "MDQ6VXNlcjEwMzQzNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/103437?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/codyps",
      "html_url": "https://github.com/codyps",
      "followers_url": "https://api.github.com/users/codyps/followers",
      "following_url": "https://api.github.com/users/codyps/following{/other_user}",
      "gists_url": "https://api.github.com/users/codyps/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/codyps/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/codyps/subscriptions",
      "organizations_url": "https://api.github.com/users/codyps/orgs",
      "repos_url": "https://api.github.com/users/codyps/repos",
      "events_url": "https://api.github.com/users/codyps/events{/privacy}",
      "received_events_url": "https://api.github.com/users/codyps/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-28T17:57:29Z",
    "updated_at": "2015-05-28T17:57:29Z",
    "body": "(Just noticed I hadn't included the error message)\n\n```\n<anon>:12:22: 12:25 error: type mismatch: the type `fn(_) -> core::option::Option<std::ffi::os_str::OsString> {std::env::var_os}` implements the trait `core::ops::Fn<(_,)>`, but the trait `for<'r> core::ops::Fn<(&'r str,)>` is required (expected concrete lifetime, found bound lifetime parameter ) [E0281]\n<anon>:12     println!(\"{:?}\", foo(&env::var_os));\n                               ^~~\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/106530883/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/108074127",
    "html_url": "https://github.com/rust-lang/rust/issues/25310#issuecomment-108074127",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25310",
    "id": 108074127,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwODA3NDEyNw==",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-06-02T19:44:05Z",
    "updated_at": "2015-06-02T19:44:05Z",
    "body": "Hmm. I do think that this should work. If you edit the example to use a crate-local fn, for example, it does work: http://is.gd/vaEi9C\n\n``` rust\nuse std::env;\nuse std::ffi::{OsStr, OsString};\n\nfn test<K:?Sized>(_: &K) -> Option<OsString> where K: AsRef<OsStr> { None }\n\n/* Explicit lifetimes are required by rust-2015-05-11 nightly (newer than playpen) */\nfn foo<'a, F>(bar: &'a F) -> Option<OsString>\n    where F: Fn(&str) -> Option<OsString>\n{\n    bar(\"HOME\")\n}\n\nfn main() {\n    println!(\"{:?}\", foo(&test));\n}\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/108074127/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/108074757",
    "html_url": "https://github.com/rust-lang/rust/issues/25310#issuecomment-108074757",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25310",
    "id": 108074757,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwODA3NDc1Nw==",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-06-02T19:45:54Z",
    "updated_at": "2015-06-02T19:45:54Z",
    "body": "triage: P-high \n\nI'm going to mark this as P-high because I agree it is a regression. My guess would be that perhaps it is related to https://github.com/rust-lang/rust/pull/24615 or some of the other recent changes to trait selection, but I'll have to dive in and trace it out.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/108074757/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/124543618",
    "html_url": "https://github.com/rust-lang/rust/issues/25310#issuecomment-124543618",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25310",
    "id": 124543618,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNDU0MzYxOA==",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-24T14:37:33Z",
    "updated_at": "2015-07-24T14:37:33Z",
    "body": "So, I've tracked down the origin, but the code in question has landed in stable already. The cause was commit 9b88cd1c691626bb38c243c1996d1d2d045bbeda. This modified the definition of `var_os` as follows:\n\n`````` diff\n@@ -197,7 +197,7 @@ pub fn var<K: ?Sized>(key: &K) -> Result<String, VarError> where K: AsRef<OsStr>\n /// }\n /// ```\n #[stable(feature = \"env\", since = \"1.0.0\")]\n-pub fn var_os<K: ?Sized>(key: &K) -> Option<OsString> where K: AsRef<OsStr> {\n+pub fn var_os<K: AsRef<OsStr>>(key: K) -> Option<OsString> {\n     let _g = ENV_LOCK.lock();\n     os_imp::getenv(key.as_ref())\n }\n``````\n\nOne effect of this definition is that `var_os` no longer satisfies the type `for<'r> fn(&'r K)` but rather the type `fn(&'r K)`. The difference is subtle -- the first type says that you can call this function pointer multiple times with distinct lifetimes each time, the second says that the function pointer is associated with a single lifetime for each reference. In other words, if you write multiple calls to `var_os()`, you'll never notice the difference, but if you capture a single reference to `var_os`, you might:\n\n``` rust\nlet x = var_os;\nx(..);\nx(..);\n```\n\nvs\n\n``` rust\nvar_os(..);\nvar_os(..);\n```\n\nIn this case, the code was capturing a single reference to `var_os` and using it as a closure. Converting the code to use explicit lifetimes changed the closure so that it only accepts references with the lifetime `'a`, versus any lifetime. Another fix would be to change from `foo(&env::var_os)` to `foo(|x| env::var_os(x))`. \n\nI'm going to close this, since the code has made it to stable and doesn't seem to have caused dramatic impact, but it's an interesting regression vector.\n\ncc @rust-lang/libs <-- this should be kept in mind in the future.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/124543618/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/124544060",
    "html_url": "https://github.com/rust-lang/rust/issues/25310#issuecomment-124544060",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25310",
    "id": 124544060,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNDU0NDA2MA==",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-24T14:38:36Z",
    "updated_at": "2015-07-24T14:38:36Z",
    "body": "Ah, I see @pnkfelix suggested the second change already. The reason that this works is that it is equivalent to making one reference to `var_os` per call-site.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/124544060/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
