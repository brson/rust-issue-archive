[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/93316224",
    "html_url": "https://github.com/rust-lang/rust/issues/24456#issuecomment-93316224",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24456",
    "id": 93316224,
    "node_id": "MDEyOklzc3VlQ29tbWVudDkzMzE2MjI0",
    "user": {
      "login": "bstrie",
      "id": 865233,
      "node_id": "MDQ6VXNlcjg2NTIzMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/865233?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bstrie",
      "html_url": "https://github.com/bstrie",
      "followers_url": "https://api.github.com/users/bstrie/followers",
      "following_url": "https://api.github.com/users/bstrie/following{/other_user}",
      "gists_url": "https://api.github.com/users/bstrie/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bstrie/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bstrie/subscriptions",
      "organizations_url": "https://api.github.com/users/bstrie/orgs",
      "repos_url": "https://api.github.com/users/bstrie/repos",
      "events_url": "https://api.github.com/users/bstrie/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bstrie/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-15T10:38:48Z",
    "updated_at": "2015-04-15T10:38:48Z",
    "body": "Nominating for 1.0 because some men just want to watch the world burn.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/93316224/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/93317769",
    "html_url": "https://github.com/rust-lang/rust/issues/24456#issuecomment-93317769",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24456",
    "id": 93317769,
    "node_id": "MDEyOklzc3VlQ29tbWVudDkzMzE3NzY5",
    "user": {
      "login": "theemathas",
      "id": 6120103,
      "node_id": "MDQ6VXNlcjYxMjAxMDM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6120103?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theemathas",
      "html_url": "https://github.com/theemathas",
      "followers_url": "https://api.github.com/users/theemathas/followers",
      "following_url": "https://api.github.com/users/theemathas/following{/other_user}",
      "gists_url": "https://api.github.com/users/theemathas/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theemathas/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theemathas/subscriptions",
      "organizations_url": "https://api.github.com/users/theemathas/orgs",
      "repos_url": "https://api.github.com/users/theemathas/repos",
      "events_url": "https://api.github.com/users/theemathas/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theemathas/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-15T10:45:41Z",
    "updated_at": "2015-04-15T10:45:41Z",
    "body": "This is one of the root causes of #24292 \n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/93317769/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/93366928",
    "html_url": "https://github.com/rust-lang/rust/issues/24456#issuecomment-93366928",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24456",
    "id": 93366928,
    "node_id": "MDEyOklzc3VlQ29tbWVudDkzMzY2OTI4",
    "user": {
      "login": "elinorbgr",
      "id": 3009227,
      "node_id": "MDQ6VXNlcjMwMDkyMjc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3009227?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/elinorbgr",
      "html_url": "https://github.com/elinorbgr",
      "followers_url": "https://api.github.com/users/elinorbgr/followers",
      "following_url": "https://api.github.com/users/elinorbgr/following{/other_user}",
      "gists_url": "https://api.github.com/users/elinorbgr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/elinorbgr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/elinorbgr/subscriptions",
      "organizations_url": "https://api.github.com/users/elinorbgr/orgs",
      "repos_url": "https://api.github.com/users/elinorbgr/repos",
      "events_url": "https://api.github.com/users/elinorbgr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/elinorbgr/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-15T12:24:39Z",
    "updated_at": "2015-04-15T12:24:39Z",
    "body": "Hmm... I was trying to understand this example, but it doesn't compile:\n\n```\ntest.rs:6:25: 6:34 error: mismatched types:\n expected `core::option::Option<_>`,\n    found `alloc::rc::Rc<(T, core::cell::RefCell<core::option::Option<_>>)>`\n(expected enum `core::option::Option`,\n    found struct `alloc::rc::Rc`) [E0308]\ntest.rs:6     *x.1.borrow_mut() = x.clone();\n                                  ^~~~~~~~~\n```\n\nMy first guess was to wrap `x.clone()` into `Some(x.clone())` so that the types matches, but it doesn't compile either:\n\n```\ntest.rs:6:25: 6:40 error: mismatched types:\n expected `core::option::Option<_>`,\n    found `core::option::Option<alloc::rc::Rc<(T, core::cell::RefCell<core::option::Option<_>>)>>`\n(cyclic type of infinite size) [E0308]\ntest.rs:6     *x.1.borrow_mut() = Some(x.clone());\n                                  ^~~~~~~~~~~~~~~\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/93366928/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/93371661",
    "html_url": "https://github.com/rust-lang/rust/issues/24456#issuecomment-93371661",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24456",
    "id": 93371661,
    "node_id": "MDEyOklzc3VlQ29tbWVudDkzMzcxNjYx",
    "user": {
      "login": "retep998",
      "id": 666308,
      "node_id": "MDQ6VXNlcjY2NjMwOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/666308?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/retep998",
      "html_url": "https://github.com/retep998",
      "followers_url": "https://api.github.com/users/retep998/followers",
      "following_url": "https://api.github.com/users/retep998/following{/other_user}",
      "gists_url": "https://api.github.com/users/retep998/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/retep998/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/retep998/subscriptions",
      "organizations_url": "https://api.github.com/users/retep998/orgs",
      "repos_url": "https://api.github.com/users/retep998/repos",
      "events_url": "https://api.github.com/users/retep998/events{/privacy}",
      "received_events_url": "https://api.github.com/users/retep998/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-15T12:37:41Z",
    "updated_at": "2015-04-15T12:37:41Z",
    "body": "Here is a working example:\n\n``` Rust\nfn forget<T>(val: T) {\n    use std::cell::RefCell;\n    use std::rc::Rc;\n    struct Foo<T>(T, RefCell<Option<Rc<Foo<T>>>>);\n    let x = Rc::new(Foo(val, RefCell::new(None)));\n    *x.1.borrow_mut() = Some(x.clone());\n}\nstruct DontDropMe;\nimpl Drop for DontDropMe {\n    fn drop(&mut self) { unreachable!() }\n}\nfn main() {\n    forget(DontDropMe)\n}\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/93371661/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/93412200",
    "html_url": "https://github.com/rust-lang/rust/issues/24456#issuecomment-93412200",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24456",
    "id": 93412200,
    "node_id": "MDEyOklzc3VlQ29tbWVudDkzNDEyMjAw",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-15T13:59:58Z",
    "updated_at": "2015-04-15T13:59:58Z",
    "body": "My current thinking:\n1. There were other ways to forget even before Rc, at least in some cases. For example, if `T:Send` holds, you could send the value to a thread that runs an infinite loop, or which is deadlocked on a port. \n2. It is true that one cannot assume that a destructor will run, and hence that `forget` is not itself unsafe (rather, it is unsafe to write a dtor that _must run_). This is what happened with #24292. You can sidestep this by writing destructors that _must run_ but never giving up ownership of the value with the destructor. This often involves some closures.\n3. It'd be nice if we could use RAII as we initially wanted to. So I suspect we may in the future work on a solution for identifying types whose destructors _must_ run and preventing them from being placed into `Rc`. (Some kind of trait, most likely.)\n4. If we did step 2, then we would probably want `forget` to continue to \"forget\" the values in question -- which would mean that `forget` would become unsafe again. So that argues in favor of leaving it as `unsafe` for now -- we can always make it safe later if we so choose.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/93412200/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/93414610",
    "html_url": "https://github.com/rust-lang/rust/issues/24456#issuecomment-93414610",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24456",
    "id": 93414610,
    "node_id": "MDEyOklzc3VlQ29tbWVudDkzNDE0NjEw",
    "user": {
      "login": "Kimundi",
      "id": 2903206,
      "node_id": "MDQ6VXNlcjI5MDMyMDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2903206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Kimundi",
      "html_url": "https://github.com/Kimundi",
      "followers_url": "https://api.github.com/users/Kimundi/followers",
      "following_url": "https://api.github.com/users/Kimundi/following{/other_user}",
      "gists_url": "https://api.github.com/users/Kimundi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Kimundi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Kimundi/subscriptions",
      "organizations_url": "https://api.github.com/users/Kimundi/orgs",
      "repos_url": "https://api.github.com/users/Kimundi/repos",
      "events_url": "https://api.github.com/users/Kimundi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Kimundi/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-15T14:05:03Z",
    "updated_at": "2015-04-15T14:05:03Z",
    "body": "@nikomatsakis Did you mean \"4. If we did step 3, [...]\" rather than \"4. If we did step 2, [...]\"?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/93414610/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/93431643",
    "html_url": "https://github.com/rust-lang/rust/issues/24456#issuecomment-93431643",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24456",
    "id": 93431643,
    "node_id": "MDEyOklzc3VlQ29tbWVudDkzNDMxNjQz",
    "user": {
      "login": "pythonesque",
      "id": 923144,
      "node_id": "MDQ6VXNlcjkyMzE0NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/923144?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pythonesque",
      "html_url": "https://github.com/pythonesque",
      "followers_url": "https://api.github.com/users/pythonesque/followers",
      "following_url": "https://api.github.com/users/pythonesque/following{/other_user}",
      "gists_url": "https://api.github.com/users/pythonesque/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pythonesque/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pythonesque/subscriptions",
      "organizations_url": "https://api.github.com/users/pythonesque/orgs",
      "repos_url": "https://api.github.com/users/pythonesque/repos",
      "events_url": "https://api.github.com/users/pythonesque/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pythonesque/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-15T14:51:52Z",
    "updated_at": "2015-04-15T14:51:52Z",
    "body": "@nikomatsakis My concern is that (3) couldn't be done backwards-compatibly, at least not without making it unsafe to create a new type that leaks like `Rc` does.  Doing it now would subsume all four points (except point [1], but as I mentioned earlier Rust is a long way off from providing guarantees of totality or anything crazy like that, so it will be sufficient in practice).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/93431643/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/93487946",
    "html_url": "https://github.com/rust-lang/rust/issues/24456#issuecomment-93487946",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24456",
    "id": 93487946,
    "node_id": "MDEyOklzc3VlQ29tbWVudDkzNDg3OTQ2",
    "user": {
      "login": "arielb1",
      "id": 1830974,
      "node_id": "MDQ6VXNlcjE4MzA5NzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1830974?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/arielb1",
      "html_url": "https://github.com/arielb1",
      "followers_url": "https://api.github.com/users/arielb1/followers",
      "following_url": "https://api.github.com/users/arielb1/following{/other_user}",
      "gists_url": "https://api.github.com/users/arielb1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/arielb1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/arielb1/subscriptions",
      "organizations_url": "https://api.github.com/users/arielb1/orgs",
      "repos_url": "https://api.github.com/users/arielb1/repos",
      "events_url": "https://api.github.com/users/arielb1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/arielb1/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-15T17:05:14Z",
    "updated_at": "2015-04-15T17:05:14Z",
    "body": "@nikomatsakis \n\nIf you have `T: 'static`, then you can move it into a thread-local `Vec<Box<SomeTrait>>` (with an `impl<T:?Sized> SomeTrait for T {}`) or something and lose it, so `forget` is only \"interesting\" on lifetime-bounded traits, where it allows the lifetime to end without the destructor running.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/93487946/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/93494210",
    "html_url": "https://github.com/rust-lang/rust/issues/24456#issuecomment-93494210",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24456",
    "id": 93494210,
    "node_id": "MDEyOklzc3VlQ29tbWVudDkzNDk0MjEw",
    "user": {
      "login": "dgrunwald",
      "id": 243140,
      "node_id": "MDQ6VXNlcjI0MzE0MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/243140?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dgrunwald",
      "html_url": "https://github.com/dgrunwald",
      "followers_url": "https://api.github.com/users/dgrunwald/followers",
      "following_url": "https://api.github.com/users/dgrunwald/following{/other_user}",
      "gists_url": "https://api.github.com/users/dgrunwald/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dgrunwald/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dgrunwald/subscriptions",
      "organizations_url": "https://api.github.com/users/dgrunwald/orgs",
      "repos_url": "https://api.github.com/users/dgrunwald/repos",
      "events_url": "https://api.github.com/users/dgrunwald/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dgrunwald/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-15T17:32:48Z",
    "updated_at": "2015-04-15T17:32:48Z",
    "body": "A safe `mem::forget` has the advantage that it makes it easier to write the counterexample proving `thread::JoinGuard` unsafe. Safe `mem::forget` makes it more likely that people will know that destructors are not realiable, so they can avoid repeating this mistake.\n\n> we can always make it safe later if we so choose.\n\nMaking an unsafe function safe is a (minor) breaking change (`fn(T)` is not a subtype of `unsafe fn(T)`).\n\nWe might want two functions:\n\n```\nfn forget<T>(val: T) { ... }\nunsafe fn forget_unsafe<T: ?Leak>(val: T) { ... }\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/93494210/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/93506651",
    "html_url": "https://github.com/rust-lang/rust/issues/24456#issuecomment-93506651",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24456",
    "id": 93506651,
    "node_id": "MDEyOklzc3VlQ29tbWVudDkzNTA2NjUx",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-15T18:04:40Z",
    "updated_at": "2015-04-15T18:04:40Z",
    "body": "I [commented on #24292](https://github.com/rust-lang/rust/issues/24292#issuecomment-93505374), but the gist is that there are multiple ways to leak memory today (e.g. #14875 and #16135), so a targeted solution at `Rc` may not cover all use cases. Although as I mention in #24292 these other bugs can also be considered separate bugs on their own which need to be fixed regardless (but sometimes is quite difficult to do so).\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/93506651/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/93774965",
    "html_url": "https://github.com/rust-lang/rust/issues/24456#issuecomment-93774965",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24456",
    "id": 93774965,
    "node_id": "MDEyOklzc3VlQ29tbWVudDkzNzc0OTY1",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-16T16:14:44Z",
    "updated_at": "2015-04-16T16:14:44Z",
    "body": "I have [created an RFC](https://github.com/rust-lang/rfcs/pull/1066) for marking `forget` as a safe function.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/93774965/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/93799517",
    "html_url": "https://github.com/rust-lang/rust/issues/24456#issuecomment-93799517",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24456",
    "id": 93799517,
    "node_id": "MDEyOklzc3VlQ29tbWVudDkzNzk5NTE3",
    "user": {
      "login": "petrochenkov",
      "id": 5751617,
      "node_id": "MDQ6VXNlcjU3NTE2MTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5751617?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/petrochenkov",
      "html_url": "https://github.com/petrochenkov",
      "followers_url": "https://api.github.com/users/petrochenkov/followers",
      "following_url": "https://api.github.com/users/petrochenkov/following{/other_user}",
      "gists_url": "https://api.github.com/users/petrochenkov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/petrochenkov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/petrochenkov/subscriptions",
      "organizations_url": "https://api.github.com/users/petrochenkov/orgs",
      "repos_url": "https://api.github.com/users/petrochenkov/repos",
      "events_url": "https://api.github.com/users/petrochenkov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/petrochenkov/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-16T17:49:03Z",
    "updated_at": "2015-04-16T17:49:03Z",
    "body": "By the way, is it okay to leak references through `Rc`-powered forget?\n\n```\nfn forget<T>(val: T) {\n    use std::cell::RefCell;\n    use std::rc::Rc;\n    struct Foo<T>(T, RefCell<Option<Rc<Foo<T>>>>);\n    let x = Rc::new(Foo(val, RefCell::new(None)));\n    *x.1.borrow_mut() = Some(x.clone());\n}\nfn main() {\n    {\n        let mut a = 10;\n        forget(&mut a); // Leak the reference to `a`\n        let b = &mut a; // Now we have two mut references to `a`, one here and one somewhere\n    }\n    // The dangling reference to `a` still lives somewhere. Can it be made accessible without `unsafe`?\n}\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/93799517/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/93843395",
    "html_url": "https://github.com/rust-lang/rust/issues/24456#issuecomment-93843395",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24456",
    "id": 93843395,
    "node_id": "MDEyOklzc3VlQ29tbWVudDkzODQzMzk1",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-16T21:26:53Z",
    "updated_at": "2015-04-16T21:26:53Z",
    "body": "closing this issue to encourage all further discussion of this matter to happen on the RFC thread, see https://github.com/rust-lang/rfcs/pull/1066\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/93843395/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/93845691",
    "html_url": "https://github.com/rust-lang/rust/issues/24456#issuecomment-93845691",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24456",
    "id": 93845691,
    "node_id": "MDEyOklzc3VlQ29tbWVudDkzODQ1Njkx",
    "user": {
      "login": "reem",
      "id": 4745181,
      "node_id": "MDQ6VXNlcjQ3NDUxODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4745181?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/reem",
      "html_url": "https://github.com/reem",
      "followers_url": "https://api.github.com/users/reem/followers",
      "following_url": "https://api.github.com/users/reem/following{/other_user}",
      "gists_url": "https://api.github.com/users/reem/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/reem/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/reem/subscriptions",
      "organizations_url": "https://api.github.com/users/reem/orgs",
      "repos_url": "https://api.github.com/users/reem/repos",
      "events_url": "https://api.github.com/users/reem/events{/privacy}",
      "received_events_url": "https://api.github.com/users/reem/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-16T21:38:40Z",
    "updated_at": "2015-04-16T21:38:40Z",
    "body": "@pnkfelix seems weird to close the issue if it's not fixed, how about just leaving the comment?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/93845691/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/93918685",
    "html_url": "https://github.com/rust-lang/rust/issues/24456#issuecomment-93918685",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24456",
    "id": 93918685,
    "node_id": "MDEyOklzc3VlQ29tbWVudDkzOTE4Njg1",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-17T06:56:48Z",
    "updated_at": "2015-04-17T06:56:48Z",
    "body": "@reem the idea was to funnel conversation over to the RFC.   A single comment in the middle of a thread won't do that.  \n\n(To be clear: this was was the outcome of the team triage, since the issue had been nominated; it was was a group decision. My initial instinct had been to let it sit for a week with the nomination, but was persuaded by arguments  to close in favor of the RFC.)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/93918685/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
