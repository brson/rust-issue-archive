[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/68712226",
    "html_url": "https://github.com/rust-lang/rust/issues/20574#issuecomment-68712226",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20574",
    "id": 68712226,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4NzEyMjI2",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-05T14:12:07Z",
    "updated_at": "2015-01-05T14:12:28Z",
    "body": "AFAICT, it seems that the first closure is defaulting to have return type `()`; since `!` isn't a real type, it requires explicit annotation for the compiler to believe that you want it.\n\n(Maybe that's what we should regard as a bug?)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/68712226/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/68716910",
    "html_url": "https://github.com/rust-lang/rust/issues/20574#issuecomment-68716910",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20574",
    "id": 68716910,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4NzE2OTEw",
    "user": {
      "login": "reem",
      "id": 4745181,
      "node_id": "MDQ6VXNlcjQ3NDUxODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4745181?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/reem",
      "html_url": "https://github.com/reem",
      "followers_url": "https://api.github.com/users/reem/followers",
      "following_url": "https://api.github.com/users/reem/following{/other_user}",
      "gists_url": "https://api.github.com/users/reem/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/reem/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/reem/subscriptions",
      "organizations_url": "https://api.github.com/users/reem/orgs",
      "repos_url": "https://api.github.com/users/reem/repos",
      "events_url": "https://api.github.com/users/reem/events{/privacy}",
      "received_events_url": "https://api.github.com/users/reem/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-05T14:48:05Z",
    "updated_at": "2015-01-05T14:48:05Z",
    "body": "I think it would be quite interesting for `!` to be a \"real\" type. There are certain patterns that could be made more usable, such as consuming a thread to run an event loop, for instance.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/68716910/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/68716977",
    "html_url": "https://github.com/rust-lang/rust/issues/20574#issuecomment-68716977",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20574",
    "id": 68716977,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4NzE2OTc3",
    "user": {
      "login": "reem",
      "id": 4745181,
      "node_id": "MDQ6VXNlcjQ3NDUxODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4745181?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/reem",
      "html_url": "https://github.com/reem",
      "followers_url": "https://api.github.com/users/reem/followers",
      "following_url": "https://api.github.com/users/reem/following{/other_user}",
      "gists_url": "https://api.github.com/users/reem/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/reem/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/reem/subscriptions",
      "organizations_url": "https://api.github.com/users/reem/orgs",
      "repos_url": "https://api.github.com/users/reem/repos",
      "events_url": "https://api.github.com/users/reem/events{/privacy}",
      "received_events_url": "https://api.github.com/users/reem/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-05T14:48:34Z",
    "updated_at": "2015-01-05T14:48:42Z",
    "body": "@japaric what happens if you explicitly annotate the return type of the unboxed closure to be `!`? Is that even possible?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/68716977/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/68718120",
    "html_url": "https://github.com/rust-lang/rust/issues/20574#issuecomment-68718120",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20574",
    "id": 68718120,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4NzE4MTIw",
    "user": {
      "login": "japaric",
      "id": 5018213,
      "node_id": "MDQ6VXNlcjUwMTgyMTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5018213?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/japaric",
      "html_url": "https://github.com/japaric",
      "followers_url": "https://api.github.com/users/japaric/followers",
      "following_url": "https://api.github.com/users/japaric/following{/other_user}",
      "gists_url": "https://api.github.com/users/japaric/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/japaric/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/japaric/subscriptions",
      "organizations_url": "https://api.github.com/users/japaric/orgs",
      "repos_url": "https://api.github.com/users/japaric/repos",
      "events_url": "https://api.github.com/users/japaric/events{/privacy}",
      "received_events_url": "https://api.github.com/users/japaric/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-05T14:56:08Z",
    "updated_at": "2015-01-05T14:56:08Z",
    "body": "@reem \n\n``` rust\nlet uc = |&:| -> ! panic!();\nuc();\n```\n\nICEs with `internal error: entered unreachable code`\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/68718120/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/68718543",
    "html_url": "https://github.com/rust-lang/rust/issues/20574#issuecomment-68718543",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20574",
    "id": 68718543,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4NzE4NTQz",
    "user": {
      "login": "reem",
      "id": 4745181,
      "node_id": "MDQ6VXNlcjQ3NDUxODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4745181?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/reem",
      "html_url": "https://github.com/reem",
      "followers_url": "https://api.github.com/users/reem/followers",
      "following_url": "https://api.github.com/users/reem/following{/other_user}",
      "gists_url": "https://api.github.com/users/reem/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/reem/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/reem/subscriptions",
      "organizations_url": "https://api.github.com/users/reem/orgs",
      "repos_url": "https://api.github.com/users/reem/repos",
      "events_url": "https://api.github.com/users/reem/events{/privacy}",
      "received_events_url": "https://api.github.com/users/reem/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-05T14:58:51Z",
    "updated_at": "2015-01-05T14:58:51Z",
    "body": "Well, that's unfortunate. It's apparently illegal to use `!` as a type parameter for traits:\n\n``` rust\npub trait X<T> {}\npub struct Foo;\nimpl X<!> for Foo {}\n\nfn main() {}\n```\n\nerrors with `expected type, found !`, which likely explains why the unboxed closure expansion breaks. These all seem to just be symptoms of `!` not being a proper type when it should be.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/68718543/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/168797833",
    "html_url": "https://github.com/rust-lang/rust/issues/20574#issuecomment-168797833",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20574",
    "id": 168797833,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2ODc5NzgzMw==",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-01-04T20:33:54Z",
    "updated_at": "2016-01-04T20:33:54Z",
    "body": "Triage: updated code:\n\n```\n#![deny(unreachable_code)]\n\nfn main() {\n    let uc = || panic!();\n    uc();\n    println!(\"unreachable\");\n}\n```\n\nand\n\n```\n#![deny(unreachable_code)]\n\nfn main() {\n    let uc = || -> ! { panic!() };\n    uc();\n    println!(\"unreachable\");\n}\n```\n\nThe former still compiles, while the latter doesn't.\n\n> AFAICT, it seems that the first closure is defaulting to have return type (); since ! isn't a real type, it requires explicit annotation for the compiler to believe that you want it.\n\nThis would seem to be the case. @rust-lang/lang , what are the semantics we want here?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/168797833/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/168806566",
    "html_url": "https://github.com/rust-lang/rust/issues/20574#issuecomment-168806566",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20574",
    "id": 168806566,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2ODgwNjU2Ng==",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-01-04T20:57:03Z",
    "updated_at": "2016-01-04T20:57:03Z",
    "body": "We no longer support closures with `-> !` return type, so I think the lint just can't handle this case anymore (and I'm ok with that).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/168806566/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/168807183",
    "html_url": "https://github.com/rust-lang/rust/issues/20574#issuecomment-168807183",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20574",
    "id": 168807183,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2ODgwNzE4Mw==",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-01-04T20:59:55Z",
    "updated_at": "2016-01-04T20:59:55Z",
    "body": "(see also #14973 and https://github.com/rust-lang/rfcs/issues/1001 for related discussion of whether one would want `!` to be a first-class type of its own, and why/why not)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/168807183/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/168824337",
    "html_url": "https://github.com/rust-lang/rust/issues/20574#issuecomment-168824337",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20574",
    "id": 168824337,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2ODgyNDMzNw==",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-01-04T21:59:38Z",
    "updated_at": "2016-01-04T21:59:38Z",
    "body": "Sounds good to me, thanks!\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/168824337/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/376006743",
    "html_url": "https://github.com/rust-lang/rust/issues/20574#issuecomment-376006743",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20574",
    "id": 376006743,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NjAwNjc0Mw==",
    "user": {
      "login": "Phlosioneer",
      "id": 4657718,
      "node_id": "MDQ6VXNlcjQ2NTc3MTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4657718?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Phlosioneer",
      "html_url": "https://github.com/Phlosioneer",
      "followers_url": "https://api.github.com/users/Phlosioneer/followers",
      "following_url": "https://api.github.com/users/Phlosioneer/following{/other_user}",
      "gists_url": "https://api.github.com/users/Phlosioneer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Phlosioneer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Phlosioneer/subscriptions",
      "organizations_url": "https://api.github.com/users/Phlosioneer/orgs",
      "repos_url": "https://api.github.com/users/Phlosioneer/repos",
      "events_url": "https://api.github.com/users/Phlosioneer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Phlosioneer/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-03-25T21:54:27Z",
    "updated_at": "2018-03-25T21:54:27Z",
    "body": "Should this be re-opened @nikomatsakis ? The type system can now handle `!` as a proper type, so the closure should get the `!` return type correctly now, and the lint should be able to handle that... We still have an ignored test about it: https://github.com/rust-lang/rust/blob/b1363a73ede57ae595f3a1be2bb75d308ba4f7f6/src/test/compile-fail/dead-code-closure-bang.rs#L13-L19",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/376006743/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
