[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/164745345",
    "html_url": "https://github.com/rust-lang/rust/issues/30378#issuecomment-164745345",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30378",
    "id": 164745345,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2NDc0NTM0NQ==",
    "user": {
      "login": "jethrogb",
      "id": 1132307,
      "node_id": "MDQ6VXNlcjExMzIzMDc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1132307?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jethrogb",
      "html_url": "https://github.com/jethrogb",
      "followers_url": "https://api.github.com/users/jethrogb/followers",
      "following_url": "https://api.github.com/users/jethrogb/following{/other_user}",
      "gists_url": "https://api.github.com/users/jethrogb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jethrogb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jethrogb/subscriptions",
      "organizations_url": "https://api.github.com/users/jethrogb/orgs",
      "repos_url": "https://api.github.com/users/jethrogb/repos",
      "events_url": "https://api.github.com/users/jethrogb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jethrogb/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-12-15T12:09:42Z",
    "updated_at": "2015-12-15T12:09:42Z",
    "body": "This should probably be encoded somewhere in the Target config.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/164745345/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/164796842",
    "html_url": "https://github.com/rust-lang/rust/issues/30378#issuecomment-164796842",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30378",
    "id": 164796842,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2NDc5Njg0Mg==",
    "user": {
      "login": "geofft",
      "id": 74644,
      "node_id": "MDQ6VXNlcjc0NjQ0",
      "avatar_url": "https://avatars.githubusercontent.com/u/74644?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/geofft",
      "html_url": "https://github.com/geofft",
      "followers_url": "https://api.github.com/users/geofft/followers",
      "following_url": "https://api.github.com/users/geofft/following{/other_user}",
      "gists_url": "https://api.github.com/users/geofft/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/geofft/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/geofft/subscriptions",
      "organizations_url": "https://api.github.com/users/geofft/orgs",
      "repos_url": "https://api.github.com/users/geofft/repos",
      "events_url": "https://api.github.com/users/geofft/events{/privacy}",
      "received_events_url": "https://api.github.com/users/geofft/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-12-15T15:22:58Z",
    "updated_at": "2015-12-15T15:22:58Z",
    "body": "Oh hey, there's a `linker_is_gnu`. I'll post a PR if my local build works.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/164796842/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/164833314",
    "html_url": "https://github.com/rust-lang/rust/issues/30378#issuecomment-164833314",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30378",
    "id": 164833314,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2NDgzMzMxNA==",
    "user": {
      "login": "geofft",
      "id": 74644,
      "node_id": "MDQ6VXNlcjc0NjQ0",
      "avatar_url": "https://avatars.githubusercontent.com/u/74644?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/geofft",
      "html_url": "https://github.com/geofft",
      "followers_url": "https://api.github.com/users/geofft/followers",
      "following_url": "https://api.github.com/users/geofft/following{/other_user}",
      "gists_url": "https://api.github.com/users/geofft/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/geofft/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/geofft/subscriptions",
      "organizations_url": "https://api.github.com/users/geofft/orgs",
      "repos_url": "https://api.github.com/users/geofft/repos",
      "events_url": "https://api.github.com/users/geofft/events{/privacy}",
      "received_events_url": "https://api.github.com/users/geofft/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-12-15T17:24:01Z",
    "updated_at": "2015-12-15T17:24:01Z",
    "body": "Seems to work on GNU/Linux, PR opened. My local build with `./configure --enable-rpath` is still able to run directly out of `x86_64-unknown-linux-gnu/stage2/bin/rustc`, and the binary has `DT_RUNPATH` according to `readelf -d`.\n\nI haven't tested with musl or non-Linux.\n\nOne thing worth noting for the record is that `DT_RUNPATH` is only used for _direct_ dependencies; it does not apply to indirect/recursive dependencies the way that `DT_RPATH` and `LD_LIBRARY_PATH` do. This is undocumented but [mentioned in random blog posts](http://blog.qt.io/blog/2011/10/28/rpath-and-runpath/) and [mailing list threads](https://sourceware.org/ml/binutils/2014-02/msg00031.html). I think this is fine and arguably correct, since this is just about Rust binaries and libraries being able to find their own dependencies. You should tell your native library build process to also set rpaths, or you should set `LD_LIBRARY_PATH`. But maybe I'm missing a use case.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/164833314/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/346561753",
    "html_url": "https://github.com/rust-lang/rust/issues/30378#issuecomment-346561753",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30378",
    "id": 346561753,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NjU2MTc1Mw==",
    "user": {
      "login": "MartinHusemann",
      "id": 13184974,
      "node_id": "MDQ6VXNlcjEzMTg0OTc0",
      "avatar_url": "https://avatars.githubusercontent.com/u/13184974?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MartinHusemann",
      "html_url": "https://github.com/MartinHusemann",
      "followers_url": "https://api.github.com/users/MartinHusemann/followers",
      "following_url": "https://api.github.com/users/MartinHusemann/following{/other_user}",
      "gists_url": "https://api.github.com/users/MartinHusemann/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MartinHusemann/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MartinHusemann/subscriptions",
      "organizations_url": "https://api.github.com/users/MartinHusemann/orgs",
      "repos_url": "https://api.github.com/users/MartinHusemann/repos",
      "events_url": "https://api.github.com/users/MartinHusemann/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MartinHusemann/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-11-23T09:02:46Z",
    "updated_at": "2017-11-23T09:02:46Z",
    "body": "DT_RUNPATH is a Linuxism. Using it whenver config.linker_is_gnu is not correct.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/346561753/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/346667826",
    "html_url": "https://github.com/rust-lang/rust/issues/30378#issuecomment-346667826",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30378",
    "id": 346667826,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NjY2NzgyNg==",
    "user": {
      "login": "jethrogb",
      "id": 1132307,
      "node_id": "MDQ6VXNlcjExMzIzMDc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1132307?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jethrogb",
      "html_url": "https://github.com/jethrogb",
      "followers_url": "https://api.github.com/users/jethrogb/followers",
      "following_url": "https://api.github.com/users/jethrogb/following{/other_user}",
      "gists_url": "https://api.github.com/users/jethrogb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jethrogb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jethrogb/subscriptions",
      "organizations_url": "https://api.github.com/users/jethrogb/orgs",
      "repos_url": "https://api.github.com/users/jethrogb/repos",
      "events_url": "https://api.github.com/users/jethrogb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jethrogb/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-11-23T17:08:12Z",
    "updated_at": "2017-11-23T17:08:12Z",
    "body": "@MartinHusemann a two year old closed ticket is not the correct place to discuss this. Additionally, I can't find any evidence in the glibc source that DT_RUNPATH is specific to Linux. If you have a problem related to this, can you open a new issue with\r\n1. the platform you're using\r\n2. why your platform is using GNU ld but not GNU rtld?",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/346667826/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/346667866",
    "html_url": "https://github.com/rust-lang/rust/issues/30378#issuecomment-346667866",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30378",
    "id": 346667866,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NjY2Nzg2Ng==",
    "user": {
      "login": "geofft",
      "id": 74644,
      "node_id": "MDQ6VXNlcjc0NjQ0",
      "avatar_url": "https://avatars.githubusercontent.com/u/74644?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/geofft",
      "html_url": "https://github.com/geofft",
      "followers_url": "https://api.github.com/users/geofft/followers",
      "following_url": "https://api.github.com/users/geofft/following{/other_user}",
      "gists_url": "https://api.github.com/users/geofft/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/geofft/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/geofft/subscriptions",
      "organizations_url": "https://api.github.com/users/geofft/orgs",
      "repos_url": "https://api.github.com/users/geofft/repos",
      "events_url": "https://api.github.com/users/geofft/events{/privacy}",
      "received_events_url": "https://api.github.com/users/geofft/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-11-23T17:08:26Z",
    "updated_at": "2017-11-23T17:08:26Z",
    "body": "@MartinHusemann which specific OS (kernel + libc combination) are you noticing `DT_RUNPATH` absent on?\r\n\r\nI guess the thing I really want is that the _dynamic_ linker is GNU libc, not that the compile-time linker is GNU ld. But as far as I know, non-Linux kernels + GNU libc (e.g., Hurd, GNU/kFreeBSD) support DT_RUNPATH. And I _think_ that passing `--enable-new-dtags` to GNU ld targeting a platform which doesn't support it does nothing, though it's been a while since I've tried.\r\n\r\n... However, musl and bionic both seem to support DT_RUNPATH. So given that Rust doesn't support the Hurd yet and GNU/kFreeBSD is basically dead, maybe it's better in practice to look for a Linux kernel, even though DT_RUNPATH isn't a kernel feature.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/346667866/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/346770310",
    "html_url": "https://github.com/rust-lang/rust/issues/30378#issuecomment-346770310",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30378",
    "id": 346770310,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0Njc3MDMxMA==",
    "user": {
      "login": "MartinHusemann",
      "id": 13184974,
      "node_id": "MDQ6VXNlcjEzMTg0OTc0",
      "avatar_url": "https://avatars.githubusercontent.com/u/13184974?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MartinHusemann",
      "html_url": "https://github.com/MartinHusemann",
      "followers_url": "https://api.github.com/users/MartinHusemann/followers",
      "following_url": "https://api.github.com/users/MartinHusemann/following{/other_user}",
      "gists_url": "https://api.github.com/users/MartinHusemann/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MartinHusemann/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MartinHusemann/subscriptions",
      "organizations_url": "https://api.github.com/users/MartinHusemann/orgs",
      "repos_url": "https://api.github.com/users/MartinHusemann/repos",
      "events_url": "https://api.github.com/users/MartinHusemann/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MartinHusemann/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-11-24T08:29:25Z",
    "updated_at": "2017-11-24T08:29:25Z",
    "body": "Sorry, I missed the (prominent) \"Closed\" sign at the top. I did open a new ticket already, see #46204, let's keep further discussions there.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/346770310/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/360835215",
    "html_url": "https://github.com/rust-lang/rust/issues/30378#issuecomment-360835215",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30378",
    "id": 360835215,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2MDgzNTIxNQ==",
    "user": {
      "login": "richfelker",
      "id": 10458007,
      "node_id": "MDQ6VXNlcjEwNDU4MDA3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10458007?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/richfelker",
      "html_url": "https://github.com/richfelker",
      "followers_url": "https://api.github.com/users/richfelker/followers",
      "following_url": "https://api.github.com/users/richfelker/following{/other_user}",
      "gists_url": "https://api.github.com/users/richfelker/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/richfelker/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/richfelker/subscriptions",
      "organizations_url": "https://api.github.com/users/richfelker/orgs",
      "repos_url": "https://api.github.com/users/richfelker/repos",
      "events_url": "https://api.github.com/users/richfelker/events{/privacy}",
      "received_events_url": "https://api.github.com/users/richfelker/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-01-26T16:35:46Z",
    "updated_at": "2018-01-26T16:35:46Z",
    "body": "Old issue, but for the record: musl treats DT_RPATH and DT_RUNPATH identically. Either is searched after LD_LIBRARY_PATH, and affects both direct and indirect dependency loading. So it doesn't matter which you use for musl targets.\r\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/360835215/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
