[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23202364",
    "html_url": "https://github.com/rust-lang/rust/issues/8730#issuecomment-23202364",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8730",
    "id": 23202364,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzMjAyMzY0",
    "user": {
      "login": "MicahChalmer",
      "id": 698400,
      "node_id": "MDQ6VXNlcjY5ODQwMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/698400?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MicahChalmer",
      "html_url": "https://github.com/MicahChalmer",
      "followers_url": "https://api.github.com/users/MicahChalmer/followers",
      "following_url": "https://api.github.com/users/MicahChalmer/following{/other_user}",
      "gists_url": "https://api.github.com/users/MicahChalmer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MicahChalmer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MicahChalmer/subscriptions",
      "organizations_url": "https://api.github.com/users/MicahChalmer/orgs",
      "repos_url": "https://api.github.com/users/MicahChalmer/repos",
      "events_url": "https://api.github.com/users/MicahChalmer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MicahChalmer/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-08-24T03:49:40Z",
    "updated_at": "2013-08-24T03:49:40Z",
    "body": "This was previously both about this and #8728, but edited to be about the inference issue only; #8728 is for the safety hole.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23202364/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23206875",
    "html_url": "https://github.com/rust-lang/rust/issues/8730#issuecomment-23206875",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8730",
    "id": 23206875,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzMjA2ODc1",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-08-24T10:57:30Z",
    "updated_at": "2013-08-24T10:57:30Z",
    "body": "The correct type for a nullable extern pointer is `Option<extern \"C\" fn>`, and you can pass null with `None`.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23206875/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23206885",
    "html_url": "https://github.com/rust-lang/rust/issues/8730#issuecomment-23206885",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8730",
    "id": 23206885,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzMjA2ODg1",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-08-24T10:58:09Z",
    "updated_at": "2013-08-24T10:58:09Z",
    "body": "In light of that, I'm not sure if there is still a bug here or not?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23206885/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23222484",
    "html_url": "https://github.com/rust-lang/rust/issues/8730#issuecomment-23222484",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8730",
    "id": 23222484,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzMjIyNDg0",
    "user": {
      "login": "MicahChalmer",
      "id": 698400,
      "node_id": "MDQ6VXNlcjY5ODQwMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/698400?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MicahChalmer",
      "html_url": "https://github.com/MicahChalmer",
      "followers_url": "https://api.github.com/users/MicahChalmer/followers",
      "following_url": "https://api.github.com/users/MicahChalmer/following{/other_user}",
      "gists_url": "https://api.github.com/users/MicahChalmer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MicahChalmer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MicahChalmer/subscriptions",
      "organizations_url": "https://api.github.com/users/MicahChalmer/orgs",
      "repos_url": "https://api.github.com/users/MicahChalmer/repos",
      "events_url": "https://api.github.com/users/MicahChalmer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MicahChalmer/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-08-25T05:58:15Z",
    "updated_at": "2013-08-25T05:58:15Z",
    "body": "Ah!  That does work, and makes sense.  I didn't know you could use Option that way and it would still match the C signature of just a pointer--Option is an enum after all, and the current version of the FFI reference specifically says there are no guarantees about the layout of an enum.  But as far as usability goes it's great.\n\nAll I would ask is for this to be documented the FFI tutorial and in the reference manual.  I wouldn't have expected it to be there yet, since nothing from #8666 is documented yet, which I assume is a different issue altogether, or at least in progress.\n\n(Given this, am I expected to close the bug here?  Or should only people with commit access be doing that?)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23222484/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23232639",
    "html_url": "https://github.com/rust-lang/rust/issues/8730#issuecomment-23232639",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8730",
    "id": 23232639,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzMjMyNjM5",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-08-25T18:19:58Z",
    "updated_at": "2013-08-25T18:19:58Z",
    "body": "Do not close the bug, `0 as extern \"C\" fn` should not type check. I will edit the title and so forth. And I agree that this use of `Option` should be documented, both with respect to the fact that the enum layout _in this case_ is guaranteed and to give examples of how it is done.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23232639/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23232664",
    "html_url": "https://github.com/rust-lang/rust/issues/8730#issuecomment-23232664",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8730",
    "id": 23232664,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzMjMyNjY0",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-08-25T18:21:26Z",
    "updated_at": "2013-08-25T18:21:26Z",
    "body": "oh, nm, dup of #8728 \n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23232664/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/412588826",
    "html_url": "https://github.com/rust-lang/rust/issues/8730#issuecomment-412588826",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8730",
    "id": 412588826,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMjU4ODgyNg==",
    "user": {
      "login": "olson-dan",
      "id": 8072896,
      "node_id": "MDQ6VXNlcjgwNzI4OTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8072896?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/olson-dan",
      "html_url": "https://github.com/olson-dan",
      "followers_url": "https://api.github.com/users/olson-dan/followers",
      "following_url": "https://api.github.com/users/olson-dan/following{/other_user}",
      "gists_url": "https://api.github.com/users/olson-dan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/olson-dan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/olson-dan/subscriptions",
      "organizations_url": "https://api.github.com/users/olson-dan/orgs",
      "repos_url": "https://api.github.com/users/olson-dan/repos",
      "events_url": "https://api.github.com/users/olson-dan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/olson-dan/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-08-13T16:58:08Z",
    "updated_at": "2018-08-13T17:12:30Z",
    "body": "> The correct type for a nullable extern pointer is Option<extern \"C\" fn>, and you can pass null with None.\r\n\r\nHow does one deal with this in the case of APIs that are not correctly wrapped in an option? Like this one:\r\nhttps://docs.rs/libz-sys/1.0.20/libz_sys/struct.z_stream.html\r\n\r\nEdit:\r\nI found that std::mem:zeroed() works, so I guess that this is an ok workaround.",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/412588826/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/506997281",
    "html_url": "https://github.com/rust-lang/rust/issues/8730#issuecomment-506997281",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8730",
    "id": 506997281,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwNjk5NzI4MQ==",
    "user": {
      "login": "BatmanAoD",
      "id": 2313807,
      "node_id": "MDQ6VXNlcjIzMTM4MDc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2313807?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/BatmanAoD",
      "html_url": "https://github.com/BatmanAoD",
      "followers_url": "https://api.github.com/users/BatmanAoD/followers",
      "following_url": "https://api.github.com/users/BatmanAoD/following{/other_user}",
      "gists_url": "https://api.github.com/users/BatmanAoD/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/BatmanAoD/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/BatmanAoD/subscriptions",
      "organizations_url": "https://api.github.com/users/BatmanAoD/orgs",
      "repos_url": "https://api.github.com/users/BatmanAoD/repos",
      "events_url": "https://api.github.com/users/BatmanAoD/events{/privacy}",
      "received_events_url": "https://api.github.com/users/BatmanAoD/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2019-06-30T00:38:16Z",
    "updated_at": "2019-06-30T00:38:16Z",
    "body": "@nikomatsakis Is it still true that `None` should automatically convert to `null` when passed to an external function, or did that change? It doesn't seem to work for me, so I don't know if that feature was removed before 1.0 or if I'm misunderstanding how to use it.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/506997281/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
