[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38903941",
    "html_url": "https://github.com/rust-lang/rust/issues/13159#issuecomment-38903941",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/13159",
    "id": 38903941,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4OTAzOTQx",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-03-28T10:08:57Z",
    "updated_at": "2014-03-28T10:08:57Z",
    "body": "Off-line with @brson and @alexcrichton suggested that there is some sort of conventions, though they are not universally followed. These conventions can be roughly broken down based on what sort of `self` they take:\n- `unwrap(self)` is for converting from `Foo<T>` to `T`. It takes `self` by value.\n- `take(&mut self)` is for swapping the current value with something else (generally something like `None`) and returning it.\n- `get_ref(&self)` and `get_mut_ref(&mut self)` are for getting a pointer to the contents. These may be shorthands for a longer version that converts from `Foo<T>` to `Foo<&T>` and `Foo<&mut T>`, combined with `unwrap`.\n\nOne name that I did not list is `get()`. It appears to be something of a mixed bag:\n- For `Cell`, it converts from `Cell<T>` to `T`, but by copying (that being the point of `Cell`).\n- For collections, it generally plays a lookup role, and _generally_ has the form of `get_ref` as listed above.\n\nIn all cases, these operations can be fallible or infallible depending on the type, which is perhaps unfortunate. I'd like to remedy this if possible but I'm not sure if it is.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38903941/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38916294",
    "html_url": "https://github.com/rust-lang/rust/issues/13159#issuecomment-38916294",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/13159",
    "id": 38916294,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4OTE2Mjk0",
    "user": {
      "login": "liigo",
      "id": 346530,
      "node_id": "MDQ6VXNlcjM0NjUzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/346530?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/liigo",
      "html_url": "https://github.com/liigo",
      "followers_url": "https://api.github.com/users/liigo/followers",
      "following_url": "https://api.github.com/users/liigo/following{/other_user}",
      "gists_url": "https://api.github.com/users/liigo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/liigo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/liigo/subscriptions",
      "organizations_url": "https://api.github.com/users/liigo/orgs",
      "repos_url": "https://api.github.com/users/liigo/repos",
      "events_url": "https://api.github.com/users/liigo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/liigo/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-03-28T13:02:47Z",
    "updated_at": "2014-03-28T13:02:47Z",
    "body": "how about .v() returns a (cloned) value, and .r() returns a ref? (If `ref` is not a keyword, .ref() is better.)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38916294/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38946037",
    "html_url": "https://github.com/rust-lang/rust/issues/13159#issuecomment-38946037",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/13159",
    "id": 38946037,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4OTQ2MDM3",
    "user": {
      "login": "sfackler",
      "id": 1455697,
      "node_id": "MDQ6VXNlcjE0NTU2OTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sfackler",
      "html_url": "https://github.com/sfackler",
      "followers_url": "https://api.github.com/users/sfackler/followers",
      "following_url": "https://api.github.com/users/sfackler/following{/other_user}",
      "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions",
      "organizations_url": "https://api.github.com/users/sfackler/orgs",
      "repos_url": "https://api.github.com/users/sfackler/repos",
      "events_url": "https://api.github.com/users/sfackler/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sfackler/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-03-28T17:30:15Z",
    "updated_at": "2014-03-28T17:30:15Z",
    "body": "It'd be nice if we could separate the fallable and infallable methods naming-wise somehow. I always double-take a bit when seeing an `unwrap` that turns out to be called on an e.g. `MemWriter` instead of an `Option` or `Result`.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38946037/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38957306",
    "html_url": "https://github.com/rust-lang/rust/issues/13159#issuecomment-38957306",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/13159",
    "id": 38957306,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4OTU3MzA2",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-03-28T19:12:16Z",
    "updated_at": "2014-03-28T19:12:16Z",
    "body": "I was hoping to incorporate the word `assert` or `check` into the fallible variants, but I never quite found something I liked. I think the name must be short for the following philosophical reason. I feel like there is this distinction between \"failures that can be recovered from and those that cannot\". In general, libraries should push to make failure recoverable: e.g., `vec.last()` returns `Option<T>` rather than failing for an empty vector. But at the layer above, there may be an additional invariant that this vector should never be empty. `unwrap` is then the cheap way to convert between those two failure modes. In that sense, it's good that it be visible, but bad if it's too long and painful.\n\nSome ideas:\n- `get` (infallible) vs `unwrap` (fallible)\n  - downside: currently, there is some association of `get` with \"getting a reference\", though I think we also call that `get_ref`\n- `unwrap` (infallible) vs `assert` (fallible)\n  - downside: `foo.assert()` seems like an incomplete sentence, `foo.assert_some()` seems clear but  long. But maybe `assert_some()` the best, despite it's length.\n  - downside: `assert!()` will no doubt wind up being disabled on debug builds. So perhaps `expect_some()` or `enforce_some()`.\n\nOne a related note, I think we should at some point remove `get()` from collections (or just have it return `Option<T>` and remove `find`). We can use an overloaded `[]` operator to be the fallible variant.\n\nIn general, the best state is one where the only fallible APIs are Option/Result's `unwrap` (whatever it winds up being called) and the `[]` operator (the generalized equivalent of bounds checks). I imagine there might be a few others, but otherwise I'd think that (in the stdlib at least) most things are recoverable.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38957306/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38981530",
    "html_url": "https://github.com/rust-lang/rust/issues/13159#issuecomment-38981530",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/13159",
    "id": 38981530,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4OTgxNTMw",
    "user": {
      "login": "thestinger",
      "id": 1505226,
      "node_id": "MDQ6VXNlcjE1MDUyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thestinger",
      "html_url": "https://github.com/thestinger",
      "followers_url": "https://api.github.com/users/thestinger/followers",
      "following_url": "https://api.github.com/users/thestinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions",
      "organizations_url": "https://api.github.com/users/thestinger/orgs",
      "repos_url": "https://api.github.com/users/thestinger/repos",
      "events_url": "https://api.github.com/users/thestinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thestinger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-03-29T00:44:24Z",
    "updated_at": "2014-03-29T00:44:24Z",
    "body": "An infallible one should probably just be a `Deref` overload in many cases now.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38981530/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38988923",
    "html_url": "https://github.com/rust-lang/rust/issues/13159#issuecomment-38988923",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/13159",
    "id": 38988923,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4OTg4OTIz",
    "user": {
      "login": "sfackler",
      "id": 1455697,
      "node_id": "MDQ6VXNlcjE0NTU2OTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sfackler",
      "html_url": "https://github.com/sfackler",
      "followers_url": "https://api.github.com/users/sfackler/followers",
      "following_url": "https://api.github.com/users/sfackler/following{/other_user}",
      "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions",
      "organizations_url": "https://api.github.com/users/sfackler/orgs",
      "repos_url": "https://api.github.com/users/sfackler/repos",
      "events_url": "https://api.github.com/users/sfackler/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sfackler/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-03-29T07:18:34Z",
    "updated_at": "2014-03-29T07:18:34Z",
    "body": "I don't think `Deref` is a good fit here. It can't handle the by-value cases, and poses some significant issues even in the by-reference case. For example, new methods can _never_ be added to a type that implements `Deref` without breaking backwards compatibility.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38988923/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/39097394",
    "html_url": "https://github.com/rust-lang/rust/issues/13159#issuecomment-39097394",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/13159",
    "id": 39097394,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MDk3Mzk0",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-03-31T14:52:54Z",
    "updated_at": "2014-03-31T14:52:54Z",
    "body": "On Sat, Mar 29, 2014 at 12:18:36AM -0700, Steven Fackler wrote:\n\n> I don't think `Deref` is a good fit here. It can't handle the\n> by-value cases, and poses some significant issues even in the\n> by-reference case. For example, new methods can _never_ be added to\n> a type that implements `Deref` without breaking backwards\n> compatibility.\n\nI tend to agree. It's likely we can overcome the by-value restriction\nat some point, but fundamentally I am worried about abuse of `Deref`.\nIt's really intended to be used for transparent wrappers like\npointers, not types that encapsulate something else and have\nsignificant interface of their own.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/39097394/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/39499806",
    "html_url": "https://github.com/rust-lang/rust/issues/13159#issuecomment-39499806",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/13159",
    "id": 39499806,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NDk5ODA2",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-04-03T20:21:02Z",
    "updated_at": "2014-04-03T20:21:02Z",
    "body": "marking P-backcompat-libs, 1.0\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/39499806/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/51080561",
    "html_url": "https://github.com/rust-lang/rust/issues/13159#issuecomment-51080561",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/13159",
    "id": 51080561,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxMDgwNTYx",
    "user": {
      "login": "aturon",
      "id": 709807,
      "node_id": "MDQ6VXNlcjcwOTgwNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/709807?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aturon",
      "html_url": "https://github.com/aturon",
      "followers_url": "https://api.github.com/users/aturon/followers",
      "following_url": "https://api.github.com/users/aturon/following{/other_user}",
      "gists_url": "https://api.github.com/users/aturon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aturon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aturon/subscriptions",
      "organizations_url": "https://api.github.com/users/aturon/orgs",
      "repos_url": "https://api.github.com/users/aturon/repos",
      "events_url": "https://api.github.com/users/aturon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aturon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-04T16:08:43Z",
    "updated_at": "2014-08-04T16:08:43Z",
    "body": "The guidelines [now have a convention](http://aturon.github.io/style/naming/containers.html) for these names. I will be rolling them out in a patch soon.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/51080561/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
