[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/43428200",
    "html_url": "https://github.com/rust-lang/rust/issues/14165#issuecomment-43428200",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14165",
    "id": 43428200,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNDI4MjAw",
    "user": {
      "login": "lilyball",
      "id": 714,
      "node_id": "MDQ6VXNlcjcxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/714?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lilyball",
      "html_url": "https://github.com/lilyball",
      "followers_url": "https://api.github.com/users/lilyball/followers",
      "following_url": "https://api.github.com/users/lilyball/following{/other_user}",
      "gists_url": "https://api.github.com/users/lilyball/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lilyball/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lilyball/subscriptions",
      "organizations_url": "https://api.github.com/users/lilyball/orgs",
      "repos_url": "https://api.github.com/users/lilyball/repos",
      "events_url": "https://api.github.com/users/lilyball/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lilyball/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-05-18T00:42:06Z",
    "updated_at": "2014-05-18T00:42:06Z",
    "body": "`-1u8` produces an `unsigned_negate` warning, not a `type_overflow` warning. Consequently, `(one * -1)` is correct in not producing a `type_overflow` warning.\n\nThis same logic applies to `(one * -255)` as well. `255` is in range for its type, so it doesn't get a `type_overflow` warning.\n\nIt is arguable as to whether these cases should produce an `unsigned_negate` warning.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/43428200/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/43600901",
    "html_url": "https://github.com/rust-lang/rust/issues/14165#issuecomment-43600901",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14165",
    "id": 43600901,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNjAwOTAx",
    "user": {
      "login": "ghost",
      "id": 10137,
      "node_id": "MDQ6VXNlcjEwMTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ghost",
      "html_url": "https://github.com/ghost",
      "followers_url": "https://api.github.com/users/ghost/followers",
      "following_url": "https://api.github.com/users/ghost/following{/other_user}",
      "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
      "organizations_url": "https://api.github.com/users/ghost/orgs",
      "repos_url": "https://api.github.com/users/ghost/repos",
      "events_url": "https://api.github.com/users/ghost/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ghost/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-05-20T08:50:42Z",
    "updated_at": "2014-05-20T08:50:42Z",
    "body": "But `unsigned_negate` warning reads as _\"warning: negation of unsigned int literal may be unintentional\"_. But these following cases which I'm requesting a warning for, do not fall into that category:\n\n```\nlet x: u8 = -1;\nlet y = -1 as u8;\nlet z = (42u8 * -1) as int;\n```\n\nAn appropriate warning for those would be something like _\"warning: casting a negative literal to an unsigned type\"_.\n\nAnd this following case in my original post should clearly cause a `type_overflow` warning:\n\n```\nlet c = 1000 as u8;\n```\n\n...given that the following does:\n\n```\nlet b = 1000u8;\n```\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/43600901/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/43653638",
    "html_url": "https://github.com/rust-lang/rust/issues/14165#issuecomment-43653638",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14165",
    "id": 43653638,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNjUzNjM4",
    "user": {
      "login": "lilyball",
      "id": 714,
      "node_id": "MDQ6VXNlcjcxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/714?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lilyball",
      "html_url": "https://github.com/lilyball",
      "followers_url": "https://api.github.com/users/lilyball/followers",
      "following_url": "https://api.github.com/users/lilyball/following{/other_user}",
      "gists_url": "https://api.github.com/users/lilyball/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lilyball/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lilyball/subscriptions",
      "organizations_url": "https://api.github.com/users/lilyball/orgs",
      "repos_url": "https://api.github.com/users/lilyball/repos",
      "events_url": "https://api.github.com/users/lilyball/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lilyball/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-05-20T16:55:58Z",
    "updated_at": "2014-05-20T16:56:58Z",
    "body": "Saying `### as u8` should never produce a warning. That's an explicit cast, which means you're opting in to overflow behavior.\n\nWhich is to say, `-12u` is likely to be unintentional, and the warning calls it out. `-12 as uint` is very much intentional. And in fact, if you get an `unsigned_negate` warning, the easiest way to fix it if it was intentional is to convert it to an `as` cast.\n\nSame thing with `1000 as u8`. That right there is explicitly asking for the results of casting `1000` to a `u8` type. The warning has a too-high probability of being a false positive.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/43653638/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/43718322",
    "html_url": "https://github.com/rust-lang/rust/issues/14165#issuecomment-43718322",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14165",
    "id": 43718322,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNzE4MzIy",
    "user": {
      "login": "ghost",
      "id": 10137,
      "node_id": "MDQ6VXNlcjEwMTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ghost",
      "html_url": "https://github.com/ghost",
      "followers_url": "https://api.github.com/users/ghost/followers",
      "following_url": "https://api.github.com/users/ghost/following{/other_user}",
      "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
      "organizations_url": "https://api.github.com/users/ghost/orgs",
      "repos_url": "https://api.github.com/users/ghost/repos",
      "events_url": "https://api.github.com/users/ghost/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ghost/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-05-21T06:53:43Z",
    "updated_at": "2014-05-21T06:53:43Z",
    "body": "I suppose `let x: u8 = -1;` is also considered an explicit cast then, and thus exempt from any warning?\n\nBut the following is clearly an implicit cast, and thus should warrant a warning:\n\n```\n1u8 * -1\n```\n\nAnd the warning shouldn't be the `unsigned_negate` one, because we're not negating an unsigned literal here but casting from a negative literal of an unspecified integral type to an unsigned type `u8`.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/43718322/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/43724611",
    "html_url": "https://github.com/rust-lang/rust/issues/14165#issuecomment-43724611",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14165",
    "id": 43724611,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNzI0NjEx",
    "user": {
      "login": "lilyball",
      "id": 714,
      "node_id": "MDQ6VXNlcjcxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/714?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lilyball",
      "html_url": "https://github.com/lilyball",
      "followers_url": "https://api.github.com/users/lilyball/followers",
      "following_url": "https://api.github.com/users/lilyball/following{/other_user}",
      "gists_url": "https://api.github.com/users/lilyball/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lilyball/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lilyball/subscriptions",
      "organizations_url": "https://api.github.com/users/lilyball/orgs",
      "repos_url": "https://api.github.com/users/lilyball/repos",
      "events_url": "https://api.github.com/users/lilyball/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lilyball/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-05-21T08:01:59Z",
    "updated_at": "2014-05-21T08:01:59Z",
    "body": "`let x: u8 = -1` feels more like an oversight to me, but I suspect it's actually a deliberate omission because it ends up being the exact same thing as `1u8 * -1`. In both cases, the `-1` is an unsuffixed integer literal, which is subsequently constraint to the `u8` type.\n\nOf course, I can only speculate. I didn't implement the lint. But my feeling is that `-1u8` is obviously weird and a lint on it is wholly unsurprising, but `1u8 * -1` is not so obviously weird, and flagging it with a lint may be more surprising (and have more false positives).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/43724611/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/44057117",
    "html_url": "https://github.com/rust-lang/rust/issues/14165#issuecomment-44057117",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14165",
    "id": 44057117,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0MDU3MTE3",
    "user": {
      "login": "hirschenberger",
      "id": 1053180,
      "node_id": "MDQ6VXNlcjEwNTMxODA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1053180?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hirschenberger",
      "html_url": "https://github.com/hirschenberger",
      "followers_url": "https://api.github.com/users/hirschenberger/followers",
      "following_url": "https://api.github.com/users/hirschenberger/following{/other_user}",
      "gists_url": "https://api.github.com/users/hirschenberger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hirschenberger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hirschenberger/subscriptions",
      "organizations_url": "https://api.github.com/users/hirschenberger/orgs",
      "repos_url": "https://api.github.com/users/hirschenberger/repos",
      "events_url": "https://api.github.com/users/hirschenberger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hirschenberger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-05-23T20:32:34Z",
    "updated_at": "2014-05-23T20:32:34Z",
    "body": "Hi, I wrote the lint for the unsigned negation and wanted to catch the obvious cases negating unsigned literals. A related issue to the case @tommit mentioned is #5477.\nThe question is where we should draw the line between intentional and unintentional behaviour being helpful without annoying users?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/44057117/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69686352",
    "html_url": "https://github.com/rust-lang/rust/issues/14165#issuecomment-69686352",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14165",
    "id": 69686352,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5Njg2MzUy",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-13T02:34:19Z",
    "updated_at": "2015-01-13T02:34:19Z",
    "body": "Duplicate of #5477.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69686352/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
