[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/91057233",
    "html_url": "https://github.com/rust-lang/rust/issues/24210#issuecomment-91057233",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24210",
    "id": 91057233,
    "node_id": "MDEyOklzc3VlQ29tbWVudDkxMDU3MjMz",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-08T22:42:02Z",
    "updated_at": "2015-04-08T22:42:02Z",
    "body": "triage: P-high (1.0)\n\nI consider this a nice to have, but it's prob not too hard to really improve this error message.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/91057233/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/91761449",
    "html_url": "https://github.com/rust-lang/rust/issues/24210#issuecomment-91761449",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24210",
    "id": 91761449,
    "node_id": "MDEyOklzc3VlQ29tbWVudDkxNzYxNDQ5",
    "user": {
      "login": "ftxqxd",
      "id": 2055302,
      "node_id": "MDQ6VXNlcjIwNTUzMDI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2055302?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ftxqxd",
      "html_url": "https://github.com/ftxqxd",
      "followers_url": "https://api.github.com/users/ftxqxd/followers",
      "following_url": "https://api.github.com/users/ftxqxd/following{/other_user}",
      "gists_url": "https://api.github.com/users/ftxqxd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ftxqxd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ftxqxd/subscriptions",
      "organizations_url": "https://api.github.com/users/ftxqxd/orgs",
      "repos_url": "https://api.github.com/users/ftxqxd/repos",
      "events_url": "https://api.github.com/users/ftxqxd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ftxqxd/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-11T05:02:38Z",
    "updated_at": "2015-04-11T05:02:38Z",
    "body": "You don\u2019t even need a blanket trait impl to get a poor error message; using an intermediate variable binding also gives no hint as to what stops the closure from implementing `Fn`:\n\n``` rust\nfn foo<T: Fn()>(_: T) {}\n\nfn main() {\n    let a = Box::new(1);\n    let x = || {\n        a;\n    };\n    foo(x);\n}\n```\n\ngives\n\n```\n<anon>:8:5: 8:8 error: the trait `core::ops::Fn<()>` is not implemented for the type `[closure <anon>:5:13: 7:6]` [E0277]\n<anon>:8     foo(x);\n             ^~~\nerror: aborting due to previous error\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/91761449/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/91762306",
    "html_url": "https://github.com/rust-lang/rust/issues/24210#issuecomment-91762306",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24210",
    "id": 91762306,
    "node_id": "MDEyOklzc3VlQ29tbWVudDkxNzYyMzA2",
    "user": {
      "login": "blaenk",
      "id": 84680,
      "node_id": "MDQ6VXNlcjg0Njgw",
      "avatar_url": "https://avatars.githubusercontent.com/u/84680?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/blaenk",
      "html_url": "https://github.com/blaenk",
      "followers_url": "https://api.github.com/users/blaenk/followers",
      "following_url": "https://api.github.com/users/blaenk/following{/other_user}",
      "gists_url": "https://api.github.com/users/blaenk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/blaenk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/blaenk/subscriptions",
      "organizations_url": "https://api.github.com/users/blaenk/orgs",
      "repos_url": "https://api.github.com/users/blaenk/repos",
      "events_url": "https://api.github.com/users/blaenk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/blaenk/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-11T05:11:52Z",
    "updated_at": "2015-04-11T05:11:52Z",
    "body": "hahahaha yes, I'm glad I'm not the only one that thinks this. I think this is the weakest area I've witnessed in Rust's error diagnostics and I think it will be a major pain-point for newcomers, which will probably lead them to see Rust closures as very complex and difficult to understand. I had a lot of trouble with this myself until I ran into it multiple times and @p1start helped me track down the problem, so I think I know what to look for now.\n\nI'm happy to see that this is a high priority!\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/91762306/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/232721897",
    "html_url": "https://github.com/rust-lang/rust/issues/24210#issuecomment-232721897",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24210",
    "id": 232721897,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzMjcyMTg5Nw==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-07-14T16:42:19Z",
    "updated_at": "2016-07-14T16:42:19Z",
    "body": "triage: P-low\n\nNote a P-medium issue by today's standards, and also hasn't gone fixed for quite awhile! Also cc @jonathandturner, issue about diagnostics. Also removing the assignee of @nikomatsakis as I believe this isn't actively being worked on\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/232721897/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/299706613",
    "html_url": "https://github.com/rust-lang/rust/issues/24210#issuecomment-299706613",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24210",
    "id": 299706613,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5OTcwNjYxMw==",
    "user": {
      "login": "Mark-Simulacrum",
      "id": 5047365,
      "node_id": "MDQ6VXNlcjUwNDczNjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5047365?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Mark-Simulacrum",
      "html_url": "https://github.com/Mark-Simulacrum",
      "followers_url": "https://api.github.com/users/Mark-Simulacrum/followers",
      "following_url": "https://api.github.com/users/Mark-Simulacrum/following{/other_user}",
      "gists_url": "https://api.github.com/users/Mark-Simulacrum/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Mark-Simulacrum/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Mark-Simulacrum/subscriptions",
      "organizations_url": "https://api.github.com/users/Mark-Simulacrum/orgs",
      "repos_url": "https://api.github.com/users/Mark-Simulacrum/repos",
      "events_url": "https://api.github.com/users/Mark-Simulacrum/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Mark-Simulacrum/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-05-07T13:32:52Z",
    "updated_at": "2017-05-07T13:32:52Z",
    "body": "@arielb1 Unassigning you since this isn't being worked on as far as I know.\r\n\r\nwith x:\r\n```\r\nerror[E0507]: cannot move out of captured outer variable in an `Fn` closure\r\n  --> test.rs:11:37\r\n   |\r\n11 |     let x = Moves;   direct(|| drop(x));\r\n   |         - captured outer variable   ^ cannot move out of captured outer variable in an `Fn` closure\r\n\r\nerror: aborting due to previous error\r\n```\r\n\r\nwith y:\r\n```\r\nerror[E0525]: expected a closure that implements the `Fn` trait, but this closure only implements `FnOnce`\r\n  --> test.rs:13:30\r\n   |\r\n13 |     let y = Moves;   blanket(|| drop(y));\r\n   |                              ^^^^^^^^^^\r\n   |\r\nnote: the requirement to implement `Fn` derives from here\r\n  --> test.rs:13:22\r\n   |\r\n13 |     let y = Moves;   blanket(|| drop(y));\r\n   |                      ^^^^^^^\r\n\r\nerror: aborting due to previous error\r\n```",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/299706613/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/310450450",
    "html_url": "https://github.com/rust-lang/rust/issues/24210#issuecomment-310450450",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24210",
    "id": 310450450,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxMDQ1MDQ1MA==",
    "user": {
      "login": "Mark-Simulacrum",
      "id": 5047365,
      "node_id": "MDQ6VXNlcjUwNDczNjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5047365?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Mark-Simulacrum",
      "html_url": "https://github.com/Mark-Simulacrum",
      "followers_url": "https://api.github.com/users/Mark-Simulacrum/followers",
      "following_url": "https://api.github.com/users/Mark-Simulacrum/following{/other_user}",
      "gists_url": "https://api.github.com/users/Mark-Simulacrum/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Mark-Simulacrum/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Mark-Simulacrum/subscriptions",
      "organizations_url": "https://api.github.com/users/Mark-Simulacrum/orgs",
      "repos_url": "https://api.github.com/users/Mark-Simulacrum/repos",
      "events_url": "https://api.github.com/users/Mark-Simulacrum/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Mark-Simulacrum/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-06-22T17:37:51Z",
    "updated_at": "2017-06-22T17:37:51Z",
    "body": "Today, the `y` case is fixed. There appear to be UI tests for this already (src/test/ui/closure_context/issue-26046-fn-once.stderr) and an fn-mut partner to it so closing.\r\n\r\n```\r\nerror[E0525]: expected a closure that implements the `Fn` trait, but this closure only implements `FnOnce`\r\n  --> test.rs:12:28\r\n   |\r\n12 |     let y = Moves; blanket(|| drop(y));\r\n   |                    ------- ^^^^^^^^^^\r\n   |                    |\r\n   |                    the requirement to implement `Fn` derives from here\r\n   |\r\nnote: closure is `FnOnce` because it moves the variable `y` out of its environment\r\n  --> test.rs:12:36\r\n   |\r\n12 |     let y = Moves; blanket(|| drop(y));\r\n   |                                    ^\r\n\r\nerror: aborting due to previous error(s)\r\n```",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/310450450/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
