[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/18320177",
    "html_url": "https://github.com/rust-lang/rust/issues/5529#issuecomment-18320177",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5529",
    "id": 18320177,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4MzIwMTc3",
    "user": {
      "login": "catamorphism",
      "id": 427212,
      "node_id": "MDQ6VXNlcjQyNzIxMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/427212?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/catamorphism",
      "html_url": "https://github.com/catamorphism",
      "followers_url": "https://api.github.com/users/catamorphism/followers",
      "following_url": "https://api.github.com/users/catamorphism/following{/other_user}",
      "gists_url": "https://api.github.com/users/catamorphism/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/catamorphism/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/catamorphism/subscriptions",
      "organizations_url": "https://api.github.com/users/catamorphism/orgs",
      "repos_url": "https://api.github.com/users/catamorphism/repos",
      "events_url": "https://api.github.com/users/catamorphism/events{/privacy}",
      "received_events_url": "https://api.github.com/users/catamorphism/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-05-23T02:30:50Z",
    "updated_at": "2013-05-23T02:30:50Z",
    "body": "Nominating for milestone 5, production-ready\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/18320177/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/18358820",
    "html_url": "https://github.com/rust-lang/rust/issues/5529#issuecomment-18358820",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5529",
    "id": 18358820,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4MzU4ODIw",
    "user": {
      "login": "graydon",
      "id": 14097,
      "node_id": "MDQ6VXNlcjE0MDk3",
      "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/graydon",
      "html_url": "https://github.com/graydon",
      "followers_url": "https://api.github.com/users/graydon/followers",
      "following_url": "https://api.github.com/users/graydon/following{/other_user}",
      "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/graydon/subscriptions",
      "organizations_url": "https://api.github.com/users/graydon/orgs",
      "repos_url": "https://api.github.com/users/graydon/repos",
      "events_url": "https://api.github.com/users/graydon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/graydon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-05-23T17:30:08Z",
    "updated_at": "2013-05-23T17:30:08Z",
    "body": "just a bug, removing milestone/nomination.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/18358820/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/21558873",
    "html_url": "https://github.com/rust-lang/rust/issues/5529#issuecomment-21558873",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5529",
    "id": 21558873,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxNTU4ODcz",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-07-25T14:45:59Z",
    "updated_at": "2013-07-25T14:45:59Z",
    "body": "Visiting for triage email from 2013-07-22.  Still an issue, though I'm not sure its \"just a bug\" ... one might argue that projects may come to rely on implicit linkage currently being performed, and such projects will thus \"break\" when we remove the implicit linker arguments.  (Having said that, that is a pretty easy bug for a project to fix after the fact, as long as we document which libraries start requiring explicit linkage.)\n\nFor reference: here is some data on the current link args I get on Linux, Mac, and Windows+MinGW.\n\nFor all cases, here is the two input files I used:\n- /tmp/rusttmp/foo.rs:\n  \n  ``` rust\n  #[link(name=\"foo\", vers=\"0.0\")];\n  \n  pub fn two() -> int { 2 }\n  ```\n- /tmp/rusttmp/bar.rs:\n  \n  ``` rust\n  extern mod foo;\n  \n  fn main() {\n      let t = foo::two();\n      println(fmt!(\"t:%?\", t));\n  }\n  ```\n\nLinux:\n\n```\n% ( rustc --lib /tmp/rusttmp/foo.rs && RUST_LOG=rustc::back rustc -L/tmp/rusttmp /tmp/rusttmp/bar.rs 2>&1 ) | grep 'link args:'                                \nrust: ~\"cc link args: -L/home/pnkfelix/opt/rust/lib/rustc/x86_64-unknown-linux-gnu/lib -m64 -o /tmp/rusttmp/bar /tmp/rusttmp/bar.o -L/home/pnkfelix/opt/rust/lib/rustc/x86_64-unknown-linux-gnu/lib -lstd-c3ca5d77d81b46c1-0.7-pre -L/tmp/rusttmp -lfoo-68a2c114141ca-0.0 -lrustrt -lrt -lpthread -L/tmp/rusttmp -lrt -ldl -lm -lmorestack -lrustrt -Wl,-rpath,$ORIGIN/../../home/pnkfelix/opt/rust/lib/rustc/x86_64-unknown-linux-gnu/lib -Wl,-rpath,$ORIGIN/. -Wl,-rpath,/home/pnkfelix/opt/rust/lib/rustc/x86_64-unknown-linux-gnu/lib -Wl,-rpath,/tmp/rusttmp\"        \n% \n```\n\nMac OS X:\n\n```\n% ( rustc --lib /tmp/rusttmp/foo.rs && RUST_LOG=rustc::back rustc -L/tmp/rusttmp /tmp/rusttmp/bar.rs 2>&1 ) | grep 'link args:'\nrust: ~\"cc link args: -L/Users/fklock/opt/rust-dbg/lib/rustc/x86_64-apple-darwin/lib -m64 -o /tmp/rusttmp/bar /tmp/rusttmp/bar.o -L/Users/fklock/opt/rust-dbg/lib/rustc/x86_64-apple-darwin/lib -lstd-6c65cf4b443341b1-0.8-pre -L/tmp/rusttmp -lfoo-15fb3a718ea23983-0.0 -L/tmp/rusttmp -Wl,-no_compact_unwind -lmorestack -lrustrt -Wl,-rpath,@executable_path/../../Users/fklock/opt/rust-dbg/lib/rustc/x86_64-apple-darwin/lib -Wl,-rpath,@executable_path/. -Wl,-rpath,/Users/fklock/opt/rust-dbg/lib/rustc/x86_64-apple-darwin/lib -Wl,-rpath,/tmp/rusttmp\"\n% \n```\n\nWindows+MinGW:\n\n```\nrust: ~\"gcc link args: -Lc:\\\\Rust\\\\bin\\\\rustc\\\\i686-pc-mingw32\\\\bin -m32 -o rusttmp\\\\bar rusttmp\\\\bar.o -Lc:\\\\Rust\\\\bin\\\\rustc\\\\i686-pc-mingw32\\\\bin -lstd-6c65cf4b443341b1-0.7 -Lrusttmp -lfoo-15fb3a718ea23983-0.0 -Lrusttmp -lmorestack -lrustrt\"\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/21558873/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/21598949",
    "html_url": "https://github.com/rust-lang/rust/issues/5529#issuecomment-21598949",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5529",
    "id": 21598949,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxNTk4OTQ5",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-07-26T03:04:26Z",
    "updated_at": "2013-07-26T03:04:26Z",
    "body": "There was some related discussion in #7924 about where these should go and what should be required. I think that the modes of operation (for library requirements) can fall into four main categories:\n1. You use both `libstd` and `librustrt`.\n2. You don't use `libstd`, but you use `__morestack` from `librustrt` (and get segmented stacks as well.\n3. You want neither `libstd` nor `librustrt`, but you want `__morestack` in the sense of checking stack boundaries.\n4. You don't want `libstd`, `librustrt`, or segmented stacks (`__morestack`) at all.\n\nFor 1, the libraries rustrt depends on could be placed in `libstd`. For 2 they can't, but they should still be somewhere, and for 3/4 there are no dependent libraries. I think that it's going to be pretty rare to see a use case like 2+, so would others be OK with moving the default linker arguments for rustrt into `libstd/std.rs`? It wouldn't be called `linkhack` any more, but rather something along the lines of `required_external_libraries`.\n\nThis may also be less of an issue (library dependencies) as more and more of rustrt gets rewritten in rust.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/21598949/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/25393372",
    "html_url": "https://github.com/rust-lang/rust/issues/5529#issuecomment-25393372",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5529",
    "id": 25393372,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1MzkzMzcy",
    "user": {
      "login": "catamorphism",
      "id": 427212,
      "node_id": "MDQ6VXNlcjQyNzIxMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/427212?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/catamorphism",
      "html_url": "https://github.com/catamorphism",
      "followers_url": "https://api.github.com/users/catamorphism/followers",
      "following_url": "https://api.github.com/users/catamorphism/following{/other_user}",
      "gists_url": "https://api.github.com/users/catamorphism/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/catamorphism/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/catamorphism/subscriptions",
      "organizations_url": "https://api.github.com/users/catamorphism/orgs",
      "repos_url": "https://api.github.com/users/catamorphism/repos",
      "events_url": "https://api.github.com/users/catamorphism/events{/privacy}",
      "received_events_url": "https://api.github.com/users/catamorphism/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-09-30T19:02:10Z",
    "updated_at": "2013-09-30T19:02:10Z",
    "body": "As per @pnkfelix 's comment, nominating this again for milestone 2, backwards-compatible.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/25393372/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26528545",
    "html_url": "https://github.com/rust-lang/rust/issues/5529#issuecomment-26528545",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5529",
    "id": 26528545,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2NTI4NTQ1",
    "user": {
      "login": "catamorphism",
      "id": 427212,
      "node_id": "MDQ6VXNlcjQyNzIxMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/427212?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/catamorphism",
      "html_url": "https://github.com/catamorphism",
      "followers_url": "https://api.github.com/users/catamorphism/followers",
      "following_url": "https://api.github.com/users/catamorphism/following{/other_user}",
      "gists_url": "https://api.github.com/users/catamorphism/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/catamorphism/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/catamorphism/subscriptions",
      "organizations_url": "https://api.github.com/users/catamorphism/orgs",
      "repos_url": "https://api.github.com/users/catamorphism/repos",
      "events_url": "https://api.github.com/users/catamorphism/events{/privacy}",
      "received_events_url": "https://api.github.com/users/catamorphism/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-10-17T17:14:01Z",
    "updated_at": "2013-10-17T17:14:01Z",
    "body": "added backwards-compat, 1.0\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26528545/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/30720256",
    "html_url": "https://github.com/rust-lang/rust/issues/5529#issuecomment-30720256",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5529",
    "id": 30720256,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwNzIwMjU2",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-12-17T02:02:05Z",
    "updated_at": "2013-12-17T02:02:05Z",
    "body": "This is essentially done now. The compiler itself will no longer link to any libraries by default except for `libmorestack` which is required by all rust programs ever. Otherwise, all runtime dependencies are now [readily visible for each platform](https://github.com/mozilla/rust/blob/master/src/libstd/rtdeps.rs) and they're all pretty much enabling various bits of functionality in libstd. If we were to remove these dependencies, we would need to remove the corresponding functions that use them in libstd (or have a compilation profile?).\n\nFor now though, these linker arguments are certainly cleaned up, and the primary focus now is moving runtime dependencies into libraries, not into the compiler itself (as mentioned in the description).\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/30720256/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
