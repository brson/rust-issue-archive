[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/25330360",
    "html_url": "https://github.com/rust-lang/rust/issues/8589#issuecomment-25330360",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8589",
    "id": 25330360,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1MzMwMzYw",
    "user": {
      "login": "nejucomo",
      "id": 480497,
      "node_id": "MDQ6VXNlcjQ4MDQ5Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/480497?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nejucomo",
      "html_url": "https://github.com/nejucomo",
      "followers_url": "https://api.github.com/users/nejucomo/followers",
      "following_url": "https://api.github.com/users/nejucomo/following{/other_user}",
      "gists_url": "https://api.github.com/users/nejucomo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nejucomo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nejucomo/subscriptions",
      "organizations_url": "https://api.github.com/users/nejucomo/orgs",
      "repos_url": "https://api.github.com/users/nejucomo/repos",
      "events_url": "https://api.github.com/users/nejucomo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nejucomo/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-09-29T22:07:54Z",
    "updated_at": "2013-09-29T22:07:54Z",
    "body": "It looks like the memory profiling on [Is Rust Slim Yet?](http://huonw.github.io/isrustfastyet/mem/#efd6eaf,2a7be1c) profiles running `rustc` on `librustc`.  This does not distinguish whether the memory leak is in the rustc application code, the libraries it depends on (such as `std`), the runtime support, or in generated code.\n\nCan anyone suggest a way to distinguish these cases?  For example, if there is similar memory profiling for `servo`, which is another probably complex application, that would suggest `std`, `extra`, runtime support, or generated code, but not `rustc` application code itself.  If there is _not_ a correlated memory leak in `servo`, then maybe this suggests the leak is in `rustc` itself.\n\nThat's not very precise, but if the data is already there it could suggest where to look.  How can I learn about memory profiling tools that work well on rust code?\n\nAnyway, I'm going to read over the diff between the parents of 2a7be1c which are efd6eaf and 9457ebe to see if I notice anything suspicious by code inspection.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/25330360/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/25506104",
    "html_url": "https://github.com/rust-lang/rust/issues/8589#issuecomment-25506104",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8589",
    "id": 25506104,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1NTA2MTA0",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-10-02T01:03:33Z",
    "updated_at": "2013-10-02T01:03:33Z",
    "body": "I believe that I've found the regression. It's because one of the lint passes is holding onto a lint Context, and the lint Context is holding onto a pass, resulting in a cycle. After this, the tcx held by the Context is never free'd.\n\n@cmr graciously created a [memory graph](http://i.imgur.com/Hi1Oc8e.png) where no lint passes are run. I'm working on a fix.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/25506104/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/25508847",
    "html_url": "https://github.com/rust-lang/rust/issues/8589#issuecomment-25508847",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8589",
    "id": 25508847,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1NTA4ODQ3",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-10-02T02:03:15Z",
    "updated_at": "2013-10-02T02:03:15Z",
    "body": "@alexcrichton so it's not ideal, but could the lint passes hold a `&'static` to the context? It'll always outlive them, and it's be a gig of memory savings.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/25508847/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/25555725",
    "html_url": "https://github.com/rust-lang/rust/issues/8589#issuecomment-25555725",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8589",
    "id": 25555725,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1NTU1NzI1",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-10-02T16:54:21Z",
    "updated_at": "2013-10-02T16:54:21Z",
    "body": "Taking a look at lint, lint has a _large_ number of problems with it otherwise, so I'd rather just do this right this time around. I should have a pull up by tonight.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/25555725/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
