[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/78093628",
    "html_url": "https://github.com/rust-lang/rust/issues/23246#issuecomment-78093628",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23246",
    "id": 78093628,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4MDkzNjI4",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-10T16:38:32Z",
    "updated_at": "2015-03-10T16:38:32Z",
    "body": "This is actually intended behavior due to a [recently merged RFC](https://github.com/rust-lang/rfcs/blob/master/text/0738-variance.md). The idea here is that the compiler needs to know what constraints it can put on the type parameter `Elem`, and usage of the [`PhantomData`](http://doc.rust-lang.org/std/marker/struct.PhantomData.html) type will instruct the compiler how it can do so.\n\nYou can check out the [examples](http://doc.rust-lang.org/std/marker/struct.PhantomData.html#examples) for `PhantomData` to see some usage, and in this case you'll probably want to do something along the lines of:\n1. Refactor the struct so unused type parameters aren't needed. This can often be done with associated types, something along the lines of:\n   \n   ``` rust\n   trait A { type B; }\n   struct C<T: A> {\n       inner: A::B,\n   }\n   ```\n2. Use `PhantomData<Elem>` to indicate that the compiler should just consider the type parameter used, considering `Foo<A, B>` as containing something of type `A` as well as `B`.\n\nYou probably don't want to store `dummy: Elem` as it will require you to store an extra element and could have other memory implications as well.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/78093628/reactions",
      "total_count": 5,
      "+1": 5,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/78457964",
    "html_url": "https://github.com/rust-lang/rust/issues/23246#issuecomment-78457964",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23246",
    "id": 78457964,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4NDU3OTY0",
    "user": {
      "login": "timbertson",
      "id": 14172,
      "node_id": "MDQ6VXNlcjE0MTcy",
      "avatar_url": "https://avatars.githubusercontent.com/u/14172?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/timbertson",
      "html_url": "https://github.com/timbertson",
      "followers_url": "https://api.github.com/users/timbertson/followers",
      "following_url": "https://api.github.com/users/timbertson/following{/other_user}",
      "gists_url": "https://api.github.com/users/timbertson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/timbertson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/timbertson/subscriptions",
      "organizations_url": "https://api.github.com/users/timbertson/orgs",
      "repos_url": "https://api.github.com/users/timbertson/repos",
      "events_url": "https://api.github.com/users/timbertson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/timbertson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-12T10:47:24Z",
    "updated_at": "2015-03-12T10:47:24Z",
    "body": "Thanks for the helpful explanation, @alexcrichton. You also conveniently educated me on associated types, which I was wondering about but didn't know what to search for (I was wondering \"why is `Iterator` not generic\"). It turns out this is just what I needed.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/78457964/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/325308253",
    "html_url": "https://github.com/rust-lang/rust/issues/23246#issuecomment-325308253",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23246",
    "id": 325308253,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyNTMwODI1Mw==",
    "user": {
      "login": "neithernut",
      "id": 6747556,
      "node_id": "MDQ6VXNlcjY3NDc1NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6747556?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/neithernut",
      "html_url": "https://github.com/neithernut",
      "followers_url": "https://api.github.com/users/neithernut/followers",
      "following_url": "https://api.github.com/users/neithernut/following{/other_user}",
      "gists_url": "https://api.github.com/users/neithernut/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/neithernut/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/neithernut/subscriptions",
      "organizations_url": "https://api.github.com/users/neithernut/orgs",
      "repos_url": "https://api.github.com/users/neithernut/repos",
      "events_url": "https://api.github.com/users/neithernut/events{/privacy}",
      "received_events_url": "https://api.github.com/users/neithernut/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-08-28T09:37:03Z",
    "updated_at": "2017-08-28T09:56:00Z",
    "body": "I just stumbled upon this limitation in a context where `PhantomData` is of no help: generic enums. Consider the following piece of code:\r\n\r\n```\r\nenum Foo<A, B>\r\n    where A: Bar<B> + Sized\r\n{\r\n    X(A),\r\n    Y,\r\n    Z\r\n}\r\n\r\ntrait Bar<B> {\r\n   fn bar(&self, &B);\r\n}\r\n```\r\n\r\nEdit: I'm aware of several workarounds. These include adding `PhantomData` to `X`, but this pollutes the enum (in the sense that construction of a value by the user becomes iffy).",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/325308253/reactions",
      "total_count": 3,
      "+1": 3,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/342592975",
    "html_url": "https://github.com/rust-lang/rust/issues/23246#issuecomment-342592975",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23246",
    "id": 342592975,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0MjU5Mjk3NQ==",
    "user": {
      "login": "Piping",
      "id": 12042284,
      "node_id": "MDQ6VXNlcjEyMDQyMjg0",
      "avatar_url": "https://avatars.githubusercontent.com/u/12042284?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Piping",
      "html_url": "https://github.com/Piping",
      "followers_url": "https://api.github.com/users/Piping/followers",
      "following_url": "https://api.github.com/users/Piping/following{/other_user}",
      "gists_url": "https://api.github.com/users/Piping/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Piping/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Piping/subscriptions",
      "organizations_url": "https://api.github.com/users/Piping/orgs",
      "repos_url": "https://api.github.com/users/Piping/repos",
      "events_url": "https://api.github.com/users/Piping/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Piping/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-11-07T19:23:09Z",
    "updated_at": "2017-11-07T19:34:20Z",
    "body": "Hi, I had a similar problem regarding to unused type parameter.\r\nHere is the simplified code, I need to control the visibility for quicksort's sort function. \r\n```rust\r\nstruct Quicksort<T>;  // <---- unused parameter warning\r\ntrait Sorter<T> {\r\n  fn sort(&self,ar<T>){...}\r\n  fn join(...);\r\n  fn split(...);\r\n}\r\nimpl<T> Quicksort<T> {\r\n  pub fn sort(&self,ar<T>){\r\n    Sorter::sort(self, ar<T>) ;\r\n  }\r\n}\r\nimpl<T> Sorter<T> for Quicksort<T>{\r\n fn join(...) {...}\r\n fn split(...) {...}\r\n}\r\n```\r\n\r\nAny help to resolve the problem? because struct Quicksort does not have any fields. The type parameter is solely for the sort function from trait.\r\nOtherwise if I removed `impl<T> Quicksort<T>`, then I don't need the T for Quicksort at all. \r\n\r\n\r\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/342592975/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/399987553",
    "html_url": "https://github.com/rust-lang/rust/issues/23246#issuecomment-399987553",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23246",
    "id": 399987553,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5OTk4NzU1Mw==",
    "user": {
      "login": "zakarumych",
      "id": 4456841,
      "node_id": "MDQ6VXNlcjQ0NTY4NDE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4456841?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zakarumych",
      "html_url": "https://github.com/zakarumych",
      "followers_url": "https://api.github.com/users/zakarumych/followers",
      "following_url": "https://api.github.com/users/zakarumych/following{/other_user}",
      "gists_url": "https://api.github.com/users/zakarumych/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zakarumych/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zakarumych/subscriptions",
      "organizations_url": "https://api.github.com/users/zakarumych/orgs",
      "repos_url": "https://api.github.com/users/zakarumych/repos",
      "events_url": "https://api.github.com/users/zakarumych/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zakarumych/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-06-25T15:13:57Z",
    "updated_at": "2018-06-25T15:15:54Z",
    "body": "For those who will look here for answers:\r\n\"In most cases you do not need additional type parameters at all\".\r\nThat's it. Just remove them.\r\n\r\n\r\nTaking @Piping example for illustration.\r\nLet's get rid of type parameter for `Quicksort`.\r\n```rust\r\nstruct Quicksort;\r\n```\r\n\r\nNow `rustc` obviously won't complain about unused parameters since there are none.\r\nBut at some point we actually need that type-parameter.\r\n\r\nContinuing. Type parameter can be introduced at function level.\r\n```rust\r\nimpl Quicksort {\r\n  pub fn sort<T>(&self,ar<T>){\r\n    Sorter::sort(self, ar<T>) ;\r\n  }\r\n}\r\n```\r\n\r\nNow when it comes to implementing a trait things goes smoothly again since type parameter is already exists in `Sorter` trait.\r\n```rust\r\nimpl<T> Sorter<T> for Quicksort {\r\n fn join(...) {...}\r\n fn split(...) {...}\r\n}\r\n```\r\n\r\n\r\n\r\nThere are few places where you actually need artificial type parameter.\r\n1. When type conceptually contains some generic type.\r\n2. Type must implement a trait with associated type.\r\n```rust\r\ntrait Trait {\r\n  type X;\r\n}\r\n```\r\n\r\nNow either the type in question will be able to implement the `Trait` with some predefined `X`.\r\n```rust\r\nstruct Foo;\r\n\r\nimpl Trait for Foo {\r\n  type X = u32;\r\n}\r\n```\r\n\r\nOr it has to have this artificial type parameter after all.\r\n```rust\r\n\r\nstruct Foo<T>(PhantomData<T>);\r\n\r\nimpl<T> Trait for Foo<T> {\r\n  type X = T;\r\n}\r\n```",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/399987553/reactions",
      "total_count": 5,
      "+1": 5,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/609420134",
    "html_url": "https://github.com/rust-lang/rust/issues/23246#issuecomment-609420134",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23246",
    "id": 609420134,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwOTQyMDEzNA==",
    "user": {
      "login": "AdrienChampion",
      "id": 7377723,
      "node_id": "MDQ6VXNlcjczNzc3MjM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7377723?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AdrienChampion",
      "html_url": "https://github.com/AdrienChampion",
      "followers_url": "https://api.github.com/users/AdrienChampion/followers",
      "following_url": "https://api.github.com/users/AdrienChampion/following{/other_user}",
      "gists_url": "https://api.github.com/users/AdrienChampion/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AdrienChampion/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AdrienChampion/subscriptions",
      "organizations_url": "https://api.github.com/users/AdrienChampion/orgs",
      "repos_url": "https://api.github.com/users/AdrienChampion/repos",
      "events_url": "https://api.github.com/users/AdrienChampion/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AdrienChampion/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-04-05T13:52:39Z",
    "updated_at": "2020-04-05T13:53:58Z",
    "body": "@neithernut \r\n\r\nIn case you're still interested, I had a similar problem and I solved it by creating an additional variant that stores the `PhantomData` and a never type `Empty`:\r\n\r\n```rust\r\npub enum Empty {}\r\npub enum Foo<A, B> {\r\n    X(A),\r\n    // ...\r\n    Void(Empty, PhantomData<B>),\r\n}\r\n```\r\n\r\n[playground example](https://play.rust-lang.org/?version=stable&mode=debug&edition=2018&gist=c297fb0f024a70630ce2ffa1e6810b3e)\r\n\r\nThe good news is that it's zero-cost and does not pollute the variants you do use.\r\n\r\nThe bad news is that, until [never type exhaustive matching](http://smallcultfollowing.com/babysteps/blog/2018/08/13/never-patterns-exhaustive-matching-and-uninhabited-types-oh-my/) comes to Rust, this approach will pollute the code when you match on your enum (although you could macro your way around it):\r\n\r\n```rust\r\nmatch foo {\r\n    Foo::A(_) => (),\r\n    // ...\r\n    Foo::Void(empty, _) => match empty {},\r\n    //               ^\r\n    // phantom data\r\n}\r\n```",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/609420134/reactions",
      "total_count": 2,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 2,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/723657165",
    "html_url": "https://github.com/rust-lang/rust/issues/23246#issuecomment-723657165",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23246",
    "id": 723657165,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyMzY1NzE2NQ==",
    "user": {
      "login": "mankinskin",
      "id": 20745737,
      "node_id": "MDQ6VXNlcjIwNzQ1NzM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/20745737?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mankinskin",
      "html_url": "https://github.com/mankinskin",
      "followers_url": "https://api.github.com/users/mankinskin/followers",
      "following_url": "https://api.github.com/users/mankinskin/following{/other_user}",
      "gists_url": "https://api.github.com/users/mankinskin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mankinskin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mankinskin/subscriptions",
      "organizations_url": "https://api.github.com/users/mankinskin/orgs",
      "repos_url": "https://api.github.com/users/mankinskin/repos",
      "events_url": "https://api.github.com/users/mankinskin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mankinskin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-11-08T19:52:37Z",
    "updated_at": "2020-11-08T19:52:37Z",
    "body": "@alexcrichton \r\nI also had some issues with this and generic enums. It would be very useful if the compiler could recognize that the type parameter is only used in a trait bound for another type parameter. I don't understand the reason why this would not work now.. Can't the compiler derive the constraints from the trait the type parameter is passed to?",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/723657165/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/731195418",
    "html_url": "https://github.com/rust-lang/rust/issues/23246#issuecomment-731195418",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23246",
    "id": 731195418,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczMTE5NTQxOA==",
    "user": {
      "login": "raphaelcohn",
      "id": 1307097,
      "node_id": "MDQ6VXNlcjEzMDcwOTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1307097?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/raphaelcohn",
      "html_url": "https://github.com/raphaelcohn",
      "followers_url": "https://api.github.com/users/raphaelcohn/followers",
      "following_url": "https://api.github.com/users/raphaelcohn/following{/other_user}",
      "gists_url": "https://api.github.com/users/raphaelcohn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/raphaelcohn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/raphaelcohn/subscriptions",
      "organizations_url": "https://api.github.com/users/raphaelcohn/orgs",
      "repos_url": "https://api.github.com/users/raphaelcohn/repos",
      "events_url": "https://api.github.com/users/raphaelcohn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/raphaelcohn/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-11-20T14:16:04Z",
    "updated_at": "2020-11-20T14:16:04Z",
    "body": "@mankinskin I agree. PhantomData in this instance just pollutes the code. It is an implementation detail that should never be exposed in a public API (which is what happens with both @AdrienChampion 's and @neithernut 's code. It's also exceedingly irritiating, adding code complexity, complicating construction (so making it harder to just pass generic enum members as closures w/o writing extra code, etc. It's a code smell in Rust itself.",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/731195418/reactions",
      "total_count": 3,
      "+1": 3,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/732503909",
    "html_url": "https://github.com/rust-lang/rust/issues/23246#issuecomment-732503909",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23246",
    "id": 732503909,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczMjUwMzkwOQ==",
    "user": {
      "login": "dlubarov",
      "id": 828366,
      "node_id": "MDQ6VXNlcjgyODM2Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/828366?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dlubarov",
      "html_url": "https://github.com/dlubarov",
      "followers_url": "https://api.github.com/users/dlubarov/followers",
      "following_url": "https://api.github.com/users/dlubarov/following{/other_user}",
      "gists_url": "https://api.github.com/users/dlubarov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dlubarov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dlubarov/subscriptions",
      "organizations_url": "https://api.github.com/users/dlubarov/orgs",
      "repos_url": "https://api.github.com/users/dlubarov/repos",
      "events_url": "https://api.github.com/users/dlubarov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dlubarov/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-11-24T00:25:10Z",
    "updated_at": "2020-11-24T00:25:38Z",
    "body": "Looking back to @alexcrichton's response and the RFC, I think the question is not so much why unused type parameters cause an error, but why the compiler considers type parameters unused in examples like the OP's.\r\n\r\nTo me, it seems like `Elem` has one usage (in `List: AsSlice<Elem>`), albeit not in the body of the struct. It seems like that should constitute a usage for the purpose of variance inference, since it implies a variance bound: `Elem` must be invariant since `AsSlice`'s parameter is invariant.\r\n\r\nIn Scala for example, the equivalent would be `class Foo[E, S <: Seq[E]](val seq: S)`. Scala doesn't infer variance, but it \"knows\" that `E` must be covariant or invariant. If we try to make it contravariant (with `-E`), we get `error: contravariant type E occurs in covariant position`.\r\n\r\nIf getting the compiler to recognize these variance bounds would be complicated, perhaps lifetime and non-lifetime parameters could be handled differently? As the RFC notes, only lifetimes have subtype relationships, so it seems like non-lifetime parameters might as well be \"inherently\" invariant, and not subject to inference. Code like `struct Thing<'a, 'b: 'a>(&'b u32);` would continue to be rejected, but I don't think there's any \"legitimate\" reason to write lifetime parameters like that.",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/732503909/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/782851250",
    "html_url": "https://github.com/rust-lang/rust/issues/23246#issuecomment-782851250",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23246",
    "id": 782851250,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4Mjg1MTI1MA==",
    "user": {
      "login": "shlevy",
      "id": 487050,
      "node_id": "MDQ6VXNlcjQ4NzA1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/487050?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shlevy",
      "html_url": "https://github.com/shlevy",
      "followers_url": "https://api.github.com/users/shlevy/followers",
      "following_url": "https://api.github.com/users/shlevy/following{/other_user}",
      "gists_url": "https://api.github.com/users/shlevy/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shlevy/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shlevy/subscriptions",
      "organizations_url": "https://api.github.com/users/shlevy/orgs",
      "repos_url": "https://api.github.com/users/shlevy/repos",
      "events_url": "https://api.github.com/users/shlevy/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shlevy/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2021-02-21T12:37:39Z",
    "updated_at": "2021-02-21T12:37:39Z",
    "body": "I think perhaps we should reopen this one. The associated RFC doesn't seem to justify a compiler error in code like:\r\n\r\n```rust\r\npub struct Foo<A> {\r\n    a: A,\r\n}\r\n\r\npub struct Bar<A, F>\r\nwhere\r\n    F: AsRef<Foo<A>>,\r\n{\r\n    foo: F,\r\n}\r\n```",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/782851250/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/784448160",
    "html_url": "https://github.com/rust-lang/rust/issues/23246#issuecomment-784448160",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23246",
    "id": 784448160,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4NDQ0ODE2MA==",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2021-02-23T19:19:24Z",
    "updated_at": "2021-02-23T19:19:24Z",
    "body": "Changes of this magnitude would require an RFC these days, and I would encourage folks to either open an RFC or a thread on users or internals rather than continuing to comment on an issue that was closed almost six years ago.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/784448160/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/784475770",
    "html_url": "https://github.com/rust-lang/rust/issues/23246#issuecomment-784475770",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23246",
    "id": 784475770,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4NDQ3NTc3MA==",
    "user": {
      "login": "mankinskin",
      "id": 20745737,
      "node_id": "MDQ6VXNlcjIwNzQ1NzM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/20745737?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mankinskin",
      "html_url": "https://github.com/mankinskin",
      "followers_url": "https://api.github.com/users/mankinskin/followers",
      "following_url": "https://api.github.com/users/mankinskin/following{/other_user}",
      "gists_url": "https://api.github.com/users/mankinskin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mankinskin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mankinskin/subscriptions",
      "organizations_url": "https://api.github.com/users/mankinskin/orgs",
      "repos_url": "https://api.github.com/users/mankinskin/repos",
      "events_url": "https://api.github.com/users/mankinskin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mankinskin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2021-02-23T20:05:23Z",
    "updated_at": "2021-02-23T20:05:23Z",
    "body": "But can't this issue be reopened? This is kind of the first place you end up at when googling about this, and the discussion is basically already here. I don't think there is a lot of designing left to do, it just needs to be implemented in the right way.\r\n\r\nI can try to write up an RFC some time, but it is not high on my priority list right now and I am completely unexperienced with rustc. Opening up this issue for now would at least raise attention to it and helps resolving this faster. ",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/784475770/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/784478530",
    "html_url": "https://github.com/rust-lang/rust/issues/23246#issuecomment-784478530",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23246",
    "id": 784478530,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4NDQ3ODUzMA==",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2021-02-23T20:10:19Z",
    "updated_at": "2021-02-23T20:10:19Z",
    "body": "Large scale changes to the language, of which this is one, require an RFC. I am not on the lang team, but this isn't actually a bug: this is a request for a change to how the language works. A bug being open for it is not the procedure by which this would be changed.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/784478530/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/785757920",
    "html_url": "https://github.com/rust-lang/rust/issues/23246#issuecomment-785757920",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23246",
    "id": 785757920,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4NTc1NzkyMA==",
    "user": {
      "login": "raphaelcohn",
      "id": 1307097,
      "node_id": "MDQ6VXNlcjEzMDcwOTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1307097?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/raphaelcohn",
      "html_url": "https://github.com/raphaelcohn",
      "followers_url": "https://api.github.com/users/raphaelcohn/followers",
      "following_url": "https://api.github.com/users/raphaelcohn/following{/other_user}",
      "gists_url": "https://api.github.com/users/raphaelcohn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/raphaelcohn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/raphaelcohn/subscriptions",
      "organizations_url": "https://api.github.com/users/raphaelcohn/orgs",
      "repos_url": "https://api.github.com/users/raphaelcohn/repos",
      "events_url": "https://api.github.com/users/raphaelcohn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/raphaelcohn/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2021-02-25T09:37:01Z",
    "updated_at": "2021-02-25T09:37:01Z",
    "body": "@mankinskin I agree completely, and I feel your frustration; I share it, and it's got worse as rust has become more widely used. Rust's core team also have a very narrow view of what a bug is - one that with my software craftsmanship hat on I couldn't disagree with more strongly.\r\n\r\nRust's development has been captured by the bureaucratically minded; the same mindset that has infested wikipedia, and parodied beautifully in [Brazil](https://www.youtube.com/watch?v=KZ-SdU53MnY).\r\n\r\nPersonally, I find it rude; it shows disinterest in the views of those outside of the main development, and the idea that anyone can have a good idea.",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/785757920/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 1,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/785774295",
    "html_url": "https://github.com/rust-lang/rust/issues/23246#issuecomment-785774295",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23246",
    "id": 785774295,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4NTc3NDI5NQ==",
    "user": {
      "login": "mankinskin",
      "id": 20745737,
      "node_id": "MDQ6VXNlcjIwNzQ1NzM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/20745737?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mankinskin",
      "html_url": "https://github.com/mankinskin",
      "followers_url": "https://api.github.com/users/mankinskin/followers",
      "following_url": "https://api.github.com/users/mankinskin/following{/other_user}",
      "gists_url": "https://api.github.com/users/mankinskin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mankinskin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mankinskin/subscriptions",
      "organizations_url": "https://api.github.com/users/mankinskin/orgs",
      "repos_url": "https://api.github.com/users/mankinskin/repos",
      "events_url": "https://api.github.com/users/mankinskin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mankinskin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2021-02-25T10:02:35Z",
    "updated_at": "2021-02-25T10:02:35Z",
    "body": "@raphaelcohn I know what you mean and we should always be wary of overdoing that, it might stagnate innovation, but I also think there is value in organization and strict review. Rust's promise is to be a secure language, that means it must takes steps carefully, which makes it more difficult to innovate. I agree that there eventually needs to be an RFC for this but I don't really see the point of restricting discussions about feature changes in these github issues. I suppose they use this as a bug tracker, and new features are not supposed to be tracked here.\r\n\r\nIn general, I think there are a lot of improvements that could be made to the entire open source workflow nowadays. The tools don't really integrate well, basically just using hyperlinks. For open source work there ought to be issue dependencies, resource budgets, integrated documentations and tests, voting on forks, funding, user permissions, all of that. That would make open source a lot more \"open\" and transparent. It has to come eventually, but there still needs some work to be done.",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/785774295/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/785971235",
    "html_url": "https://github.com/rust-lang/rust/issues/23246#issuecomment-785971235",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23246",
    "id": 785971235,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4NTk3MTIzNQ==",
    "user": {
      "login": "BurntSushi",
      "id": 456674,
      "node_id": "MDQ6VXNlcjQ1NjY3NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/456674?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/BurntSushi",
      "html_url": "https://github.com/BurntSushi",
      "followers_url": "https://api.github.com/users/BurntSushi/followers",
      "following_url": "https://api.github.com/users/BurntSushi/following{/other_user}",
      "gists_url": "https://api.github.com/users/BurntSushi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/BurntSushi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/BurntSushi/subscriptions",
      "organizations_url": "https://api.github.com/users/BurntSushi/orgs",
      "repos_url": "https://api.github.com/users/BurntSushi/repos",
      "events_url": "https://api.github.com/users/BurntSushi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/BurntSushi/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2021-02-25T15:07:28Z",
    "updated_at": "2021-02-25T15:07:28Z",
    "body": "Moderation note: what @steveklabnik said is correct. The kind of unconstructive broad criticism that has taken place in the past few comments is not appropriate here. Since this discussion doesn't seem to be headed anywhere good, and the next steps if one were to make progress have been clarified, I'm going to lock this thread.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/785971235/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
