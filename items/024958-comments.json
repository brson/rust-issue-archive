[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/98509546",
    "html_url": "https://github.com/rust-lang/rust/issues/24958#issuecomment-98509546",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24958",
    "id": 98509546,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk4NTA5NTQ2",
    "user": {
      "login": "nagisa",
      "id": 679122,
      "node_id": "MDQ6VXNlcjY3OTEyMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/679122?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nagisa",
      "html_url": "https://github.com/nagisa",
      "followers_url": "https://api.github.com/users/nagisa/followers",
      "following_url": "https://api.github.com/users/nagisa/following{/other_user}",
      "gists_url": "https://api.github.com/users/nagisa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nagisa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nagisa/subscriptions",
      "organizations_url": "https://api.github.com/users/nagisa/orgs",
      "repos_url": "https://api.github.com/users/nagisa/repos",
      "events_url": "https://api.github.com/users/nagisa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nagisa/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-03T17:21:32Z",
    "updated_at": "2015-05-03T17:21:32Z",
    "body": "Something that works on any host (i.e. you needn\u2019t compile libstd for android to repro):\n\n``` rust\n#![feature(no_std,lang_items,fundamental)]\n#![no_std]\n#![crate_type=\"lib\"]\n#[lang=\"sized\"]\n#[fundamental]\npub trait Sized {}\n#[lang=\"sync\"]\npub unsafe trait Sync {}\n#[lang=\"phantom_data\"]\npub struct PhantomData<T:?Sized>;\n#[lang=\"send\"]\npub unsafe trait Send {}\n#[lang=\"copy\"]\npub trait Copy {}\n#[lang=\"no_copy_bound\"]\npub struct NoCopy;\n\npub extern \"stdcall\" fn sup(_: isize) -> isize {\n    0\n}\n```\n\n---\n\n```\n  * frame #0: 0x00007ffff71514b7 libc.so.6`__GI_raise + 55\n    frame #1: 0x00007ffff715288a libc.so.6`__GI_abort + 362\n    frame #2: 0x00007ffff34ff65c librustc_llvm-4e7c5e5c.so`llvm::llvm_unreachable_internal(char const*, char const*, unsigned int) + 156\n    frame #3: 0x00007ffff284a62d librustc_llvm-4e7c5e5c.so`llvm::ARMTargetLowering::getEffectiveCallingConv(unsigned int, bool) const + 77\n    frame #4: 0x00007ffff284a75b librustc_llvm-4e7c5e5c.so`llvm::ARMTargetLowering::CCAssignFnForNode(unsigned int, bool, bool) const + 11\n    frame #5: 0x00007ffff284a8a4 librustc_llvm-4e7c5e5c.so`llvm::ARMTargetLowering::CanLowerReturn(unsigned int, llvm::MachineFunction&, bool, llvm::SmallVectorImpl<llvm::ISD::OutputArg> const&, llvm::LLVMContext&) const + 116\n    frame #6: 0x00007ffff2b0953c librustc_llvm-4e7c5e5c.so`llvm::FunctionLoweringInfo::set(llvm::Function const&, llvm::MachineFunction&, llvm::SelectionDAG*) + 220\n    frame #7: 0x00007ffff2c490a6 librustc_llvm-4e7c5e5c.so`llvm::SelectionDAGISel::runOnMachineFunction(llvm::MachineFunction&) + 534\n    frame #8: 0x00007ffff283ee10 librustc_llvm-4e7c5e5c.so`(anonymous namespace)::ARMDAGToDAGISel::runOnMachineFunction(llvm::MachineFunction&) + 48\n    frame #9: 0x00007ffff349477f librustc_llvm-4e7c5e5c.so`llvm::FPPassManager::runOnFunction(llvm::Function&) + 623\n    frame #10: 0x00007ffff34947bb librustc_llvm-4e7c5e5c.so`llvm::FPPassManager::runOnModule(llvm::Module&) + 43\n    frame #11: 0x00007ffff349437f librustc_llvm-4e7c5e5c.so`llvm::legacy::PassManagerImpl::run(llvm::Module&) + 815\n    frame #12: 0x00007ffff232662e librustc_llvm-4e7c5e5c.so`LLVMRustWriteOutputFile(Target=0x00007fffe80356a0, PMR=0x00007fffe801b770, M=0x00007fffe8002d30, path=0x00007fffee8242b0, FileType=CGFT_ObjectFile) + 462 at PassWrapper.cpp:210\n    frame #13: 0x00007ffff635844b librustc_trans-4e7c5e5c.so`back::write::write_output_file::h67e97df156a1fd13Rac + 187\n    frame #14: 0x00007ffff635aea3 librustc_trans-4e7c5e5c.so`back::write::optimize_and_codegen::closure.40104 + 1315\n    frame #15: 0x00007ffff6364dd4 librustc_trans-4e7c5e5c.so`back::write::execute_work_item::h565fc52094442fc5Y4c + 6372\n    frame #16: 0x00007ffff635cb1d librustc_trans-4e7c5e5c.so`back::write::run_passes::h70fcfd6f6115b442KKc + 6925\n    frame #17: 0x00007ffff7b003b8 librustc_driver-4e7c5e5c.so`driver::phase_5_run_llvm_passes::ha70ba0f00d6855749Oa + 328\n    frame #18: 0x00007ffff7ad8849 librustc_driver-4e7c5e5c.so`driver::compile_input::h19dbb81f9d079a10Qba + 7849\n    frame #19: 0x00007ffff7b90dc2 librustc_driver-4e7c5e5c.so`run_compiler::h6fdcc5ae4819da2c65b + 3826\n    frame #20: 0x00007ffff7b8e613 librustc_driver-4e7c5e5c.so`boxed::F.FnBox$LT$A$GT$::call_box::h15867338134671801927 + 451\n    frame #21: 0x00007ffff7b8dbda librustc_driver-4e7c5e5c.so`rt::unwind::try::try_fn::h10571205104630549427 + 74\n    frame #22: 0x00007ffff76252f9 libstd-4e7c5e5c.so`rust_try_inner + 9\n    frame #23: 0x00007ffff76252e6 libstd-4e7c5e5c.so`rust_try + 6\n    frame #24: 0x00007ffff7b8de75 librustc_driver-4e7c5e5c.so`boxed::F.FnBox$LT$A$GT$::call_box::h11752498478748955554 + 405\n    frame #25: 0x00007ffff75b07c2 libstd-4e7c5e5c.so`sys::thread::Thread::new::thread_start::h9f92b31902592327dAv + 146\n    frame #26: 0x00007ffff1663374 libpthread.so.0`start_thread + 196\n    frame #27: 0x00007ffff720627d libc.so.6`__clone + 109\n```\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/98509546/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/98518566",
    "html_url": "https://github.com/rust-lang/rust/issues/24958#issuecomment-98518566",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24958",
    "id": 98518566,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk4NTE4NTY2",
    "user": {
      "login": "luqmana",
      "id": 287063,
      "node_id": "MDQ6VXNlcjI4NzA2Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/287063?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luqmana",
      "html_url": "https://github.com/luqmana",
      "followers_url": "https://api.github.com/users/luqmana/followers",
      "following_url": "https://api.github.com/users/luqmana/following{/other_user}",
      "gists_url": "https://api.github.com/users/luqmana/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luqmana/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luqmana/subscriptions",
      "organizations_url": "https://api.github.com/users/luqmana/orgs",
      "repos_url": "https://api.github.com/users/luqmana/repos",
      "events_url": "https://api.github.com/users/luqmana/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luqmana/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-03T18:14:57Z",
    "updated_at": "2015-05-03T18:14:57Z",
    "body": "As the error says, `stdcall` isn't a supported calling convention for the ARM target in LLVM. Not really much we can do from the rustc side unless we want to error early based on cc/target combinations. In any case, it should not crash. \n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/98518566/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/233196457",
    "html_url": "https://github.com/rust-lang/rust/issues/24958#issuecomment-233196457",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24958",
    "id": 233196457,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzMzE5NjQ1Nw==",
    "user": {
      "login": "infinity0",
      "id": 78398,
      "node_id": "MDQ6VXNlcjc4Mzk4",
      "avatar_url": "https://avatars.githubusercontent.com/u/78398?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/infinity0",
      "html_url": "https://github.com/infinity0",
      "followers_url": "https://api.github.com/users/infinity0/followers",
      "following_url": "https://api.github.com/users/infinity0/following{/other_user}",
      "gists_url": "https://api.github.com/users/infinity0/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/infinity0/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/infinity0/subscriptions",
      "organizations_url": "https://api.github.com/users/infinity0/orgs",
      "repos_url": "https://api.github.com/users/infinity0/repos",
      "events_url": "https://api.github.com/users/infinity0/events{/privacy}",
      "received_events_url": "https://api.github.com/users/infinity0/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-07-17T18:32:43Z",
    "updated_at": "2016-07-17T18:32:43Z",
    "body": "I'm hitting this when I tried to run tests for 1.10.0 on arm64 (aarch64-unknown-linux-gnu). The build succeeds otherwise. I'm just adding `ignore-arm` and `ignore-aarch64` to `src/test/debuginfo/type-names.rs` for the time being.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/233196457/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/299707402",
    "html_url": "https://github.com/rust-lang/rust/issues/24958#issuecomment-299707402",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24958",
    "id": 299707402,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5OTcwNzQwMg==",
    "user": {
      "login": "Mark-Simulacrum",
      "id": 5047365,
      "node_id": "MDQ6VXNlcjUwNDczNjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5047365?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Mark-Simulacrum",
      "html_url": "https://github.com/Mark-Simulacrum",
      "followers_url": "https://api.github.com/users/Mark-Simulacrum/followers",
      "following_url": "https://api.github.com/users/Mark-Simulacrum/following{/other_user}",
      "gists_url": "https://api.github.com/users/Mark-Simulacrum/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Mark-Simulacrum/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Mark-Simulacrum/subscriptions",
      "organizations_url": "https://api.github.com/users/Mark-Simulacrum/orgs",
      "repos_url": "https://api.github.com/users/Mark-Simulacrum/repos",
      "events_url": "https://api.github.com/users/Mark-Simulacrum/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Mark-Simulacrum/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-05-07T13:47:01Z",
    "updated_at": "2017-05-07T13:47:01Z",
    "body": "Neither example crashes today. Closing, since I don't see any good opportunity for a test here (it'd have to be something like `only-arm` and that's probably not worth it).\r\n\r\nWith `arm-linux-androideabi` (original example):\r\n\r\n```\r\n$ rustc +nightly --crate-type=lib test.rs --target=arm-linux-androideabi\r\nerror[E0570]: The ABI `\"stdcall\"` is not supported for the current target\r\n --> test.rs:1:1\r\n  |\r\n1 | / pub extern \"stdcall\" fn sup(_: isize) -> isize {\r\n2 | |     0\r\n3 | | }\r\n  | |_^\r\n\r\nerror: aborting due to previous error\r\n```\r\n\r\nUpdated @nagisa's example:\r\n\r\n```rust\r\n#![feature(no_core,lang_items,fundamental)]\r\n#![no_core]\r\n#[lang=\"sized\"]\r\n#[fundamental]\r\npub trait Sized {}\r\n#[lang=\"sync\"]\r\npub unsafe trait Sync {}\r\n#[lang=\"phantom_data\"]\r\npub struct PhantomData<T:?Sized>;\r\n#[lang=\"send\"]\r\npub unsafe trait Send {}\r\n#[lang=\"copy\"]\r\npub trait Copy {}\r\n\r\npub extern \"stdcall\" fn sup(_: isize) -> isize {\r\n    0\r\n}\r\n```\r\n\r\n```\r\n$ rustc --crate-type=lib test.rs\r\n// no output, compilation successful\r\n```",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/299707402/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
