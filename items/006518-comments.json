[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/17977328",
    "html_url": "https://github.com/rust-lang/rust/issues/6518#issuecomment-17977328",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6518",
    "id": 17977328,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3OTc3MzI4",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-05-16T02:17:49Z",
    "updated_at": "2013-05-16T02:17:49Z",
    "body": "Although this makes sense to me, it may not be causing the behavior you are seeing now. The library build dependencies are mostly driven by a bunch of 0-byte dummy files that the makefiles `touch` after each build step. The reason for this is that the names of libraries output by `rustc` are not stable (they contain a hash of the metadata).\n\nAssuming that we fixed that problem though, implementing this still seems problematic since the final artifact is generated by the linker, not rustc itself. If we were to touch the `.so` files before building, we would need to close them again before calling the linker, at which point the linker would re-update the timestamp.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/17977328/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/17978715",
    "html_url": "https://github.com/rust-lang/rust/issues/6518#issuecomment-17978715",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6518",
    "id": 17978715,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3OTc4NzE1",
    "user": {
      "login": "sethfowler",
      "id": 492593,
      "node_id": "MDQ6VXNlcjQ5MjU5Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/492593?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sethfowler",
      "html_url": "https://github.com/sethfowler",
      "followers_url": "https://api.github.com/users/sethfowler/followers",
      "following_url": "https://api.github.com/users/sethfowler/following{/other_user}",
      "gists_url": "https://api.github.com/users/sethfowler/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sethfowler/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sethfowler/subscriptions",
      "organizations_url": "https://api.github.com/users/sethfowler/orgs",
      "repos_url": "https://api.github.com/users/sethfowler/repos",
      "events_url": "https://api.github.com/users/sethfowler/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sethfowler/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-05-16T03:16:04Z",
    "updated_at": "2013-05-16T03:16:04Z",
    "body": "Yeah, I can see how the names being unstable make this quite tricky. Regarding the second issue (the linker generating the final artifact), I guess there aren't object files or anything generated directly by the compiler?\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/17978715/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/20911730",
    "html_url": "https://github.com/rust-lang/rust/issues/6518#issuecomment-20911730",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6518",
    "id": 20911730,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwOTExNzMw",
    "user": {
      "login": "bblum",
      "id": 1820515,
      "node_id": "MDQ6VXNlcjE4MjA1MTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1820515?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bblum",
      "html_url": "https://github.com/bblum",
      "followers_url": "https://api.github.com/users/bblum/followers",
      "following_url": "https://api.github.com/users/bblum/following{/other_user}",
      "gists_url": "https://api.github.com/users/bblum/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bblum/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bblum/subscriptions",
      "organizations_url": "https://api.github.com/users/bblum/orgs",
      "repos_url": "https://api.github.com/users/bblum/repos",
      "events_url": "https://api.github.com/users/bblum/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bblum/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-07-13T00:37:20Z",
    "updated_at": "2013-07-13T00:37:20Z",
    "body": "This happened to me recently too. It wasn't too annoying for me, but I could see it being a nasty surprise for someone who wasn't paying attention. Nominating for production-ready.\n\nBut, even without linking, if rustc keeps the output file open the whole time, won't it still get timestamped at the point when it closes the file descriptor (and hence still be too late)? Another problem about that would be you couldn't run two rustcs at once on different versions of the same source files, which I do occasionally just for the sake of getting quicker error messages (not caring about the actual output).\n\nOne probably-pretty-dangerous solution would be to re-timestamp the output files backwards in time to the point at which all the source files were read.\n\nI wonder if we could have rustc record the \"source-file-reading time\" in the files it generates, and have it later check against that? Seems like you'd need to hack around 'make' though.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/20911730/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23313220",
    "html_url": "https://github.com/rust-lang/rust/issues/6518#issuecomment-23313220",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6518",
    "id": 23313220,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzMzEzMjIw",
    "user": {
      "login": "thestinger",
      "id": 1505226,
      "node_id": "MDQ6VXNlcjE1MDUyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thestinger",
      "html_url": "https://github.com/thestinger",
      "followers_url": "https://api.github.com/users/thestinger/followers",
      "following_url": "https://api.github.com/users/thestinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions",
      "organizations_url": "https://api.github.com/users/thestinger/orgs",
      "repos_url": "https://api.github.com/users/thestinger/repos",
      "events_url": "https://api.github.com/users/thestinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thestinger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-08-27T05:02:28Z",
    "updated_at": "2013-08-27T05:02:28Z",
    "body": "This is still relevant.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23313220/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23507403",
    "html_url": "https://github.com/rust-lang/rust/issues/6518#issuecomment-23507403",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6518",
    "id": 23507403,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzNTA3NDAz",
    "user": {
      "login": "catamorphism",
      "id": 427212,
      "node_id": "MDQ6VXNlcjQyNzIxMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/427212?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/catamorphism",
      "html_url": "https://github.com/catamorphism",
      "followers_url": "https://api.github.com/users/catamorphism/followers",
      "following_url": "https://api.github.com/users/catamorphism/following{/other_user}",
      "gists_url": "https://api.github.com/users/catamorphism/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/catamorphism/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/catamorphism/subscriptions",
      "organizations_url": "https://api.github.com/users/catamorphism/orgs",
      "repos_url": "https://api.github.com/users/catamorphism/repos",
      "events_url": "https://api.github.com/users/catamorphism/events{/privacy}",
      "received_events_url": "https://api.github.com/users/catamorphism/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-08-29T17:30:40Z",
    "updated_at": "2013-08-29T17:30:40Z",
    "body": "Just a bug (hopefully will go away with rustpkg)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23507403/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/39763232",
    "html_url": "https://github.com/rust-lang/rust/issues/6518#issuecomment-39763232",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6518",
    "id": 39763232,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NzYzMjMy",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-04-07T18:07:05Z",
    "updated_at": "2014-04-07T18:07:05Z",
    "body": "Still an issue, though I'm not sure how it could be fixed.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/39763232/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/76672840",
    "html_url": "https://github.com/rust-lang/rust/issues/6518#issuecomment-76672840",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6518",
    "id": 76672840,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2NjcyODQw",
    "user": {
      "login": "reem",
      "id": 4745181,
      "node_id": "MDQ6VXNlcjQ3NDUxODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4745181?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/reem",
      "html_url": "https://github.com/reem",
      "followers_url": "https://api.github.com/users/reem/followers",
      "following_url": "https://api.github.com/users/reem/following{/other_user}",
      "gists_url": "https://api.github.com/users/reem/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/reem/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/reem/subscriptions",
      "organizations_url": "https://api.github.com/users/reem/orgs",
      "repos_url": "https://api.github.com/users/reem/repos",
      "events_url": "https://api.github.com/users/reem/events{/privacy}",
      "received_events_url": "https://api.github.com/users/reem/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-02T08:17:04Z",
    "updated_at": "2015-03-02T08:17:04Z",
    "body": "Visiting for triage. This is still a problem, but it's never happened to me.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/76672840/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/76673783",
    "html_url": "https://github.com/rust-lang/rust/issues/6518#issuecomment-76673783",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6518",
    "id": 76673783,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2NjczNzgz",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-02T08:26:28Z",
    "updated_at": "2015-03-02T08:26:44Z",
    "body": "> I wonder if we could have rustc record the \"source-file-reading time\" in the files it generates, and have it later check against that? Seems like you'd need to hack around 'make' though.\n\nYou can pass explicit timestamps to the `touch` program, at least the version on my machine.  So it seems like we could grab one timestamp at the outset of running make, and use that for all the stamps we generate.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/76673783/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/76901168",
    "html_url": "https://github.com/rust-lang/rust/issues/6518#issuecomment-76901168",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6518",
    "id": 76901168,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2OTAxMTY4",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-03T07:49:14Z",
    "updated_at": "2015-03-03T07:49:14Z",
    "body": ">  So it seems like we could grab one timestamp at the outset of running make, and use that for all the stamps we generate.\n\nOr better still, grab a separate timestamp at each point that we invoke `rustc` and subsequently touch an associated stamp file.  This is probably the most robust approach.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/76901168/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
