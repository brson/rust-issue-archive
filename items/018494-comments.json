[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/61315643",
    "html_url": "https://github.com/rust-lang/rust/pull/18494#issuecomment-61315643",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18494",
    "id": 61315643,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxMzE1NjQz",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-10-31T19:21:37Z",
    "updated_at": "2014-10-31T19:21:37Z",
    "body": "@aturon actually this patch is more specialization-friendly than before, but yes.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/61315643/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/61396228",
    "html_url": "https://github.com/rust-lang/rust/pull/18494#issuecomment-61396228",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18494",
    "id": 61396228,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxMzk2MjI4",
    "user": {
      "login": "carllerche",
      "id": 6180,
      "node_id": "MDQ6VXNlcjYxODA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6180?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/carllerche",
      "html_url": "https://github.com/carllerche",
      "followers_url": "https://api.github.com/users/carllerche/followers",
      "following_url": "https://api.github.com/users/carllerche/following{/other_user}",
      "gists_url": "https://api.github.com/users/carllerche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/carllerche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/carllerche/subscriptions",
      "organizations_url": "https://api.github.com/users/carllerche/orgs",
      "repos_url": "https://api.github.com/users/carllerche/repos",
      "events_url": "https://api.github.com/users/carllerche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/carllerche/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-02T06:43:14Z",
    "updated_at": "2014-11-02T06:43:25Z",
    "body": "I tried out this patch, but it didn't seem to fix the following case. I am not 100% sure this is the same issue, if it is not, feel free to open a new ticket.\n\n``` rust\n#![feature(unboxed_closures)]\n#![feature(overloaded_calls)]\n\ntrait Callback<S, V> {\n    fn invoke(self, s: S, v: V);\n}\n\nimpl<S, V, F: FnOnce(V)> Callback<S, V> for F {\n    fn invoke(self, _: S, v: V) {\n        self.call_once((v,));\n    }\n}\n\nimpl<S, V> Callback<S, V> for fn(S, V) {\n    fn invoke(self, s: S, v: V) {\n        self(s, v);\n    }\n}\n\nfn invoke<S, V, F: Callback<S, V>>(s: S, v: V, f: F) {\n    f.invoke(s, v);\n}\n\nstruct Foo {\n    val: uint,\n}\n\nimpl Foo {\n    fn action(&self) {\n        invoke(self, \"zomg\", move |:val| println!(\"val: {}\", val));\n        invoke(self, \"hi2u\", Foo::callback);\n    }\n\n    fn callback(&self, val: &'static str) {\n        println!(\"self: {}; val={}\", self.val, val);\n    }\n}\n\npub fn main() {\n    let f = Foo { val: 123u };\n    f.action();\n}\n```\n\noutput:\n\n```\n$ rustc callback.rs\ncallback.rs:31:9: 31:15 error: the trait `core::ops::FnOnce<(&str,), ()>` is not implemented for the type `fn(&Foo, &str)`\ncallback.rs:31         invoke(self, \"hi2u\", Foo::callback);\n                       ^~~~~~\ncallback.rs:31:9: 31:15 note: the trait `core::ops::FnOnce` must be implemented because it is required by `invoke`\ncallback.rs:31         invoke(self, \"hi2u\", Foo::callback);\n                       ^~~~~~\nerror: aborting due to previous error\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/61396228/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/61417542",
    "html_url": "https://github.com/rust-lang/rust/pull/18494#issuecomment-61417542",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18494",
    "id": 61417542,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNDE3NTQy",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-02T18:29:47Z",
    "updated_at": "2014-11-02T18:29:47Z",
    "body": "@carllerche I think that will be fixed by PR https://github.com/rust-lang/rust/pull/18388 -- which failed to land for some reason I have yet to investigate.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/61417542/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
