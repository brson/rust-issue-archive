[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/12398549",
    "html_url": "https://github.com/rust-lang/rust/issues/4456#issuecomment-12398549",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/4456",
    "id": 12398549,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyMzk4NTQ5",
    "user": {
      "login": "catamorphism",
      "id": 427212,
      "node_id": "MDQ6VXNlcjQyNzIxMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/427212?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/catamorphism",
      "html_url": "https://github.com/catamorphism",
      "followers_url": "https://api.github.com/users/catamorphism/followers",
      "following_url": "https://api.github.com/users/catamorphism/following{/other_user}",
      "gists_url": "https://api.github.com/users/catamorphism/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/catamorphism/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/catamorphism/subscriptions",
      "organizations_url": "https://api.github.com/users/catamorphism/orgs",
      "repos_url": "https://api.github.com/users/catamorphism/repos",
      "events_url": "https://api.github.com/users/catamorphism/events{/privacy}",
      "received_events_url": "https://api.github.com/users/catamorphism/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-01-17T23:56:33Z",
    "updated_at": "2013-01-17T23:56:33Z",
    "body": "I would hazard a guess that when the Rust compiler translates this code, it generates a cleanup for `outer` first, then for `inner`, so `outer`'s destructor runs first. I'm not sure what guarantees we make in our (hypothetical) semantics about destructor order. You could probably get the right behavior by naming the `Inner` struct and declaring it first. However, we should document the semantics more clearly.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/12398549/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/12405559",
    "html_url": "https://github.com/rust-lang/rust/issues/4456#issuecomment-12405559",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/4456",
    "id": 12405559,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNDA1NTU5",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-01-18T02:56:14Z",
    "updated_at": "2013-01-18T02:56:14Z",
    "body": "I'm pretty sure that destructors SHOULD run outside-in.  Otherwise the outer object would have access to the inner object _after_ its destructor had executed, which is not how things are supposed to work.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/12405559/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/12406366",
    "html_url": "https://github.com/rust-lang/rust/issues/4456#issuecomment-12406366",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/4456",
    "id": 12406366,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNDA2MzY2",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-01-18T03:35:48Z",
    "updated_at": "2013-01-18T03:35:48Z",
    "body": "Just for reference, this C++ program:\n\n```\n#include <stdio.h>\n\nclass Inner {\n  public:\n  ~Inner() { printf(\"Inner\\n\"); }\n};\n\nclass Outer {\n  public:\n  Inner c;\n  ~Outer() { printf(\"Outer\\n\"); }\n};\n\nint main() {\n  Outer outer;\n  return 0;\n}\n```\n\nprints outer then inner, just as Rust does.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/12406366/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/12410803",
    "html_url": "https://github.com/rust-lang/rust/issues/4456#issuecomment-12410803",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/4456",
    "id": 12410803,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNDEwODAz",
    "user": {
      "login": "AngryLawyer",
      "id": 1378607,
      "node_id": "MDQ6VXNlcjEzNzg2MDc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1378607?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AngryLawyer",
      "html_url": "https://github.com/AngryLawyer",
      "followers_url": "https://api.github.com/users/AngryLawyer/followers",
      "following_url": "https://api.github.com/users/AngryLawyer/following{/other_user}",
      "gists_url": "https://api.github.com/users/AngryLawyer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AngryLawyer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AngryLawyer/subscriptions",
      "organizations_url": "https://api.github.com/users/AngryLawyer/orgs",
      "repos_url": "https://api.github.com/users/AngryLawyer/repos",
      "events_url": "https://api.github.com/users/AngryLawyer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AngryLawyer/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-01-18T07:41:16Z",
    "updated_at": "2013-01-18T07:41:16Z",
    "body": "Argh, I feel silly, the order seems obvious now! Thanks for clarifying thing, folks.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/12410803/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
