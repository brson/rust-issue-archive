[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23105170",
    "html_url": "https://github.com/rust-lang/rust/issues/7141#issuecomment-23105170",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/7141",
    "id": 23105170,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzMTA1MTcw",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-08-22T16:33:55Z",
    "updated_at": "2013-08-22T16:33:55Z",
    "body": "Visiting for bug triage, email from 2013-08-12\n@thestinger : My best guess is that you want a trait that provides something analogous to `operator new(size_t)` allocation static method in C++, and then when one uses the `~<expr>` or `@<expr>` forms, it would implicitly call out to the trait's implementation of that allocation method?  Can you confirm this, or provide more specific information on what you are proposing?\n\n(Thinking off the top of my head, the GC guy in me figures we might need or at least want to have two methods in the Trait, or via some other analogous manner provide information about whether the context of the invocation is `~` or `@`.)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23105170/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23153131",
    "html_url": "https://github.com/rust-lang/rust/issues/7141#issuecomment-23153131",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/7141",
    "id": 23153131,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzMTUzMTMx",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-08-23T09:35:20Z",
    "updated_at": "2013-08-23T09:35:20Z",
    "body": "Also, I think [pcwalton's blog post](http://pcwalton.github.io/blog/2013/06/02/removing-garbage-collection-from-the-rust-language/) and his plans for smart-pointers, moving GC to a library, etc, are relevant material here.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23153131/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/27449844",
    "html_url": "https://github.com/rust-lang/rust/issues/7141#issuecomment-27449844",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/7141",
    "id": 27449844,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3NDQ5ODQ0",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-10-30T23:42:53Z",
    "updated_at": "2013-10-30T23:42:53Z",
    "body": "Being able to override dereference is looking increasingly important as we jettison pointer types, and probably newtype dereferencing (#6246), from the language. Nominating.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/27449844/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/27453156",
    "html_url": "https://github.com/rust-lang/rust/issues/7141#issuecomment-27453156",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/7141",
    "id": 27453156,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3NDUzMTU2",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-10-31T00:49:09Z",
    "updated_at": "2013-10-31T00:49:09Z",
    "body": "cc me\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/27453156/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/27561199",
    "html_url": "https://github.com/rust-lang/rust/issues/7141#issuecomment-27561199",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/7141",
    "id": 27561199,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3NTYxMTk5",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-01T12:02:31Z",
    "updated_at": "2013-11-01T12:02:31Z",
    "body": "i'm not sure what I was thinking in my first comment above, since @thestinger is clearly talking about pointer-dereference, not memory allocation.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/27561199/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/27991801",
    "html_url": "https://github.com/rust-lang/rust/issues/7141#issuecomment-27991801",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/7141",
    "id": 27991801,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3OTkxODAx",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-07T18:19:19Z",
    "updated_at": "2013-11-07T18:19:19Z",
    "body": "accepted for 1.0 backcompat lang.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/27991801/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29048534",
    "html_url": "https://github.com/rust-lang/rust/issues/7141#issuecomment-29048534",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/7141",
    "id": 29048534,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5MDQ4NTM0",
    "user": {
      "login": "pcwalton",
      "id": 157897,
      "node_id": "MDQ6VXNlcjE1Nzg5Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/157897?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pcwalton",
      "html_url": "https://github.com/pcwalton",
      "followers_url": "https://api.github.com/users/pcwalton/followers",
      "following_url": "https://api.github.com/users/pcwalton/following{/other_user}",
      "gists_url": "https://api.github.com/users/pcwalton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pcwalton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pcwalton/subscriptions",
      "organizations_url": "https://api.github.com/users/pcwalton/orgs",
      "repos_url": "https://api.github.com/users/pcwalton/repos",
      "events_url": "https://api.github.com/users/pcwalton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pcwalton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-22T04:40:42Z",
    "updated_at": "2013-11-22T04:40:42Z",
    "body": "Nominating as I believe this is out of scope for 1.0. We can just special case `GC`.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29048534/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29048631",
    "html_url": "https://github.com/rust-lang/rust/issues/7141#issuecomment-29048631",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/7141",
    "id": 29048631,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5MDQ4NjMx",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-22T04:43:43Z",
    "updated_at": "2013-11-22T04:43:43Z",
    "body": "What about `Rc`?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/29048631/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/30953115",
    "html_url": "https://github.com/rust-lang/rust/issues/7141#issuecomment-30953115",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/7141",
    "id": 30953115,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwOTUzMTE1",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-12-19T18:30:05Z",
    "updated_at": "2013-12-19T18:30:05Z",
    "body": "deferring decision about any change in p-status for this bug until we can meet with pcwalton\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/30953115/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/31959864",
    "html_url": "https://github.com/rust-lang/rust/issues/7141#issuecomment-31959864",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/7141",
    "id": 31959864,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxOTU5ODY0",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-01-09T18:09:56Z",
    "updated_at": "2014-01-09T18:09:56Z",
    "body": "leaving on 1.0 for now.  (If later work with box construct proves it to be unneeded, we'll remove it then.)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/31959864/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/35017113",
    "html_url": "https://github.com/rust-lang/rust/issues/7141#issuecomment-35017113",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/7141",
    "id": 35017113,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MDE3MTEz",
    "user": {
      "login": "larsbergstrom",
      "id": 475847,
      "node_id": "MDQ6VXNlcjQ3NTg0Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/475847?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/larsbergstrom",
      "html_url": "https://github.com/larsbergstrom",
      "followers_url": "https://api.github.com/users/larsbergstrom/followers",
      "following_url": "https://api.github.com/users/larsbergstrom/following{/other_user}",
      "gists_url": "https://api.github.com/users/larsbergstrom/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/larsbergstrom/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/larsbergstrom/subscriptions",
      "organizations_url": "https://api.github.com/users/larsbergstrom/orgs",
      "repos_url": "https://api.github.com/users/larsbergstrom/repos",
      "events_url": "https://api.github.com/users/larsbergstrom/events{/privacy}",
      "received_events_url": "https://api.github.com/users/larsbergstrom/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-02-13T19:41:06Z",
    "updated_at": "2014-02-13T19:41:16Z",
    "body": "I'd love to see this for use in `Rc` and `Cell` \\ `RefCell` scenarios. We have code all over Servo post-`@mut` removal that looks like `source_frame.borrow().children.borrow_mut().get().mut_iter()` and reads much better as `source_frame.children.mut_iter()`.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/35017113/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/35076357",
    "html_url": "https://github.com/rust-lang/rust/issues/7141#issuecomment-35076357",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/7141",
    "id": 35076357,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MDc2MzU3",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-02-14T11:37:02Z",
    "updated_at": "2014-02-14T11:37:02Z",
    "body": "I've been wanting to write up something more detailed but failing, so let me sketch out the design I had in mind.\n\nBasically we had two traits:\n\n```\ntrait DerefImm<E> {\n    fn deref<'a>(&'a self) -> &'a E;\n}\n\ntrait DerefMut<E> : DerefImm<E> {\n    fn deref<'a>(&'a mut self) -> &'a mut E;\n}\n```\n\nThe structure of these traits encodes an \"inherited mutability\" like structure -- in other words, these traits can faithfully model `Rc<T>`, `Gc<T>`, and `~T` but not `&mut T` nor `RefCell<T>`, which each have their own complications.\n\nI don't intend to ever permit smart pointers that act like `&mut T`. Basically an `&mut T` is mutable if it's in a _unique_ location, whereas these smart pointers (like `~T`) are mutable if they are in a _mutable_ (note: implies unique) location. At worst this means smart pointers need an extra `mut` declaration.\n\n`RefCell<T>` we might like to support someday but I'm not sure. There is value in having the fallible borrows be highlighted. Note however that we _can_ use this trait for the `Ref` and `RefMut` types that `RefCell` returns (in fact, `RefMut` is a good example of a case where it might be nice to act like `&mut` but oh well).\n\nI think the implementation here has to go in two phases:\n1. Add support for explicit uses, e.g. `*x`, `&*x`, or `(*x).method()`. \n2. Add support for implicit autoderefs. This has additional complications I don't want to go into just yet since I don't have time.\n\nFor step 1, one challenge is that we have to instrument type check to pass down more context. In particular, to type check an expression, we have to know whether it is in a \"mutable lvalue\" context or not. For example, when we type check the expression `*E` in `&mut *E`, we will want to use the `DerefMut` trait. But if we type check the same `*E` in the context of `&*E` it will use the `DerefImm` trait.\n\nThe other challenge is that the trait returns a reference `&T`, but the \"type\" of `*E` is `T`. That means we need to insert an autoderef adjustment. Currently our system is geared to the idea that when we type check an expression there are no adjustments, and then the context may add adjustments. In this case, the type check of the expression itself would insert an adjustment. This means we have to modify the various routines in the function context to take into account the possible presence of an adjustment:\n- `write_autoderef_adjustment()`\n- `write_adjustment()`\n- `expr_ty()` probably wants to return the adjusted type (and maybe to be renamed to reflect that)\n\nThe adjustment data structure itself could be refactored to make this nicer (into something more layerable, like a cons list of adjustments), but I'd hold off on that since it's adequate for the current purpose.\n\nOK, that's a high-level sketch, happy to provide more details on request.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/35076357/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/35076403",
    "html_url": "https://github.com/rust-lang/rust/issues/7141#issuecomment-35076403",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/7141",
    "id": 35076403,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MDc2NDAz",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-02-14T11:37:40Z",
    "updated_at": "2014-02-14T11:37:40Z",
    "body": "(And I do plan to write up a proper RFC with more details and examples... but I'm working on several of those)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/35076403/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/35076594",
    "html_url": "https://github.com/rust-lang/rust/issues/7141#issuecomment-35076594",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/7141",
    "id": 35076594,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MDc2NTk0",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-02-14T11:40:44Z",
    "updated_at": "2014-02-14T11:40:44Z",
    "body": "Ah, one other comment: I have intentionally not provided a way to move out of a `Smaht<T>`. This is tricky because you want to invalidate the pointer iff `T` is POD, and there's not a good way to write that in a trait. Perhaps it's better to have a separate trait not tied to an operator with a method like `get()`. This (might) also imply that we do not permit moves out of `~`, preferring the trait version -- or else we make `~` just a little sweeter than a smart pointer can be, just as `&mut` is just a little sweeter. I'm basically fine with either path.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/35076594/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/35077486",
    "html_url": "https://github.com/rust-lang/rust/issues/7141#issuecomment-35077486",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/7141",
    "id": 35077486,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MDc3NDg2",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-02-14T11:56:09Z",
    "updated_at": "2014-02-14T11:56:09Z",
    "body": "Actually, thinking more, I think it's plausible to support an additional trait:\n\n```\ntrait DerefMove<E> : DerefImm<E> {\n    fn deref_copy(&self) -> E;\n}\n```\n\nBut it should be added as a later step, because there are some significant complications (actually similar to support auto-deref). Basically we have to first type one way (assuming no move, most likely) and then go back and patch things up once we know the type of `E`, which may impact how other expressions are typed. This is going to take a bit of work to figure out the most elegant way to implement -- I'm envisioning some kind of \"prospective\" vtable resolution.\n\nNote that I've been careful to ensure that, if you implement `DerefImm<E>`, all other deref traits deref to the same type `E` (though I'm vaguely worried about variance; but I think it works out ok, since even if you implemented `DerefMove` for a type `F <: E`, we'd just wind up typing the expression as `E` which is a valid typing).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/35077486/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/35079945",
    "html_url": "https://github.com/rust-lang/rust/issues/7141#issuecomment-35079945",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/7141",
    "id": 35079945,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MDc5OTQ1",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-02-14T12:40:35Z",
    "updated_at": "2014-02-14T12:41:54Z",
    "body": "@nikomatsakis wrote:\n\n> I don't intend to ever permit smart pointers that act like &mut T. Basically an &mut T is mutable if it's in a unique location, whereas these smart pointers (like ~T) are mutable if they are in a mutable (note: implies unique) location. At worst this means smart pointers need an extra mut declaration.\n\nWe used to have `@mut T`, and that was one way to hold a mutable reference within an otherwise immutable structure.  I take it that we would not be able to support whatever replaces `@mut T` as a first-class smart-pointer, at least not under the policy you describe above.  (Maybe that is exactly what you were talking about when you said \"RefCell<T> we might like to support someday but I'm not sure\" ?  Just checking my understanding.)\n\n(edit: I mean \"first-class smart pointer\" in the sense that one could do `fn foo(x: ~@mut int) { **x = 3; }`)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/35079945/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/35081944",
    "html_url": "https://github.com/rust-lang/rust/issues/7141#issuecomment-35081944",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/7141",
    "id": 35081944,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MDgxOTQ0",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-02-14T13:13:35Z",
    "updated_at": "2014-02-14T13:13:35Z",
    "body": "Right, the official way to do @mut is a refcell in a gc pointer. It won't be as seamless as @mut was but that it at least partially considered to be a feature.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/35081944/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/35194023",
    "html_url": "https://github.com/rust-lang/rust/issues/7141#issuecomment-35194023",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/7141",
    "id": 35194023,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MTk0MDIz",
    "user": {
      "login": "glaebhoerl",
      "id": 1216629,
      "node_id": "MDQ6VXNlcjEyMTY2Mjk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1216629?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/glaebhoerl",
      "html_url": "https://github.com/glaebhoerl",
      "followers_url": "https://api.github.com/users/glaebhoerl/followers",
      "following_url": "https://api.github.com/users/glaebhoerl/following{/other_user}",
      "gists_url": "https://api.github.com/users/glaebhoerl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/glaebhoerl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/glaebhoerl/subscriptions",
      "organizations_url": "https://api.github.com/users/glaebhoerl/orgs",
      "repos_url": "https://api.github.com/users/glaebhoerl/repos",
      "events_url": "https://api.github.com/users/glaebhoerl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/glaebhoerl/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-02-16T11:04:39Z",
    "updated_at": "2014-02-16T11:04:39Z",
    "body": "@nikomatsakis:\n\n>  I have intentionally not provided a way to move out of a `Smaht<T>`. This is tricky because you want to invalidate the pointer iff `T` is POD\n\nDid you mean \"isn't\"? (I hope so, otherwise I understand nothing.) \n\nIf you wanted to copy out a POD type wouldn't `DerefImm` suffice? \n\n> ```\n> trait DerefMove<E> : DerefImm<E> {\n>     fn deref_copy(&self) -> E;\n> }\n> ```\n\nI also don't quite grok this... was this meant to be called `DerefCopy` rather than `DerefMove`, with the intention that it would only be implemented for `E: Pod` types? (If it's actually for moving something out, then the types don't seem very appropriate.)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/35194023/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/35434145",
    "html_url": "https://github.com/rust-lang/rust/issues/7141#issuecomment-35434145",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/7141",
    "id": 35434145,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NDM0MTQ1",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-02-18T21:08:31Z",
    "updated_at": "2014-02-18T21:08:31Z",
    "body": "@glaebhoerl indeed, I meant isn't, and I think the `DerefMove` trait I had in mind was rather something like:\n\n```\ntrait DerefMove<E> : DerefImm<E> {\n    fn deref_move(self) -> E;\n}\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/35434145/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
