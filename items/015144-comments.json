[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46970594",
    "html_url": "https://github.com/rust-lang/rust/issues/15144#issuecomment-46970594",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15144",
    "id": 46970594,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2OTcwNTk0",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-06-24T13:31:43Z",
    "updated_at": "2014-06-24T13:31:43Z",
    "body": "cc @pnkfelix \n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46970594/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/68496805",
    "html_url": "https://github.com/rust-lang/rust/issues/15144#issuecomment-68496805",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15144",
    "id": 68496805,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4NDk2ODA1",
    "user": {
      "login": "frewsxcv",
      "id": 416575,
      "node_id": "MDQ6VXNlcjQxNjU3NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/416575?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/frewsxcv",
      "html_url": "https://github.com/frewsxcv",
      "followers_url": "https://api.github.com/users/frewsxcv/followers",
      "following_url": "https://api.github.com/users/frewsxcv/following{/other_user}",
      "gists_url": "https://api.github.com/users/frewsxcv/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/frewsxcv/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/frewsxcv/subscriptions",
      "organizations_url": "https://api.github.com/users/frewsxcv/orgs",
      "repos_url": "https://api.github.com/users/frewsxcv/repos",
      "events_url": "https://api.github.com/users/frewsxcv/events{/privacy}",
      "received_events_url": "https://api.github.com/users/frewsxcv/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-01T20:14:48Z",
    "updated_at": "2015-01-01T20:14:48Z",
    "body": "A brief update: attempting to compile the first code block now results in this error:\n\n``` rust\ntest.rs:25:21: 25:29 error: cannot infer an appropriate lifetime for borrow expression due to conflicting requirements\ntest.rs:25         bar.set_foo(&mut foo);\n                               ^~~~~~~~\ntest.rs:21:1: 27:2 help: consider using an explicit lifetime parameter as shown: fn main<'a>()\ntest.rs:21 fn main() {\ntest.rs:22     let mut foo = Foo { n : 4 };\ntest.rs:23\ntest.rs:24     with_bar(|bar: &mut Bar| {\ntest.rs:25         bar.set_foo(&mut foo);\ntest.rs:26     });\n           ...\nerror: aborting due to previous error\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/68496805/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/192341773",
    "html_url": "https://github.com/rust-lang/rust/issues/15144#issuecomment-192341773",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15144",
    "id": 192341773,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE5MjM0MTc3Mw==",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-03-04T16:22:04Z",
    "updated_at": "2016-03-04T16:22:04Z",
    "body": "Triage: I _think_ that I've properly updated this code?\n\n``` rust\nstruct Foo {\n    n : i32\n}\n\nstruct Bar<'a> {\n    n : i32,\n    other : Option<&'a mut Foo>\n}\n\nimpl<'a> Bar<'a> {\n    fn set_foo(&mut self, foo : &'a mut Foo){\n        self.other = Some(foo);\n    }\n}\n\nfn with_bar<F>(func : F) where F: Fn(&mut Bar) {\n    let mut bar = Bar { n : 1, other : None };\n    func(&mut bar)\n}\n\nfn main() {\n    let mut foo = Foo { n : 4 };\n\n    with_bar(|bar: &mut Bar| {\n        bar.set_foo(&mut foo);\n    });\n}\n```\n\nit still errors with\n\n```\nfoo.rs:25:21: 25:29 error: cannot infer an appropriate lifetime for borrow expression due to conflicting requirements [E0495]\nfoo.rs:25         bar.set_foo(&mut foo);\n                              ^~~~~~~~\nfoo.rs:24:30: 26:6 note: first, the lifetime cannot outlive the lifetime  as defined on the block at 24:29...\nfoo.rs:24     with_bar(|bar: &mut Bar| {\nfoo.rs:25         bar.set_foo(&mut foo);\nfoo.rs:26     });\nfoo.rs:25:21: 25:29 note: ...so that closure can access `foo`\nfoo.rs:25         bar.set_foo(&mut foo);\n                              ^~~~~~~~\nfoo.rs:24:30: 26:6 note: but, the lifetime must be valid for the anonymous lifetime #2 defined on the block at 24:29...\nfoo.rs:24     with_bar(|bar: &mut Bar| {\nfoo.rs:25         bar.set_foo(&mut foo);\nfoo.rs:26     });\nfoo.rs:25:13: 25:20 note: ...so that types are compatible (expected `&mut Bar<'_>`, found `&mut Bar<'_>`)\nfoo.rs:25         bar.set_foo(&mut foo);\n                      ^~~~~~~\nerror: aborting due to previous error\n\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/192341773/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/424050531",
    "html_url": "https://github.com/rust-lang/rust/issues/15144#issuecomment-424050531",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15144",
    "id": 424050531,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyNDA1MDUzMQ==",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-09-24T17:05:51Z",
    "updated_at": "2018-09-24T17:05:51Z",
    "body": "Today, this gives\r\n\r\n```text\r\n> cargo +nightly build\r\n   Compiling foo v0.1.0 (C:\\Users\\Steve Klabnik\\tmp\\foo)\r\nerror[E0495]: cannot infer an appropriate lifetime for borrow expression due to conflicting requirements\r\n  --> src\\lib.rs:25:21\r\n   |\r\n25 |         bar.set_foo(&mut foo);\r\n   |                     ^^^^^^^^\r\n   |\r\nnote: first, the lifetime cannot outlive the lifetime  as defined on the body at 24:14...\r\n  --> src\\lib.rs:24:14\r\n   |\r\n24 |     with_bar(|bar: &mut Bar| {\r\n   |              ^^^^^^^^^^^^^^^\r\nnote: ...so that closure can access `foo`\r\n  --> src\\lib.rs:25:21\r\n   |\r\n25 |         bar.set_foo(&mut foo);\r\n   |                     ^^^^^^^^\r\nnote: but, the lifetime must be valid for the anonymous lifetime #3 defined on the body at 24:14...\r\n  --> src\\lib.rs:24:14\r\n   |\r\n24 |       with_bar(|bar: &mut Bar| {\r\n   |  ______________^\r\n25 | |         bar.set_foo(&mut foo);\r\n26 | |     });\r\n   | |_____^\r\n   = note: ...so that the types are compatible:\r\n           expected &mut Bar<'_>\r\n              found &mut Bar<'_>\r\n\r\n```\r\n\r\nI'm not sure if this is correct, or planned to change.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/424050531/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/526865298",
    "html_url": "https://github.com/rust-lang/rust/issues/15144#issuecomment-526865298",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15144",
    "id": 526865298,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyNjg2NTI5OA==",
    "user": {
      "login": "Mark-Simulacrum",
      "id": 5047365,
      "node_id": "MDQ6VXNlcjUwNDczNjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5047365?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Mark-Simulacrum",
      "html_url": "https://github.com/Mark-Simulacrum",
      "followers_url": "https://api.github.com/users/Mark-Simulacrum/followers",
      "following_url": "https://api.github.com/users/Mark-Simulacrum/following{/other_user}",
      "gists_url": "https://api.github.com/users/Mark-Simulacrum/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Mark-Simulacrum/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Mark-Simulacrum/subscriptions",
      "organizations_url": "https://api.github.com/users/Mark-Simulacrum/orgs",
      "repos_url": "https://api.github.com/users/Mark-Simulacrum/repos",
      "events_url": "https://api.github.com/users/Mark-Simulacrum/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Mark-Simulacrum/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2019-08-31T21:07:21Z",
    "updated_at": "2019-08-31T21:07:21Z",
    "body": "I feel like the borrow checker is doing what it's meant to here even if it's a bit unfortunate, as we're not actually providing the `&mut Foo` for long enough (e.g. Bar could be from some other place, potentially living longer than the Foo borrow we've provided). So closing.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/526865298/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
