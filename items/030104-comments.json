[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/184534101",
    "html_url": "https://github.com/rust-lang/rust/issues/30104#issuecomment-184534101",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30104",
    "id": 184534101,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4NDUzNDEwMQ==",
    "user": {
      "login": "jethrogb",
      "id": 1132307,
      "node_id": "MDQ6VXNlcjExMzIzMDc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1132307?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jethrogb",
      "html_url": "https://github.com/jethrogb",
      "followers_url": "https://api.github.com/users/jethrogb/followers",
      "following_url": "https://api.github.com/users/jethrogb/following{/other_user}",
      "gists_url": "https://api.github.com/users/jethrogb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jethrogb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jethrogb/subscriptions",
      "organizations_url": "https://api.github.com/users/jethrogb/orgs",
      "repos_url": "https://api.github.com/users/jethrogb/repos",
      "events_url": "https://api.github.com/users/jethrogb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jethrogb/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-02-16T06:02:09Z",
    "updated_at": "2016-02-16T06:02:09Z",
    "body": "#![feature(box_patterns)]\n\nbox pattern\n\nThere. Now other people can find this bug.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/184534101/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/223166451",
    "html_url": "https://github.com/rust-lang/rust/issues/30104#issuecomment-223166451",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30104",
    "id": 223166451,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMzE2NjQ1MQ==",
    "user": {
      "login": "aidanhs",
      "id": 1050652,
      "node_id": "MDQ6VXNlcjEwNTA2NTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1050652?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aidanhs",
      "html_url": "https://github.com/aidanhs",
      "followers_url": "https://api.github.com/users/aidanhs/followers",
      "following_url": "https://api.github.com/users/aidanhs/following{/other_user}",
      "gists_url": "https://api.github.com/users/aidanhs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aidanhs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aidanhs/subscriptions",
      "organizations_url": "https://api.github.com/users/aidanhs/orgs",
      "repos_url": "https://api.github.com/users/aidanhs/repos",
      "events_url": "https://api.github.com/users/aidanhs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aidanhs/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-06-02T00:43:14Z",
    "updated_at": "2016-06-02T00:43:14Z",
    "body": "More keywords: match, if let.\n(no, they don't work either)\n\nTwo workarounds are to either a) use `*&mut *x` or b) bring `std::ops::DerefMut` in and use `*x.deref_mut()`:\n\n```\nuse std::ops::DerefMut;\nfn main() {\n    let mut x = Box::new((1, 2));\n    { let (ref mut a, ref mut b) = *&mut *x; }\n    { let (ref mut a, ref mut b) = *x.deref_mut(); }\n}\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/223166451/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/340630024",
    "html_url": "https://github.com/rust-lang/rust/issues/30104#issuecomment-340630024",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30104",
    "id": 340630024,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0MDYzMDAyNA==",
    "user": {
      "login": "jonhoo",
      "id": 176295,
      "node_id": "MDQ6VXNlcjE3NjI5NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/176295?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonhoo",
      "html_url": "https://github.com/jonhoo",
      "followers_url": "https://api.github.com/users/jonhoo/followers",
      "following_url": "https://api.github.com/users/jonhoo/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonhoo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonhoo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonhoo/subscriptions",
      "organizations_url": "https://api.github.com/users/jonhoo/orgs",
      "repos_url": "https://api.github.com/users/jonhoo/repos",
      "events_url": "https://api.github.com/users/jonhoo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonhoo/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-10-31T01:09:11Z",
    "updated_at": "2017-10-31T01:09:11Z",
    "body": "Is this a dupe of #16223?",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/340630024/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/340639482",
    "html_url": "https://github.com/rust-lang/rust/issues/30104#issuecomment-340639482",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30104",
    "id": 340639482,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0MDYzOTQ4Mg==",
    "user": {
      "login": "Mark-Simulacrum",
      "id": 5047365,
      "node_id": "MDQ6VXNlcjUwNDczNjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5047365?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Mark-Simulacrum",
      "html_url": "https://github.com/Mark-Simulacrum",
      "followers_url": "https://api.github.com/users/Mark-Simulacrum/followers",
      "following_url": "https://api.github.com/users/Mark-Simulacrum/following{/other_user}",
      "gists_url": "https://api.github.com/users/Mark-Simulacrum/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Mark-Simulacrum/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Mark-Simulacrum/subscriptions",
      "organizations_url": "https://api.github.com/users/Mark-Simulacrum/orgs",
      "repos_url": "https://api.github.com/users/Mark-Simulacrum/repos",
      "events_url": "https://api.github.com/users/Mark-Simulacrum/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Mark-Simulacrum/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-10-31T02:15:28Z",
    "updated_at": "2017-10-31T02:15:28Z",
    "body": "I don't think so, but am uncertain. Might have the same underlying cause, though -- hard to tell.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/340639482/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/340713274",
    "html_url": "https://github.com/rust-lang/rust/issues/30104#issuecomment-340713274",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30104",
    "id": 340713274,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0MDcxMzI3NA==",
    "user": {
      "login": "arielb1",
      "id": 1830974,
      "node_id": "MDQ6VXNlcjE4MzA5NzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1830974?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/arielb1",
      "html_url": "https://github.com/arielb1",
      "followers_url": "https://api.github.com/users/arielb1/followers",
      "following_url": "https://api.github.com/users/arielb1/following{/other_user}",
      "gists_url": "https://api.github.com/users/arielb1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/arielb1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/arielb1/subscriptions",
      "organizations_url": "https://api.github.com/users/arielb1/orgs",
      "repos_url": "https://api.github.com/users/arielb1/repos",
      "events_url": "https://api.github.com/users/arielb1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/arielb1/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-10-31T09:55:24Z",
    "updated_at": "2017-10-31T09:55:33Z",
    "body": "This is as defined by RFC rust-lang/rfcs#130",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/340713274/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/340917806",
    "html_url": "https://github.com/rust-lang/rust/issues/30104#issuecomment-340917806",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30104",
    "id": 340917806,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0MDkxNzgwNg==",
    "user": {
      "login": "jethrogb",
      "id": 1132307,
      "node_id": "MDQ6VXNlcjExMzIzMDc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1132307?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jethrogb",
      "html_url": "https://github.com/jethrogb",
      "followers_url": "https://api.github.com/users/jethrogb/followers",
      "following_url": "https://api.github.com/users/jethrogb/following{/other_user}",
      "gists_url": "https://api.github.com/users/jethrogb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jethrogb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jethrogb/subscriptions",
      "organizations_url": "https://api.github.com/users/jethrogb/orgs",
      "repos_url": "https://api.github.com/users/jethrogb/repos",
      "events_url": "https://api.github.com/users/jethrogb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jethrogb/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-10-31T21:48:25Z",
    "updated_at": "2017-10-31T21:53:01Z",
    "body": "I don't fully understand it, but that RFC sounds like it was intended to make `Box` *more* like other types. This issue is pointing out a discrepancy between `Box` and other types.\r\n\r\ne.g., compare the code from the original issue with\r\n```rust\r\nfn push(mut node: ::std::cell::RefMut<(i32, i32)>) {\r\n    let (ref mut left, ref mut right) = *node;\r\n}\r\n```\r\n(compiles)\r\n\r\nThis sounds to me like `Box` is *still* getting special treatment and the RFC has not been fully implemented yet, therefore this issue should remain open.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/340917806/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/341080665",
    "html_url": "https://github.com/rust-lang/rust/issues/30104#issuecomment-341080665",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30104",
    "id": 341080665,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0MTA4MDY2NQ==",
    "user": {
      "login": "arielb1",
      "id": 1830974,
      "node_id": "MDQ6VXNlcjE4MzA5NzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1830974?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/arielb1",
      "html_url": "https://github.com/arielb1",
      "followers_url": "https://api.github.com/users/arielb1/followers",
      "following_url": "https://api.github.com/users/arielb1/following{/other_user}",
      "gists_url": "https://api.github.com/users/arielb1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/arielb1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/arielb1/subscriptions",
      "organizations_url": "https://api.github.com/users/arielb1/orgs",
      "repos_url": "https://api.github.com/users/arielb1/repos",
      "events_url": "https://api.github.com/users/arielb1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/arielb1/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-11-01T11:24:43Z",
    "updated_at": "2017-11-01T11:24:43Z",
    "body": "@jethrogb \r\n\r\nSo the RFC was just poorly-defined. I think the solution to mutating in `match` should be able to be extended to handle this.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/341080665/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/387537350",
    "html_url": "https://github.com/rust-lang/rust/issues/30104#issuecomment-387537350",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30104",
    "id": 387537350,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4NzUzNzM1MA==",
    "user": {
      "login": "shepmaster",
      "id": 174509,
      "node_id": "MDQ6VXNlcjE3NDUwOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/174509?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shepmaster",
      "html_url": "https://github.com/shepmaster",
      "followers_url": "https://api.github.com/users/shepmaster/followers",
      "following_url": "https://api.github.com/users/shepmaster/following{/other_user}",
      "gists_url": "https://api.github.com/users/shepmaster/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shepmaster/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shepmaster/subscriptions",
      "organizations_url": "https://api.github.com/users/shepmaster/orgs",
      "repos_url": "https://api.github.com/users/shepmaster/repos",
      "events_url": "https://api.github.com/users/shepmaster/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shepmaster/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-05-08T20:47:35Z",
    "updated_at": "2018-05-08T20:47:35Z",
    "body": "3 of these 4 cases fail with Rust 1.25.0. The good news is that *with NLL*, all 4 work! \ud83c\udf89 \r\n\r\n```rust\r\nuse std::ops::{Deref, DerefMut};\r\n\r\n// Fails\r\nfn smart_two_field(v: &mut Wrap<(i32, i32)>) {\r\n    let _a = &mut v.0;\r\n    let _b = &mut v.1;\r\n}\r\n\r\nfn smart_destructure(v: &mut Wrap<(i32, i32)>) {\r\n    let (ref mut _head, ref mut _tail) = **v;\r\n}\r\n\r\n// Fails\r\nfn box_two_field(v: &mut Box<(i32, i32)>) {\r\n    let _a = &mut v.0;\r\n    let _b = &mut v.1;\r\n}\r\n\r\n// Fails\r\nfn box_destructure(v: &mut Box<(i32, i32)>) {\r\n    let (ref mut _head, ref mut _tail) = **v;\r\n}\r\n\r\n// My own smart pointer\r\nstruct Wrap<T>(T);\r\n\r\nimpl<T> Deref for Wrap<T> {\r\n    type Target = T;\r\n    fn deref(&self) -> &T {\r\n        &self.0\r\n    }\r\n}\r\n\r\nimpl<T> DerefMut for Wrap<T> {\r\n    fn deref_mut(&mut self) -> &mut T {\r\n        &mut self.0\r\n    }\r\n}\r\n\r\nfn main() {}\r\n```",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/387537350/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
