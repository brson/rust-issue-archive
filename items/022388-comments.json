[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/74452598",
    "html_url": "https://github.com/rust-lang/rust/issues/22388#issuecomment-74452598",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/22388",
    "id": 74452598,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc0NDUyNTk4",
    "user": {
      "login": "japaric",
      "id": 5018213,
      "node_id": "MDQ6VXNlcjUwMTgyMTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5018213?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/japaric",
      "html_url": "https://github.com/japaric",
      "followers_url": "https://api.github.com/users/japaric/followers",
      "following_url": "https://api.github.com/users/japaric/following{/other_user}",
      "gists_url": "https://api.github.com/users/japaric/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/japaric/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/japaric/subscriptions",
      "organizations_url": "https://api.github.com/users/japaric/orgs",
      "repos_url": "https://api.github.com/users/japaric/repos",
      "events_url": "https://api.github.com/users/japaric/events{/privacy}",
      "received_events_url": "https://api.github.com/users/japaric/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-02-16T02:32:15Z",
    "updated_at": "2015-02-16T02:32:15Z",
    "body": "I think this is correct behaviour. Your blanket impl can conflict with any of the other blanket impl in libcore. For example, I could write a third crate like this:\n\n``` rust\n// this is a valid crate as per the current orphan check rules\nextern crate your;\n\nuse your::Foo;\n\nstruct Mine;\n\nimpl Foo for *const Mine { .. }\n```\n\nAnd `*const Mine` will end with **two** `Debug` implementations, one from your crate because it implements `Foo`, and another from `core`'s `impl<T> Debug for *const T`. That's why the compiler rejects your blanket implementation.\n\nAlso, I'd advise against using `#[old_orphan_check]`/`#[old_impl_check]` to bypass this check, as those \"features\" will de removed soon-ish.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/74452598/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/74457203",
    "html_url": "https://github.com/rust-lang/rust/issues/22388#issuecomment-74457203",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/22388",
    "id": 74457203,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc0NDU3MjAz",
    "user": {
      "login": "cjsut",
      "id": 4030926,
      "node_id": "MDQ6VXNlcjQwMzA5MjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4030926?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cjsut",
      "html_url": "https://github.com/cjsut",
      "followers_url": "https://api.github.com/users/cjsut/followers",
      "following_url": "https://api.github.com/users/cjsut/following{/other_user}",
      "gists_url": "https://api.github.com/users/cjsut/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cjsut/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cjsut/subscriptions",
      "organizations_url": "https://api.github.com/users/cjsut/orgs",
      "repos_url": "https://api.github.com/users/cjsut/repos",
      "events_url": "https://api.github.com/users/cjsut/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cjsut/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-02-16T03:57:17Z",
    "updated_at": "2015-02-16T03:57:17Z",
    "body": "> I think this is correct behaviour.\n\nPlease at least read the entirety of the reduced-case example provided (and ideally [try compiling it](http://is.gd/wjnioU)); it includes comments that explain what happens and why it is a bug.  To rehash:\n\nUnless `where T: Foo` is **not**  a clause that constrains type parameter `T` by local type `Foo`, this error\n\n```\nexample.rs:60:1: 64:2 error: type parameter `T` is not constrained by any local type; only traits defined in the current crate can be implemented for a type parameter [E0210]\nexample.rs:60 impl<T> fmt::Debug for T where T: Foo {\nexample.rs:61     fn fmt(&self, f: &mut fmt::Formatter) -> fmt::Result {\nexample.rs:62         write!(f, \"{}\", self.foo())\nexample.rs:63     }\nexample.rs:64 }\n```\n\nis half wrong; the second half is correct, but that's no saving grace.  Additionally, the suggested workaround\n\n```\nexample.rs:60:1: 64:2 note: for a limited time, you can add `#![feature(old_orphan_check)]` to your crate to disable this rule\nexample.rs:60 impl<T> fmt::Debug for T where T: Foo {\nexample.rs:61     fn fmt(&self, f: &mut fmt::Formatter) -> fmt::Result {\nexample.rs:62         write!(f, \"{}\", self.foo())\nexample.rs:63     }\nexample.rs:64 }\n```\n\ndoes absolutely nothing aside from producing warnings about that deprecated feature.  You can check with [this playpen](http://is.gd/wjnioU).\n\n> Your blanket impl can conflict with any of the other blanket impl in libcore.\n\nWell, yes, rustc tried to tell me that:\n\n```\nexample.rs:60:1: 64:2 error: conflicting implementations for trait `core::fmt::Debug` [E0119]\nexample.rs:60 impl<T> fmt::Debug for T where T: Foo {\nexample.rs:61     fn fmt(&self, f: &mut fmt::Formatter) -> fmt::Result {\nexample.rs:62         write!(f, \"{}\", self.foo())\nexample.rs:63     }\nexample.rs:64 }\nexample.rs:60:1: 64:2 note: conflicting implementation in crate `core`\nexample.rs:60 impl<T> fmt::Debug for T where T: Foo {\nexample.rs:61     fn fmt(&self, f: &mut fmt::Formatter) -> fmt::Result {\nexample.rs:62         write!(f, \"{}\", self.foo())\nexample.rs:63     }\nexample.rs:64 }\nerror: aborting due to 2 previous errors\n```\n\nbut like many programmers I focus on the first error I get.\n\n> Also, I'd advise against using #[old_orphan_check]/#[old_impl_check] to bypass this check, as those \"features\" will de removed soon-ish.\n\nI completely agree.  But the check _isn't_ bypassed.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/74457203/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/74457642",
    "html_url": "https://github.com/rust-lang/rust/issues/22388#issuecomment-74457642",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/22388",
    "id": 74457642,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc0NDU3NjQy",
    "user": {
      "login": "cjsut",
      "id": 4030926,
      "node_id": "MDQ6VXNlcjQwMzA5MjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4030926?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cjsut",
      "html_url": "https://github.com/cjsut",
      "followers_url": "https://api.github.com/users/cjsut/followers",
      "following_url": "https://api.github.com/users/cjsut/following{/other_user}",
      "gists_url": "https://api.github.com/users/cjsut/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cjsut/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cjsut/subscriptions",
      "organizations_url": "https://api.github.com/users/cjsut/orgs",
      "repos_url": "https://api.github.com/users/cjsut/repos",
      "events_url": "https://api.github.com/users/cjsut/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cjsut/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-02-16T04:05:55Z",
    "updated_at": "2015-02-16T04:05:55Z",
    "body": "RE: check not bypassed, the names you gave are correct and line 98 of `src/librustc_typeck/coherence/orphan.rs` needs to be modified (`s/feature(...)/.../`) to suggest the correct workaround.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/74457642/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/74459491",
    "html_url": "https://github.com/rust-lang/rust/issues/22388#issuecomment-74459491",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/22388",
    "id": 74459491,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc0NDU5NDkx",
    "user": {
      "login": "japaric",
      "id": 5018213,
      "node_id": "MDQ6VXNlcjUwMTgyMTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5018213?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/japaric",
      "html_url": "https://github.com/japaric",
      "followers_url": "https://api.github.com/users/japaric/followers",
      "following_url": "https://api.github.com/users/japaric/following{/other_user}",
      "gists_url": "https://api.github.com/users/japaric/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/japaric/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/japaric/subscriptions",
      "organizations_url": "https://api.github.com/users/japaric/orgs",
      "repos_url": "https://api.github.com/users/japaric/repos",
      "events_url": "https://api.github.com/users/japaric/events{/privacy}",
      "received_events_url": "https://api.github.com/users/japaric/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-02-16T04:47:25Z",
    "updated_at": "2015-02-16T04:47:25Z",
    "body": "I apologize for not carefully reading your report! I do agree this is a _diagnostics_ bug. At first, I thought that you were reporting a bug in the coherence checker, my bad.\n\n> Unless where T: Foo is not a clause that constrains type parameter T by local type Foo\n\nIt's not, because `Foo` is a trait not a type.\n\nI do think that the error message could have been better worded as: \"type parameter `T` does not _contain_ any local type ...\", because a type parameter like `LocalType<T>` is correct.\n\n@nikomatsakis Do you think we could reword the message like that ^, or do you think it may not cover a case that's covered by the current message?\n\n> Additionally, the suggested workaround does absolutely nothing aside from producing warnings about that deprecated feature\n\nYes, I was going to mention that you need both the feature gate _and_ the attribute next to the item, but I really think that we shouldn't advise people to use that anymore as those attributes are going away soon.\n\n@nikomatsakis How would you feel about removing the \"note: workaround\" message as a preparatory step for the removal of `#[old_orphan_check]`/`#[old_impl_check]`? -  I really think we shouldn't advise people to use them anymore.\n\n(The \"note: conflicting\" message could have shown the actual conflicting implementations in libcore (there are several in this case) instead of showing some span in the current crate.)\n\n@insaneinside Please, do let me know if I missed anything else.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/74459491/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/74460792",
    "html_url": "https://github.com/rust-lang/rust/issues/22388#issuecomment-74460792",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/22388",
    "id": 74460792,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc0NDYwNzky",
    "user": {
      "login": "cjsut",
      "id": 4030926,
      "node_id": "MDQ6VXNlcjQwMzA5MjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4030926?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cjsut",
      "html_url": "https://github.com/cjsut",
      "followers_url": "https://api.github.com/users/cjsut/followers",
      "following_url": "https://api.github.com/users/cjsut/following{/other_user}",
      "gists_url": "https://api.github.com/users/cjsut/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cjsut/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cjsut/subscriptions",
      "organizations_url": "https://api.github.com/users/cjsut/orgs",
      "repos_url": "https://api.github.com/users/cjsut/repos",
      "events_url": "https://api.github.com/users/cjsut/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cjsut/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-02-16T05:12:29Z",
    "updated_at": "2015-02-16T05:12:29Z",
    "body": "@japaric Nope, nothing else missed.  Thanks for the quick reply!\nSome comments: \n\n> > Unless where T: Foo is not a clause that constrains type parameter T by local type Foo\n> \n> It's not, because Foo is a trait not a type.\n\nRust newbies like myself will find such a distinction confusing, since traits might seem type-like to those without much practice thinking about/with them.\n\nI'm not entirely sure of the meaning of \"constrained by\" here, but your suggested rewording makes me think of a _contained_ struct member.\nDoes either of\n\n> type parameter `T` does not take any concrete local type as a type parameter\n\nor\n\n> type parameter `T` is not used as a type parameter to any local generic type\n\nmatch the intended meaning?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/74460792/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/74533551",
    "html_url": "https://github.com/rust-lang/rust/issues/22388#issuecomment-74533551",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/22388",
    "id": 74533551,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc0NTMzNTUx",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-02-16T16:21:31Z",
    "updated_at": "2015-02-16T16:21:40Z",
    "body": "I agree the error message is poorly worded. The intention of the word \"constrained by\" was that it must be \"covered\" or \"underneath\" a local type. For example, `MyType<T>` is ok, but just `T` is not. It has nothing to do with the trait bounds at all. I'm not sure how best to phrase this, but on IRC @japaric and I considered:\n\n\"type parameter `T` must be used as the type parameter for some local type (e.g. `MyStruct<T>`)\"\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/74533551/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/74534347",
    "html_url": "https://github.com/rust-lang/rust/issues/22388#issuecomment-74534347",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/22388",
    "id": 74534347,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc0NTM0MzQ3",
    "user": {
      "login": "japaric",
      "id": 5018213,
      "node_id": "MDQ6VXNlcjUwMTgyMTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5018213?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/japaric",
      "html_url": "https://github.com/japaric",
      "followers_url": "https://api.github.com/users/japaric/followers",
      "following_url": "https://api.github.com/users/japaric/following{/other_user}",
      "gists_url": "https://api.github.com/users/japaric/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/japaric/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/japaric/subscriptions",
      "organizations_url": "https://api.github.com/users/japaric/orgs",
      "repos_url": "https://api.github.com/users/japaric/repos",
      "events_url": "https://api.github.com/users/japaric/events{/privacy}",
      "received_events_url": "https://api.github.com/users/japaric/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-02-16T16:26:48Z",
    "updated_at": "2015-02-16T16:26:48Z",
    "body": "We'll also remove the `#[old_orphan_check]`/`#[old_impl_check]` suggestions as I proposed above. I'll prepare a PR.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/74534347/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
