[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62221903",
    "html_url": "https://github.com/rust-lang/rust/pull/18750#issuecomment-62221903",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18750",
    "id": 62221903,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMjIxOTAz",
    "user": {
      "login": "sfackler",
      "id": 1455697,
      "node_id": "MDQ6VXNlcjE0NTU2OTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sfackler",
      "html_url": "https://github.com/sfackler",
      "followers_url": "https://api.github.com/users/sfackler/followers",
      "following_url": "https://api.github.com/users/sfackler/following{/other_user}",
      "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions",
      "organizations_url": "https://api.github.com/users/sfackler/orgs",
      "repos_url": "https://api.github.com/users/sfackler/repos",
      "events_url": "https://api.github.com/users/sfackler/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sfackler/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-07T22:02:04Z",
    "updated_at": "2014-11-07T22:02:04Z",
    "body": "Tidy error: https://travis-ci.org/rust-lang/rust/builds/40339122#L310\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62221903/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/237440414",
    "html_url": "https://github.com/rust-lang/rust/pull/18750#issuecomment-237440414",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18750",
    "id": 237440414,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzNzQ0MDQxNA==",
    "user": {
      "login": "mathstuf",
      "id": 97253,
      "node_id": "MDQ6VXNlcjk3MjUz",
      "avatar_url": "https://avatars.githubusercontent.com/u/97253?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mathstuf",
      "html_url": "https://github.com/mathstuf",
      "followers_url": "https://api.github.com/users/mathstuf/followers",
      "following_url": "https://api.github.com/users/mathstuf/following{/other_user}",
      "gists_url": "https://api.github.com/users/mathstuf/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mathstuf/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mathstuf/subscriptions",
      "organizations_url": "https://api.github.com/users/mathstuf/orgs",
      "repos_url": "https://api.github.com/users/mathstuf/repos",
      "events_url": "https://api.github.com/users/mathstuf/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mathstuf/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-08-04T03:07:54Z",
    "updated_at": "2016-08-04T03:07:54Z",
    "body": "Would it be possible to relax it such that if I have a reference to a trait, I can make a reference to the trait?\n\nExample:\n\n``` rust\ntrait T {\n    fn t(&self) -> &T {\n        &self\n    }\n}\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/237440414/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/241556760",
    "html_url": "https://github.com/rust-lang/rust/pull/18750#issuecomment-241556760",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18750",
    "id": 241556760,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0MTU1Njc2MA==",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-08-22T21:29:17Z",
    "updated_at": "2016-08-22T21:29:17Z",
    "body": "@mathstuf I'm afraid that is not possible, but you can do this:\n\n``` rust\ntrait T {\n    fn t(&self) -> &T where Self: Sized { &self }\n}\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/241556760/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/241559145",
    "html_url": "https://github.com/rust-lang/rust/pull/18750#issuecomment-241559145",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18750",
    "id": 241559145,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0MTU1OTE0NQ==",
    "user": {
      "login": "mathstuf",
      "id": 97253,
      "node_id": "MDQ6VXNlcjk3MjUz",
      "avatar_url": "https://avatars.githubusercontent.com/u/97253?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mathstuf",
      "html_url": "https://github.com/mathstuf",
      "followers_url": "https://api.github.com/users/mathstuf/followers",
      "following_url": "https://api.github.com/users/mathstuf/following{/other_user}",
      "gists_url": "https://api.github.com/users/mathstuf/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mathstuf/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mathstuf/subscriptions",
      "organizations_url": "https://api.github.com/users/mathstuf/orgs",
      "repos_url": "https://api.github.com/users/mathstuf/repos",
      "events_url": "https://api.github.com/users/mathstuf/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mathstuf/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-08-22T21:37:52Z",
    "updated_at": "2016-08-22T21:37:52Z",
    "body": "That comes up with this error:\n\n```\nerror[E0277]: the trait bound `&Self: T` is not satisfied\n --> <anon>:2:41\n  |\n2 |   fn t(&self) -> &T where Self: Sized { &self }\n  |                                         ^^^^^\n  |\n  = note: required for the cast to the object type `T`\n\nerror: aborting due to previous error\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/241559145/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/241560388",
    "html_url": "https://github.com/rust-lang/rust/pull/18750#issuecomment-241560388",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18750",
    "id": 241560388,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0MTU2MDM4OA==",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-08-22T21:42:47Z",
    "updated_at": "2016-08-22T21:42:47Z",
    "body": "@mathstuf sorry, my mistake, I didn't notice that you had written `&self`. Try this:\n\n```\ntrait T {\n    fn t(&self) -> &T where Self: Sized { self } // self, not &self\n}\n```\n\nIn particular, when you return `&self` you are trying to convert a `&&Self` pointer into an `&T` object, but you want to convert an `&Self` pointer into an `&T` object.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/241560388/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/241734242",
    "html_url": "https://github.com/rust-lang/rust/pull/18750#issuecomment-241734242",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18750",
    "id": 241734242,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0MTczNDI0Mg==",
    "user": {
      "login": "mathstuf",
      "id": 97253,
      "node_id": "MDQ6VXNlcjk3MjUz",
      "avatar_url": "https://avatars.githubusercontent.com/u/97253?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mathstuf",
      "html_url": "https://github.com/mathstuf",
      "followers_url": "https://api.github.com/users/mathstuf/followers",
      "following_url": "https://api.github.com/users/mathstuf/following{/other_user}",
      "gists_url": "https://api.github.com/users/mathstuf/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mathstuf/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mathstuf/subscriptions",
      "organizations_url": "https://api.github.com/users/mathstuf/orgs",
      "repos_url": "https://api.github.com/users/mathstuf/repos",
      "events_url": "https://api.github.com/users/mathstuf/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mathstuf/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-08-23T13:41:13Z",
    "updated_at": "2016-08-23T13:41:13Z",
    "body": "That doesn't work because I can't do this:\n\n``` rust\nlet my_t: &T = some_ref(s);\nmy.t(); // since `T` is just a reference, we don't have `Sized`\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/241734242/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/242206853",
    "html_url": "https://github.com/rust-lang/rust/pull/18750#issuecomment-242206853",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18750",
    "id": 242206853,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0MjIwNjg1Mw==",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-08-24T21:01:58Z",
    "updated_at": "2016-08-24T21:01:58Z",
    "body": "@mathstuf well, it depends on what you are trying to do =) I should have made it clear that what I wrote will allow you to make an object if you don't have one already, but it will fail if you _may_ have one already. If you want to support that, it's a bit more annoying. You basically need an operation that applies to the reference as a whole, I think:\n\n```\ntrait ToTObject<'a> {\n    fn to_object(self) -> &'a T;\n}\n\nimpl<'a> ToObject<'a> for &'a T {\n    fn to_object(self) -> &'a T { self }\n}\n\nimpl<'a,U: T> ToObject<'a> for &'a U {\n    fn to_object(self) -> &'a T { self }\n}\n```\n\nThe point here is that the first impl doesn't do any coercion (it already has an object), and the second impl does (it has a &U for some sized U). It'd be nice to make this smoother, no doubt.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/242206853/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/242242265",
    "html_url": "https://github.com/rust-lang/rust/pull/18750#issuecomment-242242265",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18750",
    "id": 242242265,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0MjI0MjI2NQ==",
    "user": {
      "login": "mathstuf",
      "id": 97253,
      "node_id": "MDQ6VXNlcjk3MjUz",
      "avatar_url": "https://avatars.githubusercontent.com/u/97253?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mathstuf",
      "html_url": "https://github.com/mathstuf",
      "followers_url": "https://api.github.com/users/mathstuf/followers",
      "following_url": "https://api.github.com/users/mathstuf/following{/other_user}",
      "gists_url": "https://api.github.com/users/mathstuf/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mathstuf/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mathstuf/subscriptions",
      "organizations_url": "https://api.github.com/users/mathstuf/orgs",
      "repos_url": "https://api.github.com/users/mathstuf/repos",
      "events_url": "https://api.github.com/users/mathstuf/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mathstuf/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-08-24T23:45:20Z",
    "updated_at": "2016-08-24T23:45:20Z",
    "body": "My current workaround is:\n\n``` rust\ntrait T {\n  fn t<'a>(&'a self) -> SomeStruct<'a> { SomeStruct { t: self._self_ref_hack() } }\n  fn _self_ref_hack(&self) -> &T;\n}\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/242242265/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
