[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/47981575",
    "html_url": "https://github.com/rust-lang/rust/issues/15381#issuecomment-47981575",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15381",
    "id": 47981575,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3OTgxNTc1",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-03T20:35:05Z",
    "updated_at": "2014-07-03T20:35:05Z",
    "body": "cc @nick29581, this seems to be triggering DST which I didn't think was enabled...\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/47981575/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/48517212",
    "html_url": "https://github.com/rust-lang/rust/issues/15381#issuecomment-48517212",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15381",
    "id": 48517212,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4NTE3MjEy",
    "user": {
      "login": "zsparal",
      "id": 2189776,
      "node_id": "MDQ6VXNlcjIxODk3NzY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2189776?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zsparal",
      "html_url": "https://github.com/zsparal",
      "followers_url": "https://api.github.com/users/zsparal/followers",
      "following_url": "https://api.github.com/users/zsparal/following{/other_user}",
      "gists_url": "https://api.github.com/users/zsparal/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zsparal/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zsparal/subscriptions",
      "organizations_url": "https://api.github.com/users/zsparal/orgs",
      "repos_url": "https://api.github.com/users/zsparal/repos",
      "events_url": "https://api.github.com/users/zsparal/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zsparal/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-09T18:46:31Z",
    "updated_at": "2014-07-09T18:46:31Z",
    "body": "The following code: \n\n```\npub struct Matrix {\n    data: [[int, ..2], ..2]\n}\n\nimpl Index<uint, [int, ..2]> for Matrix {\n    fn index<'a>(&'a self, index: &uint) -> &'a [int, ..2] {\n        &self.data[*index]\n    }\n}\n\nfn main() {\n    let m = Matrix {data: [[1, 0], [0, 1]]};\n    let e = m[0][0];    \n}\n```\n\nAlso triggers a similar compiler error: \n\n```\nrust_error.rs:13:13: 13:20 error: internal compiler error: Explicit index of non-index type `&Matrix`\nrust_error.rs:13     let e = m[0][0];\n                             ^~~~~~~\nnote: the compiler hit an unexpected failure path. this is a bug.\nnote: we would appreciate a bug report: http://doc.rust-lang.org/complement-bugreport.html\nnote: run with `RUST_BACKTRACE=1` for a backtrace\ntask 'rustc' failed at 'Box<Any>', C:\\bot\\slave\\nightly-win\\build\\src\\libsyntax\\diagnostic.rs:107\n```\n\nUnfortunately, I could not get the stack backtrace to print anything meaningful on Windows 8.1, if ran with RUST_BACKTRACE=1 the compiler outputs the following backtrace:\n\n```\nstack backtrace:\n   1: 0x6a18242a\n   2: 0x61f8893c\n   3:   0x6e28da\n   4:   0x6e2860\n   5: 0x70f7255a\n   6: 0x711eb8c5\n   7: 0x711ea8fe\n   8: 0x711d724b\n```\n\n```\nPlatform: Windows 8.1\n\n$ rustc -v\nrustc 0.11.0-nightly (1c711db551b9a5e56ba76e002e287dcfbb2cff3c 2014-07-09 00:36:40 +0000)\n```\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/48517212/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/57064656",
    "html_url": "https://github.com/rust-lang/rust/issues/15381#issuecomment-57064656",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15381",
    "id": 57064656,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3MDY0NjU2",
    "user": {
      "login": "flodiebold",
      "id": 906069,
      "node_id": "MDQ6VXNlcjkwNjA2OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/906069?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/flodiebold",
      "html_url": "https://github.com/flodiebold",
      "followers_url": "https://api.github.com/users/flodiebold/followers",
      "following_url": "https://api.github.com/users/flodiebold/following{/other_user}",
      "gists_url": "https://api.github.com/users/flodiebold/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/flodiebold/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/flodiebold/subscriptions",
      "organizations_url": "https://api.github.com/users/flodiebold/orgs",
      "repos_url": "https://api.github.com/users/flodiebold/repos",
      "events_url": "https://api.github.com/users/flodiebold/events{/privacy}",
      "received_events_url": "https://api.github.com/users/flodiebold/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-09-27T20:27:11Z",
    "updated_at": "2014-09-27T20:27:11Z",
    "body": "I've also encountered this error message, with the following (simplified) code: \n\n```\npub struct It;\n\nimpl Iterator<[uint, ..3]> for It {\n    fn next(&mut self) -> Option<[uint, ..3]> {\n        None\n    }\n}\n\nfn main() {\n    for [x, y, z] in It {\n    }\n}\n```\n\nResulting in:\n\n```\n~/Projekte$ RUST_BACKTRACE=1 rustc rust-bug.rs                                                              101 \u21b5 \nrust-bug.rs:10:9: 10:18 error: internal compiler error: Explicit index of non-index type `It`\nrust-bug.rs:10     for [x, y, z] in It {\n                       ^~~~~~~~~\nnote: the compiler hit an unexpected failure path. this is a bug.\nnote: we would appreciate a bug report: http://doc.rust-lang.org/complement-bugreport.html\nnote: run with `RUST_BACKTRACE=1` for a backtrace\ntask 'rustc' failed at 'Box<Any>', /home/rustbuild/src/rust-buildbot/slave/nightly-linux/build/src/libsyntax/diagnostic.rs:113\n\nstack backtrace:\n   1:     0x7fc16f9208d0 - rt::backtrace::imp::write::h9a97349a494f89bePUq\n   2:     0x7fc16f923a90 - failure::on_fail::hb11547504289a1ffhgr\n   3:     0x7fc1700f22d0 - unwind::begin_unwind_inner::h5df2dc6f14b19f71MTd\n   4:     0x7fc16e3b8620 - unwind::begin_unwind::h1365354703164647196\n   5:     0x7fc16e3b85a0 - diagnostic::SpanHandler::span_bug::h810a8fac103d8c1cMhF\n   6:     0x7fc170697460 - driver::session::Session::span_bug::h976022b1a0303ee7m8w\n   7:     0x7fc170a13d20 - middle::mem_categorization::MemCategorizationContext<'t, TYPER>::cat_index::h6849561118867022794\n   8:     0x7fc170a12100 - middle::mem_categorization::MemCategorizationContext<'t, TYPER>::cat_pattern::h3339052091073497715\n   9:     0x7fc1709fa8e0 - middle::typeck::check::regionck::visit_expr::hd3c8b825c2773d621PM\n  10:     0x7fc1709f7a80 - middle::typeck::check::regionck::Rcx<'a, 'tcx>::visit_fn_body::hc777c8ab8612eedbyqM\n  11:     0x7fc1709f7990 - middle::typeck::check::regionck::regionck_fn::h83e3b6c2d3d53709tjM\n  12:     0x7fc170a3a130 - middle::typeck::check::check_bare_fn::hfebc4617d948ec12E8R\n  13:     0x7fc170a35ec0 - middle::typeck::check::check_item::h77a7f21c8a144855HAS\n  14:     0x7fc170a39be0 - middle::typeck::check::check_item_types::h697321cef90212deO7R\n  15:     0x7fc1704e85d0 - util::common::time::h18398786739644959194\n  16:     0x7fc170ce1010 - middle::typeck::check_crate::h63bb01e16b1996cd4Uj\n  17:     0x7fc170d4ab40 - driver::driver::phase_3_run_analysis_passes::h57b76357b4c15009Opw\n  18:     0x7fc170d46290 - driver::driver::compile_input::hc03497de7e6c909eL6v\n  19:     0x7fc170dc8360 - driver::run_compiler::h24a8daf18bbc3b70DWz\n  20:     0x7fc170dc8240 - driver::main_args::closure.146005\n  21:     0x7fc170501710 - task::TaskBuilder<S>::try_future::closure.101291\n  22:     0x7fc170501500 - task::TaskBuilder<S>::spawn_internal::closure.101262\n  23:     0x7fc1716d8650 - task::spawn_opts::closure.8491\n  24:     0x7fc170148480 - rust_try_inner\n  25:     0x7fc170148470 - rust_try\n  26:     0x7fc1700ef910 - unwind::try::h8c8d3e6eb0ca16a6uId\n  27:     0x7fc1700ef770 - task::Task::run::hfb873359c59e1424cYc\n  28:     0x7fc1716d83c0 - task::spawn_opts::closure.8431\n  29:     0x7fc1700f1360 - thread::thread_start::h2b0150e66287e12frid\n  30:     0x7fc16f3e7e70 - start_thread\n  31:     0x7fc16fdbac09 - clone\n  32:                0x0 - <unknown>\n```\n\nDoing the destructuring inside the for loop avoids the error.\nThis is on x86_64 Linux.\n\n```\n~/Projekte$ rustc -v                                                                                              \nrustc 0.12.0-nightly (d64b4103d 2014-09-26 21:47:47 +0000)\n```\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/57064656/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/58149397",
    "html_url": "https://github.com/rust-lang/rust/issues/15381#issuecomment-58149397",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15381",
    "id": 58149397,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4MTQ5Mzk3",
    "user": {
      "login": "kubkon",
      "id": 1519747,
      "node_id": "MDQ6VXNlcjE1MTk3NDc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1519747?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kubkon",
      "html_url": "https://github.com/kubkon",
      "followers_url": "https://api.github.com/users/kubkon/followers",
      "following_url": "https://api.github.com/users/kubkon/following{/other_user}",
      "gists_url": "https://api.github.com/users/kubkon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kubkon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kubkon/subscriptions",
      "organizations_url": "https://api.github.com/users/kubkon/orgs",
      "repos_url": "https://api.github.com/users/kubkon/repos",
      "events_url": "https://api.github.com/users/kubkon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kubkon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-10-07T07:57:15Z",
    "updated_at": "2014-10-07T07:57:15Z",
    "body": "I've encountered a similar error as well. The code:\n\n``` rust\nlet values: Vec<u8> = vec![1,2,3,4,5,6,7,8];\n\nfor [x,y,z] in values.as_slice().chunks(3).filter(|&xs| xs.len() == 3) {\n    println!(\"y={}\", y);\n}\n```\n\nThe error message with the backtrace:\n\n``` terminal\nslice_match.rs:4:9: 4:16 error: internal compiler error: Explicit index of non-index type `core::iter::Filter<'_,&[u8],core::slice::Chunks<'_,u8>>`\nslice_match.rs:4     for [x,y,z] in values.as_slice().chunks(3).filter(|&xs| xs.len() == 3) {\n                         ^~~~~~~\nnote: the compiler hit an unexpected failure path. this is a bug.\nnote: we would appreciate a bug report: http://doc.rust-lang.org/complement-bugreport.html\nnote: run with `RUST_BACKTRACE=1` for a backtrace\ntask 'rustc' failed at 'Box<Any>', /Users/rustbuild/src/rust-buildbot/slave/nightly-mac/build/src/libsyntax/diagnostic.rs:113\n\nstack backtrace:\n   1:        0x111c73269 - rt::backtrace::imp::write::he06af82d7d9ee38ecJq\n   2:        0x111c765a1 - failure::on_fail::h9e3a39356479ba70QZq\n   3:        0x111ef48e5 - unwind::begin_unwind_inner::h756181834df20b6dLud\n   4:        0x1113e3b97 - unwind::begin_unwind::h18322048352354653950\n   5:        0x1113e3b30 - unwind::begin_unwind::h18322048352354653950\n   6:        0x10ea73b6d - driver::session::Session::span_bug::h2c0f6016b5fa651cwtx\n   7:        0x10ede89fa - middle::mem_categorization::MemCategorizationContext<'t, TYPER>::cat_index::h13791422843569837526\n   8:        0x10ede728d - middle::mem_categorization::MemCategorizationContext<'t, TYPER>::cat_pattern::h13679513847658926920\n   9:        0x10edd10e8 - middle::typeck::check::regionck::visit_expr::h82e747716217ebf1GUM\n  10:        0x10edcc884 - middle::typeck::check::regionck::Rcx<'a, 'tcx>::visit_fn_body::h3ac342a98dca80f6dvM\n  11:        0x10edcbccd - middle::typeck::check::regionck::regionck_fn::h34dea5a76c44f2e38nM\n  12:        0x10ee0f292 - middle::typeck::check::check_bare_fn::h6db665b3affe0759ZhS\n  13:        0x10ee0b0b8 - middle::typeck::check::check_item::h82af91f6696c38872JS\n  14:        0x10ee0f0df - middle::typeck::check::check_item_types::h55796e1a31aa1c3c9gS\n  15:        0x10e8cc4b6 - util::common::time::h10131786875316863222\n  16:        0x10f0bfb6e - middle::typeck::check_crate::h95db7480b8900497Edk\n  17:        0x10f12967f - driver::driver::phase_3_run_analysis_passes::h8decd58d8d4c066eEKw\n  18:        0x10f124558 - driver::driver::compile_input::heb0d35abb1543609qrw\n  19:        0x10f1a3584 - driver::run_compiler::h420de67eacbe487cHhA\n  20:        0x10f1a1726 - driver::run::closure.146515\n  21:        0x10e8e4bfb - task::TaskBuilder<S>::try_future::closure.101324\n  22:        0x10e8e4af3 - task::TaskBuilder<S>::spawn_internal::closure.101295\n  23:        0x10e8616bd - task::spawn_opts::closure.8536\n  24:        0x111f579ec - rust_try_inner\n  25:        0x111f579d6 - rust_try\n  26:        0x111ef2157 - unwind::try::h6df6339e56c18041tjd\n  27:        0x111ef1fec - task::Task::run::hf7474df0e760efdfEzc\n  28:        0x10e861512 - task::spawn_opts::closure.8475\n  29:        0x111ef383a - thread::thread_start::h960eee62f4c643ffPTc\n  30:     0x7fff8e93a899 - _pthread_body\n  31:     0x7fff8e93a72a - _pthread_struct_init\n```\n\nI'm running OSX 10.9.5 with x86_64 architecture.\n\nRust version:\n\n``` terminal\nrustc 0.12.0-nightly (dc987adfc 2014-10-04 23:42:07 +0000)\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/58149397/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
