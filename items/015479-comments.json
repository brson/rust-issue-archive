[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/94589617",
    "html_url": "https://github.com/rust-lang/rust/issues/15479#issuecomment-94589617",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15479",
    "id": 94589617,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk0NTg5NjE3",
    "user": {
      "login": "nham",
      "id": 546409,
      "node_id": "MDQ6VXNlcjU0NjQwOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/546409?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nham",
      "html_url": "https://github.com/nham",
      "followers_url": "https://api.github.com/users/nham/followers",
      "following_url": "https://api.github.com/users/nham/following{/other_user}",
      "gists_url": "https://api.github.com/users/nham/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nham/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nham/subscriptions",
      "organizations_url": "https://api.github.com/users/nham/orgs",
      "repos_url": "https://api.github.com/users/nham/repos",
      "events_url": "https://api.github.com/users/nham/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nham/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-20T23:09:57Z",
    "updated_at": "2015-04-20T23:09:57Z",
    "body": "I made an attempt at reproducing this. Here is the updated code:\n\n```\nuse std::string::String;\n\n#[derive(Clone)]\nstruct Foo {\n a: String,\n b: String,\n // Possibly some more fields here\n}\n\n#[derive(Clone)]\nstruct FooThing(Vec<Foo>);\n\nimpl FooThing {\n    fn filter(&mut self, bar: &Foo) {\n        // Oops. Shouldn't be a `ref` there\n        let FooThing(ref buf) = self.clone();\n\n        let new_buf: Vec<Foo> = buf.into_iter()\n                                   .filter(|f| f.a == bar.a && f.b == bar.b)\n                                   .collect();\n    }\n}\n\nfn main() {}\n```\n\nThis fails to compile now, but with this error:\n\n```\ntest_15479.rs:18:33: 18:36 error: cannot move out of borrowed content\ntest_15479.rs:18         let new_buf: Vec<Foo> = buf.into_iter()\n                                                 ^~~\nerror: aborting due to previous error\n```\n\n(Version is `rustc 1.0.0-nightly (07560d233 2015-04-20) (built 2015-04-20)`)\n\nThis appears to not have the problem described above.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/94589617/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/116811962",
    "html_url": "https://github.com/rust-lang/rust/issues/15479#issuecomment-116811962",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15479",
    "id": 116811962,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExNjgxMTk2Mg==",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-06-29T19:36:47Z",
    "updated_at": "2015-06-29T19:36:47Z",
    "body": "The error _now_ says that `error: the trait`core::iter::FromIterator<&Foo>`is not implemented for the type`collections::vec::Vec<Foo>`[E0277]`, so I think this is basically fixed. @Manishearth , if you can come up with a different reproduction of this squiggle being wrong, let me know.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/116811962/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
