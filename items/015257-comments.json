[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/47482059",
    "html_url": "https://github.com/rust-lang/rust/pull/15257#issuecomment-47482059",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15257",
    "id": 47482059,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3NDgyMDU5",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-06-29T23:12:02Z",
    "updated_at": "2014-06-29T23:12:02Z",
    "body": "I've been thinking of doing something like this for the facade to allow insertion of `HashMap` into `libcollections` instead of `libstd`.\n\nThe one final piece of the puzzle would be to parameterize `HashMap::new()`'s with `H: Default` rather than lock it down to `RandomizedSipHasher`. Would it be possible to add that as part of this commit as well? (it doesn't have to be done as part of this PR)\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/47482059/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/47484435",
    "html_url": "https://github.com/rust-lang/rust/pull/15257#issuecomment-47484435",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15257",
    "id": 47484435,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3NDg0NDM1",
    "user": {
      "login": "erickt",
      "id": 84711,
      "node_id": "MDQ6VXNlcjg0NzEx",
      "avatar_url": "https://avatars.githubusercontent.com/u/84711?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/erickt",
      "html_url": "https://github.com/erickt",
      "followers_url": "https://api.github.com/users/erickt/followers",
      "following_url": "https://api.github.com/users/erickt/following{/other_user}",
      "gists_url": "https://api.github.com/users/erickt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/erickt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/erickt/subscriptions",
      "organizations_url": "https://api.github.com/users/erickt/orgs",
      "repos_url": "https://api.github.com/users/erickt/repos",
      "events_url": "https://api.github.com/users/erickt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/erickt/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-06-29T23:56:41Z",
    "updated_at": "2014-06-29T23:56:41Z",
    "body": "I just tried that, and it's going to result is us having to explicitly declare hashmap types. For example this snippet needs an explicit type:\n\n```\npub fn require_unique_names(diagnostic: &SpanHandler, metas: &[Gc<MetaItem>]) {\n    let mut set: HashSet<InternedString> = HashSet::new();\n    for meta in metas.iter() {\n        let name = meta.name();\n\n        if !set.insert(name.clone()) {\n            diagnostic.span_fatal(meta.span,\n                                  format!(\"duplicate meta item `{}`\",\n                                          name).as_slice());\n        }\n    }\n}\n```\n\nWhich is a bit unfortunate. Would it be easier to have an explicit generic `HashMap` type in `libcollections`, and a thin wrapper for it in `libstd` that uses this randomized hasher? Although really the best option would be to allow `type HashMap<K, V> = collections::HashMap::<K, V, RandomizedSipHasher>` to pass static methods onto the type alias.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/47484435/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/47485058",
    "html_url": "https://github.com/rust-lang/rust/pull/15257#issuecomment-47485058",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15257",
    "id": 47485058,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3NDg1MDU4",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-06-30T00:07:54Z",
    "updated_at": "2014-06-30T00:07:54Z",
    "body": "Hm, that is indeed unfortunate. I was hoping for something like this:\n\n```\n// src/libstd/collections/hashmap.rs\npub type HashMap<K, V, H = RandomizedSipHasher> = core_collections::HashMap::<K, V, H>;\n```\n\nThe key part being that the `std::collections::HashMap` type still has overridable hashers without having to go through libcollections to get that.\n\nI suppose if you can define methods on type aliases it may work out as you could have `impl HashMap` in libstd with a `fn new`, but that's becoming quite a stretch. Sounds like there's definitely some more design work to do here.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/47485058/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/47534369",
    "html_url": "https://github.com/rust-lang/rust/pull/15257#issuecomment-47534369",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15257",
    "id": 47534369,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3NTM0MzY5",
    "user": {
      "login": "erickt",
      "id": 84711,
      "node_id": "MDQ6VXNlcjg0NzEx",
      "avatar_url": "https://avatars.githubusercontent.com/u/84711?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/erickt",
      "html_url": "https://github.com/erickt",
      "followers_url": "https://api.github.com/users/erickt/followers",
      "following_url": "https://api.github.com/users/erickt/following{/other_user}",
      "gists_url": "https://api.github.com/users/erickt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/erickt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/erickt/subscriptions",
      "organizations_url": "https://api.github.com/users/erickt/orgs",
      "repos_url": "https://api.github.com/users/erickt/repos",
      "events_url": "https://api.github.com/users/erickt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/erickt/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-06-30T13:58:47Z",
    "updated_at": "2014-06-30T13:58:47Z",
    "body": "@alexcrichton: I updated the PR to remove `libstd::collections::hash`.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/47534369/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/47711287",
    "html_url": "https://github.com/rust-lang/rust/pull/15257#issuecomment-47711287",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15257",
    "id": 47711287,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3NzExMjg3",
    "user": {
      "login": "erickt",
      "id": 84711,
      "node_id": "MDQ6VXNlcjg0NzEx",
      "avatar_url": "https://avatars.githubusercontent.com/u/84711?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/erickt",
      "html_url": "https://github.com/erickt",
      "followers_url": "https://api.github.com/users/erickt/followers",
      "following_url": "https://api.github.com/users/erickt/following{/other_user}",
      "gists_url": "https://api.github.com/users/erickt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/erickt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/erickt/subscriptions",
      "organizations_url": "https://api.github.com/users/erickt/orgs",
      "repos_url": "https://api.github.com/users/erickt/repos",
      "events_url": "https://api.github.com/users/erickt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/erickt/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-01T21:20:02Z",
    "updated_at": "2014-07-01T21:20:02Z",
    "body": "@alexcrichton: updated to include the documentation.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/47711287/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
