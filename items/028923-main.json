{
  "url": "https://api.github.com/repos/rust-lang/rust/issues/28923",
  "repository_url": "https://api.github.com/repos/rust-lang/rust",
  "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/28923/labels{/name}",
  "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/28923/comments",
  "events_url": "https://api.github.com/repos/rust-lang/rust/issues/28923/events",
  "html_url": "https://github.com/rust-lang/rust/pull/28923",
  "id": 110576630,
  "node_id": "MDExOlB1bGxSZXF1ZXN0NDcyMjgzMzA=",
  "number": 28923,
  "title": "libsystem",
  "user": {
    "login": "arcnmx",
    "id": 13426784,
    "node_id": "MDQ6VXNlcjEzNDI2Nzg0",
    "avatar_url": "https://avatars.githubusercontent.com/u/13426784?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/arcnmx",
    "html_url": "https://github.com/arcnmx",
    "followers_url": "https://api.github.com/users/arcnmx/followers",
    "following_url": "https://api.github.com/users/arcnmx/following{/other_user}",
    "gists_url": "https://api.github.com/users/arcnmx/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/arcnmx/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/arcnmx/subscriptions",
    "organizations_url": "https://api.github.com/users/arcnmx/orgs",
    "repos_url": "https://api.github.com/users/arcnmx/repos",
    "events_url": "https://api.github.com/users/arcnmx/events{/privacy}",
    "received_events_url": "https://api.github.com/users/arcnmx/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "labels": [],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "pcwalton",
    "id": 157897,
    "node_id": "MDQ6VXNlcjE1Nzg5Nw==",
    "avatar_url": "https://avatars.githubusercontent.com/u/157897?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/pcwalton",
    "html_url": "https://github.com/pcwalton",
    "followers_url": "https://api.github.com/users/pcwalton/followers",
    "following_url": "https://api.github.com/users/pcwalton/following{/other_user}",
    "gists_url": "https://api.github.com/users/pcwalton/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/pcwalton/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/pcwalton/subscriptions",
    "organizations_url": "https://api.github.com/users/pcwalton/orgs",
    "repos_url": "https://api.github.com/users/pcwalton/repos",
    "events_url": "https://api.github.com/users/pcwalton/events{/privacy}",
    "received_events_url": "https://api.github.com/users/pcwalton/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "pcwalton",
      "id": 157897,
      "node_id": "MDQ6VXNlcjE1Nzg5Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/157897?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pcwalton",
      "html_url": "https://github.com/pcwalton",
      "followers_url": "https://api.github.com/users/pcwalton/followers",
      "following_url": "https://api.github.com/users/pcwalton/following{/other_user}",
      "gists_url": "https://api.github.com/users/pcwalton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pcwalton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pcwalton/subscriptions",
      "organizations_url": "https://api.github.com/users/pcwalton/orgs",
      "repos_url": "https://api.github.com/users/pcwalton/repos",
      "events_url": "https://api.github.com/users/pcwalton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pcwalton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2015-10-09T02:27:42Z",
  "updated_at": "2015-10-09T20:25:47Z",
  "closed_at": "2015-10-09T16:17:11Z",
  "author_association": "CONTRIBUTOR",
  "type": null,
  "active_lock_reason": null,
  "draft": false,
  "pull_request": {
    "url": "https://api.github.com/repos/rust-lang/rust/pulls/28923",
    "html_url": "https://github.com/rust-lang/rust/pull/28923",
    "diff_url": "https://github.com/rust-lang/rust/pull/28923.diff",
    "patch_url": "https://github.com/rust-lang/rust/pull/28923.patch",
    "merged_at": null
  },
  "body": "This is a WIP, looking for feedback on the overall concept/design mostly at this point... Probably requires an RFC to go through with properly?\n\ntl;dr I ripped everything platform-specific out of `libstd` and implemented them behind a new `libsystem` platform-agnostic API.\n\nGoals:\n- Clearly define a platform-independent API that provides all functionality `libstd` needs without exposing any implementation details.\n- Make porting `libstd` to new platforms straightforward by isolating all functionality that needs to be provided.\n  - bare metal, kernels, microcontrollers, etc.\n  - static syscall `libstd` that doesn't depend on any C libraries\n- Cut the circular dependencies between `libstd/sys` and `libstd`\n- Remove all `#[cfg(target_os..., unix, etc)]` branches in `libstd`.\n- Remove `libstd`'s dependency on `liblibc`\n- Implement a `bind` fallback `libsystem` implementation entirely made of `extern fn`s in order to...\n  1. Have a reference implementation that exposes nothing about itself to ensure no implementation details are being relied upon.\n  2. Allow libstd to be used raw without any dependency at all, while lazily linking in any functionality that does end up being necessary.\n- Migrate as much as possible away from `rust_builtin` (low prio, but would be nice)\n\nAlso in this branch:\n- Cargo.toml for all of rustc and its stdlib. Not incredibly useful compared to the [ongoing cargo-build branch](https://github.com/alexcrichton/rust/tree/cargo-build), but I like it as a quick way to build a `libstd` sysroot and the rustc compiler without having to deal with the multi-stage build system.\n- target_family flexible target configuration: 836daa811de287f15dce1da7db1b202cbb66b8fc - the whole world isn't just unix and windows. This probably belongs as a standalone PR?\n- `liblibc` changes for a generic target_family. Probably useless, better to just kill `liblibc` as a dependency from everything except `libsystem`.\n",
  "closed_by": {
    "login": "alexcrichton",
    "id": 64996,
    "node_id": "MDQ6VXNlcjY0OTk2",
    "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/alexcrichton",
    "html_url": "https://github.com/alexcrichton",
    "followers_url": "https://api.github.com/users/alexcrichton/followers",
    "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
    "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
    "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
    "repos_url": "https://api.github.com/users/alexcrichton/repos",
    "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
    "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/28923/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/28923/timeline",
  "performed_via_github_app": null,
  "state_reason": null,
  "_meta": {
    "type": "pr"
  }
}
