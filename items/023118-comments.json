[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/77625046",
    "html_url": "https://github.com/rust-lang/rust/issues/23118#issuecomment-77625046",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23118",
    "id": 77625046,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3NjI1MDQ2",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-06T19:58:26Z",
    "updated_at": "2015-03-06T19:58:26Z",
    "body": "On Fri, Mar 06, 2015 at 06:10:52AM -0800, Andrew Paseltiner wrote:\n\n> However, this seems like a useful pattern.\n\nWhy not merge the two traits, if implementing one always implies\nimplementing the other? I think we could lift the restriction on\nacyclic supertraits, but it would have some implications elsewhere to\ndo so, such as vtable layout and so forth. Alternatively, we could\ncontinue to distinguish supertraits from traits appearing with `Self`\nin where-clause, but that would remove the intention that\nwhere-clauses are the \"desugared\" form for constraints.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/77625046/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/77630865",
    "html_url": "https://github.com/rust-lang/rust/issues/23118#issuecomment-77630865",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23118",
    "id": 77630865,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3NjMwODY1",
    "user": {
      "login": "apasel422",
      "id": 8644784,
      "node_id": "MDQ6VXNlcjg2NDQ3ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8644784?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/apasel422",
      "html_url": "https://github.com/apasel422",
      "followers_url": "https://api.github.com/users/apasel422/followers",
      "following_url": "https://api.github.com/users/apasel422/following{/other_user}",
      "gists_url": "https://api.github.com/users/apasel422/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/apasel422/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/apasel422/subscriptions",
      "organizations_url": "https://api.github.com/users/apasel422/orgs",
      "repos_url": "https://api.github.com/users/apasel422/repos",
      "events_url": "https://api.github.com/users/apasel422/events{/privacy}",
      "received_events_url": "https://api.github.com/users/apasel422/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-06T20:35:50Z",
    "updated_at": "2015-03-06T20:35:50Z",
    "body": "For this specific example, I'd like to allow multiple implementations of `Lookup` but require types to implement `Map` only once. In other words, all types that implement `Map` must implement `Lookup<<Self as Map>::Key>`, but may also provide alternate key lookups. This corresponds to lifting `Q` from the `fn get<Q: ?Sized>(&self, key: &Q) -> Option<&V>` found in most current concrete map types into a trait for generic programming. The reason I have `Lookup` also inherit from `Map` is to avoid a redundant associated type like\n\n``` rust\npub trait Lookup<Q: ?Sized> {\n    type Value;\n    fn get(&self, key: &Q) -> Option<&Self::Value>;\n}\n```\n\nand to enforce, at the trait level, that `Lookup` impls only yield values of the same type as the `Map` impl.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/77630865/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/119185912",
    "html_url": "https://github.com/rust-lang/rust/issues/23118#issuecomment-119185912",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23118",
    "id": 119185912,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExOTE4NTkxMg==",
    "user": {
      "login": "arielb1",
      "id": 1830974,
      "node_id": "MDQ6VXNlcjE4MzA5NzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1830974?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/arielb1",
      "html_url": "https://github.com/arielb1",
      "followers_url": "https://api.github.com/users/arielb1/followers",
      "following_url": "https://api.github.com/users/arielb1/following{/other_user}",
      "gists_url": "https://api.github.com/users/arielb1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/arielb1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/arielb1/subscriptions",
      "organizations_url": "https://api.github.com/users/arielb1/orgs",
      "repos_url": "https://api.github.com/users/arielb1/repos",
      "events_url": "https://api.github.com/users/arielb1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/arielb1/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-07T12:14:01Z",
    "updated_at": "2015-07-07T12:14:01Z",
    "body": "Supertraits are explicitly required to be acyclic. This is intentional (@apasel422's specific example can be broken by moving the `Value` associated-type to a `Container` supertrait).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/119185912/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/119195303",
    "html_url": "https://github.com/rust-lang/rust/issues/23118#issuecomment-119195303",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23118",
    "id": 119195303,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExOTE5NTMwMw==",
    "user": {
      "login": "apasel422",
      "id": 8644784,
      "node_id": "MDQ6VXNlcjg2NDQ3ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8644784?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/apasel422",
      "html_url": "https://github.com/apasel422",
      "followers_url": "https://api.github.com/users/apasel422/followers",
      "following_url": "https://api.github.com/users/apasel422/following{/other_user}",
      "gists_url": "https://api.github.com/users/apasel422/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/apasel422/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/apasel422/subscriptions",
      "organizations_url": "https://api.github.com/users/apasel422/orgs",
      "repos_url": "https://api.github.com/users/apasel422/repos",
      "events_url": "https://api.github.com/users/apasel422/events{/privacy}",
      "received_events_url": "https://api.github.com/users/apasel422/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-07T12:55:50Z",
    "updated_at": "2015-07-07T12:55:50Z",
    "body": "@arielb1 Could you explain your suggested refactoring a bit more?\n\nOn Tuesday, July 7, 2015, arielb1 notifications@github.com wrote:\n\n> Supertraits are explicitly required to be acyclic. This is intentional (\n> @apasel422 https://github.com/apasel422's specific example can be\n> broken by moving the Value associated-type to a Container supertrait).\n> \n> \u2014\n> Reply to this email directly or view it on GitHub\n> https://github.com/rust-lang/rust/issues/23118#issuecomment-119185912.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/119195303/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/119669673",
    "html_url": "https://github.com/rust-lang/rust/issues/23118#issuecomment-119669673",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23118",
    "id": 119669673,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExOTY2OTY3Mw==",
    "user": {
      "login": "apasel422",
      "id": 8644784,
      "node_id": "MDQ6VXNlcjg2NDQ3ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8644784?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/apasel422",
      "html_url": "https://github.com/apasel422",
      "followers_url": "https://api.github.com/users/apasel422/followers",
      "following_url": "https://api.github.com/users/apasel422/following{/other_user}",
      "gists_url": "https://api.github.com/users/apasel422/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/apasel422/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/apasel422/subscriptions",
      "organizations_url": "https://api.github.com/users/apasel422/orgs",
      "repos_url": "https://api.github.com/users/apasel422/repos",
      "events_url": "https://api.github.com/users/apasel422/events{/privacy}",
      "received_events_url": "https://api.github.com/users/apasel422/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-08T17:22:44Z",
    "updated_at": "2015-07-08T17:23:27Z",
    "body": "For anyone who comes across this later, the pattern ends up being something like:\n\n``` rust\npub trait Container {\n    type Key;\n    type Value;\n}\n\npub trait MapLookup<Q: ?Sized>: Container {\n    fn get(&self, key: &Q) -> Option<&Self::Value>;\n}\n\npub trait Map: MapLookup<<Self as Container>::Key> {\n    fn insert(&mut self, key: Self::Key, value: Self::Value) -> Option<Self::Value>;\n}\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/119669673/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
