[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69515400",
    "html_url": "https://github.com/rust-lang/rust/issues/20928#issuecomment-69515400",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20928",
    "id": 69515400,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5NTE1NDAw",
    "user": {
      "login": "shepmaster",
      "id": 174509,
      "node_id": "MDQ6VXNlcjE3NDUwOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/174509?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shepmaster",
      "html_url": "https://github.com/shepmaster",
      "followers_url": "https://api.github.com/users/shepmaster/followers",
      "following_url": "https://api.github.com/users/shepmaster/following{/other_user}",
      "gists_url": "https://api.github.com/users/shepmaster/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shepmaster/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shepmaster/subscriptions",
      "organizations_url": "https://api.github.com/users/shepmaster/orgs",
      "repos_url": "https://api.github.com/users/shepmaster/repos",
      "events_url": "https://api.github.com/users/shepmaster/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shepmaster/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-11T22:37:57Z",
    "updated_at": "2015-01-11T22:37:57Z",
    "body": "Related to #20475?\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69515400/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69519884",
    "html_url": "https://github.com/rust-lang/rust/issues/20928#issuecomment-69519884",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20928",
    "id": 69519884,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5NTE5ODg0",
    "user": {
      "login": "viraptor",
      "id": 188063,
      "node_id": "MDQ6VXNlcjE4ODA2Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/188063?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/viraptor",
      "html_url": "https://github.com/viraptor",
      "followers_url": "https://api.github.com/users/viraptor/followers",
      "following_url": "https://api.github.com/users/viraptor/following{/other_user}",
      "gists_url": "https://api.github.com/users/viraptor/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/viraptor/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/viraptor/subscriptions",
      "organizations_url": "https://api.github.com/users/viraptor/orgs",
      "repos_url": "https://api.github.com/users/viraptor/repos",
      "events_url": "https://api.github.com/users/viraptor/events{/privacy}",
      "received_events_url": "https://api.github.com/users/viraptor/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-12T00:33:03Z",
    "updated_at": "2015-01-12T00:33:03Z",
    "body": "I think it's close. The same function could probably satisfy both issues.\nThe operation could construct the cstring from a slice/vec up to the first\nzero, or until `max_length` - whichever happens first.\nOn 12 Jan 2015 11:38 am, \"Jake Goulding\" notifications@github.com wrote:\n\n> Related to #20475 https://github.com/rust-lang/rust/issues/20475?\n> \n> \u2014\n> Reply to this email directly or view it on GitHub\n> https://github.com/rust-lang/rust/issues/20928#issuecomment-69515400.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69519884/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69603531",
    "html_url": "https://github.com/rust-lang/rust/issues/20928#issuecomment-69603531",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20928",
    "id": 69603531,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5NjAzNTMx",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-12T16:58:55Z",
    "updated_at": "2015-01-12T16:58:55Z",
    "body": "It sounds like you don't necessarily want to return a `CString` but rather a `Vec<u8>`. are you later passing the string back into other C functions? I'd be thinking of something like:\n\n``` rust\nlet mut name = [0 as u8; 17];\nlet res = prctl(PrctlOption::PR_GET_NAME as c_int, name.as_mut_ptr() as c_ulong, 0, 0, 0);\n(res, ffi::c_str_to_bytes(name.as_ptr()).to_vec())\n```\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69603531/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/70319132",
    "html_url": "https://github.com/rust-lang/rust/issues/20928#issuecomment-70319132",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20928",
    "id": 70319132,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwMzE5MTMy",
    "user": {
      "login": "viraptor",
      "id": 188063,
      "node_id": "MDQ6VXNlcjE4ODA2Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/188063?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/viraptor",
      "html_url": "https://github.com/viraptor",
      "followers_url": "https://api.github.com/users/viraptor/followers",
      "following_url": "https://api.github.com/users/viraptor/following{/other_user}",
      "gists_url": "https://api.github.com/users/viraptor/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/viraptor/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/viraptor/subscriptions",
      "organizations_url": "https://api.github.com/users/viraptor/orgs",
      "repos_url": "https://api.github.com/users/viraptor/repos",
      "events_url": "https://api.github.com/users/viraptor/events{/privacy}",
      "received_events_url": "https://api.github.com/users/viraptor/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-16T20:43:34Z",
    "updated_at": "2015-01-16T20:43:34Z",
    "body": "I think it's better for the interface if I return a cstring, since that's\nexactly what I get back. Vec would suggest some binary data. I can't make\nit a proper string since the caller will know the encoding.\nI think the interface would need more comments about the nulls, length,\netc. in my library, instead of just providing cstring.\nAm I mistaken here?\nOn 13 Jan 2015 5:59 am, \"Alex Crichton\" notifications@github.com wrote:\n\n> It sounds like you don't necessarily want to return a CString but rather\n> a Vec<u8>. are you later passing the string back into other C functions?\n> I'd be thinking of something like:\n> \n> let mut name = [0 as u8; 17];let res = prctl(PrctlOption::PR_GET_NAME as c_int, name.as_mut_ptr() as c_ulong, 0, 0, 0);\n> (res, ffi::c_str_to_bytes(name.as_ptr()).to_vec())\n> \n> \u2014\n> Reply to this email directly or view it on GitHub\n> https://github.com/rust-lang/rust/issues/20928#issuecomment-69603531.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/70319132/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/70320254",
    "html_url": "https://github.com/rust-lang/rust/issues/20928#issuecomment-70320254",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20928",
    "id": 70320254,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwMzIwMjU0",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-16T20:52:18Z",
    "updated_at": "2015-01-16T20:52:18Z",
    "body": "> Vec would suggest some binary data.\n\nTo rust, however, C strings _are_ just binary data. The `CString` type is basically just a type that derefs to `[u8]`. The only added benefit of `CString` over `Vec<u8>` is a static guarantee that there are no interior nul bytes (which might be useful if you're handing the data right back to C).\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/70320254/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/70433943",
    "html_url": "https://github.com/rust-lang/rust/issues/20928#issuecomment-70433943",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20928",
    "id": 70433943,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwNDMzOTQz",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-19T00:22:52Z",
    "updated_at": "2015-01-19T00:22:52Z",
    "body": "Looking back at this, I'm going to close this as a dupe of #20475 as a `from_slice_truncate` method looks to be what'd fit the ticket here.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/70433943/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
