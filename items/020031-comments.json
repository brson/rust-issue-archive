[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/67652862",
    "html_url": "https://github.com/rust-lang/rust/issues/20031#issuecomment-67652862",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20031",
    "id": 67652862,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3NjUyODYy",
    "user": {
      "login": "Gankra",
      "id": 1136864,
      "node_id": "MDQ6VXNlcjExMzY4NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1136864?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Gankra",
      "html_url": "https://github.com/Gankra",
      "followers_url": "https://api.github.com/users/Gankra/followers",
      "following_url": "https://api.github.com/users/Gankra/following{/other_user}",
      "gists_url": "https://api.github.com/users/Gankra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Gankra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Gankra/subscriptions",
      "organizations_url": "https://api.github.com/users/Gankra/orgs",
      "repos_url": "https://api.github.com/users/Gankra/repos",
      "events_url": "https://api.github.com/users/Gankra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Gankra/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-12-19T15:33:44Z",
    "updated_at": "2014-12-19T15:38:23Z",
    "body": "We hashed this out on irc a while ago. The old design made you take a closure so that you didn't accidentally \"elevate\" a slice to 'static. This design is basically trying to do the same thing by constraining the lifetime. I'm not convinced it's the right design but at very least we want to give it a test-drive for a bit. \n\nNote that you can also copy_lifetime or construct the slice yourself with a transmute.\n\nCC @alexcrichton @nikomatsakis \n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/67652862/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/67655684",
    "html_url": "https://github.com/rust-lang/rust/issues/20031#issuecomment-67655684",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20031",
    "id": 67655684,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3NjU1Njg0",
    "user": {
      "login": "Tobba",
      "id": 1667853,
      "node_id": "MDQ6VXNlcjE2Njc4NTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1667853?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Tobba",
      "html_url": "https://github.com/Tobba",
      "followers_url": "https://api.github.com/users/Tobba/followers",
      "following_url": "https://api.github.com/users/Tobba/following{/other_user}",
      "gists_url": "https://api.github.com/users/Tobba/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Tobba/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Tobba/subscriptions",
      "organizations_url": "https://api.github.com/users/Tobba/orgs",
      "repos_url": "https://api.github.com/users/Tobba/repos",
      "events_url": "https://api.github.com/users/Tobba/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Tobba/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-12-19T15:53:40Z",
    "updated_at": "2014-12-19T15:54:02Z",
    "body": "I'm currently using transmute and raw::Slice for most slice construction due to the limitations of the old design. With the new design every one of those instances still require a transmutation to fix the lifetime (copy_lifetime never seems to do its job).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/67655684/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/67757404",
    "html_url": "https://github.com/rust-lang/rust/issues/20031#issuecomment-67757404",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20031",
    "id": 67757404,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3NzU3NDA0",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-12-21T02:05:31Z",
    "updated_at": "2014-12-21T02:05:31Z",
    "body": "I'd like to see your examples. I think if you are using a raw transmute, there is likely a better way to do it, but I agree that we have to experiment to find the right pattern.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/67757404/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/67771722",
    "html_url": "https://github.com/rust-lang/rust/issues/20031#issuecomment-67771722",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20031",
    "id": 67771722,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3NzcxNzIy",
    "user": {
      "login": "Tobba",
      "id": 1667853,
      "node_id": "MDQ6VXNlcjE2Njc4NTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1667853?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Tobba",
      "html_url": "https://github.com/Tobba",
      "followers_url": "https://api.github.com/users/Tobba/followers",
      "following_url": "https://api.github.com/users/Tobba/following{/other_user}",
      "gists_url": "https://api.github.com/users/Tobba/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Tobba/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Tobba/subscriptions",
      "organizations_url": "https://api.github.com/users/Tobba/orgs",
      "repos_url": "https://api.github.com/users/Tobba/repos",
      "events_url": "https://api.github.com/users/Tobba/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Tobba/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-12-21T14:15:28Z",
    "updated_at": "2014-12-21T14:15:28Z",
    "body": "Nearly all of the transmutes are necessary because the pointer type has to be casted or is returned from a function call. There are a few of these pointers that could have their type changed to help, but some cannot be fixed without changing a public API.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/67771722/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69216887",
    "html_url": "https://github.com/rust-lang/rust/issues/20031#issuecomment-69216887",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20031",
    "id": 69216887,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5MjE2ODg3",
    "user": {
      "login": "aturon",
      "id": 709807,
      "node_id": "MDQ6VXNlcjcwOTgwNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/709807?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aturon",
      "html_url": "https://github.com/aturon",
      "followers_url": "https://api.github.com/users/aturon/followers",
      "following_url": "https://api.github.com/users/aturon/following{/other_user}",
      "gists_url": "https://api.github.com/users/aturon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aturon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aturon/subscriptions",
      "organizations_url": "https://api.github.com/users/aturon/orgs",
      "repos_url": "https://api.github.com/users/aturon/repos",
      "events_url": "https://api.github.com/users/aturon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aturon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-08T17:38:43Z",
    "updated_at": "2015-01-08T17:38:43Z",
    "body": "cc me, cc @alexcrichton \n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69216887/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69217513",
    "html_url": "https://github.com/rust-lang/rust/issues/20031#issuecomment-69217513",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20031",
    "id": 69217513,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5MjE3NTEz",
    "user": {
      "login": "reem",
      "id": 4745181,
      "node_id": "MDQ6VXNlcjQ3NDUxODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4745181?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/reem",
      "html_url": "https://github.com/reem",
      "followers_url": "https://api.github.com/users/reem/followers",
      "following_url": "https://api.github.com/users/reem/following{/other_user}",
      "gists_url": "https://api.github.com/users/reem/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/reem/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/reem/subscriptions",
      "organizations_url": "https://api.github.com/users/reem/orgs",
      "repos_url": "https://api.github.com/users/reem/repos",
      "events_url": "https://api.github.com/users/reem/events{/privacy}",
      "received_events_url": "https://api.github.com/users/reem/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-08T17:42:38Z",
    "updated_at": "2015-01-08T17:42:38Z",
    "body": "There is an open RFC to change the way the output lifetime is decided to instead use an explicit third parameter. That might be relevant to this (mostly based off of the examples in #20748).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69217513/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69219533",
    "html_url": "https://github.com/rust-lang/rust/issues/20031#issuecomment-69219533",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20031",
    "id": 69219533,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5MjE5NTMz",
    "user": {
      "login": "tomaka",
      "id": 1412254,
      "node_id": "MDQ6VXNlcjE0MTIyNTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1412254?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tomaka",
      "html_url": "https://github.com/tomaka",
      "followers_url": "https://api.github.com/users/tomaka/followers",
      "following_url": "https://api.github.com/users/tomaka/following{/other_user}",
      "gists_url": "https://api.github.com/users/tomaka/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tomaka/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tomaka/subscriptions",
      "organizations_url": "https://api.github.com/users/tomaka/orgs",
      "repos_url": "https://api.github.com/users/tomaka/repos",
      "events_url": "https://api.github.com/users/tomaka/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tomaka/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-08T17:55:14Z",
    "updated_at": "2015-01-08T17:55:14Z",
    "body": "Examples that should be working but don't because of this issue:\n\nCasting between pointer types: (http://is.gd/eW1KmQ)\n\n``` rust\nstruct Foo { data: *mut i8, len: uint }\nimpl Foo {\n    fn as_slice(&self) -> &[i8] {\n        unsafe {\n            // value \"self.data as *const i8\" does not live long enough\n            std::slice::from_raw_buf(&(self.data as *const i8), self.len)\n        }\n    }\n}\n```\n\nUsing raw pointers in iterators: (http://is.gd/UsePsX)\n\n``` rust\nstruct Iter<'a> { data: *const u8, marker: ContravariantLifetime<'a> }\nimpl<'a> Iterator for Iter<'a> {\n    type Item = &'a [u8];\n    fn next(&mut self) -> Option<&'a [u8]> {\n        Some(unsafe {\n            // cannot infer an appropriate lifetime for borrow expression due to conflicting requirements\n            std::slice::from_raw_buf(&self.data, 1)\n        })\n    }\n}\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69219533/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69467531",
    "html_url": "https://github.com/rust-lang/rust/issues/20031#issuecomment-69467531",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20031",
    "id": 69467531,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5NDY3NTMx",
    "user": {
      "login": "mzabaluev",
      "id": 1198919,
      "node_id": "MDQ6VXNlcjExOTg5MTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1198919?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mzabaluev",
      "html_url": "https://github.com/mzabaluev",
      "followers_url": "https://api.github.com/users/mzabaluev/followers",
      "following_url": "https://api.github.com/users/mzabaluev/following{/other_user}",
      "gists_url": "https://api.github.com/users/mzabaluev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mzabaluev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mzabaluev/subscriptions",
      "organizations_url": "https://api.github.com/users/mzabaluev/orgs",
      "repos_url": "https://api.github.com/users/mzabaluev/repos",
      "events_url": "https://api.github.com/users/mzabaluev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mzabaluev/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-10T19:03:20Z",
    "updated_at": "2015-01-10T19:03:20Z",
    "body": "@reem here's the [RFC draft](https://github.com/rust-lang/rfcs/pull/556)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69467531/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/73328460",
    "html_url": "https://github.com/rust-lang/rust/issues/20031#issuecomment-73328460",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20031",
    "id": 73328460,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczMzI4NDYw",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-02-06T22:54:34Z",
    "updated_at": "2015-02-06T22:54:34Z",
    "body": "Fixed in #21926\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/73328460/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
