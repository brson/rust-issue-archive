[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/65887676",
    "html_url": "https://github.com/rust-lang/rust/issues/19565#issuecomment-65887676",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19565",
    "id": 65887676,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1ODg3Njc2",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-12-06T06:34:28Z",
    "updated_at": "2014-12-06T06:34:28Z",
    "body": "`rustdoc` does two separate implicit insertions:\n- if `fn main` is not found, then rustdoc will wrap the code example in `fn main() { ... }`\n- if there is no `extern crate` then rustdoc will place `extern crate $current_crate;` at the top of the code example.\n\nThese are all textual, so if the crate is called `foo`, your first code example is becoming\n\n``` rust\nextern crate foo;\n#![feature(globs)]\n\nuse std::fmt::*;\n\nfn main() {\n    // a code...\n}\n```\n\nand the second one, that is,\n\n``` rust\n#![feature(globs)]\n\nuse std::fmt::*;\n\n// a code...\n```\n\nis becoming\n\n``` rust\nextern crate foo;\nfn main() {\n#![feature(globs)]\nuse std::fmt::*;\n\n// a code...\n}\n```\n\nOne can resolve this by writing\n\n``` rust\n#![feature(globs)]\nextern crate foo;\n\nuse std::fmt::*;\n\nfn main() {\n     // a code...\n}\n```\n\nYou can carefully control what appears in the output with `#` (# followed by a space), e.g.\n\n``` rust\n#![feature(globs)]\n# extern crate foo;\n\nuse std::fmt::*;\n\n# fn main() {\n// a code...\n# }\n```\n\nwill be rendered as \n\n``` rust\n#![feature(globs)]\n\nuse std::fmt::*;\n\n// a code...\n```\n\nbut tested as the full code with extern crate and fn main etc.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/65887676/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/65887923",
    "html_url": "https://github.com/rust-lang/rust/issues/19565#issuecomment-65887923",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19565",
    "id": 65887923,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1ODg3OTIz",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-12-06T06:48:13Z",
    "updated_at": "2014-12-06T06:49:10Z",
    "body": "The [docs](http://doc.rust-lang.org/nightly/rustdoc.html#testing-the-documentation) gives some more detail. That said, I still thing rustdoc could be more helpful, e.g. it could print out the test case that it actually passes to the compiler (maybe even with line numbers).\n\n(I've updated the title to reflect this line of attack.)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/65887923/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/65956147",
    "html_url": "https://github.com/rust-lang/rust/issues/19565#issuecomment-65956147",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19565",
    "id": 65956147,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1OTU2MTQ3",
    "user": {
      "login": "shamansir",
      "id": 110920,
      "node_id": "MDQ6VXNlcjExMDkyMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/110920?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shamansir",
      "html_url": "https://github.com/shamansir",
      "followers_url": "https://api.github.com/users/shamansir/followers",
      "following_url": "https://api.github.com/users/shamansir/following{/other_user}",
      "gists_url": "https://api.github.com/users/shamansir/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shamansir/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shamansir/subscriptions",
      "organizations_url": "https://api.github.com/users/shamansir/orgs",
      "repos_url": "https://api.github.com/users/shamansir/repos",
      "events_url": "https://api.github.com/users/shamansir/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shamansir/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-12-07T21:33:19Z",
    "updated_at": "2014-12-07T21:33:19Z",
    "body": "Yes, the variant with both `extern crate` and `fn main()` helped me, thank you! Though yes, w/o `fn main()` I also get just `error: \"extern crate\" declarations are not allowed here`. That said, line numbers and friendlier errors would really help.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/65956147/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/154648698",
    "html_url": "https://github.com/rust-lang/rust/issues/19565#issuecomment-154648698",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19565",
    "id": 154648698,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1NDY0ODY5OA==",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-11-07T07:21:30Z",
    "updated_at": "2015-11-07T07:21:30Z",
    "body": "Rustdoc now compiles this example without error, both with and without main.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/154648698/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
