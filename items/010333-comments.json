[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/27951190",
    "html_url": "https://github.com/rust-lang/rust/pull/10333#issuecomment-27951190",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10333",
    "id": 27951190,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3OTUxMTkw",
    "user": {
      "login": "Kimundi",
      "id": 2903206,
      "node_id": "MDQ6VXNlcjI5MDMyMDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2903206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Kimundi",
      "html_url": "https://github.com/Kimundi",
      "followers_url": "https://api.github.com/users/Kimundi/followers",
      "following_url": "https://api.github.com/users/Kimundi/following{/other_user}",
      "gists_url": "https://api.github.com/users/Kimundi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Kimundi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Kimundi/subscriptions",
      "organizations_url": "https://api.github.com/users/Kimundi/orgs",
      "repos_url": "https://api.github.com/users/Kimundi/repos",
      "events_url": "https://api.github.com/users/Kimundi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Kimundi/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-07T10:15:25Z",
    "updated_at": "2013-11-07T10:17:37Z",
    "body": "Replacing `to_str_ascii` with `into_str` is strange, because `into_str` is implemented inconsistent compared to `to_str`:\n\n```\n\"foo\".as_ascii().to_str() == \"[f, o, o]\" // because of generic impl of ToStr for &[T] with T: ToStr\n\"foo\".as_ascii().into_str() == \"foo\" // Because into_str is implemented for &[Ascii]\n```\n\nI originally added the `to_str_ascii` method because of this issue: A `&[Ascii]` is both a ASCII string and a vector of ASCII codepoints, so there are two ways to convert it into a string.\n\nThe true fix here would be to have an `str_ascii` unsized type as a newtype wrapper around `[Ascii]`, just like in theory `str` is a newtype wrapper around `[u8]` today.\n\n`.as_ascii()` would then return a `&str_ascii` instead of a `&[Ascii]`, and `str_ascii` could implement both `ToStr` and `IntoStr` as returning `\"foo\"` in the example above.\n\nBut because that's not possible yet, I'd keep `to_str_ascii` for now.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/27951190/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/27952333",
    "html_url": "https://github.com/rust-lang/rust/pull/10333#issuecomment-27952333",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10333",
    "id": 27952333,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3OTUyMzMz",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-07T10:34:52Z",
    "updated_at": "2013-11-07T11:40:56Z",
    "body": "> Replacing to_str_ascii with into_str is strange, because into_str is implemented inconsistent compared to to_str:\n\nThere is no mention of `to_str` in this PR. Replacing `to_str_ascii` with `into_str` is because it's converting `(~[Ascii]) -> ~str`; the old code using `to_str_ascii` would borrow that to `&[Ascii]` and allocate itself a new `~str`. (`into_str` and `to_str_ascii` have the same format, i.e. `\"foo\"`... I don't see why being inconsistent with `to_str` is directly relevant?)\n\n> But because that's not possible yet, I'd keep to_str_ascii for now.\n\nThis is actually keeping it, just converting it to be `&[Ascii] -> &str` rather than `&[Ascii] -> ~str` (i.e. not doing a malloc internally) and changing its name to match the convention.\n\n(I agree that having a proper ascii string is the \"correct\" fix.)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/27952333/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/27969925",
    "html_url": "https://github.com/rust-lang/rust/pull/10333#issuecomment-27969925",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10333",
    "id": 27969925,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3OTY5OTI1",
    "user": {
      "login": "Kimundi",
      "id": 2903206,
      "node_id": "MDQ6VXNlcjI5MDMyMDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2903206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Kimundi",
      "html_url": "https://github.com/Kimundi",
      "followers_url": "https://api.github.com/users/Kimundi/followers",
      "following_url": "https://api.github.com/users/Kimundi/following{/other_user}",
      "gists_url": "https://api.github.com/users/Kimundi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Kimundi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Kimundi/subscriptions",
      "organizations_url": "https://api.github.com/users/Kimundi/orgs",
      "repos_url": "https://api.github.com/users/Kimundi/repos",
      "events_url": "https://api.github.com/users/Kimundi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Kimundi/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-07T14:38:06Z",
    "updated_at": "2013-11-07T14:38:06Z",
    "body": "Sorry about the confusion, I misunderstood a few things. :)\n\nWhat I wanted to say is this: Giving `&[Ascii]` a `as_str_ascii` method is perfectly fine, but seeing you replacing the old `to_str_ascii` calls with `into_str` calls, I reached the conclusion that `ToStrConsume` should not be implemented on `~[Ascii]` at all because it leads to an inconsistency with the output of `to_str()`. Instead, there should be an `into_str_ascii` method.\n\nHowever, seeing how the proper fix of having an ascii string type _would_ allow to consistently implement both `ToStr` and `ToStrConsume`, I now think that keeping the current situation is fine too.\n\n(Also, I think I introduced the `ToStrConsume` trait for use on a `~[Ascii]` to begin with, and just forgot, so you really have all right to blame me for confusing you ;))\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/27969925/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/27970356",
    "html_url": "https://github.com/rust-lang/rust/pull/10333#issuecomment-27970356",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10333",
    "id": 27970356,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3OTcwMzU2",
    "user": {
      "login": "Kimundi",
      "id": 2903206,
      "node_id": "MDQ6VXNlcjI5MDMyMDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2903206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Kimundi",
      "html_url": "https://github.com/Kimundi",
      "followers_url": "https://api.github.com/users/Kimundi/followers",
      "following_url": "https://api.github.com/users/Kimundi/following{/other_user}",
      "gists_url": "https://api.github.com/users/Kimundi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Kimundi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Kimundi/subscriptions",
      "organizations_url": "https://api.github.com/users/Kimundi/orgs",
      "repos_url": "https://api.github.com/users/Kimundi/repos",
      "events_url": "https://api.github.com/users/Kimundi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Kimundi/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-07T14:41:53Z",
    "updated_at": "2013-11-07T14:41:53Z",
    "body": "Ah, one more thing: While you're changing stuff in the `ascii` module anyway, could you remove the doc comment wording that talks about a null terminator? As neither `str` nor `[Ascii]` use such a  thing now, having the docs talk about them is just confusing and wrong.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/27970356/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
