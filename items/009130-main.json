{
  "url": "https://api.github.com/repos/rust-lang/rust/issues/9130",
  "repository_url": "https://api.github.com/repos/rust-lang/rust",
  "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/9130/labels{/name}",
  "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/9130/comments",
  "events_url": "https://api.github.com/repos/rust-lang/rust/issues/9130/events",
  "html_url": "https://github.com/rust-lang/rust/pull/9130",
  "id": 19347742,
  "node_id": "MDExOlB1bGxSZXF1ZXN0ODI1OTUzOQ==",
  "number": 9130,
  "title": "Resume inlining globals across crates",
  "user": {
    "login": "alexcrichton",
    "id": 64996,
    "node_id": "MDQ6VXNlcjY0OTk2",
    "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/alexcrichton",
    "html_url": "https://github.com/alexcrichton",
    "followers_url": "https://api.github.com/users/alexcrichton/followers",
    "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
    "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
    "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
    "repos_url": "https://api.github.com/users/alexcrichton/repos",
    "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
    "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "labels": [],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [],
  "milestone": null,
  "comments": 1,
  "created_at": "2013-09-11T21:22:08Z",
  "updated_at": "2014-06-20T23:55:45Z",
  "closed_at": "2013-09-17T07:55:48Z",
  "author_association": "MEMBER",
  "type": null,
  "active_lock_reason": null,
  "draft": false,
  "pull_request": {
    "url": "https://api.github.com/repos/rust-lang/rust/pulls/9130",
    "html_url": "https://github.com/rust-lang/rust/pull/9130",
    "diff_url": "https://github.com/rust-lang/rust/pull/9130.diff",
    "patch_url": "https://github.com/rust-lang/rust/pull/9130.patch",
    "merged_at": null
  },
  "body": "In #8185 cross-crate condition handlers were fixed by ensuring that globals\ndidn't start appearing in different crates with different addressed. An\nunfortunate side effect of that pull request is that constants weren't inlined\nacross crates (uint::bits is unknown to everything but libstd).\n\nThis commit fixes this inlining by using the `available_eternally` linkage\nprovided by LLVM. It partially reverts #8185, and then adds support for this\nlinkage type. The main caveat is that not all statics could be inlined into\nother crates. Before this patch, all statics were considered \"inlineable items\",\nbut an unfortunate side effect of how we deal with `&static` and `&[static]`\nmeans that these two cases cannot be inlined across crates. The translation of\nconstants was modified to propogate this condition of whether a constant\nshould be considered inlineable into other crates.\n\nCloses #9036\n",
  "closed_by": {
    "login": "bors",
    "id": 3372342,
    "node_id": "MDQ6VXNlcjMzNzIzNDI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/bors",
    "html_url": "https://github.com/bors",
    "followers_url": "https://api.github.com/users/bors/followers",
    "following_url": "https://api.github.com/users/bors/following{/other_user}",
    "gists_url": "https://api.github.com/users/bors/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bors/subscriptions",
    "organizations_url": "https://api.github.com/users/bors/orgs",
    "repos_url": "https://api.github.com/users/bors/repos",
    "events_url": "https://api.github.com/users/bors/events{/privacy}",
    "received_events_url": "https://api.github.com/users/bors/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/9130/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/9130/timeline",
  "performed_via_github_app": null,
  "state_reason": null,
  "_meta": {
    "type": "pr"
  }
}
