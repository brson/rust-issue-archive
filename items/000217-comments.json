[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/757580",
    "html_url": "https://github.com/rust-lang/rust/issues/217#issuecomment-757580",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/217",
    "id": 757580,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc1NzU4MA==",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2011-02-10T00:25:33Z",
    "updated_at": "2011-02-10T00:25:33Z",
    "body": "Per Graydon, we need to do some more thinking about calling conventions before implementing this. LLVM requires the fastcc convention to implement tail calls, but it doesn't do quite what we want:\n\ngraydon:    brson: judging from comments in llvm-land, we may be in trouble. we might be able to compensate for what fastcc is doing today, but it's allowed to change its mind tomorrow.\ngraydon:    I thought fastcc == x86_fastcall, but I was wrong.\ngraydon:    those are different calling conventions. fastcc is \"whatever llvm feels like this week\"\ngraydon:    we need to switch to x86_fastcall and then, longer-term, write our own calling convention.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/757580/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/786589",
    "html_url": "https://github.com/rust-lang/rust/issues/217#issuecomment-786589",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/217",
    "id": 786589,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4NjU4OQ==",
    "user": {
      "login": "graydon",
      "id": 14097,
      "node_id": "MDQ6VXNlcjE0MDk3",
      "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/graydon",
      "html_url": "https://github.com/graydon",
      "followers_url": "https://api.github.com/users/graydon/followers",
      "following_url": "https://api.github.com/users/graydon/following{/other_user}",
      "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/graydon/subscriptions",
      "organizations_url": "https://api.github.com/users/graydon/orgs",
      "repos_url": "https://api.github.com/users/graydon/repos",
      "events_url": "https://api.github.com/users/graydon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/graydon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2011-02-18T19:12:14Z",
    "updated_at": "2011-02-18T19:12:14Z",
    "body": "This is currently half-implemented due to some complications in the way LLVM treats tail calls. Rustc parses 'be' expressions and translates them as call+ret pairs, which is enough to get us to 'working' on simple, not-very-deep cases. Might be enough to bootstrap.\n\nThere is apparently only one CC (fastcc) which supports guaranteed tail calls, and to adapt to it we need to change our ABI assumptions in several places (it turns into callee-restore when you enable the -tailcallopt flag). So even if we annotate our call+ret pairs with 'tail', as required, we can't actually tell LLVM to start performing that optimization yet.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/786589/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1108425",
    "html_url": "https://github.com/rust-lang/rust/issues/217#issuecomment-1108425",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/217",
    "id": 1108425,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExMDg0MjU=",
    "user": {
      "login": "graydon",
      "id": 14097,
      "node_id": "MDQ6VXNlcjE0MDk3",
      "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/graydon",
      "html_url": "https://github.com/graydon",
      "followers_url": "https://api.github.com/users/graydon/followers",
      "following_url": "https://api.github.com/users/graydon/following{/other_user}",
      "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/graydon/subscriptions",
      "organizations_url": "https://api.github.com/users/graydon/orgs",
      "repos_url": "https://api.github.com/users/graydon/repos",
      "events_url": "https://api.github.com/users/graydon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/graydon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2011-05-05T21:46:45Z",
    "updated_at": "2011-05-05T21:46:45Z",
    "body": "Turned out not to need more implementation than is shown here for self-hosting. Punting to next milestone.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1108425/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3021434",
    "html_url": "https://github.com/rust-lang/rust/issues/217#issuecomment-3021434",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/217",
    "id": 3021434,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMjE0MzQ=",
    "user": {
      "login": "graydon",
      "id": 14097,
      "node_id": "MDQ6VXNlcjE0MDk3",
      "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/graydon",
      "html_url": "https://github.com/graydon",
      "followers_url": "https://api.github.com/users/graydon/followers",
      "following_url": "https://api.github.com/users/graydon/following{/other_user}",
      "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/graydon/subscriptions",
      "organizations_url": "https://api.github.com/users/graydon/orgs",
      "repos_url": "https://api.github.com/users/graydon/repos",
      "events_url": "https://api.github.com/users/graydon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/graydon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2011-12-05T19:11:05Z",
    "updated_at": "2011-12-05T19:11:05Z",
    "body": "Anyone feel we're actually going to do this anymore?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3021434/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3035269",
    "html_url": "https://github.com/rust-lang/rust/issues/217#issuecomment-3035269",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/217",
    "id": 3035269,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMzUyNjk=",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2011-12-06T17:15:09Z",
    "updated_at": "2011-12-06T17:15:09Z",
    "body": "Doesn't seem like it's going to happen.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3035269/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3046204",
    "html_url": "https://github.com/rust-lang/rust/issues/217#issuecomment-3046204",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/217",
    "id": 3046204,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwNDYyMDQ=",
    "user": {
      "login": "marijnh",
      "id": 144427,
      "node_id": "MDQ6VXNlcjE0NDQyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/144427?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/marijnh",
      "html_url": "https://github.com/marijnh",
      "followers_url": "https://api.github.com/users/marijnh/followers",
      "following_url": "https://api.github.com/users/marijnh/following{/other_user}",
      "gists_url": "https://api.github.com/users/marijnh/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/marijnh/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/marijnh/subscriptions",
      "organizations_url": "https://api.github.com/users/marijnh/orgs",
      "repos_url": "https://api.github.com/users/marijnh/repos",
      "events_url": "https://api.github.com/users/marijnh/events{/privacy}",
      "received_events_url": "https://api.github.com/users/marijnh/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2011-12-07T11:42:21Z",
    "updated_at": "2011-12-07T11:42:21Z",
    "body": "What is the situation with LLVM and tail calls? If they can be made to reliably work without some invasive stuff like declaring the callee to be tail-called, we could define a limited set of things that can be passed to tail-calls (caller's own arguments, scalars), and error when something else is passed. Such tail calls might not be very useful in practice, though.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3046204/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3196586",
    "html_url": "https://github.com/rust-lang/rust/issues/217#issuecomment-3196586",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/217",
    "id": 3196586,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxOTY1ODY=",
    "user": {
      "login": "kud1ing",
      "id": 391975,
      "node_id": "MDQ6VXNlcjM5MTk3NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/391975?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kud1ing",
      "html_url": "https://github.com/kud1ing",
      "followers_url": "https://api.github.com/users/kud1ing/followers",
      "following_url": "https://api.github.com/users/kud1ing/following{/other_user}",
      "gists_url": "https://api.github.com/users/kud1ing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kud1ing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kud1ing/subscriptions",
      "organizations_url": "https://api.github.com/users/kud1ing/orgs",
      "repos_url": "https://api.github.com/users/kud1ing/repos",
      "events_url": "https://api.github.com/users/kud1ing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kud1ing/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2011-12-18T20:08:31Z",
    "updated_at": "2011-12-18T20:08:31Z",
    "body": "Is it possible that looking at Haskell's GHC LLVM-backend might be helpful?\n\nhttp://hackage.haskell.org/trac/ghc/wiki/Commentary/Compiler/Backends/LLVM\nhttp://llvm.org/docs/LangRef.html#callingconv\nhttp://llvm.org/docs/CodeGenerator.html#tailcallopt\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3196586/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 1
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3207680",
    "html_url": "https://github.com/rust-lang/rust/issues/217#issuecomment-3207680",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/217",
    "id": 3207680,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyMDc2ODA=",
    "user": {
      "login": "graydon",
      "id": 14097,
      "node_id": "MDQ6VXNlcjE0MDk3",
      "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/graydon",
      "html_url": "https://github.com/graydon",
      "followers_url": "https://api.github.com/users/graydon/followers",
      "following_url": "https://api.github.com/users/graydon/following{/other_user}",
      "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/graydon/subscriptions",
      "organizations_url": "https://api.github.com/users/graydon/orgs",
      "repos_url": "https://api.github.com/users/graydon/repos",
      "events_url": "https://api.github.com/users/graydon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/graydon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2011-12-19T18:58:16Z",
    "updated_at": "2011-12-19T18:58:16Z",
    "body": "They only work with a callee ABI that is suboptimal in non-tail-call cases. So in a sense, yes, they require the callee to be declared-to-be-tail-called.\n\nWe could implement this by, say, analyzing a crate and when we find a function that is tail called, either separately compiling it under the friendly-to-tail-call ABI, or compiling wrappers that switch ABI on entry, or something. Or alternatively we can switch _every_ function everywhere to using the tail-call-friendly ABI. I'm not sure if we're currently doing that. We were for a while but we may have stopped. It's the LLVM \"fastcall\" ABI, which I don't think we're using anymore.\n\nIn any case, it's a bit of a mess.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3207680/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/6610709",
    "html_url": "https://github.com/rust-lang/rust/issues/217#issuecomment-6610709",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/217",
    "id": 6610709,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2MTA3MDk=",
    "user": {
      "login": "msullivan",
      "id": 340349,
      "node_id": "MDQ6VXNlcjM0MDM0OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/340349?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/msullivan",
      "html_url": "https://github.com/msullivan",
      "followers_url": "https://api.github.com/users/msullivan/followers",
      "following_url": "https://api.github.com/users/msullivan/following{/other_user}",
      "gists_url": "https://api.github.com/users/msullivan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/msullivan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/msullivan/subscriptions",
      "organizations_url": "https://api.github.com/users/msullivan/orgs",
      "repos_url": "https://api.github.com/users/msullivan/repos",
      "events_url": "https://api.github.com/users/msullivan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/msullivan/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-06-27T18:01:04Z",
    "updated_at": "2012-06-27T18:01:04Z",
    "body": "We have sibling call optimization, now. Are we planning to try to do more?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/6610709/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/7148719",
    "html_url": "https://github.com/rust-lang/rust/issues/217#issuecomment-7148719",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/217",
    "id": 7148719,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxNDg3MTk=",
    "user": {
      "login": "catamorphism",
      "id": 427212,
      "node_id": "MDQ6VXNlcjQyNzIxMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/427212?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/catamorphism",
      "html_url": "https://github.com/catamorphism",
      "followers_url": "https://api.github.com/users/catamorphism/followers",
      "following_url": "https://api.github.com/users/catamorphism/following{/other_user}",
      "gists_url": "https://api.github.com/users/catamorphism/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/catamorphism/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/catamorphism/subscriptions",
      "organizations_url": "https://api.github.com/users/catamorphism/orgs",
      "repos_url": "https://api.github.com/users/catamorphism/repos",
      "events_url": "https://api.github.com/users/catamorphism/events{/privacy}",
      "received_events_url": "https://api.github.com/users/catamorphism/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-07-21T00:56:20Z",
    "updated_at": "2012-07-21T00:56:20Z",
    "body": "Not going to happen, except to the extent addressed by #2216. Solution for #2216 should be broad enough to support general state machine coding.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/7148719/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/8963981",
    "html_url": "https://github.com/rust-lang/rust/issues/217#issuecomment-8963981",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/217",
    "id": 8963981,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg5NjM5ODE=",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-09-28T03:52:35Z",
    "updated_at": "2012-09-28T03:52:35Z",
    "body": "This continues to come up in conversation, and we've reserved `be` again. Reopening.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/8963981/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/16189706",
    "html_url": "https://github.com/rust-lang/rust/issues/217#issuecomment-16189706",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/217",
    "id": 16189706,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2MTg5NzA2",
    "user": {
      "login": "bstrie",
      "id": 865233,
      "node_id": "MDQ6VXNlcjg2NTIzMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/865233?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bstrie",
      "html_url": "https://github.com/bstrie",
      "followers_url": "https://api.github.com/users/bstrie/followers",
      "following_url": "https://api.github.com/users/bstrie/following{/other_user}",
      "gists_url": "https://api.github.com/users/bstrie/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bstrie/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bstrie/subscriptions",
      "organizations_url": "https://api.github.com/users/bstrie/orgs",
      "repos_url": "https://api.github.com/users/bstrie/repos",
      "events_url": "https://api.github.com/users/bstrie/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bstrie/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-04-10T17:38:55Z",
    "updated_at": "2013-04-10T17:38:55Z",
    "body": "I think Graydon's comment on the mailing list:\n\nhttps://mail.mozilla.org/pipermail/rust-dev/2013-April/003557.html\n\nputs a nail in this coffin. Reproduced here:\n\n---\n\nOn 10/04/2013 5:43 AM, Artella Coding wrote:\n\n> Hi does rust do tail call optimization? The reason I am asking is that\n> the following tail call recursive implementation results in a stack\n> overflow. Thanks.\n\nNo, and it very likely won't. We have a longstanding bug on this:\n\nhttps://github.com/mozilla/rust/issues/217\n\nas well as a wiki page and several mailing list threads:\n\nhttps://github.com/mozilla/rust/wiki/Bikeshed-tailcall\nhttps://mail.mozilla.org/pipermail/rust-dev/2011-August/000689.html\nhttps://mail.mozilla.org/pipermail/rust-dev/2012-January/001280.html\n...\n\nThe summary of all this is:\n- We all know that tail calls are a virtuous language feature.\n   Further elaboration of their virtues is not required. Many of us\n   have lisp and ML backgrounds and would quite like them. Their\n   absence is heartache and sadness, not arrived-at lightly.\n- Tail calls \"play badly\" with deterministic destruction. Including\n   deterministic drop of ~ boxes. Not to say that they're not\n   composable, but the options for composing them are UI-awkward,\n   performance-penalizing, semantics-complicating or all of the above.\n- Tail calls also \"play badly\" with assumptions in C tools, including\n   platform ABIs and dynamic linking.\n- Tail calls require a calling convention that is a performance hit\n   relative to the C convention.\n- We find most cases of tail _recursion_ convert reasonably well to\n   loops, and most cases of non-recursive tail calls encode state\n   machines that convert reasonably well to loops wrapped around\n   enums. Neither of these are _quite_ as pretty as the\n   tail-call-using variants, but they do work and are \"as fast\"*,\n   as well as idiomatic for C and C++ programmers (who are our\n   primary audience).\n\nI'm sorry to be saying all this, and it is with a heavy heart, but we \ntried and did not find a way to make the tradeoffs associated with them \nsum up to an argument for inclusion in rust.\n\n-Graydon\n- speed-wise, a switch-in-a-loop state machine is indirect dispatch so \n  will likely run slower than a state machine encoded by tail calls from \n  state to state; on the other hand if the way to get this performance \n  \"back\" is to turn on tail calls everywhere, we'd be trading one isolated \n  suboptimal-perf case for a cross-all-programs suboptimal-perf tax. We \n  don't find this trade acceptable.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/16189706/reactions",
      "total_count": 9,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 5,
      "heart": 3,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/126709287",
    "html_url": "https://github.com/rust-lang/rust/issues/217#issuecomment-126709287",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/217",
    "id": 126709287,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNjcwOTI4Nw==",
    "user": {
      "login": "burdges",
      "id": 680126,
      "node_id": "MDQ6VXNlcjY4MDEyNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/680126?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/burdges",
      "html_url": "https://github.com/burdges",
      "followers_url": "https://api.github.com/users/burdges/followers",
      "following_url": "https://api.github.com/users/burdges/following{/other_user}",
      "gists_url": "https://api.github.com/users/burdges/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/burdges/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/burdges/subscriptions",
      "organizations_url": "https://api.github.com/users/burdges/orgs",
      "repos_url": "https://api.github.com/users/burdges/repos",
      "events_url": "https://api.github.com/users/burdges/events{/privacy}",
      "received_events_url": "https://api.github.com/users/burdges/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-31T14:31:40Z",
    "updated_at": "2015-07-31T14:31:40Z",
    "body": "It's maybe worth noting that Haskell commonly needs a static argument transformation for inlining, fusion, etc.  http://stackoverflow.com/a/9660027/667457\n\nRust could support the static argument transformation by saying that functions defined inside another function should be elidgible for tailcall optimizations.  Or simply warn if tailcalls between functions nested inside another fuction failed sibling optimization.  Not sure the current situation. \n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/126709287/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 1
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/233897025",
    "html_url": "https://github.com/rust-lang/rust/issues/217#issuecomment-233897025",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/217",
    "id": 233897025,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzMzg5NzAyNQ==",
    "user": {
      "login": "real-felix",
      "id": 18555389,
      "node_id": "MDQ6VXNlcjE4NTU1Mzg5",
      "avatar_url": "https://avatars.githubusercontent.com/u/18555389?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/real-felix",
      "html_url": "https://github.com/real-felix",
      "followers_url": "https://api.github.com/users/real-felix/followers",
      "following_url": "https://api.github.com/users/real-felix/following{/other_user}",
      "gists_url": "https://api.github.com/users/real-felix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/real-felix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/real-felix/subscriptions",
      "organizations_url": "https://api.github.com/users/real-felix/orgs",
      "repos_url": "https://api.github.com/users/real-felix/repos",
      "events_url": "https://api.github.com/users/real-felix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/real-felix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-07-20T09:19:18Z",
    "updated_at": "2016-07-20T09:19:18Z",
    "body": "It is sad the tail recursion will not be implemented. Then I have a question: why creating a language syntax that seems like a functional language syntax if there lacks an essential feature of functional?\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/233897025/reactions",
      "total_count": 16,
      "+1": 13,
      "-1": 2,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 1
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/237409642",
    "html_url": "https://github.com/rust-lang/rust/issues/217#issuecomment-237409642",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/217",
    "id": 237409642,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzNzQwOTY0Mg==",
    "user": {
      "login": "Stargateur",
      "id": 7503742,
      "node_id": "MDQ6VXNlcjc1MDM3NDI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7503742?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Stargateur",
      "html_url": "https://github.com/Stargateur",
      "followers_url": "https://api.github.com/users/Stargateur/followers",
      "following_url": "https://api.github.com/users/Stargateur/following{/other_user}",
      "gists_url": "https://api.github.com/users/Stargateur/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Stargateur/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Stargateur/subscriptions",
      "organizations_url": "https://api.github.com/users/Stargateur/orgs",
      "repos_url": "https://api.github.com/users/Stargateur/repos",
      "events_url": "https://api.github.com/users/Stargateur/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Stargateur/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-08-03T23:46:16Z",
    "updated_at": "2016-08-04T00:37:50Z",
    "body": "I'm news in rust and I'm very sad. I try a tail recursive function and I stack overflow so fast. worst when I compile in release the behavior change. He just don't call my function. A friend said to me that the LLVM optimize to undefined value (LLVM know that is a tail recursion infinite ?!?).\n\n``` rust\nfn rec(i: i32) {\n  rec(i + 1)\n}\n\nfn main() {\n  println!(\"{}\", rec(0));\n}\n```\n\nI agree with Boiethios, a language with functional features who doesn't implement tail call miss something.\n\nI write in C and C++, they don't guarantee tail call, but in fact they handle it very well. It's not gonna stop me to learn rust, now I know that rust doesn't handle it. I will code without so it's not a big problem.\n\nBut I think that is a very good feature for a modern language.\n\nnotice that \n\n``` rust\nfn rec(i: i32) {\n  println!(\"Hello\");\n  rec(i + 1)\n}\n```\n\nstack overflow too in release mode of cargo\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/237409642/reactions",
      "total_count": 2,
      "+1": 1,
      "-1": 1,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/237444136",
    "html_url": "https://github.com/rust-lang/rust/issues/217#issuecomment-237444136",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/217",
    "id": 237444136,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzNzQ0NDEzNg==",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-08-04T03:38:33Z",
    "updated_at": "2016-08-04T03:38:33Z",
    "body": "We have plans to eventually implement guaranteed TCO, if possible. We even reserved a keyword for it, \"become\". Please check the RFCs repo.\n\nOn Aug 3, 2016, 19:46 -0400, Antoine PLASKOWSKI notifications@github.com, wrote:\n\n> I'm news in rust and I'm very sad. I try a tail recursive function and I stack overflow so fast. worst when I compile in release the behavior change. He just don't call my function. A friend said to me that the LLVM optimize to undefine value (LLVM know that is a tail recursion infinite ?!?).\n> \n> fn rec(i: i32) { rec(i + 1) } fn main() { println!(\"{}\", rec(0)); }\n> \n> I'm agree with Boiethios, a language with functional features who doesn't implement tail call miss something.\n> \n> I write in C and C++, they don't guaranty tail call but in fact they handle it very well. It's not gonna stop me to learn rust, now I know that rust doesn't handle it I will code without so it's not a big problem.\n> \n> But I think that is a very good feature for a modern language.\n> \n> \u2014\n> You are receiving this because you are subscribed to this thread.\n> Reply to this email directly, view it on GitHub (https://github.com/rust-lang/rust/issues/217#issuecomment-237409642), or mute the thread (https://github.com/notifications/unsubscribe-auth/AABsipoedHrbnKDekmzCr-dl8M6g-Gojks5qcShKgaJpZM4AC-q_).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/237444136/reactions",
      "total_count": 51,
      "+1": 26,
      "-1": 0,
      "laugh": 0,
      "hooray": 17,
      "confused": 0,
      "heart": 8,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/288877119",
    "html_url": "https://github.com/rust-lang/rust/issues/217#issuecomment-288877119",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/217",
    "id": 288877119,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4ODg3NzExOQ==",
    "user": {
      "login": "timthelion",
      "id": 1391608,
      "node_id": "MDQ6VXNlcjEzOTE2MDg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1391608?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/timthelion",
      "html_url": "https://github.com/timthelion",
      "followers_url": "https://api.github.com/users/timthelion/followers",
      "following_url": "https://api.github.com/users/timthelion/following{/other_user}",
      "gists_url": "https://api.github.com/users/timthelion/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/timthelion/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/timthelion/subscriptions",
      "organizations_url": "https://api.github.com/users/timthelion/orgs",
      "repos_url": "https://api.github.com/users/timthelion/repos",
      "events_url": "https://api.github.com/users/timthelion/events{/privacy}",
      "received_events_url": "https://api.github.com/users/timthelion/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-03-23T22:15:32Z",
    "updated_at": "2017-03-23T22:15:32Z",
    "body": "Just a question: It is hypothetically possible to do call graph analysis and transform tail calls into loops, at least within a single crate, but it is computationally expensive at compile time and quite tricky to code. Was there any discussion of this possibility? That would still be an option now, without regard to the choice of calling convention.",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/288877119/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/361110041",
    "html_url": "https://github.com/rust-lang/rust/issues/217#issuecomment-361110041",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/217",
    "id": 361110041,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2MTExMDA0MQ==",
    "user": {
      "login": "ewtoombs",
      "id": 2224848,
      "node_id": "MDQ6VXNlcjIyMjQ4NDg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2224848?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ewtoombs",
      "html_url": "https://github.com/ewtoombs",
      "followers_url": "https://api.github.com/users/ewtoombs/followers",
      "following_url": "https://api.github.com/users/ewtoombs/following{/other_user}",
      "gists_url": "https://api.github.com/users/ewtoombs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ewtoombs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ewtoombs/subscriptions",
      "organizations_url": "https://api.github.com/users/ewtoombs/orgs",
      "repos_url": "https://api.github.com/users/ewtoombs/repos",
      "events_url": "https://api.github.com/users/ewtoombs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ewtoombs/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-01-29T00:16:54Z",
    "updated_at": "2018-01-29T00:16:54Z",
    "body": "lbstanza's approach is to require annotation of functions to make them eligible for TCO (defn+ instead of defn). In rust, that would largely mitigate the extra compile time overhead to timthelion's suggestion, just so long as you aren't using tail calls literally everywhere lol.",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/361110041/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
