[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/52765021",
    "html_url": "https://github.com/rust-lang/rust/issues/16625#issuecomment-52765021",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/16625",
    "id": 52765021,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyNzY1MDIx",
    "user": {
      "login": "thestinger",
      "id": 1505226,
      "node_id": "MDQ6VXNlcjE1MDUyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thestinger",
      "html_url": "https://github.com/thestinger",
      "followers_url": "https://api.github.com/users/thestinger/followers",
      "following_url": "https://api.github.com/users/thestinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions",
      "organizations_url": "https://api.github.com/users/thestinger/orgs",
      "repos_url": "https://api.github.com/users/thestinger/repos",
      "events_url": "https://api.github.com/users/thestinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thestinger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-20T11:51:48Z",
    "updated_at": "2014-08-20T11:51:48Z",
    "body": "This is the cost of the `fail!()` macro. Instead, we should call a function (`fail(\"foo\")`) and let backtraces handle reporting the location of the error.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/52765021/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/52765815",
    "html_url": "https://github.com/rust-lang/rust/issues/16625#issuecomment-52765815",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/16625",
    "id": 52765815,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyNzY1ODE1",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-20T12:01:25Z",
    "updated_at": "2014-08-20T12:02:50Z",
    "body": "It's also the cost of doing significantly more work than necessary:\n- [bounds checks](https://github.com/rust-lang/rust/blob/05df25f13e53e87c9b96382df2d05ac732d5e7c8/src/libcore/str.rs#L1856), neither (there is [two `is_char_boundary` calls](https://github.com/rust-lang/rust/blob/05df25f13e53e87c9b96382df2d05ac732d5e7c8/src/libcore/str.rs#L1765)) are eliminated, although this looks a bit like an LLVM bug, since the two length comparisons above it cover the OOB case, and it's even touching the same variables in the IR:\n  \n  ``` llvm\n    %11 = icmp eq i64 %.sroa.3.0.copyload.i.i.i, %2\n    br i1 %11, label %before_rhs.i, label %next-block.i.i\n  \n  next-block.i.i:                                   ; preds = %entry-block\n    %12 = icmp ult i64 %.sroa.3.0.copyload.i.i.i, %2\n    br i1 %12, label %then-block-54-.i, label %next-block1.i.i\n  \n  next-block1.i.i:                                  ; preds = %next-block.i.i\n    %13 = icmp ugt i64 %.sroa.3.0.copyload.i.i.i, %2 ; impossible to fail!\n  ```\n- an [`assert!`](https://github.com/rust-lang/rust/blob/05df25f13e53e87c9b96382df2d05ac732d5e7c8/src/libcore/str.rs#L1003) that is impossible to trigger due to bounds checking in `is_char_boundary`.\n\nIt should be possible to at least reduce it to 2 unwinding (one for the character boundaries, one for `start <= end`), or even 1 if we're willing to lump everything together.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/52765815/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/52766527",
    "html_url": "https://github.com/rust-lang/rust/issues/16625#issuecomment-52766527",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/16625",
    "id": 52766527,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyNzY2NTI3",
    "user": {
      "login": "thestinger",
      "id": 1505226,
      "node_id": "MDQ6VXNlcjE1MDUyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thestinger",
      "html_url": "https://github.com/thestinger",
      "followers_url": "https://api.github.com/users/thestinger/followers",
      "following_url": "https://api.github.com/users/thestinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions",
      "organizations_url": "https://api.github.com/users/thestinger/orgs",
      "repos_url": "https://api.github.com/users/thestinger/repos",
      "events_url": "https://api.github.com/users/thestinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thestinger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-20T12:09:51Z",
    "updated_at": "2014-08-20T12:10:29Z",
    "body": "The intricate details of the error handling aren't really important, because there's no reason for it to be inlined everywhere. It should be a function call passing a string literal. Using macros to report error locations _doesn't work anyway_ because you don't get any context beyond the fact that a very low-level function like `slice` failed. You already need backtraces and those don't bloat all of the code.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/52766527/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/52780118",
    "html_url": "https://github.com/rust-lang/rust/issues/16625#issuecomment-52780118",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/16625",
    "id": 52780118,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyNzgwMTE4",
    "user": {
      "login": "pcwalton",
      "id": 157897,
      "node_id": "MDQ6VXNlcjE1Nzg5Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/157897?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pcwalton",
      "html_url": "https://github.com/pcwalton",
      "followers_url": "https://api.github.com/users/pcwalton/followers",
      "following_url": "https://api.github.com/users/pcwalton/following{/other_user}",
      "gists_url": "https://api.github.com/users/pcwalton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pcwalton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pcwalton/subscriptions",
      "organizations_url": "https://api.github.com/users/pcwalton/orgs",
      "repos_url": "https://api.github.com/users/pcwalton/repos",
      "events_url": "https://api.github.com/users/pcwalton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pcwalton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-20T13:48:53Z",
    "updated_at": "2014-08-20T13:48:53Z",
    "body": "I think the problem is not the error location (that can be fixed if it's not already) but the fact that there's string formatting going on. Asserts should never have string formatting.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/52780118/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/52783071",
    "html_url": "https://github.com/rust-lang/rust/issues/16625#issuecomment-52783071",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/16625",
    "id": 52783071,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyNzgzMDcx",
    "user": {
      "login": "bluss",
      "id": 3209739,
      "node_id": "MDQ6VXNlcjMyMDk3Mzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3209739?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bluss",
      "html_url": "https://github.com/bluss",
      "followers_url": "https://api.github.com/users/bluss/followers",
      "following_url": "https://api.github.com/users/bluss/following{/other_user}",
      "gists_url": "https://api.github.com/users/bluss/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bluss/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bluss/subscriptions",
      "organizations_url": "https://api.github.com/users/bluss/orgs",
      "repos_url": "https://api.github.com/users/bluss/repos",
      "events_url": "https://api.github.com/users/bluss/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bluss/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-20T14:10:19Z",
    "updated_at": "2014-08-20T14:10:30Z",
    "body": "Do `.slice_from` and `.slice_to` optimize out the checks for their respective fixed endpoints? If not, that's a possible improvement in the same area.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/52783071/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/52881021",
    "html_url": "https://github.com/rust-lang/rust/issues/16625#issuecomment-52881021",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/16625",
    "id": 52881021,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyODgxMDIx",
    "user": {
      "login": "bluss",
      "id": 3209739,
      "node_id": "MDQ6VXNlcjMyMDk3Mzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3209739?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bluss",
      "html_url": "https://github.com/bluss",
      "followers_url": "https://api.github.com/users/bluss/followers",
      "following_url": "https://api.github.com/users/bluss/following{/other_user}",
      "gists_url": "https://api.github.com/users/bluss/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bluss/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bluss/subscriptions",
      "organizations_url": "https://api.github.com/users/bluss/orgs",
      "repos_url": "https://api.github.com/users/bluss/repos",
      "events_url": "https://api.github.com/users/bluss/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bluss/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-21T05:51:06Z",
    "updated_at": "2014-08-23T08:48:53Z",
    "body": "`fail!(\"assertion failed: {:s}\", stringify!($cond))` should be easy to fix. Replace with\n`fail!(concat!(\"assertion failed: \", stringify!($cond)))`\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/52881021/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53193192",
    "html_url": "https://github.com/rust-lang/rust/issues/16625#issuecomment-53193192",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/16625",
    "id": 53193192,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzMTkzMTky",
    "user": {
      "login": "bluss",
      "id": 3209739,
      "node_id": "MDQ6VXNlcjMyMDk3Mzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3209739?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bluss",
      "html_url": "https://github.com/bluss",
      "followers_url": "https://api.github.com/users/bluss/followers",
      "following_url": "https://api.github.com/users/bluss/following{/other_user}",
      "gists_url": "https://api.github.com/users/bluss/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bluss/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bluss/subscriptions",
      "organizations_url": "https://api.github.com/users/bluss/orgs",
      "repos_url": "https://api.github.com/users/bluss/repos",
      "events_url": "https://api.github.com/users/bluss/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bluss/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-24T13:35:49Z",
    "updated_at": "2014-08-24T13:35:49Z",
    "body": "This issue has been resolved by resolving the example given, but what is the follow up, what is the more general issue?  Would allowing a format-free assert! code path help (issue #16700)?  Should we extend the pattern of using a \"cold\" function to perform elaborate error reporting?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53193192/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53205726",
    "html_url": "https://github.com/rust-lang/rust/issues/16625#issuecomment-53205726",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/16625",
    "id": 53205726,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzMjA1NzI2",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-24T20:24:12Z",
    "updated_at": "2014-08-24T20:24:12Z",
    "body": "I would not like to propagate the `#[inline(never)]` + `#[cold]` pattern except where absolutely necessary as it is in general indicative of a more subtle underlying problem than a fix that should only happen locally.\n\nThis specific issue has been addressed, however, so I'm going to close this. More targeted follow up issues can be opened and addressed separately.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53205726/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
