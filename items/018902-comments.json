[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62786924",
    "html_url": "https://github.com/rust-lang/rust/issues/18902#issuecomment-62786924",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18902",
    "id": 62786924,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyNzg2OTI0",
    "user": {
      "login": "Gankra",
      "id": 1136864,
      "node_id": "MDQ6VXNlcjExMzY4NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1136864?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Gankra",
      "html_url": "https://github.com/Gankra",
      "followers_url": "https://api.github.com/users/Gankra/followers",
      "following_url": "https://api.github.com/users/Gankra/following{/other_user}",
      "gists_url": "https://api.github.com/users/Gankra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Gankra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Gankra/subscriptions",
      "organizations_url": "https://api.github.com/users/Gankra/orgs",
      "repos_url": "https://api.github.com/users/Gankra/repos",
      "events_url": "https://api.github.com/users/Gankra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Gankra/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-12T20:23:27Z",
    "updated_at": "2015-06-17T16:25:02Z",
    "body": "This appears to just be the classic borrowck mutable loop wrangling issue. The following works:\n\n``` rust\nfn main() {\n    let i = vec![\"hello\", \"there\", \"yo\"];\n    let mut bytes = Vec::from_elem(1000, 0);\n    {\n        // We need to make the temp variable so that borrowck \"gets\" what we're doing.\n        let mut temp = bytes.as_mut_slice();\n        for s in i.iter() {\n            let bytes = temp;\n            std::slice::bytes::copy_memory(bytes, s.as_bytes());\n            bytes[s.len()] = 0;\n            temp = bytes.slice_from_mut(s.len() + 1);\n        }\n    }\n}\n\n```\n\n[playpen](http://is.gd/Gtif9i)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62786924/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/71731351",
    "html_url": "https://github.com/rust-lang/rust/issues/18902#issuecomment-71731351",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18902",
    "id": 71731351,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxNzMxMzUx",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-27T21:27:07Z",
    "updated_at": "2015-01-27T21:27:07Z",
    "body": "Closing as 'not a bug', then.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/71731351/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/71733465",
    "html_url": "https://github.com/rust-lang/rust/issues/18902#issuecomment-71733465",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18902",
    "id": 71733465,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxNzMzNDY1",
    "user": {
      "login": "mahkoh",
      "id": 1882250,
      "node_id": "MDQ6VXNlcjE4ODIyNTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1882250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mahkoh",
      "html_url": "https://github.com/mahkoh",
      "followers_url": "https://api.github.com/users/mahkoh/followers",
      "following_url": "https://api.github.com/users/mahkoh/following{/other_user}",
      "gists_url": "https://api.github.com/users/mahkoh/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mahkoh/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mahkoh/subscriptions",
      "organizations_url": "https://api.github.com/users/mahkoh/orgs",
      "repos_url": "https://api.github.com/users/mahkoh/repos",
      "events_url": "https://api.github.com/users/mahkoh/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mahkoh/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-27T21:40:17Z",
    "updated_at": "2015-01-27T21:40:17Z",
    "body": "How is it not a bug?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/71733465/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/71737777",
    "html_url": "https://github.com/rust-lang/rust/issues/18902#issuecomment-71737777",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18902",
    "id": 71737777,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxNzM3Nzc3",
    "user": {
      "login": "Gankra",
      "id": 1136864,
      "node_id": "MDQ6VXNlcjExMzY4NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1136864?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Gankra",
      "html_url": "https://github.com/Gankra",
      "followers_url": "https://api.github.com/users/Gankra/followers",
      "following_url": "https://api.github.com/users/Gankra/following{/other_user}",
      "gists_url": "https://api.github.com/users/Gankra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Gankra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Gankra/subscriptions",
      "organizations_url": "https://api.github.com/users/Gankra/orgs",
      "repos_url": "https://api.github.com/users/Gankra/repos",
      "events_url": "https://api.github.com/users/Gankra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Gankra/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-27T22:05:07Z",
    "updated_at": "2015-01-27T22:05:07Z",
    "body": "Depends on how you interpret the lack of non-lexical borrow-checking, I guess.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/71737777/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/71738268",
    "html_url": "https://github.com/rust-lang/rust/issues/18902#issuecomment-71738268",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18902",
    "id": 71738268,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxNzM4MjY4",
    "user": {
      "login": "mahkoh",
      "id": 1882250,
      "node_id": "MDQ6VXNlcjE4ODIyNTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1882250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mahkoh",
      "html_url": "https://github.com/mahkoh",
      "followers_url": "https://api.github.com/users/mahkoh/followers",
      "following_url": "https://api.github.com/users/mahkoh/following{/other_user}",
      "gists_url": "https://api.github.com/users/mahkoh/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mahkoh/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mahkoh/subscriptions",
      "organizations_url": "https://api.github.com/users/mahkoh/orgs",
      "repos_url": "https://api.github.com/users/mahkoh/repos",
      "events_url": "https://api.github.com/users/mahkoh/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mahkoh/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-27T22:07:46Z",
    "updated_at": "2015-01-27T22:07:46Z",
    "body": "I don't see what it has to do with non-lexical borrow checking. Normally you can't work around that by introducing even more variables.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/71738268/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/71739944",
    "html_url": "https://github.com/rust-lang/rust/issues/18902#issuecomment-71739944",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18902",
    "id": 71739944,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxNzM5OTQ0",
    "user": {
      "login": "Gankra",
      "id": 1136864,
      "node_id": "MDQ6VXNlcjExMzY4NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1136864?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Gankra",
      "html_url": "https://github.com/Gankra",
      "followers_url": "https://api.github.com/users/Gankra/followers",
      "following_url": "https://api.github.com/users/Gankra/following{/other_user}",
      "gists_url": "https://api.github.com/users/Gankra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Gankra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Gankra/subscriptions",
      "organizations_url": "https://api.github.com/users/Gankra/orgs",
      "repos_url": "https://api.github.com/users/Gankra/repos",
      "events_url": "https://api.github.com/users/Gankra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Gankra/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-27T22:17:47Z",
    "updated_at": "2015-01-27T22:17:47Z",
    "body": "Re-opening. At best, it's total butts that you need to do this.\n\nUnclear if non-lexical scopes could actually fix this.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/71739944/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/77037112",
    "html_url": "https://github.com/rust-lang/rust/issues/18902#issuecomment-77037112",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18902",
    "id": 77037112,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3MDM3MTEy",
    "user": {
      "login": "inrustwetrust",
      "id": 8572437,
      "node_id": "MDQ6VXNlcjg1NzI0Mzc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8572437?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/inrustwetrust",
      "html_url": "https://github.com/inrustwetrust",
      "followers_url": "https://api.github.com/users/inrustwetrust/followers",
      "following_url": "https://api.github.com/users/inrustwetrust/following{/other_user}",
      "gists_url": "https://api.github.com/users/inrustwetrust/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/inrustwetrust/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/inrustwetrust/subscriptions",
      "organizations_url": "https://api.github.com/users/inrustwetrust/orgs",
      "repos_url": "https://api.github.com/users/inrustwetrust/repos",
      "events_url": "https://api.github.com/users/inrustwetrust/events{/privacy}",
      "received_events_url": "https://api.github.com/users/inrustwetrust/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-03T21:21:20Z",
    "updated_at": "2015-03-03T21:21:50Z",
    "body": "I don't think this one is related to the lexical scope of borrows. I believe it's due to how the borrow checker handles mutable borrows that are made through an already borrowed reference. This appears to place a mutable borrow restriction on the reference _itself_, not just the owned value.\n\nFor example:\n\n```\nstruct Foo { val: i32 }\n\nfn main() {\n    let mut owned_foo = Foo { val: 0 };\n    let mut owned_foo2 = Foo { val: 1 };\n\n    let mut foo_ref = &mut owned_foo;\n\n    //This makes a mutable borrow not only of\n    //`owned_foo`, but also of `foo_ref` *itself*...\n    let val_ref = &mut foo_ref.val;\n\n    //...so we can't repoint foo_ref to something\n    //else here, even though it would be safe (the\n    //memory val_ref points to is still backed by\n    //owned_foo)\n    foo_ref = &mut owned_foo2;\n}\n```\n\nThe above code result in \"cannot assign to `foo_ref` because it is borrowed\" on the last line.\nInterestingly, the same issue does not appear if the mutable borrows are changed to non-mutable ones.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/77037112/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/112872738",
    "html_url": "https://github.com/rust-lang/rust/issues/18902#issuecomment-112872738",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18902",
    "id": 112872738,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExMjg3MjczOA==",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-06-17T16:43:38Z",
    "updated_at": "2015-06-17T16:43:38Z",
    "body": "fwiw, this is a dup of #10520 I believe\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/112872738/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
