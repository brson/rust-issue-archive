[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/51988094",
    "html_url": "https://github.com/rust-lang/rust/issues/11004#issuecomment-51988094",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/11004",
    "id": 51988094,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxOTg4MDk0",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-12T22:45:00Z",
    "updated_at": "2014-08-12T22:45:18Z",
    "body": "This error message is the same, here's an updated sample:\n\n```\nuse std::mem;\n\nstruct A { x: int, y: f64 }\n\n#[cfg(not(works))]\nunsafe fn access(n:*mut A) -> (int, f64) {\n    let x : int = n.x;\n    let y : f64 = n.y;\n    (x, y)\n}\n\n#[cfg(works)]\nunsafe fn access(n:*mut A) -> (int, f64) {\n    let x : int = (*n).x;\n    let y : f64 = (*n).y;\n    (x, y)\n}\n\nfn main() {\n    let a :  A = A { x: 3, y: 3.14 };\n    let p : &A = &a;\n    let (x,y) = unsafe {\n        let n : *mut A = mem::transmute(p);\n        access(n)\n    };\n    println!(\"x: {}, y: {}\", x, y);\n}\n\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/51988094/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/178706785",
    "html_url": "https://github.com/rust-lang/rust/issues/11004#issuecomment-178706785",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/11004",
    "id": 178706785,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3ODcwNjc4NQ==",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-02-02T17:38:30Z",
    "updated_at": "2016-02-02T17:38:30Z",
    "body": "Triage: same error, updated sample:\n\n``` rust\nuse std::mem;\n\nstruct A { x: i32, y: f64 }\n\n#[cfg(not(works))]\nunsafe fn access(n:*mut A) -> (i32, f64) {\n    let x : i32 = n.x;\n    let y : f64 = n.y;\n    (x, y)\n}\n\n#[cfg(works)]\nunsafe fn access(n:*mut A) -> (i32, f64) {\n    let x : i32 = (*n).x;\n    let y : f64 = (*n).y;\n    (x, y)\n}\n\nfn main() {\n    let a :  A = A { x: 3, y: 3.14 };\n    let p : &A = &a;\n    let (x,y) = unsafe {\n        let n : *mut A = mem::transmute(p);\n        access(n)\n    };\n    println!(\"x: {}, y: {}\", x, y);\n}\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/178706785/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/240384866",
    "html_url": "https://github.com/rust-lang/rust/issues/11004#issuecomment-240384866",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/11004",
    "id": 240384866,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0MDM4NDg2Ng==",
    "user": {
      "login": "dovreshef",
      "id": 5120549,
      "node_id": "MDQ6VXNlcjUxMjA1NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5120549?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dovreshef",
      "html_url": "https://github.com/dovreshef",
      "followers_url": "https://api.github.com/users/dovreshef/followers",
      "following_url": "https://api.github.com/users/dovreshef/following{/other_user}",
      "gists_url": "https://api.github.com/users/dovreshef/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dovreshef/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dovreshef/subscriptions",
      "organizations_url": "https://api.github.com/users/dovreshef/orgs",
      "repos_url": "https://api.github.com/users/dovreshef/repos",
      "events_url": "https://api.github.com/users/dovreshef/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dovreshef/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-08-17T11:28:24Z",
    "updated_at": "2016-08-17T11:28:24Z",
    "body": "Still a problem. Run into this today as well :). \ncc @GuillaumeGomez.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/240384866/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/240385107",
    "html_url": "https://github.com/rust-lang/rust/issues/11004#issuecomment-240385107",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/11004",
    "id": 240385107,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0MDM4NTEwNw==",
    "user": {
      "login": "GuillaumeGomez",
      "id": 3050060,
      "node_id": "MDQ6VXNlcjMwNTAwNjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/GuillaumeGomez",
      "html_url": "https://github.com/GuillaumeGomez",
      "followers_url": "https://api.github.com/users/GuillaumeGomez/followers",
      "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}",
      "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions",
      "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs",
      "repos_url": "https://api.github.com/users/GuillaumeGomez/repos",
      "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}",
      "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-08-17T11:29:47Z",
    "updated_at": "2016-08-17T11:29:47Z",
    "body": "I'll work on it.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/240385107/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
