[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/13847994",
    "html_url": "https://github.com/rust-lang/rust/issues/5056#issuecomment-13847994",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5056",
    "id": 13847994,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzODQ3OTk0",
    "user": {
      "login": "evmar",
      "id": 3847,
      "node_id": "MDQ6VXNlcjM4NDc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3847?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/evmar",
      "html_url": "https://github.com/evmar",
      "followers_url": "https://api.github.com/users/evmar/followers",
      "following_url": "https://api.github.com/users/evmar/following{/other_user}",
      "gists_url": "https://api.github.com/users/evmar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/evmar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/evmar/subscriptions",
      "organizations_url": "https://api.github.com/users/evmar/orgs",
      "repos_url": "https://api.github.com/users/evmar/repos",
      "events_url": "https://api.github.com/users/evmar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/evmar/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-02-20T18:30:25Z",
    "updated_at": "2013-02-20T18:30:25Z",
    "body": "Using Rust 9143688197ee1ba14e224badbe1402b36111e592 pulled yesterday.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/13847994/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/13848204",
    "html_url": "https://github.com/rust-lang/rust/issues/5056#issuecomment-13848204",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5056",
    "id": 13848204,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzODQ4MjA0",
    "user": {
      "login": "evmar",
      "id": 3847,
      "node_id": "MDQ6VXNlcjM4NDc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3847?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/evmar",
      "html_url": "https://github.com/evmar",
      "followers_url": "https://api.github.com/users/evmar/followers",
      "following_url": "https://api.github.com/users/evmar/following{/other_user}",
      "gists_url": "https://api.github.com/users/evmar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/evmar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/evmar/subscriptions",
      "organizations_url": "https://api.github.com/users/evmar/orgs",
      "repos_url": "https://api.github.com/users/evmar/repos",
      "events_url": "https://api.github.com/users/evmar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/evmar/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-02-20T18:33:59Z",
    "updated_at": "2013-02-20T18:33:59Z",
    "body": "Issue #2004 is probably related, in that it wasn't clear whether it's ok for read_byte to return -1.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/13848204/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/13925452",
    "html_url": "https://github.com/rust-lang/rust/issues/5056#issuecomment-13925452",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5056",
    "id": 13925452,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzOTI1NDUy",
    "user": {
      "login": "evmar",
      "id": 3847,
      "node_id": "MDQ6VXNlcjM4NDc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3847?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/evmar",
      "html_url": "https://github.com/evmar",
      "followers_url": "https://api.github.com/users/evmar/followers",
      "following_url": "https://api.github.com/users/evmar/following{/other_user}",
      "gists_url": "https://api.github.com/users/evmar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/evmar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/evmar/subscriptions",
      "organizations_url": "https://api.github.com/users/evmar/orgs",
      "repos_url": "https://api.github.com/users/evmar/repos",
      "events_url": "https://api.github.com/users/evmar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/evmar/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-02-22T02:30:43Z",
    "updated_at": "2013-02-22T02:30:43Z",
    "body": "Something like \n\n```\nFrom 7d649f37476f533de1bbd5c964350e7a9cc93ac3 Mon Sep 17 00:00:00 2001\nFrom: Evan Martin <martine@danga.com>\nDate: Wed, 20 Feb 2013 10:46:51 -0800\nSubject: [PATCH] ReaderUtil::each_byte shouldn't include EOF byte -- Issue\n #5056\n\n---\n src/libcore/io.rs | 18 ++++++++++++++++--\n 1 file changed, 16 insertions(+), 2 deletions(-)\n\ndiff --git a/src/libcore/io.rs b/src/libcore/io.rs\nindex 2173efe..84877e7 100644\n--- a/src/libcore/io.rs\n+++ b/src/libcore/io.rs\n@@ -277,12 +277,16 @@ impl<T: Reader> ReaderUtil for T {\n     }\n\n     fn each_byte(&self, it: fn(int) -> bool) {\n-        while !self.eof() {\n-            if !it(self.read_byte()) { break; }\n+        loop {\n+            match self.read_byte() {\n+                -1 => break,\n+                ch => if !it(ch) { break; }\n+            }\n         }\n     }\n\n     fn each_char(&self, it: fn(char) -> bool) {\n+        // FIXME this doesn't handle EOF properly -- see issue #5056\n         while !self.eof() {\n             if !it(self.read_char()) { break; }\n         }\n@@ -1211,6 +1215,16 @@ mod tests {\n     }\n\n     #[test]\n+    fn test_each_byte_empty() {\n+        // Issue #5056 -- shouldn't include trailing EOF.\n+        do io::with_str_reader(~\"\") |inp| {\n+            for inp.each_byte() |b| {\n+                assert(b != -1);\n+            }\n+        }\n+    }\n+\n+    #[test]\n     fn test_readchars_empty() {\n         do io::with_str_reader(~\"\") |inp| {\n             let res : ~[char] = inp.read_chars(128);\n-- \n1.8.1.3\n```\n\nBut the build is soooo slowwwwwww\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/13925452/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/20299526",
    "html_url": "https://github.com/rust-lang/rust/issues/5056#issuecomment-20299526",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5056",
    "id": 20299526,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwMjk5NTI2",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-07-01T18:10:15Z",
    "updated_at": "2013-07-01T18:10:15Z",
    "body": "@martine can you open a PR with that patch please?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/20299526/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/20299613",
    "html_url": "https://github.com/rust-lang/rust/issues/5056#issuecomment-20299613",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5056",
    "id": 20299613,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwMjk5NjEz",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-07-01T18:11:45Z",
    "updated_at": "2013-07-01T18:11:45Z",
    "body": "(Reproduces)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/20299613/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/21665781",
    "html_url": "https://github.com/rust-lang/rust/issues/5056#issuecomment-21665781",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5056",
    "id": 21665781,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxNjY1Nzgx",
    "user": {
      "login": "stepancheg",
      "id": 28969,
      "node_id": "MDQ6VXNlcjI4OTY5",
      "avatar_url": "https://avatars.githubusercontent.com/u/28969?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stepancheg",
      "html_url": "https://github.com/stepancheg",
      "followers_url": "https://api.github.com/users/stepancheg/followers",
      "following_url": "https://api.github.com/users/stepancheg/following{/other_user}",
      "gists_url": "https://api.github.com/users/stepancheg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stepancheg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stepancheg/subscriptions",
      "organizations_url": "https://api.github.com/users/stepancheg/orgs",
      "repos_url": "https://api.github.com/users/stepancheg/repos",
      "events_url": "https://api.github.com/users/stepancheg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stepancheg/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-07-27T13:55:02Z",
    "updated_at": "2013-07-27T13:55:02Z",
    "body": "Pull request #8081.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/21665781/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/21673575",
    "html_url": "https://github.com/rust-lang/rust/issues/5056#issuecomment-21673575",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5056",
    "id": 21673575,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxNjczNTc1",
    "user": {
      "login": "evmar",
      "id": 3847,
      "node_id": "MDQ6VXNlcjM4NDc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3847?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/evmar",
      "html_url": "https://github.com/evmar",
      "followers_url": "https://api.github.com/users/evmar/followers",
      "following_url": "https://api.github.com/users/evmar/following{/other_user}",
      "gists_url": "https://api.github.com/users/evmar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/evmar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/evmar/subscriptions",
      "organizations_url": "https://api.github.com/users/evmar/orgs",
      "repos_url": "https://api.github.com/users/evmar/repos",
      "events_url": "https://api.github.com/users/evmar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/evmar/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-07-27T22:21:18Z",
    "updated_at": "2013-07-27T22:21:18Z",
    "body": "Sorry for never cleaning up my initial patch, I think I had imagined things would be thrown away and redone before my patch was ever useful.  I think ultimately it's pretty busted to provide a `.eof()` method because of the issue mentioned in your patch -- you can't know if you're at the end of a file until you attempt to read from it, so you need a way for read to signal eof, at which point you don't so much need a second API that tells you whether subsequent reads will fail.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/21673575/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/21683871",
    "html_url": "https://github.com/rust-lang/rust/issues/5056#issuecomment-21683871",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5056",
    "id": 21683871,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxNjgzODcx",
    "user": {
      "login": "stepancheg",
      "id": 28969,
      "node_id": "MDQ6VXNlcjI4OTY5",
      "avatar_url": "https://avatars.githubusercontent.com/u/28969?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stepancheg",
      "html_url": "https://github.com/stepancheg",
      "followers_url": "https://api.github.com/users/stepancheg/followers",
      "following_url": "https://api.github.com/users/stepancheg/following{/other_user}",
      "gists_url": "https://api.github.com/users/stepancheg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stepancheg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stepancheg/subscriptions",
      "organizations_url": "https://api.github.com/users/stepancheg/orgs",
      "repos_url": "https://api.github.com/users/stepancheg/repos",
      "events_url": "https://api.github.com/users/stepancheg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stepancheg/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-07-28T13:55:20Z",
    "updated_at": "2013-07-28T13:55:30Z",
    "body": "@martine I agree, `.eof()` is wrong operation for input stream. I'd drop it without replacement.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/21683871/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/21685411",
    "html_url": "https://github.com/rust-lang/rust/issues/5056#issuecomment-21685411",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5056",
    "id": 21685411,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxNjg1NDEx",
    "user": {
      "login": "stepancheg",
      "id": 28969,
      "node_id": "MDQ6VXNlcjI4OTY5",
      "avatar_url": "https://avatars.githubusercontent.com/u/28969?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stepancheg",
      "html_url": "https://github.com/stepancheg",
      "followers_url": "https://api.github.com/users/stepancheg/followers",
      "following_url": "https://api.github.com/users/stepancheg/following{/other_user}",
      "gists_url": "https://api.github.com/users/stepancheg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stepancheg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stepancheg/subscriptions",
      "organizations_url": "https://api.github.com/users/stepancheg/orgs",
      "repos_url": "https://api.github.com/users/stepancheg/repos",
      "events_url": "https://api.github.com/users/stepancheg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stepancheg/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-07-28T15:43:18Z",
    "updated_at": "2013-07-28T15:43:18Z",
    "body": "Pull request merged into master, issue can be closed now.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/21685411/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
