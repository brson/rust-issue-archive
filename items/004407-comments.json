[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/13357800",
    "html_url": "https://github.com/rust-lang/rust/issues/4407#issuecomment-13357800",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/4407",
    "id": 13357800,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMzU3ODAw",
    "user": {
      "login": "Blei",
      "id": 52674,
      "node_id": "MDQ6VXNlcjUyNjc0",
      "avatar_url": "https://avatars.githubusercontent.com/u/52674?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Blei",
      "html_url": "https://github.com/Blei",
      "followers_url": "https://api.github.com/users/Blei/followers",
      "following_url": "https://api.github.com/users/Blei/following{/other_user}",
      "gists_url": "https://api.github.com/users/Blei/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Blei/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Blei/subscriptions",
      "organizations_url": "https://api.github.com/users/Blei/orgs",
      "repos_url": "https://api.github.com/users/Blei/repos",
      "events_url": "https://api.github.com/users/Blei/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Blei/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-02-10T18:08:30Z",
    "updated_at": "2013-02-10T18:08:30Z",
    "body": "I spent an afternoon debugging this. It causes mysterious crashes inside dlopen() and fascinating invalid reads in valgrind, but in the end it turns out that increasing the `C_STACK_SIZE` in `rust_sched_loop.cpp` makes rusti work again (set to 100_1024_1024 here).\n\nMy theory (cobbled together using valgrind output) is, that rusti calls into the compiler, which calls into `LLVMRustLoadCrate`, which calls `dlopen()`, which in turn reads stuff into a buffer on the c stack and in the process overruns the allocated stack, wreaking general havoc.\n\nNot sure how this can be solved elegantly, or even if my diagnosis is correct.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/13357800/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/15210233",
    "html_url": "https://github.com/rust-lang/rust/issues/4407#issuecomment-15210233",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/4407",
    "id": 15210233,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MjEwMjMz",
    "user": {
      "login": "thestinger",
      "id": 1505226,
      "node_id": "MDQ6VXNlcjE1MDUyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thestinger",
      "html_url": "https://github.com/thestinger",
      "followers_url": "https://api.github.com/users/thestinger/followers",
      "following_url": "https://api.github.com/users/thestinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions",
      "organizations_url": "https://api.github.com/users/thestinger/orgs",
      "repos_url": "https://api.github.com/users/thestinger/repos",
      "events_url": "https://api.github.com/users/thestinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thestinger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-03-20T23:19:49Z",
    "updated_at": "2013-03-20T23:19:49Z",
    "body": "It seems like this problem is at least partly solved on OS X, but still exists on Linux.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/15210233/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/15210499",
    "html_url": "https://github.com/rust-lang/rust/issues/4407#issuecomment-15210499",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/4407",
    "id": 15210499,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MjEwNDk5",
    "user": {
      "login": "z0w0",
      "id": 676417,
      "node_id": "MDQ6VXNlcjY3NjQxNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/676417?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/z0w0",
      "html_url": "https://github.com/z0w0",
      "followers_url": "https://api.github.com/users/z0w0/followers",
      "following_url": "https://api.github.com/users/z0w0/following{/other_user}",
      "gists_url": "https://api.github.com/users/z0w0/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/z0w0/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/z0w0/subscriptions",
      "organizations_url": "https://api.github.com/users/z0w0/orgs",
      "repos_url": "https://api.github.com/users/z0w0/repos",
      "events_url": "https://api.github.com/users/z0w0/events{/privacy}",
      "received_events_url": "https://api.github.com/users/z0w0/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-03-20T23:26:08Z",
    "updated_at": "2013-03-20T23:26:08Z",
    "body": "Awesome work debugging it, I've been trying to debug it for a long time. I'm not very good at debugging, haha. How can we fix this? Kind of need it fixed before 0.6.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/15210499/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/15219973",
    "html_url": "https://github.com/rust-lang/rust/issues/4407#issuecomment-15219973",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/4407",
    "id": 15219973,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MjE5OTcz",
    "user": {
      "login": "z0w0",
      "id": 676417,
      "node_id": "MDQ6VXNlcjY3NjQxNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/676417?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/z0w0",
      "html_url": "https://github.com/z0w0",
      "followers_url": "https://api.github.com/users/z0w0/followers",
      "following_url": "https://api.github.com/users/z0w0/following{/other_user}",
      "gists_url": "https://api.github.com/users/z0w0/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/z0w0/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/z0w0/subscriptions",
      "organizations_url": "https://api.github.com/users/z0w0/orgs",
      "repos_url": "https://api.github.com/users/z0w0/repos",
      "events_url": "https://api.github.com/users/z0w0/events{/privacy}",
      "received_events_url": "https://api.github.com/users/z0w0/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-03-21T05:13:09Z",
    "updated_at": "2013-03-21T05:25:30Z",
    "body": "@brson, @nikomatsakis is there any way to allocate a larger C stack when calling `LLVMRustLoadCrate` at the moment (without increasing C_STACK_SIZE, which I presume is an unacceptable change)?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/15219973/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
