[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/150892568",
    "html_url": "https://github.com/rust-lang/rust/issues/29293#issuecomment-150892568",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29293",
    "id": 150892568,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MDg5MjU2OA==",
    "user": {
      "login": "ghost",
      "id": 10137,
      "node_id": "MDQ6VXNlcjEwMTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ghost",
      "html_url": "https://github.com/ghost",
      "followers_url": "https://api.github.com/users/ghost/followers",
      "following_url": "https://api.github.com/users/ghost/following{/other_user}",
      "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
      "organizations_url": "https://api.github.com/users/ghost/orgs",
      "repos_url": "https://api.github.com/users/ghost/repos",
      "events_url": "https://api.github.com/users/ghost/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ghost/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-25T05:10:53Z",
    "updated_at": "2015-10-25T05:12:03Z",
    "body": "I forgot to mention that this may be related: https://github.com/rust-lang/rust/issues/11493\n\nEDIT: however it hangs on the next line for me, next (empty) line after `error: Option 'version' given more than once.`\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/150892568/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/150896636",
    "html_url": "https://github.com/rust-lang/rust/issues/29293#issuecomment-150896636",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29293",
    "id": 150896636,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MDg5NjYzNg==",
    "user": {
      "login": "achanda",
      "id": 2165463,
      "node_id": "MDQ6VXNlcjIxNjU0NjM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2165463?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achanda",
      "html_url": "https://github.com/achanda",
      "followers_url": "https://api.github.com/users/achanda/followers",
      "following_url": "https://api.github.com/users/achanda/following{/other_user}",
      "gists_url": "https://api.github.com/users/achanda/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achanda/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achanda/subscriptions",
      "organizations_url": "https://api.github.com/users/achanda/orgs",
      "repos_url": "https://api.github.com/users/achanda/repos",
      "events_url": "https://api.github.com/users/achanda/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achanda/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-25T06:35:21Z",
    "updated_at": "2015-10-25T06:35:21Z",
    "body": "Can't seem to repro this on OSX\n\n```\n:~/src/rust (master=)$ time rustc -VV\nerror: Option 'version' given more than once.\n\nreal    0m0.106s\nuser    0m0.054s\nsys 0m0.055s\n:~/src/rust(master=)$ time rustc -V\nrustc 1.5.0-nightly (1210fb9bc 2015-10-23)\n\nreal    0m0.105s\nuser    0m0.053s\nsys 0m0.053s\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/150896636/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/150897886",
    "html_url": "https://github.com/rust-lang/rust/issues/29293#issuecomment-150897886",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29293",
    "id": 150897886,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MDg5Nzg4Ng==",
    "user": {
      "login": "dylanmckay",
      "id": 7722159,
      "node_id": "MDQ6VXNlcjc3MjIxNTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7722159?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dylanmckay",
      "html_url": "https://github.com/dylanmckay",
      "followers_url": "https://api.github.com/users/dylanmckay/followers",
      "following_url": "https://api.github.com/users/dylanmckay/following{/other_user}",
      "gists_url": "https://api.github.com/users/dylanmckay/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dylanmckay/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dylanmckay/subscriptions",
      "organizations_url": "https://api.github.com/users/dylanmckay/orgs",
      "repos_url": "https://api.github.com/users/dylanmckay/repos",
      "events_url": "https://api.github.com/users/dylanmckay/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dylanmckay/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-25T07:03:08Z",
    "updated_at": "2015-10-25T07:03:08Z",
    "body": "Can't reproduce it on Linux.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/150897886/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/150904437",
    "html_url": "https://github.com/rust-lang/rust/issues/29293#issuecomment-150904437",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29293",
    "id": 150904437,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MDkwNDQzNw==",
    "user": {
      "login": "ghost",
      "id": 10137,
      "node_id": "MDQ6VXNlcjEwMTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ghost",
      "html_url": "https://github.com/ghost",
      "followers_url": "https://api.github.com/users/ghost/followers",
      "following_url": "https://api.github.com/users/ghost/following{/other_user}",
      "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
      "organizations_url": "https://api.github.com/users/ghost/orgs",
      "repos_url": "https://api.github.com/users/ghost/repos",
      "events_url": "https://api.github.com/users/ghost/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ghost/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-25T09:16:07Z",
    "updated_at": "2015-10-25T09:16:07Z",
    "body": "Thanks for testing guys.\nI just notice that while it's hanged, it uses 100% cpu\n\n```\n  PID USER      PR  NI    VIRT    RES    SHR S  %CPU %MEM     TIME+ COMMAND     \n16019 zazdxscf  20   0  371032  87312  47316 S 100.0  0.6   0:09.06 rustc       \n```\n\n```\n  PID USER      PR  NI    VIRT    RES    SHR S  %CPU %MEM     TIME+ COMMAND     \n16038 zazdxscf  20   0  395396 116692  52220 S 100.0  0.7   0:42.02 rustc       \n```\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/150904437/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/150904859",
    "html_url": "https://github.com/rust-lang/rust/issues/29293#issuecomment-150904859",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29293",
    "id": 150904859,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MDkwNDg1OQ==",
    "user": {
      "login": "ghost",
      "id": 10137,
      "node_id": "MDQ6VXNlcjEwMTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ghost",
      "html_url": "https://github.com/ghost",
      "followers_url": "https://api.github.com/users/ghost/followers",
      "following_url": "https://api.github.com/users/ghost/following{/other_user}",
      "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
      "organizations_url": "https://api.github.com/users/ghost/orgs",
      "repos_url": "https://api.github.com/users/ghost/repos",
      "events_url": "https://api.github.com/users/ghost/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ghost/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-25T09:26:09Z",
    "updated_at": "2015-10-25T12:49:30Z",
    "body": "It works fine like this:\n\n``` bash\n$ time sudo --user=zazdxscf /home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage2/bin/rustc -VV\nerror: Option 'version' given more than once.\n\nreal    0m0.109s\nuser    0m0.047s\nsys 0m0.057s\n```\n\nbut not like this:\n\n``` bash\n$ time /home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage2/bin/rustc -VV\nerror: Option 'version' given more than once.\n\nreal    0m44.118s\nuser    0m43.787s\nsys 0m0.313s\n```\n\nHere's a strace:\n\n``` bash\n$ time strace /home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage2/bin/rustc -VV 2>/tmp/strace3.log \n\nreal    0m44.451s\nuser    0m44.073s\nsys 0m0.360s\n$ cat /tmp/strace3.log\n```\n\n**EDIT:** moved [here](https://gist.github.com/zazdxscf/512f8994c87ad3ff6f71) to make scrolling here on this page easier.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/150904859/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/150905396",
    "html_url": "https://github.com/rust-lang/rust/issues/29293#issuecomment-150905396",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29293",
    "id": 150905396,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MDkwNTM5Ng==",
    "user": {
      "login": "ghost",
      "id": 10137,
      "node_id": "MDQ6VXNlcjEwMTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ghost",
      "html_url": "https://github.com/ghost",
      "followers_url": "https://api.github.com/users/ghost/followers",
      "following_url": "https://api.github.com/users/ghost/following{/other_user}",
      "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
      "organizations_url": "https://api.github.com/users/ghost/orgs",
      "repos_url": "https://api.github.com/users/ghost/repos",
      "events_url": "https://api.github.com/users/ghost/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ghost/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-25T09:40:16Z",
    "updated_at": "2015-10-25T09:47:23Z",
    "body": "Here's a crazier strace, at the end we see most of the time is spend in futex stuff\nhttps://gist.githubusercontent.com/zazdxscf/7768f1a4679ad2d60b7e/raw/0309272e682c93507321825e97e8d4cbe43abccd/strace.log\n\n```\n% time     seconds  usecs/call     calls    errors syscall\n------ ----------- ----------- --------- --------- ----------------\n 98.60    1.126667      375556         3           futex\n  0.68    0.007794          14       558           read\n  0.41    0.004738           0     11064           mmap\n  0.24    0.002716          17       159           munmap\n  0.05    0.000552           7        81        13 open\n  0.02    0.000235           3        68           close\n  0.00    0.000000           0         8           write\n  0.00    0.000000           0        10         8 stat\n  0.00    0.000000           0        33           fstat\n  0.00    0.000000           0        24           lseek\n  0.00    0.000000           0        66           mprotect\n  0.00    0.000000           0         4           brk\n  0.00    0.000000           0         5           rt_sigaction\n  0.00    0.000000           0         1           rt_sigprocmask\n  0.00    0.000000           0         2           ioctl\n  0.00    0.000000           0         1         1 access\n  0.00    0.000000           0        25           madvise\n  0.00    0.000000           0         1           clone\n  0.00    0.000000           0         1           execve\n  0.00    0.000000           0        33           fcntl\n  0.00    0.000000           0         2         1 readlink\n  0.00    0.000000           0         2           getrlimit\n  0.00    0.000000           0         2           sigaltstack\n  0.00    0.000000           0         1           prctl\n  0.00    0.000000           0         1           arch_prctl\n  0.00    0.000000           0         2           sched_getaffinity\n  0.00    0.000000           0         1           set_tid_address\n  0.00    0.000000           0         2           set_robust_list\n  0.00    0.000000           0         2           getrandom\n------ ----------- ----------- --------- --------- ----------------\n100.00    1.142702                 12162        23 total\n```\n\n**EDIT**: for comparison, here's when it works(doesn't hang)\nhttps://gist.github.com/zazdxscf/f30352d3deffce5c1439\n\n```\n% time     seconds  usecs/call     calls    errors syscall\n------ ----------- ----------- --------- --------- ----------------\n 77.45    0.026666        8889         3           futex\n 19.98    0.006879          12       558           read\n  1.38    0.000475           7        66           mprotect\n  0.58    0.000201           4        47        12 open\n  0.38    0.000131           1        99           mmap\n  0.23    0.000078           2        33           fstat\n  0.00    0.000000           0         8           write\n  0.00    0.000000           0        35           close\n  0.00    0.000000           0        10         8 stat\n  0.00    0.000000           0        24           lseek\n  0.00    0.000000           0        12           munmap\n  0.00    0.000000           0         4           brk\n  0.00    0.000000           0         5           rt_sigaction\n  0.00    0.000000           0         1           rt_sigprocmask\n  0.00    0.000000           0         2           ioctl\n  0.00    0.000000           0         1         1 access\n  0.00    0.000000           0        23           madvise\n  0.00    0.000000           0         1           clone\n  0.00    0.000000           0         1           execve\n  0.00    0.000000           0         2         1 readlink\n  0.00    0.000000           0         2           getrlimit\n  0.00    0.000000           0         2           sigaltstack\n  0.00    0.000000           0         1           prctl\n  0.00    0.000000           0         1           arch_prctl\n  0.00    0.000000           0         2           sched_getaffinity\n  0.00    0.000000           0         1           set_tid_address\n  0.00    0.000000           0         2           set_robust_list\n  0.00    0.000000           0         2           getrandom\n------ ----------- ----------- --------- --------- ----------------\n100.00    0.034430                   948        22 total\n```\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/150905396/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/150906194",
    "html_url": "https://github.com/rust-lang/rust/issues/29293#issuecomment-150906194",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29293",
    "id": 150906194,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MDkwNjE5NA==",
    "user": {
      "login": "ghost",
      "id": 10137,
      "node_id": "MDQ6VXNlcjEwMTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ghost",
      "html_url": "https://github.com/ghost",
      "followers_url": "https://api.github.com/users/ghost/followers",
      "following_url": "https://api.github.com/users/ghost/following{/other_user}",
      "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
      "organizations_url": "https://api.github.com/users/ghost/orgs",
      "repos_url": "https://api.github.com/users/ghost/repos",
      "events_url": "https://api.github.com/users/ghost/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ghost/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-25T09:55:06Z",
    "updated_at": "2015-10-25T10:14:12Z",
    "body": "Oh figured it out: it's because `RUST_BACKTRACE` was set in my environment (set to `1`)\n\n```\n$ unset RUST_BACKTRACE\ntime /home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage2/bin/rustc -VV\nerror: Option 'version' given more than once.\n\nreal    0m0.106s\nuser    0m0.053s\nsys 0m0.050s\n```\n\neven if I set it to `0` or empty value, the issue remains:\n\n```\n$ time RUST_BACKTRACE=0 /home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage2/bin/rustc -VV\nerror: Option 'version' given more than once.\n\nreal    0m44.758s\nuser    0m44.310s\nsys 0m0.390s\n\n$ time RUST_BACKTRACE= /home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage2/bin/rustc -VV\nerror: Option 'version' given more than once.\n\nreal    0m44.767s\nuser    0m44.460s\nsys 0m0.283s\n```\n\n**EDIT:** This explains why rust tests were taking ages to complete... (half a day at least, but I stopped them)\n**EDIT2:** Also realized that the value likely means nothing, and just the fact that the var is set is considered enabled.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/150906194/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/150938409",
    "html_url": "https://github.com/rust-lang/rust/issues/29293#issuecomment-150938409",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29293",
    "id": 150938409,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MDkzODQwOQ==",
    "user": {
      "login": "nagisa",
      "id": 679122,
      "node_id": "MDQ6VXNlcjY3OTEyMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/679122?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nagisa",
      "html_url": "https://github.com/nagisa",
      "followers_url": "https://api.github.com/users/nagisa/followers",
      "following_url": "https://api.github.com/users/nagisa/following{/other_user}",
      "gists_url": "https://api.github.com/users/nagisa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nagisa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nagisa/subscriptions",
      "organizations_url": "https://api.github.com/users/nagisa/orgs",
      "repos_url": "https://api.github.com/users/nagisa/repos",
      "events_url": "https://api.github.com/users/nagisa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nagisa/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-25T16:17:12Z",
    "updated_at": "2015-10-25T16:17:39Z",
    "body": "`futex` taking so long seems to only be indicative of some mutex waiting to get a lock for a long time.\n\nWhat seems to be troubling is count of `mmap` calls. Even if their time/call seems to be recorded as 0, there\u2019s syscall overhead to think about (the overhead is not big enough to cause 40 seconds though).\n\nThat being said, I can\u2019t reproduce this (nor increase in syscall count/duration) either.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/150938409/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/150947506",
    "html_url": "https://github.com/rust-lang/rust/issues/29293#issuecomment-150947506",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29293",
    "id": 150947506,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MDk0NzUwNg==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-25T17:41:40Z",
    "updated_at": "2015-10-25T17:41:40Z",
    "body": "@zazdxscf like others, I unfortunately can't reproduce this (even with `RUST_BACKTRACE` being set). Lots of `mmap` syscalls may be indicative of something just going into an infinite loop of allocating, so could you also try to use `gdb` to capture some stack traces? That may help us pin down where this is coming from.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/150947506/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/150991322",
    "html_url": "https://github.com/rust-lang/rust/issues/29293#issuecomment-150991322",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29293",
    "id": 150991322,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MDk5MTMyMg==",
    "user": {
      "login": "ghost",
      "id": 10137,
      "node_id": "MDQ6VXNlcjEwMTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ghost",
      "html_url": "https://github.com/ghost",
      "followers_url": "https://api.github.com/users/ghost/followers",
      "following_url": "https://api.github.com/users/ghost/following{/other_user}",
      "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
      "organizations_url": "https://api.github.com/users/ghost/orgs",
      "repos_url": "https://api.github.com/users/ghost/repos",
      "events_url": "https://api.github.com/users/ghost/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ghost/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-26T00:22:38Z",
    "updated_at": "2015-10-26T05:25:26Z",
    "body": "**tl;dr:** hang time reduced by 20 times(now at 2.6 sec instead of 40 sec) after recompiling rust(with newer latest master and unoptimized llvm) and someone please tell me how to make gdb show symbols-ridden stacktrace. Thanks.\n\nI'm having trouble figuring out how get a stacktrace (with symbols). I need help (maybe someone could point me to an article on how to debug rustc with gdb, but not how to debug rust programs with gdb).\n\n``` bash\n$ PATH=\"$PATH:/home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage0/bin/\" RUST_BACKTRACE=1 rust-gdb -- rustc\nGNU gdb (Gentoo 7.10 vanilla) 7.10\nCopyright (C) 2015 Free Software Foundation, Inc.\nLicense GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>\nThis is free software: you are free to change and redistribute it.\nThere is NO WARRANTY, to the extent permitted by law.  Type \"show copying\"\nand \"show warranty\" for details.\nThis GDB was configured as \"x86_64-pc-linux-gnu\".\nType \"show configuration\" for configuration details.\nFor bug reporting instructions, please see:\n<https://bugs.gentoo.org/>.\nFind the GDB manual and other documentation resources online at:\n<http://www.gnu.org/software/gdb/documentation/>.\nFor help, type \"help\".\nType \"apropos word\" to search for commands related to \"word\"...\nReading symbols from rustc...done.\n```\n\n``` bash\n(gdb) run -VV\nStarting program: /home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage2/bin/rustc -VV\nwarning: Cannot call inferior functions, Linux kernel PaX protection forbids return to non-executable pages!\n[New LWP 7481]\nerror: Option 'version' given more than once.\n^C\nProgram received signal SIGINT, Interrupt.\n0x0000033afe21e9ad in ?? ()\n(gdb) bt full\n#0  0x0000033afe21e9ad in ?? ()\nNo symbol table info available.\n#1  0x000000000000000e in ?? ()\nNo symbol table info available.\n#2  0x00000000fbc24120 in ?? ()\nNo symbol table info available.\n#3  0x0000033afe21e8d0 in ?? ()\nNo symbol table info available.\n#4  0x0000033afbb6bd28 in ?? ()\nNo symbol table info available.\n#5  0x0000033afbc00000 in ?? ()\nNo symbol table info available.\n#6  0x0000000000000000 in ?? ()\nNo symbol table info available.\n```\n\nHmm now that I look at this gdb from 2 days ago, I notice some have symbols and some don't https://github.com/rust-lang/rust/issues/29270#issue-113143959\nIs it because the source is not c/c++ ?\n\nOn another note: I noticed that I cannot reproduce it with the snapshot rust\n\n``` bash\n$ time RUST_BACKTRACE=1 /home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage0/bin/rustc -VV\nerror: Option 'version' given more than once.\n\nreal    0m0.401s\nuser    0m0.360s\nsys 0m0.020s\n\n$ time RUST_BACKTRACE=1 /home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage0/bin/rustc -Vv\nrustc 1.4.0-dev (1af31d497 2015-08-11)\nbinary: rustc\ncommit-hash: 1af31d4974e33027a68126fa5a5a3c2c6491824f\ncommit-date: 2015-08-11\nhost: x86_64-unknown-linux-gnu\nrelease: 1.4.0-dev\n\nreal    0m0.018s\nuser    0m0.000s\nsys 0m0.010s\n```\n\nAlthough there's **0.4** sec vs 0.02 sec ! I can feel that hang a litle, but let's say it doesn't at all.\n\nNow with non-optimized debug-enabled llvm (this `--enable-debug-symbols --disable-optimized --enable-debug-runtime` to llvm, and this `--disable-optimize-llvm` to rust's ./configure; instead of this `--enable-optimized` to llvm(which implies no debug symbols) because of this `--enable-optimize-llvm` to rust's ./configure), the time spent is 10-20 times less:\n(I swear I had output that was consistently showing 4.3 seconds(like 10 times less), but now consistently 2.6 sec (like 20 times less, than I previously reported))\n\nstage0 rust (not snapshot stage0)\n\n``` bash\n$ time RUST_BACKTRACE= /home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage0/lib/rustlib/x86_64-unknown-linux-gnu/bin/rustc -VV \nerror: Option 'version' given more than once.\n\nreal    0m2.671s\nuser    0m2.407s\nsys 0m0.070s\n\n$ time RUST_BACKTRACE= /home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage0/lib/rustlib/x86_64-unknown-linux-gnu/bin/rustc -Vv\nrustc 1.5.0-dev (2a418216f 2015-10-25)\nbinary: rustc\ncommit-hash: 2a418216feeb83fd3f68c725c0e5577beacff59b\ncommit-date: 2015-10-25\nhost: x86_64-unknown-linux-gnu\nrelease: 1.5.0-dev\n\nreal    0m0.123s\nuser    0m0.080s\nsys 0m0.030s\n```\n\nstage1 rust\n\n``` bash\n$ time RUST_BACKTRACE= /home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage1/bin/rustc -VV\nerror: Option 'version' given more than once.\n\nreal    0m2.654s\nuser    0m2.410s\nsys 0m0.090s\n\n$ time RUST_BACKTRACE= /home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage1/bin/rustc -Vv\nrustc 1.5.0-dev (2a418216f 2015-10-25)\nbinary: rustc\ncommit-hash: 2a418216feeb83fd3f68c725c0e5577beacff59b\ncommit-date: 2015-10-25\nhost: x86_64-unknown-linux-gnu\nrelease: 1.5.0-dev\n\nreal    0m0.150s\nuser    0m0.070s\nsys 0m0.037s\n```\n\nstage2 is still compiling... Good god! :)) (but I don't want `go`, I want `rust`) **EDIT:** my bad for having set cpu governor to `conservative`!! (it was stuck at 800Mhz even thought rustc was using 100% cpu, aka 1 thread, instead of 4) switched back to `ondemand`. `cpupower frequency-set -g ondemand` (which was is the default). The thing is, it was actually pretty fast until after stage1 got compiled; but then, it's been some serious hours since! (likely because of that 800Mhz)\n**EDIT2:** here's stage2 (which takes normal time, compared to stage1)\n\n``` bash\n$ time RUST_BACKTRACE= /home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage2/bin/rustc -VV\nerror: Option 'version' given more than once.\n\nreal    0m46.847s\nuser    0m45.843s\nsys 0m0.313s\n\n$ time RUST_BACKTRACE= /home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage2/bin/rustc -Vv\nrustc 1.5.0-dev (2a418216f 2015-10-25)\nbinary: rustc\ncommit-hash: 2a418216feeb83fd3f68c725c0e5577beacff59b\ncommit-date: 2015-10-25\nhost: x86_64-unknown-linux-gnu\nrelease: 1.5.0-dev\n\nreal    0m0.181s\nuser    0m0.080s\nsys 0m0.030s\n\n$ time /home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage2/bin/rustc -VV\nerror: Option 'version' given more than once.\n\nreal    0m0.116s\nuser    0m0.083s\nsys 0m0.033s\n\n```\n\n(I did rerun stage1 after this, and it's still 2.5 sec)\n\n``` bash\n$ RUST_BACKTRACE= gdb -- /home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage1/bin/rustc\nGNU gdb (Gentoo 7.10 vanilla) 7.10\nCopyright (C) 2015 Free Software Foundation, Inc.\nLicense GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>\nThis is free software: you are free to change and redistribute it.\nThere is NO WARRANTY, to the extent permitted by law.  Type \"show copying\"\nand \"show warranty\" for details.\nThis GDB was configured as \"x86_64-pc-linux-gnu\".\nType \"show configuration\" for configuration details.\nFor bug reporting instructions, please see:\n<https://bugs.gentoo.org/>.\nFind the GDB manual and other documentation resources online at:\n<http://www.gnu.org/software/gdb/documentation/>.\nFor help, type \"help\".\nType \"apropos word\" to search for commands related to \"word\"...\nReading symbols from /home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage1/bin/rustc...done.\n(gdb) run -VV\nStarting program: /home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage1/bin/rustc -VV\nwarning: Cannot call inferior functions, Linux kernel PaX protection forbids return to non-executable pages!\n[New LWP 31140]\nerror: Option 'version' given more than once.\n^C\nProgram received signal SIGINT, Interrupt.\n0x0000035c616709ad in ?? ()\n(gdb) run -VVQuit\n(gdb) thread apply all bt full\n\nThread 2 (LWP 31140):\n#0  0x0000035c694cc986 in ?? ()\nNo symbol table info available.\n#1  0x0000035c5fb20ca0 in ?? ()\nNo symbol table info available.\n#2  0x0000035c694cc461 in ?? ()\nNo symbol table info available.\n#3  0x0000035c694cc95e in ?? ()\nNo symbol table info available.\n#4  0x0000000000000018 in ?? ()\nNo symbol table info available.\n#5  0x0000000000000685 in ?? ()\nNo symbol table info available.\n#6  0x0000035c5ce548e8 in ?? ()\nNo symbol table info available.\n#7  0x0000035c5ce548e8 in ?? ()\nNo symbol table info available.\n#8  0x000000000000011b in ?? ()\nNo symbol table info available.\n#9  0x000000000000031f in ?? ()\nNo symbol table info available.\n#10 0x0000035c5ce548e8 in ?? ()\n---Type <return> to continue, or q <return> to quit---\nNo symbol table info available.\n#11 0x0000035c5fb20cf0 in ?? ()\nNo symbol table info available.\n#12 0x0000035c694cc56a in ?? ()\nNo symbol table info available.\n#13 0x0000035c694cc95e in ?? ()\nNo symbol table info available.\n#14 0x0000000000000018 in ?? ()\nNo symbol table info available.\n#15 0x00000000000016ee in ?? ()\nNo symbol table info available.\n#16 0x0000035c5ce3c708 in ?? ()\nNo symbol table info available.\n#17 0x0000035c5ce64830 in ?? ()\nNo symbol table info available.\n#18 0x0000000000001013 in ?? ()\nNo symbol table info available.\n#19 0x00000000000016ee in ?? ()\nNo symbol table info available.\n#20 0x0000035c5ce3c708 in ?? ()\nNo symbol table info available.\n#21 0x0000035c5fb20d40 in ?? ()\nNo symbol table info available.\n---Type <return> to continue, or q <return> to quit---\n#22 0x0000035c694cc50d in ?? ()\nNo symbol table info available.\n#23 0x0000035c694cc95e in ?? ()\nNo symbol table info available.\n#24 0x0000000000000018 in ?? ()\nNo symbol table info available.\n#25 0x0000000000004c32 in ?? ()\nNo symbol table info available.\n#26 0x0000035c5cdb7e80 in ?? ()\nNo symbol table info available.\n#27 0x0000035c5cdb7e80 in ?? ()\nNo symbol table info available.\n#28 0x0000000000001ab6 in ?? ()\nNo symbol table info available.\n#29 0x0000000000004c32 in ?? ()\nNo symbol table info available.\n#30 0x0000035c5ce3c708 in ?? ()\nNo symbol table info available.\n#31 0x0000035c5fb20d90 in ?? ()\nNo symbol table info available.\n#32 0x0000035c694cc56a in ?? ()\nNo symbol table info available.\n#33 0x0000035c694cc95e in ?? ()\n---Type <return> to continue, or q <return> to quit---\nNo symbol table info available.\n#34 0x0000000000000018 in ?? ()\nNo symbol table info available.\n#35 0x000000000001d455 in ?? ()\nNo symbol table info available.\n#36 0x0000035c5c96b000 in ?? ()\nNo symbol table info available.\n#37 0x0000000000000000 in ?? ()\nNo symbol table info available.\n\nThread 1 (LWP 31020):\n#0  0x0000035c616709ad in ?? ()\nNo symbol table info available.\n#1  0x00000000697213a8 in ?? ()\nNo symbol table info available.\n#2  0x0000000000000010 in ?? ()\nNo symbol table info available.\n#3  0x0000035c616708d0 in ?? ()\nNo symbol table info available.\n#4  0x0000035c5fb26d28 in ?? ()\nNo symbol table info available.\n#5  0x0000000000000000 in ?? ()\nNo symbol table info available.\n(gdb) quit\nA debugging session is active.\n\n    Inferior 1 [process 31020] will be killed.\n\nQuit anyway? (y or n) y\n```\n\nAnd dmesg shows:\n\n```\n[282001.448603] grsec: exec of /bin/bash (/bin/bash -c exec /home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage1/bin/rustc -VV ) by /bin/bash[gdb:31020] uid/euid:1000/1000 gid/egid:1000/1000, parent /usr/bin/gdb[gdb:30613] uid/euid:1000/1000 gid/egid:1000/1000\n\n[282001.454206] grsec: exec of /home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage1/bin/rustc (/home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage1/bin/rustc -VV ) by /home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage1/bin/rustc[bash:31020] uid/euid:1000/1000 gid/egid:1000/1000, parent /usr/bin/gdb[gdb:30613] uid/euid:1000/1000 gid/egid:1000/1000\n\n[282001.472263] PAX: execution attempt in: <anonymous mapping>, 351e56b2000-351e56b3000 351e56b2000\n[282001.472282] PAX: terminating task: /usr/bin/gdb(gdb):31031, uid/euid: 1000/1000, PC: 00000351e56b2000, SP: 0000038f2575db10\n[282001.472294] PAX: bytes at PC: cc 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 \n[282001.472322] PAX: bytes at SP-8: 00000351e56b2000 0000038f2575db50 62869905ee6e2300 0000000000000000 0000006fd7b21760 0000006fd74918a0 000000000000792c 0000006fd8e80270 0000006fd8dce0d0 0000038f2575dbe0 0000006fd72f4409 \n```\n\n(NOTE however that there are no errors of any kind on dmesg while executing rust -VV normally, only through gdb)\nThe above pax terminating task may be explained by this: https://forums.gentoo.org/viewtopic-p-7706666.html#7706666\nIn other words, it's just a test by gdb to detect stuff, after which I presume it displays that warning.\nPerhaps gdb needs this in order to show function names and such? in the stacktrace. I don't see a way to disable this temporarily(tried some paxctl-ng flags on gdb with no effect)\n\nHmm that must be it, I mean, the `No symbol table info available.` may always be there regardless, but the `?? ()` should show the right things, if I manage to relax PaX so that gdb doesn't output that warning. Right? It seems to make sense.\n\nOh wait, what did I just find? https://wiki.gentoo.org/wiki/Hardened/Debugging\n\nOk this is stupid:)\n\n``` bash\n/home/zazdxscf $ sudo paxctl -v /home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage1/bin/rustc\nPassword: \nPaX control v0.9\nCopyright 2004,2005,2006,2007,2009,2010,2011,2012,2014 PaX Team <pageexec@freemail.hu>\n\n- PaX flags: -------x-e-- [/home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage1/bin/rustc]\n    RANDEXEC is disabled\n    EMUTRAMP is disabled\n-----------\nzazdxscf@gobaby 2015/10/26 01:12:24 -bash4.3.42 t:14 j:0 d:5 pp:9467 p:30555\n!12306 8 0  4.2.3-hardened-r4-g45b4b78 #2 SMP Tue Oct 20 14:39:20 CEST 2015\n/home/zazdxscf\n/home/zazdxscf $ sudo paxctl -vr /home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage1/bin/rustc\nPaX control v0.9\nCopyright 2004,2005,2006,2007,2009,2010,2011,2012,2014 PaX Team <pageexec@freemail.hu>\n\n/home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage1/bin/rustc: Text file busy\n-----------\nzazdxscf@gobaby 2015/10/26 01:12:46 -bash4.3.42 t:14 j:0 d:5 pp:9467 p:30555\n!12307 9 1  4.2.3-hardened-r4-g45b4b78 #2 SMP Tue Oct 20 14:39:20 CEST 2015\n/home/zazdxscf\n/home/zazdxscf $ sudo paxctl -v /home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage1/bin/rustc\nPaX control v0.9\nCopyright 2004,2005,2006,2007,2009,2010,2011,2012,2014 PaX Team <pageexec@freemail.hu>\n\n- PaX flags: -------x-e-- [/home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage1/bin/rustc]\n    RANDEXEC is disabled\n    EMUTRAMP is disabled\n-----------\nzazdxscf@gobaby 2015/10/26 01:12:53 -bash4.3.42 t:14 j:0 d:5 pp:9467 p:30555\n!12308 10 0  4.2.3-hardened-r4-g45b4b78 #2 SMP Tue Oct 20 14:39:20 CEST 2015\n/home/zazdxscf\n/home/zazdxscf $ sudo paxctl -vr /home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage1/bin/rustc\nPaX control v0.9\nCopyright 2004,2005,2006,2007,2009,2010,2011,2012,2014 PaX Team <pageexec@freemail.hu>\n\n/home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage1/bin/rustc: Text file busy\n-----------\nzazdxscf@gobaby 2015/10/26 01:12:56 -bash4.3.42 t:14 j:0 d:5 pp:9467 p:30555\n!12309 11 1  4.2.3-hardened-r4-g45b4b78 #2 SMP Tue Oct 20 14:39:20 CEST 2015\n/home/zazdxscf\n/home/zazdxscf $ sudo paxctl -v /home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage1/bin/rustc\nPaX control v0.9\nCopyright 2004,2005,2006,2007,2009,2010,2011,2012,2014 PaX Team <pageexec@freemail.hu>\n\n- PaX flags: -------x-e-- [/home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage1/bin/rustc]\n    RANDEXEC is disabled\n    EMUTRAMP is disabled\n-----------\nzazdxscf@gobaby 2015/10/26 01:13:11 -bash4.3.42 t:14 j:0 d:5 pp:9467 p:30555\n!12310 12 0  4.2.3-hardened-r4-g45b4b78 #2 SMP Tue Oct 20 14:39:20 CEST 2015\n/home/zazdxscf\n/home/zazdxscf $ sudo paxctl-ng -v /home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage1/bin/rustc\n/home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage1/bin/rustc:\n    open(O_RDWR) failed: cannot change PT_PAX flags\n    PT_PAX    : -e---\n    XATTR_PAX : not found\n\n-----------\nzazdxscf@gobaby 2015/10/26 01:13:21 -bash4.3.42 t:14 j:0 d:5 pp:9467 p:30555\n!12311 13 0  4.2.3-hardened-r4-g45b4b78 #2 SMP Tue Oct 20 14:39:20 CEST 2015\n/home/zazdxscf\n/home/zazdxscf $ sudo paxctl-ng -v -l -r /home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage1/bin/rustc\n/home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage1/bin/rustc:\n    open(O_RDWR) failed: cannot change PT_PAX flags\n    PT_PAX    : -e---\n    XATTR_PAX : -e-r-\n\n-----------\nzazdxscf@gobaby 2015/10/26 01:13:55 -bash4.3.42 t:14 j:0 d:5 pp:9467 p:30555\n!12312 14 0  4.2.3-hardened-r4-g45b4b78 #2 SMP Tue Oct 20 14:39:20 CEST 2015\n/home/zazdxscf\n/home/zazdxscf $ sudo paxctl-ng -v -rl /home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage1/bin/rustc\n/home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage1/bin/rustc:\n    open(O_RDWR) failed: cannot change PT_PAX flags\n    PT_PAX    : -e---\n    XATTR_PAX : -e-r-\n\n-----------\nzazdxscf@gobaby 2015/10/26 01:14:23 -bash4.3.42 t:14 j:0 d:5 pp:9467 p:30555\n!12313 15 0  4.2.3-hardened-r4-g45b4b78 #2 SMP Tue Oct 20 14:39:20 CEST 2015\n/home/zazdxscf\n/home/zazdxscf $ sudo paxctl-ng -vrl /home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage1/bin/rustc\n/home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage1/bin/rustc:\n    open(O_RDWR) failed: cannot change PT_PAX flags\n    PT_PAX    : -e---\n    XATTR_PAX : -e-r-\n\n-----------\nzazdxscf@gobaby 2015/10/26 01:14:27 -bash4.3.42 t:14 j:0 d:5 pp:9467 p:30555\n!12314 16 0  4.2.3-hardened-r4-g45b4b78 #2 SMP Tue Oct 20 14:39:20 CEST 2015\n/home/zazdxscf\n/home/zazdxscf $ sudo paxctl-ng -vrl /home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage1/bin/rustc\n/home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage1/bin/rustc:\n    open(O_RDWR) failed: cannot change PT_PAX flags\n    PT_PAX    : -e---\n    XATTR_PAX : -e-r-\n\n-----------\nzazdxscf@gobaby 2015/10/26 01:14:41 -bash4.3.42 t:14 j:0 d:5 pp:9467 p:30555\n!12315 17 0  4.2.3-hardened-r4-g45b4b78 #2 SMP Tue Oct 20 14:39:20 CEST 2015\n/home/zazdxscf\n/home/zazdxscf $ time RUST_BACKTRACE= gdb --args /home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage1/bin/rustc -VV\nGNU gdb (Gentoo 7.10 vanilla) 7.10\nCopyright (C) 2015 Free Software Foundation, Inc.\nLicense GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>\nThis is free software: you are free to change and redistribute it.\nThere is NO WARRANTY, to the extent permitted by law.  Type \"show copying\"\nand \"show warranty\" for details.\nThis GDB was configured as \"x86_64-pc-linux-gnu\".\nType \"show configuration\" for configuration details.\nFor bug reporting instructions, please see:\n<https://bugs.gentoo.org/>.\nFind the GDB manual and other documentation resources online at:\n<http://www.gnu.org/software/gdb/documentation/>.\nFor help, type \"help\".\nType \"apropos word\" to search for commands related to \"word\"...\nReading symbols from /home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage1/bin/rustc...done.\n(gdb) r\nStarting program: /home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage1/bin/rustc -VV\nDuring startup program terminated with signal SIGSEGV, Segmentation fault.\n(gdb) quit\n\nreal    0m6.921s\nuser    0m0.090s\nsys 0m0.077s\n-----------\nzazdxscf@gobaby 2015/10/26 01:14:58 -bash4.3.42 t:14 j:0 d:5 pp:9467 p:30555\n!12316 18 0  4.2.3-hardened-r4-g45b4b78 #2 SMP Tue Oct 20 14:39:20 CEST 2015\n/home/zazdxscf\n/home/zazdxscf $ sudo paxctl-ng -vRl /home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage1/bin/rustc\n/home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage1/bin/rustc:\n    open(O_RDWR) failed: cannot change PT_PAX flags\n    PT_PAX    : -e---\n    XATTR_PAX : -e-R-\n\n-----------\nzazdxscf@gobaby 2015/10/26 01:15:03 -bash4.3.42 t:14 j:0 d:5 pp:9467 p:30555\n!12317 19 0  4.2.3-hardened-r4-g45b4b78 #2 SMP Tue Oct 20 14:39:20 CEST 2015\n/home/zazdxscf\n/home/zazdxscf $ time RUST_BACKTRACE= gdb --args /home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage1/bin/rustc -VV\nGNU gdb (Gentoo 7.10 vanilla) 7.10\nCopyright (C) 2015 Free Software Foundation, Inc.\nLicense GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>\nThis is free software: you are free to change and redistribute it.\nThere is NO WARRANTY, to the extent permitted by law.  Type \"show copying\"\nand \"show warranty\" for details.\nThis GDB was configured as \"x86_64-pc-linux-gnu\".\nType \"show configuration\" for configuration details.\nFor bug reporting instructions, please see:\n<https://bugs.gentoo.org/>.\nFind the GDB manual and other documentation resources online at:\n<http://www.gnu.org/software/gdb/documentation/>.\nFor help, type \"help\".\nType \"apropos word\" to search for commands related to \"word\"...\nReading symbols from /home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage1/bin/rustc...done.\n(gdb) r\nStarting program: /home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage1/bin/rustc -VV\nwarning: Cannot call inferior functions, Linux kernel PaX protection forbids return to non-executable pages!\n[New LWP 20518]\nerror: Option 'version' given more than once.\n^C\nProgram received signal SIGINT, Interrupt.\n0x000003bd5507b9ad in ?? ()\n(gdb) bt full\n#0  0x000003bd5507b9ad in ?? ()\nNo symbol table info available.\n#1  0x000000005d12c3a8 in ?? ()\nNo symbol table info available.\n#2  0x0000000000000010 in ?? ()\nNo symbol table info available.\n#3  0x000003bd5507b8d0 in ?? ()\nNo symbol table info available.\n#4  0x000003bd53512d28 in ?? ()\nNo symbol table info available.\n#5  0x0000000000000000 in ?? ()\nNo symbol table info available.\n(gdb) quit\nA debugging session is active.\n\n    Inferior 1 [process 20514] will be killed.\n\nQuit anyway? (y or n) EOF [assumed Y]\n\nreal    0m10.945s\nuser    0m1.257s\nsys 0m0.860s\n-----------\nzazdxscf@gobaby 2015/10/26 01:15:16 -bash4.3.42 t:14 j:0 d:5 pp:9467 p:30555\n!12318 20 0  4.2.3-hardened-r4-g45b4b78 #2 SMP Tue Oct 20 14:39:20 CEST 2015\n/home/zazdxscf\n/home/zazdxscf $ sudo paxctl-ng -vrsmpl /home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage1/bin/rustc\n/home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage1/bin/rustc:\n    open(O_RDWR) failed: cannot change PT_PAX flags\n    PT_PAX    : -e---\n    XATTR_PAX : pemrs\n\n-----------\nzazdxscf@gobaby 2015/10/26 01:15:38 -bash4.3.42 t:14 j:0 d:5 pp:9467 p:30555\n!12319 21 0  4.2.3-hardened-r4-g45b4b78 #2 SMP Tue Oct 20 14:39:20 CEST 2015\n/home/zazdxscf\n/home/zazdxscf $ time RUST_BACKTRACE= gdb --args /home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage1/bin/rustc -VV\nGNU gdb (Gentoo 7.10 vanilla) 7.10\nCopyright (C) 2015 Free Software Foundation, Inc.\nLicense GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>\nThis is free software: you are free to change and redistribute it.\nThere is NO WARRANTY, to the extent permitted by law.  Type \"show copying\"\nand \"show warranty\" for details.\nThis GDB was configured as \"x86_64-pc-linux-gnu\".\nType \"show configuration\" for configuration details.\nFor bug reporting instructions, please see:\n<https://bugs.gentoo.org/>.\nFind the GDB manual and other documentation resources online at:\n<http://www.gnu.org/software/gdb/documentation/>.\nFor help, type \"help\".\nType \"apropos word\" to search for commands related to \"word\"...\nReading symbols from /home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage1/bin/rustc...done.\n(gdb) r\nStarting program: /home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage1/bin/rustc -VV\nDuring startup program terminated with signal SIGSEGV, Segmentation fault.\n(gdb) quit\n\nreal    0m3.143s\nuser    0m0.093s\nsys 0m0.070s\n-----------\nzazdxscf@gobaby 2015/10/26 01:15:44 -bash4.3.42 t:14 j:0 d:5 pp:9467 p:30555\n!12320 22 0  4.2.3-hardened-r4-g45b4b78 #2 SMP Tue Oct 20 14:39:20 CEST 2015\n/home/zazdxscf\n/home/zazdxscf $ sudo paxctl-ng -vRsmpl /home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage1/bin/rustc\n/home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage1/bin/rustc:\n    open(O_RDWR) failed: cannot change PT_PAX flags\n    PT_PAX    : -e---\n    XATTR_PAX : pemRs\n\n-----------\nzazdxscf@gobaby 2015/10/26 01:15:50 -bash4.3.42 t:14 j:0 d:5 pp:9467 p:30555\n!12321 23 0  4.2.3-hardened-r4-g45b4b78 #2 SMP Tue Oct 20 14:39:20 CEST 2015\n/home/zazdxscf\n/home/zazdxscf $ time RUST_BACKTRACE= gdb --args /home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage1/bin/rustc -VV\nGNU gdb (Gentoo 7.10 vanilla) 7.10\nCopyright (C) 2015 Free Software Foundation, Inc.\nLicense GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>\nThis is free software: you are free to change and redistribute it.\nThere is NO WARRANTY, to the extent permitted by law.  Type \"show copying\"\nand \"show warranty\" for details.\nThis GDB was configured as \"x86_64-pc-linux-gnu\".\nType \"show configuration\" for configuration details.\nFor bug reporting instructions, please see:\n<https://bugs.gentoo.org/>.\nFind the GDB manual and other documentation resources online at:\n<http://www.gnu.org/software/gdb/documentation/>.\nFor help, type \"help\".\nType \"apropos word\" to search for commands related to \"word\"...\nReading symbols from /home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage1/bin/rustc...done.\n(gdb) r\nStarting program: /home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage1/bin/rustc -VV\nDuring startup program terminated with signal SIGSEGV, Segmentation fault.\n(gdb) quit\n\nreal    0m5.499s\nuser    0m0.107s\nsys 0m0.053s\n-----------\nzazdxscf@gobaby 2015/10/26 01:15:58 -bash4.3.42 t:14 j:0 d:5 pp:9467 p:30555\n!12322 24 0  4.2.3-hardened-r4-g45b4b78 #2 SMP Tue Oct 20 14:39:20 CEST 2015\n/home/zazdxscf\n/home/zazdxscf $ sudo paxctl-ng -vzl /home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage1/bin/rustc\n/home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage1/bin/rustc:\n    open(O_RDWR) failed: cannot change PT_PAX flags\n    PT_PAX    : -e---\n    XATTR_PAX : -----\n\n-----------\nzazdxscf@gobaby 2015/10/26 01:16:10 -bash4.3.42 t:14 j:0 d:5 pp:9467 p:30555\n!12323 25 0  4.2.3-hardened-r4-g45b4b78 #2 SMP Tue Oct 20 14:39:20 CEST 2015\n/home/zazdxscf\n/home/zazdxscf $ sudo paxctl-ng -vzle /home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage1/bin/rustc\n\nPackage Name : elfix 0.9.1\nBug Reports  : http://bugs.gentoo.org/\nProgram Name : paxctl-ng\nDescription  : Get or set pax flags on an ELF object\n\nUsage        : paxctl-ng -PpEeMmRrSs|-Z|-z [-L|-l] [-v] ELF\n             : paxctl-ng -C|-c|-d [-v] ELF\n             : paxctl-ng -F|-f [-v] ELF\n             : paxctl-ng -v ELF\n             : paxctl-ng -L|-l\n             : paxctl-ng [-h]\n\nOptions      : -P enable PAGEEXEC   -p disable  PAGEEXEC\n             : -E enable EMUTRAMP   -e disable  EMUTRAMP\n             : -M enable MPROTECT   -m disable  MPROTECT\n             : -R enable RANDMMAP   -r disable  RANDMMAP\n             : -S enable SEGMEXEC   -s disable  SEGMEXEC\n             : -Z all secure settings   -z all default settings\n             : -L set only PT_PAX flags -l set only XATTR_PAX flags\n             :\n             : -C create XATTR_PAX with most secure setting\n             : -c create XATTR_PAX all default settings\n             : -d delete XATTR_PAX field\n             : -F copy PT_PAX to XATTR_PAX\n             : -f copy XATTR_PAX to PT_PAX\n             : -L when given alone, EXIT_SUCCESS (PT_PAX is supported)\n             : -l when given alone, EXIT_SUCCESS (XATTR_PAX is supported)\n             : -v view the flags, along with any accompanying operation\n             : -h print out this help\n\nNote         :  If both enabling and disabling flags are set, the default - is used\n\n-----------\nzazdxscf@gobaby 2015/10/26 01:16:14 -bash4.3.42 t:14 j:0 d:5 pp:9467 p:30555\n!12324 26 0  4.2.3-hardened-r4-g45b4b78 #2 SMP Tue Oct 20 14:39:20 CEST 2015\n/home/zazdxscf\n/home/zazdxscf $ sudo paxctl-ng -vel /home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage1/bin/rustc\n/home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage1/bin/rustc:\n    open(O_RDWR) failed: cannot change PT_PAX flags\n    PT_PAX    : -e---\n    XATTR_PAX : -e---\n\n-----------\nzazdxscf@gobaby 2015/10/26 01:16:19 -bash4.3.42 t:14 j:0 d:5 pp:9467 p:30555\n!12325 27 0  4.2.3-hardened-r4-g45b4b78 #2 SMP Tue Oct 20 14:39:20 CEST 2015\n/home/zazdxscf\n/home/zazdxscf $ sudo paxctl-ng -vc /home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage1/bin/rustc\n/home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage1/bin/rustc:\n    open(O_RDWR) failed: cannot change PT_PAX flags\n    PT_PAX    : -e---\n    XATTR_PAX : -e---\n\n-----------\nzazdxscf@gobaby 2015/10/26 01:16:26 -bash4.3.42 t:14 j:0 d:5 pp:9467 p:30555\n!12326 28 1  4.2.3-hardened-r4-g45b4b78 #2 SMP Tue Oct 20 14:39:20 CEST 2015\n/home/zazdxscf\n/home/zazdxscf $ sudo paxctl-ng -vd /home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage1/bin/rustc\n/home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage1/bin/rustc:\n    open(O_RDWR) failed: cannot change PT_PAX flags\n    PT_PAX    : -e---\n    XATTR_PAX : not found\n\n-----------\nzazdxscf@gobaby 2015/10/26 01:16:28 -bash4.3.42 t:14 j:0 d:5 pp:9467 p:30555\n!12327 29 0  4.2.3-hardened-r4-g45b4b78 #2 SMP Tue Oct 20 14:39:20 CEST 2015\n/home/zazdxscf\n/home/zazdxscf $ \n```\n\ndmesg:\n\n``` bash\n[284431.059807] grsec: exec of /usr/bin/gdb (gdb --args /home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage1/bin/rustc -VV ) by /usr/bin/gdb[bash:20489] uid/euid:1000/1000 gid/egid:1000/1000, parent /bin/bash[bash:30555] uid/euid:1000/1000 gid/egid:1000/1000\n[284431.081685] grsec: exec of /usr/bin/iconv (iconv -l ) by /usr/bin/iconv[gdb:20490] uid/euid:1000/1000 gid/egid:1000/1000, parent /usr/bin/gdb[gdb:20489] uid/euid:1000/1000 gid/egid:1000/1000\n[284431.901487] grsec: exec of /bin/bash (/bin/bash -c exec /home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage1/bin/rustc -VV ) by /bin/bash[gdb:20491] uid/euid:1000/1000 gid/egid:1000/1000, parent /usr/bin/gdb[gdb:20489] uid/euid:1000/1000 gid/egid:1000/1000\n[284431.909694] grsec: exec of /home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage1/bin/rustc (/home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage1/bin/rustc -VV ) by /home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage1/bin/rustc[bash:20491] uid/euid:1000/1000 gid/egid:1000/1000, parent /usr/bin/gdb[gdb:20489] uid/euid:1000/1000 gid/egid:1000/1000\n[284431.911916] grsec: Segmentation fault occurred at            (nil) in /home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage1/bin/rustc[bash:20491] uid/euid:1000/1000 gid/egid:1000/1000, parent /usr/bin/gdb[gdb:20489] uid/euid:1000/1000 gid/egid:1000/1000\n\n...\n[284447.041691] grsec: exec of /home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage1/bin/rustc (/home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage1/bin/rustc -VV ) by /home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage1/bin/rustc[bash:20514] uid/euid:1000/1000 gid/egid:1000/1000, parent /usr/bin/gdb[gdb:20512] uid/euid:1000/1000 gid/egid:1000/1000\n[284447.065900] PAX: execution attempt in: <anonymous mapping>, 383691f5000-383691f6000 383691f5000\n[284447.065917] PAX: terminating task: /usr/bin/gdb(gdb):20517, uid/euid: 1000/1000, PC: 00000383691f5000, SP: 000003dc07db2ce0\n[284447.065927] PAX: bytes at PC: cc 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 \n[284447.065955] PAX: bytes at SP-8: 00000383691f5000 000003dc07db2d20 bbee2a0d7dc77d00 0000000000000000 0000007af2533760 0000007af1ea38a0 0000000000005022 0000007af5893a80 0000007af57d31e0 000003dc07db2db0 0000007af1d06409 \n...\n\n[284483.000550] grsec: Segmentation fault occurred at            (nil) in /home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage1/bin/rustc[bash:20543] uid/euid:1000/1000 gid/egid:1000/1000, parent /usr/bin/gdb[gdb:20541] uid/euid:1000/1000 gid/egid:1000/1000\n...\n\n[284496.186188] grsec: Segmentation fault occurred at            (nil) in /home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage1/bin/rustc[bash:20566] uid/euid:1000/1000 gid/egid:1000/1000, parent /usr/bin/gdb[gdb:20564] uid/euid:1000/1000 gid/egid:1000/1000\n...\n```\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/150991322/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/151046016",
    "html_url": "https://github.com/rust-lang/rust/issues/29293#issuecomment-151046016",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29293",
    "id": 151046016,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MTA0NjAxNg==",
    "user": {
      "login": "ghost",
      "id": 10137,
      "node_id": "MDQ6VXNlcjEwMTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ghost",
      "html_url": "https://github.com/ghost",
      "followers_url": "https://api.github.com/users/ghost/followers",
      "following_url": "https://api.github.com/users/ghost/following{/other_user}",
      "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
      "organizations_url": "https://api.github.com/users/ghost/orgs",
      "repos_url": "https://api.github.com/users/ghost/repos",
      "events_url": "https://api.github.com/users/ghost/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ghost/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-26T07:01:43Z",
    "updated_at": "2015-10-26T07:08:12Z",
    "body": "I forced it to dump core (by sending it signal 11, twice! apparently once had no effect!)\n\n``` bash\n$ time RUST_BACKTRACE= /home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage2/bin/rustc -VV\nerror: Option 'version' given more than once.\nSegmentation fault (core dumped)\n\nreal    0m15.874s\nuser    0m13.973s\nsys 0m1.537s\n\n$ time LD_LIBRARY_PATH=/home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage2/lib coredump_to_backtrace   /home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage2/bin/rustc ./core all >~/logs/rustc2_crash_backtrace_full.log 2>&1 \n\nreal    0m26.339s\nuser    0m24.480s\nsys 0m1.377s\n```\n\n**EDIT**: Skip to `rust-gdb` output: https://github.com/rust-lang/rust/issues/29293#issuecomment-151046394\nThe following is with plain `gdb` (as seen with the above command):\n\n``` bash\n2 -ex thread apply all bt full\n3 -ex quit --batch\n[New LWP 16104]\n[New LWP 16105]\n\nwarning: Could not load shared library symbols for linux-vdso.so.1.\nDo you need \"set solib-search-path\" or \"set sysroot\"?\n[Thread debugging using libthread_db enabled]\nUsing host libthread_db library \"/lib64/libthread_db.so.1\".\nCore was generated by `/home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage2/bin/rus'.\nProgram terminated with signal SIGSEGV, Segmentation fault.\n#0  0x000003761d0289ad in pthread_join (threadid=3805789603584, thread_return=0x0) at pthread_join.c:90\n90      lll_wait_tid (pd->tid);\n[Current thread is 1 (Thread 0x37625654a00 (LWP 16104))]\nwarning: Missing auto-load script at offset 0 in section .debug_gdb_scripts\nof file /home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage2/bin/rustc.\nUse `info auto-load python-scripts [REGEXP]' to list them.\n\nThread 2 (Thread 0x3761abcc700 (LWP 16105)):\n#0  0x0000037624c3724b in backtrace_alloc (state=0x3762567a000, size=384, error_callback=0x37624c25e60 <sys_common::gnu::libbacktrace::print::error_cb::h2189b2356f8e6008het>, data=0x3761abc75c0) at ../../../src/libbacktrace/mmap.c:110\n        ret = 0x0\n        locked = 1\n        pp = 0x375fc349da8\n        pagesize = 3805957782718\n        asksize = 3805789579536\n        page = 0x3761abc70d0\n#1  0x0000037624c37558 in backtrace_vector_grow (state=0x3762567a000, size=24, error_callback=0x37624c25e60 <sys_common::gnu::libbacktrace::print::error_cb::h2189b2356f8e6008het>, data=0x3761abc75c0, vec=0x3761abc6bd0) at ../../../src/libbacktrace/mmap.c:236\n        pagesize = 4096\n        alc = 384\n        base = 0x3761abc6a20\n        ret = 0x8\n#2  0x0000037624c3386c in add_function_range (state=0x3762567a000, ddata=0x37618082970, function=0x375fad7e230, lowpc=3805919552193, highpc=3805919552197, error_callback=0x37624c25e60 <sys_common::gnu::libbacktrace::print::error_cb::h2189b2356f8e6008het>, data=0x3761abc75c0, vec=0x3761abc6bd0) at ../../../src/libbacktrace/dwarf.c:2175\n        p = 0x37624c30173 <read_address+126>\n#3  0x0000037624c33a26 in add_function_ranges (state=0x3762567a000, ddata=0x37618082970, u=0x3761a110998, function=0x375fad7e230, ranges=64, base=0, error_callback=0x37624c25e60 <sys_common::gnu::libbacktrace::print::error_cb::h2189b2356f8e6008het>, data=0x3761abc75c0, vec=0x3761abc6bd0) at ../../../src/libbacktrace/dwarf.c:2233\n        low = 553665\n        high = 553669\n        ranges_buf = {name = 0x37624cc5999 \".debug_ranges\", start = 0x3761288e030 <error: Cannot access memory at address 0x3761288e030>, buf = 0x3761288e080 <error: Cannot access memory at address 0x3761288e080>, left = 5360352, is_bigendian = 0, error_callback = 0x37624c25e60 <sys_common::gnu::libbacktrace::print::error_cb::h2189b2356f8e6008het>, data = 0x3761abc75c0, reported_underflow = 0}\n#4  0x0000037624c33fd0 in read_function_entry (state=0x3762567a000, ddata=0x37618082970, u=0x3761a110998, base=0, unit_buf=0x3761abc70d0, lhdr=0x3761abc71b0, error_callback=0x37624c25e60 <sys_common::gnu::libbacktrace::print::error_cb::h2189b2356f8e6008het>, data=0x3761abc75c0, vec_function=0x376180829d8, vec_inlined=0x3761abc6bd0) at ../../../src/libbacktrace/dwarf.c:2443\n        is_function = 1\n        vec = 0x3761abc6bd0\n        lowpc = 0\n        highpc = 0\n        highpc_is_relative = 0\n        have_ranges = 1\n        function = 0x375fad7e230\n        have_lowpc = 0\n        ranges = 64\n        code = 10\n        abbrev = 0x3761a125de8\n        i = 4\n        have_highpc = 0\n#5  0x0000037624c34136 in read_function_entry (state=0x3762567a000, ddata=0x37618082970, u=0x3761a110998, base=0, unit_buf=0x3761abc70d0, lhdr=0x3761abc71b0, error_callback=0x37624c25e60 <sys_common::gnu::libbacktrace::print::error_cb::h2189b2356f8e6008het>, data=0x3761abc75c0, vec_function=0x376180829d8, vec_inlined=0x376180829d8) at ../../../src/libbacktrace/dwarf.c:2481\n        fvec = {vec = {base = 0x0, size = 0, alc = 0}, count = 0}\n        is_function = 1\n        vec = 0x376180829d8\n        lowpc = 553600\n        highpc = 553957\n        highpc_is_relative = 1\n        have_ranges = 0\n        function = 0x375fad7e208\n        have_lowpc = 1\n        ranges = 0\n        code = 46\n        abbrev = 0x3761a126268\n        i = 9\n        have_highpc = 1\n#6  0x0000037624c340c4 in read_function_entry (state=0x3762567a000, ddata=0x37618082970, u=0x3761a110998, base=0, unit_buf=0x3761abc70d0, lhdr=0x3761abc71b0, error_callback=0x37624c25e60 <sys_common::gnu::libbacktrace::print::error_cb::h2189b2356f8e6008het>, data=0x3761abc75c0, vec_function=0x376180829d8, vec_inlined=0x376180829d8) at ../../../src/libbacktrace/dwarf.c:2467\n        is_function = 0\n        vec = 0x376180829d8\n        lowpc = 0\n        highpc = 0\n        highpc_is_relative = 0\n        have_ranges = 0\n        function = 0x0\n        have_lowpc = 0\n        ranges = 0\n        code = 2\n        abbrev = 0x3761a125ce8\n        i = 1\n        have_highpc = 0\n#7  0x0000037624c340c4 in read_function_entry (state=0x3762567a000, ddata=0x37618082970, u=0x3761a110998, base=0, unit_buf=0x3761abc70d0, lhdr=0x3761abc71b0, error_callback=0x37624c25e60 <sys_common::gnu::libbacktrace::print::error_cb::h2189b2356f8e6008het>, data=0x3761abc75c0, vec_function=0x376180829d8, vec_inlined=0x376180829d8) at ../../../src/libbacktrace/dwarf.c:2467\n        is_function = 0\n        vec = 0x376180829d8\n        lowpc = 0\n        highpc = 0\n        highpc_is_relative = 0\n        have_ranges = 0\n        function = 0x0\n        have_lowpc = 0\n        ranges = 0\n        code = 2\n        abbrev = 0x3761a125ce8\n        i = 1\n        have_highpc = 0\n#8  0x0000037624c340c4 in read_function_entry (state=0x3762567a000, ddata=0x37618082970, u=0x3761a110998, base=0, unit_buf=0x3761abc70d0, lhdr=0x3761abc71b0, error_callback=0x37624c25e60 <sys_common::gnu::libbacktrace::print::error_cb::h2189b2356f8e6008het>, data=0x3761abc75c0, vec_function=0x376180829d8, vec_inlined=0x376180829d8) at ../../../src/libbacktrace/dwarf.c:2467\n        is_function = 0\n        vec = 0x376180829d8\n        lowpc = 0\n        highpc = 0\n        highpc_is_relative = 0\n        have_ranges = 0\n        function = 0x0\n        have_lowpc = 0\n        ranges = 0\n        code = 2\n        abbrev = 0x3761a125ce8\n        i = 1\n        have_highpc = 0\n#9  0x0000037624c340c4 in read_function_entry (state=0x3762567a000, ddata=0x37618082970, u=0x3761a110998, base=0, unit_buf=0x3761abc70d0, lhdr=0x3761abc71b0, error_callback=0x37624c25e60 <sys_common::gnu::libbacktrace::print::error_cb::h2189b2356f8e6008het>, data=0x3761abc75c0, vec_function=0x376180829d8, vec_inlined=0x376180829d8) at ../../../src/libbacktrace/dwarf.c:2467\n        is_function = 0\n        vec = 0x376180829d8\n        lowpc = 0\n        highpc = 0\n        highpc_is_relative = 0\n        have_ranges = 0\n        function = 0x0\n        have_lowpc = 0\n        ranges = 0\n        code = 1\n        abbrev = 0x3761a125cc8\n        i = 8\n        have_highpc = 0\n#10 0x0000037624c342fa in read_function_info (state=0x3762567a000, ddata=0x37618082970, lhdr=0x3761abc71b0, error_callback=0x37624c25e60 <sys_common::gnu::libbacktrace::print::error_cb::h2189b2356f8e6008het>, data=0x3761abc75c0, u=0x3761a110998, fvec=0x376180829d8, ret_addrs=0x3761abc7210, ret_addrs_count=0x3761abc71f8) at ../../../src/libbacktrace/dwarf.c:2546\n        lvec = {vec = {base = 0x3761abc75c0, size = 3805341024256, alc = 3805261574144}, count = 6350376}\n        pfvec = 0x376180829d8\n        unit_buf = {name = 0x37624cc59a7 \".debug_info\", start = 0x376116e0fff <error: Cannot access memory at address 0x376116e0fff>, buf = 0x376119642ff <error: Cannot access memory at address 0x376119642ff>, left = 4604877, is_bigendian = 0, error_callback = 0x37624c25e60 <sys_common::gnu::libbacktrace::print::error_cb::h2189b2356f8e6008het>, data = 0x3761abc75c0, reported_underflow = 0}\n        addrs = 0x37624f2d401 <panic_loc53072+33>\n        addrs_count = 264598\n#11 0x0000037624c347f5 in dwarf_lookup_pc (state=0x3762567a000, ddata=0x37618082970, pc=3805923426506, callback=0x37624c25e70 <sys_common::gnu::libbacktrace::print::pcinfo_cb::ha768a72a949356196et>, error_callback=0x37624c25e60 <sys_common::gnu::libbacktrace::print::error_cb::h2189b2356f8e6008het>, data=0x3761abc75c0, found=0x3761abc72d4) at ../../../src/libbacktrace/dwarf.c:2731\n        pfvec = 0x376180829d8\n        function_addrs_count = 0\n        lhdr = {version = 2, min_insn_len = 1, max_ops_per_insn = 1, line_base = -5, line_range = 14, opcode_base = 13, opcode_lengths = 0x37611dc8e84 <error: Cannot access memory at address 0x37611dc8e84>, dirs_count = 52, dirs = 0x375fed75d20, filenames_count = 225, filenames = 0x375fc430000}\n        count = 264598\n        entry = 0x3761807f5e0\n        u = 0x3761a110998\n        new_data = 0\n        lines = 0x375fb43b000\n        ln = 0x0\n        function_addrs = 0x0\n        function = 0x37625449048 <vtable34401>\n        filename = 0x37612e05a82 <error: Cannot access memory at address 0x37612e05a82>\n        lineno = 0\n        ret = 886\n#12 0x0000037624c34cbf in dwarf_fileline (state=0x3762567a000, pc=3805923426506, callback=0x37624c25e70 <sys_common::gnu::libbacktrace::print::pcinfo_cb::ha768a72a949356196et>, error_callback=0x37624c25e60 <sys_common::gnu::libbacktrace::print::error_cb::h2189b2356f8e6008het>, data=0x3761abc75c0) at ../../../src/libbacktrace/dwarf.c:2876\n        ddata = 0x37618082970\n        found = 1\n        ret = 0\n#13 0x0000037624c35269 in backtrace_pcinfo (state=0x3762567a000, pc=3805923426506, callback=0x37624c25e70 <sys_common::gnu::libbacktrace::print::pcinfo_cb::ha768a72a949356196et>, error_callback=0x37624c25e60 <sys_common::gnu::libbacktrace::print::error_cb::h2189b2356f8e6008het>, data=0x3761abc75c0) at ../../../src/libbacktrace/fileline.c:176\nNo locals.\n#14 0x0000037624c267c8 in sys::backtrace::tracing::imp::write::trace_fn::he8e626ec33150cf8Npt () at src/libstd/sys/common/gnu/libbacktrace.rs:191\nNo symbol table info available.\n#15 0x000003761cb1b769 in _Unwind_Backtrace (trace=0x37624c26300 <sys::backtrace::tracing::imp::write::trace_fn::he8e626ec33150cf8Npt>, trace_argument=0x3761abc79c8) at /usr/src/debug/sys-devel/gcc-5.2.0/gcc-5.2.0/libgcc/unwind.inc:295\n        fs = {regs = {reg = {{loc = {reg = 0, offset = 0, exp = 0x0}, how = REG_UNSAVED}, {loc = {reg = 0, offset = 0, exp = 0x0}, how = REG_UNSAVED}, {loc = {reg = 0, offset = 0, exp = 0x0}, how = REG_UNSAVED}, {loc = {reg = 0, offset = 0, exp = 0x0}, how = REG_UNSAVED}, {loc = {reg = 0, offset = 0, exp = 0x0}, how = REG_UNSAVED}, {loc = {reg = 0, offset = 0, exp = 0x0}, how = REG_UNSAVED}, {loc = {reg = 18446744073709551600, offset = -16, exp = 0xfffffffffffffff0 <error: Cannot access memory at address 0xfffffffffffffff0>}, how = REG_SAVED_OFFSET}, {loc = {reg = 0, offset = 0, exp = 0x0}, how = REG_UNSAVED}, {loc = {reg = 0, offset = 0, exp = 0x0}, how = REG_UNSAVED}, {loc = {reg = 0, offset = 0, exp = 0x0}, how = REG_UNSAVED}, {loc = {reg = 0, offset = 0, exp = 0x0}, how = REG_UNSAVED}, {loc = {reg = 0, offset = 0, exp = 0x0}, how = REG_UNSAVED}, {loc = {reg = 0, offset = 0, exp = 0x0}, how = REG_UNSAVED}, {loc = {reg = 0, offset = 0, exp = 0x0}, how = REG_UNSAVED}, {loc = {reg = 0, offset = 0, exp = 0x0}, how = REG_UNSAVED}, {loc = {reg = 0, offset = 0, exp = 0x0}, how = REG_UNSAVED}, {loc = {reg = 18446744073709551608, offset = -8, exp = 0xfffffffffffffff8 <error: Cannot access memory at address 0xfffffffffffffff8>}, how = REG_SAVED_OFFSET}, {loc = {reg = 0, offset = 0, exp = 0x0}, how = REG_UNSAVED}}, prev = 0x0, cfa_offset = 16, cfa_reg = 6, cfa_exp = 0x0, cfa_how = CFA_REG_OFFSET}, pc = 0x37622b6c0b4 <rustc::sys_common::unwind::begin_unwind<syntax::diagnostic::FatalError>+4>, personality = 0x0, data_align = -8, code_align = 1, retaddr_column = 16, fde_encoding = 27 '\\033', lsda_encoding = 255 '\\377', saw_z = 1 '\\001', signal_frame = 0 '\\000', eh_ptr = 0x0}\n        context = {reg = {0x0, 0x0, 0x0, 0x3761abc7d58, 0x0, 0x0, 0x3761abc7d80, 0x0, 0x0, 0x0, 0x0, 0x0, 0x3761abc7d60, 0x3761abc7d68, 0x3761abc7d70, 0x3761abc7d78, 0x3761abc7d88, 0x0}, cfa = 0x3761abc7d90, ra = 0x37622b6c0cb, lsda = 0x0, bases = {tbase = 0x0, dbase = 0x0, func = 0x37622b6c0b0 <rustc::sys_common::unwind::begin_unwind<syntax::diagnostic::FatalError>>}, flags = 4611686018427387904, version = 0, args_size = 0, by_value = '\\000' <repeats 17 times>}\n        code = _URC_NO_REASON\n#16 0x0000037624c26017 in std::sys::backtrace::tracing::imp::write (w=...) at src/libstd/sys/unix/backtrace/tracing/gcc_s.rs:40\nNo locals.\n#17 0x0000037624c2e0dc in fnfn (err=...) at src/libstd/panicking.rs:48\nNo locals.\n#18 std::panicking::log_panic (obj=..., file=..., line=<optimized out>, log_backtrace=true) at src/libstd/panicking.rs:55\n        thread = <optimized out>\n#19 0x0000037624be445e in std::panicking::on_panic (file=..., line=486, obj=...) at src/libstd/panicking.rs:87\nNo locals.\n#20 std::sys_common::unwind::begin_unwind_inner (msg=..., file_line=<optimized out>) at src/libstd/sys/common/unwind/mod.rs:242\n        file = {data_ptr = 0x37622c0f840 <str110789> \"src/librustc/session/mod.rs\", length = 27}\n        line = 486\n#21 0x0000037622b6c0cb in rustc::sys_common::unwind::begin_unwind<syntax::diagnostic::FatalError> (msg=..., file_line=<optimized out>) at src/libstd/sys/common/unwind/mod.rs:224\nNo locals.\n#22 0x0000037622b9853b in rustc::session::early_error (color=<optimized out>, msg=...) at <std macros>:3\n        emitter = <optimized out>\n#23 0x00000376251f9a5b in rustc_driver::handle_options::parse_all_options (args=<optimized out>) at src/librustc_driver/lib.rs:724\n        all_groups = <optimized out>\n#24 0x00000376251ec738 in rustc_driver::handle_options (args=...) at src/librustc_driver/lib.rs:742\n        matches = <optimized out>\n#25 0x00000376251e9f84 in rustc_driver::run_compiler (args=..., callbacks=...) at src/librustc_driver/lib.rs:117\n        sess = <optimized out>\n        control = <optimized out>\n        sopts = <optimized out>\n        matches = <optimized out>\n        cfg = <optimized out>\n#26 0x00000376251e7d5b in fnfn () at src/librustc_driver/lib.rs:102\nNo locals.\n#27 fnfn () at src/librustc_driver/lib.rs:824\nNo locals.\n#28 fnfn () at src/libstd/thread/mod.rs:271\nNo locals.\n#29 rustc_driver::sys_common::unwind::try::try_fn<closure> (opt_closure=<optimized out>) at src/libstd/sys/common/unwind/mod.rs:156\nNo locals.\n#30 0x0000037624c23529 in __rust_try () at src/libcore/macros.rs:20\nNo symbol table info available.\n#31 0x0000037624c13671 in fnfn (s=<optimized out>) at src/libstd/sys/common/unwind/mod.rs:144\n        ep = <optimized out>\n        prev = <optimized out>\n#32 std::thread::local::LocalKey<T>::with<closure,core::result::Result<(), Box<Any>>> (self=<optimized out>, f=...) at src/libstd/thread/local.rs:217\nNo locals.\n#33 std::sys_common::unwind::try::inner_try (f=0x376251e7b80 <rustc_driver::sys_common::unwind::try::try_fn<closure>>, data=0x3761abcbb70 \"\") at src/libstd/sys/common/unwind/mod.rs:141\nNo locals.\n#34 0x00000376251e822d in rustc_driver::sys_common::unwind::try<closure> (f=...) at src/libstd/sys/common/unwind/mod.rs:126\nNo locals.\n#35 fnfn () at src/libstd/thread/mod.rs:271\n        ptr = <optimized out>\n        output = <optimized out>\n        their_packet = <optimized out>\n#36 rustc_driver::boxed::F.FnBox<A>::call_box (self=0x3761ac24120, args=<optimized out>) at src/liballoc/boxed.rs:521\nNo locals.\n#37 0x0000037624c2ca56 in sys::thread::_$LT$impl$GT$::new::thread_start::h29e6fdb9ec3a6fccfGw () at src/liballoc/boxed.rs:529\nNo symbol table info available.\n#38 0x000003761d02764c in start_thread (arg=0x3761abcc700) at pthread_create.c:334\n        __res = <optimized out>\n        pd = 0x3761abcc700\n        now = <optimized out>\n        unwind_buf = {cancel_jmp_buf = {{jmp_buf = {3805789603584, 300255978620416884, 4161273009680, 4161273009135, 0, 4161273009680, 300255978599445364, 300252734095455092}, mask_was_saved = 0}}, priv = {pad = {0x0, 0x0, 0x0, 0x0}, data = {prev = 0x0, cleanup = 0x0, canceltype = 0}}}\n        not_first_call = <optimized out>\n        pagesize_m1 = <optimized out>\n        sp = <optimized out>\n        freesize = <optimized out>\n        __PRETTY_FUNCTION__ = \"start_thread\"\n#39 0x00000376248a59bd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:109\nNo locals.\n\nThread 1 (Thread 0x37625654a00 (LWP 16104)):\n#0  0x000003761d0289ad in pthread_join (threadid=3805789603584, thread_return=0x0) at pthread_join.c:90\n        __tid = 16105\n        _buffer = {__routine = 0x3761d0288d0 <cleanup>, __arg = 0x3761abccd28, __canceltype = 448790528, __prev = 0x0}\n        oldtype = 0\n        pd = 0x3761abcc700\n        self = 0x37625654a00\n        result = 0\n#1  0x0000037624c2cb3f in std::sys::thread::Thread::join (self=...) at src/libstd/sys/unix/thread.rs:160\n        ret = <optimized out>\n#2  0x00000376251e6bfb in rustc_driver::thread::JoinInner<T>::join (self=<optimized out>) at src/libstd/thread/mod.rs:586\nNo locals.\n#3  rustc_driver::thread::JoinHandle<T>::join (self=...) at src/libstd/thread/mod.rs:616\nNo locals.\n#4  rustc_driver::monitor<closure> (f=...) at src/librustc_driver/lib.rs:824\n        cfg = {name = {RUST$ENCODED$ENUM$0$0$0$0$0$0$None = {__0 = {vec = {buf = {ptr = {pointer = {__0 = 0x3c8df331e60 '\\035' <repeats 40 times>, \"\\001\"}, _marker = {<No data fields>}}, cap = 8388608}, len = 2097865012304223517}}}}, stack_size = {{RUST$ENUM$DISR = (Some | unknown: 2097865012304223516)}, {RUST$ENUM$DISR = (Some | unknown: 2097865012304223516), __0 = 36}}}\n        err = <optimized out>\n#5  rustc_driver::run (args=...) at src/librustc_driver/lib.rs:102\nNo locals.\n#6  0x00000376251fa55b in rustc_driver::main () at src/librustc_driver/lib.rs:879\nNo locals.\n#7  0x0000037624c2dc0a in fnfn () at src/libstd/thread/mod.rs:381\nNo locals.\n#8  std::sys_common::unwind::try::try_fn<closure> (opt_closure=<optimized out>) at src/libstd/sys/common/unwind/mod.rs:156\nNo locals.\n#9  0x0000037624c23529 in __rust_try () at src/libcore/macros.rs:20\nNo symbol table info available.\n#10 0x0000037624c2da0b in fnfn (s=<optimized out>) at src/libstd/sys/common/unwind/mod.rs:144\n        ep = <optimized out>\n        prev = <optimized out>\n#11 std::thread::local::LocalKey<T>::with<closure,core::result::Result<(), Box<Any>>> (self=<optimized out>, f=...) at src/libstd/thread/local.rs:217\nNo locals.\n#12 std::sys_common::unwind::try::inner_try (f=0x3761abcc9d0, data=<optimized out>) at src/libstd/sys/common/unwind/mod.rs:141\nNo locals.\n#13 std::sys_common::unwind::try<closure> (f=...) at src/libstd/sys/common/unwind/mod.rs:126\nNo locals.\n#14 std::thread::catch_panic<fn(),()> (f=<optimized out>) at src/libstd/thread/mod.rs:381\n        result = <optimized out>\n        result = <optimized out>\n#15 std::rt::lang_start (main=0x7f7cc32910 <driver::main> \"UH\\211\\345]\\351v\\376\\377\\377f\\017\\037D\", argc=<optimized out>, argv=<optimized out>) at src/libstd/rt.rs:55\nNo locals.\n#16 0x00000376247d06a4 in __libc_start_main (main=0x7f7cc32920 <main>, argc=2, argv=0x3c8df332838, init=<optimized out>, fini=<optimized out>, rtld_fini=<optimized out>, stack_end=0x3c8df332828) at libc-start.c:289\n        result = <optimized out>\n        unwind_buf = {cancel_jmp_buf = {{jmp_buf = {0, 384831440184636276, 547554011472, 4161273014320, 0, 0, 384831440344019828, 300268635666477940}, mask_was_saved = 0}}, priv = {pad = {0x0, 0x0, 0x37625687148, 0x3c8df332820}, data = {prev = 0x0, cleanup = 0x0, canceltype = 627601736}}}\n        not_first_call = <optimized out>\n#17 0x0000007f7cc32809 in _start () at ../sysdeps/x86_64/start.S:108\nNo locals.\n```\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/151046016/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/151046394",
    "html_url": "https://github.com/rust-lang/rust/issues/29293#issuecomment-151046394",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29293",
    "id": 151046394,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MTA0NjM5NA==",
    "user": {
      "login": "ghost",
      "id": 10137,
      "node_id": "MDQ6VXNlcjEwMTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ghost",
      "html_url": "https://github.com/ghost",
      "followers_url": "https://api.github.com/users/ghost/followers",
      "following_url": "https://api.github.com/users/ghost/following{/other_user}",
      "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
      "organizations_url": "https://api.github.com/users/ghost/orgs",
      "repos_url": "https://api.github.com/users/ghost/repos",
      "events_url": "https://api.github.com/users/ghost/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ghost/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-26T07:06:07Z",
    "updated_at": "2015-10-26T07:11:15Z",
    "body": "Here's with `rust-gdb`\n\n**EDIT:** Here's raw (since the below is hard to horizontally scroll through): https://gist.githubusercontent.com/zazdxscf/56623981eb212b4066e5/raw/4fdfaa3acafbfc87568f3a554b930c64c687b258/gistfile1.txt\n\n``` bash\n$ time rust-gdb /home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage2/bin/rustc --core ./core --quiet -ex 'thread apply all bt full' -ex quit --batch >~/logs/rustc2_crash_backtrace_via_rust-gdb_full.log 2>&1 \n\nreal    0m25.916s\nuser    0m24.437s\nsys 0m1.357s\n\n$ cat ~/logs/rustc2_crash_backtrace_via_rust-gdb_full.log\n\n[New LWP 16104]\n[New LWP 16105]\n\nwarning: Could not load shared library symbols for linux-vdso.so.1.\nDo you need \"set solib-search-path\" or \"set sysroot\"?\n[Thread debugging using libthread_db enabled]\nUsing host libthread_db library \"/lib64/libthread_db.so.1\".\nCore was generated by `/home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage2/bin/rus'.\nProgram terminated with signal SIGSEGV, Segmentation fault.\n#0  0x000003761d0289ad in pthread_join (threadid=3805789603584, thread_return=0x0) at pthread_join.c:90\n90      lll_wait_tid (pd->tid);\n[Current thread is 1 (Thread 0x37625654a00 (LWP 16104))]\n\nThread 2 (Thread 0x3761abcc700 (LWP 16105)):\n#0  0x0000037624c3724b in backtrace_alloc (state=0x3762567a000, size=384, error_callback=0x37624c25e60 <sys_common::gnu::libbacktrace::print::error_cb::h2189b2356f8e6008het>, data=0x3761abc75c0) at ../../../src/libbacktrace/mmap.c:110\n        ret = 0x0\n        locked = 1\n        pp = 0x375fc349da8\n        pagesize = 3805957782718\n        asksize = 3805789579536\n        page = 0x3761abc70d0\n#1  0x0000037624c37558 in backtrace_vector_grow (state=0x3762567a000, size=24, error_callback=0x37624c25e60 <sys_common::gnu::libbacktrace::print::error_cb::h2189b2356f8e6008het>, data=0x3761abc75c0, vec=0x3761abc6bd0) at ../../../src/libbacktrace/mmap.c:236\n        pagesize = 4096\n        alc = 384\n        base = 0x3761abc6a20\n        ret = 0x8\n#2  0x0000037624c3386c in add_function_range (state=0x3762567a000, ddata=0x37618082970, function=0x375fad7e230, lowpc=3805919552193, highpc=3805919552197, error_callback=0x37624c25e60 <sys_common::gnu::libbacktrace::print::error_cb::h2189b2356f8e6008het>, data=0x3761abc75c0, vec=0x3761abc6bd0) at ../../../src/libbacktrace/dwarf.c:2175\n        p = 0x37624c30173 <read_address+126>\n#3  0x0000037624c33a26 in add_function_ranges (state=0x3762567a000, ddata=0x37618082970, u=0x3761a110998, function=0x375fad7e230, ranges=64, base=0, error_callback=0x37624c25e60 <sys_common::gnu::libbacktrace::print::error_cb::h2189b2356f8e6008het>, data=0x3761abc75c0, vec=0x3761abc6bd0) at ../../../src/libbacktrace/dwarf.c:2233\n        low = 553665\n        high = 553669\n        ranges_buf = dwarf_buf = {name = 0x37624cc5999 \".debug_ranges\", start = 0x3761288e030 <error: Cannot access memory at address 0x3761288e030>, buf = 0x3761288e080 <error: Cannot access memory at address 0x3761288e080>, left = 5360352, is_bigendian = 0, error_callback = 0x37624c25e60 <sys_common::gnu::libbacktrace::print::error_cb::h2189b2356f8e6008het>, data = 0x3761abc75c0, reported_underflow = 0}\n#4  0x0000037624c33fd0 in read_function_entry (state=0x3762567a000, ddata=0x37618082970, u=0x3761a110998, base=0, unit_buf=0x3761abc70d0, lhdr=0x3761abc71b0, error_callback=0x37624c25e60 <sys_common::gnu::libbacktrace::print::error_cb::h2189b2356f8e6008het>, data=0x3761abc75c0, vec_function=0x376180829d8, vec_inlined=0x3761abc6bd0) at ../../../src/libbacktrace/dwarf.c:2443\n        is_function = 1\n        vec = 0x3761abc6bd0\n        lowpc = 0\n        highpc = 0\n        highpc_is_relative = 0\n        have_ranges = 1\n        function = 0x375fad7e230\n        have_lowpc = 0\n        ranges = 64\n        code = 10\n        abbrev = 0x3761a125de8\n        i = 4\n        have_highpc = 0\n#5  0x0000037624c34136 in read_function_entry (state=0x3762567a000, ddata=0x37618082970, u=0x3761a110998, base=0, unit_buf=0x3761abc70d0, lhdr=0x3761abc71b0, error_callback=0x37624c25e60 <sys_common::gnu::libbacktrace::print::error_cb::h2189b2356f8e6008het>, data=0x3761abc75c0, vec_function=0x376180829d8, vec_inlined=0x376180829d8) at ../../../src/libbacktrace/dwarf.c:2481\n        fvec = function_vector = {vec = backtrace_vector = {base = 0x0, size = 0, alc = 0}, count = 0}\n        is_function = 1\n        vec = 0x376180829d8\n        lowpc = 553600\n        highpc = 553957\n        highpc_is_relative = 1\n        have_ranges = 0\n        function = 0x375fad7e208\n        have_lowpc = 1\n        ranges = 0\n        code = 46\n        abbrev = 0x3761a126268\n        i = 9\n        have_highpc = 1\n#6  0x0000037624c340c4 in read_function_entry (state=0x3762567a000, ddata=0x37618082970, u=0x3761a110998, base=0, unit_buf=0x3761abc70d0, lhdr=0x3761abc71b0, error_callback=0x37624c25e60 <sys_common::gnu::libbacktrace::print::error_cb::h2189b2356f8e6008het>, data=0x3761abc75c0, vec_function=0x376180829d8, vec_inlined=0x376180829d8) at ../../../src/libbacktrace/dwarf.c:2467\n        is_function = 0\n        vec = 0x376180829d8\n        lowpc = 0\n        highpc = 0\n        highpc_is_relative = 0\n        have_ranges = 0\n        function = 0x0\n        have_lowpc = 0\n        ranges = 0\n        code = 2\n        abbrev = 0x3761a125ce8\n        i = 1\n        have_highpc = 0\n#7  0x0000037624c340c4 in read_function_entry (state=0x3762567a000, ddata=0x37618082970, u=0x3761a110998, base=0, unit_buf=0x3761abc70d0, lhdr=0x3761abc71b0, error_callback=0x37624c25e60 <sys_common::gnu::libbacktrace::print::error_cb::h2189b2356f8e6008het>, data=0x3761abc75c0, vec_function=0x376180829d8, vec_inlined=0x376180829d8) at ../../../src/libbacktrace/dwarf.c:2467\n        is_function = 0\n        vec = 0x376180829d8\n        lowpc = 0\n        highpc = 0\n        highpc_is_relative = 0\n        have_ranges = 0\n        function = 0x0\n        have_lowpc = 0\n        ranges = 0\n        code = 2\n        abbrev = 0x3761a125ce8\n        i = 1\n        have_highpc = 0\n#8  0x0000037624c340c4 in read_function_entry (state=0x3762567a000, ddata=0x37618082970, u=0x3761a110998, base=0, unit_buf=0x3761abc70d0, lhdr=0x3761abc71b0, error_callback=0x37624c25e60 <sys_common::gnu::libbacktrace::print::error_cb::h2189b2356f8e6008het>, data=0x3761abc75c0, vec_function=0x376180829d8, vec_inlined=0x376180829d8) at ../../../src/libbacktrace/dwarf.c:2467\n        is_function = 0\n        vec = 0x376180829d8\n        lowpc = 0\n        highpc = 0\n        highpc_is_relative = 0\n        have_ranges = 0\n        function = 0x0\n        have_lowpc = 0\n        ranges = 0\n        code = 2\n        abbrev = 0x3761a125ce8\n        i = 1\n        have_highpc = 0\n#9  0x0000037624c340c4 in read_function_entry (state=0x3762567a000, ddata=0x37618082970, u=0x3761a110998, base=0, unit_buf=0x3761abc70d0, lhdr=0x3761abc71b0, error_callback=0x37624c25e60 <sys_common::gnu::libbacktrace::print::error_cb::h2189b2356f8e6008het>, data=0x3761abc75c0, vec_function=0x376180829d8, vec_inlined=0x376180829d8) at ../../../src/libbacktrace/dwarf.c:2467\n        is_function = 0\n        vec = 0x376180829d8\n        lowpc = 0\n        highpc = 0\n        highpc_is_relative = 0\n        have_ranges = 0\n        function = 0x0\n        have_lowpc = 0\n        ranges = 0\n        code = 1\n        abbrev = 0x3761a125cc8\n        i = 8\n        have_highpc = 0\n#10 0x0000037624c342fa in read_function_info (state=0x3762567a000, ddata=0x37618082970, lhdr=0x3761abc71b0, error_callback=0x37624c25e60 <sys_common::gnu::libbacktrace::print::error_cb::h2189b2356f8e6008het>, data=0x3761abc75c0, u=0x3761a110998, fvec=0x376180829d8, ret_addrs=0x3761abc7210, ret_addrs_count=0x3761abc71f8) at ../../../src/libbacktrace/dwarf.c:2546\n        lvec = function_vector = {vec = backtrace_vector = {base = 0x3761abc75c0, size = 3805341024256, alc = 3805261574144}, count = 6350376}\n        pfvec = 0x376180829d8\n        unit_buf = dwarf_buf = {name = 0x37624cc59a7 \".debug_info\", start = 0x376116e0fff <error: Cannot access memory at address 0x376116e0fff>, buf = 0x376119642ff <error: Cannot access memory at address 0x376119642ff>, left = 4604877, is_bigendian = 0, error_callback = 0x37624c25e60 <sys_common::gnu::libbacktrace::print::error_cb::h2189b2356f8e6008het>, data = 0x3761abc75c0, reported_underflow = 0}\n        addrs = 0x37624f2d401 <panic_loc53072+33>\n        addrs_count = 264598\n#11 0x0000037624c347f5 in dwarf_lookup_pc (state=0x3762567a000, ddata=0x37618082970, pc=3805923426506, callback=0x37624c25e70 <sys_common::gnu::libbacktrace::print::pcinfo_cb::ha768a72a949356196et>, error_callback=0x37624c25e60 <sys_common::gnu::libbacktrace::print::error_cb::h2189b2356f8e6008het>, data=0x3761abc75c0, found=0x3761abc72d4) at ../../../src/libbacktrace/dwarf.c:2731\n        pfvec = 0x376180829d8\n        function_addrs_count = 0\n        lhdr = line_header = {version = 2, min_insn_len = 1, max_ops_per_insn = 1, line_base = -5, line_range = 14, opcode_base = 13, opcode_lengths = 0x37611dc8e84 <error: Cannot access memory at address 0x37611dc8e84>, dirs_count = 52, dirs = 0x375fed75d20, filenames_count = 225, filenames = 0x375fc430000}\n        count = 264598\n        entry = 0x3761807f5e0\n        u = 0x3761a110998\n        new_data = 0\n        lines = 0x375fb43b000\n        ln = 0x0\n        function_addrs = 0x0\n        function = 0x37625449048 <vtable34401>\n        filename = 0x37612e05a82 <error: Cannot access memory at address 0x37612e05a82>\n        lineno = 0\n        ret = 886\n#12 0x0000037624c34cbf in dwarf_fileline (state=0x3762567a000, pc=3805923426506, callback=0x37624c25e70 <sys_common::gnu::libbacktrace::print::pcinfo_cb::ha768a72a949356196et>, error_callback=0x37624c25e60 <sys_common::gnu::libbacktrace::print::error_cb::h2189b2356f8e6008het>, data=0x3761abc75c0) at ../../../src/libbacktrace/dwarf.c:2876\n        ddata = 0x37618082970\n        found = 1\n        ret = 0\n#13 0x0000037624c35269 in backtrace_pcinfo (state=0x3762567a000, pc=3805923426506, callback=0x37624c25e70 <sys_common::gnu::libbacktrace::print::pcinfo_cb::ha768a72a949356196et>, error_callback=0x37624c25e60 <sys_common::gnu::libbacktrace::print::error_cb::h2189b2356f8e6008het>, data=0x3761abc75c0) at ../../../src/libbacktrace/fileline.c:176\nNo locals.\n#14 0x0000037624c267c8 in sys::backtrace::tracing::imp::write::trace_fn::he8e626ec33150cf8Npt () at src/libstd/sys/common/gnu/libbacktrace.rs:191\nNo symbol table info available.\n#15 0x000003761cb1b769 in _Unwind_Backtrace (trace=0x37624c26300 <sys::backtrace::tracing::imp::write::trace_fn::he8e626ec33150cf8Npt>, trace_argument=0x3761abc79c8) at /usr/src/debug/sys-devel/gcc-5.2.0/gcc-5.2.0/libgcc/unwind.inc:295\nPython Exception <type 'exceptions.AttributeError'> 'NoneType' object has no attribute 'startswith': \nPython Exception <type 'exceptions.TypeError'> Type is not a structure, union, or enum type.: \n        fs = {regs = frame_state_reg_info = {reg = {{loc = {reg = 0, offset = 0, exp = 0x0}, how = REG_UNSAVED}Python Exception <type 'exceptions.AttributeError'> 'NoneType' object has no attribute 'startswith': \nPython Exception <type 'exceptions.TypeError'> Type is not a structure, union, or enum type.: \n, {loc = {reg = 0, offset = 0, exp = 0x0}, how = REG_UNSAVED}Python Exception <type 'exceptions.AttributeError'> 'NoneType' object has no attribute 'startswith': \nPython Exception <type 'exceptions.TypeError'> Type is not a structure, union, or enum type.: \n, {loc = {reg = 0, offset = 0, exp = 0x0}, how = REG_UNSAVED}Python Exception <type 'exceptions.AttributeError'> 'NoneType' object has no attribute 'startswith': \nPython Exception <type 'exceptions.TypeError'> Type is not a structure, union, or enum type.: \n, {loc = {reg = 0, offset = 0, exp = 0x0}, how = REG_UNSAVED}Python Exception <type 'exceptions.AttributeError'> 'NoneType' object has no attribute 'startswith': \nPython Exception <type 'exceptions.TypeError'> Type is not a structure, union, or enum type.: \n, {loc = {reg = 0, offset = 0, exp = 0x0}, how = REG_UNSAVED}Python Exception <type 'exceptions.AttributeError'> 'NoneType' object has no attribute 'startswith': \nPython Exception <type 'exceptions.TypeError'> Type is not a structure, union, or enum type.: \n, {loc = {reg = 0, offset = 0, exp = 0x0}, how = REG_UNSAVED}Python Exception <type 'exceptions.AttributeError'> 'NoneType' object has no attribute 'startswith': \nPython Exception <type 'exceptions.TypeError'> Type is not a structure, union, or enum type.: \n, {loc = {reg = 18446744073709551600, offset = -16, exp = 0xfffffffffffffff0 <error: Cannot access memory at address 0xfffffffffffffff0>}, how = REG_SAVED_OFFSET}Python Exception <type 'exceptions.AttributeError'> 'NoneType' object has no attribute 'startswith': \nPython Exception <type 'exceptions.TypeError'> Type is not a structure, union, or enum type.: \n, {loc = {reg = 0, offset = 0, exp = 0x0}, how = REG_UNSAVED}Python Exception <type 'exceptions.AttributeError'> 'NoneType' object has no attribute 'startswith': \nPython Exception <type 'exceptions.TypeError'> Type is not a structure, union, or enum type.: \n, {loc = {reg = 0, offset = 0, exp = 0x0}, how = REG_UNSAVED}Python Exception <type 'exceptions.AttributeError'> 'NoneType' object has no attribute 'startswith': \nPython Exception <type 'exceptions.TypeError'> Type is not a structure, union, or enum type.: \n, {loc = {reg = 0, offset = 0, exp = 0x0}, how = REG_UNSAVED}Python Exception <type 'exceptions.AttributeError'> 'NoneType' object has no attribute 'startswith': \nPython Exception <type 'exceptions.TypeError'> Type is not a structure, union, or enum type.: \n, {loc = {reg = 0, offset = 0, exp = 0x0}, how = REG_UNSAVED}Python Exception <type 'exceptions.AttributeError'> 'NoneType' object has no attribute 'startswith': \nPython Exception <type 'exceptions.TypeError'> Type is not a structure, union, or enum type.: \n, {loc = {reg = 0, offset = 0, exp = 0x0}, how = REG_UNSAVED}Python Exception <type 'exceptions.AttributeError'> 'NoneType' object has no attribute 'startswith': \nPython Exception <type 'exceptions.TypeError'> Type is not a structure, union, or enum type.: \n, {loc = {reg = 0, offset = 0, exp = 0x0}, how = REG_UNSAVED}Python Exception <type 'exceptions.AttributeError'> 'NoneType' object has no attribute 'startswith': \nPython Exception <type 'exceptions.TypeError'> Type is not a structure, union, or enum type.: \n, {loc = {reg = 0, offset = 0, exp = 0x0}, how = REG_UNSAVED}Python Exception <type 'exceptions.AttributeError'> 'NoneType' object has no attribute 'startswith': \nPython Exception <type 'exceptions.TypeError'> Type is not a structure, union, or enum type.: \n, {loc = {reg = 0, offset = 0, exp = 0x0}, how = REG_UNSAVED}Python Exception <type 'exceptions.AttributeError'> 'NoneType' object has no attribute 'startswith': \nPython Exception <type 'exceptions.TypeError'> Type is not a structure, union, or enum type.: \n, {loc = {reg = 0, offset = 0, exp = 0x0}, how = REG_UNSAVED}Python Exception <type 'exceptions.AttributeError'> 'NoneType' object has no attribute 'startswith': \nPython Exception <type 'exceptions.TypeError'> Type is not a structure, union, or enum type.: \n, {loc = {reg = 18446744073709551608, offset = -8, exp = 0xfffffffffffffff8 <error: Cannot access memory at address 0xfffffffffffffff8>}, how = REG_SAVED_OFFSET}Python Exception <type 'exceptions.AttributeError'> 'NoneType' object has no attribute 'startswith': \nPython Exception <type 'exceptions.TypeError'> Type is not a structure, union, or enum type.: \n, {loc = {reg = 0, offset = 0, exp = 0x0}, how = REG_UNSAVED}}, prev = 0x0, cfa_offset = 16, cfa_reg = 6, cfa_exp = 0x0, cfa_how = CFA_REG_OFFSET}, pc = 0x37622b6c0b4 <rustc::sys_common::unwind::begin_unwind<syntax::diagnostic::FatalError>+4>, personality = 0x0, data_align = -8, code_align = 1, retaddr_column = 16, fde_encoding = 27 '\\033', lsda_encoding = 255 '\\377', saw_z = 1 '\\001', signal_frame = 0 '\\000', eh_ptr = 0x0}\n        context = _Unwind_Context = {reg = {0x0, 0x0, 0x0, 0x3761abc7d58, 0x0, 0x0, 0x3761abc7d80, 0x0, 0x0, 0x0, 0x0, 0x0, 0x3761abc7d60, 0x3761abc7d68, 0x3761abc7d70, 0x3761abc7d78, 0x3761abc7d88, 0x0}, cfa = 0x3761abc7d90, ra = 0x37622b6c0cb, lsda = 0x0, bases = dwarf_eh_bases = {tbase = 0x0, dbase = 0x0, func = 0x37622b6c0b0 <rustc::sys_common::unwind::begin_unwind<syntax::diagnostic::FatalError>>}, flags = 4611686018427387904, version = 0, args_size = 0, by_value = '\\000' <repeats 17 times>}\n        code = _URC_NO_REASON\n#16 0x0000037624c26017 in std::sys::backtrace::tracing::imp::write (w=&mut Write) at src/libstd/sys/unix/backtrace/tracing/gcc_s.rs:40\nNo locals.\n#17 0x0000037624c2e0dc in fnfn (err=...) at src/libstd/panicking.rs:48\nNo locals.\n#18 std::panicking::log_panic (obj=..., file=..., line=<optimized out>, log_backtrace=true) at src/libstd/panicking.rs:55\n        thread = <optimized out>\n#19 0x0000037624be445e in std::panicking::on_panic (file=\"src/librustc/session/mod.rs\", line=486, obj=...) at src/libstd/panicking.rs:87\nNo locals.\n#20 std::sys_common::unwind::begin_unwind_inner (msg=..., file_line=<optimized out>) at src/libstd/sys/common/unwind/mod.rs:242\n        file = \"src/librustc/session/mod.rs\"\n        line = 486\n#21 0x0000037622b6c0cb in rustc::sys_common::unwind::begin_unwind<syntax::diagnostic::FatalError> (msg=..., file_line=<optimized out>) at src/libstd/sys/common/unwind/mod.rs:224\nNo locals.\n#22 0x0000037622b9853b in rustc::session::early_error (color=<optimized out>, msg=...) at <std macros>:3\n        emitter = <optimized out>\n#23 0x00000376251f9a5b in rustc_driver::handle_options::parse_all_options (args=<optimized out>) at src/librustc_driver/lib.rs:724\n        all_groups = <optimized out>\n#24 0x00000376251ec738 in rustc_driver::handle_options (args=...) at src/librustc_driver/lib.rs:742\nPython Exception <type 'exceptions.MemoryError'> : \n        matches = <optimized out>\n#25 0x00000376251e9f84 in rustc_driver::run_compiler (args=&[collections::string::String](len: 3805957742176), callbacks=&mut CompilerCalls) at src/librustc_driver/lib.rs:117\n        sess = <optimized out>\n        control = <optimized out>\n        sopts = <optimized out>\n        matches = <optimized out>\n        cfg = <optimized out>\n#26 0x00000376251e7d5b in fnfn () at src/librustc_driver/lib.rs:102\nNo locals.\n#27 fnfn () at src/librustc_driver/lib.rs:824\nNo locals.\n#28 fnfn () at src/libstd/thread/mod.rs:271\nNo locals.\n#29 rustc_driver::sys_common::unwind::try::try_fn<closure> (opt_closure=<optimized out>) at src/libstd/sys/common/unwind/mod.rs:156\nNo locals.\n#30 0x0000037624c23529 in __rust_try () at src/libcore/macros.rs:20\nNo symbol table info available.\n#31 0x0000037624c13671 in fnfn (s=<optimized out>) at src/libstd/sys/common/unwind/mod.rs:144\n        ep = <optimized out>\n        prev = <optimized out>\n#32 std::thread::local::LocalKey<T>::with<closure,core::result::Result<(), Box<Any>>> (self=<optimized out>, f=...) at src/libstd/thread/local.rs:217\nNo locals.\n#33 std::sys_common::unwind::try::inner_try (f=0x376251e7b80 <rustc_driver::sys_common::unwind::try::try_fn<closure>>, data=0x3761abcbb70 \"\") at src/libstd/sys/common/unwind/mod.rs:141\nNo locals.\n#34 0x00000376251e822d in rustc_driver::sys_common::unwind::try<closure> (f=...) at src/libstd/sys/common/unwind/mod.rs:126\nNo locals.\n#35 fnfn () at src/libstd/thread/mod.rs:271\n        ptr = <optimized out>\n        output = <optimized out>\n        their_packet = <optimized out>\n#36 rustc_driver::boxed::F.FnBox<A>::call_box (self=0x3761ac24120, args=<optimized out>) at src/liballoc/boxed.rs:521\nNo locals.\n#37 0x0000037624c2ca56 in sys::thread::_$LT$impl$GT$::new::thread_start::h29e6fdb9ec3a6fccfGw () at src/liballoc/boxed.rs:529\nNo symbol table info available.\n#38 0x000003761d02764c in start_thread (arg=0x3761abcc700) at pthread_create.c:334\nPython Exception <type 'exceptions.AttributeError'> 'NoneType' object has no attribute 'startswith': \n        __res = <optimized out>\n        pd = 0x3761abcc700\n        now = <optimized out>\n        unwind_buf = pthread_unwind_buf = {cancel_jmp_buf = {{jmp_buf = {3805789603584, 300255978620416884, 4161273009680, 4161273009135, 0, 4161273009680, 300255978599445364, 300252734095455092}, mask_was_saved = 0}}Python Exception <type 'exceptions.TypeError'> Invalid lookup for a field not contained in the value.: \n, priv = {pad = {0x0, 0x0, 0x0, 0x0}Python Exception <type 'exceptions.AttributeError'> 'NoneType' object has no attribute 'startswith': \n, data = {prev = 0x0, cleanup = 0x0, canceltype = 0}}}\n        not_first_call = <optimized out>\n        pagesize_m1 = <optimized out>\n        sp = <optimized out>\n        freesize = <optimized out>\n        __PRETTY_FUNCTION__ = \"start_thread\"\n#39 0x00000376248a59bd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:109\nNo locals.\n\nThread 1 (Thread 0x37625654a00 (LWP 16104)):\n#0  0x000003761d0289ad in pthread_join (threadid=3805789603584, thread_return=0x0) at pthread_join.c:90\n        __tid = 16105\n        _buffer = _pthread_cleanup_buffer = {__routine = 0x3761d0288d0 <cleanup>, __arg = 0x3761abccd28, __canceltype = 448790528, __prev = 0x0}\n        oldtype = 0\n        pd = 0x3761abcc700\n        self = 0x37625654a00\n        result = 0\n#1  0x0000037624c2cb3f in std::sys::thread::Thread::join (self=...) at src/libstd/sys/unix/thread.rs:160\n        ret = <optimized out>\n#2  0x00000376251e6bfb in rustc_driver::thread::JoinInner<T>::join (self=<optimized out>) at src/libstd/thread/mod.rs:586\nNo locals.\n#3  rustc_driver::thread::JoinHandle<T>::join (self=...) at src/libstd/thread/mod.rs:616\nNo locals.\n#4  rustc_driver::monitor<closure> (f=...) at src/librustc_driver/lib.rs:824\nPython Exception <class 'gdb.error'> Cannot convert value to int.: \nPython Exception <type 'exceptions.OverflowError'> signed integer is greater than maximum: \n        cfg = Builder = {name = {RUST$ENCODED$ENUM$0$0$0$0$0$0$None = Some = {}}Python Exception <type 'exceptions.TypeError'> Could not convert Python object: None.: \n, stack_size = {(Some | unknown: 2097865012304223516), Some = {36}}}\n        err = <optimized out>\n#5  rustc_driver::run (args=...) at src/librustc_driver/lib.rs:102\nNo locals.\n#6  0x00000376251fa55b in rustc_driver::main () at src/librustc_driver/lib.rs:879\nNo locals.\n#7  0x0000037624c2dc0a in fnfn () at src/libstd/thread/mod.rs:381\nNo locals.\n#8  std::sys_common::unwind::try::try_fn<closure> (opt_closure=<optimized out>) at src/libstd/sys/common/unwind/mod.rs:156\nNo locals.\n#9  0x0000037624c23529 in __rust_try () at src/libcore/macros.rs:20\nNo symbol table info available.\n#10 0x0000037624c2da0b in fnfn (s=<optimized out>) at src/libstd/sys/common/unwind/mod.rs:144\n        ep = <optimized out>\n        prev = <optimized out>\n#11 std::thread::local::LocalKey<T>::with<closure,core::result::Result<(), Box<Any>>> (self=<optimized out>, f=...) at src/libstd/thread/local.rs:217\nNo locals.\n#12 std::sys_common::unwind::try::inner_try (f=0x3761abcc9d0, data=<optimized out>) at src/libstd/sys/common/unwind/mod.rs:141\nNo locals.\n#13 std::sys_common::unwind::try<closure> (f=...) at src/libstd/sys/common/unwind/mod.rs:126\nNo locals.\n#14 std::thread::catch_panic<fn(),()> (f=<optimized out>) at src/libstd/thread/mod.rs:381\n        result = <optimized out>\n        result = <optimized out>\n#15 std::rt::lang_start (main=0x7f7cc32910 <driver::main> \"UH\\211\\345]\\351v\\376\\377\\377f\\017\\037D\", argc=<optimized out>, argv=<optimized out>) at src/libstd/rt.rs:55\nNo locals.\n#16 0x00000376247d06a4 in __libc_start_main (main=0x7f7cc32920 <main>, argc=2, argv=0x3c8df332838, init=<optimized out>, fini=<optimized out>, rtld_fini=<optimized out>, stack_end=0x3c8df332828) at libc-start.c:289\nPython Exception <type 'exceptions.AttributeError'> 'NoneType' object has no attribute 'startswith': \n        result = <optimized out>\n        unwind_buf = pthread_unwind_buf = {cancel_jmp_buf = {{jmp_buf = {0, 384831440184636276, 547554011472, 4161273014320, 0, 0, 384831440344019828, 300268635666477940}, mask_was_saved = 0}}Python Exception <type 'exceptions.TypeError'> Invalid lookup for a field not contained in the value.: \n, priv = {pad = {0x0, 0x0, 0x37625687148, 0x3c8df332820}Python Exception <type 'exceptions.AttributeError'> 'NoneType' object has no attribute 'startswith': \n, data = {prev = 0x0, cleanup = 0x0, canceltype = 627601736}}}\n        not_first_call = <optimized out>\n#17 0x0000007f7cc32809 in _start () at ../sysdeps/x86_64/start.S:108\nNo locals.\n\n```\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/151046394/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/152675940",
    "html_url": "https://github.com/rust-lang/rust/issues/29293#issuecomment-152675940",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29293",
    "id": 152675940,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MjY3NTk0MA==",
    "user": {
      "login": "ghost",
      "id": 10137,
      "node_id": "MDQ6VXNlcjEwMTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ghost",
      "html_url": "https://github.com/ghost",
      "followers_url": "https://api.github.com/users/ghost/followers",
      "following_url": "https://api.github.com/users/ghost/following{/other_user}",
      "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
      "organizations_url": "https://api.github.com/users/ghost/orgs",
      "repos_url": "https://api.github.com/users/ghost/repos",
      "events_url": "https://api.github.com/users/ghost/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ghost/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-30T23:57:12Z",
    "updated_at": "2015-10-30T23:57:12Z",
    "body": "I guess the question is: why take 10 times more time when RUST_BACKTRACE is set in the environment AND not display any backtrace? (or, just forget the `AND` part)\n\n``` bash\n$ unset RUST_BACKTRACE\n\n$ which rustc\n/home/zazdxscf/build/1nonpkgs/rust/rust/x86_64-unknown-linux-gnu/stage2/bin/rustc\n\n$ time  rustc -VV\nerror: Option 'version' given more than once.\n\nreal    0m0.055s\nuser    0m0.027s\nsys 0m0.023s\n\n$ time RUST_BACKTRACE=1 rustc -VV\nerror: Option 'version' given more than once.\n\nreal    0m0.619s\nuser    0m0.563s\nsys 0m0.050s\n\n$ time RUST_BACKTRACE=1 rustc -Vv\nrustc 1.6.0-dev (cc8d398e2 2015-10-30)\nbinary: rustc\ncommit-hash: cc8d398e28b6b1918ef85479c2d040dfd0fe582d\ncommit-date: 2015-10-30\nhost: x86_64-unknown-linux-gnu\nrelease: 1.6.0-dev\n\nreal    0m0.055s\nuser    0m0.027s\nsys 0m0.027s\n```\n\n**Can someone confirm, by doing the above steps, that their rustc takes like 10 times more** (even though only half a second total) **when RUST_BACKTRACE is set? Please.** So that I know whether it's my other unusual ./configure options causing this or not.\n\nApparently only when compiling with `--enable-debuginfo` then, only stage2 rustc (whose files inside /lib directory(excluding rustlib/ directory) is 100meg bigger than stage1  - that is, like 180meg vs 80meg) does take like 45 seconds to complete on errors. Anything else (any stage0 or stage1; or a stage2 with `--disable-debuginfo`) takes 0.6sec on errors when RUST_BACKTRACE is set, and 0.05 sec when it's not set).\n\nBut, even with `--enable-debuginfo`, stage2 rustc will still do 0.6sec if the stage2 compilation is not finished(eg. rust is still being compiled, but stage2 rustc is already available at some point during this compilation). So when compilation is all done, stage2 rustc (with debuginfo) will always take around 44sec on errors when RUST_BACKTRACE is set.\n\nIn other words, the 10 times delay that occurs when RUST_BACKTRACE is set is exacerbated by having built rust with `--enable-debuginfo` (so it now takes like 44 seconds instead of 0.6 seconds)\n\nThis also means that stage1 is not built with `--enable-debuginfo` yet. Only stage2 is. (not only because stage2's lib files weigh 100 meg more than stage1's, but also because stage1 takes 0.6s and stage2 takes 44s - see above). Although it looks like it should be: https://github.com/rust-lang/rust/commit/92276dc616195f327ff793235fd81f498b565b8b#diff-f40c1cf0c004abfc517b43348f11ab48R137\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/152675940/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/152787730",
    "html_url": "https://github.com/rust-lang/rust/issues/29293#issuecomment-152787730",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29293",
    "id": 152787730,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1Mjc4NzczMA==",
    "user": {
      "login": "ghost",
      "id": 10137,
      "node_id": "MDQ6VXNlcjEwMTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ghost",
      "html_url": "https://github.com/ghost",
      "followers_url": "https://api.github.com/users/ghost/followers",
      "following_url": "https://api.github.com/users/ghost/following{/other_user}",
      "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
      "organizations_url": "https://api.github.com/users/ghost/orgs",
      "repos_url": "https://api.github.com/users/ghost/repos",
      "events_url": "https://api.github.com/users/ghost/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ghost/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-11-01T02:32:18Z",
    "updated_at": "2015-11-01T02:32:18Z",
    "body": "Closing, as I've decided, as a lifestyle choice, to avoid focusing on bugs(so passionately) and rather just work around them, mainly because that is just wasting everybody's time needlessly.\n\n For current issue, the workaround is: either not use `--enable-debuginfo` when compiling rust, or/and make sure `RUST_BACKTRACE` is unset in environment.\n\nPeace out.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/152787730/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/152808774",
    "html_url": "https://github.com/rust-lang/rust/issues/29293#issuecomment-152808774",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29293",
    "id": 152808774,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MjgwODc3NA==",
    "user": {
      "login": "arielb1",
      "id": 1830974,
      "node_id": "MDQ6VXNlcjE4MzA5NzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1830974?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/arielb1",
      "html_url": "https://github.com/arielb1",
      "followers_url": "https://api.github.com/users/arielb1/followers",
      "following_url": "https://api.github.com/users/arielb1/following{/other_user}",
      "gists_url": "https://api.github.com/users/arielb1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/arielb1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/arielb1/subscriptions",
      "organizations_url": "https://api.github.com/users/arielb1/orgs",
      "repos_url": "https://api.github.com/users/arielb1/repos",
      "events_url": "https://api.github.com/users/arielb1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/arielb1/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-11-01T09:13:32Z",
    "updated_at": "2015-11-01T09:13:32Z",
    "body": "I can confirm this and would like to see it fixed.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/152808774/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/154168082",
    "html_url": "https://github.com/rust-lang/rust/issues/29293#issuecomment-154168082",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29293",
    "id": 154168082,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1NDE2ODA4Mg==",
    "user": {
      "login": "wthrowe",
      "id": 867117,
      "node_id": "MDQ6VXNlcjg2NzExNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/867117?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wthrowe",
      "html_url": "https://github.com/wthrowe",
      "followers_url": "https://api.github.com/users/wthrowe/followers",
      "following_url": "https://api.github.com/users/wthrowe/following{/other_user}",
      "gists_url": "https://api.github.com/users/wthrowe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wthrowe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wthrowe/subscriptions",
      "organizations_url": "https://api.github.com/users/wthrowe/orgs",
      "repos_url": "https://api.github.com/users/wthrowe/repos",
      "events_url": "https://api.github.com/users/wthrowe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wthrowe/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-11-05T19:38:14Z",
    "updated_at": "2015-11-05T19:38:14Z",
    "body": "I did a bit of testing here.  As suggested by the previous posts it seems to be spending all its time in `src/libbacktrace/mmap.c:backtrace_alloc` (traversing the linked list, apparently).  I removed the statements suppressing the backtrace output and found that most of the time is being spent between these two lines:\n\n```\n   4:     0x7f864c947cea - sys_common::unwind::begin_unwind::begin_unwind::h127295331395719567\n                        at src/libstd/sys/common/unwind/mod.rs:224\n```\n\n(with another reasonable chunk two frames further out).\n\nThe basic cause of this seems to be that `backtrace_alloc` is slow and is being called a lot of times (roughly 300,000).  On my machine, RUST_BACKTRACE unset takes under 0.1 second and RUST_BACKTRACE=1 takes about a minute.  If I swap out the backtrace allocators for `malloc` and similar, that drops to around 1.2 seconds (this isn't a solution because it's not safe to call `malloc` in some places you'd want a backtrace).  At that point we seem to be dominated by the processing in `src/libbacktrace/dwarf.c:read_function_entry`.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/154168082/reactions",
      "total_count": 6,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 2,
      "confused": 0,
      "heart": 2,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/154225923",
    "html_url": "https://github.com/rust-lang/rust/issues/29293#issuecomment-154225923",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29293",
    "id": 154225923,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1NDIyNTkyMw==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-11-05T23:12:50Z",
    "updated_at": "2015-11-05T23:12:50Z",
    "body": "@wthrowe that's... weird! Do you know why backtrace wants to allocate so much memory? Is something accidentally being called a huge number of times?\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/154225923/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/154284924",
    "html_url": "https://github.com/rust-lang/rust/issues/29293#issuecomment-154284924",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29293",
    "id": 154284924,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1NDI4NDkyNA==",
    "user": {
      "login": "wthrowe",
      "id": 867117,
      "node_id": "MDQ6VXNlcjg2NzExNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/867117?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wthrowe",
      "html_url": "https://github.com/wthrowe",
      "followers_url": "https://api.github.com/users/wthrowe/followers",
      "following_url": "https://api.github.com/users/wthrowe/following{/other_user}",
      "gists_url": "https://api.github.com/users/wthrowe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wthrowe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wthrowe/subscriptions",
      "organizations_url": "https://api.github.com/users/wthrowe/orgs",
      "repos_url": "https://api.github.com/users/wthrowe/repos",
      "events_url": "https://api.github.com/users/wthrowe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wthrowe/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-11-06T04:48:37Z",
    "updated_at": "2015-11-06T04:48:37Z",
    "body": "`read_function_entry` is being called a huge number of times, mostly by recursively calling itself apparently.  I'm not quite sure what that is doing, but I think it may be examining every symbol in...something?  I don't have a good feeling for whether what is going on there is reasonable or not.\n\nIn the experimenting direction, I tried moving the `struct function` defined near the top of `read_function_entry` onto the stack and storing the one in `struct function_addrs` by value.  This reduced the number of calls to the allocator by a factor of three but apparently somehow made them even slower so the runtime actually increased (still apparently allocation-dominated).  My current hypothesis is that the backtrace allocator is getting into some pathological state.  I will investigate further.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/154284924/reactions",
      "total_count": 6,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 2,
      "confused": 0,
      "heart": 2,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/154503845",
    "html_url": "https://github.com/rust-lang/rust/issues/29293#issuecomment-154503845",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29293",
    "id": 154503845,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1NDUwMzg0NQ==",
    "user": {
      "login": "wthrowe",
      "id": 867117,
      "node_id": "MDQ6VXNlcjg2NzExNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/867117?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wthrowe",
      "html_url": "https://github.com/wthrowe",
      "followers_url": "https://api.github.com/users/wthrowe/followers",
      "following_url": "https://api.github.com/users/wthrowe/following{/other_user}",
      "gists_url": "https://api.github.com/users/wthrowe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wthrowe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wthrowe/subscriptions",
      "organizations_url": "https://api.github.com/users/wthrowe/orgs",
      "repos_url": "https://api.github.com/users/wthrowe/repos",
      "events_url": "https://api.github.com/users/wthrowe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wthrowe/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-11-06T19:10:08Z",
    "updated_at": "2015-11-06T19:10:08Z",
    "body": "Hypothesis confirmed.  The linked list of freed chunks of memory available for reuse accumulates a huge number of chunks that are too small to fulfill most allocation requests, so some requests have to check tens of thousands of chunks for sufficient space before giving up and `mmap`ing more memory.\n\nAs an experiment, I modified the allocator to only check the first (most recently added) 10 chunks on the list.  This dropped the runtime to a similar value to my previous `malloc` tests (a bit over a second).  After 100,000 allocations the modified version has a resident memory size of 67.5 MB, as opposed to the original version which uses 66.6 MB, so while this does decrease them memory efficiency of the allocator the effect is not large.  I'm not sure if this is the correct path to fixing the problem; it may make more sense to add logic to the memory freeing code to drop small chunks (but the definition of \"small\" is not obvious).\n\nI think I'll file an upstream bug with gcc (which appears to be the main repository for libbacktrace) to see if they have any ideas.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/154503845/reactions",
      "total_count": 7,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 3,
      "confused": 0,
      "heart": 2,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/154513798",
    "html_url": "https://github.com/rust-lang/rust/issues/29293#issuecomment-154513798",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29293",
    "id": 154513798,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1NDUxMzc5OA==",
    "user": {
      "login": "wthrowe",
      "id": 867117,
      "node_id": "MDQ6VXNlcjg2NzExNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/867117?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wthrowe",
      "html_url": "https://github.com/wthrowe",
      "followers_url": "https://api.github.com/users/wthrowe/followers",
      "following_url": "https://api.github.com/users/wthrowe/following{/other_user}",
      "gists_url": "https://api.github.com/users/wthrowe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wthrowe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wthrowe/subscriptions",
      "organizations_url": "https://api.github.com/users/wthrowe/orgs",
      "repos_url": "https://api.github.com/users/wthrowe/repos",
      "events_url": "https://api.github.com/users/wthrowe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wthrowe/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-11-06T19:47:08Z",
    "updated_at": "2015-11-06T19:47:08Z",
    "body": "Upstream bug: https://gcc.gnu.org/bugzilla/show_bug.cgi?id=68239\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/154513798/reactions",
      "total_count": 5,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 3,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/154564801",
    "html_url": "https://github.com/rust-lang/rust/issues/29293#issuecomment-154564801",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29293",
    "id": 154564801,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1NDU2NDgwMQ==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-11-06T22:39:04Z",
    "updated_at": "2015-11-06T22:39:04Z",
    "body": "Impressive investigation @wthrowe! Thanks for filing the upstream bug!\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/154564801/reactions",
      "total_count": 2,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 1,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/221409893",
    "html_url": "https://github.com/rust-lang/rust/issues/29293#issuecomment-221409893",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29293",
    "id": 221409893,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMTQwOTg5Mw==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-05-24T21:40:17Z",
    "updated_at": "2016-05-24T21:40:17Z",
    "body": "I think this has since been fixed with an update to libbacktrace, so I'm gonna close, feel free to reopen though if it still happens!\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/221409893/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 1,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/228161785",
    "html_url": "https://github.com/rust-lang/rust/issues/29293#issuecomment-228161785",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29293",
    "id": 228161785,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyODE2MTc4NQ==",
    "user": {
      "login": "ActualizeInMaterial",
      "id": 19689488,
      "node_id": "MDQ6VXNlcjE5Njg5NDg4",
      "avatar_url": "https://avatars.githubusercontent.com/u/19689488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ActualizeInMaterial",
      "html_url": "https://github.com/ActualizeInMaterial",
      "followers_url": "https://api.github.com/users/ActualizeInMaterial/followers",
      "following_url": "https://api.github.com/users/ActualizeInMaterial/following{/other_user}",
      "gists_url": "https://api.github.com/users/ActualizeInMaterial/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ActualizeInMaterial/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ActualizeInMaterial/subscriptions",
      "organizations_url": "https://api.github.com/users/ActualizeInMaterial/orgs",
      "repos_url": "https://api.github.com/users/ActualizeInMaterial/repos",
      "events_url": "https://api.github.com/users/ActualizeInMaterial/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ActualizeInMaterial/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-06-23T19:42:57Z",
    "updated_at": "2016-06-23T19:48:09Z",
    "body": "Nope, still an issue (and the [upstream bug](https://gcc.gnu.org/bugzilla/show_bug.cgi?id=68239) seems still open/unaddressed):\n\n``` bash\n$ time rustc -vv\n!! executing '/home/z/build/1nonpkgs/rust/rust//x86_64-unknown-linux-gnu/stage2/bin//rustc' with args: '-vv'\nerror: Option 'verbose' given more than once.\n\nreal    0m0.058s\nuser    0m0.021s\nsys 0m0.035s\n\n$ time rustc -vv\n!! executing '/home/z/build/1nonpkgs/rust/rust//x86_64-unknown-linux-gnu/stage2/bin//rustc' with args: '-vv'\nerror: Option 'verbose' given more than once.\n\nreal    0m0.058s\nuser    0m0.020s\nsys 0m0.037s\n\n$ time RUST_BACKTRACE=1 rustc -vv\n!! executing '/home/z/build/1nonpkgs/rust/rust//x86_64-unknown-linux-gnu/stage2/bin//rustc' with args: '-vv'\nerror: Option 'verbose' given more than once.\n\nreal    0m0.372s\nuser    0m0.320s\nsys 0m0.050s\n\n$ time RUST_BACKTRACE=1 rustc -vv\n!! executing '/home/z/build/1nonpkgs/rust/rust//x86_64-unknown-linux-gnu/stage2/bin//rustc' with args: '-vv'\nerror: Option 'verbose' given more than once.\n\nreal    0m0.371s\nuser    0m0.315s\nsys 0m0.053s\n\n$ rustc -Vv\n!! executing '/home/z/build/1nonpkgs/rust/rust//x86_64-unknown-linux-gnu/stage2/bin//rustc' with args: '-Vv'\nrustc 1.11.0-dev (8d8a88f4a 2016-06-19)\nbinary: rustc\ncommit-hash: 8d8a88f4a5bac0038a621bfb195db13d9ae00cb8\ncommit-date: 2016-06-19\nhost: x86_64-unknown-linux-gnu\nrelease: 1.11.0-dev\n\n```\n\n(It looks like )I had compiled rust with `--disable-debuginfo` and definitely did not have `--enable-debuginfo` . I also had `--disable-debug` and no `--enable-debug`.\n<s>So the only workaround(of the two) currently is via unset or non '1' `RUST_BACKTRACE`.</s>\n**EDIT:** Oh wait, I forgot! It's due to not using `--enable-debuginfo` that it takes under half a second instead of 44seconds. And when not using a set RUST_BACKTRACE is when it takes normal time. So basically, if I were to compile with `--enable-debuginfo` it would take 40+ seconds above, but without it, it only takes 6.4 times more timeas when no backtrace env. var is set. (that's 0.371sec vs 0.058sec) \n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/228161785/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/238020224",
    "html_url": "https://github.com/rust-lang/rust/issues/29293#issuecomment-238020224",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29293",
    "id": 238020224,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzODAyMDIyNA==",
    "user": {
      "login": "icanrealizeum",
      "id": 20287290,
      "node_id": "MDQ6VXNlcjIwMjg3Mjkw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20287290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/icanrealizeum",
      "html_url": "https://github.com/icanrealizeum",
      "followers_url": "https://api.github.com/users/icanrealizeum/followers",
      "following_url": "https://api.github.com/users/icanrealizeum/following{/other_user}",
      "gists_url": "https://api.github.com/users/icanrealizeum/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/icanrealizeum/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/icanrealizeum/subscriptions",
      "organizations_url": "https://api.github.com/users/icanrealizeum/orgs",
      "repos_url": "https://api.github.com/users/icanrealizeum/repos",
      "events_url": "https://api.github.com/users/icanrealizeum/events{/privacy}",
      "received_events_url": "https://api.github.com/users/icanrealizeum/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-08-06T12:05:57Z",
    "updated_at": "2016-08-06T12:05:57Z",
    "body": "Still happening:\n\n0m0.062s vs 0m0.454s\n\n```\n/home/z $ time RUST_BACKTRACE=0 rustc -vv\n!! executing '/home/z/build/1nonpkgs/rust/rust//x86_64-unknown-linux-gnu/stage2/bin//rustc' with args: '-vv'\nerror: Option 'verbose' given more than once. \n\nreal    0m0.062s\nuser    0m0.020s\nsys 0m0.041s\n-----------\nz@myzee 2016/08/06 15:04:23 -bash4.3.46 t:3 j:0 d:3 pp:1119 p:4019 ut1603\n!13231 19 101  4.7.0-ga157b3a #6 SMP PREEMPT Sat Aug 6 12:11:16 EEST 2016\n/home/z\n/home/z $ time RUST_BACKTRACE=1 rustc -vv\n!! executing '/home/z/build/1nonpkgs/rust/rust//x86_64-unknown-linux-gnu/stage2/bin//rustc' with args: '-vv'\nerror: Option 'verbose' given more than once. \n\nreal    0m0.454s\nuser    0m0.341s\nsys 0m0.080s\n\n$ rustc -Vv\n!! executing '/home/z/build/1nonpkgs/rust/rust//x86_64-unknown-linux-gnu/stage2/bin//rustc' with args: '-Vv'\nrustc 1.12.0-dev (2c1612c62 2016-08-01)\nbinary: rustc\ncommit-hash: 2c1612c62aa59e40cf1a4bddde943938e0147eec\ncommit-date: 2016-08-01\nhost: x86_64-unknown-linux-gnu\nrelease: 1.12.0-dev\n```\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/238020224/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/238046875",
    "html_url": "https://github.com/rust-lang/rust/issues/29293#issuecomment-238046875",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29293",
    "id": 238046875,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzODA0Njg3NQ==",
    "user": {
      "login": "icanrealizeum",
      "id": 20287290,
      "node_id": "MDQ6VXNlcjIwMjg3Mjkw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20287290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/icanrealizeum",
      "html_url": "https://github.com/icanrealizeum",
      "followers_url": "https://api.github.com/users/icanrealizeum/followers",
      "following_url": "https://api.github.com/users/icanrealizeum/following{/other_user}",
      "gists_url": "https://api.github.com/users/icanrealizeum/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/icanrealizeum/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/icanrealizeum/subscriptions",
      "organizations_url": "https://api.github.com/users/icanrealizeum/orgs",
      "repos_url": "https://api.github.com/users/icanrealizeum/repos",
      "events_url": "https://api.github.com/users/icanrealizeum/events{/privacy}",
      "received_events_url": "https://api.github.com/users/icanrealizeum/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-08-06T20:21:01Z",
    "updated_at": "2016-08-06T20:21:01Z",
    "body": "There's this similar-looking bug for the linux kernel: https://bugzilla.kernel.org/show_bug.cgi?id=151621\nwhereby umount-ing something(probably not just btrfs) will spend quite some time freeing pagecache pages, usually between 7 and 127 seconds. So if your shutdown takes a longer than usual time(no? just me then? okay) then this might be it.\n\nSorry, just had to mention it.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/238046875/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/261739810",
    "html_url": "https://github.com/rust-lang/rust/issues/29293#issuecomment-261739810",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29293",
    "id": 261739810,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MTczOTgxMA==",
    "user": {
      "login": "jonhoo",
      "id": 176295,
      "node_id": "MDQ6VXNlcjE3NjI5NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/176295?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonhoo",
      "html_url": "https://github.com/jonhoo",
      "followers_url": "https://api.github.com/users/jonhoo/followers",
      "following_url": "https://api.github.com/users/jonhoo/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonhoo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonhoo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonhoo/subscriptions",
      "organizations_url": "https://api.github.com/users/jonhoo/orgs",
      "repos_url": "https://api.github.com/users/jonhoo/repos",
      "events_url": "https://api.github.com/users/jonhoo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonhoo/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-11-19T21:10:25Z",
    "updated_at": "2016-11-19T21:10:25Z",
    "body": "I am also seeing this with rustc 1.15.0-nightly (ac635aa95 2016-11-18). Unfortunately can't post the source, but behavior is exactly as described above in this post, and #37477 -- a long delay after compiling when backtraces are enabled. `gdb` confirms that time is spent in `backtrace_alloc`:\n\n```\n(gdb) t 2.2\n[Switching to thread 2.2 (Thread 0x7fffee1ff700 (LWP 20241))]\n#0  0x00007ffff77b207d in backtrace_alloc (state=0x7ffff7fc1000, size=384, error_callback=0x7ffff7798e40 <std::sys_common::gnu::libbacktrace::print::error_cb>, data=0x7fffee1fb4f0)\n    at /buildslave/rust-buildbot/slave/nightly-dist-rustc-linux/build/src/libbacktrace/mmap.c:115\n115 in /buildslave/rust-buildbot/slave/nightly-dist-rustc-linux/build/src/libbacktrace/mmap.c\n(gdb) bt\n#0  0x00007ffff77b207d in backtrace_alloc (state=0x7ffff7fc1000, size=384, error_callback=0x7ffff7798e40 <std::sys_common::gnu::libbacktrace::print::error_cb>, data=0x7fffee1fb4f0)\n    at /buildslave/rust-buildbot/slave/nightly-dist-rustc-linux/build/src/libbacktrace/mmap.c:115\n#1  0x00007ffff77b2378 in backtrace_vector_grow (state=0x7ffff7fc1000, size=24, error_callback=0x7ffff7798e40 <std::sys_common::gnu::libbacktrace::print::error_cb>, data=0x7fffee1fb4f0, vec=0x7fffee1fa840)\n    at /buildslave/rust-buildbot/slave/nightly-dist-rustc-linux/build/src/libbacktrace/mmap.c:244\n#2  0x00007ffff77ae782 in add_function_range (state=0x7ffff7fc1000, ddata=0x7fffe73b6138, function=0x7fffe47d2fa0, lowpc=140737299864630, highpc=140737299864692, \n    error_callback=0x7ffff7798e40 <std::sys_common::gnu::libbacktrace::print::error_cb>, data=0x7fffee1fb4f0, vec=0x7fffee1fa840)\n    at /buildslave/rust-buildbot/slave/nightly-dist-rustc-linux/build/src/libbacktrace/dwarf.c:2175\n#3  0x00007ffff77aef42 in read_function_entry (state=0x7ffff7fc1000, ddata=0x7fffe73b6138, u=0x7fffe7c1a700, base=0, unit_buf=0x7fffee1fb040, lhdr=0x7fffee1fb120, \n    error_callback=0x7ffff7798e40 <std::sys_common::gnu::libbacktrace::print::error_cb>, data=0x7fffee1fb4f0, vec_function=0x7fffe73b61a0, vec_inlined=0x7fffee1fa840)\n    at /buildslave/rust-buildbot/slave/nightly-dist-rustc-linux/build/src/libbacktrace/dwarf.c:2451\n#4  0x00007ffff77af067 in read_function_entry (state=0x7ffff7fc1000, ddata=0x7fffe73b6138, u=0x7fffe7c1a700, base=0, unit_buf=0x7fffee1fb040, lhdr=0x7fffee1fb120, \n    error_callback=0x7ffff7798e40 <std::sys_common::gnu::libbacktrace::print::error_cb>, data=0x7fffee1fb4f0, vec_function=0x7fffe73b61a0, vec_inlined=0x7fffee1fa940)\n    at /buildslave/rust-buildbot/slave/nightly-dist-rustc-linux/build/src/libbacktrace/dwarf.c:2481\n#5  0x00007ffff77af067 in read_function_entry (state=0x7ffff7fc1000, ddata=0x7fffe73b6138, u=0x7fffe7c1a700, base=0, unit_buf=0x7fffee1fb040, lhdr=0x7fffee1fb120, \n    error_callback=0x7ffff7798e40 <std::sys_common::gnu::libbacktrace::print::error_cb>, data=0x7fffee1fb4f0, vec_function=0x7fffe73b61a0, vec_inlined=0x7fffee1faa40)\n    at /buildslave/rust-buildbot/slave/nightly-dist-rustc-linux/build/src/libbacktrace/dwarf.c:2481\n#6  0x00007ffff77af067 in read_function_entry (state=0x7ffff7fc1000, ddata=0x7fffe73b6138, u=0x7fffe7c1a700, base=0, unit_buf=0x7fffee1fb040, lhdr=0x7fffee1fb120, \n    error_callback=0x7ffff7798e40 <std::sys_common::gnu::libbacktrace::print::error_cb>, data=0x7fffee1fb4f0, vec_function=0x7fffe73b61a0, vec_inlined=0x7fffe73b61a0)\n    at /buildslave/rust-buildbot/slave/nightly-dist-rustc-linux/build/src/libbacktrace/dwarf.c:2481\n#7  0x00007ffff77aefe4 in read_function_entry (state=0x7ffff7fc1000, ddata=0x7fffe73b6138, u=0x7fffe7c1a700, base=0, unit_buf=0x7fffee1fb040, lhdr=0x7fffee1fb120, \n    error_callback=0x7ffff7798e40 <std::sys_common::gnu::libbacktrace::print::error_cb>, data=0x7fffee1fb4f0, vec_function=0x7fffe73b61a0, vec_inlined=0x7fffe73b61a0)\n    at /buildslave/rust-buildbot/slave/nightly-dist-rustc-linux/build/src/libbacktrace/dwarf.c:2467\n#8  0x00007ffff77aefe4 in read_function_entry (state=0x7ffff7fc1000, ddata=0x7fffe73b6138, u=0x7fffe7c1a700, base=0, unit_buf=0x7fffee1fb040, lhdr=0x7fffee1fb120, \n    error_callback=0x7ffff7798e40 <std::sys_common::gnu::libbacktrace::print::error_cb>, data=0x7fffee1fb4f0, vec_function=0x7fffe73b61a0, vec_inlined=0x7fffe73b61a0)\n    at /buildslave/rust-buildbot/slave/nightly-dist-rustc-linux/build/src/libbacktrace/dwarf.c:2467\n#9  0x00007ffff77aefe4 in read_function_entry (state=0x7ffff7fc1000, ddata=0x7fffe73b6138, u=0x7fffe7c1a700, base=0, unit_buf=0x7fffee1fb040, lhdr=0x7fffee1fb120, \n    error_callback=0x7ffff7798e40 <std::sys_common::gnu::libbacktrace::print::error_cb>, data=0x7fffee1fb4f0, vec_function=0x7fffe73b61a0, vec_inlined=0x7fffe73b61a0)\n    at /buildslave/rust-buildbot/slave/nightly-dist-rustc-linux/build/src/libbacktrace/dwarf.c:2467\n#10 0x00007ffff77aefe4 in read_function_entry (state=0x7ffff7fc1000, ddata=0x7fffe73b6138, u=0x7fffe7c1a700, base=0, unit_buf=0x7fffee1fb040, lhdr=0x7fffee1fb120, \n    error_callback=0x7ffff7798e40 <std::sys_common::gnu::libbacktrace::print::error_cb>, data=0x7fffee1fb4f0, vec_function=0x7fffe73b61a0, vec_inlined=0x7fffe73b61a0)\n    at /buildslave/rust-buildbot/slave/nightly-dist-rustc-linux/build/src/libbacktrace/dwarf.c:2467\n#11 0x00007ffff77aefe4 in read_function_entry (state=0x7ffff7fc1000, ddata=0x7fffe73b6138, u=0x7fffe7c1a700, base=0, unit_buf=0x7fffee1fb040, lhdr=0x7fffee1fb120, \n    error_callback=0x7ffff7798e40 <std::sys_common::gnu::libbacktrace::print::error_cb>, data=0x7fffee1fb4f0, vec_function=0x7fffe73b61a0, vec_inlined=0x7fffe73b61a0)\n    at /buildslave/rust-buildbot/slave/nightly-dist-rustc-linux/build/src/libbacktrace/dwarf.c:2467\n#12 0x00007ffff77af230 in read_function_info (state=0x7ffff7fc1000, ddata=0x7fffe73b6138, lhdr=0x7fffee1fb120, error_callback=0x7ffff7798e40 <std::sys_common::gnu::libbacktrace::print::error_cb>, \n    data=0x7fffee1fb4f0, u=0x7fffe7c1a700, fvec=0x7fffe73b61a0, ret_addrs=0x7fffee1fb180, ret_addrs_count=0x7fffee1fb168)\n    at /buildslave/rust-buildbot/slave/nightly-dist-rustc-linux/build/src/libbacktrace/dwarf.c:2546\n#13 0x00007ffff77af714 in dwarf_lookup_pc (state=0x7ffff7fc1000, ddata=0x7fffe73b6138, pc=140737297503162, callback=0x7ffff7798e60 <std::sys_common::gnu::libbacktrace::print::pcinfo_cb>, \n    error_callback=0x7ffff7798e40 <std::sys_common::gnu::libbacktrace::print::error_cb>, data=0x7fffee1fb4f0, found=0x7fffee1fb244)\n    at /buildslave/rust-buildbot/slave/nightly-dist-rustc-linux/build/src/libbacktrace/dwarf.c:2731\n#14 0x00007ffff77afbc5 in dwarf_fileline (state=0x7ffff7fc1000, pc=140737297503162, callback=0x7ffff7798e60 <std::sys_common::gnu::libbacktrace::print::pcinfo_cb>, \n    error_callback=0x7ffff7798e40 <std::sys_common::gnu::libbacktrace::print::error_cb>, data=0x7fffee1fb4f0) at /buildslave/rust-buildbot/slave/nightly-dist-rustc-linux/build/src/libbacktrace/dwarf.c:2876\n#15 0x00007ffff77b0179 in backtrace_pcinfo (state=0x7ffff7fc1000, pc=140737297503162, callback=0x7ffff7798e60 <std::sys_common::gnu::libbacktrace::print::pcinfo_cb>, \n    error_callback=0x7ffff7798e40 <std::sys_common::gnu::libbacktrace::print::error_cb>, data=0x7fffee1fb4f0) at /buildslave/rust-buildbot/slave/nightly-dist-rustc-linux/build/src/libbacktrace/fileline.c:176\n#16 0x00007ffff7799808 in std::sys_common::gnu::libbacktrace::print () at /buildslave/rust-buildbot/slave/nightly-dist-rustc-linux/build/obj/../src/libstd/sys_common/gnu/libbacktrace.rs:166\n#17 std::sys::imp::backtrace::tracing::imp::write::trace_fn () at /buildslave/rust-buildbot/slave/nightly-dist-rustc-linux/build/obj/../src/libstd/sys/unix/backtrace/tracing/gcc_s.rs:101\n#18 0x00007fffef544679 in _Unwind_Backtrace (trace=0x7ffff7799220 <std::sys::imp::backtrace::tracing::imp::write::trace_fn>, trace_argument=0x7fffee1fb8b0) at /build/gcc-multilib/src/gcc/libgcc/unwind.inc:295\n#19 0x00007ffff779917b in std::sys::imp::backtrace::tracing::imp::write () at /buildslave/rust-buildbot/slave/nightly-dist-rustc-linux/build/obj/../src/libstd/sys/unix/backtrace/tracing/gcc_s.rs:42\n#20 0x00007ffff77a8020 in std::panicking::default_hook::{{closure}} () at /buildslave/rust-buildbot/slave/nightly-dist-rustc-linux/build/obj/../src/libstd/panicking.rs:247\n#21 0x00007ffff77a7bbe in std::panicking::default_hook () at /buildslave/rust-buildbot/slave/nightly-dist-rustc-linux/build/obj/../src/libstd/panicking.rs:257\n#22 0x00007ffff77a84c8 in std::panicking::rust_panic_with_hook () at /buildslave/rust-buildbot/slave/nightly-dist-rustc-linux/build/obj/../src/libstd/panicking.rs:451\n#23 0x00007ffff49fd3bb in std::panicking::begin_panic<rustc_errors::FatalError> () at /buildslave/rust-buildbot/slave/nightly-dist-rustc-linux/build/obj/../src/libstd/panicking.rs:413\n#24 0x00007ffff4b8acac in rustc::session::Session::fatal () at /buildslave/rust-buildbot/slave/nightly-dist-rustc-linux/build/obj/../src/librustc/session/mod.rs:191\n#25 0x00007ffff7a88f94 in rustc_driver::run::{{closure}}<closure> () at /buildslave/rust-buildbot/slave/nightly-dist-rustc-linux/build/obj/../src/librustc_driver/lib.rs:142\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/261739810/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/323604021",
    "html_url": "https://github.com/rust-lang/rust/issues/29293#issuecomment-323604021",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29293",
    "id": 323604021,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyMzYwNDAyMQ==",
    "user": {
      "login": "ghost",
      "id": 10137,
      "node_id": "MDQ6VXNlcjEwMTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ghost",
      "html_url": "https://github.com/ghost",
      "followers_url": "https://api.github.com/users/ghost/followers",
      "following_url": "https://api.github.com/users/ghost/following{/other_user}",
      "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
      "organizations_url": "https://api.github.com/users/ghost/orgs",
      "repos_url": "https://api.github.com/users/ghost/repos",
      "events_url": "https://api.github.com/users/ghost/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ghost/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-08-20T18:50:22Z",
    "updated_at": "2017-08-20T18:50:22Z",
    "body": "With `RUST_BACKTRACE=1` (for a rustc compiled with `debuginfo = true`), it currently takes, for me, 2min 20sec with 100% CPU usage (one full core(@2.4Ghz fixed)), out of 4 cores) to continue from a panic:\r\n```rustc\r\n$ time rustc -vv\r\n!! LD_LIBRARY_PATH=/home/xftroxgpx/build/2nonpkgs/rust.stuff/rust/rust/build/x86_64-unknown-linux-gnu/stage2/lib/rustlib/x86_64-unknown-linux-gnu/lib:/home/xftroxgpx/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib:/home/xftroxgpx/build/2nonpkgs/rust.stuff/rust/rust/build/x86_64-unknown-linux-gnu/stage2/lib/rustlib/x86_64-unknown-linux-gnu/lib:/home/xftroxgpx/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib:\r\n!! Executing '/home/xftroxgpx/build/2nonpkgs/rust.stuff/rust/rust/build//x86_64-unknown-linux-gnu/stage2/bin//rustc' with args: '-vv'\r\nerror: Option 'verbose' given more than once.\r\n\r\n\r\nreal\t2m20.208s\r\nuser\t2m19.662s\r\nsys\t0m0.441s\r\n```\r\n\r\nThat's 3115 times more time than it takes when RUST_BACKTRACE=0 :) (2m20.208s vs 0m0.045s)\r\n\r\n<details>\r\n\r\n<summary>\r\nrustc version used\r\n</summary>\r\n\r\n```\r\n$ rustc -vV\r\n!! LD_LIBRARY_PATH=/home/xftroxgpx/build/2nonpkgs/rust.stuff/rust/rust/build/x86_64-unknown-linux-gnu/stage2/lib/rustlib/x86_64-unknown-linux-gnu/lib:/home/xftroxgpx/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib:/home/xftroxgpx/build/2nonpkgs/rust.stuff/rust/rust/build/x86_64-unknown-linux-gnu/stage2/lib/rustlib/x86_64-unknown-linux-gnu/lib:/home/xftroxgpx/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib:\r\n!! Executing '/home/xftroxgpx/build/2nonpkgs/rust.stuff/rust/rust/build//x86_64-unknown-linux-gnu/stage2/bin//rustc' with args: '-vV'\r\nrustc 1.21.0-dev (7f397bdb0 2017-08-19)\r\nbinary: rustc\r\ncommit-hash: 7f397bdb062fe13a4707219a2f32486c5294f642\r\ncommit-date: 2017-08-19\r\nhost: x86_64-unknown-linux-gnu\r\nrelease: 1.21.0-dev\r\nLLVM version: 4.0\r\n```\r\n</details>\r\n\r\n<details>\r\n\r\n<summary>\r\n`config.toml` used to compile rustc\r\n</summary>\r\n\r\n```toml\r\n[llvm]\r\noptimize = true\r\nrelease-debuginfo = false\r\nassertions = false\r\nccache = \"/usr/bin/ccache\"\r\nstatic-libstdcpp = false\r\nninja = true\r\ntargets = \"X86\"\r\nlink-jobs = 4\r\n[build]\r\nbuild = \"x86_64-unknown-linux-gnu\"\r\nhost = [\"x86_64-unknown-linux-gnu\"]\r\ntarget = [\"x86_64-unknown-linux-gnu\"]\r\ncargo = \"/home/xftroxgpx/.cargo/bin/cargo\"\r\nrustc = \"/home/xftroxgpx/.cargo/bin/rustc\"\r\ndocs = true\r\ncompiler-docs = true\r\nsubmodules = true\r\nlocked-deps = false\r\nfull-bootstrap = false\r\nextended = false\r\nverbose = 0\r\nsanitizers = false\r\nprofiler = false\r\nopenssl-static = false\r\nlow-priority = true\r\n[install]\r\n[rust]\r\noptimize = true\r\ncodegen-units = 1 #We currently have the capability to do multiple codegen units in parallel. Unfortunately, one drawback of using this functionality is that using multiple codegen units loses optimization opportunities, like inlining, between the units. src: https://internals.rust-lang.org/t/towards-a-second-edition-of-the-compiler/5582\r\ndebug-assertions = false\r\ndebuginfo = true\r\ndebuginfo-lines = true\r\ndebuginfo-only-std = false\r\ndebug-jemalloc = false\r\nbacktrace = true\r\nchannel = \"dev\"\r\nrpath = true\r\noptimize-tests = false\r\ndebuginfo-tests = false\r\ncodegen-tests = false\r\nignore-git = false\r\n[target.x86_64-unknown-linux-gnu]\r\n[dist]\r\nsrc-tarball = false\r\n```\r\n</details>\r\n\r\n\r\nRust nightly (via rustup) takes only under 1 second:\r\n```bash\r\n$ time ~/.cargo/bin/rustc -vv\r\nerror: Option 'verbose' given more than once.\r\n\r\n\r\nreal\t0m1.161s\r\nuser\t0m0.773s\r\nsys\t0m0.082s\r\n\r\n$ time ~/.cargo/bin/rustc -vv\r\nerror: Option 'verbose' given more than once.\r\n\r\n\r\nreal\t0m0.814s\r\nuser\t0m0.775s\r\nsys\t0m0.040s\r\n$ time ~/.cargo/bin/rustc -vv\r\nerror: Option 'verbose' given more than once.\r\n\r\n\r\nreal\t0m0.790s\r\nuser\t0m0.754s\r\nsys\t0m0.038s\r\n```\r\n\r\n<details>\r\n\r\n<summary>\r\ntime with RUST_BACKTRACE=0\r\n</summary>\r\n\r\n```rust\r\n$ time RUST_BACKTRACE=0 rustc -vv\r\n!! LD_LIBRARY_PATH=/home/xftroxgpx/build/2nonpkgs/rust.stuff/rust/rust/build/x86_64-unknown-linux-gnu/stage2/lib/rustlib/x86_64-unknown-linux-gnu/lib:/home/xftroxgpx/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib:/home/xftroxgpx/build/2nonpkgs/rust.stuff/rust/rust/build/x86_64-unknown-linux-gnu/stage2/lib/rustlib/x86_64-unknown-linux-gnu/lib:/home/xftroxgpx/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib:\r\n!! Executing '/home/xftroxgpx/build/2nonpkgs/rust.stuff/rust/rust/build//x86_64-unknown-linux-gnu/stage2/bin//rustc' with args: '-vv'\r\nerror: Option 'verbose' given more than once.\r\n\r\n\r\nreal\t0m0.045s\r\nuser\t0m0.033s\r\nsys\t0m0.012s\r\n$ time RUST_BACKTRACE=0 rustc -vv\r\n!! LD_LIBRARY_PATH=/home/xftroxgpx/build/2nonpkgs/rust.stuff/rust/rust/build/x86_64-unknown-linux-gnu/stage2/lib/rustlib/x86_64-unknown-linux-gnu/lib:/home/xftroxgpx/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib:/home/xftroxgpx/build/2nonpkgs/rust.stuff/rust/rust/build/x86_64-unknown-linux-gnu/stage2/lib/rustlib/x86_64-unknown-linux-gnu/lib:/home/xftroxgpx/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib:\r\n!! Executing '/home/xftroxgpx/build/2nonpkgs/rust.stuff/rust/rust/build//x86_64-unknown-linux-gnu/stage2/bin//rustc' with args: '-vv'\r\nerror: Option 'verbose' given more than once.\r\n\r\n\r\nreal\t0m0.046s\r\nuser\t0m0.035s\r\nsys\t0m0.011s\r\n\r\n$ time RUST_BACKTRACE=0 ~/.cargo/bin/rustc -vv\r\nerror: Option 'verbose' given more than once.\r\n\r\n\r\nreal\t0m0.146s\r\nuser\t0m0.131s\r\nsys\t0m0.017s\r\n$ time RUST_BACKTRACE=0 ~/.cargo/bin/rustc -vv\r\nerror: Option 'verbose' given more than once.\r\n\r\n\r\nreal\t0m0.138s\r\nuser\t0m0.120s\r\nsys\t0m0.020s\r\n\r\n```\r\n\r\n(sidenote: looks like nightly is \"significantly\" slower.)\r\n</details>\r\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/323604021/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
