[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/36939991",
    "html_url": "https://github.com/rust-lang/rust/pull/12740#issuecomment-36939991",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12740",
    "id": 36939991,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2OTM5OTkx",
    "user": {
      "login": "lilyball",
      "id": 714,
      "node_id": "MDQ6VXNlcjcxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/714?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lilyball",
      "html_url": "https://github.com/lilyball",
      "followers_url": "https://api.github.com/users/lilyball/followers",
      "following_url": "https://api.github.com/users/lilyball/following{/other_user}",
      "gists_url": "https://api.github.com/users/lilyball/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lilyball/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lilyball/subscriptions",
      "organizations_url": "https://api.github.com/users/lilyball/orgs",
      "repos_url": "https://api.github.com/users/lilyball/repos",
      "events_url": "https://api.github.com/users/lilyball/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lilyball/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-03-06T21:35:34Z",
    "updated_at": "2014-03-06T21:35:34Z",
    "body": "I only reviewed for code quality, not for correctness. I also didn't check if the test suite was comprehensive, although based on the number of tests, it seems decent but could always stand to have more. Specifically, I'm concerned that all the possible error cases aren't fully tested (because there's lots of ways to malform a json stream).\n\nOverall, I think it looks decent, but I have one major qualm. I don't like how `expected` works. It's a bitfield that's trying to take the place of a state machine. I would much prefer to see the parser operate using a true state machine, where it has a `state` field that is an enum (rather than a bitfield). There aren't that many states a JSON parser can enter while parsing, and each state has an unambiguous set of expected tokens.\n\nBesides being a cleaner and more understandable approach, this also solves a big problem I have with `expected`, which is that it's a bitfield but in a number of places you treat it as a straight value. And by that I mean if you determine that it contains, e.g. `ExpectValue`, you try and parse a value and if that fails, you error out. But it's a bitfield, it could conceivably have contained other possible accepted tokens that you didn't try to parse. From reading the code, whenever `expected` contains `ExpectValue`, the only other flag it may contain is `ExpectEnd` and you test for `eof()` before testing for the value. But that's an assumption your code is making that's not actually enforced anywhere.\n\nOn the other hand, the state-based approach leaves out all of these assumptions. `ExpectValue` would be split into 3 states: `StateBegin` (where a value is required), `StateObjectValue` (where a value is expected inside of an object), and `StateArrayValue` (where a value is expected inside of an array). I would also suggest using two separate states while parsing objects, `StateObjectKey` and `StateObjectValue`, rather than trying to parse the key and value in one pass. That should make the overall state machine a bit simpler.\n\nOnce you've done this, you can then just wrap your whole state machine in a `loop {}`, because not every state will emit an event (e.g. `StateObjectKey` will move to `StateObjectValue` without emitting anything). You can also then say `self.p.parse_whitespace()` at the top of the loop instead of doing it in each state, because whitespace can be ignored everywhere. The only other place you'd need to parse whitespace is after consuming a comma (because that's the only place where you need to parse whitespace before transitioning to a new state). With this done, all you have to do is ensure every single state either consumes characters, or transitions to a new state (and with the latter, make sure there's no state cycle that consumes nothing, but in your case the only state transition that doesn't involve consuming characters would be moving to `StateEOF`).\n\nThis also cleans up some of your state flags. For example, `StateObjectKey` could have a single boolean value, making it `StateObjectKey(bool)`, and that boolean indicates whether any values have been parsed in this object so far. That value will serve double-duty, both indicating whether a comma is valid to parse at this point, and whether the stack needs to be popped if `'}'` is encountered.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/36939991/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/37014659",
    "html_url": "https://github.com/rust-lang/rust/pull/12740#issuecomment-37014659",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12740",
    "id": 37014659,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MDE0NjU5",
    "user": {
      "login": "nical",
      "id": 264854,
      "node_id": "MDQ6VXNlcjI2NDg1NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/264854?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nical",
      "html_url": "https://github.com/nical",
      "followers_url": "https://api.github.com/users/nical/followers",
      "following_url": "https://api.github.com/users/nical/following{/other_user}",
      "gists_url": "https://api.github.com/users/nical/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nical/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nical/subscriptions",
      "organizations_url": "https://api.github.com/users/nical/orgs",
      "repos_url": "https://api.github.com/users/nical/repos",
      "events_url": "https://api.github.com/users/nical/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nical/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-03-07T11:03:44Z",
    "updated_at": "2014-03-07T11:03:44Z",
    "body": "Thanks a lot for the review! I have addressed the easy parts locally and started refactoring the logic to use a proper state machine. I'll hopefully have time to sort it out this weekend.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/37014659/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/37080206",
    "html_url": "https://github.com/rust-lang/rust/pull/12740#issuecomment-37080206",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12740",
    "id": 37080206,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MDgwMjA2",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-03-07T23:43:48Z",
    "updated_at": "2014-03-07T23:43:48Z",
    "body": "This is cool! Would it be possible to add [some short benchmarks](http://static.rust-lang.org/doc/master/guide-testing.html#microbenchmarking)? (e.g. decoding `[1, 2, 3, 4]`, `{\"foo\": null, \"bar\": \"baz\"}` etc.) \n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/37080206/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/37080283",
    "html_url": "https://github.com/rust-lang/rust/pull/12740#issuecomment-37080283",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12740",
    "id": 37080283,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MDgwMjgz",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-03-07T23:45:15Z",
    "updated_at": "2014-03-07T23:45:15Z",
    "body": "Also, I wonder if taking a `&str` rather than a `Iterator<char>` would be more efficient: it would allow one use slices directly out of the `&str` rather than having to allocate new `~str`'s for everything.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/37080283/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/37080501",
    "html_url": "https://github.com/rust-lang/rust/pull/12740#issuecomment-37080501",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12740",
    "id": 37080501,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MDgwNTAx",
    "user": {
      "login": "lilyball",
      "id": 714,
      "node_id": "MDQ6VXNlcjcxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/714?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lilyball",
      "html_url": "https://github.com/lilyball",
      "followers_url": "https://api.github.com/users/lilyball/followers",
      "following_url": "https://api.github.com/users/lilyball/following{/other_user}",
      "gists_url": "https://api.github.com/users/lilyball/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lilyball/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lilyball/subscriptions",
      "organizations_url": "https://api.github.com/users/lilyball/orgs",
      "repos_url": "https://api.github.com/users/lilyball/repos",
      "events_url": "https://api.github.com/users/lilyball/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lilyball/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-03-07T23:49:36Z",
    "updated_at": "2014-03-07T23:49:36Z",
    "body": "@huonw JSON supports string escapes, so `&str` wouldn't work as parsing these escapes generates a `~str`. At best you could get a `str::MaybeOwned<>`, but it's not worth it.\n\nThe big benefit to taking `Iterator<char>` is this allows for streaming directly from a `io::BufferedReader` without having to read the whole JSON file into memory beforehand. This enables cool things like having a streaming JSON protocol that never actually terminates the topmost object.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/37080501/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/37080806",
    "html_url": "https://github.com/rust-lang/rust/pull/12740#issuecomment-37080806",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12740",
    "id": 37080806,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MDgwODA2",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-03-07T23:55:17Z",
    "updated_at": "2014-03-07T23:55:17Z",
    "body": "Hm, that's true about escapes, but I disagree with\n\n> At best you could get a str::MaybeOwned<>, but it's not worth it.\n\nI'd guess that almost all JSON strings will be unescaped (especially ones in object keys).\n\n---\n\nI was thinking we could have a resumable parser, so one could read a chunk out of a reader, pass it into the JSON decoder and get string slices out of that chunk. (With the leading string possibly continuing from the previous run.) Theoretically this behaviour would reduce to the same as an `Iterator<char>` when passing strings with `char_len == 1` each time (probably less efficient, but I'd guess that it would be very rare to actually be _forced_ to pass individual characters in a performance sensitive environment).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/37080806/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/37081002",
    "html_url": "https://github.com/rust-lang/rust/pull/12740#issuecomment-37081002",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12740",
    "id": 37081002,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MDgxMDAy",
    "user": {
      "login": "lilyball",
      "id": 714,
      "node_id": "MDQ6VXNlcjcxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/714?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lilyball",
      "html_url": "https://github.com/lilyball",
      "followers_url": "https://api.github.com/users/lilyball/followers",
      "following_url": "https://api.github.com/users/lilyball/following{/other_user}",
      "gists_url": "https://api.github.com/users/lilyball/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lilyball/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lilyball/subscriptions",
      "organizations_url": "https://api.github.com/users/lilyball/orgs",
      "repos_url": "https://api.github.com/users/lilyball/repos",
      "events_url": "https://api.github.com/users/lilyball/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lilyball/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-03-07T23:58:48Z",
    "updated_at": "2014-03-07T23:58:48Z",
    "body": "@huonw I said it's not worth it because it massively complicates the ability to do streaming JSON, as then you do have to explicitly manage your buffer, and the JSON parser would also have to be extended in order to buffer incomplete tokens internally. It's certainly possible, but I doubt it's really going to be that much of a performance win (compared to whatever you're actually doing _with_ the JSON), and it will make the API much harder to use.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/37081002/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/37118434",
    "html_url": "https://github.com/rust-lang/rust/pull/12740#issuecomment-37118434",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12740",
    "id": 37118434,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MTE4NDM0",
    "user": {
      "login": "robertg",
      "id": 2405472,
      "node_id": "MDQ6VXNlcjI0MDU0NzI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2405472?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/robertg",
      "html_url": "https://github.com/robertg",
      "followers_url": "https://api.github.com/users/robertg/followers",
      "following_url": "https://api.github.com/users/robertg/following{/other_user}",
      "gists_url": "https://api.github.com/users/robertg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/robertg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/robertg/subscriptions",
      "organizations_url": "https://api.github.com/users/robertg/orgs",
      "repos_url": "https://api.github.com/users/robertg/repos",
      "events_url": "https://api.github.com/users/robertg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/robertg/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-03-09T04:00:23Z",
    "updated_at": "2014-03-09T04:00:23Z",
    "body": "Use vim-trailing-whitespace, or an equivalent to prevent your builds from failing.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/37118434/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38340086",
    "html_url": "https://github.com/rust-lang/rust/pull/12740#issuecomment-38340086",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12740",
    "id": 38340086,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MzQwMDg2",
    "user": {
      "login": "erickt",
      "id": 84711,
      "node_id": "MDQ6VXNlcjg0NzEx",
      "avatar_url": "https://avatars.githubusercontent.com/u/84711?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/erickt",
      "html_url": "https://github.com/erickt",
      "followers_url": "https://api.github.com/users/erickt/followers",
      "following_url": "https://api.github.com/users/erickt/following{/other_user}",
      "gists_url": "https://api.github.com/users/erickt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/erickt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/erickt/subscriptions",
      "organizations_url": "https://api.github.com/users/erickt/orgs",
      "repos_url": "https://api.github.com/users/erickt/repos",
      "events_url": "https://api.github.com/users/erickt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/erickt/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-03-22T01:58:24Z",
    "updated_at": "2014-03-22T01:58:24Z",
    "body": "This is great. I've only started reviewing this but this is what I wanted back when I wrote the first parser. I wasn't able to back then due to some long closed issues. The first major thing I see is I doubt we need two parsers. Can you merge the two?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38340086/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38347384",
    "html_url": "https://github.com/rust-lang/rust/pull/12740#issuecomment-38347384",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12740",
    "id": 38347384,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MzQ3Mzg0",
    "user": {
      "login": "nical",
      "id": 264854,
      "node_id": "MDQ6VXNlcjI2NDg1NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/264854?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nical",
      "html_url": "https://github.com/nical",
      "followers_url": "https://api.github.com/users/nical/followers",
      "following_url": "https://api.github.com/users/nical/following{/other_user}",
      "gists_url": "https://api.github.com/users/nical/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nical/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nical/subscriptions",
      "organizations_url": "https://api.github.com/users/nical/orgs",
      "repos_url": "https://api.github.com/users/nical/repos",
      "events_url": "https://api.github.com/users/nical/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nical/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-03-22T09:53:11Z",
    "updated_at": "2014-03-22T09:53:11Z",
    "body": "@erickt sure, I am looking into using the streaming parser to build Json objects. Basically this is just taking the existing parser's logic and making it consume JsonEvents rather than chars.\nThis is turning into a complete rewrite of serialize::json, I hope you guys don't mind (when we take contributions in Gecko we try to avoid big rewrite patches).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38347384/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38353003",
    "html_url": "https://github.com/rust-lang/rust/pull/12740#issuecomment-38353003",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12740",
    "id": 38353003,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MzUzMDAz",
    "user": {
      "login": "erickt",
      "id": 84711,
      "node_id": "MDQ6VXNlcjg0NzEx",
      "avatar_url": "https://avatars.githubusercontent.com/u/84711?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/erickt",
      "html_url": "https://github.com/erickt",
      "followers_url": "https://api.github.com/users/erickt/followers",
      "following_url": "https://api.github.com/users/erickt/following{/other_user}",
      "gists_url": "https://api.github.com/users/erickt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/erickt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/erickt/subscriptions",
      "organizations_url": "https://api.github.com/users/erickt/orgs",
      "repos_url": "https://api.github.com/users/erickt/repos",
      "events_url": "https://api.github.com/users/erickt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/erickt/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-03-22T14:33:58Z",
    "updated_at": "2014-03-22T14:33:58Z",
    "body": "@nical: we are still early enough that rewrites are fine at this point. I wanted to do this anyway, and you've saved me the work :)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38353003/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38355006",
    "html_url": "https://github.com/rust-lang/rust/pull/12740#issuecomment-38355006",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12740",
    "id": 38355006,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MzU1MDA2",
    "user": {
      "login": "nical",
      "id": 264854,
      "node_id": "MDQ6VXNlcjI2NDg1NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/264854?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nical",
      "html_url": "https://github.com/nical",
      "followers_url": "https://api.github.com/users/nical/followers",
      "following_url": "https://api.github.com/users/nical/following{/other_user}",
      "gists_url": "https://api.github.com/users/nical/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nical/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nical/subscriptions",
      "organizations_url": "https://api.github.com/users/nical/orgs",
      "repos_url": "https://api.github.com/users/nical/repos",
      "events_url": "https://api.github.com/users/nical/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nical/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-03-22T15:50:22Z",
    "updated_at": "2014-03-22T15:50:22Z",
    "body": "I have a local merge of the two parsers that I am currently cleaning up. I feel like it would make sense to rename \"StreamingParser\" into \"Parser\" and rename the non-streaming one (that uses the parser to build a Json object) into \"Builder\".\nThe builder doesn't do much of the parsing anymore since it's handled by the underlying streaming parser.\nHow do you feel about this?\nAlso, I'd like to turn the error messages into an enum that emplements to_str rather than storing ~str directly. I think it's cleaner and to avoid an annoying swap or clone of the Error struct when doing something like:\nmatch self.token { // just like ch for the parser, the builder stores the current token.\n  Err(ref e) => { return e; } // Can't move out of dereference, blablablah\n\n@erickt this is a fun side project so I am happy to save you this work :)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38355006/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38358195",
    "html_url": "https://github.com/rust-lang/rust/pull/12740#issuecomment-38358195",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12740",
    "id": 38358195,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MzU4MTk1",
    "user": {
      "login": "nical",
      "id": 264854,
      "node_id": "MDQ6VXNlcjI2NDg1NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/264854?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nical",
      "html_url": "https://github.com/nical",
      "followers_url": "https://api.github.com/users/nical/followers",
      "following_url": "https://api.github.com/users/nical/following{/other_user}",
      "gists_url": "https://api.github.com/users/nical/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nical/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nical/subscriptions",
      "organizations_url": "https://api.github.com/users/nical/orgs",
      "repos_url": "https://api.github.com/users/nical/repos",
      "events_url": "https://api.github.com/users/nical/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nical/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-03-22T17:32:24Z",
    "updated_at": "2014-03-22T17:32:24Z",
    "body": "So I went ahead and used error codes instead of ~str in json::Error. I think it's better because it makes it less likely to make typos when comparing errors, and it makes json::Error a POD type which is nicer (no more move-related build errors that force you to clone() the error or swap it with a dummy error). On the other hand I had to discard the details filed in IoError because it's an Option<~str> which makes it a non-POD type. IoError.details seems to almost never be used so I felt it was a worthy tradeoff. This is a potentially controversial decision, so let me now if I should revert this change.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38358195/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38412784",
    "html_url": "https://github.com/rust-lang/rust/pull/12740#issuecomment-38412784",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12740",
    "id": 38412784,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4NDEyNzg0",
    "user": {
      "login": "erickt",
      "id": 84711,
      "node_id": "MDQ6VXNlcjg0NzEx",
      "avatar_url": "https://avatars.githubusercontent.com/u/84711?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/erickt",
      "html_url": "https://github.com/erickt",
      "followers_url": "https://api.github.com/users/erickt/followers",
      "following_url": "https://api.github.com/users/erickt/following{/other_user}",
      "gists_url": "https://api.github.com/users/erickt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/erickt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/erickt/subscriptions",
      "organizations_url": "https://api.github.com/users/erickt/orgs",
      "repos_url": "https://api.github.com/users/erickt/repos",
      "events_url": "https://api.github.com/users/erickt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/erickt/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-03-24T05:09:03Z",
    "updated_at": "2014-03-24T05:09:03Z",
    "body": "Overall this is awesome. I would wait for #13107 to land first before landing this though.\n\nMy next plan for all this is that we can remove the superfluous conversion of a `&str` to a `Json` to a value. We can do this by merging your `Builder` struct with `Decoder`. Once that's done, we can also add support for decoding to a `Json` value. The way we do this is by having it's `Decodable` directly access the builder, as in something like:\n\n```\nimpl Decodable<json::Decoder> for Json {\n    fn decode(d: &mut json::Decoder) -> Result<Json, Error> {\n        d.builder.build()\n    }\n}\n```\n\nIf you're interested, feel free to do that part of this PR, or if you'd rather get this landed before it bitrots too much, you or I can do it in a future PR.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38412784/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38536986",
    "html_url": "https://github.com/rust-lang/rust/pull/12740#issuecomment-38536986",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12740",
    "id": 38536986,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4NTM2OTg2",
    "user": {
      "login": "edwardw",
      "id": 454049,
      "node_id": "MDQ6VXNlcjQ1NDA0OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/454049?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/edwardw",
      "html_url": "https://github.com/edwardw",
      "followers_url": "https://api.github.com/users/edwardw/followers",
      "following_url": "https://api.github.com/users/edwardw/following{/other_user}",
      "gists_url": "https://api.github.com/users/edwardw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/edwardw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/edwardw/subscriptions",
      "organizations_url": "https://api.github.com/users/edwardw/orgs",
      "repos_url": "https://api.github.com/users/edwardw/repos",
      "events_url": "https://api.github.com/users/edwardw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/edwardw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-03-25T07:28:23Z",
    "updated_at": "2014-03-25T07:28:23Z",
    "body": "cc me.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38536986/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38597044",
    "html_url": "https://github.com/rust-lang/rust/pull/12740#issuecomment-38597044",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12740",
    "id": 38597044,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4NTk3MDQ0",
    "user": {
      "login": "nical",
      "id": 264854,
      "node_id": "MDQ6VXNlcjI2NDg1NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/264854?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nical",
      "html_url": "https://github.com/nical",
      "followers_url": "https://api.github.com/users/nical/followers",
      "following_url": "https://api.github.com/users/nical/following{/other_user}",
      "gists_url": "https://api.github.com/users/nical/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nical/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nical/subscriptions",
      "organizations_url": "https://api.github.com/users/nical/orgs",
      "repos_url": "https://api.github.com/users/nical/repos",
      "events_url": "https://api.github.com/users/nical/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nical/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-03-25T17:45:12Z",
    "updated_at": "2014-03-25T17:45:12Z",
    "body": "@erickt I'll be happy to help with the Decoder simplification, although I would prefer to do it as a separate pull request.\nNo problem with waiting for #13107. In the mean time I guess I should write an RFC since this is a user-visible change to libserialize.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38597044/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38597242",
    "html_url": "https://github.com/rust-lang/rust/pull/12740#issuecomment-38597242",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12740",
    "id": 38597242,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4NTk3MjQy",
    "user": {
      "login": "erickt",
      "id": 84711,
      "node_id": "MDQ6VXNlcjg0NzEx",
      "avatar_url": "https://avatars.githubusercontent.com/u/84711?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/erickt",
      "html_url": "https://github.com/erickt",
      "followers_url": "https://api.github.com/users/erickt/followers",
      "following_url": "https://api.github.com/users/erickt/following{/other_user}",
      "gists_url": "https://api.github.com/users/erickt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/erickt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/erickt/subscriptions",
      "organizations_url": "https://api.github.com/users/erickt/orgs",
      "repos_url": "https://api.github.com/users/erickt/repos",
      "events_url": "https://api.github.com/users/erickt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/erickt/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-03-25T17:46:48Z",
    "updated_at": "2014-03-25T17:46:48Z",
    "body": "@nical: yeah, hold off on simplifying `Decoder`, there may be some issues with that approach that @nikomatsakis has brought up.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38597242/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38599447",
    "html_url": "https://github.com/rust-lang/rust/pull/12740#issuecomment-38599447",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12740",
    "id": 38599447,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4NTk5NDQ3",
    "user": {
      "login": "nical",
      "id": 264854,
      "node_id": "MDQ6VXNlcjI2NDg1NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/264854?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nical",
      "html_url": "https://github.com/nical",
      "followers_url": "https://api.github.com/users/nical/followers",
      "following_url": "https://api.github.com/users/nical/following{/other_user}",
      "gists_url": "https://api.github.com/users/nical/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nical/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nical/subscriptions",
      "organizations_url": "https://api.github.com/users/nical/orgs",
      "repos_url": "https://api.github.com/users/nical/repos",
      "events_url": "https://api.github.com/users/nical/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nical/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-03-25T18:04:16Z",
    "updated_at": "2014-03-25T18:04:16Z",
    "body": "Also, i'd like to eventually add the following feature to json::Stack:\n\nfn matches(&self, pattern: &str) -> bool\n\nwhich would compare the current stack with a string using a lightweight regex-like syntax like \"_+.foo.#.$\"\n'_' would mean an element of any type\n'#' would mean an index\n'$' would mean a key\nand the '+' would mean \"any number of...\"\n\nI haven't given much thought about the syntax and I want to experiment with different solutions, for example it might be better to build an object from the string and the use this object to compare against the stack as the object could have a representation that is more efficient to compare against the stack.\nMaybe a macro could help building the object from a string, I don't know.\n\nAnyway I think it would be nice to be able to compare the stack with a string like:\n\n```\nfor evt in parser {\n  if parser.matches(json_stack!(\"mesh.$.vertices.#\")) {\n    // we know we are parsing a big array of floats so the logic here becomes simple... \n    // ...\n  }\n  // ...\n}\n```\n\nThis is something i'd like to investigate for later, any thoughts?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38599447/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38747555",
    "html_url": "https://github.com/rust-lang/rust/pull/12740#issuecomment-38747555",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12740",
    "id": 38747555,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4NzQ3NTU1",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-03-26T22:18:32Z",
    "updated_at": "2014-03-26T22:18:32Z",
    "body": "cc me\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38747555/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38926719",
    "html_url": "https://github.com/rust-lang/rust/pull/12740#issuecomment-38926719",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12740",
    "id": 38926719,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4OTI2NzE5",
    "user": {
      "login": "erickt",
      "id": 84711,
      "node_id": "MDQ6VXNlcjg0NzEx",
      "avatar_url": "https://avatars.githubusercontent.com/u/84711?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/erickt",
      "html_url": "https://github.com/erickt",
      "followers_url": "https://api.github.com/users/erickt/followers",
      "following_url": "https://api.github.com/users/erickt/following{/other_user}",
      "gists_url": "https://api.github.com/users/erickt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/erickt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/erickt/subscriptions",
      "organizations_url": "https://api.github.com/users/erickt/orgs",
      "repos_url": "https://api.github.com/users/erickt/repos",
      "events_url": "https://api.github.com/users/erickt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/erickt/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-03-28T14:48:24Z",
    "updated_at": "2014-03-28T14:48:24Z",
    "body": "@nical: ##13107 has landed so you are good to go!\n\nRegarding your pattern matching on json structures, that sounds like a great idea, but I'm not sure if it should live in Rust proper, but it'd make a great module. If you start going down this road, you should check out some of these projects. They're trying to do something similar by bringing the ideas of XQuery or XPath to json: [JSPath](https://github.com/dfilatov/jspath), [jsoniq](http://www.jsoniq.org/), and [JSONPath](http://goessner.net/articles/JsonPath/).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38926719/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38954350",
    "html_url": "https://github.com/rust-lang/rust/pull/12740#issuecomment-38954350",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12740",
    "id": 38954350,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4OTU0MzUw",
    "user": {
      "login": "nical",
      "id": 264854,
      "node_id": "MDQ6VXNlcjI2NDg1NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/264854?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nical",
      "html_url": "https://github.com/nical",
      "followers_url": "https://api.github.com/users/nical/followers",
      "following_url": "https://api.github.com/users/nical/following{/other_user}",
      "gists_url": "https://api.github.com/users/nical/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nical/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nical/subscriptions",
      "organizations_url": "https://api.github.com/users/nical/orgs",
      "repos_url": "https://api.github.com/users/nical/repos",
      "events_url": "https://api.github.com/users/nical/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nical/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-03-28T18:43:23Z",
    "updated_at": "2014-03-28T18:43:23Z",
    "body": "The rebase is quite awful because of changes that went into the error results. I don't want the parser's error enum variants to contain the decoder's especially since rust will force user to match against all variants. This leaves me with something like this:\n\n```\n// An error that can be generated from wrong json syntax during parsing\nstruct SyntaxError {\n  line: u32, col: u32, reason: ErrorCode\n}\n\n// The output of the parser\nenum JsonEvent {\n  ListStart,\n  // ...\n  ParseError(SyntaxError),\n  IoError(io::IoError),\n}\n\n// the Builder is implemented on top of the parser.\nBuilderError {\n  ParserError2(SyntaxError), // :(\n  IoError2(JsonError),       // :(\n}\n\n// The decoder is implemented on top of the Builder\nenum DecoderError {\n  ParseError3(SyntaxError),     // :(\n  IoError3(io::IoError),        // :(\n  ExpectedError(~str, ~str),\n  MissingFieldError(~str),\n  UnknownVariantError(~str),\n}\n```\n\nIt looks like the only two ways to avoid those enum variant name collisions is to either move builder and and decoder into their own sub modules, or get very creative with the English language.\nI'll go ahead with the former approach. If anyone has a better solution, please let me now.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38954350/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38957453",
    "html_url": "https://github.com/rust-lang/rust/pull/12740#issuecomment-38957453",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12740",
    "id": 38957453,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4OTU3NDUz",
    "user": {
      "login": "erickt",
      "id": 84711,
      "node_id": "MDQ6VXNlcjg0NzEx",
      "avatar_url": "https://avatars.githubusercontent.com/u/84711?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/erickt",
      "html_url": "https://github.com/erickt",
      "followers_url": "https://api.github.com/users/erickt/followers",
      "following_url": "https://api.github.com/users/erickt/following{/other_user}",
      "gists_url": "https://api.github.com/users/erickt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/erickt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/erickt/subscriptions",
      "organizations_url": "https://api.github.com/users/erickt/orgs",
      "repos_url": "https://api.github.com/users/erickt/repos",
      "events_url": "https://api.github.com/users/erickt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/erickt/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-03-28T19:13:45Z",
    "updated_at": "2014-03-28T19:13:45Z",
    "body": "@nical: Ugh, that is pretty ugly. Can both the Parser and Builder use the same error enum? As in:\n\n```\nenum ParserError {\n    SyntaxError(SyntaxError),\n    IoError(IoError),\n}\n\nenum JsonEvent {\n    ListStart,\n    ...\n    Error(JsonError),\n}\n\nimpl Parser {\n    fn parse(&mut self, ...) -> Result<JsonEvent, JsonError> { ... }\n}\n\nimpl Builder {\n    fn build(&mut self, ...) -> Result<Json, JsonError> { ... }\n}\n\nenum DecoderError {\n    ParserError(JsonError),\n    ExpectedError(~str, ~str),\n    ...\n}\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38957453/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38959799",
    "html_url": "https://github.com/rust-lang/rust/pull/12740#issuecomment-38959799",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12740",
    "id": 38959799,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4OTU5Nzk5",
    "user": {
      "login": "nical",
      "id": 264854,
      "node_id": "MDQ6VXNlcjI2NDg1NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/264854?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nical",
      "html_url": "https://github.com/nical",
      "followers_url": "https://api.github.com/users/nical/followers",
      "following_url": "https://api.github.com/users/nical/following{/other_user}",
      "gists_url": "https://api.github.com/users/nical/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nical/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nical/subscriptions",
      "organizations_url": "https://api.github.com/users/nical/orgs",
      "repos_url": "https://api.github.com/users/nical/repos",
      "events_url": "https://api.github.com/users/nical/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nical/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-03-28T19:38:53Z",
    "updated_at": "2014-03-28T19:38:53Z",
    "body": "@erickt You are right (with JsonError == ParserError I suppose). I have 13 hours to spend in a plane tomorrow so I guess I'll have plenty of time to fix that.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38959799/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38963882",
    "html_url": "https://github.com/rust-lang/rust/pull/12740#issuecomment-38963882",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12740",
    "id": 38963882,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4OTYzODgy",
    "user": {
      "login": "lilyball",
      "id": 714,
      "node_id": "MDQ6VXNlcjcxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/714?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lilyball",
      "html_url": "https://github.com/lilyball",
      "followers_url": "https://api.github.com/users/lilyball/followers",
      "following_url": "https://api.github.com/users/lilyball/following{/other_user}",
      "gists_url": "https://api.github.com/users/lilyball/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lilyball/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lilyball/subscriptions",
      "organizations_url": "https://api.github.com/users/lilyball/orgs",
      "repos_url": "https://api.github.com/users/lilyball/repos",
      "events_url": "https://api.github.com/users/lilyball/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lilyball/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-03-28T20:21:54Z",
    "updated_at": "2014-03-28T20:22:04Z",
    "body": "If I understand this correctly, the `Parser` can throw `SyntaxError`s and `IoError`s, and the `Builder` is built on top of the `Parser` and can throw both of those errors in addition to a set of errors specific to the decoder?\n\n@erickt's suggestion looks similar to something that will work, although `JsonError` is undefined and I think `parse()` and `build()` need to return different errors.\n\nAlso, if both functions are yielding a `Result` then `JsonEvent` should remove the `Error` variant entirely, no?\n\n``` rust\npub enum ParserError {\n    SyntaxError(SyntaxError),\n    IoError(IoError),\n}\n\npub enum BuilderError {\n    ParseError(ParserError),\n    // decoder errors\n    ExpectedError(~str, ~str),\n    MissingFieldError(~str),\n    UnknownVariantError(~str)\n}\n\npub enum JsonEvent {\n    ListStart,\n    ... // note: no Error event, that's handled by the Result\n}\n\nimpl Parser {\n    pub fn parse(&mut self, ...) -> Result<JsonEvent, ParserError> { ... }\n}\n\nimpl Builder {\n    pub fn build(&mut self, ...) -> Result<Json, BuilderError> { ... }\n}\n```\n\nAlso, FWIW, if you do need to have the same variants in multiple enums, you can simulate scoped enum variants by using a mod named after the enum. There was a proposal a while back to add this to the language spec but it was decided at that time that it was unnecessary, but I like it. Implementing this looks something like\n\n``` rust\npub type MyEnum = MyEnum::MyEnum; // expose the enum at this scope\npub mod MyEnum {\n    // unfortunately the real enum has to be public for the parent module to see it\n    // which means MyEnum::MyEnum is valid, despite being weird.\n    pub enum MyEnum {\n        VariantOne,\n        VariantTwo\n    }\n    // add any impls of MyEnum here\n}\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/38963882/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/39025047",
    "html_url": "https://github.com/rust-lang/rust/pull/12740#issuecomment-39025047",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12740",
    "id": 39025047,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MDI1MDQ3",
    "user": {
      "login": "nical",
      "id": 264854,
      "node_id": "MDQ6VXNlcjI2NDg1NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/264854?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nical",
      "html_url": "https://github.com/nical",
      "followers_url": "https://api.github.com/users/nical/followers",
      "following_url": "https://api.github.com/users/nical/following{/other_user}",
      "gists_url": "https://api.github.com/users/nical/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nical/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nical/subscriptions",
      "organizations_url": "https://api.github.com/users/nical/orgs",
      "repos_url": "https://api.github.com/users/nical/repos",
      "events_url": "https://api.github.com/users/nical/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nical/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-03-30T13:06:41Z",
    "updated_at": "2014-03-30T13:06:41Z",
    "body": "Just for the heads up, after trying a few different ways, I ended up flattening the history of my branch and manually re-applied all of the changes that had gone into json.rs since the last rebase in one big commit here: https://github.com/nical/rust/tree/json-rebase\nI'll get all that back into the json-streaming branch one way or another, for it to show up in the pull request soon.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/39025047/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/40120322",
    "html_url": "https://github.com/rust-lang/rust/pull/12740#issuecomment-40120322",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12740",
    "id": 40120322,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwMTIwMzIy",
    "user": {
      "login": "nical",
      "id": 264854,
      "node_id": "MDQ6VXNlcjI2NDg1NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/264854?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nical",
      "html_url": "https://github.com/nical",
      "followers_url": "https://api.github.com/users/nical/followers",
      "following_url": "https://api.github.com/users/nical/following{/other_user}",
      "gists_url": "https://api.github.com/users/nical/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nical/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nical/subscriptions",
      "organizations_url": "https://api.github.com/users/nical/orgs",
      "repos_url": "https://api.github.com/users/nical/repos",
      "events_url": "https://api.github.com/users/nical/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nical/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-04-10T18:23:08Z",
    "updated_at": "2014-04-10T18:23:08Z",
    "body": "I think that the branch is ready to be merged or to go through a new round of reviews.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/40120322/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/40632833",
    "html_url": "https://github.com/rust-lang/rust/pull/12740#issuecomment-40632833",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12740",
    "id": 40632833,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNjMyODMz",
    "user": {
      "login": "nical",
      "id": 264854,
      "node_id": "MDQ6VXNlcjI2NDg1NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/264854?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nical",
      "html_url": "https://github.com/nical",
      "followers_url": "https://api.github.com/users/nical/followers",
      "following_url": "https://api.github.com/users/nical/following{/other_user}",
      "gists_url": "https://api.github.com/users/nical/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nical/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nical/subscriptions",
      "organizations_url": "https://api.github.com/users/nical/orgs",
      "repos_url": "https://api.github.com/users/nical/repos",
      "events_url": "https://api.github.com/users/nical/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nical/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-04-16T18:14:03Z",
    "updated_at": "2014-04-16T18:14:03Z",
    "body": "Let me know if there is something that I should change in this pull request. At the moment I am not doing anything and the PR is slowly bitrotting.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/40632833/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/40664938",
    "html_url": "https://github.com/rust-lang/rust/pull/12740#issuecomment-40664938",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12740",
    "id": 40664938,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNjY0OTM4",
    "user": {
      "login": "erickt",
      "id": 84711,
      "node_id": "MDQ6VXNlcjg0NzEx",
      "avatar_url": "https://avatars.githubusercontent.com/u/84711?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/erickt",
      "html_url": "https://github.com/erickt",
      "followers_url": "https://api.github.com/users/erickt/followers",
      "following_url": "https://api.github.com/users/erickt/following{/other_user}",
      "gists_url": "https://api.github.com/users/erickt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/erickt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/erickt/subscriptions",
      "organizations_url": "https://api.github.com/users/erickt/orgs",
      "repos_url": "https://api.github.com/users/erickt/repos",
      "events_url": "https://api.github.com/users/erickt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/erickt/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-04-16T23:29:50Z",
    "updated_at": "2014-04-16T23:29:50Z",
    "body": "@nical: This is awesome, sorry I missed your update a week ago. r=me once it's rebased on top of HEAD.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/40664938/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/41315488",
    "html_url": "https://github.com/rust-lang/rust/pull/12740#issuecomment-41315488",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12740",
    "id": 41315488,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMzE1NDg4",
    "user": {
      "login": "nical",
      "id": 264854,
      "node_id": "MDQ6VXNlcjI2NDg1NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/264854?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nical",
      "html_url": "https://github.com/nical",
      "followers_url": "https://api.github.com/users/nical/followers",
      "following_url": "https://api.github.com/users/nical/following{/other_user}",
      "gists_url": "https://api.github.com/users/nical/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nical/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nical/subscriptions",
      "organizations_url": "https://api.github.com/users/nical/orgs",
      "repos_url": "https://api.github.com/users/nical/repos",
      "events_url": "https://api.github.com/users/nical/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nical/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-04-24T18:31:01Z",
    "updated_at": "2014-04-24T18:31:01Z",
    "body": "I have been short on spare time lately but I finally got the branch rebased \\o/\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/41315488/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/41351030",
    "html_url": "https://github.com/rust-lang/rust/pull/12740#issuecomment-41351030",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12740",
    "id": 41351030,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMzUxMDMw",
    "user": {
      "login": "erickt",
      "id": 84711,
      "node_id": "MDQ6VXNlcjg0NzEx",
      "avatar_url": "https://avatars.githubusercontent.com/u/84711?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/erickt",
      "html_url": "https://github.com/erickt",
      "followers_url": "https://api.github.com/users/erickt/followers",
      "following_url": "https://api.github.com/users/erickt/following{/other_user}",
      "gists_url": "https://api.github.com/users/erickt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/erickt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/erickt/subscriptions",
      "organizations_url": "https://api.github.com/users/erickt/orgs",
      "repos_url": "https://api.github.com/users/erickt/repos",
      "events_url": "https://api.github.com/users/erickt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/erickt/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-04-25T01:24:27Z",
    "updated_at": "2014-04-25T01:24:27Z",
    "body": "@nical: unfortunately it looks like the build failed with this error:\n\n```\n---- [run-pass] run-pass/issue-4016.rs stdout ----\n\nerror: compilation failed!\n\ncommand: x86_64-unknown-linux-gnu/stage1/bin/rustc /home/travis/build/mozilla/rust/src/test/run-pass/issue-4016.rs -L x86_64-unknown-linux-gnu/test/run-pass --target=x86_64-unknown-linux-gnu -L x86_64-unknown-linux-gnu/test/run-pass/issue-4016.stage1-x86_64-unknown-linux-gnu.libaux -C prefer-dynamic -o x86_64-unknown-linux-gnu/test/run-pass/issue-4016.stage1-x86_64-unknown-linux-gnu --cfg rtopt --cfg debug -L x86_64-unknown-linux-gnu/rt\n\nstdout:\n\n------------------------------------------\n\n------------------------------------------\n\nstderr:\n\n------------------------------------------\n\n/home/travis/build/mozilla/rust/src/test/run-pass/issue-4016.rs:16:37: 16:48 error: use of undeclared type name `json::Error`\n\n/home/travis/build/mozilla/rust/src/test/run-pass/issue-4016.rs:16 trait JD : Decodable<json::Decoder, json::Error> { }\n\n^~~~~~~~~~~\n\nerror: aborting due to previous error\n\n------------------------------------------\n\ntask '[run-pass] run-pass/issue-4016.rs' failed at 'explicit failure', /home/travis/build/mozilla/rust/src/compiletest/runtest.rs:969\n\nfailures:\n\n[run-pass] run-pass/issue-4016.rs\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/41351030/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/41511407",
    "html_url": "https://github.com/rust-lang/rust/pull/12740#issuecomment-41511407",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12740",
    "id": 41511407,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxNTExNDA3",
    "user": {
      "login": "nical",
      "id": 264854,
      "node_id": "MDQ6VXNlcjI2NDg1NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/264854?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nical",
      "html_url": "https://github.com/nical",
      "followers_url": "https://api.github.com/users/nical/followers",
      "following_url": "https://api.github.com/users/nical/following{/other_user}",
      "gists_url": "https://api.github.com/users/nical/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nical/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nical/subscriptions",
      "organizations_url": "https://api.github.com/users/nical/orgs",
      "repos_url": "https://api.github.com/users/nical/repos",
      "events_url": "https://api.github.com/users/nical/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nical/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-04-27T22:25:12Z",
    "updated_at": "2014-04-27T22:25:12Z",
    "body": "I fixed the issue and rebased today. make check runs without failure on my machine.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/41511407/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/41572359",
    "html_url": "https://github.com/rust-lang/rust/pull/12740#issuecomment-41572359",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12740",
    "id": 41572359,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxNTcyMzU5",
    "user": {
      "login": "nical",
      "id": 264854,
      "node_id": "MDQ6VXNlcjI2NDg1NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/264854?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nical",
      "html_url": "https://github.com/nical",
      "followers_url": "https://api.github.com/users/nical/followers",
      "following_url": "https://api.github.com/users/nical/following{/other_user}",
      "gists_url": "https://api.github.com/users/nical/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nical/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nical/subscriptions",
      "organizations_url": "https://api.github.com/users/nical/orgs",
      "repos_url": "https://api.github.com/users/nical/repos",
      "events_url": "https://api.github.com/users/nical/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nical/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-04-28T15:28:38Z",
    "updated_at": "2014-04-28T15:28:38Z",
    "body": "The Travis CI build passed \\o/\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/41572359/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/42110907",
    "html_url": "https://github.com/rust-lang/rust/pull/12740#issuecomment-42110907",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12740",
    "id": 42110907,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyMTEwOTA3",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-05-03T17:22:35Z",
    "updated_at": "2014-05-03T17:22:35Z",
    "body": "I think this has been causing some spurious failures on the bots which look quite odd to me. Do you know why this would happen?\n\nhttp://buildbot.rust-lang.org/builders/auto-win-32-nopt-t/builds/4761/steps/test/logs/stdio\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/42110907/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/42111429",
    "html_url": "https://github.com/rust-lang/rust/pull/12740#issuecomment-42111429",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12740",
    "id": 42111429,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyMTExNDI5",
    "user": {
      "login": "nical",
      "id": 264854,
      "node_id": "MDQ6VXNlcjI2NDg1NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/264854?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nical",
      "html_url": "https://github.com/nical",
      "followers_url": "https://api.github.com/users/nical/followers",
      "following_url": "https://api.github.com/users/nical/following{/other_user}",
      "gists_url": "https://api.github.com/users/nical/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nical/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nical/subscriptions",
      "organizations_url": "https://api.github.com/users/nical/orgs",
      "repos_url": "https://api.github.com/users/nical/repos",
      "events_url": "https://api.github.com/users/nical/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nical/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-05-03T17:40:34Z",
    "updated_at": "2014-05-03T17:40:34Z",
    "body": "That's weird,\n\n---- json::tests::test_read_list_streaming stdout ----\n    task 'json::tests::test_read_list_streaming' failed at 'assertion failed: `(left == right) && (right == left)` (left: `BooleanValue(true)`, right: `BooleanValue(true)`)', C:\\bot\\slave\\auto-win-32-nopt-t\\build\\src\\libserialize\\json.rs:3064\n\n---- json::tests::test_read_object_streaming stdout ----\n    task 'json::tests::test_read_object_streaming' failed at 'assertion failed: `(left == right) && (right == left)` (left: `BooleanValue(true)`, right: `BooleanValue(true)`)', C:\\bot\\slave\\auto-win-32-nopt-t\\build\\src\\libserialize\\json.rs:3064\n\nit says that equality failed but also says that left and right are both BooleanValue(true)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/42111429/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/42111445",
    "html_url": "https://github.com/rust-lang/rust/pull/12740#issuecomment-42111445",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12740",
    "id": 42111445,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyMTExNDQ1",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-05-03T17:41:17Z",
    "updated_at": "2014-05-03T17:41:17Z",
    "body": "That is the odd part indeed. This has appeared multiple times as well (not sure why)\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/42111445/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
