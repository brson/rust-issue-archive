[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69370944",
    "html_url": "https://github.com/rust-lang/rust/issues/20734#issuecomment-69370944",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20734",
    "id": 69370944,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5MzcwOTQ0",
    "user": {
      "login": "obsgolem",
      "id": 1786500,
      "node_id": "MDQ6VXNlcjE3ODY1MDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1786500?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/obsgolem",
      "html_url": "https://github.com/obsgolem",
      "followers_url": "https://api.github.com/users/obsgolem/followers",
      "following_url": "https://api.github.com/users/obsgolem/following{/other_user}",
      "gists_url": "https://api.github.com/users/obsgolem/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/obsgolem/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/obsgolem/subscriptions",
      "organizations_url": "https://api.github.com/users/obsgolem/orgs",
      "repos_url": "https://api.github.com/users/obsgolem/repos",
      "events_url": "https://api.github.com/users/obsgolem/events{/privacy}",
      "received_events_url": "https://api.github.com/users/obsgolem/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-09T17:51:14Z",
    "updated_at": "2015-01-09T17:51:14Z",
    "body": "Still occurring in `rustc 1.0.0-nightly (44a287e6e 2015-01-08 17:03:40 -0800)`.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69370944/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69396089",
    "html_url": "https://github.com/rust-lang/rust/issues/20734#issuecomment-69396089",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20734",
    "id": 69396089,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5Mzk2MDg5",
    "user": {
      "login": "obsgolem",
      "id": 1786500,
      "node_id": "MDQ6VXNlcjE3ODY1MDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1786500?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/obsgolem",
      "html_url": "https://github.com/obsgolem",
      "followers_url": "https://api.github.com/users/obsgolem/followers",
      "following_url": "https://api.github.com/users/obsgolem/following{/other_user}",
      "gists_url": "https://api.github.com/users/obsgolem/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/obsgolem/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/obsgolem/subscriptions",
      "organizations_url": "https://api.github.com/users/obsgolem/orgs",
      "repos_url": "https://api.github.com/users/obsgolem/repos",
      "events_url": "https://api.github.com/users/obsgolem/events{/privacy}",
      "received_events_url": "https://api.github.com/users/obsgolem/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-09T20:44:47Z",
    "updated_at": "2015-01-09T20:53:40Z",
    "body": "I have found the cause of the panic. If you try to define an extern \"system\" function in the impl of a struct the compiler panics. This is the code used to reproduce the bug:\n\n```\nstruct A;\nimpl A {\n    extern \"system\" fn a() {\n        println!(\"this does not compile\");\n    }\n}\n\nfn main() {\n    println!(\"doesn't work in binaries\");\n}\n```\n\nThis is the backtrace on the latest nightly 44a287e6e:\n\n```\nthread 'rustc' panicked at 'assertion failed: f.abi == Rust || f.abi == RustCall', C:\\bot\\slave\\nightly-dist-rustc-win-64\\build\\src\\librustc_trans\\trans\\base.rs:2438\n\nstack backtrace:\n   1:         0x69bec997 - sys::backtrace::write::h62d87c63e18a3ea5JRt\n   2:         0x69c00672 - rt::unwind::register::haa3a38fa07bfa9beVGz\n   3:         0x69b834a7 - rt::unwind::begin_unwind_inner::hbebf9f8c0125ffc9tEz\n   4:          0x1473bac - trans::context::CrateContext<'b, 'tcx>::link_meta::h9c4774348aced35ahym\n   5:          0x158fe67 - trans::cleanup::FunctionContext<'blk, 'tcx>.CleanupMethods<'blk, 'tcx>::push_custom_cleanup_scope_with_debug_loc::h2dd10ee030f9c94e6DK\n   6:          0x1591bce - trans::cleanup::FunctionContext<'blk, 'tcx>.CleanupMethods<'blk, 'tcx>::push_custom_cleanup_scope_with_debug_loc::h2dd10ee030f9c94e6DK\n   7:          0x14ac310 - trans::context::CrateContext<'b, 'tcx>::sess::h6fdd1e7dea5490cdItm\n   8:          0x14aa9a2 - trans::context::CrateContext<'b, 'tcx>::stats::hd7a1dc7a2465d605EGm\n   9:          0x1593768 - trans::base::trans_crate::h4bc502f506e6c118Wsv\n  10:         0x70b2af6a - driver::phase_4_translate_to_llvm::haa9c5e826483e242PFa\n  11:         0x70b03623 - driver::compile_input::hf5b2f58693da03b5xba\n  12:         0x70bd1eec - run::ha65e56249318cc0dV3b\n  13:         0x70bd04cc - run::ha65e56249318cc0dV3b\n  14:         0x70bcf16a - run::ha65e56249318cc0dV3b\n  15:         0x69c2881c - rust_try\n  16:         0x69c287f9 - rust_try\n  17:         0x70bcf854 - run::ha65e56249318cc0dV3b\n  18:         0x69bf14a7 - sys::tcp::TcpListener::bind::hc4a8da4adad0f541bsw\n  19:     0x7ffd5c43a6e2 - BaseThreadInitThunk\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69396089/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/70937573",
    "html_url": "https://github.com/rust-lang/rust/issues/20734#issuecomment-70937573",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20734",
    "id": 70937573,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwOTM3NTcz",
    "user": {
      "login": "Gankra",
      "id": 1136864,
      "node_id": "MDQ6VXNlcjExMzY4NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1136864?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Gankra",
      "html_url": "https://github.com/Gankra",
      "followers_url": "https://api.github.com/users/Gankra/followers",
      "following_url": "https://api.github.com/users/Gankra/following{/other_user}",
      "gists_url": "https://api.github.com/users/Gankra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Gankra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Gankra/subscriptions",
      "organizations_url": "https://api.github.com/users/Gankra/orgs",
      "repos_url": "https://api.github.com/users/Gankra/repos",
      "events_url": "https://api.github.com/users/Gankra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Gankra/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-21T22:45:07Z",
    "updated_at": "2015-01-21T22:45:49Z",
    "body": "Still occuring.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/70937573/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
