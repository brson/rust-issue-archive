[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46760512",
    "html_url": "https://github.com/rust-lang/rust/issues/15080#issuecomment-46760512",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15080",
    "id": 46760512,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NzYwNTEy",
    "user": {
      "login": "ghost",
      "id": 10137,
      "node_id": "MDQ6VXNlcjEwMTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ghost",
      "html_url": "https://github.com/ghost",
      "followers_url": "https://api.github.com/users/ghost/followers",
      "following_url": "https://api.github.com/users/ghost/following{/other_user}",
      "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
      "organizations_url": "https://api.github.com/users/ghost/orgs",
      "repos_url": "https://api.github.com/users/ghost/repos",
      "events_url": "https://api.github.com/users/ghost/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ghost/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-06-21T18:06:10Z",
    "updated_at": "2014-06-21T18:06:10Z",
    "body": "@ebfe Yeah, sorry about that! There's already a fix for this in https://github.com/rust-lang/rust/pull/15078.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46760512/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46764355",
    "html_url": "https://github.com/rust-lang/rust/issues/15080#issuecomment-46764355",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15080",
    "id": 46764355,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NzY0MzU1",
    "user": {
      "login": "ghost",
      "id": 10137,
      "node_id": "MDQ6VXNlcjEwMTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ghost",
      "html_url": "https://github.com/ghost",
      "followers_url": "https://api.github.com/users/ghost/followers",
      "following_url": "https://api.github.com/users/ghost/following{/other_user}",
      "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
      "organizations_url": "https://api.github.com/users/ghost/orgs",
      "repos_url": "https://api.github.com/users/ghost/repos",
      "events_url": "https://api.github.com/users/ghost/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ghost/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-06-21T20:45:25Z",
    "updated_at": "2014-06-21T20:46:36Z",
    "body": "I am also now seeing spurious 'non-exhaustive patterns' errors when attempting to match struct variants of an imported enum type.\n\nFor example, here is a simplification of some code in [dtrebbien/valgrind_suppressions_util](https://github.com/dtrebbien/valgrind_suppressions_util):\n\n``` rust\n// mkdir -p lib\n// rustc --out-dir lib mylib.rs\n\n#![crate_id = \"mylib#0.1\"]\n#![crate_type = \"lib\"]\n#![feature(struct_variant)]\n\nuse std::string::{String};\n\npub enum SuppressionType {\n    MemcheckAddr(uint),\n    MemcheckLeak,\n    OtherType {\n        pub tool_name: String,\n        pub suppression_type: String,\n    },\n}\n```\n\n``` rust\n// rustc -o main -L lib main.rs\n\n#![feature(struct_variant)]\n\nextern crate mylib;\n\nuse mylib::{SuppressionType, MemcheckAddr, MemcheckLeak, OtherType};\nuse std::io::stdio::{println};\nuse std::string::{String};\n\nfn do_stuff(t: &SuppressionType) {\n    let s = match t {\n            &MemcheckAddr(n) => format!(\"Memcheck:Addr{:u}\", n),\n            &MemcheckLeak => format!(\"Memcheck:Leak\"),\n            &OtherType {\n                tool_name: ref tool_name,\n                suppression_type: ref suppression_type,\n            } => {\n                format!(\"{}:{}\", tool_name.as_slice(), suppression_type.as_slice())\n            },\n        };\n    println(s.as_slice());\n}\n\nfn main() {\n    let t = MemcheckAddr(14);\n    do_stuff(&t);\n}\n```\n\nThe error is:\n\n```\nmain.rs:12:13: 21:10 error: non-exhaustive patterns: `&OtherType(_, _)` not covered\nmain.rs:12     let s = match t {\nmain.rs:13             &MemcheckAddr(n) => format!(\"Memcheck:Addr{:u}\", n),\nmain.rs:14             &MemcheckLeak => format!(\"Memcheck:Leak\"),\nmain.rs:15             &OtherType {\nmain.rs:16                 tool_name: ref tool_name,\nmain.rs:17                 suppression_type: ref suppression_type,\n           ...\nerror: aborting due to previous error\n```\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46764355/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46764496",
    "html_url": "https://github.com/rust-lang/rust/issues/15080#issuecomment-46764496",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15080",
    "id": 46764496,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NzY0NDk2",
    "user": {
      "login": "ghost",
      "id": 10137,
      "node_id": "MDQ6VXNlcjEwMTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ghost",
      "html_url": "https://github.com/ghost",
      "followers_url": "https://api.github.com/users/ghost/followers",
      "following_url": "https://api.github.com/users/ghost/following{/other_user}",
      "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
      "organizations_url": "https://api.github.com/users/ghost/orgs",
      "repos_url": "https://api.github.com/users/ghost/repos",
      "events_url": "https://api.github.com/users/ghost/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ghost/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-06-21T20:52:31Z",
    "updated_at": "2014-06-21T20:52:31Z",
    "body": "@dtrebbien Oh dear. Looks like it only fails when the enum is defined in a different crate as this works:\n\n```\n#![feature(struct_variant)]\n\nuse std::string::{String};\nuse std::io::stdio::{println};\n\npub enum SuppressionType {\n    MemcheckAddr(uint),\n    MemcheckLeak,\n    OtherType {\n        pub tool_name: String,\n        pub suppression_type: String,\n    },\n}\n\nfn do_stuff(t: &SuppressionType) {\n    let s = match t {\n            &MemcheckAddr(n) => format!(\"Memcheck:Addr{:u}\", n),\n            &MemcheckLeak => format!(\"Memcheck:Leak\"),\n            &OtherType {\n                tool_name: ref tool_name,\n                suppression_type: ref suppression_type,\n            } => {\n                format!(\"{}:{}\", tool_name.as_slice(), suppression_type.as_slice())\n            },\n        };\n    println(s.as_slice());\n}\n\nfn main() {\n    let t = MemcheckAddr(14);\n    do_stuff(&t);\n}\n```\n\nI'll take a look!\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46764496/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46768374",
    "html_url": "https://github.com/rust-lang/rust/issues/15080#issuecomment-46768374",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15080",
    "id": 46768374,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NzY4Mzc0",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-06-22T00:05:59Z",
    "updated_at": "2014-06-22T00:05:59Z",
    "body": "Please add an appropriate test for this case...\n\nNiko\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46768374/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46782795",
    "html_url": "https://github.com/rust-lang/rust/issues/15080#issuecomment-46782795",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15080",
    "id": 46782795,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NzgyNzk1",
    "user": {
      "login": "ghost",
      "id": 10137,
      "node_id": "MDQ6VXNlcjEwMTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ghost",
      "html_url": "https://github.com/ghost",
      "followers_url": "https://api.github.com/users/ghost/followers",
      "following_url": "https://api.github.com/users/ghost/following{/other_user}",
      "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
      "organizations_url": "https://api.github.com/users/ghost/orgs",
      "repos_url": "https://api.github.com/users/ghost/repos",
      "events_url": "https://api.github.com/users/ghost/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ghost/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-06-22T14:43:51Z",
    "updated_at": "2014-06-22T14:43:51Z",
    "body": "@nikomatsakis I added a test for the cross-crate case in #15086. There are already quite a few existing tests for local variants.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46782795/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46866160",
    "html_url": "https://github.com/rust-lang/rust/issues/15080#issuecomment-46866160",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15080",
    "id": 46866160,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2ODY2MTYw",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-06-23T16:12:26Z",
    "updated_at": "2014-06-23T16:12:26Z",
    "body": "On Sun, Jun 22, 2014 at 07:43:54AM -0700, Jakub Wieczorek wrote:\n\n> @nikomatsakis I added a test for the cross-crate case in #15086. There are already quite a few existing tests for local variants.\n\ngreat\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46866160/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
