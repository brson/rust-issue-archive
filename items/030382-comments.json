[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/164621243",
    "html_url": "https://github.com/rust-lang/rust/issues/30382#issuecomment-164621243",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30382",
    "id": 164621243,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2NDYyMTI0Mw==",
    "user": {
      "login": "Aatch",
      "id": 342416,
      "node_id": "MDQ6VXNlcjM0MjQxNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/342416?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Aatch",
      "html_url": "https://github.com/Aatch",
      "followers_url": "https://api.github.com/users/Aatch/followers",
      "following_url": "https://api.github.com/users/Aatch/following{/other_user}",
      "gists_url": "https://api.github.com/users/Aatch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Aatch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Aatch/subscriptions",
      "organizations_url": "https://api.github.com/users/Aatch/orgs",
      "repos_url": "https://api.github.com/users/Aatch/repos",
      "events_url": "https://api.github.com/users/Aatch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Aatch/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-12-15T02:14:59Z",
    "updated_at": "2015-12-15T02:14:59Z",
    "body": "Note that this may require an RFC actually specifying this and related information.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/164621243/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/164621491",
    "html_url": "https://github.com/rust-lang/rust/issues/30382#issuecomment-164621491",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30382",
    "id": 164621491,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2NDYyMTQ5MQ==",
    "user": {
      "login": "briansmith",
      "id": 16816,
      "node_id": "MDQ6VXNlcjE2ODE2",
      "avatar_url": "https://avatars.githubusercontent.com/u/16816?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/briansmith",
      "html_url": "https://github.com/briansmith",
      "followers_url": "https://api.github.com/users/briansmith/followers",
      "following_url": "https://api.github.com/users/briansmith/following{/other_user}",
      "gists_url": "https://api.github.com/users/briansmith/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/briansmith/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/briansmith/subscriptions",
      "organizations_url": "https://api.github.com/users/briansmith/orgs",
      "repos_url": "https://api.github.com/users/briansmith/repos",
      "events_url": "https://api.github.com/users/briansmith/events{/privacy}",
      "received_events_url": "https://api.github.com/users/briansmith/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-12-15T02:16:46Z",
    "updated_at": "2015-12-15T02:16:46Z",
    "body": "Also, more generally, it should be documented that a reference will be translated to a pointer, so that `extern \"C\"` functions can use references instead of pointers to denote the non-acceptance of NULLs.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/164621491/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/164657470",
    "html_url": "https://github.com/rust-lang/rust/issues/30382#issuecomment-164657470",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30382",
    "id": 164657470,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2NDY1NzQ3MA==",
    "user": {
      "login": "retep998",
      "id": 666308,
      "node_id": "MDQ6VXNlcjY2NjMwOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/666308?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/retep998",
      "html_url": "https://github.com/retep998",
      "followers_url": "https://api.github.com/users/retep998/followers",
      "following_url": "https://api.github.com/users/retep998/following{/other_user}",
      "gists_url": "https://api.github.com/users/retep998/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/retep998/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/retep998/subscriptions",
      "organizations_url": "https://api.github.com/users/retep998/orgs",
      "repos_url": "https://api.github.com/users/retep998/repos",
      "events_url": "https://api.github.com/users/retep998/events{/privacy}",
      "received_events_url": "https://api.github.com/users/retep998/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-12-15T06:26:52Z",
    "updated_at": "2015-12-15T06:26:52Z",
    "body": "Pointers to slices (aka `&[T]`) are fat and thus can't be used for FFI.\n\nPointers to fixed size arrays (aka `&[T; N]`) are thin and thus I imagine they should be perfectly okay even if it isn't spelled out in the documentation.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/164657470/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/169777791",
    "html_url": "https://github.com/rust-lang/rust/issues/30382#issuecomment-169777791",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30382",
    "id": 169777791,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2OTc3Nzc5MQ==",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-01-07T19:14:37Z",
    "updated_at": "2016-01-07T19:14:37Z",
    "body": "So, following up: what needs to be done here, exactly, and where should it go? FFI should say that fat pointers aren't usable?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/169777791/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/175268473",
    "html_url": "https://github.com/rust-lang/rust/issues/30382#issuecomment-175268473",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30382",
    "id": 175268473,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3NTI2ODQ3Mw==",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-01-26T22:30:08Z",
    "updated_at": "2016-01-26T22:30:08Z",
    "body": "I am going to give this one a close. I'm not going to do a whole ton of work on the existing FFI docs, focusing on the new one instead, and talking about fat vs thin pointers wrt FFI is a big thing.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/175268473/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/175273362",
    "html_url": "https://github.com/rust-lang/rust/issues/30382#issuecomment-175273362",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30382",
    "id": 175273362,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3NTI3MzM2Mg==",
    "user": {
      "login": "briansmith",
      "id": 16816,
      "node_id": "MDQ6VXNlcjE2ODE2",
      "avatar_url": "https://avatars.githubusercontent.com/u/16816?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/briansmith",
      "html_url": "https://github.com/briansmith",
      "followers_url": "https://api.github.com/users/briansmith/followers",
      "following_url": "https://api.github.com/users/briansmith/following{/other_user}",
      "gists_url": "https://api.github.com/users/briansmith/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/briansmith/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/briansmith/subscriptions",
      "organizations_url": "https://api.github.com/users/briansmith/orgs",
      "repos_url": "https://api.github.com/users/briansmith/repos",
      "events_url": "https://api.github.com/users/briansmith/events{/privacy}",
      "received_events_url": "https://api.github.com/users/briansmith/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-01-26T22:39:16Z",
    "updated_at": "2016-01-26T22:39:16Z",
    "body": "> I am going to give this one a close. I'm not going to do a whole ton of work on the existing FFI docs, focusing on the new one instead, and talking about fat vs thin pointers wrt FFI is a big thing.\n\nI don't understand why we're so eager to close bugs without fixing them. It isn't a matter of \"existing FFI docs\" vs \"new one\" but the fact that it is unspecified what happens. Also, it isn't just a documentation bug because the compiler should be aligned with what ever is decided. In particular, is what the Rust compiler currently does right or wrong?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/175273362/reactions",
      "total_count": 4,
      "+1": 4,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/175281406",
    "html_url": "https://github.com/rust-lang/rust/issues/30382#issuecomment-175281406",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30382",
    "id": 175281406,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3NTI4MTQwNg==",
    "user": {
      "login": "arielb1",
      "id": 1830974,
      "node_id": "MDQ6VXNlcjE4MzA5NzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1830974?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/arielb1",
      "html_url": "https://github.com/arielb1",
      "followers_url": "https://api.github.com/users/arielb1/followers",
      "following_url": "https://api.github.com/users/arielb1/following{/other_user}",
      "gists_url": "https://api.github.com/users/arielb1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/arielb1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/arielb1/subscriptions",
      "organizations_url": "https://api.github.com/users/arielb1/orgs",
      "repos_url": "https://api.github.com/users/arielb1/repos",
      "events_url": "https://api.github.com/users/arielb1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/arielb1/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-01-26T22:57:50Z",
    "updated_at": "2016-01-26T22:57:50Z",
    "body": "Casting a fat pointer to a thin pointer returns the fat pointer's base. If the pointer was unsized from a thin pointer, that is the original thin pointer. If the pointer was created by `from_raw_parts` (e.g. from a `Vec`), it is the base parameter to that method. I was quite sure that this is sufficiently documented.\n\nYou are only supposed to use FFI-safe types for FFI. Fat pointers are _not_ FFI-safe types, therefore their representation should not matter. Thin pointers are stored in the obvious way, but I think that is documented.\n\nSlices/arrays are stored in memory in the obvious way (Rust requires that `align | size` so there is 1 such way). This is documented in the Rustonomicon:\n\n> However with the exception of arrays (which are densely packed and in-order), the layout of data is not by default specified in Rust.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/175281406/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/175286138",
    "html_url": "https://github.com/rust-lang/rust/issues/30382#issuecomment-175286138",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30382",
    "id": 175286138,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3NTI4NjEzOA==",
    "user": {
      "login": "briansmith",
      "id": 16816,
      "node_id": "MDQ6VXNlcjE2ODE2",
      "avatar_url": "https://avatars.githubusercontent.com/u/16816?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/briansmith",
      "html_url": "https://github.com/briansmith",
      "followers_url": "https://api.github.com/users/briansmith/followers",
      "following_url": "https://api.github.com/users/briansmith/following{/other_user}",
      "gists_url": "https://api.github.com/users/briansmith/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/briansmith/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/briansmith/subscriptions",
      "organizations_url": "https://api.github.com/users/briansmith/orgs",
      "repos_url": "https://api.github.com/users/briansmith/repos",
      "events_url": "https://api.github.com/users/briansmith/events{/privacy}",
      "received_events_url": "https://api.github.com/users/briansmith/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-01-26T23:07:28Z",
    "updated_at": "2016-01-26T23:07:28Z",
    "body": "> You are only supposed to use FFI-safe types for FFI. Fat pointers are not FFI-safe types, therefore their representation should not matter.\n1. Where is the set of FFI-safe types documented?\n2. Assuming slices aren't FFI-safe types, why does the compiler let us pass non-FFI-safe types to foreign functions?\n3. Assuming slices aren't FFI-safe types, why not?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/175286138/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/175287733",
    "html_url": "https://github.com/rust-lang/rust/issues/30382#issuecomment-175287733",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30382",
    "id": 175287733,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3NTI4NzczMw==",
    "user": {
      "login": "bluss",
      "id": 3209739,
      "node_id": "MDQ6VXNlcjMyMDk3Mzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3209739?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bluss",
      "html_url": "https://github.com/bluss",
      "followers_url": "https://api.github.com/users/bluss/followers",
      "following_url": "https://api.github.com/users/bluss/following{/other_user}",
      "gists_url": "https://api.github.com/users/bluss/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bluss/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bluss/subscriptions",
      "organizations_url": "https://api.github.com/users/bluss/orgs",
      "repos_url": "https://api.github.com/users/bluss/repos",
      "events_url": "https://api.github.com/users/bluss/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bluss/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-01-26T23:12:06Z",
    "updated_at": "2016-01-26T23:12:06Z",
    "body": "There's a lint for this, at least when declaring extern functions -- [example on playpen](https://play.rust-lang.org/?gist=986291b316dc0d886c5c&version=stable)\n\n```\n<anon>:4:26: 4:30 warning: found Rust slice type in foreign module, consider using a raw pointer instead, #[warn(improper_ctypes)] on by default\n<anon>:4     fn other_find(text: &[u8], x: u8) -> Option<usize>;\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/175287733/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/175288721",
    "html_url": "https://github.com/rust-lang/rust/issues/30382#issuecomment-175288721",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30382",
    "id": 175288721,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3NTI4ODcyMQ==",
    "user": {
      "login": "arielb1",
      "id": 1830974,
      "node_id": "MDQ6VXNlcjE4MzA5NzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1830974?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/arielb1",
      "html_url": "https://github.com/arielb1",
      "followers_url": "https://api.github.com/users/arielb1/followers",
      "following_url": "https://api.github.com/users/arielb1/following{/other_user}",
      "gists_url": "https://api.github.com/users/arielb1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/arielb1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/arielb1/subscriptions",
      "organizations_url": "https://api.github.com/users/arielb1/orgs",
      "repos_url": "https://api.github.com/users/arielb1/repos",
      "events_url": "https://api.github.com/users/arielb1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/arielb1/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-01-26T23:16:32Z",
    "updated_at": "2016-01-26T23:17:09Z",
    "body": "The representation of types is documented at https://doc.rust-lang.org/nightly/nomicon/data.html. In general, the rule is that types are FFI-safe ~ have a defined representation only if we say that they are that. Reading it again, it seems that we never say that primitives and thin pointers are FFI-safe - cc #31227 !\n\nThe currently most significant reason that fat pointers are not FFI safe is because we sometimes pass fat pointers as 2 arguments to a function instead of as a single 2-word argument.\nFor example, it may be possible to write `memcpy` as\n\n``` Rust\nextern {\n    fn memcpy(dst: *mut u8, src: &[u8]); // THIS DOES NOT HAVE TO WORK!\n}\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/175288721/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/176677857",
    "html_url": "https://github.com/rust-lang/rust/issues/30382#issuecomment-176677857",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30382",
    "id": 176677857,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3NjY3Nzg1Nw==",
    "user": {
      "login": "bluss",
      "id": 3209739,
      "node_id": "MDQ6VXNlcjMyMDk3Mzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3209739?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bluss",
      "html_url": "https://github.com/bluss",
      "followers_url": "https://api.github.com/users/bluss/followers",
      "following_url": "https://api.github.com/users/bluss/following{/other_user}",
      "gists_url": "https://api.github.com/users/bluss/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bluss/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bluss/subscriptions",
      "organizations_url": "https://api.github.com/users/bluss/orgs",
      "repos_url": "https://api.github.com/users/bluss/repos",
      "events_url": "https://api.github.com/users/bluss/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bluss/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-01-29T10:06:56Z",
    "updated_at": "2016-01-29T10:06:56Z",
    "body": "I don't think the array part of this issue was answered. `&mut [u8; 32]` should be ffi safe, what more can we say?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/176677857/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/275372850",
    "html_url": "https://github.com/rust-lang/rust/issues/30382#issuecomment-275372850",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30382",
    "id": 275372850,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3NTM3Mjg1MA==",
    "user": {
      "login": "ustulation",
      "id": 8788153,
      "node_id": "MDQ6VXNlcjg3ODgxNTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8788153?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ustulation",
      "html_url": "https://github.com/ustulation",
      "followers_url": "https://api.github.com/users/ustulation/followers",
      "following_url": "https://api.github.com/users/ustulation/following{/other_user}",
      "gists_url": "https://api.github.com/users/ustulation/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ustulation/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ustulation/subscriptions",
      "organizations_url": "https://api.github.com/users/ustulation/orgs",
      "repos_url": "https://api.github.com/users/ustulation/repos",
      "events_url": "https://api.github.com/users/ustulation/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ustulation/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-01-26T12:03:05Z",
    "updated_at": "2017-01-26T12:03:39Z",
    "body": "> There's a lint for this, at least when declaring extern functions\r\n\r\nI checked that and it works, i was wondering is there anything for the reverse - [for e.g.: this](https://is.gd/0Xro7k).\r\n\r\nThe other function `find` does not give any warning. Though I understand that all it says is it follow C calling convention and no name-mangling none of which might warrant the parameter type warning, it is usually intended to be called form another language (with C compatibility) so should generate a warning in this case too ? Passing a callback from C for instance will be Undefined Behavior in this case. I was also stung by this:\r\n\r\n```\r\n#[no_mangle]\r\npub unsafe extern \"C\" fn(cb: extern \"C\" fn([u8; 32])) { // WRONG - should be fn(*const [u8; 32])\r\n    let arr = [8u8; 32];\r\n    cb(arr); // WRONG - should be &arr\r\n}\r\n```\r\nOf-course looking back it was a stupid mistake - but i had subconciously assumed array would decay into a ptr like in C when callback was invoked. All my tests passed as they were written in rust. Only when interfacing with C and running into occassional seg-faults that i realised the mistake. If there was a warning or some language feature to mark that this function is not only for C ABI compatibility but also strictly for a call from C (like what `extern \"C\" { }` block does) it would be helpful.\r\n\r\nSame with `repr(C)` - there is no warning for completely non-C struct having this attribute - i understand the reasoning from the docs for this but again if there is some lint/attribute to mark strict C only conformance then that would be great - as you know it's pita to debug C errors otherwise :(",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/275372850/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/349505605",
    "html_url": "https://github.com/rust-lang/rust/issues/30382#issuecomment-349505605",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30382",
    "id": 349505605,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0OTUwNTYwNQ==",
    "user": {
      "login": "jbowens",
      "id": 867352,
      "node_id": "MDQ6VXNlcjg2NzM1Mg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/867352?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jbowens",
      "html_url": "https://github.com/jbowens",
      "followers_url": "https://api.github.com/users/jbowens/followers",
      "following_url": "https://api.github.com/users/jbowens/following{/other_user}",
      "gists_url": "https://api.github.com/users/jbowens/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jbowens/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jbowens/subscriptions",
      "organizations_url": "https://api.github.com/users/jbowens/orgs",
      "repos_url": "https://api.github.com/users/jbowens/repos",
      "events_url": "https://api.github.com/users/jbowens/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jbowens/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-12-06T02:00:25Z",
    "updated_at": "2017-12-06T18:22:39Z",
    "body": "> I don't think the array part of this issue was answered. &mut [u8; 32] should be ffi safe, what more can we say?\r\n\r\nWas this ever addressed? I've been searching for some documentation on whether `&mut [u8; 32]` is ffi safe and came up short.",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/349505605/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/349549554",
    "html_url": "https://github.com/rust-lang/rust/issues/30382#issuecomment-349549554",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30382",
    "id": 349549554,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0OTU0OTU1NA==",
    "user": {
      "login": "bluss",
      "id": 3209739,
      "node_id": "MDQ6VXNlcjMyMDk3Mzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3209739?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bluss",
      "html_url": "https://github.com/bluss",
      "followers_url": "https://api.github.com/users/bluss/followers",
      "following_url": "https://api.github.com/users/bluss/following{/other_user}",
      "gists_url": "https://api.github.com/users/bluss/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bluss/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bluss/subscriptions",
      "organizations_url": "https://api.github.com/users/bluss/orgs",
      "repos_url": "https://api.github.com/users/bluss/repos",
      "events_url": "https://api.github.com/users/bluss/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bluss/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-12-06T06:38:38Z",
    "updated_at": "2017-12-06T06:38:38Z",
    "body": "@Jbowens, maybe we can discuss it on internals.. or go straight to a PR",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/349549554/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1301330792",
    "html_url": "https://github.com/rust-lang/rust/issues/30382#issuecomment-1301330792",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30382",
    "id": 1301330792,
    "node_id": "IC_kwDOAAsO6M5NkLto",
    "user": {
      "login": "chfast",
      "id": 573380,
      "node_id": "MDQ6VXNlcjU3MzM4MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/573380?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chfast",
      "html_url": "https://github.com/chfast",
      "followers_url": "https://api.github.com/users/chfast/followers",
      "following_url": "https://api.github.com/users/chfast/following{/other_user}",
      "gists_url": "https://api.github.com/users/chfast/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chfast/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chfast/subscriptions",
      "organizations_url": "https://api.github.com/users/chfast/orgs",
      "repos_url": "https://api.github.com/users/chfast/repos",
      "events_url": "https://api.github.com/users/chfast/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chfast/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2022-11-02T21:40:28Z",
    "updated_at": "2022-11-02T21:40:28Z",
    "body": "Has this been resolved since 5 years ago?\r\nThe compiler warns about `[u8]`\r\n```\r\n`extern` fn uses type `[u8]`, which is not FFI-safe\r\n```\r\nbut not about the fixed-size array, e.g. `[u8;16]`.",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1301330792/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
