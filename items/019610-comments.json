[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/65929324",
    "html_url": "https://github.com/rust-lang/rust/issues/19610#issuecomment-65929324",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19610",
    "id": 65929324,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1OTI5MzI0",
    "user": {
      "login": "quantheory",
      "id": 1740206,
      "node_id": "MDQ6VXNlcjE3NDAyMDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1740206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/quantheory",
      "html_url": "https://github.com/quantheory",
      "followers_url": "https://api.github.com/users/quantheory/followers",
      "following_url": "https://api.github.com/users/quantheory/following{/other_user}",
      "gists_url": "https://api.github.com/users/quantheory/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/quantheory/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/quantheory/subscriptions",
      "organizations_url": "https://api.github.com/users/quantheory/orgs",
      "repos_url": "https://api.github.com/users/quantheory/repos",
      "events_url": "https://api.github.com/users/quantheory/events{/privacy}",
      "received_events_url": "https://api.github.com/users/quantheory/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-12-07T07:26:42Z",
    "updated_at": "2014-12-07T07:27:05Z",
    "body": "> It seems that currently (nightly 2014-12-05), the default behaviour for a panicking task is to kill the task but leave the process unharmed.\n\nThis is quite deliberate, and the standard library is designed around said behavior:\n\nhttp://doc.rust-lang.org/guide-tasks.html#handling-task-panics\n\nAt the least, it seems that there would need to be a RFC to change this.\n\n> That's undesireable by default, and should only happen on an opt-in manner when spawning, or a global handler. Otherwise it's too easy to have a critical task die and the process continues incorrectly.\n\nPersonally, I disagree. For programs that communicate with spawned tasks in the typical way (using `std::comm`), continuing after a task panics is in practice already an \"opt-in\" behavior, because panics spread whenever communication occurs, unless explicitly dealt with by the surviving tasks.\n\nFor the great majority of real world programs, it seems reasonable to assume that spawned tasks will communicate in some way with the main task (or with a parent that ultimately communicates with the main task). This will be even more true in the future, due to Rust switching to detached threads (see [this comment](https://github.com/rust-lang/rust/issues/19245#issuecomment-64155876) on issue #19245, which is itself relevant). If the main task never checks on spawned threads, there is potentially a race condition where it could exit and the process would die before other tasks have a chance to complete. (Notable exception: if the main task loops forever it obviously will not exit first.)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/65929324/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/65931327",
    "html_url": "https://github.com/rust-lang/rust/issues/19610#issuecomment-65931327",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19610",
    "id": 65931327,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1OTMxMzI3",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-12-07T09:11:54Z",
    "updated_at": "2014-12-07T09:12:04Z",
    "body": "Yes, this is the intended current behavior. As @quantheory mentions, this would require an RFC to change, and we already have an issue for it open: https://github.com/rust-lang/rfcs/issues/471\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/65931327/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/65934869",
    "html_url": "https://github.com/rust-lang/rust/issues/19610#issuecomment-65934869",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19610",
    "id": 65934869,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1OTM0ODY5",
    "user": {
      "login": "edef1c",
      "id": 50854,
      "node_id": "MDQ6VXNlcjUwODU0",
      "avatar_url": "https://avatars.githubusercontent.com/u/50854?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/edef1c",
      "html_url": "https://github.com/edef1c",
      "followers_url": "https://api.github.com/users/edef1c/followers",
      "following_url": "https://api.github.com/users/edef1c/following{/other_user}",
      "gists_url": "https://api.github.com/users/edef1c/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/edef1c/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/edef1c/subscriptions",
      "organizations_url": "https://api.github.com/users/edef1c/orgs",
      "repos_url": "https://api.github.com/users/edef1c/repos",
      "events_url": "https://api.github.com/users/edef1c/events{/privacy}",
      "received_events_url": "https://api.github.com/users/edef1c/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-12-07T11:52:11Z",
    "updated_at": "2014-12-07T11:52:11Z",
    "body": "@steveklabnik That's a different issue \u2014 if there is an error handler for a task, all is well. If there's no top-level error handler for a task and it panics, that's an abort.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/65934869/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/65935031",
    "html_url": "https://github.com/rust-lang/rust/issues/19610#issuecomment-65935031",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19610",
    "id": 65935031,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1OTM1MDMx",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-12-07T11:58:23Z",
    "updated_at": "2014-12-07T11:58:23Z",
    "body": "Regardless, this kind of issue belongs in the RFC repo.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/65935031/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/65965004",
    "html_url": "https://github.com/rust-lang/rust/issues/19610#issuecomment-65965004",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19610",
    "id": 65965004,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1OTY1MDA0",
    "user": {
      "login": "edef1c",
      "id": 50854,
      "node_id": "MDQ6VXNlcjUwODU0",
      "avatar_url": "https://avatars.githubusercontent.com/u/50854?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/edef1c",
      "html_url": "https://github.com/edef1c",
      "followers_url": "https://api.github.com/users/edef1c/followers",
      "following_url": "https://api.github.com/users/edef1c/following{/other_user}",
      "gists_url": "https://api.github.com/users/edef1c/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/edef1c/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/edef1c/subscriptions",
      "organizations_url": "https://api.github.com/users/edef1c/orgs",
      "repos_url": "https://api.github.com/users/edef1c/repos",
      "events_url": "https://api.github.com/users/edef1c/events{/privacy}",
      "received_events_url": "https://api.github.com/users/edef1c/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-12-08T01:09:39Z",
    "updated_at": "2014-12-08T01:09:39Z",
    "body": "Accepted. I hadn't considered poisoning yet, so that does decrease the amount I care about this significantly, perhaps even to zero.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/65965004/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/65978305",
    "html_url": "https://github.com/rust-lang/rust/issues/19610#issuecomment-65978305",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19610",
    "id": 65978305,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1OTc4MzA1",
    "user": {
      "login": "MichaelGG",
      "id": 429031,
      "node_id": "MDQ6VXNlcjQyOTAzMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/429031?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MichaelGG",
      "html_url": "https://github.com/MichaelGG",
      "followers_url": "https://api.github.com/users/MichaelGG/followers",
      "following_url": "https://api.github.com/users/MichaelGG/following{/other_user}",
      "gists_url": "https://api.github.com/users/MichaelGG/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MichaelGG/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MichaelGG/subscriptions",
      "organizations_url": "https://api.github.com/users/MichaelGG/orgs",
      "repos_url": "https://api.github.com/users/MichaelGG/repos",
      "events_url": "https://api.github.com/users/MichaelGG/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MichaelGG/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-12-08T05:41:01Z",
    "updated_at": "2014-12-08T05:41:01Z",
    "body": "Consider the common pattern of a background thread that refreshes data, say, by reloading a cache. Or a fire-and-forget task one might write, like sending an email. Rust's current behaviour allows those to just fail silently. Silent failure seems contrary to everything else Rust does. Is there a way to set or unset an error handler for tasks, or is this an all-or-nothing thing? \n\nRFC 471 is about changing panic! to abort! which is totally different. This is simply about \"don't default to silently failing\". I'll open an RFC.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/65978305/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
