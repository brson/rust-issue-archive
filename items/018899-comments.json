[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62721712",
    "html_url": "https://github.com/rust-lang/rust/issues/18899#issuecomment-62721712",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18899",
    "id": 62721712,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyNzIxNzEy",
    "user": {
      "login": "asterite",
      "id": 209371,
      "node_id": "MDQ6VXNlcjIwOTM3MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/209371?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/asterite",
      "html_url": "https://github.com/asterite",
      "followers_url": "https://api.github.com/users/asterite/followers",
      "following_url": "https://api.github.com/users/asterite/following{/other_user}",
      "gists_url": "https://api.github.com/users/asterite/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/asterite/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/asterite/subscriptions",
      "organizations_url": "https://api.github.com/users/asterite/orgs",
      "repos_url": "https://api.github.com/users/asterite/repos",
      "events_url": "https://api.github.com/users/asterite/events{/privacy}",
      "received_events_url": "https://api.github.com/users/asterite/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-12T14:04:28Z",
    "updated_at": "2014-11-12T14:04:28Z",
    "body": "And look at this:\n\n``` rust\nfn main() {\n  println!(\"{}\", vec![1i8,2,3].iter().max_by(|n| n  + 0).map(|&e|e))\n}\n```\n\nGives:\n\n```\nfoo.rs:2:49: 2:54 error: binary operation `+` cannot be applied to type `&&i8`\nfoo.rs:2   println!(\"{}\", vec![1i8,2,3].iter().max_by(|n|n + 0).map(|&e|e))\n```\n\n???\n\nThis compiles and runs fine:\n\n``` rust\nfn main() {\n  println!(\"{}\", vec![1i8,2,3].iter().max_by(|n|**n + 0).map(|&e|e))\n}\n```\n\nAnd your example:\n\n```\nfn main() {\n    assert_eq!((vec![1u8,2,3]).iter().max_by(|n|**n).map(|&e|e), Some(3))\n}\n```\n\nWorks fine like that.\n\nHmm...\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62721712/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62722524",
    "html_url": "https://github.com/rust-lang/rust/issues/18899#issuecomment-62722524",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18899",
    "id": 62722524,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyNzIyNTI0",
    "user": {
      "login": "Thiez",
      "id": 204550,
      "node_id": "MDQ6VXNlcjIwNDU1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/204550?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Thiez",
      "html_url": "https://github.com/Thiez",
      "followers_url": "https://api.github.com/users/Thiez/followers",
      "following_url": "https://api.github.com/users/Thiez/following{/other_user}",
      "gists_url": "https://api.github.com/users/Thiez/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Thiez/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Thiez/subscriptions",
      "organizations_url": "https://api.github.com/users/Thiez/orgs",
      "repos_url": "https://api.github.com/users/Thiez/repos",
      "events_url": "https://api.github.com/users/Thiez/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Thiez/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-12T14:10:21Z",
    "updated_at": "2014-11-12T14:10:21Z",
    "body": "Yes, that is expected because `.iter()` will produce `&u8` and `max_by` then gives references to those references, giving `&&u8`. But since `Ord` is implemented on references to stuff that also implement `Ord`, it _should_ work.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62722524/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62812184",
    "html_url": "https://github.com/rust-lang/rust/issues/18899#issuecomment-62812184",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18899",
    "id": 62812184,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyODEyMTg0",
    "user": {
      "login": "Thiez",
      "id": 204550,
      "node_id": "MDQ6VXNlcjIwNDU1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/204550?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Thiez",
      "html_url": "https://github.com/Thiez",
      "followers_url": "https://api.github.com/users/Thiez/followers",
      "following_url": "https://api.github.com/users/Thiez/following{/other_user}",
      "gists_url": "https://api.github.com/users/Thiez/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Thiez/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Thiez/subscriptions",
      "organizations_url": "https://api.github.com/users/Thiez/orgs",
      "repos_url": "https://api.github.com/users/Thiez/repos",
      "events_url": "https://api.github.com/users/Thiez/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Thiez/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-12T23:05:47Z",
    "updated_at": "2014-11-12T23:05:47Z",
    "body": "Trying to narrow it down reveals something strange. I created a trait `MaxBye` and copied the `max_by` implementation in there, and added some good old fashioned `println!()` debugging.\n\n``` rust\n// Defining max_by as a function appears not to work because it refuses the `|n|n` closure due to some lifetime issue\ntrait MaxBye<A> {\n    fn max_bye<B: Ord + std::fmt::Show>(&mut self, f: |&A| -> B) -> Option<A>;\n}\n\nimpl <A: std::fmt::Show, T: Iterator<A>> MaxBye<A> for T {\n    fn max_bye<B: Ord + std::fmt::Show>(&mut self, f: |&A| -> B) -> Option<A> {\n        self.fold(None, |max: Option<(A, B)>, x| {\n                for &(_,ref b) in max.iter() { println!(\"Current: {}, previous: {}\",&x, b); }\n                let x_val = f(&x);\n                match max {\n                    None => Some((x, x_val)),\n                    Some((y, y_val)) => {\n                        if x_val > y_val {\n                            Some((x, x_val))\n                        } else {\n                            Some((y, y_val))\n                        }\n                    }\n                }\n            }\n        ).map(|(x, _)| x)\n    }\n}\n\nfn main() {\n    let v = vec!(1u8 , 2 , 3);\n    println!(\"{}\" , v.iter().max_bye(|n|n).map(|&e|e));\n}\n```\n\nThe above code will print\n\n```\nCurrent: 2, previous: 2\nCurrent: 3, previous: 3\nSome(1)\n```\n\nWhich is very strange, because I would expect\n\n```\nCurrent: 2, previous: 1\nCurrent: 3, previous: 2\nSome(3)\n```\n\nWhen I change the match to:\n\n```\nmatch max {\n    None => Some((x, x_val)),\n    Some((y, y_val)) => {\n        unsafe{\n            println!(\"{}, {}\",\n            *std::mem::transmute::<&B, *const uint>(&x_val),\n            *std::mem::transmute::<&B, *const uint>(&y_val));\n        }\n        if x_val > y_val {\n            Some((x, x_val))\n        } else {\n            Some((y, y_val))\n        }\n    }\n}\n```\n\nIt indeed reveals that `x_val` and `y_val` point to the same location.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62812184/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62866747",
    "html_url": "https://github.com/rust-lang/rust/issues/18899#issuecomment-62866747",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18899",
    "id": 62866747,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyODY2NzQ3",
    "user": {
      "login": "nodakai",
      "id": 90726,
      "node_id": "MDQ6VXNlcjkwNzI2",
      "avatar_url": "https://avatars.githubusercontent.com/u/90726?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nodakai",
      "html_url": "https://github.com/nodakai",
      "followers_url": "https://api.github.com/users/nodakai/followers",
      "following_url": "https://api.github.com/users/nodakai/following{/other_user}",
      "gists_url": "https://api.github.com/users/nodakai/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nodakai/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nodakai/subscriptions",
      "organizations_url": "https://api.github.com/users/nodakai/orgs",
      "repos_url": "https://api.github.com/users/nodakai/repos",
      "events_url": "https://api.github.com/users/nodakai/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nodakai/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-13T09:54:07Z",
    "updated_at": "2014-11-13T13:01:31Z",
    "body": "Oops, I didn't follow the discussion carefully.  Let me retract my old comment here.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62866747/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62869356",
    "html_url": "https://github.com/rust-lang/rust/issues/18899#issuecomment-62869356",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18899",
    "id": 62869356,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyODY5MzU2",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-13T10:16:11Z",
    "updated_at": "2014-11-13T10:20:26Z",
    "body": "> you compared address values\n\nThis is not the case, [`Ord for &T`](https://github.com/rust-lang/rust/blob/e2cd4765fb51551ecdbbb59365b9e0b70eecd576/src/libcore/cmp.rs#L398-L426) is comparing the contents, not the addresses. (That said, even with addresses, later elements of the vector will have larger addresses, i.e. the last one should still be the maximum.)\n\nThis looks like it may be a misoptimisation (similar to https://github.com/rust-lang/rust/issues/18786).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62869356/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62872413",
    "html_url": "https://github.com/rust-lang/rust/issues/18899#issuecomment-62872413",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18899",
    "id": 62872413,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyODcyNDEz",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-13T10:42:21Z",
    "updated_at": "2014-11-13T10:42:21Z",
    "body": "Ah, it's not a misoptimisation: it's rustc being bad. @Thiez correctly picked it out with:\n\n> // Defining max_by as a function appears not to work because it refuses the `|n|n` closure due to some lifetime issue\n\nand\n\n> It indeed reveals that x_val and y_val point to the same location.\n\nThe lifetime issue is real, and it is entirely invalid to write `|n| n` since that is returning the pointer to `x`, on the stack `let x_val = f(&x);`. This pointer is then kept around \"forever\" (that is, long after that specific `x` no longer exists on the stack), resulting in the sadness we see here.\n\nI've edited the issue & title to reflect the above.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62872413/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62888511",
    "html_url": "https://github.com/rust-lang/rust/issues/18899#issuecomment-62888511",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18899",
    "id": 62888511,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyODg4NTEx",
    "user": {
      "login": "nodakai",
      "id": 90726,
      "node_id": "MDQ6VXNlcjkwNzI2",
      "avatar_url": "https://avatars.githubusercontent.com/u/90726?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nodakai",
      "html_url": "https://github.com/nodakai",
      "followers_url": "https://api.github.com/users/nodakai/followers",
      "following_url": "https://api.github.com/users/nodakai/following{/other_user}",
      "gists_url": "https://api.github.com/users/nodakai/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nodakai/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nodakai/subscriptions",
      "organizations_url": "https://api.github.com/users/nodakai/orgs",
      "repos_url": "https://api.github.com/users/nodakai/repos",
      "events_url": "https://api.github.com/users/nodakai/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nodakai/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-13T13:17:03Z",
    "updated_at": "2014-11-13T14:00:20Z",
    "body": "A minimal code for reproducing the bug.\n\n``` rust\nstruct S;\n\nimpl S {\n    fn f<B: std::fmt::Show>(&self, g: |&i32| -> B) {\n        let h = |x| { g(&x) };\n        let r = h(10);\n        /*\n        let r = g(&10_i32);\n        */\n        println!(\"r == {}\", r); //  r == 32767 ???\n    }\n}\n\nfn main() {\n    let s = S;\n    s.f(|p| {\n        println!(\"p == {}\", p);\n        p\n    })\n}\n```\n- http://is.gd/rwnohF\n\nThe above code shouln't pass the lifetime check, but it does;  that is the bug.\n\n`rustc` rejects the above code with the \"cannot infer an appropriate lifetime\" error when:\n1. The type of `g` is changed to `g: |&i32| -> &B`\n2. `B` is replaced with `&i32`\n3. `r` is directly set by `g` w/o `h`\n4. The closure passed to `s.f()` is given an explicit type annotation\n\nAlso note that `println!(\"r == {}\", r);` prints an apparently correct value with `--opt-level=2` or `3`.  But that does not mean the bug (in the type check phase) disappears.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62888511/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62889584",
    "html_url": "https://github.com/rust-lang/rust/issues/18899#issuecomment-62889584",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18899",
    "id": 62889584,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyODg5NTg0",
    "user": {
      "login": "Thiez",
      "id": 204550,
      "node_id": "MDQ6VXNlcjIwNDU1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/204550?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Thiez",
      "html_url": "https://github.com/Thiez",
      "followers_url": "https://api.github.com/users/Thiez/followers",
      "following_url": "https://api.github.com/users/Thiez/following{/other_user}",
      "gists_url": "https://api.github.com/users/Thiez/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Thiez/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Thiez/subscriptions",
      "organizations_url": "https://api.github.com/users/Thiez/orgs",
      "repos_url": "https://api.github.com/users/Thiez/repos",
      "events_url": "https://api.github.com/users/Thiez/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Thiez/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-13T13:26:35Z",
    "updated_at": "2014-11-13T13:26:35Z",
    "body": "It looks very much alike but my original example is wrong for all optimization levels (at least on the playpen), so are we observing the same bug?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62889584/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62893869",
    "html_url": "https://github.com/rust-lang/rust/issues/18899#issuecomment-62893869",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18899",
    "id": 62893869,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyODkzODY5",
    "user": {
      "login": "nodakai",
      "id": 90726,
      "node_id": "MDQ6VXNlcjkwNzI2",
      "avatar_url": "https://avatars.githubusercontent.com/u/90726?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nodakai",
      "html_url": "https://github.com/nodakai",
      "followers_url": "https://api.github.com/users/nodakai/followers",
      "following_url": "https://api.github.com/users/nodakai/following{/other_user}",
      "gists_url": "https://api.github.com/users/nodakai/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nodakai/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nodakai/subscriptions",
      "organizations_url": "https://api.github.com/users/nodakai/orgs",
      "repos_url": "https://api.github.com/users/nodakai/repos",
      "events_url": "https://api.github.com/users/nodakai/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nodakai/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-13T14:02:07Z",
    "updated_at": "2014-11-13T14:02:07Z",
    "body": "@Thiez  I think so.  I updated my previous comment because my wording was misleading.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62893869/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62895161",
    "html_url": "https://github.com/rust-lang/rust/issues/18899#issuecomment-62895161",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18899",
    "id": 62895161,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyODk1MTYx",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-13T14:12:12Z",
    "updated_at": "2014-11-13T14:12:12Z",
    "body": "The bug here is the compiler letting this through at all; the consequences can manifest in different ways but they're all just (unfortunate) flow-on from the original problem of methods apparently not being checked.\n\nSince this is all undefined behaviour, the specific details of what will go wrong at runtime are hard to predict and aren't really that \"interesting\" (it's undefined behaviour, so it could be anything).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62895161/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62968544",
    "html_url": "https://github.com/rust-lang/rust/issues/18899#issuecomment-62968544",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18899",
    "id": 62968544,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyOTY4NTQ0",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-13T21:23:37Z",
    "updated_at": "2014-11-13T21:23:37Z",
    "body": "P-backcompat-lang, 1.0.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62968544/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62969019",
    "html_url": "https://github.com/rust-lang/rust/issues/18899#issuecomment-62969019",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18899",
    "id": 62969019,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyOTY5MDE5",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-13T21:26:45Z",
    "updated_at": "2014-11-13T21:26:45Z",
    "body": "So the key problem is this closure:\n\n```\n    s.f(|p| {\n        println!(\"p == {}\", p);\n        p\n    })\n```\n\nwhich should not type check, as far as I can tell. The pointer `p` has a bound lifetime, and it should not be possible for `B` to be instantiated with that lifetime. There are some parts of the code that try to prevent this (see e.g. `compile-fail/region*escape*rs`) but clearly it's not working here. I think this is sort of a symptom of #3696 but we can fix it in a relatively smaller way.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62969019/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62982908",
    "html_url": "https://github.com/rust-lang/rust/issues/18899#issuecomment-62982908",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18899",
    "id": 62982908,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyOTgyOTA4",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-13T23:03:39Z",
    "updated_at": "2014-11-13T23:03:39Z",
    "body": "I'll investigate a bit while the HRTB builds go.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62982908/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62996839",
    "html_url": "https://github.com/rust-lang/rust/issues/18899#issuecomment-62996839",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18899",
    "id": 62996839,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyOTk2ODM5",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-14T01:23:38Z",
    "updated_at": "2014-11-14T01:23:38Z",
    "body": "I think the problem is that we don't do call `constrain_path_type_parameters` for the type parameters supplied to methods.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/62996839/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
