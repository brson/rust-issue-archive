{
  "url": "https://api.github.com/repos/rust-lang/rust/issues/7636",
  "repository_url": "https://api.github.com/repos/rust-lang/rust",
  "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/7636/labels{/name}",
  "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/7636/comments",
  "events_url": "https://api.github.com/repos/rust-lang/rust/issues/7636/events",
  "html_url": "https://github.com/rust-lang/rust/pull/7636",
  "id": 16442721,
  "node_id": "MDExOlB1bGxSZXF1ZXN0Njc2NTMwOQ==",
  "number": 7636,
  "title": "Implement scopes independent of LLVM basic blocks",
  "user": {
    "login": "dotdash",
    "id": 230962,
    "node_id": "MDQ6VXNlcjIzMDk2Mg==",
    "avatar_url": "https://avatars.githubusercontent.com/u/230962?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/dotdash",
    "html_url": "https://github.com/dotdash",
    "followers_url": "https://api.github.com/users/dotdash/followers",
    "following_url": "https://api.github.com/users/dotdash/following{/other_user}",
    "gists_url": "https://api.github.com/users/dotdash/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/dotdash/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/dotdash/subscriptions",
    "organizations_url": "https://api.github.com/users/dotdash/orgs",
    "repos_url": "https://api.github.com/users/dotdash/repos",
    "events_url": "https://api.github.com/users/dotdash/events{/privacy}",
    "received_events_url": "https://api.github.com/users/dotdash/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "labels": [],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [],
  "milestone": null,
  "comments": 0,
  "created_at": "2013-07-07T13:04:13Z",
  "updated_at": "2014-06-15T15:23:29Z",
  "closed_at": "2013-07-07T19:50:05Z",
  "author_association": "CONTRIBUTOR",
  "type": null,
  "active_lock_reason": null,
  "draft": false,
  "pull_request": {
    "url": "https://api.github.com/repos/rust-lang/rust/pulls/7636",
    "html_url": "https://github.com/rust-lang/rust/pull/7636",
    "diff_url": "https://github.com/rust-lang/rust/pull/7636.diff",
    "patch_url": "https://github.com/rust-lang/rust/pull/7636.patch",
    "merged_at": null
  },
  "body": "Currently, scopes are tied to LLVM basic blocks. For each scope, there\nare two new basic blocks, which means two extra jumps in the unoptimized\nIR. These blocks aren't actually required, but only used to act as the\nboundary for cleanups.\n\nBy keeping track of the current scope within a single basic block, we\ncan avoid those extra blocks and jumps, shrinking the pre-optimization\nIR quite considerably. For example, the IR for trans_intrinsic goes\nfrom ~22k lines to ~16k lines, almost 30% less.\n\nThe impact on the build times of optimized builds is rather small (about\n1%), but unoptimized builds are about 11% faster. The testsuite for\nunoptimized builds runs between 15% (CPU time) and 7.5% (wallclock time on\nmy i7) faster.\n\nAlso, in some situations this helps LLVM to generate better code by\ninlining functions that it previously considered to be too large.\nLikely because of the pointless blocks/jumps that were still present at\nthe time the inlining pass runs.\n\nRefs #7462\n",
  "closed_by": {
    "login": "bors",
    "id": 3372342,
    "node_id": "MDQ6VXNlcjMzNzIzNDI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/bors",
    "html_url": "https://github.com/bors",
    "followers_url": "https://api.github.com/users/bors/followers",
    "following_url": "https://api.github.com/users/bors/following{/other_user}",
    "gists_url": "https://api.github.com/users/bors/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bors/subscriptions",
    "organizations_url": "https://api.github.com/users/bors/orgs",
    "repos_url": "https://api.github.com/users/bors/repos",
    "events_url": "https://api.github.com/users/bors/events{/privacy}",
    "received_events_url": "https://api.github.com/users/bors/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/7636/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/7636/timeline",
  "performed_via_github_app": null,
  "state_reason": null,
  "_meta": {
    "type": "pr"
  }
}
