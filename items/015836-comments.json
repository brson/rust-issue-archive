[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/52543768",
    "html_url": "https://github.com/rust-lang/rust/issues/15836#issuecomment-52543768",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15836",
    "id": 52543768,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyNTQzNzY4",
    "user": {
      "login": "abonander",
      "id": 3198595,
      "node_id": "MDQ6VXNlcjMxOTg1OTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3198595?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/abonander",
      "html_url": "https://github.com/abonander",
      "followers_url": "https://api.github.com/users/abonander/followers",
      "following_url": "https://api.github.com/users/abonander/following{/other_user}",
      "gists_url": "https://api.github.com/users/abonander/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/abonander/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/abonander/subscriptions",
      "organizations_url": "https://api.github.com/users/abonander/orgs",
      "repos_url": "https://api.github.com/users/abonander/repos",
      "events_url": "https://api.github.com/users/abonander/events{/privacy}",
      "received_events_url": "https://api.github.com/users/abonander/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-18T19:40:34Z",
    "updated_at": "2014-08-18T19:57:49Z",
    "body": "Actually, looking at the sources, the Windows implementation is surprising to me.\n\nThe Windows implementation of `fs::rename` in `libnative/io/file_win32.rs`:\n\n```\npub fn rename(old: &CString, new: &CString) -> IoResult<()> {\n    let old = try!(to_utf16(old));\n    let new = try!(to_utf16(new));\n    super::mkerr_winbool(unsafe {\n        libc::MoveFileExW(old.as_ptr(), new.as_ptr(),\n        libc::MOVEFILE_REPLACE_EXISTING)\n    })\n}\n```\n\nAnd the documentation of [`MoveFileEx`](http://msdn.microsoft.com/en-us/library/windows/desktop/aa365240%28v=vs.85%29.aspx) (`MoveFileExW` is the variant that accepts Unicode filenames):\n\n##### MOVEFILE_REPLACE_EXISTING\n\n> If a file named `lpNewFileName` exists, the function replaces its contents with the contents of the `lpExistingFileName` file, provided that security requirements regarding access control lists (ACLs) are met. For more information, see the Remarks section of this topic.\n> \n> This value cannot be used if `lpNewFileName` or `lpExistingFileName` names a directory.\n\n`MoveFile` can be used on directories, but it cannot overwrite an existing directory, empty or not.\n\nThe Unix implementation succeeds because the target directory can be overwritten if it is empty:\nhttp://www.gnu.org/software/libc/manual/html_node/Renaming-Files.html\n\nSo `fs::rename` shouldn't work on directories at all on Windows currently, and the platform-dependent behavior would definitely be frustrating. It should be fixed for Windows, but we'd still have disjoint behavior between platforms. Maybe that part could be fixed with a documentation update.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/52543768/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53635129",
    "html_url": "https://github.com/rust-lang/rust/issues/15836#issuecomment-53635129",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15836",
    "id": 53635129,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzNjM1MTI5",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-27T20:26:06Z",
    "updated_at": "2014-08-27T20:26:06Z",
    "body": "The equivalent python and Java programs succeed on Linux, so perhaps success is the correct result.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53635129/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53635590",
    "html_url": "https://github.com/rust-lang/rust/issues/15836#issuecomment-53635590",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15836",
    "id": 53635590,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzNjM1NTkw",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-27T20:29:21Z",
    "updated_at": "2014-08-27T20:29:21Z",
    "body": "The 'only if the directory is empty' rule is pretty bizarre. Is that really the cross-platform rule we want?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53635590/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53672693",
    "html_url": "https://github.com/rust-lang/rust/issues/15836#issuecomment-53672693",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15836",
    "id": 53672693,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzNjcyNjkz",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-28T04:33:35Z",
    "updated_at": "2014-08-28T04:33:35Z",
    "body": "I've been rethinking the modification to `unlink` to unify windows/unix due to the non-atomicity of the operation, I'm not sure if we'd want to add more non-atomicity to either windows or unix, so this may just be an unfortunate fact of life.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53672693/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/55347483",
    "html_url": "https://github.com/rust-lang/rust/issues/15836#issuecomment-55347483",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15836",
    "id": 55347483,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1MzQ3NDgz",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-09-12T00:27:01Z",
    "updated_at": "2014-09-12T00:27:01Z",
    "body": "It seems like there's a lot of precedent for unifying I/O semantics from other languages though.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/55347483/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/73360471",
    "html_url": "https://github.com/rust-lang/rust/issues/15836#issuecomment-73360471",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15836",
    "id": 73360471,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczMzYwNDcx",
    "user": {
      "login": "untitaker",
      "id": 837573,
      "node_id": "MDQ6VXNlcjgzNzU3Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/837573?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/untitaker",
      "html_url": "https://github.com/untitaker",
      "followers_url": "https://api.github.com/users/untitaker/followers",
      "following_url": "https://api.github.com/users/untitaker/following{/other_user}",
      "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions",
      "organizations_url": "https://api.github.com/users/untitaker/orgs",
      "repos_url": "https://api.github.com/users/untitaker/repos",
      "events_url": "https://api.github.com/users/untitaker/events{/privacy}",
      "received_events_url": "https://api.github.com/users/untitaker/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-02-07T11:25:22Z",
    "updated_at": "2015-02-07T11:25:22Z",
    "body": "FWIW Python's rename fails on Windows if the destination path exists: https://docs.python.org/2/library/os.html#os.rename\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/73360471/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/130836544",
    "html_url": "https://github.com/rust-lang/rust/issues/15836#issuecomment-130836544",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15836",
    "id": 130836544,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMDgzNjU0NA==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-08-13T20:47:28Z",
    "updated_at": "2015-08-13T20:47:28Z",
    "body": "With the I/O reform having happened since this was opened, I'm going to close this as \"not a bug\"\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/130836544/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/130839875",
    "html_url": "https://github.com/rust-lang/rust/issues/15836#issuecomment-130839875",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15836",
    "id": 130839875,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMDgzOTg3NQ==",
    "user": {
      "login": "untitaker",
      "id": 837573,
      "node_id": "MDQ6VXNlcjgzNzU3Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/837573?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/untitaker",
      "html_url": "https://github.com/untitaker",
      "followers_url": "https://api.github.com/users/untitaker/followers",
      "following_url": "https://api.github.com/users/untitaker/following{/other_user}",
      "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions",
      "organizations_url": "https://api.github.com/users/untitaker/orgs",
      "repos_url": "https://api.github.com/users/untitaker/repos",
      "events_url": "https://api.github.com/users/untitaker/events{/privacy}",
      "received_events_url": "https://api.github.com/users/untitaker/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-08-13T20:52:09Z",
    "updated_at": "2015-08-13T20:52:09Z",
    "body": "What is the behavior now?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/130839875/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/130843438",
    "html_url": "https://github.com/rust-lang/rust/issues/15836#issuecomment-130843438",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15836",
    "id": 130843438,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMDg0MzQzOA==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-08-13T20:59:29Z",
    "updated_at": "2015-08-13T20:59:29Z",
    "body": "We just shell out to the system call and reexport that behavior.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/130843438/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
