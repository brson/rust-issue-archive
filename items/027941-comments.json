[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/133752819",
    "html_url": "https://github.com/rust-lang/rust/issues/27941#issuecomment-133752819",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27941",
    "id": 133752819,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMzc1MjgxOQ==",
    "user": {
      "login": "eefriedman",
      "id": 12769964,
      "node_id": "MDQ6VXNlcjEyNzY5OTY0",
      "avatar_url": "https://avatars.githubusercontent.com/u/12769964?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eefriedman",
      "html_url": "https://github.com/eefriedman",
      "followers_url": "https://api.github.com/users/eefriedman/followers",
      "following_url": "https://api.github.com/users/eefriedman/following{/other_user}",
      "gists_url": "https://api.github.com/users/eefriedman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eefriedman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eefriedman/subscriptions",
      "organizations_url": "https://api.github.com/users/eefriedman/orgs",
      "repos_url": "https://api.github.com/users/eefriedman/repos",
      "events_url": "https://api.github.com/users/eefriedman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eefriedman/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-08-22T20:46:43Z",
    "updated_at": "2015-08-22T20:46:43Z",
    "body": "Explicitly specifying the type of self using the syntax `self: Box<Self>` is sort of vestigial.  The feature of allowing `Box<Self>` as the type of `self`, along with the syntax for explicitly writing out the type of `self`, sort of slipped into 1.0 without anyone really considering the issue.  The other syntax is strongly preferred.\n\nThe explicit type syntax will probably be deprecated at some point.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/133752819/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/133763786",
    "html_url": "https://github.com/rust-lang/rust/issues/27941#issuecomment-133763786",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27941",
    "id": 133763786,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMzc2Mzc4Ng==",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-08-22T23:15:20Z",
    "updated_at": "2015-08-22T23:15:20Z",
    "body": "/cc @rust-lang/lang , what do you think? Should we explain this more, or leave it as is?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/133763786/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/134669741",
    "html_url": "https://github.com/rust-lang/rust/issues/27941#issuecomment-134669741",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27941",
    "id": 134669741,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzNDY2OTc0MQ==",
    "user": {
      "login": "eddyb",
      "id": 77424,
      "node_id": "MDQ6VXNlcjc3NDI0",
      "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eddyb",
      "html_url": "https://github.com/eddyb",
      "followers_url": "https://api.github.com/users/eddyb/followers",
      "following_url": "https://api.github.com/users/eddyb/following{/other_user}",
      "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions",
      "organizations_url": "https://api.github.com/users/eddyb/orgs",
      "repos_url": "https://api.github.com/users/eddyb/repos",
      "events_url": "https://api.github.com/users/eddyb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eddyb/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-08-25T16:57:11Z",
    "updated_at": "2015-09-14T01:08:25Z",
    "body": "@eefriedman On the contrary, `self: Foo<Self>` is part of UFCS, and should be implemented at some point.\nI discussed the necessary changes to the way we store inherent impls with @arielb1 some time ago, though I can't recall who was asking in the first place.\n\nOne constraint we could put on it is that `Foo<Self>: Deref<Target=Self>`, which is easy to check and would allow `self: Rc<Self>` - although, if we want to use this for traits, as well, it would have to be smarter and only allow pointers.\n\n`Foo<Self>` can probably be tested for object-safe compatibility inside a trait definition by replacing `Self` with the trait and checking `Foo<Trait>: CoerceUnsized<Foo<Self>>`.\nOnly one leaf field can be coerced (and it's a pointer), the others are forced to have the same representation (same type, or `PhantomData<T> -> PhantomData<U>`).\n\nThat implies you could have, e.g. `self: Triplet<String, Rc<Self>, bool>` in a trait and be object-safe, with virtual calls passing that entire ADT to the virtual method, modulo the vtable pointer (though keeping it doesn't hurt anyone, either, especially if the argument is passed with indirection).\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/134669741/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/134670358",
    "html_url": "https://github.com/rust-lang/rust/issues/27941#issuecomment-134670358",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27941",
    "id": 134670358,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzNDY3MDM1OA==",
    "user": {
      "login": "arielb1",
      "id": 1830974,
      "node_id": "MDQ6VXNlcjE4MzA5NzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1830974?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/arielb1",
      "html_url": "https://github.com/arielb1",
      "followers_url": "https://api.github.com/users/arielb1/followers",
      "following_url": "https://api.github.com/users/arielb1/following{/other_user}",
      "gists_url": "https://api.github.com/users/arielb1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/arielb1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/arielb1/subscriptions",
      "organizations_url": "https://api.github.com/users/arielb1/orgs",
      "repos_url": "https://api.github.com/users/arielb1/repos",
      "events_url": "https://api.github.com/users/arielb1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/arielb1/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-08-25T16:59:40Z",
    "updated_at": "2015-08-25T17:02:32Z",
    "body": "@eddyb \n\ncompatibility with the trait? I would prefer to store explicit Self explicitly and use the normal check_method code. \n\nIf we want decent performance, requiring the method to appear in the autoderef loop would be nice (so do the autoderef loop in a probe, gather all methods, then sort them by priority and find the first matching one).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/134670358/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/134671938",
    "html_url": "https://github.com/rust-lang/rust/issues/27941#issuecomment-134671938",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27941",
    "id": 134671938,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzNDY3MTkzOA==",
    "user": {
      "login": "eddyb",
      "id": 77424,
      "node_id": "MDQ6VXNlcjc3NDI0",
      "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eddyb",
      "html_url": "https://github.com/eddyb",
      "followers_url": "https://api.github.com/users/eddyb/followers",
      "following_url": "https://api.github.com/users/eddyb/following{/other_user}",
      "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions",
      "organizations_url": "https://api.github.com/users/eddyb/orgs",
      "repos_url": "https://api.github.com/users/eddyb/repos",
      "events_url": "https://api.github.com/users/eddyb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eddyb/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-08-25T17:04:39Z",
    "updated_at": "2016-11-29T18:49:46Z",
    "body": "@arielb1 Wording was unclear, I edited that bit.\r\nI was talking about a custom `self` type, like `self: Rc<Self>` in a method inside a trait definition, that can still be treated as object-safe, given that we can prove it is pointer-like (and can thus be passed to a virtual method).\r\n`CoerceUnsize` is currently only implemented on pointers and pointers with data around them, so it fits the bill.\r\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/134671938/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/153652686",
    "html_url": "https://github.com/rust-lang/rust/issues/27941#issuecomment-153652686",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27941",
    "id": 153652686,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MzY1MjY4Ng==",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-11-04T09:25:08Z",
    "updated_at": "2015-11-04T09:25:08Z",
    "body": "untagging docs and tagging with lang until @rust-lang/lang tells me what they want here\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/153652686/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/263654448",
    "html_url": "https://github.com/rust-lang/rust/issues/27941#issuecomment-263654448",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27941",
    "id": 263654448,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MzY1NDQ0OA==",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-11-29T18:24:47Z",
    "updated_at": "2016-11-29T18:24:47Z",
    "body": "Triage: over a year later, nothing has happened with more exotic `Self`s. While it's strictly true that `Box<Self>` will also work, making the diagnostic technically incorrect, this seems very minor. In addition, the book isn't going to cover this until it's made more general.\r\n\r\nSo: closing this ticket, in my mind, involves fixing the diagnostic to say \"or Box\".",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/263654448/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/263706229",
    "html_url": "https://github.com/rust-lang/rust/issues/27941#issuecomment-263706229",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27941",
    "id": 263706229,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MzcwNjIyOQ==",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-11-29T21:34:37Z",
    "updated_at": "2016-11-29T21:34:37Z",
    "body": "(FWIW, I think we really want, at minimum, `*mut Self` and so forth to work. Not having support for this is quite frustrating in Rayon, at least if I try to be careful about my types in unsafe code.)",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/263706229/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/305558252",
    "html_url": "https://github.com/rust-lang/rust/issues/27941#issuecomment-305558252",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27941",
    "id": 305558252,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwNTU1ODI1Mg==",
    "user": {
      "login": "Mark-Simulacrum",
      "id": 5047365,
      "node_id": "MDQ6VXNlcjUwNDczNjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5047365?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Mark-Simulacrum",
      "html_url": "https://github.com/Mark-Simulacrum",
      "followers_url": "https://api.github.com/users/Mark-Simulacrum/followers",
      "following_url": "https://api.github.com/users/Mark-Simulacrum/following{/other_user}",
      "gists_url": "https://api.github.com/users/Mark-Simulacrum/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Mark-Simulacrum/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Mark-Simulacrum/subscriptions",
      "organizations_url": "https://api.github.com/users/Mark-Simulacrum/orgs",
      "repos_url": "https://api.github.com/users/Mark-Simulacrum/repos",
      "events_url": "https://api.github.com/users/Mark-Simulacrum/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Mark-Simulacrum/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-06-01T17:08:30Z",
    "updated_at": "2017-06-01T17:08:30Z",
    "body": "Nominating for lang team discussion. I assume this needs an RFC? Or perhaps there already was one, just not yet implemented.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/305558252/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/305868699",
    "html_url": "https://github.com/rust-lang/rust/issues/27941#issuecomment-305868699",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27941",
    "id": 305868699,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwNTg2ODY5OQ==",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-06-02T18:07:32Z",
    "updated_at": "2017-06-02T18:07:32Z",
    "body": "I think an RFC would be a good idea, just so we spend some time thinking carefully about the cases. In particular, it's important to work out how this interacts with trait objects.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/305868699/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/308868969",
    "html_url": "https://github.com/rust-lang/rust/issues/27941#issuecomment-308868969",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27941",
    "id": 308868969,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwODg2ODk2OQ==",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-06-15T21:20:12Z",
    "updated_at": "2017-06-15T21:20:12Z",
    "body": "Some notes from the @rust-lang/lang meeting:\r\n\r\n- We probably want to support \"any type that derefs (transitively) to `Self`\".\r\n- A good example use case is `self: Rc<Self>`.\r\n- Have to work out how to find the vtable for trait objects.\r\n- This doesn't seem to fall under the roadmap / ergonomic initiative, in terms of prioritization.\r\n\r\nIf someone is interested in pursuing it, we'd be happy to work with them (feel free to ping me), but it's not the highest priority at the moment.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/308868969/reactions",
      "total_count": 4,
      "+1": 4,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/326199143",
    "html_url": "https://github.com/rust-lang/rust/issues/27941#issuecomment-326199143",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27941",
    "id": 326199143,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyNjE5OTE0Mw==",
    "user": {
      "login": "jimmycuadra",
      "id": 122457,
      "node_id": "MDQ6VXNlcjEyMjQ1Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/122457?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jimmycuadra",
      "html_url": "https://github.com/jimmycuadra",
      "followers_url": "https://api.github.com/users/jimmycuadra/followers",
      "following_url": "https://api.github.com/users/jimmycuadra/following{/other_user}",
      "gists_url": "https://api.github.com/users/jimmycuadra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jimmycuadra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jimmycuadra/subscriptions",
      "organizations_url": "https://api.github.com/users/jimmycuadra/orgs",
      "repos_url": "https://api.github.com/users/jimmycuadra/repos",
      "events_url": "https://api.github.com/users/jimmycuadra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jimmycuadra/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-08-31T06:07:31Z",
    "updated_at": "2017-08-31T06:07:31Z",
    "body": "I think this issue has just gained some fire for prioritization with the recent introduction of generators and async/await.\r\n\r\nSee https://github.com/alexcrichton/futures-await/tree/e09c87c7aa796bf6e5b6d8d45d6cba2078d12210#borrowing for a motivating example for `self: Rc<Self>`.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/326199143/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/332050278",
    "html_url": "https://github.com/rust-lang/rust/issues/27941#issuecomment-332050278",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27941",
    "id": 332050278,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMjA1MDI3OA==",
    "user": {
      "login": "aturon",
      "id": 709807,
      "node_id": "MDQ6VXNlcjcwOTgwNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/709807?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aturon",
      "html_url": "https://github.com/aturon",
      "followers_url": "https://api.github.com/users/aturon/followers",
      "following_url": "https://api.github.com/users/aturon/following{/other_user}",
      "gists_url": "https://api.github.com/users/aturon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aturon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aturon/subscriptions",
      "organizations_url": "https://api.github.com/users/aturon/orgs",
      "repos_url": "https://api.github.com/users/aturon/repos",
      "events_url": "https://api.github.com/users/aturon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aturon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-09-26T00:23:49Z",
    "updated_at": "2017-09-26T00:23:49Z",
    "body": "@nikomatsakis @arielb1 Can we consider this for the impl period?",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/332050278/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/332141608",
    "html_url": "https://github.com/rust-lang/rust/issues/27941#issuecomment-332141608",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27941",
    "id": 332141608,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMjE0MTYwOA==",
    "user": {
      "login": "arielb1",
      "id": 1830974,
      "node_id": "MDQ6VXNlcjE4MzA5NzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1830974?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/arielb1",
      "html_url": "https://github.com/arielb1",
      "followers_url": "https://api.github.com/users/arielb1/followers",
      "following_url": "https://api.github.com/users/arielb1/following{/other_user}",
      "gists_url": "https://api.github.com/users/arielb1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/arielb1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/arielb1/subscriptions",
      "organizations_url": "https://api.github.com/users/arielb1/orgs",
      "repos_url": "https://api.github.com/users/arielb1/repos",
      "events_url": "https://api.github.com/users/arielb1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/arielb1/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-09-26T09:29:44Z",
    "updated_at": "2017-09-26T09:29:44Z",
    "body": "@aturon\r\n\r\nI suspect this needs an actual RFC. However, with the newly-fixed method dispatch, I don't expect any obstacles to implementing this.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/332141608/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/332157526",
    "html_url": "https://github.com/rust-lang/rust/issues/27941#issuecomment-332157526",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27941",
    "id": 332157526,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMjE1NzUyNg==",
    "user": {
      "login": "arielb1",
      "id": 1830974,
      "node_id": "MDQ6VXNlcjE4MzA5NzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1830974?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/arielb1",
      "html_url": "https://github.com/arielb1",
      "followers_url": "https://api.github.com/users/arielb1/followers",
      "following_url": "https://api.github.com/users/arielb1/following{/other_user}",
      "gists_url": "https://api.github.com/users/arielb1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/arielb1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/arielb1/subscriptions",
      "organizations_url": "https://api.github.com/users/arielb1/orgs",
      "repos_url": "https://api.github.com/users/arielb1/repos",
      "events_url": "https://api.github.com/users/arielb1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/arielb1/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-09-26T10:34:45Z",
    "updated_at": "2018-08-08T18:53:58Z",
    "body": "I mean, for implementing it in method dispatch. The interesting part that actually needs the RFC is the compiler being able to downcast the `Rc<Trait>` to an `Rc<SomeSpecificType>`.\r\n\r\nWith the current ABI, this is basically done in the compiler-generated impl of `<Trait as Trait>::method`, which means it needs to be \"uniform\" and not be specific to the specific type.\r\n\r\nMaybe have the compiler do a reverse unsized coercion? That's it, we can have this object safety rule:\r\n```\r\nfoo: for<LTS> fn(\u03b5, ...\u03c7) method\r\n\u03c7 does not refer to Self\r\n(used to be `\u03b5` is of the form &Self, &mut Self, Box<Self>)\r\n\u0393, Self: Sized \u22a2 for<LTS> \u03b5: CoerceUnsized<\u03b5[Self \u2190 dyn Self<Assoc1=Self::Assoc1,...>]>\r\n    \\-- this is in the trait param env, where we know that \u03b5: Trait\r\n------------\r\n\u0393 \u22a2 foo object-safe\r\n```\r\n\r\nActually, I'm not sure that would work, because you might have the unsized coercion go through a different Unsize impl, say using an associated type (e.g. the example from #44861). We ICE on that (in trans), so maybe there's good room to lock things up somewhat. Or maybe just add an additional trait:\r\n\r\n```Rust\r\npub trait CoerceSized<Target> {\r\n    type SizeSource: ?Sized;\r\n    type SizeTarget: Unsize<Self::SizeSource>;\r\n}\r\n``` \r\n\r\nand have the bound be\r\n```\r\n\u0393, Self: Sized \u22a2 for<LTS> {\r\n  \u03b5: CoerceSized<\r\n    \u03b5[Self \u2190 dyn Trait<Assoc1=Self::Assoc1,...>], \r\n    SizeSource=dyn Trait<Assoc1=Self::Assoc1,...>, \r\n    SizeTarget=Self\r\n  >\r\n}\r\n```\r\n\r\nI believe we can then implement `<Trait as Trait>::method` \"as follows\":\r\n```\r\n(sized_abstract, vtable) = coerce_sized self\r\nfn_ptr = vtable[INDEX]\r\nret = fn_ptr(sized_abstract, ..\u03c7)\r\n```\r\n\r\nOr maybe there's another solution I'm missing.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/332157526/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/338009968",
    "html_url": "https://github.com/rust-lang/rust/issues/27941#issuecomment-338009968",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27941",
    "id": 338009968,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzODAwOTk2OA==",
    "user": {
      "login": "aturon",
      "id": 709807,
      "node_id": "MDQ6VXNlcjcwOTgwNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/709807?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aturon",
      "html_url": "https://github.com/aturon",
      "followers_url": "https://api.github.com/users/aturon/followers",
      "following_url": "https://api.github.com/users/aturon/following{/other_user}",
      "gists_url": "https://api.github.com/users/aturon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aturon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aturon/subscriptions",
      "organizations_url": "https://api.github.com/users/aturon/orgs",
      "repos_url": "https://api.github.com/users/aturon/repos",
      "events_url": "https://api.github.com/users/aturon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aturon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-10-19T19:19:41Z",
    "updated_at": "2017-10-19T19:19:41Z",
    "body": "Lang team meeting: an RFC is needed prior to stabilization, but we're happy to accept experimentatal implementation in the meantime.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/338009968/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/370976482",
    "html_url": "https://github.com/rust-lang/rust/issues/27941#issuecomment-370976482",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27941",
    "id": 370976482,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MDk3NjQ4Mg==",
    "user": {
      "login": "kevincox",
      "id": 494012,
      "node_id": "MDQ6VXNlcjQ5NDAxMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/494012?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kevincox",
      "html_url": "https://github.com/kevincox",
      "followers_url": "https://api.github.com/users/kevincox/followers",
      "following_url": "https://api.github.com/users/kevincox/following{/other_user}",
      "gists_url": "https://api.github.com/users/kevincox/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kevincox/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kevincox/subscriptions",
      "organizations_url": "https://api.github.com/users/kevincox/orgs",
      "repos_url": "https://api.github.com/users/kevincox/repos",
      "events_url": "https://api.github.com/users/kevincox/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kevincox/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-03-07T00:16:14Z",
    "updated_at": "2018-03-07T00:16:14Z",
    "body": "@arielb1 Is there any progress on an object-safe implementation of this?\r\n\r\n```\r\n(sized_abstract, vtable) = coerce_sized self\r\nfn_ptr = vtable[INDEX]\r\nret = fn_ptr(sized_abstract, ..\u03c7)\r\n```\r\n\r\nI'm not sure I fully understand the syntax here but it seems like you also want to pass `self` to `fn_ptr`. This way the function can access the full self (the containing `Rc` as well as the contained value). I'm also not sure why the `CoerceSized` trait is required to be honest. I would imagine something like this:\r\n\r\n```rust\r\ntrait MyTrait {\r\n    fn foo(self: &Rc<Self>, arg: String);\r\n}\r\n\r\nstruct Thing;\r\n\r\nimpl MyTrait for Thing {\r\n    fn foo(self: &Rc<Self>, arg: String) {\r\n        unimplemented!()\r\n    }\r\n}\r\n```\r\n\r\nWould create a vtable with `Fn(&Rc<MyTrait>, &Thing, String)`. The `&Self` parameter is required because the user will want access to `Rc<MyThing>` as if it was a `Rc<Self>` but that relies on `Rc` returning the same type as it did last time you called `.deref()` which I don't think can be guaranteed. Passing a `&Self` parameter gives the user a reference with the correct type but now the signature in the trait and impl look different which is likely confusing.\r\n\r\nSo a \"correct\" impl signature would look something like this, but it is kinda ugly.\r\n\r\n```rust\r\nimpl MyTrait for Thing {\r\n    fn foo(self: &Rc<MyTrait>, inner_self: &Self, arg: String) {\r\n        unimplemented!()\r\n    }\r\n}\r\n```\r\n\r\nAlso I have been really sloppy about throwing `&` around for the types, I guess just adding a `&Self` parameter and leaving the \"actual\" `self` parameter should work if it is `self: &Foo<Self>` but it won't be as easy if it is a value or `&mut` parameter as you won't be allowed to have that aliasing.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/370976482/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/372459091",
    "html_url": "https://github.com/rust-lang/rust/issues/27941#issuecomment-372459091",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27941",
    "id": 372459091,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MjQ1OTA5MQ==",
    "user": {
      "login": "arielb1",
      "id": 1830974,
      "node_id": "MDQ6VXNlcjE4MzA5NzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1830974?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/arielb1",
      "html_url": "https://github.com/arielb1",
      "followers_url": "https://api.github.com/users/arielb1/followers",
      "following_url": "https://api.github.com/users/arielb1/following{/other_user}",
      "gists_url": "https://api.github.com/users/arielb1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/arielb1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/arielb1/subscriptions",
      "organizations_url": "https://api.github.com/users/arielb1/orgs",
      "repos_url": "https://api.github.com/users/arielb1/repos",
      "events_url": "https://api.github.com/users/arielb1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/arielb1/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-03-12T20:54:45Z",
    "updated_at": "2018-03-12T20:54:45Z",
    "body": "@kevincox \r\n\r\nNot really. Someone needs to work on that.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/372459091/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/464532022",
    "html_url": "https://github.com/rust-lang/rust/issues/27941#issuecomment-464532022",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27941",
    "id": 464532022,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NDUzMjAyMg==",
    "user": {
      "login": "Centril",
      "id": 855702,
      "node_id": "MDQ6VXNlcjg1NTcwMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/855702?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Centril",
      "html_url": "https://github.com/Centril",
      "followers_url": "https://api.github.com/users/Centril/followers",
      "following_url": "https://api.github.com/users/Centril/following{/other_user}",
      "gists_url": "https://api.github.com/users/Centril/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Centril/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Centril/subscriptions",
      "organizations_url": "https://api.github.com/users/Centril/orgs",
      "repos_url": "https://api.github.com/users/Centril/repos",
      "events_url": "https://api.github.com/users/Centril/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Centril/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2019-02-18T00:13:38Z",
    "updated_at": "2019-02-18T00:13:38Z",
    "body": "The diagnostic seems improved so I'm closing in favor of https://github.com/rust-lang/rust/issues/44874.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/464532022/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
