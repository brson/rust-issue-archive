[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/35824375",
    "html_url": "https://github.com/rust-lang/rust/issues/12386#issuecomment-35824375",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12386",
    "id": 35824375,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1ODI0Mzc1",
    "user": {
      "login": "zslayton",
      "id": 611616,
      "node_id": "MDQ6VXNlcjYxMTYxNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/611616?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zslayton",
      "html_url": "https://github.com/zslayton",
      "followers_url": "https://api.github.com/users/zslayton/followers",
      "following_url": "https://api.github.com/users/zslayton/following{/other_user}",
      "gists_url": "https://api.github.com/users/zslayton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zslayton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zslayton/subscriptions",
      "organizations_url": "https://api.github.com/users/zslayton/orgs",
      "repos_url": "https://api.github.com/users/zslayton/repos",
      "events_url": "https://api.github.com/users/zslayton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zslayton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-02-23T05:29:32Z",
    "updated_at": "2014-02-23T05:29:32Z",
    "body": "I looked into this a bit. It turns out it's actually a problem for all of the module-level documentation pages. The rustdoc comment from the mod.rs file appears to be getting pulled into the documentation page multiple times.\n\nFor other examples, see:\n- [std::io::pipe](http://static.rust-lang.org/doc/master/std/io/pipe/index.html)\n- [std::io::signal](http://static.rust-lang.org/doc/master/std/io/signal/index.html)\n\nI'm happy to take this issue, but I'm new to the documentation build system. Could someone point me to the template that I'd need to modify?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/35824375/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/35824864",
    "html_url": "https://github.com/rust-lang/rust/issues/12386#issuecomment-35824864",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12386",
    "id": 35824864,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1ODI0ODY0",
    "user": {
      "login": "zslayton",
      "id": 611616,
      "node_id": "MDQ6VXNlcjYxMTYxNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/611616?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zslayton",
      "html_url": "https://github.com/zslayton",
      "followers_url": "https://api.github.com/users/zslayton/followers",
      "following_url": "https://api.github.com/users/zslayton/following{/other_user}",
      "gists_url": "https://api.github.com/users/zslayton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zslayton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zslayton/subscriptions",
      "organizations_url": "https://api.github.com/users/zslayton/orgs",
      "repos_url": "https://api.github.com/users/zslayton/repos",
      "events_url": "https://api.github.com/users/zslayton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zslayton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-02-23T06:14:01Z",
    "updated_at": "2014-02-23T06:14:01Z",
    "body": "It appears that this is only a problem for modules found in std::io, where the mod.rs file has a summary comment above each `pub mod` line. The summary is not-quite-verbatim repeated in the module file itself.\n\nFor example, [std::io::fs](http://static.rust-lang.org/doc/master/std/io/fs/index.html) has the following opening line:\n\n```\nSynchronous, non-blocking filesystem operations. Synchronous, non-blocking filesystem operations. Synchronous File I/O\n```\n\nmod.rs contains:\n\n```\n/// Synchronous, non-blocking filesystem operations.\npub mod fs;\n```\n\nand fs.rs contains:\n\n```\n/*! Synchronous File I/O\n```\n\nThe mod.rs lines are inserted twice, followed by the file's summary line. The double-insertion appears to be a rustdoc bug, but the standard in the rest of libstd seems to be not having any comments above `pub mod`. I'm going to make a PR to remove the mod.rs comments.\n\nCould someone more knowledgeable than I comment on the double-insert?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/35824864/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/35824987",
    "html_url": "https://github.com/rust-lang/rust/issues/12386#issuecomment-35824987",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12386",
    "id": 35824987,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1ODI0OTg3",
    "user": {
      "login": "sfackler",
      "id": 1455697,
      "node_id": "MDQ6VXNlcjE0NTU2OTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sfackler",
      "html_url": "https://github.com/sfackler",
      "followers_url": "https://api.github.com/users/sfackler/followers",
      "following_url": "https://api.github.com/users/sfackler/following{/other_user}",
      "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions",
      "organizations_url": "https://api.github.com/users/sfackler/orgs",
      "repos_url": "https://api.github.com/users/sfackler/repos",
      "events_url": "https://api.github.com/users/sfackler/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sfackler/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-02-23T06:23:54Z",
    "updated_at": "2014-02-23T06:23:54Z",
    "body": "I think rustdoc is correct to include both chunks of docs and that removing the docs from mod.rs is the right approach.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/35824987/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/35825000",
    "html_url": "https://github.com/rust-lang/rust/issues/12386#issuecomment-35825000",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12386",
    "id": 35825000,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1ODI1MDAw",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-02-23T06:25:05Z",
    "updated_at": "2014-02-23T06:25:05Z",
    "body": "@sfackler it's not correct to include the `///` comment 3 times though.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/35825000/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/35825011",
    "html_url": "https://github.com/rust-lang/rust/issues/12386#issuecomment-35825011",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12386",
    "id": 35825011,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1ODI1MDEx",
    "user": {
      "login": "zslayton",
      "id": 611616,
      "node_id": "MDQ6VXNlcjYxMTYxNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/611616?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zslayton",
      "html_url": "https://github.com/zslayton",
      "followers_url": "https://api.github.com/users/zslayton/followers",
      "following_url": "https://api.github.com/users/zslayton/following{/other_user}",
      "gists_url": "https://api.github.com/users/zslayton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zslayton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zslayton/subscriptions",
      "organizations_url": "https://api.github.com/users/zslayton/orgs",
      "repos_url": "https://api.github.com/users/zslayton/repos",
      "events_url": "https://api.github.com/users/zslayton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zslayton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-02-23T06:26:27Z",
    "updated_at": "2014-02-23T06:26:27Z",
    "body": "@huonw @sfackler \n\nIt appears to include the `///` comment twice, followed by the file summary once for a total of three.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/35825011/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/35825077",
    "html_url": "https://github.com/rust-lang/rust/issues/12386#issuecomment-35825077",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12386",
    "id": 35825077,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1ODI1MDc3",
    "user": {
      "login": "sfackler",
      "id": 1455697,
      "node_id": "MDQ6VXNlcjE0NTU2OTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sfackler",
      "html_url": "https://github.com/sfackler",
      "followers_url": "https://api.github.com/users/sfackler/followers",
      "following_url": "https://api.github.com/users/sfackler/following{/other_user}",
      "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions",
      "organizations_url": "https://api.github.com/users/sfackler/orgs",
      "repos_url": "https://api.github.com/users/sfackler/repos",
      "events_url": "https://api.github.com/users/sfackler/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sfackler/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-02-23T06:32:39Z",
    "updated_at": "2014-02-23T06:32:39Z",
    "body": "Oh, interesting.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/35825077/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/35825295",
    "html_url": "https://github.com/rust-lang/rust/issues/12386#issuecomment-35825295",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12386",
    "id": 35825295,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1ODI1Mjk1",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-02-23T06:51:07Z",
    "updated_at": "2014-02-23T06:51:07Z",
    "body": "@zslayton if you are interested in debugging this, creating a minimal example, and using `-Z ast-json` will print the AST as (prettified) JSON, so you can see if the compiler is passing the correct thing to rustdoc.\n\nThe `collapse_docs` function in `librustdoc/passes.rs` is probably also worth some investigation.\n\nOther than that... I don't really know. (It'd be worth seeing if it is specific to modules, or if, e.g.,\n\n``` rust\n/// foo\nfn bar() {\n     //! baz\n}\n```\n\nconfuses it too.)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/35825295/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/35825395",
    "html_url": "https://github.com/rust-lang/rust/issues/12386#issuecomment-35825395",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12386",
    "id": 35825395,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1ODI1Mzk1",
    "user": {
      "login": "zslayton",
      "id": 611616,
      "node_id": "MDQ6VXNlcjYxMTYxNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/611616?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zslayton",
      "html_url": "https://github.com/zslayton",
      "followers_url": "https://api.github.com/users/zslayton/followers",
      "following_url": "https://api.github.com/users/zslayton/following{/other_user}",
      "gists_url": "https://api.github.com/users/zslayton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zslayton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zslayton/subscriptions",
      "organizations_url": "https://api.github.com/users/zslayton/orgs",
      "repos_url": "https://api.github.com/users/zslayton/repos",
      "events_url": "https://api.github.com/users/zslayton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zslayton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-02-23T06:59:07Z",
    "updated_at": "2014-02-23T07:00:24Z",
    "body": "@huonw Thanks, I'll do that.\n\nIn the meantime, I'm going to make a PR to convert the comments in mod.rs to plain `//` comments. Then we can close out this issue. \n\nIf I can make a minimal, reproducible example of the double-insert problem, I'll open a new issue so we can track it separately.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/35825395/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
