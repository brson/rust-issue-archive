{
  "url": "https://api.github.com/repos/rust-lang/rust/issues/26025",
  "repository_url": "https://api.github.com/repos/rust-lang/rust",
  "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/26025/labels{/name}",
  "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/26025/comments",
  "events_url": "https://api.github.com/repos/rust-lang/rust/issues/26025/events",
  "html_url": "https://github.com/rust-lang/rust/pull/26025",
  "id": 85400018,
  "node_id": "MDExOlB1bGxSZXF1ZXN0MzY5OTc5NDc=",
  "number": 26025,
  "title": "rustc: Update LLVM",
  "user": {
    "login": "alexcrichton",
    "id": 64996,
    "node_id": "MDQ6VXNlcjY0OTk2",
    "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/alexcrichton",
    "html_url": "https://github.com/alexcrichton",
    "followers_url": "https://api.github.com/users/alexcrichton/followers",
    "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
    "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
    "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
    "repos_url": "https://api.github.com/users/alexcrichton/repos",
    "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
    "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "labels": [],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "brson",
    "id": 147214,
    "node_id": "MDQ6VXNlcjE0NzIxNA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/brson",
    "html_url": "https://github.com/brson",
    "followers_url": "https://api.github.com/users/brson/followers",
    "following_url": "https://api.github.com/users/brson/following{/other_user}",
    "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
    "organizations_url": "https://api.github.com/users/brson/orgs",
    "repos_url": "https://api.github.com/users/brson/repos",
    "events_url": "https://api.github.com/users/brson/events{/privacy}",
    "received_events_url": "https://api.github.com/users/brson/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 47,
  "created_at": "2015-06-05T03:17:33Z",
  "updated_at": "2016-01-25T05:14:28Z",
  "closed_at": "2015-06-17T09:13:15Z",
  "author_association": "MEMBER",
  "type": null,
  "active_lock_reason": null,
  "draft": false,
  "pull_request": {
    "url": "https://api.github.com/repos/rust-lang/rust/pulls/26025",
    "html_url": "https://github.com/rust-lang/rust/pull/26025",
    "diff_url": "https://github.com/rust-lang/rust/pull/26025.diff",
    "patch_url": "https://github.com/rust-lang/rust/pull/26025.patch",
    "merged_at": "2015-06-17T09:13:15Z"
  },
  "body": "This commit updates the LLVM submodule in use to the current HEAD of the LLVM\nrepository. This is primarily being done to start picking up unwinding support\nfor MSVC, which is currently unimplemented in the revision of LLVM we are using.\nAlong the way a few changes had to be made:\n- As usual, lots of C++ debuginfo bindings in LLVM changed, so there were some\n  significant changes to our RustWrapper.cpp\n- As usual, some pass management changed in LLVM, so clang was re-scrutinized to\n  ensure that we're doing the same thing as clang.\n- Some optimization options are now passed directly into the\n  `PassManagerBuilder` instead of through CLI switches to LLVM.\n- The `NoFramePointerElim` option was removed from LLVM, favoring instead the\n  `no-frame-pointer-elim` function attribute instead.\n- The `LoopVectorize` option of the LLVM optimization passes has been disabled\n  as it causes a divide-by-zero exception to happen in LLVM for zero-sized\n  types. This is reported as https://llvm.org/bugs/show_bug.cgi?id=23763\n\nAdditionally, LLVM has picked up some new optimizations which required fixing an\nexisting soundness hole in the IR we generate. It appears that the current LLVM\nwe use does not expose this hole. When an enum is moved, the previous slot in\nmemory is overwritten with a bit pattern corresponding to \"dropped\". When the\ndrop glue for this slot is run, however, the switch on the discriminant can\noften start executing the `unreachable` block of the switch due to the\ndiscriminant now being outside the normal range. This was patched over locally\nfor now by having the `unreachable` block just change to a `ret void`.\n",
  "closed_by": {
    "login": "bors",
    "id": 3372342,
    "node_id": "MDQ6VXNlcjMzNzIzNDI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/bors",
    "html_url": "https://github.com/bors",
    "followers_url": "https://api.github.com/users/bors/followers",
    "following_url": "https://api.github.com/users/bors/following{/other_user}",
    "gists_url": "https://api.github.com/users/bors/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bors/subscriptions",
    "organizations_url": "https://api.github.com/users/bors/orgs",
    "repos_url": "https://api.github.com/users/bors/repos",
    "events_url": "https://api.github.com/users/bors/events{/privacy}",
    "received_events_url": "https://api.github.com/users/bors/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/26025/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/26025/timeline",
  "performed_via_github_app": null,
  "state_reason": null,
  "_meta": {
    "type": "pr"
  }
}
