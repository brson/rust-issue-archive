[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/163940366",
    "html_url": "https://github.com/rust-lang/rust/issues/30326#issuecomment-163940366",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30326",
    "id": 163940366,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2Mzk0MDM2Ng==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-12-11T13:49:34Z",
    "updated_at": "2015-12-11T13:49:52Z",
    "body": "cc @Kimundi \ncc #15701 \n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/163940366/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/166022254",
    "html_url": "https://github.com/rust-lang/rust/issues/30326#issuecomment-166022254",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30326",
    "id": 166022254,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2NjAyMjI1NA==",
    "user": {
      "login": "jonas-schievink",
      "id": 1786438,
      "node_id": "MDQ6VXNlcjE3ODY0Mzg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1786438?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonas-schievink",
      "html_url": "https://github.com/jonas-schievink",
      "followers_url": "https://api.github.com/users/jonas-schievink/followers",
      "following_url": "https://api.github.com/users/jonas-schievink/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonas-schievink/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonas-schievink/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonas-schievink/subscriptions",
      "organizations_url": "https://api.github.com/users/jonas-schievink/orgs",
      "repos_url": "https://api.github.com/users/jonas-schievink/repos",
      "events_url": "https://api.github.com/users/jonas-schievink/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonas-schievink/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-12-19T20:33:54Z",
    "updated_at": "2015-12-19T20:33:54Z",
    "body": "The issue is that built-in lints are emitted by storing lint messages in a map keyed by some `NodeId`. The lint pass then traverses each item using an `IdVisitor`, which walks an item (ignoring nested items) and invokes a callback for all `NodeId`s. The callback then emits the stored lint messages if the current level allows that. Since no lint attributes are processed while the `IdVisitor` is doing its thing, the levels aren't changed by attributes applied to things within an item.\n\nThis issue has existed before, since lint attributes on match arms are ignored as well.\n\nFixing this either requires some tuning of the `IdVisitor` (maybe refactor how it works altogether) or doing the `NodeId` stuff manually. Or change how built-in lints are handled. Not sure what's the best way to do this.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/166022254/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/166022693",
    "html_url": "https://github.com/rust-lang/rust/issues/30326#issuecomment-166022693",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30326",
    "id": 166022693,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2NjAyMjY5Mw==",
    "user": {
      "login": "fhahn",
      "id": 450489,
      "node_id": "MDQ6VXNlcjQ1MDQ4OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/450489?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fhahn",
      "html_url": "https://github.com/fhahn",
      "followers_url": "https://api.github.com/users/fhahn/followers",
      "following_url": "https://api.github.com/users/fhahn/following{/other_user}",
      "gists_url": "https://api.github.com/users/fhahn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fhahn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fhahn/subscriptions",
      "organizations_url": "https://api.github.com/users/fhahn/orgs",
      "repos_url": "https://api.github.com/users/fhahn/repos",
      "events_url": "https://api.github.com/users/fhahn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fhahn/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-12-19T20:44:43Z",
    "updated_at": "2015-12-19T20:44:43Z",
    "body": "I also had a look at this issue and I thought it could be solved by extending `Session.add_lint` to also take and store the lint attribute of the node. Then when actually emitting the lints, all neccessary information should be available.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/166022693/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/166031369",
    "html_url": "https://github.com/rust-lang/rust/issues/30326#issuecomment-166031369",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30326",
    "id": 166031369,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2NjAzMTM2OQ==",
    "user": {
      "login": "jonas-schievink",
      "id": 1786438,
      "node_id": "MDQ6VXNlcjE3ODY0Mzg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1786438?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonas-schievink",
      "html_url": "https://github.com/jonas-schievink",
      "followers_url": "https://api.github.com/users/jonas-schievink/followers",
      "following_url": "https://api.github.com/users/jonas-schievink/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonas-schievink/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonas-schievink/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonas-schievink/subscriptions",
      "organizations_url": "https://api.github.com/users/jonas-schievink/orgs",
      "repos_url": "https://api.github.com/users/jonas-schievink/repos",
      "events_url": "https://api.github.com/users/jonas-schievink/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonas-schievink/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-12-19T22:40:08Z",
    "updated_at": "2015-12-19T22:40:08Z",
    "body": "@fhahn You'd have to traverse parent blocks, since lint attributes could be defined on them, but then it could work. But at that point you'd be duplicating a lot of the logic of the lint contexts.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/166031369/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/294324113",
    "html_url": "https://github.com/rust-lang/rust/issues/30326#issuecomment-294324113",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/30326",
    "id": 294324113,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5NDMyNDExMw==",
    "user": {
      "login": "Mark-Simulacrum",
      "id": 5047365,
      "node_id": "MDQ6VXNlcjUwNDczNjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5047365?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Mark-Simulacrum",
      "html_url": "https://github.com/Mark-Simulacrum",
      "followers_url": "https://api.github.com/users/Mark-Simulacrum/followers",
      "following_url": "https://api.github.com/users/Mark-Simulacrum/following{/other_user}",
      "gists_url": "https://api.github.com/users/Mark-Simulacrum/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Mark-Simulacrum/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Mark-Simulacrum/subscriptions",
      "organizations_url": "https://api.github.com/users/Mark-Simulacrum/orgs",
      "repos_url": "https://api.github.com/users/Mark-Simulacrum/repos",
      "events_url": "https://api.github.com/users/Mark-Simulacrum/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Mark-Simulacrum/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-04-15T23:39:23Z",
    "updated_at": "2017-04-15T23:39:23Z",
    "body": "This appears to have been fixed as of `rustc 1.18.0-nightly (bbdaad0dc 2017-04-14)`. Output from the code sample in the top comment is empty (no lint warnings).",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/294324113/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
