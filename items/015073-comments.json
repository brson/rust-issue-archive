[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46750448",
    "html_url": "https://github.com/rust-lang/rust/issues/15073#issuecomment-46750448",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15073",
    "id": 46750448,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NzUwNDQ4",
    "user": {
      "login": "arjantop",
      "id": 52403,
      "node_id": "MDQ6VXNlcjUyNDAz",
      "avatar_url": "https://avatars.githubusercontent.com/u/52403?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/arjantop",
      "html_url": "https://github.com/arjantop",
      "followers_url": "https://api.github.com/users/arjantop/followers",
      "following_url": "https://api.github.com/users/arjantop/following{/other_user}",
      "gists_url": "https://api.github.com/users/arjantop/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/arjantop/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/arjantop/subscriptions",
      "organizations_url": "https://api.github.com/users/arjantop/orgs",
      "repos_url": "https://api.github.com/users/arjantop/repos",
      "events_url": "https://api.github.com/users/arjantop/events{/privacy}",
      "received_events_url": "https://api.github.com/users/arjantop/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-06-21T10:53:17Z",
    "updated_at": "2014-06-21T10:53:17Z",
    "body": "Forgot to iinclude error messages:\n\n```\n<anon>:16:5: 18:6 note: consider using an explicit lifetime parameter as shown: fn baz(&'a mut self)\n<anon>:16     fn baz(&mut self) {\n<anon>:17         let a = self.get();\n<anon>:18     }\n<anon>:17:17: 17:27 error: cannot infer an appropriate lifetime for autoref due to conflicting requirements\n<anon>:17         let a = self.get();\n```\n\nRust play: http://is.gd/T6MfZd\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46750448/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46758823",
    "html_url": "https://github.com/rust-lang/rust/issues/15073#issuecomment-46758823",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15073",
    "id": 46758823,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NzU4ODIz",
    "user": {
      "login": "arjantop",
      "id": 52403,
      "node_id": "MDQ6VXNlcjUyNDAz",
      "avatar_url": "https://avatars.githubusercontent.com/u/52403?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/arjantop",
      "html_url": "https://github.com/arjantop",
      "followers_url": "https://api.github.com/users/arjantop/followers",
      "following_url": "https://api.github.com/users/arjantop/following{/other_user}",
      "gists_url": "https://api.github.com/users/arjantop/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/arjantop/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/arjantop/subscriptions",
      "organizations_url": "https://api.github.com/users/arjantop/orgs",
      "repos_url": "https://api.github.com/users/arjantop/repos",
      "events_url": "https://api.github.com/users/arjantop/events{/privacy}",
      "received_events_url": "https://api.github.com/users/arjantop/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-06-21T16:56:28Z",
    "updated_at": "2014-06-21T16:56:28Z",
    "body": "As suggested on [reddit](http://www.reddit.com/r/rust/comments/28mzpv/nightly_lifetime_changes_problem/) it is actually possible to make this to work using a local lifetime parameter:\n\n```\nstruct Foo<'a> {\n    bar: &'a mut int\n}\n\ntrait Trait {\n    fn baz(&mut self);\n}\n\nimpl<'a> Foo<'a> {\n    fn get<'a>(&'a mut self) -> &'a mut int {\n        return &mut *self.bar\n    }\n}\n\nimpl<'a> Trait for Foo<'a> {\n    fn baz(&mut self) {\n        let a = self.get();\n    }\n}\n```\n\nThis still looks like a bug to me.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46758823/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46764144",
    "html_url": "https://github.com/rust-lang/rust/issues/15073#issuecomment-46764144",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15073",
    "id": 46764144,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NzY0MTQ0",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-06-21T20:37:43Z",
    "updated_at": "2014-06-21T20:37:43Z",
    "body": "cc @nikomatsakis, @nick29581 \n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46764144/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46778790",
    "html_url": "https://github.com/rust-lang/rust/issues/15073#issuecomment-46778790",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15073",
    "id": 46778790,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2Nzc4Nzkw",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-06-22T11:37:08Z",
    "updated_at": "2014-06-22T11:37:08Z",
    "body": "Hmm. I agree that this should work. I am not sure what would have caused it to change.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46778790/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46779265",
    "html_url": "https://github.com/rust-lang/rust/issues/15073#issuecomment-46779265",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15073",
    "id": 46779265,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2Nzc5MjY1",
    "user": {
      "login": "arjantop",
      "id": 52403,
      "node_id": "MDQ6VXNlcjUyNDAz",
      "avatar_url": "https://avatars.githubusercontent.com/u/52403?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/arjantop",
      "html_url": "https://github.com/arjantop",
      "followers_url": "https://api.github.com/users/arjantop/followers",
      "following_url": "https://api.github.com/users/arjantop/following{/other_user}",
      "gists_url": "https://api.github.com/users/arjantop/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/arjantop/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/arjantop/subscriptions",
      "organizations_url": "https://api.github.com/users/arjantop/orgs",
      "repos_url": "https://api.github.com/users/arjantop/repos",
      "events_url": "https://api.github.com/users/arjantop/events{/privacy}",
      "received_events_url": "https://api.github.com/users/arjantop/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-06-22T11:57:59Z",
    "updated_at": "2014-06-22T11:57:59Z",
    "body": "The timeframe is last ~5 days (last travis build), could give more accurete date but sadly rust-ci is not rebuilding daily again\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46779265/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46781774",
    "html_url": "https://github.com/rust-lang/rust/issues/15073#issuecomment-46781774",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15073",
    "id": 46781774,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NzgxNzc0",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-06-22T13:59:41Z",
    "updated_at": "2014-06-22T13:59:41Z",
    "body": "Actually, reading the example more closely, I don't think it should work and I'm a bit surprised that it did. The two functions in question are `&mut self`, which means that `self` has type `&mut Foo<'a>`. In that case, when `baz` invokes `foo`, `foo()` expects `&'X mut Foo<'X>` for some lifetime `'X`. At first I thought the methods were `&self`, not `&mut self`, in which case we could infer a shorter lifetime for `'X`. But because the methods `mut self`, the lifetime `'X` must match  _exactly_. Hence `'X` must be `'a`, and in that case `baz` is ill-typed.\n\nThis is an instance of the `&mut` being more conservative than might be desired: it stems from the ability to write `*p = ...` where `p` has type `&mut T`. This means that `p` is \"invariant\" -- in this case, that means the lifetimes must match _exactly_ with no approximation, which is stronger than what you _actually_ need in this example.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46781774/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46781813",
    "html_url": "https://github.com/rust-lang/rust/issues/15073#issuecomment-46781813",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15073",
    "id": 46781813,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NzgxODEz",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-06-22T14:01:18Z",
    "updated_at": "2014-06-22T14:01:18Z",
    "body": "Note that you can also rewrite `get` as follows:\n\n```\nfn get<'b>(&'b mut self) -> &'b mut int { ... }\n```\n\nin order to enable your trait example.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46781813/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46791188",
    "html_url": "https://github.com/rust-lang/rust/issues/15073#issuecomment-46791188",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15073",
    "id": 46791188,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NzkxMTg4",
    "user": {
      "login": "arjantop",
      "id": 52403,
      "node_id": "MDQ6VXNlcjUyNDAz",
      "avatar_url": "https://avatars.githubusercontent.com/u/52403?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/arjantop",
      "html_url": "https://github.com/arjantop",
      "followers_url": "https://api.github.com/users/arjantop/followers",
      "following_url": "https://api.github.com/users/arjantop/following{/other_user}",
      "gists_url": "https://api.github.com/users/arjantop/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/arjantop/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/arjantop/subscriptions",
      "organizations_url": "https://api.github.com/users/arjantop/orgs",
      "repos_url": "https://api.github.com/users/arjantop/repos",
      "events_url": "https://api.github.com/users/arjantop/events{/privacy}",
      "received_events_url": "https://api.github.com/users/arjantop/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-06-22T20:04:16Z",
    "updated_at": "2014-06-22T20:04:16Z",
    "body": "Ah, it make sense now. I was expecting that it could figure out that the lifetimes are actually the same.\n\nShould this get a test?\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46791188/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/71277268",
    "html_url": "https://github.com/rust-lang/rust/issues/15073#issuecomment-71277268",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15073",
    "id": 71277268,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxMjc3MjY4",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-23T22:26:56Z",
    "updated_at": "2015-01-23T22:26:56Z",
    "body": "Since this is expected behavior, I'm giving it a close.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/71277268/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
