[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3805777",
    "html_url": "https://github.com/rust-lang/rust/issues/1722#issuecomment-3805777",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/1722",
    "id": 3805777,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MDU3Nzc=",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-02-03T22:37:37Z",
    "updated_at": "2012-02-03T22:37:37Z",
    "body": "@ssylvan - We've made some simplications and fixes to the scheduler. I cannot reproduce the deadlock on the bots today after a few hours of trying. Can you still reproduce the hang?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3805777/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3805804",
    "html_url": "https://github.com/rust-lang/rust/issues/1722#issuecomment-3805804",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/1722",
    "id": 3805804,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MDU4MDQ=",
    "user": {
      "login": "ssylvan",
      "id": 1365415,
      "node_id": "MDQ6VXNlcjEzNjU0MTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1365415?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ssylvan",
      "html_url": "https://github.com/ssylvan",
      "followers_url": "https://api.github.com/users/ssylvan/followers",
      "following_url": "https://api.github.com/users/ssylvan/following{/other_user}",
      "gists_url": "https://api.github.com/users/ssylvan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ssylvan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ssylvan/subscriptions",
      "organizations_url": "https://api.github.com/users/ssylvan/orgs",
      "repos_url": "https://api.github.com/users/ssylvan/repos",
      "events_url": "https://api.github.com/users/ssylvan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ssylvan/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-02-03T22:39:59Z",
    "updated_at": "2012-02-03T22:39:59Z",
    "body": "Is there a windows binary somewhere? I don't have a windows dev environment set up.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3805804/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3806295",
    "html_url": "https://github.com/rust-lang/rust/issues/1722#issuecomment-3806295",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/1722",
    "id": 3806295,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MDYyOTU=",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-02-03T23:24:05Z",
    "updated_at": "2012-02-03T23:24:05Z",
    "body": "@ssylvan - http://dl.rust-lang.org.s3.amazonaws.com/dist/rust-0.1.1-install.exe \n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3806295/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3807677",
    "html_url": "https://github.com/rust-lang/rust/issues/1722#issuecomment-3807677",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/1722",
    "id": 3807677,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MDc2Nzc=",
    "user": {
      "login": "ssylvan",
      "id": 1365415,
      "node_id": "MDQ6VXNlcjEzNjU0MTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1365415?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ssylvan",
      "html_url": "https://github.com/ssylvan",
      "followers_url": "https://api.github.com/users/ssylvan/followers",
      "following_url": "https://api.github.com/users/ssylvan/following{/other_user}",
      "gists_url": "https://api.github.com/users/ssylvan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ssylvan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ssylvan/subscriptions",
      "organizations_url": "https://api.github.com/users/ssylvan/orgs",
      "repos_url": "https://api.github.com/users/ssylvan/repos",
      "events_url": "https://api.github.com/users/ssylvan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ssylvan/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-02-04T02:22:54Z",
    "updated_at": "2012-02-04T02:22:54Z",
    "body": "Sorry, still hangs. Doesn't appear to be any user-mode code running, it's completely deadlocked.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3807677/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3807699",
    "html_url": "https://github.com/rust-lang/rust/issues/1722#issuecomment-3807699",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/1722",
    "id": 3807699,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MDc2OTk=",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-02-04T02:26:22Z",
    "updated_at": "2012-02-04T02:26:22Z",
    "body": "ok. thanks for all your help, ssylvan!\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3807699/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3807753",
    "html_url": "https://github.com/rust-lang/rust/issues/1722#issuecomment-3807753",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/1722",
    "id": 3807753,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MDc3NTM=",
    "user": {
      "login": "graydon",
      "id": 14097,
      "node_id": "MDQ6VXNlcjE0MDk3",
      "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/graydon",
      "html_url": "https://github.com/graydon",
      "followers_url": "https://api.github.com/users/graydon/followers",
      "following_url": "https://api.github.com/users/graydon/following{/other_user}",
      "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/graydon/subscriptions",
      "organizations_url": "https://api.github.com/users/graydon/orgs",
      "repos_url": "https://api.github.com/users/graydon/repos",
      "events_url": "https://api.github.com/users/graydon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/graydon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-02-04T02:37:32Z",
    "updated_at": "2012-02-04T02:37:32Z",
    "body": "@ssylvan can I ask for some diagnostic information from your machine? For example: OS version, core count, mingw version, etc? Something like the short text report from hwinfo or the advanced system info panel in windows?\n\nAdditionally, could you try attaching to it with `gdb --pid <pid>` and getting backtraces on the locked threads?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3807753/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3807814",
    "html_url": "https://github.com/rust-lang/rust/issues/1722#issuecomment-3807814",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/1722",
    "id": 3807814,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MDc4MTQ=",
    "user": {
      "login": "ssylvan",
      "id": 1365415,
      "node_id": "MDQ6VXNlcjEzNjU0MTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1365415?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ssylvan",
      "html_url": "https://github.com/ssylvan",
      "followers_url": "https://api.github.com/users/ssylvan/followers",
      "following_url": "https://api.github.com/users/ssylvan/following{/other_user}",
      "gists_url": "https://api.github.com/users/ssylvan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ssylvan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ssylvan/subscriptions",
      "organizations_url": "https://api.github.com/users/ssylvan/orgs",
      "repos_url": "https://api.github.com/users/ssylvan/repos",
      "events_url": "https://api.github.com/users/ssylvan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ssylvan/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-02-04T02:53:43Z",
    "updated_at": "2012-02-04T02:54:50Z",
    "body": "Sure. I run Windows 7 Professional SP1. Core i7 2600K (4 cores, 8 threads).\n\nI did just remembered that I have msys installed, so I opened up the msys batch file (which I guess approximates a bash terminal?), and ran rustc from there and it worked fine! EDIT: so to clarify, it hangs when you just run rustc.exe normally, but if I do it through msys.bat it seems to work ENDEDIT.\n\nI haven't used gdb before, but here's the log of me attempting to get the back traces from all running threads from the hung rustc.exe (just run through the normal windows command prompt):\n\nC:\\Users\\Sebastian\\Documents\\rust>gdb --pid 14584\nGNU gdb (GDB) 7.3.1\nCopyright (C) 2011 Free Software Foundation, Inc.\nLicense GPLv3+: GNU GPL version 3 or later http://gnu.org/licenses/gpl.html\nThis is free software: you are free to change and redistribute it.\nThere is NO WARRANTY, to the extent permitted by law.  Type \"show copying\"\nand \"show warranty\" for details.\nThis GDB was configured as \"mingw32\".\nFor bug reporting instructions, please see:\nhttp://www.gnu.org/software/gdb/bugs/.\nAttaching to process 14584\n[New Thread 14584.0x4a98]\n[New Thread 14584.0x2920]\n[New Thread 14584.0x2880]\n[New Thread 14584.0x3570]\n[New Thread 14584.0x1a84]\n[New Thread 14584.0x3e94]\n[New Thread 14584.0xd00]\n[New Thread 14584.0x3974]\n[New Thread 14584.0x3c64]\n[New Thread 14584.0x3618]\nReading symbols from c:\\program files (x86)\\rust\\bin\\rustc.exe...(no debugging s\nymbols found)...done.\n[Switching to Thread 14584.0x3618](gdb) info threads\n  Id   Target Id         Frame\n- 10   Thread 14584.0x3618 0x775f000d in ntdll!LdrFindResource_U ()\n  from C:\\Windows\\SysWOW64\\ntdll.dll\n  9    Thread 14584.0x3c64 0x775ff8b1 in ntdll!RtlUpdateClonedSRWLock ()\n  from C:\\Windows\\SysWOW64\\ntdll.dll\n  8    Thread 14584.0x3974 0x775ff8b1 in ntdll!RtlUpdateClonedSRWLock ()\n  from C:\\Windows\\SysWOW64\\ntdll.dll\n  7    Thread 14584.0xd00 0x775ff8b1 in ntdll!RtlUpdateClonedSRWLock ()\n  from C:\\Windows\\SysWOW64\\ntdll.dll\n  6    Thread 14584.0x3e94 0x775ff8b1 in ntdll!RtlUpdateClonedSRWLock ()\n  from C:\\Windows\\SysWOW64\\ntdll.dll\n  5    Thread 14584.0x1a84 0x775ff8b1 in ntdll!RtlUpdateClonedSRWLock ()\n  from C:\\Windows\\SysWOW64\\ntdll.dll\n  4    Thread 14584.0x3570 0x775ff8b1 in ntdll!RtlUpdateClonedSRWLock ()\n  from C:\\Windows\\SysWOW64\\ntdll.dll\n  3    Thread 14584.0x2880 0x775ff8b1 in ntdll!RtlUpdateClonedSRWLock ()\n  from C:\\Windows\\SysWOW64\\ntdll.dll\n  2    Thread 14584.0x2920 0x775ff8b1 in ntdll!RtlUpdateClonedSRWLock ()\n  from C:\\Windows\\SysWOW64\\ntdll.dll\n  1    Thread 14584.0x4a98 0x775ff8b1 in ntdll!RtlUpdateClonedSRWLock ()\n  from C:\\Windows\\SysWOW64\\ntdll.dll\n  (gdb) bt full\n  #0  0x775f000d in ntdll!LdrFindResource_U ()\n  from C:\\Windows\\SysWOW64\\ntdll.dll\n  No symbol table info available.\n  #1  0x7767f896 in ntdll!RtlQueryTimeZoneInformation ()\n  from C:\\Windows\\SysWOW64\\ntdll.dll\n  No symbol table info available.\n  #2  0x6eac6ae1 in ?? ()\n  No symbol table info available.\n  #3  0x00000000 in ?? ()\n  No symbol table info available.\n  (gdb) thread 9\n  [Switching to thread 9 (Thread 14584.0x3c64)]\n  #0  0x775ff8b1 in ntdll!RtlUpdateClonedSRWLock ()\n  from C:\\Windows\\SysWOW64\\ntdll.dll\n  (gdb) bt full\n  #0  0x775ff8b1 in ntdll!RtlUpdateClonedSRWLock ()\n  from C:\\Windows\\SysWOW64\\ntdll.dll\n  No symbol table info available.\n  #1  0x775ff8b1 in ntdll!RtlUpdateClonedSRWLock ()\n  from C:\\Windows\\SysWOW64\\ntdll.dll\n  No symbol table info available.\n  #2  0x75460a91 in WaitForSingleObjectEx ()\n  from C:\\Windows\\syswow64\\KernelBase.dll\n  No symbol table info available.\n  warning: (Internal error: pc 0xdf in read in psymtab, but not in symtab.)\n\nwarning: (Internal error: pc 0xdf in read in psymtab, but not in symtab.)\n\n#3  0x000000e0 in ?? ()\nwarning: (Internal error: pc 0xdf in read in psymtab, but not in symtab.)\n\nNo symbol table info available.\nwarning: (Internal error: pc 0xdf in read in psymtab, but not in symtab.)\n\n#4  0x00000000 in ?? ()\nNo symbol table info available.\n(gdb) thread 8\n[Switching to thread 8 (Thread 14584.0x3974)]\n#0  0x775ff8b1 in ntdll!RtlUpdateClonedSRWLock ()\n   from C:\\Windows\\SysWOW64\\ntdll.dll\n(gdb) bt full\n#0  0x775ff8b1 in ntdll!RtlUpdateClonedSRWLock ()\n   from C:\\Windows\\SysWOW64\\ntdll.dll\nNo symbol table info available.\n#1  0x775ff8b1 in ntdll!RtlUpdateClonedSRWLock ()\n   from C:\\Windows\\SysWOW64\\ntdll.dll\nNo symbol table info available.\n#2  0x75460a91 in WaitForSingleObjectEx ()\n   from C:\\Windows\\syswow64\\KernelBase.dll\nNo symbol table info available.\nwarning: (Internal error: pc 0xd7 in read in psymtab, but not in symtab.)\n\nwarning: (Internal error: pc 0xd7 in read in psymtab, but not in symtab.)\n\nwarning: (Internal error: pc 0xd7 in read in psymtab, but not in symtab.)\n\n#3  0x000000d8 in ?? ()\nwarning: (Internal error: pc 0xd7 in read in psymtab, but not in symtab.)\n\nNo symbol table info available.\nwarning: (Internal error: pc 0xd7 in read in psymtab, but not in symtab.)\n\n#4  0x00000000 in ?? ()\nNo symbol table info available.\n(gdb) thread 7\n[Switching to thread 7 (Thread 14584.0xd00)]\n#0  0x775ff8b1 in ntdll!RtlUpdateClonedSRWLock ()\n   from C:\\Windows\\SysWOW64\\ntdll.dll\n(gdb) bt full\n#0  0x775ff8b1 in ntdll!RtlUpdateClonedSRWLock ()\n   from C:\\Windows\\SysWOW64\\ntdll.dll\nNo symbol table info available.\n#1  0x775ff8b1 in ntdll!RtlUpdateClonedSRWLock ()\n   from C:\\Windows\\SysWOW64\\ntdll.dll\nNo symbol table info available.\n#2  0x75460a91 in WaitForSingleObjectEx ()\n   from C:\\Windows\\syswow64\\KernelBase.dll\nNo symbol table info available.\nwarning: (Internal error: pc 0xcf in read in psymtab, but not in symtab.)\n\nwarning: (Internal error: pc 0xcf in read in psymtab, but not in symtab.)\n\nwarning: (Internal error: pc 0xcf in read in psymtab, but not in symtab.)\n\n#3  0x000000d0 in ?? ()\nwarning: (Internal error: pc 0xcf in read in psymtab, but not in symtab.)\n\nNo symbol table info available.\nwarning: (Internal error: pc 0xcf in read in psymtab, but not in symtab.)\n\n#4  0x00000000 in ?? ()\nNo symbol table info available.\n(gdb) thread 6\n[Switching to thread 6 (Thread 14584.0x3e94)]\n#0  0x775ff8b1 in ntdll!RtlUpdateClonedSRWLock ()\n   from C:\\Windows\\SysWOW64\\ntdll.dll\n(gdb) bt full\n#0  0x775ff8b1 in ntdll!RtlUpdateClonedSRWLock ()\n   from C:\\Windows\\SysWOW64\\ntdll.dll\nNo symbol table info available.\n#1  0x775ff8b1 in ntdll!RtlUpdateClonedSRWLock ()\n   from C:\\Windows\\SysWOW64\\ntdll.dll\nNo symbol table info available.\n#2  0x75460a91 in WaitForSingleObjectEx ()\n   from C:\\Windows\\syswow64\\KernelBase.dll\nNo symbol table info available.\nwarning: (Internal error: pc 0xc7 in read in psymtab, but not in symtab.)\n\nwarning: (Internal error: pc 0xc7 in read in psymtab, but not in symtab.)\n\nwarning: (Internal error: pc 0xc7 in read in psymtab, but not in symtab.)\n\n#3  0x000000c8 in ?? ()\nwarning: (Internal error: pc 0xc7 in read in psymtab, but not in symtab.)\n\nNo symbol table info available.\nwarning: (Internal error: pc 0xc7 in read in psymtab, but not in symtab.)\n\n#4  0x00000000 in ?? ()\nNo symbol table info available.\n(gdb) thread 5 bt full\nA syntax error in expression, near `bt full'.\n(gdb) thread 5\n[Switching to thread 5 (Thread 14584.0x1a84)]\n#0  0x775ff8b1 in ntdll!RtlUpdateClonedSRWLock ()\n   from C:\\Windows\\SysWOW64\\ntdll.dll\n(gdb) bt full\n#0  0x775ff8b1 in ntdll!RtlUpdateClonedSRWLock ()\n   from C:\\Windows\\SysWOW64\\ntdll.dll\nNo symbol table info available.\n#1  0x775ff8b1 in ntdll!RtlUpdateClonedSRWLock ()\n   from C:\\Windows\\SysWOW64\\ntdll.dll\nNo symbol table info available.\n#2  0x75460a91 in WaitForSingleObjectEx ()\n   from C:\\Windows\\syswow64\\KernelBase.dll\nNo symbol table info available.\nwarning: (Internal error: pc 0xbf in read in psymtab, but not in symtab.)\n\nwarning: (Internal error: pc 0xbf in read in psymtab, but not in symtab.)\n\nwarning: (Internal error: pc 0xbf in read in psymtab, but not in symtab.)\n\n#3  0x000000c0 in ?? ()\nwarning: (Internal error: pc 0xbf in read in psymtab, but not in symtab.)\n\nNo symbol table info available.\nwarning: (Internal error: pc 0xbf in read in psymtab, but not in symtab.)\n\n#4  0x00000000 in ?? ()\nNo symbol table info available.\n(gdb) thread 4\n[Switching to thread 4 (Thread 14584.0x3570)]\n#0  0x775ff8b1 in ntdll!RtlUpdateClonedSRWLock ()\n   from C:\\Windows\\SysWOW64\\ntdll.dll\n(gdb) bt full\n#0  0x775ff8b1 in ntdll!RtlUpdateClonedSRWLock ()\n   from C:\\Windows\\SysWOW64\\ntdll.dll\nNo symbol table info available.\n#1  0x775ff8b1 in ntdll!RtlUpdateClonedSRWLock ()\n   from C:\\Windows\\SysWOW64\\ntdll.dll\nNo symbol table info available.\n#2  0x75460a91 in WaitForSingleObjectEx ()\n   from C:\\Windows\\syswow64\\KernelBase.dll\nNo symbol table info available.\n#3  0xffffffff in ?? ()\nNo symbol table info available.\n#4  0x00000000 in ?? ()\nNo symbol table info available.\n(gdb) thread 3\n[Switching to thread 3 (Thread 14584.0x2880)]\n#0  0x775ff8b1 in ntdll!RtlUpdateClonedSRWLock ()\n   from C:\\Windows\\SysWOW64\\ntdll.dll\n(gdb) bt full\n#0  0x775ff8b1 in ntdll!RtlUpdateClonedSRWLock ()\n   from C:\\Windows\\SysWOW64\\ntdll.dll\nNo symbol table info available.\n#1  0x775ff8b1 in ntdll!RtlUpdateClonedSRWLock ()\n   from C:\\Windows\\SysWOW64\\ntdll.dll\nNo symbol table info available.\n#2  0x75460a91 in WaitForSingleObjectEx ()\n   from C:\\Windows\\syswow64\\KernelBase.dll\nNo symbol table info available.\nwarning: (Internal error: pc 0xaf in read in psymtab, but not in symtab.)\n\nwarning: (Internal error: pc 0xaf in read in psymtab, but not in symtab.)\n\nwarning: (Internal error: pc 0xaf in read in psymtab, but not in symtab.)\n\n#3  0x000000b0 in ?? ()\nwarning: (Internal error: pc 0xaf in read in psymtab, but not in symtab.)\n\nNo symbol table info available.\nwarning: (Internal error: pc 0xaf in read in psymtab, but not in symtab.)\n\n#4  0x00000000 in ?? ()\nNo symbol table info available.\n(gdb) thread 2\n[Switching to thread 2 (Thread 14584.0x2920)]\n#0  0x775ff8b1 in ntdll!RtlUpdateClonedSRWLock ()\n   from C:\\Windows\\SysWOW64\\ntdll.dll\n(gdb) bt full\n#0  0x775ff8b1 in ntdll!RtlUpdateClonedSRWLock ()\n   from C:\\Windows\\SysWOW64\\ntdll.dll\nNo symbol table info available.\n#1  0x775ff8b1 in ntdll!RtlUpdateClonedSRWLock ()\n   from C:\\Windows\\SysWOW64\\ntdll.dll\nNo symbol table info available.\n#2  0x75460a91 in WaitForSingleObjectEx ()\n   from C:\\Windows\\syswow64\\KernelBase.dll\nNo symbol table info available.\nwarning: (Internal error: pc 0xa3 in read in psymtab, but not in symtab.)\n\nwarning: (Internal error: pc 0xa3 in read in psymtab, but not in symtab.)\n\n#3  0x000000a4 in ?? ()\nwarning: (Internal error: pc 0xa3 in read in psymtab, but not in symtab.)\n\nNo symbol table info available.\nwarning: (Internal error: pc 0xa3 in read in psymtab, but not in symtab.)\n\n#4  0x00000000 in ?? ()\nNo symbol table info available.\n(gdb) thread 1\n[Switching to thread 1 (Thread 14584.0x4a98)]\n#0  0x775ff8b1 in ntdll!RtlUpdateClonedSRWLock ()\n   from C:\\Windows\\SysWOW64\\ntdll.dll\n(gdb) bt full\n#0  0x775ff8b1 in ntdll!RtlUpdateClonedSRWLock ()\n   from C:\\Windows\\SysWOW64\\ntdll.dll\nNo symbol table info available.\n#1  0x775ff8b1 in ntdll!RtlUpdateClonedSRWLock ()\n   from C:\\Windows\\SysWOW64\\ntdll.dll\nNo symbol table info available.\n#2  0x75460a91 in WaitForSingleObjectEx ()\n   from C:\\Windows\\syswow64\\KernelBase.dll\nNo symbol table info available.\nwarning: (Internal error: pc 0xeb in read in psymtab, but not in symtab.)\n\nwarning: (Internal error: pc 0xeb in read in psymtab, but not in symtab.)\n\nwarning: (Internal error: pc 0xeb in read in psymtab, but not in symtab.)\n\n#3  0x000000ec in ?? ()\nwarning: (Internal error: pc 0xeb in read in psymtab, but not in symtab.)\n\nNo symbol table info available.\nwarning: (Internal error: pc 0xeb in read in psymtab, but not in symtab.)\n\n#4  0x00000000 in ?? ()\nNo symbol table info available.\n(gdb)\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3807814/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3807899",
    "html_url": "https://github.com/rust-lang/rust/issues/1722#issuecomment-3807899",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/1722",
    "id": 3807899,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MDc4OTk=",
    "user": {
      "login": "ssylvan",
      "id": 1365415,
      "node_id": "MDQ6VXNlcjEzNjU0MTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1365415?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ssylvan",
      "html_url": "https://github.com/ssylvan",
      "followers_url": "https://api.github.com/users/ssylvan/followers",
      "following_url": "https://api.github.com/users/ssylvan/following{/other_user}",
      "gists_url": "https://api.github.com/users/ssylvan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ssylvan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ssylvan/subscriptions",
      "organizations_url": "https://api.github.com/users/ssylvan/orgs",
      "repos_url": "https://api.github.com/users/ssylvan/repos",
      "events_url": "https://api.github.com/users/ssylvan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ssylvan/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-02-04T03:12:03Z",
    "updated_at": "2012-02-04T03:13:36Z",
    "body": "More information (I know what's wrong, and have a workaround)! I logged all the system events for the running application, and it turns out that rustc.exe is attempting to run a bunch of stuff that isn't actually installed by the rust installer. It happens to find e.g. gcc.exe on my system, but that's because I randomly had mingw installed. That's not guaranteed to be the case.\n\nMore importantly in my case, it tries to find rm.exe and fails, just before the process stops completely. rm.exe is not on the default mingw bin path (but is in a different path, which is included by msys.bat). Adding my c:\\MinGW\\msys\\1.0\\bin path to the system path makes it find rm.exe and the problem goes away.\n\nRepeat: everything now works, I just had to manually make sure rm.exe was in my path.\n\nIt would be better if these things used system APIs to handle files instead of trying to call unix utillities in windows...\n\nI've saved a log of the system events so you can see what's going on (with stack traces for each event). It's almost 8MB, so be careful what application you open it in... it can take a while to parse :-)\n\nhttps://skydrive.live.com/redir.aspx?cid=00108ea783f4fa32&resid=108EA783F4FA32!351&parid=108EA783F4FA32!130\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3807899/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3808106",
    "html_url": "https://github.com/rust-lang/rust/issues/1722#issuecomment-3808106",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/1722",
    "id": 3808106,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MDgxMDY=",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-02-04T04:09:08Z",
    "updated_at": "2012-02-04T04:09:08Z",
    "body": "I wonder why this manifested as hanging instead of failure.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3808106/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3837143",
    "html_url": "https://github.com/rust-lang/rust/issues/1722#issuecomment-3837143",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/1722",
    "id": 3837143,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MzcxNDM=",
    "user": {
      "login": "graydon",
      "id": 14097,
      "node_id": "MDQ6VXNlcjE0MDk3",
      "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/graydon",
      "html_url": "https://github.com/graydon",
      "followers_url": "https://api.github.com/users/graydon/followers",
      "following_url": "https://api.github.com/users/graydon/following{/other_user}",
      "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/graydon/subscriptions",
      "organizations_url": "https://api.github.com/users/graydon/orgs",
      "repos_url": "https://api.github.com/users/graydon/repos",
      "events_url": "https://api.github.com/users/graydon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/graydon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-02-06T21:19:59Z",
    "updated_at": "2012-02-06T21:19:59Z",
    "body": "Ok. Great. I concur we should get away from calling unix utilities as subprocesses. We've been developing on mingw and in the longer term need to switch over to msvc. But this is quite different from a \"threads all hang\" situation. I'm comfortable closing this and opening a new one for \"don't rely on mingw\" or such.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3837143/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3837863",
    "html_url": "https://github.com/rust-lang/rust/issues/1722#issuecomment-3837863",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/1722",
    "id": 3837863,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4Mzc4NjM=",
    "user": {
      "login": "graydon",
      "id": 14097,
      "node_id": "MDQ6VXNlcjE0MDk3",
      "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/graydon",
      "html_url": "https://github.com/graydon",
      "followers_url": "https://api.github.com/users/graydon/followers",
      "following_url": "https://api.github.com/users/graydon/following{/other_user}",
      "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/graydon/subscriptions",
      "organizations_url": "https://api.github.com/users/graydon/orgs",
      "repos_url": "https://api.github.com/users/graydon/repos",
      "events_url": "https://api.github.com/users/graydon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/graydon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-02-06T22:00:10Z",
    "updated_at": "2012-02-06T22:00:10Z",
    "body": "Filed as #1768 , closing this one.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3837863/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3843631",
    "html_url": "https://github.com/rust-lang/rust/issues/1722#issuecomment-3843631",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/1722",
    "id": 3843631,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4NDM2MzE=",
    "user": {
      "login": "ssylvan",
      "id": 1365415,
      "node_id": "MDQ6VXNlcjEzNjU0MTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1365415?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ssylvan",
      "html_url": "https://github.com/ssylvan",
      "followers_url": "https://api.github.com/users/ssylvan/followers",
      "following_url": "https://api.github.com/users/ssylvan/following{/other_user}",
      "gists_url": "https://api.github.com/users/ssylvan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ssylvan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ssylvan/subscriptions",
      "organizations_url": "https://api.github.com/users/ssylvan/orgs",
      "repos_url": "https://api.github.com/users/ssylvan/repos",
      "events_url": "https://api.github.com/users/ssylvan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ssylvan/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-02-07T07:07:37Z",
    "updated_at": "2012-02-07T07:07:37Z",
    "body": "Shouldn't it at least not hang when it can't find the tool? Should the installer check for all the tools it needs (or install them)? I can imagine lots of people hitting this on windows.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3843631/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3857060",
    "html_url": "https://github.com/rust-lang/rust/issues/1722#issuecomment-3857060",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/1722",
    "id": 3857060,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4NTcwNjA=",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-02-07T21:26:49Z",
    "updated_at": "2012-02-07T21:28:17Z",
    "body": "I agree that there appears to be another underlying problem here besides depending on a toolchain that isn't installed. Something somewhere in the process spawn path must not be doing proper error checks. I opened another bug for it (#1778)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3857060/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
