[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/44907253",
    "html_url": "https://github.com/rust-lang/rust/issues/14615#issuecomment-44907253",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14615",
    "id": 44907253,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0OTA3MjUz",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-06-03T00:25:42Z",
    "updated_at": "2014-06-03T00:25:42Z",
    "body": "+1\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/44907253/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/44907988",
    "html_url": "https://github.com/rust-lang/rust/issues/14615#issuecomment-44907988",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14615",
    "id": 44907988,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0OTA3OTg4",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-06-03T00:38:10Z",
    "updated_at": "2014-06-03T00:38:10Z",
    "body": "I think that each derivation can emit a more specific warning when it handles a raw pointer in a possibly unexpected way (for example, Eq or Ord can say \"ignoring raw pointer field\"\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/44907988/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/44915499",
    "html_url": "https://github.com/rust-lang/rust/issues/14615#issuecomment-44915499",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14615",
    "id": 44915499,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0OTE1NDk5",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-06-03T03:07:31Z",
    "updated_at": "2014-06-03T03:07:59Z",
    "body": "I'm not in favour of removing it... how many instances of `#[deriving]` with a raw pointer give the desired implementation? In any case, I would think the lint should be hit rather rarely.\n\nAlso, this _is_ a safety problem, e.g. a derived `Clone` can duplicate a pointer without duplicating the allocation, leading to use-after-free and/or double frees (the code example in #13032 demonstrates this). Most \"interesting\" smart pointers (i.e. not just simulating a shared `&` reference) will be incorrect with a derived `Clone`.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/44915499/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/71391241",
    "html_url": "https://github.com/rust-lang/rust/issues/14615#issuecomment-71391241",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14615",
    "id": 71391241,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxMzkxMjQx",
    "user": {
      "login": "frewsxcv",
      "id": 416575,
      "node_id": "MDQ6VXNlcjQxNjU3NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/416575?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/frewsxcv",
      "html_url": "https://github.com/frewsxcv",
      "followers_url": "https://api.github.com/users/frewsxcv/followers",
      "following_url": "https://api.github.com/users/frewsxcv/following{/other_user}",
      "gists_url": "https://api.github.com/users/frewsxcv/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/frewsxcv/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/frewsxcv/subscriptions",
      "organizations_url": "https://api.github.com/users/frewsxcv/orgs",
      "repos_url": "https://api.github.com/users/frewsxcv/repos",
      "events_url": "https://api.github.com/users/frewsxcv/events{/privacy}",
      "received_events_url": "https://api.github.com/users/frewsxcv/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-25T20:24:15Z",
    "updated_at": "2015-01-25T20:24:15Z",
    "body": "Worth pointing out that `raw_pointer_deriving` was recently renamed to `raw_pointer_derive` https://github.com/rust-lang/rust/pull/20511\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/71391241/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/74389189",
    "html_url": "https://github.com/rust-lang/rust/issues/14615#issuecomment-74389189",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14615",
    "id": 74389189,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc0Mzg5MTg5",
    "user": {
      "login": "kmcallister",
      "id": 444997,
      "node_id": "MDQ6VXNlcjQ0NDk5Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/444997?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kmcallister",
      "html_url": "https://github.com/kmcallister",
      "followers_url": "https://api.github.com/users/kmcallister/followers",
      "following_url": "https://api.github.com/users/kmcallister/following{/other_user}",
      "gists_url": "https://api.github.com/users/kmcallister/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kmcallister/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kmcallister/subscriptions",
      "organizations_url": "https://api.github.com/users/kmcallister/orgs",
      "repos_url": "https://api.github.com/users/kmcallister/repos",
      "events_url": "https://api.github.com/users/kmcallister/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kmcallister/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-02-14T19:46:38Z",
    "updated_at": "2015-02-14T19:47:11Z",
    "body": "> I'm not in favour of removing it... how many instances of `#[deriving]` with a raw pointer give the desired implementation?\n\nMost of them, if you understand raw pointers to be plain old data.  For example, a struct which wraps an FFI object could `#[derive(PartialEq, Eq, PartialOrd, Ord, Hash)]` to be usable as a collection key.  We treat the raw pointer as an opaque ID for the FFI object.  Of course, `Eq` won't compare the structural fields behind that pointer (which are defined in foreign code anyway), and the ID is only unique over _currently-existing_ objects, i.e. addresses can be reused.  Anyone using raw pointers should already understand this.  If someone is badly confused about what raw pointers are, and derives `Eq` expecting structural equality, then I don't think this lint will help them much anyway.\n\n> I would think the lint should be hit rather rarely.\n\nPeople hit it all the time and get confused on IRC because it's warning them that they're getting exactly the behavior they expect.  We have the lint disabled in 5 Servo modules, as well.\n\n> Eq or Ord can say \"ignoring raw pointer field\"\n\nBut they aren't ignored, they're just treated as plain old data, which (to me anyway) is the only thing you might possibly expect.  People should know that raw pointers may be NULL, may point to structures whose layout/size is not known in Rust, and can't be dereferenced willy-nilly from safe code.  If you're confused on that then you need to read the unsafe programming chapter, not a single lint message.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/74389189/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/157722444",
    "html_url": "https://github.com/rust-lang/rust/issues/14615#issuecomment-157722444",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14615",
    "id": 157722444,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1NzcyMjQ0NA==",
    "user": {
      "login": "tbu-",
      "id": 6666593,
      "node_id": "MDQ6VXNlcjY2NjY1OTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6666593?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tbu-",
      "html_url": "https://github.com/tbu-",
      "followers_url": "https://api.github.com/users/tbu-/followers",
      "following_url": "https://api.github.com/users/tbu-/following{/other_user}",
      "gists_url": "https://api.github.com/users/tbu-/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tbu-/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tbu-/subscriptions",
      "organizations_url": "https://api.github.com/users/tbu-/orgs",
      "repos_url": "https://api.github.com/users/tbu-/repos",
      "events_url": "https://api.github.com/users/tbu-/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tbu-/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-11-18T14:04:54Z",
    "updated_at": "2015-11-18T14:04:54Z",
    "body": "`#[deriving(Clone)]` on raw pointers is probably an error though. If there's an object coupled to it, this will likely lead to use after free.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/157722444/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/157727199",
    "html_url": "https://github.com/rust-lang/rust/issues/14615#issuecomment-157727199",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14615",
    "id": 157727199,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1NzcyNzE5OQ==",
    "user": {
      "login": "tbu-",
      "id": 6666593,
      "node_id": "MDQ6VXNlcjY2NjY1OTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6666593?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tbu-",
      "html_url": "https://github.com/tbu-",
      "followers_url": "https://api.github.com/users/tbu-/followers",
      "following_url": "https://api.github.com/users/tbu-/following{/other_user}",
      "gists_url": "https://api.github.com/users/tbu-/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tbu-/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tbu-/subscriptions",
      "organizations_url": "https://api.github.com/users/tbu-/orgs",
      "repos_url": "https://api.github.com/users/tbu-/repos",
      "events_url": "https://api.github.com/users/tbu-/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tbu-/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-11-18T14:23:27Z",
    "updated_at": "2015-11-18T14:23:37Z",
    "body": "Also, this can probably be closed, because #29882 already landed.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/157727199/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
