[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/33418408",
    "html_url": "https://github.com/rust-lang/rust/pull/11850#issuecomment-33418408",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/11850",
    "id": 33418408,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNDE4NDA4",
    "user": {
      "login": "lilyball",
      "id": 714,
      "node_id": "MDQ6VXNlcjcxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/714?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lilyball",
      "html_url": "https://github.com/lilyball",
      "followers_url": "https://api.github.com/users/lilyball/followers",
      "following_url": "https://api.github.com/users/lilyball/following{/other_user}",
      "gists_url": "https://api.github.com/users/lilyball/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lilyball/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lilyball/subscriptions",
      "organizations_url": "https://api.github.com/users/lilyball/orgs",
      "repos_url": "https://api.github.com/users/lilyball/repos",
      "events_url": "https://api.github.com/users/lilyball/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lilyball/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-01-27T20:28:53Z",
    "updated_at": "2014-01-27T20:28:53Z",
    "body": "Fixing this issue is certainly a good idea, but I'm not sure this is the right approach. What you've done here hides all EPIPE errors for stdout/stderr. Being able to detect that stdout has been closed is a valid thing to want to be able to do, but you can't do that anymore with this.\n\nAdditionally, this _only_ hides it for stdout/stderr. It doesn't try to suppress EPIPE for any other file handles.\n\nI'm not sure what the practical solution here is. Ideally, anything that writes to stdout/stderr would handle io_errors, because crashing rustc due to a stdout issue (including, but not limited to, EPIPE) seems less than ideal. But practically speaking, I don't know how much effort it would take to find every location in rustc that would need to be updated.\n\nMy understanding is that I/O functions were slated to stop using conditions and start using proper return values. If this happens, then that would be a good time to add correct handling of things like this, since all stdout writing would need to be updated anyway. Unfortunately the relevant ticket, #10449, has already been closed so I'm not quite sure what the status of this is. @alexcrichton, any idea?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/33418408/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/33418698",
    "html_url": "https://github.com/rust-lang/rust/pull/11850#issuecomment-33418698",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/11850",
    "id": 33418698,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNDE4Njk4",
    "user": {
      "login": "lilyball",
      "id": 714,
      "node_id": "MDQ6VXNlcjcxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/714?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lilyball",
      "html_url": "https://github.com/lilyball",
      "followers_url": "https://api.github.com/users/lilyball/followers",
      "following_url": "https://api.github.com/users/lilyball/following{/other_user}",
      "gists_url": "https://api.github.com/users/lilyball/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lilyball/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lilyball/subscriptions",
      "organizations_url": "https://api.github.com/users/lilyball/orgs",
      "repos_url": "https://api.github.com/users/lilyball/repos",
      "events_url": "https://api.github.com/users/lilyball/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lilyball/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-01-27T20:30:34Z",
    "updated_at": "2014-01-27T20:30:34Z",
    "body": "cc #10602, #9795\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/33418698/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/33440862",
    "html_url": "https://github.com/rust-lang/rust/pull/11850#issuecomment-33440862",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/11850",
    "id": 33440862,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNDQwODYy",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-01-28T00:49:40Z",
    "updated_at": "2014-01-28T00:49:40Z",
    "body": "Hm, I'm not entirely sure what we should do about this. We're trying to promote \"no unused results\" everywhere, so migrating this to conditions won't fix anything. What'll happen is that `print` and friends will all fail the task if the printing fails (in that imagined world, that is).\n\nIt does seem odd to ignore _all_ EPIPE errors, I can imagine that there's a legitimate use-case somewhere for seeing it. On the other hand it seems odd that we print a failure message on a broken pipe. I'll have to think a little more on this.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/33440862/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/33442014",
    "html_url": "https://github.com/rust-lang/rust/pull/11850#issuecomment-33442014",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/11850",
    "id": 33442014,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNDQyMDE0",
    "user": {
      "login": "lilyball",
      "id": 714,
      "node_id": "MDQ6VXNlcjcxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/714?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lilyball",
      "html_url": "https://github.com/lilyball",
      "followers_url": "https://api.github.com/users/lilyball/followers",
      "following_url": "https://api.github.com/users/lilyball/following{/other_user}",
      "gists_url": "https://api.github.com/users/lilyball/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lilyball/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lilyball/subscriptions",
      "organizations_url": "https://api.github.com/users/lilyball/orgs",
      "repos_url": "https://api.github.com/users/lilyball/repos",
      "events_url": "https://api.github.com/users/lilyball/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lilyball/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-01-28T01:08:17Z",
    "updated_at": "2014-01-28T01:08:17Z",
    "body": "@alexcrichton It's already a condition, which is why we print the failure message. My understanding is that we're going to be migrating I/O to returning a `Result` instead of a condition (or perhaps something with dynamic variables, but I don't see that as being any better than conditions for I/O). Perhaps `print` and friends could simply ignore errors, given the expectation that clients of this API don't particularly care about detecting them. Clients that do care about errors could then use `io::stdout().write_str()` instead of `print()`.\n\nOn that note, if we're going to advocate calling `stdout()` for stuff like this, we may need to revisit the implementation of `stdout()`/`stderr()`/`stdin()`. Right now they always perform allocation. Also, from what I can tell, they seem to always represent the process's stdout/stderr, instead of the task-local stdout/stderr, which unfortunately means that `io::stdout().write_str(s)` is not equivalent to `print(s)`.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/33442014/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/33497926",
    "html_url": "https://github.com/rust-lang/rust/pull/11850#issuecomment-33497926",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/11850",
    "id": 33497926,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNDk3OTI2",
    "user": {
      "login": "abhaykadam",
      "id": 1008013,
      "node_id": "MDQ6VXNlcjEwMDgwMTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1008013?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/abhaykadam",
      "html_url": "https://github.com/abhaykadam",
      "followers_url": "https://api.github.com/users/abhaykadam/followers",
      "following_url": "https://api.github.com/users/abhaykadam/following{/other_user}",
      "gists_url": "https://api.github.com/users/abhaykadam/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/abhaykadam/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/abhaykadam/subscriptions",
      "organizations_url": "https://api.github.com/users/abhaykadam/orgs",
      "repos_url": "https://api.github.com/users/abhaykadam/repos",
      "events_url": "https://api.github.com/users/abhaykadam/events{/privacy}",
      "received_events_url": "https://api.github.com/users/abhaykadam/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-01-28T16:53:30Z",
    "updated_at": "2014-01-28T16:53:30Z",
    "body": "Hi guys, thanks for the comments. I would like to work on this issue. Could you please tell me what i should do?\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/33497926/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/33608323",
    "html_url": "https://github.com/rust-lang/rust/pull/11850#issuecomment-33608323",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/11850",
    "id": 33608323,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNjA4MzIz",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-01-29T17:32:28Z",
    "updated_at": "2014-01-29T17:32:28Z",
    "body": "Here's what I found from some other languages\n- node - throws an exception\n- ruby - throws an exception\n- python - prints an error\n- C - up to the programmer to ignore/react to the error\n\nSounds like it's pretty standard to be expected to deal with this in the code itself (rather than ignoring the error). Closing because it seems like this is normal behavior.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/33608323/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
