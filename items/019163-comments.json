[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/63894237",
    "html_url": "https://github.com/rust-lang/rust/issues/19163#issuecomment-63894237",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19163",
    "id": 63894237,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzODk0MjM3",
    "user": {
      "login": "barosl",
      "id": 573768,
      "node_id": "MDQ6VXNlcjU3Mzc2OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/573768?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/barosl",
      "html_url": "https://github.com/barosl",
      "followers_url": "https://api.github.com/users/barosl/followers",
      "following_url": "https://api.github.com/users/barosl/following{/other_user}",
      "gists_url": "https://api.github.com/users/barosl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/barosl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/barosl/subscriptions",
      "organizations_url": "https://api.github.com/users/barosl/orgs",
      "repos_url": "https://api.github.com/users/barosl/repos",
      "events_url": "https://api.github.com/users/barosl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/barosl/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-20T22:46:03Z",
    "updated_at": "2014-11-20T22:46:23Z",
    "body": "Same here. The error message is completely different from that of the old compiler.\n- 336349c93 2014-11-17 20:37:19 +0000:\n\n```\ntest.rs:3:12: 3:14 error: type `&collections::vec::Vec<_>` does not implement any method in scope named `write_fmt`\ntest.rs:3     write!(&v, \"Hello world\");\n```\n- 399ff259e 2014-11-20 00:27:07 +0000:\n\n```\n<std macros>:3:24: 3:14 error: cannot borrow immutable dereference of `&`-pointer as mutable\n<std macros>:3         let dst = &mut *$dst;\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/63894237/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/63895456",
    "html_url": "https://github.com/rust-lang/rust/issues/19163#issuecomment-63895456",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19163",
    "id": 63895456,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzODk1NDU2",
    "user": {
      "login": "barosl",
      "id": 573768,
      "node_id": "MDQ6VXNlcjU3Mzc2OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/573768?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/barosl",
      "html_url": "https://github.com/barosl",
      "followers_url": "https://api.github.com/users/barosl/followers",
      "following_url": "https://api.github.com/users/barosl/following{/other_user}",
      "gists_url": "https://api.github.com/users/barosl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/barosl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/barosl/subscriptions",
      "organizations_url": "https://api.github.com/users/barosl/orgs",
      "repos_url": "https://api.github.com/users/barosl/repos",
      "events_url": "https://api.github.com/users/barosl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/barosl/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-20T22:55:05Z",
    "updated_at": "2014-11-20T22:55:05Z",
    "body": "This is a duplicate of #19155, by the way.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/63895456/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/63896485",
    "html_url": "https://github.com/rust-lang/rust/issues/19163#issuecomment-63896485",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19163",
    "id": 63896485,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzODk2NDg1",
    "user": {
      "login": "sfackler",
      "id": 1455697,
      "node_id": "MDQ6VXNlcjE0NTU2OTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sfackler",
      "html_url": "https://github.com/sfackler",
      "followers_url": "https://api.github.com/users/sfackler/followers",
      "following_url": "https://api.github.com/users/sfackler/following{/other_user}",
      "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions",
      "organizations_url": "https://api.github.com/users/sfackler/orgs",
      "repos_url": "https://api.github.com/users/sfackler/repos",
      "events_url": "https://api.github.com/users/sfackler/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sfackler/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-20T23:02:48Z",
    "updated_at": "2014-11-20T23:02:48Z",
    "body": "I don't think this is a dup of that. The compiler doesn't OOM in my bug.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/63896485/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/63896883",
    "html_url": "https://github.com/rust-lang/rust/issues/19163#issuecomment-63896883",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19163",
    "id": 63896883,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzODk2ODgz",
    "user": {
      "login": "barosl",
      "id": 573768,
      "node_id": "MDQ6VXNlcjU3Mzc2OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/573768?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/barosl",
      "html_url": "https://github.com/barosl",
      "followers_url": "https://api.github.com/users/barosl/followers",
      "following_url": "https://api.github.com/users/barosl/following{/other_user}",
      "gists_url": "https://api.github.com/users/barosl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/barosl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/barosl/subscriptions",
      "organizations_url": "https://api.github.com/users/barosl/orgs",
      "repos_url": "https://api.github.com/users/barosl/repos",
      "events_url": "https://api.github.com/users/barosl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/barosl/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-20T23:06:13Z",
    "updated_at": "2014-11-20T23:06:13Z",
    "body": "Oh, then it is a separate one. To be accurate, my test above also consumed the entire memory and died.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/63896883/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/71776589",
    "html_url": "https://github.com/rust-lang/rust/issues/19163#issuecomment-71776589",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19163",
    "id": 71776589,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxNzc2NTg5",
    "user": {
      "login": "kmcallister",
      "id": 444997,
      "node_id": "MDQ6VXNlcjQ0NDk5Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/444997?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kmcallister",
      "html_url": "https://github.com/kmcallister",
      "followers_url": "https://api.github.com/users/kmcallister/followers",
      "following_url": "https://api.github.com/users/kmcallister/following{/other_user}",
      "gists_url": "https://api.github.com/users/kmcallister/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kmcallister/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kmcallister/subscriptions",
      "organizations_url": "https://api.github.com/users/kmcallister/orgs",
      "repos_url": "https://api.github.com/users/kmcallister/repos",
      "events_url": "https://api.github.com/users/kmcallister/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kmcallister/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-28T03:46:00Z",
    "updated_at": "2015-01-28T03:46:00Z",
    "body": "Fail to reproduce on Linux with rustc 1.0.0-dev (4e4e8cff1 2015-01-24 22:14:14 +0000).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/71776589/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/71778572",
    "html_url": "https://github.com/rust-lang/rust/issues/19163#issuecomment-71778572",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19163",
    "id": 71778572,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxNzc4NTcy",
    "user": {
      "login": "japaric",
      "id": 5018213,
      "node_id": "MDQ6VXNlcjUwMTgyMTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5018213?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/japaric",
      "html_url": "https://github.com/japaric",
      "followers_url": "https://api.github.com/users/japaric/followers",
      "following_url": "https://api.github.com/users/japaric/following{/other_user}",
      "gists_url": "https://api.github.com/users/japaric/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/japaric/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/japaric/subscriptions",
      "organizations_url": "https://api.github.com/users/japaric/orgs",
      "repos_url": "https://api.github.com/users/japaric/repos",
      "events_url": "https://api.github.com/users/japaric/events{/privacy}",
      "received_events_url": "https://api.github.com/users/japaric/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-28T04:16:01Z",
    "updated_at": "2015-01-28T04:16:01Z",
    "body": "The `write!` macro has changed since I opened this issue. I sort-of replicated the old `write!` macro but couldn't reproduce the bug:\n\n``` rust\nmacro_rules! mywrite {\n    ($dst:expr, $($arg:tt)*) => ({\n        let dst = &mut *$dst;  //~ error: cannot borrow immutable borrowed content as mutable\n        (|&mut: args| { dst.write_fmt(args) })(format_args!($($arg)*))\n    })\n}\n\nfn main() {\n    let mut v = vec![];\n    mywrite!(&v, \"Hello world\");\n}\n```\n\nWe should add a test to avoid regressions.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/71778572/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/71829554",
    "html_url": "https://github.com/rust-lang/rust/issues/19163#issuecomment-71829554",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19163",
    "id": 71829554,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxODI5NTU0",
    "user": {
      "login": "ghost",
      "id": 10137,
      "node_id": "MDQ6VXNlcjEwMTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ghost",
      "html_url": "https://github.com/ghost",
      "followers_url": "https://api.github.com/users/ghost/followers",
      "following_url": "https://api.github.com/users/ghost/following{/other_user}",
      "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
      "organizations_url": "https://api.github.com/users/ghost/orgs",
      "repos_url": "https://api.github.com/users/ghost/repos",
      "events_url": "https://api.github.com/users/ghost/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ghost/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-28T12:47:31Z",
    "updated_at": "2015-01-28T12:47:31Z",
    "body": "The subtlety with `write!` is that it's defined in an external crate so a potential test should ideally reflect that. :)\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/71829554/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/71924355",
    "html_url": "https://github.com/rust-lang/rust/issues/19163#issuecomment-71924355",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19163",
    "id": 71924355,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxOTI0MzU1",
    "user": {
      "login": "kmcallister",
      "id": 444997,
      "node_id": "MDQ6VXNlcjQ0NDk5Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/444997?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kmcallister",
      "html_url": "https://github.com/kmcallister",
      "followers_url": "https://api.github.com/users/kmcallister/followers",
      "following_url": "https://api.github.com/users/kmcallister/following{/other_user}",
      "gists_url": "https://api.github.com/users/kmcallister/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kmcallister/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kmcallister/subscriptions",
      "organizations_url": "https://api.github.com/users/kmcallister/orgs",
      "repos_url": "https://api.github.com/users/kmcallister/repos",
      "events_url": "https://api.github.com/users/kmcallister/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kmcallister/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-28T21:53:22Z",
    "updated_at": "2015-01-28T21:53:22Z",
    "body": "Still no hang with\n\n``` rust\n// mywrite.rs\n#![crate_type=\"lib\"]\n\n#[macro_export]\nmacro_rules! mywrite {\n    ($dst:expr, $($arg:tt)*) => ({\n        let dst = &mut *$dst;  //~ error: cannot borrow immutable borrowed content as mutable\n        (|&mut: args| { dst.write_fmt(args) })(format_args!($($arg)*))\n    })\n}\n```\n\nand\n\n``` rust\n// main.rs\n$ cat main.rs\n#[macro_use] extern crate mywrite;\n\nfn main() {\n    let mut v = vec![];\n    mywrite!(&v, \"Hello world\");\n}\n```\n\nResult:\n\n```\n$ rustc --version\nrustc 1.0.0-dev (4e4e8cff1 2015-01-24 22:14:14 +0000)\n\n$ rustc -L . mywrite.rs \n\n$ time rustc -L . main.rs \n<mywrite macros>:3:17: 5:16 error: cannot borrow immutable borrowed content as mutable\n<mywrite macros>:3 let dst = & mut * $ dst ; ( | & mut : args | { dst . write_fmt ( args ) } ) (\n<mywrite macros>:4 format_args ! ( $ ( $ arg ) * ) ) } )\n<mywrite macros>:1:1: 4:38 note: in expansion of mywrite!\nmain.rs:5:5: 5:33 note: expansion site\nerror: aborting due to previous error\n\nreal    0m0.066s\nuser    0m0.056s\nsys     0m0.008s\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/71924355/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
