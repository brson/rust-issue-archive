[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26642766",
    "html_url": "https://github.com/rust-lang/rust/pull/9945#issuecomment-26642766",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9945",
    "id": 26642766,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2NjQyNzY2",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-10-19T03:49:51Z",
    "updated_at": "2013-10-19T03:49:51Z",
    "body": "This could currently be happening for one of two reasons:\n1. You're building a binary. All functions are flagged as internal in this case (or at least rust functions, not sure if _all_ functions are caught).\n2. You're building a library and this function isn't exported in the sense that another crate can use it.\n\nI'm hesitant to land this without any tests. Linkage is something which is becoming quite tricky for us with lots of various cases here and there. I would expose it under a symbol with a particular name and then have that in an `extern` block in another test/file to make sure that it links right.\n\nFor the test, also be sure that it fails on current master and then passes afterwards. No use in committing tests that always work!\n\nI think that this location for setting the linkage is fine for now. I think in general this needs to be cleaned up (because linkage is set in so many different places), but that's another problem for another time.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26642766/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26646124",
    "html_url": "https://github.com/rust-lang/rust/pull/9945#issuecomment-26646124",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9945",
    "id": 26646124,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2NjQ2MTI0",
    "user": {
      "login": "miselin",
      "id": 73127,
      "node_id": "MDQ6VXNlcjczMTI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/73127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/miselin",
      "html_url": "https://github.com/miselin",
      "followers_url": "https://api.github.com/users/miselin/followers",
      "following_url": "https://api.github.com/users/miselin/following{/other_user}",
      "gists_url": "https://api.github.com/users/miselin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/miselin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/miselin/subscriptions",
      "organizations_url": "https://api.github.com/users/miselin/orgs",
      "repos_url": "https://api.github.com/users/miselin/repos",
      "events_url": "https://api.github.com/users/miselin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/miselin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-10-19T08:39:30Z",
    "updated_at": "2013-10-19T08:41:29Z",
    "body": "Another use case is in building a library that needs to use symbols in the main binary it is linked against. For example, a plugin opened with dlopen might need to find symbols in the main binary. (edit: I just read this again and realised it's basically a roundabout way of saying your first reason up there...)\n\nI have a test that shows the broken behaviour on untouched master and I am just confirming now that this changeset does in fact solve the problem.\n\nIn the longer term ideally there'd be a function attribute for this purpose that can define the linkage of the function, such as `#[linkage(weak)]`, `#[linkage(global)]`, and so on.\n\nI'll bump the next commit through once I'm happy with the test.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26646124/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26653558",
    "html_url": "https://github.com/rust-lang/rust/pull/9945#issuecomment-26653558",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9945",
    "id": 26653558,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2NjUzNTU4",
    "user": {
      "login": "thestinger",
      "id": 1505226,
      "node_id": "MDQ6VXNlcjE1MDUyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thestinger",
      "html_url": "https://github.com/thestinger",
      "followers_url": "https://api.github.com/users/thestinger/followers",
      "following_url": "https://api.github.com/users/thestinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions",
      "organizations_url": "https://api.github.com/users/thestinger/orgs",
      "repos_url": "https://api.github.com/users/thestinger/repos",
      "events_url": "https://api.github.com/users/thestinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thestinger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-10-19T16:40:41Z",
    "updated_at": "2013-10-19T16:50:31Z",
    "body": "@pcmattman: Are you compiling the Rust code with `--lib`? If you're linking in extra code, you need to be, even if it defines `main`.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26653558/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26733434",
    "html_url": "https://github.com/rust-lang/rust/pull/9945#issuecomment-26733434",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9945",
    "id": 26733434,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2NzMzNDM0",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-10-21T16:36:43Z",
    "updated_at": "2013-10-21T16:36:43Z",
    "body": "After thinking about this, I'm not convinced that this is the correct approach to take. I think that you should be able to declare internal `extern \"C\"` functions, which this does not allow. On the other hand, I think that our visibility system is an excellent method of exporting functions from a library (or keeping them hidden).\n\nI think that the real bug in this situation is that when you're compiling an executable _all_ functions are flagged as internal except for `main`. I think that in this case normally exported `extern` functions are incorrectly being flagged as internal.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26733434/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26734116",
    "html_url": "https://github.com/rust-lang/rust/pull/9945#issuecomment-26734116",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9945",
    "id": 26734116,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2NzM0MTE2",
    "user": {
      "login": "thestinger",
      "id": 1505226,
      "node_id": "MDQ6VXNlcjE1MDUyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thestinger",
      "html_url": "https://github.com/thestinger",
      "followers_url": "https://api.github.com/users/thestinger/followers",
      "following_url": "https://api.github.com/users/thestinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions",
      "organizations_url": "https://api.github.com/users/thestinger/orgs",
      "repos_url": "https://api.github.com/users/thestinger/repos",
      "events_url": "https://api.github.com/users/thestinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thestinger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-10-21T16:45:01Z",
    "updated_at": "2013-10-21T16:45:44Z",
    "body": "@alexcrichton: `clang` has the same behaviour when compiling with `-flto`, `extern` is about the ABI not anything to do with visibility/linkage\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26734116/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26745568",
    "html_url": "https://github.com/rust-lang/rust/pull/9945#issuecomment-26745568",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9945",
    "id": 26745568,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2NzQ1NTY4",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-10-21T18:58:01Z",
    "updated_at": "2013-10-21T18:58:01Z",
    "body": "Agree we should not be setting linkage based on the `extern` keyword.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26745568/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26758407",
    "html_url": "https://github.com/rust-lang/rust/pull/9945#issuecomment-26758407",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9945",
    "id": 26758407,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2NzU4NDA3",
    "user": {
      "login": "miselin",
      "id": 73127,
      "node_id": "MDQ6VXNlcjczMTI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/73127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/miselin",
      "html_url": "https://github.com/miselin",
      "followers_url": "https://api.github.com/users/miselin/followers",
      "following_url": "https://api.github.com/users/miselin/following{/other_user}",
      "gists_url": "https://api.github.com/users/miselin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/miselin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/miselin/subscriptions",
      "organizations_url": "https://api.github.com/users/miselin/orgs",
      "repos_url": "https://api.github.com/users/miselin/repos",
      "events_url": "https://api.github.com/users/miselin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/miselin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-10-21T21:28:08Z",
    "updated_at": "2013-10-21T22:54:01Z",
    "body": "Sure, no worries, I'm happy to consider alternative approaches. In the meantime I can solve the problem in my own project with `objcopy --globalize-symbol`, so there's no rush :-).\n\nWith respect to the visibility system, with this change applied linkage is overridden to internal (implicitly, eek!) if the function is not visible. That is, if a foreign ABI function is not visible to the \"parent\" of the crate root, it will be emitted with internal linkage.\n\nAn example (`bin` crate):\n\n```\nmain.rs\npub mod foreign1;\npub mod foreign2;\nmod foreign3;\n\nforeign1.rs\nextern \"C\" foreignabi1() -> int {\n     5\n}\n\nforeign2.rs\npub extern \"C\" foreignabi2() -> int {\n     5\n}\n\nforeign3.rs\npub extern \"C\" foreignabi3() -> int {\n     5\n}\n```\n\nOnly `foreign2::foreignabi2` will be linked with external linkage. `foreign1::foreignabi1` will be linked with internal linkage as it is not `pub`, even though it is `extern \"C\"`. `foreign3::foreignabi3` will be linked with internal linkage as it is not visible to `main`'s parent, even though the function is defined `pub extern \"C\"`.\n\nHowever, as mentioned this internal linkage override is implicit - this patch does not actually explicitly check function visibility before setting external linkage. It would probably be best to make that behaviour explicit for foreign ABI functions, if it ends up being desirable.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26758407/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26758797",
    "html_url": "https://github.com/rust-lang/rust/pull/9945#issuecomment-26758797",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9945",
    "id": 26758797,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2NzU4Nzk3",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-10-21T21:32:45Z",
    "updated_at": "2013-10-21T21:32:45Z",
    "body": "For now I think that our visibility system is sufficient enough to encode what should be exported and what should be kept internal. I thought that the code example you had compiles today, but if it doesn't then that's definitely a bug!\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26758797/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26769134",
    "html_url": "https://github.com/rust-lang/rust/pull/9945#issuecomment-26769134",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9945",
    "id": 26769134,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2NzY5MTM0",
    "user": {
      "login": "miselin",
      "id": 73127,
      "node_id": "MDQ6VXNlcjczMTI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/73127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/miselin",
      "html_url": "https://github.com/miselin",
      "followers_url": "https://api.github.com/users/miselin/followers",
      "following_url": "https://api.github.com/users/miselin/following{/other_user}",
      "gists_url": "https://api.github.com/users/miselin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/miselin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/miselin/subscriptions",
      "organizations_url": "https://api.github.com/users/miselin/orgs",
      "repos_url": "https://api.github.com/users/miselin/repos",
      "events_url": "https://api.github.com/users/miselin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/miselin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-10-22T00:37:35Z",
    "updated_at": "2013-10-22T00:37:35Z",
    "body": "Apologies, my previous comment was not incredibly clear. To clarify what I was trying to describe slightly (also noting that some of the syntax in my previous comment is not correct - more psuedocode-y), without this pull request applied, `nm` run on the output of `rustc -o main main.rs` gives (on OSX):\n\n```\n0000000100000c00 t _foreignabi1\n0000000100000c80 t _foreignabi2\n0000000100000d00 t _foreignabi3\n0000000100000dc0 T _main\n```\n\nThe `#[no_mangle]` attribute was applied to this example before building. Note the lowercase `t` indicating private.\n\nNow, with this PR applied, `nm` outputs:\n\n```\n0000000100000c00 t _foreignabi1\n0000000100000c80 T _foreignabi2\n0000000100000d00 t _foreignabi3\n0000000100000dc0 T _main\n```\n\nSo everything still compiles with or without - no bug there :-) - just an issue with symbol linkage.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26769134/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26771084",
    "html_url": "https://github.com/rust-lang/rust/pull/9945#issuecomment-26771084",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9945",
    "id": 26771084,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2NzcxMDg0",
    "user": {
      "login": "thestinger",
      "id": 1505226,
      "node_id": "MDQ6VXNlcjE1MDUyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thestinger",
      "html_url": "https://github.com/thestinger",
      "followers_url": "https://api.github.com/users/thestinger/followers",
      "following_url": "https://api.github.com/users/thestinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions",
      "organizations_url": "https://api.github.com/users/thestinger/orgs",
      "repos_url": "https://api.github.com/users/thestinger/repos",
      "events_url": "https://api.github.com/users/thestinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thestinger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-10-22T01:28:53Z",
    "updated_at": "2013-10-22T01:35:03Z",
    "body": "The `extern` marker isn't associated with anything special in terms of linkage. If you want the functions to not be marked private, you can use `rustc --lib -c` and then link together an executable with the other parts of the crate. Rust is either building a library crate (many exposed symbols) or a executable crate (just an entry point exposed) - all of the options are still available through that.\n\nIf it's private when building a library but the path is fully public, that's a bug we should fix (without making it exposed from an executable).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26771084/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26773132",
    "html_url": "https://github.com/rust-lang/rust/pull/9945#issuecomment-26773132",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9945",
    "id": 26773132,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2NzczMTMy",
    "user": {
      "login": "miselin",
      "id": 73127,
      "node_id": "MDQ6VXNlcjczMTI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/73127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/miselin",
      "html_url": "https://github.com/miselin",
      "followers_url": "https://api.github.com/users/miselin/followers",
      "following_url": "https://api.github.com/users/miselin/following{/other_user}",
      "gists_url": "https://api.github.com/users/miselin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/miselin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/miselin/subscriptions",
      "organizations_url": "https://api.github.com/users/miselin/orgs",
      "repos_url": "https://api.github.com/users/miselin/repos",
      "events_url": "https://api.github.com/users/miselin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/miselin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-10-22T02:34:16Z",
    "updated_at": "2013-10-22T02:34:16Z",
    "body": "Good point. No, this is not with building a library, so all behaviour is as-expected and there is not a bug.\n\nI presume foreign ABI functions in a bin crate would be expected to be used as parameters to functions in C libraries as the like, rather than called by plugins or other external entities?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26773132/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26773250",
    "html_url": "https://github.com/rust-lang/rust/pull/9945#issuecomment-26773250",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9945",
    "id": 26773250,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2NzczMjUw",
    "user": {
      "login": "thestinger",
      "id": 1505226,
      "node_id": "MDQ6VXNlcjE1MDUyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thestinger",
      "html_url": "https://github.com/thestinger",
      "followers_url": "https://api.github.com/users/thestinger/followers",
      "following_url": "https://api.github.com/users/thestinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions",
      "organizations_url": "https://api.github.com/users/thestinger/orgs",
      "repos_url": "https://api.github.com/users/thestinger/repos",
      "events_url": "https://api.github.com/users/thestinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thestinger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-10-22T02:38:11Z",
    "updated_at": "2013-10-22T02:38:11Z",
    "body": "@pcmattman: Yeah, it's just about the ABI. It's confusing that we use the same keyword for declaring blocks of external functions.\n\nWe desperately need to offer other forms of building crates (static linking, whole program optimization), but I think exposing a symbol from an executable is always going to be an edge case where you probably end up using external compiler/linker calls anyway to link in whatever is going to call that function.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26773250/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26774599",
    "html_url": "https://github.com/rust-lang/rust/pull/9945#issuecomment-26774599",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9945",
    "id": 26774599,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2Nzc0NTk5",
    "user": {
      "login": "eddyb",
      "id": 77424,
      "node_id": "MDQ6VXNlcjc3NDI0",
      "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eddyb",
      "html_url": "https://github.com/eddyb",
      "followers_url": "https://api.github.com/users/eddyb/followers",
      "following_url": "https://api.github.com/users/eddyb/following{/other_user}",
      "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions",
      "organizations_url": "https://api.github.com/users/eddyb/orgs",
      "repos_url": "https://api.github.com/users/eddyb/repos",
      "events_url": "https://api.github.com/users/eddyb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eddyb/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-10-22T03:22:08Z",
    "updated_at": "2013-10-22T03:22:08Z",
    "body": "There is a case where building a binary requires externalizing a symbol, without compiling with -c and linking the object file against some other object file importing Rust functions.\n\nThat is, if you don't link against a library providing the mem\\* functions (memcpy, memmove, memset, etc.), LLVM can still generate calls to those functions.\nYou can implement them in Rust, but if the symbol is not external, it will either get removed or it won't be recognized by LLVM as the target of those calls.\n\nThis is also the only case that can't be solved by moving everything to Rust (to remove the need for exporting Rust symbols to C or assembly).\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26774599/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26774900",
    "html_url": "https://github.com/rust-lang/rust/pull/9945#issuecomment-26774900",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9945",
    "id": 26774900,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2Nzc0OTAw",
    "user": {
      "login": "thestinger",
      "id": 1505226,
      "node_id": "MDQ6VXNlcjE1MDUyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thestinger",
      "html_url": "https://github.com/thestinger",
      "followers_url": "https://api.github.com/users/thestinger/followers",
      "following_url": "https://api.github.com/users/thestinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions",
      "organizations_url": "https://api.github.com/users/thestinger/orgs",
      "repos_url": "https://api.github.com/users/thestinger/repos",
      "events_url": "https://api.github.com/users/thestinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thestinger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-10-22T03:32:47Z",
    "updated_at": "2013-10-22T03:32:47Z",
    "body": "I don't really understand why it would have to be external for that case. Why wouldn't the calls to `memcpy` be able to find an internal definition of it? As a workaround, they could be defined in a crate once we have static linking support.\n\nThe current flagging of all functions as internal in a binary could be replaced by reachability-based visibility if it took into account the differences between executables and libraries. In a library, it would have to treat any calls from `#[inline]` functions as exposing those functions but not in an executable.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26774900/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26775174",
    "html_url": "https://github.com/rust-lang/rust/pull/9945#issuecomment-26775174",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9945",
    "id": 26775174,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2Nzc1MTc0",
    "user": {
      "login": "miselin",
      "id": 73127,
      "node_id": "MDQ6VXNlcjczMTI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/73127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/miselin",
      "html_url": "https://github.com/miselin",
      "followers_url": "https://api.github.com/users/miselin/followers",
      "following_url": "https://api.github.com/users/miselin/following{/other_user}",
      "gists_url": "https://api.github.com/users/miselin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/miselin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/miselin/subscriptions",
      "organizations_url": "https://api.github.com/users/miselin/orgs",
      "repos_url": "https://api.github.com/users/miselin/repos",
      "events_url": "https://api.github.com/users/miselin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/miselin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-10-22T03:41:55Z",
    "updated_at": "2013-10-22T03:41:55Z",
    "body": "I also don't understand - I'm a bit confused now. It shouldn't be necessary to externalise a symbol such as `memcpy` that is used only within the crate as the linker should still be able to use internal symbols at that stage. The root issue that led me to create this PR was making foreign ABI functions available externally in a bin crate - symbol references inside a crate shouldn't be a problem.\n\nIs there a code example that shows a binary failing to build because another symbol inside the crate does not have external linkage?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26775174/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26777862",
    "html_url": "https://github.com/rust-lang/rust/pull/9945#issuecomment-26777862",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9945",
    "id": 26777862,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2Nzc3ODYy",
    "user": {
      "login": "miselin",
      "id": 73127,
      "node_id": "MDQ6VXNlcjczMTI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/73127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/miselin",
      "html_url": "https://github.com/miselin",
      "followers_url": "https://api.github.com/users/miselin/followers",
      "following_url": "https://api.github.com/users/miselin/following{/other_user}",
      "gists_url": "https://api.github.com/users/miselin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/miselin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/miselin/subscriptions",
      "organizations_url": "https://api.github.com/users/miselin/orgs",
      "repos_url": "https://api.github.com/users/miselin/repos",
      "events_url": "https://api.github.com/users/miselin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/miselin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-10-22T05:19:50Z",
    "updated_at": "2013-10-22T05:19:50Z",
    "body": "Also, FWIW `objcopy --globalize-symbol` doesn't work to make a symbol external after compiling an object file if it's been removed as 'dead, uncalled, unreferenced' code, because the symbol doesn't exist.\n- External linkage is enough to label the code as 'possibly called/referenced', but only makes sense on functions where it is the desired outcome for them to be exported and visible outside the `bin` crate.\n- clang/gcc offer `__attribute__((used))` for this purpose, which does not affect linkage. This emits a hidden reference (with no side-effects) to the symbol, allowing a function/variable to be maintained and emitted even if it doesn't seem to be referenced, without affecting its visibility.\n\nAhh, the wonderful rabbit hole of linkages, visibility, and reachability. :-)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26777862/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26781083",
    "html_url": "https://github.com/rust-lang/rust/pull/9945#issuecomment-26781083",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9945",
    "id": 26781083,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2NzgxMDgz",
    "user": {
      "login": "eddyb",
      "id": 77424,
      "node_id": "MDQ6VXNlcjc3NDI0",
      "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eddyb",
      "html_url": "https://github.com/eddyb",
      "followers_url": "https://api.github.com/users/eddyb/followers",
      "following_url": "https://api.github.com/users/eddyb/following{/other_user}",
      "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions",
      "organizations_url": "https://api.github.com/users/eddyb/orgs",
      "repos_url": "https://api.github.com/users/eddyb/repos",
      "events_url": "https://api.github.com/users/eddyb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eddyb/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-10-22T06:58:09Z",
    "updated_at": "2013-10-22T06:58:09Z",
    "body": "[Relevant function from clang's CodeGen](https://github.com/llvm-mirror/clang/blob/master/lib/CodeGen/CodeGenModule.cpp#L762-L787).\nWould something like `#[used]`, with an equivalent implementation, be accepted in rustc?\n(I guess we should ask questions first and shoot later, [unlike my last PR](https://github.com/mozilla/rust/pull/9966))\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26781083/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26781250",
    "html_url": "https://github.com/rust-lang/rust/pull/9945#issuecomment-26781250",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9945",
    "id": 26781250,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2NzgxMjUw",
    "user": {
      "login": "thestinger",
      "id": 1505226,
      "node_id": "MDQ6VXNlcjE1MDUyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thestinger",
      "html_url": "https://github.com/thestinger",
      "followers_url": "https://api.github.com/users/thestinger/followers",
      "following_url": "https://api.github.com/users/thestinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions",
      "organizations_url": "https://api.github.com/users/thestinger/orgs",
      "repos_url": "https://api.github.com/users/thestinger/repos",
      "events_url": "https://api.github.com/users/thestinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thestinger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-10-22T07:01:38Z",
    "updated_at": "2013-10-22T07:01:38Z",
    "body": "I don't think `#[used]` is the right solution here either. Fully implemented reachability-based visibility with knowledge of the difference between executables and libraries for dealing with `#[inline]` seems best.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26781250/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26808335",
    "html_url": "https://github.com/rust-lang/rust/pull/9945#issuecomment-26808335",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9945",
    "id": 26808335,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2ODA4MzM1",
    "user": {
      "login": "eddyb",
      "id": 77424,
      "node_id": "MDQ6VXNlcjc3NDI0",
      "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eddyb",
      "html_url": "https://github.com/eddyb",
      "followers_url": "https://api.github.com/users/eddyb/followers",
      "following_url": "https://api.github.com/users/eddyb/following{/other_user}",
      "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions",
      "organizations_url": "https://api.github.com/users/eddyb/orgs",
      "repos_url": "https://api.github.com/users/eddyb/repos",
      "events_url": "https://api.github.com/users/eddyb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eddyb/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-10-22T14:36:07Z",
    "updated_at": "2013-10-22T15:09:13Z",
    "body": "mem\\* wouldn't be reachable without a hack, like what clang does for `__attribute__((used))`, because they would be used solely by intrinsic codegen, which comes after the function can get removed.\nA similar thing happens when calling a function from inline assembly (`asm!(\"call foobar\");` on x86), which is the main use case mentioned in the GCC documentation for `__attribute__((used))`.\n\nEDIT: Also see [this test](https://github.com/eddyb/rust/blob/attr-linkage/src/test/run-pass/attr-linkage-external.rs) from my last PR, it should also work with `#[used]` instead of `#[linkage(external)]`.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26808335/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26821581",
    "html_url": "https://github.com/rust-lang/rust/pull/9945#issuecomment-26821581",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9945",
    "id": 26821581,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2ODIxNTgx",
    "user": {
      "login": "thestinger",
      "id": 1505226,
      "node_id": "MDQ6VXNlcjE1MDUyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thestinger",
      "html_url": "https://github.com/thestinger",
      "followers_url": "https://api.github.com/users/thestinger/followers",
      "following_url": "https://api.github.com/users/thestinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions",
      "organizations_url": "https://api.github.com/users/thestinger/orgs",
      "repos_url": "https://api.github.com/users/thestinger/repos",
      "events_url": "https://api.github.com/users/thestinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thestinger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-10-22T17:02:02Z",
    "updated_at": "2013-10-22T17:02:02Z",
    "body": "I'm suggesting making fully public paths in an executable external again.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26821581/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26822025",
    "html_url": "https://github.com/rust-lang/rust/pull/9945#issuecomment-26822025",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9945",
    "id": 26822025,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2ODIyMDI1",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-10-22T17:07:28Z",
    "updated_at": "2013-10-22T17:07:28Z",
    "body": "I thought that this was going to make fully-public `extern` items external in an executable build? You can't technically interface with a bare `fn` that's not `extern` because the ABI isn't necessarily stable (I think?)\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26822025/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26822537",
    "html_url": "https://github.com/rust-lang/rust/pull/9945#issuecomment-26822537",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9945",
    "id": 26822537,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2ODIyNTM3",
    "user": {
      "login": "thestinger",
      "id": 1505226,
      "node_id": "MDQ6VXNlcjE1MDUyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thestinger",
      "html_url": "https://github.com/thestinger",
      "followers_url": "https://api.github.com/users/thestinger/followers",
      "following_url": "https://api.github.com/users/thestinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions",
      "organizations_url": "https://api.github.com/users/thestinger/orgs",
      "repos_url": "https://api.github.com/users/thestinger/repos",
      "events_url": "https://api.github.com/users/thestinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thestinger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-10-22T17:13:21Z",
    "updated_at": "2013-10-22T17:15:37Z",
    "body": "It's making non-fully-private items external too right now. Until the reachability check _actually works_ and takes into account that `#[inline]` in an executable isn't exposed, it takes away the ability to keep symbols internal.\n\nI really don't understand why visibility would be tied to something exposing a C ABI rather than a Rust ABI. All normal crates are exposing Rust ABI functions.\n\nThere's nothing stopping interfacing with a Rust ABI function, we just don't guarantee that the ABI remains the same between Rust versions. A library exposing a stable ABI has to go out of the way to make sure none of the types is the signature is ever changed, such as never adding a private field to one.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26822537/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26862783",
    "html_url": "https://github.com/rust-lang/rust/pull/9945#issuecomment-26862783",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9945",
    "id": 26862783,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2ODYyNzgz",
    "user": {
      "login": "miselin",
      "id": 73127,
      "node_id": "MDQ6VXNlcjczMTI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/73127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/miselin",
      "html_url": "https://github.com/miselin",
      "followers_url": "https://api.github.com/users/miselin/followers",
      "following_url": "https://api.github.com/users/miselin/following{/other_user}",
      "gists_url": "https://api.github.com/users/miselin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/miselin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/miselin/subscriptions",
      "organizations_url": "https://api.github.com/users/miselin/orgs",
      "repos_url": "https://api.github.com/users/miselin/repos",
      "events_url": "https://api.github.com/users/miselin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/miselin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-10-22T23:14:49Z",
    "updated_at": "2013-10-22T23:14:49Z",
    "body": "@thestinger what do you mean by non-fully-private in this context?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26862783/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26863270",
    "html_url": "https://github.com/rust-lang/rust/pull/9945#issuecomment-26863270",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9945",
    "id": 26863270,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2ODYzMjcw",
    "user": {
      "login": "thestinger",
      "id": 1505226,
      "node_id": "MDQ6VXNlcjE1MDUyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thestinger",
      "html_url": "https://github.com/thestinger",
      "followers_url": "https://api.github.com/users/thestinger/followers",
      "following_url": "https://api.github.com/users/thestinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions",
      "organizations_url": "https://api.github.com/users/thestinger/orgs",
      "repos_url": "https://api.github.com/users/thestinger/repos",
      "events_url": "https://api.github.com/users/thestinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thestinger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-10-22T23:24:18Z",
    "updated_at": "2013-10-23T01:34:53Z",
    "body": "As in this patch results in functions with paths that are not fully public being exposed as external symbols. It removes the ability to expose only the entry point.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26863270/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26875421",
    "html_url": "https://github.com/rust-lang/rust/pull/9945#issuecomment-26875421",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9945",
    "id": 26875421,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2ODc1NDIx",
    "user": {
      "login": "miselin",
      "id": 73127,
      "node_id": "MDQ6VXNlcjczMTI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/73127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/miselin",
      "html_url": "https://github.com/miselin",
      "followers_url": "https://api.github.com/users/miselin/followers",
      "following_url": "https://api.github.com/users/miselin/following{/other_user}",
      "gists_url": "https://api.github.com/users/miselin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/miselin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/miselin/subscriptions",
      "organizations_url": "https://api.github.com/users/miselin/orgs",
      "repos_url": "https://api.github.com/users/miselin/repos",
      "events_url": "https://api.github.com/users/miselin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/miselin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-10-23T01:59:32Z",
    "updated_at": "2013-10-23T01:59:32Z",
    "body": "@thestinger is this in reference to the example in my past comment (at https://github.com/mozilla/rust/pull/9945#issuecomment-26769134), or are there additional cases I haven't considered where functions that are not fully public are exposed by this patch?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26875421/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26876521",
    "html_url": "https://github.com/rust-lang/rust/pull/9945#issuecomment-26876521",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9945",
    "id": 26876521,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2ODc2NTIx",
    "user": {
      "login": "thestinger",
      "id": 1505226,
      "node_id": "MDQ6VXNlcjE1MDUyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thestinger",
      "html_url": "https://github.com/thestinger",
      "followers_url": "https://api.github.com/users/thestinger/followers",
      "following_url": "https://api.github.com/users/thestinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions",
      "organizations_url": "https://api.github.com/users/thestinger/orgs",
      "repos_url": "https://api.github.com/users/thestinger/repos",
      "events_url": "https://api.github.com/users/thestinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thestinger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-10-23T02:35:07Z",
    "updated_at": "2013-10-23T02:35:45Z",
    "body": "``` rust\n\nmod foo {\n    pub extern \"C\" fn bar() {}\n}\n\npub extern \"C\" fn baz() {\n    foo::bar()\n}\n\nfn main() {}\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26876521/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26878723",
    "html_url": "https://github.com/rust-lang/rust/pull/9945#issuecomment-26878723",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9945",
    "id": 26878723,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2ODc4NzIz",
    "user": {
      "login": "miselin",
      "id": 73127,
      "node_id": "MDQ6VXNlcjczMTI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/73127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/miselin",
      "html_url": "https://github.com/miselin",
      "followers_url": "https://api.github.com/users/miselin/followers",
      "following_url": "https://api.github.com/users/miselin/following{/other_user}",
      "gists_url": "https://api.github.com/users/miselin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/miselin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/miselin/subscriptions",
      "organizations_url": "https://api.github.com/users/miselin/orgs",
      "repos_url": "https://api.github.com/users/miselin/repos",
      "events_url": "https://api.github.com/users/miselin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/miselin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-10-23T03:48:49Z",
    "updated_at": "2013-10-23T04:25:24Z",
    "body": "Yup, you're right - after applying `#[no_mangle]` to make reading the output from `nm` easier:\n\n```\n0000000100000cd0 T _bar\n0000000100000d50 T _baz\n0000000100000e10 T _main\n```\n\n`bar` now has external linkage and it shouldn't.\n\nAn example of possible desired output would be:\n\n```\n0000000100000cd0 t _bar\n0000000100000d50 T _baz\n0000000100000e10 T _main\n```\n\n(as `bar` is not fully public)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26878723/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26954869",
    "html_url": "https://github.com/rust-lang/rust/pull/9945#issuecomment-26954869",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9945",
    "id": 26954869,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2OTU0ODY5",
    "user": {
      "login": "miselin",
      "id": 73127,
      "node_id": "MDQ6VXNlcjczMTI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/73127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/miselin",
      "html_url": "https://github.com/miselin",
      "followers_url": "https://api.github.com/users/miselin/followers",
      "following_url": "https://api.github.com/users/miselin/following{/other_user}",
      "gists_url": "https://api.github.com/users/miselin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/miselin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/miselin/subscriptions",
      "organizations_url": "https://api.github.com/users/miselin/orgs",
      "repos_url": "https://api.github.com/users/miselin/repos",
      "events_url": "https://api.github.com/users/miselin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/miselin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-10-23T23:23:19Z",
    "updated_at": "2013-10-23T23:29:48Z",
    "body": "Okay, I broke the PR with my last push (... figuring that out now... - update: fixed!), but I now have the following output from `nm`:\n\n```\n0000000000400840 t bar\n00000000004008c0 T baz\n0000000000400980 T main\n```\n\n(different addresses as this was done on a different host)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26954869/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26961308",
    "html_url": "https://github.com/rust-lang/rust/pull/9945#issuecomment-26961308",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9945",
    "id": 26961308,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2OTYxMzA4",
    "user": {
      "login": "miselin",
      "id": 73127,
      "node_id": "MDQ6VXNlcjczMTI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/73127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/miselin",
      "html_url": "https://github.com/miselin",
      "followers_url": "https://api.github.com/users/miselin/followers",
      "following_url": "https://api.github.com/users/miselin/following{/other_user}",
      "gists_url": "https://api.github.com/users/miselin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/miselin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/miselin/subscriptions",
      "organizations_url": "https://api.github.com/users/miselin/orgs",
      "repos_url": "https://api.github.com/users/miselin/repos",
      "events_url": "https://api.github.com/users/miselin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/miselin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-10-24T01:55:35Z",
    "updated_at": "2013-10-24T01:55:35Z",
    "body": "The latest commit adds a `compile-fail` test and updates the `run-pass` test to handle the addition of bare functions and statics to the set of things that get external linkage when they are publicly visible.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26961308/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26975690",
    "html_url": "https://github.com/rust-lang/rust/pull/9945#issuecomment-26975690",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9945",
    "id": 26975690,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2OTc1Njkw",
    "user": {
      "login": "miselin",
      "id": 73127,
      "node_id": "MDQ6VXNlcjczMTI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/73127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/miselin",
      "html_url": "https://github.com/miselin",
      "followers_url": "https://api.github.com/users/miselin/followers",
      "following_url": "https://api.github.com/users/miselin/following{/other_user}",
      "gists_url": "https://api.github.com/users/miselin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/miselin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/miselin/subscriptions",
      "organizations_url": "https://api.github.com/users/miselin/orgs",
      "repos_url": "https://api.github.com/users/miselin/repos",
      "events_url": "https://api.github.com/users/miselin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/miselin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-10-24T08:49:19Z",
    "updated_at": "2013-10-24T08:49:19Z",
    "body": "Fixed broken test - looks like my testing of the tests used a stale file? Full testsuite (`make check`) is confirmed to pass locally now.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26975690/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/27048669",
    "html_url": "https://github.com/rust-lang/rust/pull/9945#issuecomment-27048669",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9945",
    "id": 27048669,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MDQ4NjY5",
    "user": {
      "login": "miselin",
      "id": 73127,
      "node_id": "MDQ6VXNlcjczMTI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/73127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/miselin",
      "html_url": "https://github.com/miselin",
      "followers_url": "https://api.github.com/users/miselin/followers",
      "following_url": "https://api.github.com/users/miselin/following{/other_user}",
      "gists_url": "https://api.github.com/users/miselin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/miselin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/miselin/subscriptions",
      "organizations_url": "https://api.github.com/users/miselin/orgs",
      "repos_url": "https://api.github.com/users/miselin/repos",
      "events_url": "https://api.github.com/users/miselin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/miselin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-10-25T01:21:49Z",
    "updated_at": "2013-10-25T01:21:49Z",
    "body": "Tests failed as OSX doesn't successfully link libraries unless it can resolve all symbols at library creation time (or it has been passed `-undefined dynamic_lookup` or `-U <symbolname>`).\n\nThe point of failure is in building the auxiliary library rather than actually executing the test proper.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/27048669/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/27082086",
    "html_url": "https://github.com/rust-lang/rust/pull/9945#issuecomment-27082086",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9945",
    "id": 27082086,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MDgyMDg2",
    "user": {
      "login": "miselin",
      "id": 73127,
      "node_id": "MDQ6VXNlcjczMTI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/73127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/miselin",
      "html_url": "https://github.com/miselin",
      "followers_url": "https://api.github.com/users/miselin/followers",
      "following_url": "https://api.github.com/users/miselin/following{/other_user}",
      "gists_url": "https://api.github.com/users/miselin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/miselin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/miselin/subscriptions",
      "organizations_url": "https://api.github.com/users/miselin/orgs",
      "repos_url": "https://api.github.com/users/miselin/repos",
      "events_url": "https://api.github.com/users/miselin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/miselin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-10-25T11:05:25Z",
    "updated_at": "2013-10-25T11:06:28Z",
    "body": "I have removed the `compile-fail` test as it seems to only be reliable on Linux (on OSX it breaks in building the auxiliary library rather than in trying to link against it).\n\nIt could be a `run-fail` test, doing a proper `fail!()` in a signal handler for the SIGTRAP the dynamic linker gives? It does this on OSX, not sure what `ld.so` does on Linux when this happens.\n\nThe `run-pass` test remains, and will fail if linkage breaks (in the case of OSX, it won't fail if linkage breaks until https://github.com/mozilla/rust/issues/10062 is resolved).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/27082086/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/27255542",
    "html_url": "https://github.com/rust-lang/rust/pull/9945#issuecomment-27255542",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9945",
    "id": 27255542,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MjU1NTQy",
    "user": {
      "login": "miselin",
      "id": 73127,
      "node_id": "MDQ6VXNlcjczMTI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/73127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/miselin",
      "html_url": "https://github.com/miselin",
      "followers_url": "https://api.github.com/users/miselin/followers",
      "following_url": "https://api.github.com/users/miselin/following{/other_user}",
      "gists_url": "https://api.github.com/users/miselin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/miselin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/miselin/subscriptions",
      "organizations_url": "https://api.github.com/users/miselin/orgs",
      "repos_url": "https://api.github.com/users/miselin/repos",
      "events_url": "https://api.github.com/users/miselin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/miselin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-10-28T20:53:54Z",
    "updated_at": "2013-10-28T20:54:04Z",
    "body": "Most recent failure due to an undefined reference to `__rust_crate_map_toplevel12743` when building `stdtest` on OSX.\n\n@alexcrichton you mentioned yesterday in IRC this happens when `crate_map()` is called twice - is that still correct and relevant here, or is the undefined reference an indicator of an issue with this PR applied?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/27255542/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/27314225",
    "html_url": "https://github.com/rust-lang/rust/pull/9945#issuecomment-27314225",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9945",
    "id": 27314225,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MzE0MjI1",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-10-29T15:42:24Z",
    "updated_at": "2013-10-29T15:42:24Z",
    "body": "Once by changes land for extracting libuv to another crate, this should be ready for another go (although it will probably need a rebase).\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/27314225/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/27357694",
    "html_url": "https://github.com/rust-lang/rust/pull/9945#issuecomment-27357694",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9945",
    "id": 27357694,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MzU3Njk0",
    "user": {
      "login": "miselin",
      "id": 73127,
      "node_id": "MDQ6VXNlcjczMTI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/73127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/miselin",
      "html_url": "https://github.com/miselin",
      "followers_url": "https://api.github.com/users/miselin/followers",
      "following_url": "https://api.github.com/users/miselin/following{/other_user}",
      "gists_url": "https://api.github.com/users/miselin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/miselin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/miselin/subscriptions",
      "organizations_url": "https://api.github.com/users/miselin/orgs",
      "repos_url": "https://api.github.com/users/miselin/repos",
      "events_url": "https://api.github.com/users/miselin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/miselin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-10-30T01:03:21Z",
    "updated_at": "2013-10-30T01:03:21Z",
    "body": "This is now freshly rebased to latest master.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/27357694/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/27366969",
    "html_url": "https://github.com/rust-lang/rust/pull/9945#issuecomment-27366969",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9945",
    "id": 27366969,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MzY2OTY5",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-10-30T05:57:43Z",
    "updated_at": "2013-10-30T05:57:43Z",
    "body": "OK after thinking about this, I don't think that this is the right way to do things, and I don't think that the right way to do things will involve this sort of management regardless. I don't think that this should be merged now because I believe that this is going in the opposite direction from where it should.\n\nThe results of privacy should not be at all used inside of codegen. The privacy of a function is a difficult idea and with this change you would be forced to decide whether privacy or reachability is your visibility constraint. I still believe that we should have a unified \"set the linkage of this LLVM value\" function, but that may be very far off. For now, I believe that all of these changes should be moved inside of the reachability phase of the compiler instead of the codegen phase. Additionally, I think the check to see if the compiler is building a library and if so mark everything as internal should be moved to reachability as well. The best way to begin unifying how linkage visibility is determined is to begin using one source of information for visibility, and that source should be reachability.\n\nSo to merge this, I would rather see code removed from trans and moved to reachability (with appropriate checks for building a library or not) and then trans should \"do the right thing\".\n\nAdditionally, I'd like to see some more comprehensive tests no matter what comes out of this. I don't think that the way you've set up the tests right now is the best way to do it. It involves weird linker hacks on OSX, won't work at all on windows, and only works by luck on linux. Instead, I would be much more comfortable using the `unstable::dynamic_lib` library for determining whether a symbol was exposed or not. This should return null for all internalized symbols and non-null for any symbols which made it through as external.\n\nDoes that sound OK with you? I can open an issue for this as well if you don't have time to get around to this. I believe though that this is more future-proof along with moving the code in the compiler to where it should be anyway.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/27366969/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/27367204",
    "html_url": "https://github.com/rust-lang/rust/pull/9945#issuecomment-27367204",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9945",
    "id": 27367204,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MzY3MjA0",
    "user": {
      "login": "miselin",
      "id": 73127,
      "node_id": "MDQ6VXNlcjczMTI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/73127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/miselin",
      "html_url": "https://github.com/miselin",
      "followers_url": "https://api.github.com/users/miselin/followers",
      "following_url": "https://api.github.com/users/miselin/following{/other_user}",
      "gists_url": "https://api.github.com/users/miselin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/miselin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/miselin/subscriptions",
      "organizations_url": "https://api.github.com/users/miselin/orgs",
      "repos_url": "https://api.github.com/users/miselin/repos",
      "events_url": "https://api.github.com/users/miselin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/miselin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-10-30T06:06:30Z",
    "updated_at": "2013-10-30T06:06:30Z",
    "body": "Sounds OK to me - now's the time to get it right, rather than try and fix it later.\n\nI should be able to get around to this, assuming there's no significant urgency (~1-2 weeks worst-case, maybe?). Happy to release to somebody else though, if time is of the essence.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/27367204/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/27367601",
    "html_url": "https://github.com/rust-lang/rust/pull/9945#issuecomment-27367601",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9945",
    "id": 27367601,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MzY3NjAx",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-10-30T06:19:53Z",
    "updated_at": "2013-10-30T06:19:53Z",
    "body": "You can certainly claim it! We're certainly in no rush for this, and if you need any help feel free to ping me!\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/27367601/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/27611344",
    "html_url": "https://github.com/rust-lang/rust/pull/9945#issuecomment-27611344",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9945",
    "id": 27611344,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3NjExMzQ0",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-02T00:49:52Z",
    "updated_at": "2013-11-02T00:49:52Z",
    "body": "Hm, so github thinks that this pull request has an infinite number of commits. It sounds like this may need to get reopened. (not sure why it's closed in the first place, but something looks awry).\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/27611344/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/27611652",
    "html_url": "https://github.com/rust-lang/rust/pull/9945#issuecomment-27611652",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9945",
    "id": 27611652,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3NjExNjUy",
    "user": {
      "login": "miselin",
      "id": 73127,
      "node_id": "MDQ6VXNlcjczMTI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/73127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/miselin",
      "html_url": "https://github.com/miselin",
      "followers_url": "https://api.github.com/users/miselin/followers",
      "following_url": "https://api.github.com/users/miselin/following{/other_user}",
      "gists_url": "https://api.github.com/users/miselin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/miselin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/miselin/subscriptions",
      "organizations_url": "https://api.github.com/users/miselin/orgs",
      "repos_url": "https://api.github.com/users/miselin/repos",
      "events_url": "https://api.github.com/users/miselin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/miselin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-02T01:02:55Z",
    "updated_at": "2013-11-02T01:02:55Z",
    "body": "Oooer that does not look right. I must've accidentally pushed origin/master into the remote. I'll have a look at figuring out why this is broken when I pick it back up again.\n\nShould never have done the work on master in the first place :-)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/27611652/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
