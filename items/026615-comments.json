[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/131064684",
    "html_url": "https://github.com/rust-lang/rust/issues/26615#issuecomment-131064684",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26615",
    "id": 131064684,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMTA2NDY4NA==",
    "user": {
      "login": "thepowersgang",
      "id": 955596,
      "node_id": "MDQ6VXNlcjk1NTU5Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/955596?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thepowersgang",
      "html_url": "https://github.com/thepowersgang",
      "followers_url": "https://api.github.com/users/thepowersgang/followers",
      "following_url": "https://api.github.com/users/thepowersgang/following{/other_user}",
      "gists_url": "https://api.github.com/users/thepowersgang/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thepowersgang/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thepowersgang/subscriptions",
      "organizations_url": "https://api.github.com/users/thepowersgang/orgs",
      "repos_url": "https://api.github.com/users/thepowersgang/repos",
      "events_url": "https://api.github.com/users/thepowersgang/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thepowersgang/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-08-14T10:35:58Z",
    "updated_at": "2015-08-14T10:35:58Z",
    "body": "Mostly fixed in #27584, above test case still produces a slightly unexpected result on playpen nightly, but points to the correct line (just to the `println!` invocation instead of `mac!`)\n\n```\n<anon>:8:5: 8:28 error: unexpected end of macro invocation\n<anon>:8     println!(\"{}\", mac!());\n             ^~~~~~~~~~~~~~~~~~~~~~~\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/131064684/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/137928661",
    "html_url": "https://github.com/rust-lang/rust/issues/26615#issuecomment-137928661",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26615",
    "id": 137928661,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzNzkyODY2MQ==",
    "user": {
      "login": "elinorbgr",
      "id": 3009227,
      "node_id": "MDQ6VXNlcjMwMDkyMjc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3009227?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/elinorbgr",
      "html_url": "https://github.com/elinorbgr",
      "followers_url": "https://api.github.com/users/elinorbgr/followers",
      "following_url": "https://api.github.com/users/elinorbgr/following{/other_user}",
      "gists_url": "https://api.github.com/users/elinorbgr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/elinorbgr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/elinorbgr/subscriptions",
      "organizations_url": "https://api.github.com/users/elinorbgr/orgs",
      "repos_url": "https://api.github.com/users/elinorbgr/repos",
      "events_url": "https://api.github.com/users/elinorbgr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/elinorbgr/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-09-05T08:21:30Z",
    "updated_at": "2015-09-05T08:21:30Z",
    "body": "There are still some pathological cases, for example with this file:\n\n``` rust\nfn main() {}\n\nfn foo() {\n    for _ in 0..3 {\n        /*\n            some\n            code\n            here\n        */\n        println!();\n        /*\n            some\n            code\n            here\n        */\n    }\n}\n```\n\nThe generated error (on nigthly playpen) is:\n\n```\n<anon>:4:5: 16:6 error: unexpected end of macro invocation\n<anon>:4     for _ in 0..3 {\n<anon>:5         /*\n<anon>:6             some\n<anon>:7             code\n<anon>:8             here\n<anon>:9         */\n         ...\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/137928661/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/138103492",
    "html_url": "https://github.com/rust-lang/rust/issues/26615#issuecomment-138103492",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26615",
    "id": 138103492,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzODEwMzQ5Mg==",
    "user": {
      "login": "TimNN",
      "id": 1178249,
      "node_id": "MDQ6VXNlcjExNzgyNDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1178249?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TimNN",
      "html_url": "https://github.com/TimNN",
      "followers_url": "https://api.github.com/users/TimNN/followers",
      "following_url": "https://api.github.com/users/TimNN/following{/other_user}",
      "gists_url": "https://api.github.com/users/TimNN/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TimNN/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TimNN/subscriptions",
      "organizations_url": "https://api.github.com/users/TimNN/orgs",
      "repos_url": "https://api.github.com/users/TimNN/repos",
      "events_url": "https://api.github.com/users/TimNN/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TimNN/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-09-06T17:38:11Z",
    "updated_at": "2015-09-06T17:38:11Z",
    "body": "Both of theses examples probably have the same root cause: The \"unexpected end of macro invocation\" error apparently always reports the span of the outermost ast node which requires expansion. See [this gist](https://gist.github.com/9229a43c3d5ae0e200dc) ([playground](https://play.rust-lang.org/?gist=9229a43c3d5ae0e200dc&version=nightly)) for some examples of which span is reported in different contexts.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/138103492/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/152514186",
    "html_url": "https://github.com/rust-lang/rust/issues/26615#issuecomment-152514186",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26615",
    "id": 152514186,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MjUxNDE4Ng==",
    "user": {
      "login": "TimNN",
      "id": 1178249,
      "node_id": "MDQ6VXNlcjExNzgyNDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1178249?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TimNN",
      "html_url": "https://github.com/TimNN",
      "followers_url": "https://api.github.com/users/TimNN/followers",
      "following_url": "https://api.github.com/users/TimNN/following{/other_user}",
      "gists_url": "https://api.github.com/users/TimNN/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TimNN/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TimNN/subscriptions",
      "organizations_url": "https://api.github.com/users/TimNN/orgs",
      "repos_url": "https://api.github.com/users/TimNN/repos",
      "events_url": "https://api.github.com/users/TimNN/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TimNN/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-30T12:47:35Z",
    "updated_at": "2015-10-30T12:47:35Z",
    "body": "The situation seems to have improved in the latest nightly: now only nested macro invocations have an incorrect spam and not macro invocations inside of other expanded things. Updated [gist](https://gist.github.com/62c717f26ad1b183cb94) ([playground](https://play.rust-lang.org/?gist=62c717f26ad1b183cb94&version=nightly)).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/152514186/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/152515342",
    "html_url": "https://github.com/rust-lang/rust/issues/26615#issuecomment-152515342",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26615",
    "id": 152515342,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MjUxNTM0Mg==",
    "user": {
      "login": "TimNN",
      "id": 1178249,
      "node_id": "MDQ6VXNlcjExNzgyNDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1178249?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TimNN",
      "html_url": "https://github.com/TimNN",
      "followers_url": "https://api.github.com/users/TimNN/followers",
      "following_url": "https://api.github.com/users/TimNN/following{/other_user}",
      "gists_url": "https://api.github.com/users/TimNN/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TimNN/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TimNN/subscriptions",
      "organizations_url": "https://api.github.com/users/TimNN/orgs",
      "repos_url": "https://api.github.com/users/TimNN/repos",
      "events_url": "https://api.github.com/users/TimNN/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TimNN/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-30T12:51:15Z",
    "updated_at": "2015-10-30T12:51:15Z",
    "body": "Looking over some pr's since my last comment, the improvement probably happened as part of #28857.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/152515342/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/299166202",
    "html_url": "https://github.com/rust-lang/rust/issues/26615#issuecomment-299166202",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26615",
    "id": 299166202,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5OTE2NjIwMg==",
    "user": {
      "login": "Mark-Simulacrum",
      "id": 5047365,
      "node_id": "MDQ6VXNlcjUwNDczNjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5047365?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Mark-Simulacrum",
      "html_url": "https://github.com/Mark-Simulacrum",
      "followers_url": "https://api.github.com/users/Mark-Simulacrum/followers",
      "following_url": "https://api.github.com/users/Mark-Simulacrum/following{/other_user}",
      "gists_url": "https://api.github.com/users/Mark-Simulacrum/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Mark-Simulacrum/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Mark-Simulacrum/subscriptions",
      "organizations_url": "https://api.github.com/users/Mark-Simulacrum/orgs",
      "repos_url": "https://api.github.com/users/Mark-Simulacrum/repos",
      "events_url": "https://api.github.com/users/Mark-Simulacrum/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Mark-Simulacrum/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-05-04T12:05:10Z",
    "updated_at": "2017-05-04T12:05:10Z",
    "body": "As noted above, non-nested macro invocations are now fixed, and those are tracked separately (#33871). Closing.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/299166202/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
