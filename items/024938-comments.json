[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/97470746",
    "html_url": "https://github.com/rust-lang/rust/issues/24938#issuecomment-97470746",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24938",
    "id": 97470746,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk3NDcwNzQ2",
    "user": {
      "login": "quantheory",
      "id": 1740206,
      "node_id": "MDQ6VXNlcjE3NDAyMDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1740206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/quantheory",
      "html_url": "https://github.com/quantheory",
      "followers_url": "https://api.github.com/users/quantheory/followers",
      "following_url": "https://api.github.com/users/quantheory/following{/other_user}",
      "gists_url": "https://api.github.com/users/quantheory/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/quantheory/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/quantheory/subscriptions",
      "organizations_url": "https://api.github.com/users/quantheory/orgs",
      "repos_url": "https://api.github.com/users/quantheory/repos",
      "events_url": "https://api.github.com/users/quantheory/events{/privacy}",
      "received_events_url": "https://api.github.com/users/quantheory/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-29T15:28:05Z",
    "updated_at": "2015-04-29T15:28:05Z",
    "body": "I don't yet know what the exact problem is, but I think that it is related to this failing test case:\n\n``` rust\n// Copyright 2015 The Rust Project Developers. See the COPYRIGHT\n// file at the top-level directory of this distribution and at\n// http://rust-lang.org/COPYRIGHT.\n//\n// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n// option. This file may not be copied, modified, or distributed\n// except according to those terms.\n\n#![feature(associated_consts)]\n\ntrait AsFixedSizeArray: Sized {\n    const SIZE: usize;\n    unsafe fn as_fixed_size_array(&self)\n                                  -> &[u8; <Self as AsFixedSizeArray>::SIZE];\n}\n\nimpl AsFixedSizeArray for u8 {\n    const SIZE: usize = 1;\n    fn as_fixed_size_array(&self)\n                           -> &[u8; <Self as AsFixedSizeArray>::SIZE] {\n        &[*self]\n    }\n}\n\nfn main() {\n    assert_eq!([1u8], *(1u8).as_fixed_size_array());\n}\n```\n\nOutput:\n\n```\nerror: internal compiler error: unexpected panic\nnote: the compiler unexpectedly panicked. this is a bug.\nnote: we would appreciate a bug report: https://github.com/rust-lang/rust/blob/master/CONTRIBUTING.md#bug-reports\nnote: run with `RUST_BACKTRACE=1` for a backtrace\nthread 'rustc' panicked at 'called `Option::unwrap()` on a `None` value', /home/rustbuild/src/rust-buildbot/slave/nightly-dist-rustc-linux/build/src/libcore/option.rs:362\n\nstack backtrace:\n   1:      0x360164ec0b9 - sys::backtrace::write::h0bd0381a7c6d019fBYr\n   2:      0x360164f3e46 - panicking::on_panic::h953134dfac303ab1pow\n   3:      0x360164b5ba2 - rt::unwind::begin_unwind_inner::hd1b458e2307f3d05z3v\n   4:      0x360164b6967 - rt::unwind::begin_unwind_fmt::h08053ed3951de550F2v\n   5:      0x360164f3a26 - rust_begin_unwind\n   6:      0x36016540084 - panicking::panic_fmt::hf5d8479bf55b3fa2NKy\n   7:      0x3601653ec64 - panicking::panic::h824ffaba30018d8bkJy\n   8:      0x360145fd848 - middle::ty::TraitRef<'tcx>::self_ty::h551bfe30dbbedbc9xr3\n   9:      0x36014627172 - middle::traits::select::SelectionContext<'cx, 'tcx>::candidate_from_obligation::hf8ada0827e1be47bteR\n  10:      0x360144ff3ed - middle::traits::select::SelectionContext<'cx, 'tcx>::select::h377fd22a5284042fsSQ\n  11:      0x360144f973a - middle::const_eval::resolve_trait_associated_const::h9711fd07dfd9af7cQMi\n  12:      0x360144acdf8 - middle::const_eval::eval_const_expr_partial::hb8dc4544c452182dcki\n  13:      0x36015ce0c35 - astconv::ast_ty_to_ty::h71cca4fc3e245676nSv\n  14:      0x36015ce0dac - astconv::ast_ty_to_ty::h71cca4fc3e245676nSv\n  15:      0x36015d31a4d - astconv::convert_ty_with_lifetime_elision::ha9a5c36346b84adeBQu\n  16:      0x36015d3b8d6 - astconv::ty_of_method_or_bare_fn::h225734b640577932p8v\n  17:      0x36015d58b6e - collect::convert_method::hd7d7ee3346f6b3e6zlx\n  18:      0x36015d43f38 - collect::convert_item::hd27f0bc8c9c983e37Ax\n  19:      0x36015d8baf6 - check_crate::closure.38750\n  20:      0x36015d89abb - check_crate::h8249ae25e4dcf889tCC\n  21:      0x36016a2f728 - driver::phase_3_run_analysis_passes::h5acb8c02893af881tGa\n  22:      0x36016a10fac - driver::compile_input::h2d4d7c29076e9ffaQba\n  23:      0x36016aca2f1 - run_compiler::h39664fd458db49c365b\n  24:      0x36016ac7b42 - boxed::F.FnBox<A>::call_box::h8536945657960310400\n  25:      0x36016ac70e9 - rt::unwind::try::try_fn::h4867300882306443046\n  26:      0x36016567788 - rust_try_inner\n  27:      0x36016567775 - rust_try\n  28:      0x36016ac7390 - boxed::F.FnBox<A>::call_box::h18199782063315395191\n  29:      0x360164f2be1 - sys::thread::Thread::new::thread_start::h92b0e1bfe7b243d409u\n  30:      0x3601059c68b - <unknown>\n  31:      0x3601615032c - clone\n  32:                0x0 - <unknown>\n```\n\nThere are a few similar cases that I will open bugs for, some of which have a common cause, I think.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/97470746/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/98624548",
    "html_url": "https://github.com/rust-lang/rust/issues/24938#issuecomment-98624548",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24938",
    "id": 98624548,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk4NjI0NTQ4",
    "user": {
      "login": "quantheory",
      "id": 1740206,
      "node_id": "MDQ6VXNlcjE3NDAyMDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1740206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/quantheory",
      "html_url": "https://github.com/quantheory",
      "followers_url": "https://api.github.com/users/quantheory/followers",
      "following_url": "https://api.github.com/users/quantheory/following{/other_user}",
      "gists_url": "https://api.github.com/users/quantheory/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/quantheory/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/quantheory/subscriptions",
      "organizations_url": "https://api.github.com/users/quantheory/orgs",
      "repos_url": "https://api.github.com/users/quantheory/repos",
      "events_url": "https://api.github.com/users/quantheory/events{/privacy}",
      "received_events_url": "https://api.github.com/users/quantheory/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-04T08:12:01Z",
    "updated_at": "2015-05-04T08:12:01Z",
    "body": "Hmm, I've sort-of figured out how to implement a fix, but it will take a bit more time. The problem is that:\n1. We need to figure out what types are present in order to do coherence checks.\n2. We need to do coherence checks in order to resolve associated consts that might depend on traits.\n3. We need to resolve associated consts in order to know what array types are present.\n\nThe most obvious solution is to do something similar to how associated types are currently handled using projections. (I think that @nikomatsakis mentioned something about this a while back.) I don't think that associated types are doing the right thing in all situations, but moving in that direction we could probably get a lot more code to compile.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/98624548/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/102864663",
    "html_url": "https://github.com/rust-lang/rust/issues/24938#issuecomment-102864663",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24938",
    "id": 102864663,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwMjg2NDY2Mw==",
    "user": {
      "login": "petrochenkov",
      "id": 5751617,
      "node_id": "MDQ6VXNlcjU3NTE2MTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5751617?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/petrochenkov",
      "html_url": "https://github.com/petrochenkov",
      "followers_url": "https://api.github.com/users/petrochenkov/followers",
      "following_url": "https://api.github.com/users/petrochenkov/following{/other_user}",
      "gists_url": "https://api.github.com/users/petrochenkov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/petrochenkov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/petrochenkov/subscriptions",
      "organizations_url": "https://api.github.com/users/petrochenkov/orgs",
      "repos_url": "https://api.github.com/users/petrochenkov/repos",
      "events_url": "https://api.github.com/users/petrochenkov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/petrochenkov/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-17T22:19:35Z",
    "updated_at": "2015-05-17T22:19:35Z",
    "body": "@quantheory \nClosing, the branch compiles now. Whatever the issue was you've fixed it in one of the recent PRs.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/102864663/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
