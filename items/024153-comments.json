[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/91048262",
    "html_url": "https://github.com/rust-lang/rust/issues/24153#issuecomment-91048262",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24153",
    "id": 91048262,
    "node_id": "MDEyOklzc3VlQ29tbWVudDkxMDQ4MjYy",
    "user": {
      "login": "SimonSapin",
      "id": 291359,
      "node_id": "MDQ6VXNlcjI5MTM1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SimonSapin",
      "html_url": "https://github.com/SimonSapin",
      "followers_url": "https://api.github.com/users/SimonSapin/followers",
      "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}",
      "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions",
      "organizations_url": "https://api.github.com/users/SimonSapin/orgs",
      "repos_url": "https://api.github.com/users/SimonSapin/repos",
      "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SimonSapin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-08T21:57:56Z",
    "updated_at": "2015-04-08T21:57:56Z",
    "body": "I took a stab at this. The reflection-based `Arena` goes fairly deep into compiler implementation details (transmuting `TraitObject.vtable`\u2026), so I wouldn\u2019t even try to port it to stable Rust.\n\nAs to `TypedArena`, porting it is more plausible but not straight-forward either since it uses not only `allocate` mentioned about but also `std::intrinsics::needs_drop`. Maybe that can be worked around with `Vec::from_raw_parts` with a non-zero length, but that would involve moving the chunk header outside of the data allocation. Unless we can just assume everything needs dropping and count on the entire loop being optimized away? That\u2019s what `Vec::drop` seems to be doing\u2026\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/91048262/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/91879706",
    "html_url": "https://github.com/rust-lang/rust/issues/24153#issuecomment-91879706",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24153",
    "id": 91879706,
    "node_id": "MDEyOklzc3VlQ29tbWVudDkxODc5NzA2",
    "user": {
      "login": "TeXitoi",
      "id": 5787066,
      "node_id": "MDQ6VXNlcjU3ODcwNjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5787066?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TeXitoi",
      "html_url": "https://github.com/TeXitoi",
      "followers_url": "https://api.github.com/users/TeXitoi/followers",
      "following_url": "https://api.github.com/users/TeXitoi/following{/other_user}",
      "gists_url": "https://api.github.com/users/TeXitoi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TeXitoi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TeXitoi/subscriptions",
      "organizations_url": "https://api.github.com/users/TeXitoi/orgs",
      "repos_url": "https://api.github.com/users/TeXitoi/repos",
      "events_url": "https://api.github.com/users/TeXitoi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TeXitoi/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-11T16:49:44Z",
    "updated_at": "2015-04-11T16:49:44Z",
    "body": "That would be great for the binarytree benchmark on http://benchmarksgame.alioth.debian.org/ (related issue: https://github.com/rust-lang/rfcs/issues/665)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/91879706/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/91883902",
    "html_url": "https://github.com/rust-lang/rust/issues/24153#issuecomment-91883902",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24153",
    "id": 91883902,
    "node_id": "MDEyOklzc3VlQ29tbWVudDkxODgzOTAy",
    "user": {
      "login": "SimonSapin",
      "id": 291359,
      "node_id": "MDQ6VXNlcjI5MTM1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SimonSapin",
      "html_url": "https://github.com/SimonSapin",
      "followers_url": "https://api.github.com/users/SimonSapin/followers",
      "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}",
      "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions",
      "organizations_url": "https://api.github.com/users/SimonSapin/orgs",
      "repos_url": "https://api.github.com/users/SimonSapin/repos",
      "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SimonSapin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-11T17:18:27Z",
    "updated_at": "2015-04-11T17:18:27Z",
    "body": "I published a rewrite of `TypedArena`: https://crates.io/crates/typed-arena\n\nIt runs on beta/stable. It\u2019s probably less efficient, but uses much less unsafe code internally. (It\u2019s based on `Vec<Vec<T>>` where inner vectors never grow beyond their initial capacity, instead of raw pointers and manual drops.)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/91883902/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
