[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46170876",
    "html_url": "https://github.com/rust-lang/rust/issues/14817#issuecomment-46170876",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14817",
    "id": 46170876,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MTcwODc2",
    "user": {
      "login": "Ogeon",
      "id": 225229,
      "node_id": "MDQ6VXNlcjIyNTIyOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/225229?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Ogeon",
      "html_url": "https://github.com/Ogeon",
      "followers_url": "https://api.github.com/users/Ogeon/followers",
      "following_url": "https://api.github.com/users/Ogeon/following{/other_user}",
      "gists_url": "https://api.github.com/users/Ogeon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Ogeon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Ogeon/subscriptions",
      "organizations_url": "https://api.github.com/users/Ogeon/orgs",
      "repos_url": "https://api.github.com/users/Ogeon/repos",
      "events_url": "https://api.github.com/users/Ogeon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Ogeon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-06-16T12:15:35Z",
    "updated_at": "2014-06-16T12:15:35Z",
    "body": "I made a short example here: https://gist.github.com/Ogeon/e3bef372a5d0148197a3\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46170876/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/73806906",
    "html_url": "https://github.com/rust-lang/rust/issues/14817#issuecomment-73806906",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14817",
    "id": 73806906,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczODA2OTA2",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-02-10T23:28:36Z",
    "updated_at": "2015-02-10T23:28:36Z",
    "body": "This example no longer compiles, because `BasicIdentMacroExpander` no longer exists. If you still think this is a bug, please post an updated example, but until we can reproduce, I'm going to give this a close.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/73806906/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/73809449",
    "html_url": "https://github.com/rust-lang/rust/issues/14817#issuecomment-73809449",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14817",
    "id": 73809449,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczODA5NDQ5",
    "user": {
      "login": "Ogeon",
      "id": 225229,
      "node_id": "MDQ6VXNlcjIyNTIyOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/225229?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Ogeon",
      "html_url": "https://github.com/Ogeon",
      "followers_url": "https://api.github.com/users/Ogeon/followers",
      "following_url": "https://api.github.com/users/Ogeon/following{/other_user}",
      "gists_url": "https://api.github.com/users/Ogeon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Ogeon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Ogeon/subscriptions",
      "organizations_url": "https://api.github.com/users/Ogeon/orgs",
      "repos_url": "https://api.github.com/users/Ogeon/repos",
      "events_url": "https://api.github.com/users/Ogeon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Ogeon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-02-10T23:48:48Z",
    "updated_at": "2015-02-10T23:48:48Z",
    "body": "It's not as relevant now as it was back then, since syntax extensions are staying unstable and `macro_rules!` doesn't produce `IdentTT` macros, as far as I know. I'll let it go for now.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/73809449/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/147965097",
    "html_url": "https://github.com/rust-lang/rust/issues/14817#issuecomment-147965097",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14817",
    "id": 147965097,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0Nzk2NTA5Nw==",
    "user": {
      "login": "ptal",
      "id": 3127628,
      "node_id": "MDQ6VXNlcjMxMjc2Mjg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3127628?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ptal",
      "html_url": "https://github.com/ptal",
      "followers_url": "https://api.github.com/users/ptal/followers",
      "following_url": "https://api.github.com/users/ptal/following{/other_user}",
      "gists_url": "https://api.github.com/users/ptal/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ptal/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ptal/subscriptions",
      "organizations_url": "https://api.github.com/users/ptal/orgs",
      "repos_url": "https://api.github.com/users/ptal/repos",
      "events_url": "https://api.github.com/users/ptal/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ptal/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-14T07:47:42Z",
    "updated_at": "2015-10-14T07:50:03Z",
    "body": "Should be reopened. Example failing to compile here: https://github.com/ptal/procedural-macro\nCompile error is:\n\n```\nCompiling procedural_macro v0.1.0 (file:///home/ptalbot/repositories/procedural-macro)\ntests/test.rs:6:3: 6:16 error: non-item macro in item position: macro_as_expr\ntests/test.rs:6   macro_as_expr! e {}\n                  ^~~~~~~~~~~~~\nerror: aborting due to previous error\nCould not compile `procedural_macro`.\n```\n\nAs adviced by @nrc on IRC I am trying to solve the problem myself but need some directions.\n\nI think the problem starts in [parser.rs](https://github.com/rust-lang/rust/blob/master/src/libsyntax/parse/parser.rs#L3504) the comment:\n\n `// if it has a special ident, it's definitely an item`\n\nis probably a false assumption, why should an IdentTT macro be an item? My proposal to solve this is to add a field `ident: Option<Ident>` to `Mac_`. Does it sound good?\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/147965097/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/148243501",
    "html_url": "https://github.com/rust-lang/rust/issues/14817#issuecomment-148243501",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14817",
    "id": 148243501,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0ODI0MzUwMQ==",
    "user": {
      "login": "nrc",
      "id": 762626,
      "node_id": "MDQ6VXNlcjc2MjYyNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/762626?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nrc",
      "html_url": "https://github.com/nrc",
      "followers_url": "https://api.github.com/users/nrc/followers",
      "following_url": "https://api.github.com/users/nrc/following{/other_user}",
      "gists_url": "https://api.github.com/users/nrc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nrc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nrc/subscriptions",
      "organizations_url": "https://api.github.com/users/nrc/orgs",
      "repos_url": "https://api.github.com/users/nrc/repos",
      "events_url": "https://api.github.com/users/nrc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nrc/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-15T00:53:32Z",
    "updated_at": "2015-10-15T00:53:32Z",
    "body": "First note: that comment doesn't quite match the code - we should remove the word \"special\" from the comment.\n\nI agree that this assumption seems unnecessary. You can probably relax this here. But you will have to check some where else for this condition for IdentTT macros which expand to items but don't have a semi-colon or braces. I guess you can't do that until expansion.\n\nI think the bulk of work will need to be done in src/libsyntax/ext/expand.rs, where there's a bunch of places which work with NormalTT but not IdentTT.\n\nAdding an `Option<Ident>` to `Mac_` sounds like a good idea. For macros which are an Item, the ident in the Item should be `token::special_idents::invalid`.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/148243501/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/261343819",
    "html_url": "https://github.com/rust-lang/rust/issues/14817#issuecomment-261343819",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14817",
    "id": 261343819,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MTM0MzgxOQ==",
    "user": {
      "login": "spinda",
      "id": 7958605,
      "node_id": "MDQ6VXNlcjc5NTg2MDU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7958605?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/spinda",
      "html_url": "https://github.com/spinda",
      "followers_url": "https://api.github.com/users/spinda/followers",
      "following_url": "https://api.github.com/users/spinda/following{/other_user}",
      "gists_url": "https://api.github.com/users/spinda/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/spinda/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/spinda/subscriptions",
      "organizations_url": "https://api.github.com/users/spinda/orgs",
      "repos_url": "https://api.github.com/users/spinda/repos",
      "events_url": "https://api.github.com/users/spinda/events{/privacy}",
      "received_events_url": "https://api.github.com/users/spinda/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-11-17T19:27:23Z",
    "updated_at": "2016-11-17T19:27:23Z",
    "body": "For what it's worth, I ran into this today after designing an EDSL around IdentTT in the expression context. Any guidance on fixing this in the current state of the code?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/261343819/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/301771204",
    "html_url": "https://github.com/rust-lang/rust/issues/14817#issuecomment-301771204",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14817",
    "id": 301771204,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMTc3MTIwNA==",
    "user": {
      "login": "Mark-Simulacrum",
      "id": 5047365,
      "node_id": "MDQ6VXNlcjUwNDczNjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5047365?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Mark-Simulacrum",
      "html_url": "https://github.com/Mark-Simulacrum",
      "followers_url": "https://api.github.com/users/Mark-Simulacrum/followers",
      "following_url": "https://api.github.com/users/Mark-Simulacrum/following{/other_user}",
      "gists_url": "https://api.github.com/users/Mark-Simulacrum/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Mark-Simulacrum/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Mark-Simulacrum/subscriptions",
      "organizations_url": "https://api.github.com/users/Mark-Simulacrum/orgs",
      "repos_url": "https://api.github.com/users/Mark-Simulacrum/repos",
      "events_url": "https://api.github.com/users/Mark-Simulacrum/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Mark-Simulacrum/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-05-16T12:47:29Z",
    "updated_at": "2017-05-16T12:47:29Z",
    "body": "Unfortunately I don't think this bug is actionable since I can't find working examples. @spinda if you still need assistance, I think an internals.rust-lang.org thread may be the most helpful.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/301771204/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
