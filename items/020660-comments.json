[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/68952217",
    "html_url": "https://github.com/rust-lang/rust/issues/20660#issuecomment-68952217",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20660",
    "id": 68952217,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4OTUyMjE3",
    "user": {
      "login": "cactorium",
      "id": 1513183,
      "node_id": "MDQ6VXNlcjE1MTMxODM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1513183?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cactorium",
      "html_url": "https://github.com/cactorium",
      "followers_url": "https://api.github.com/users/cactorium/followers",
      "following_url": "https://api.github.com/users/cactorium/following{/other_user}",
      "gists_url": "https://api.github.com/users/cactorium/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cactorium/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cactorium/subscriptions",
      "organizations_url": "https://api.github.com/users/cactorium/orgs",
      "repos_url": "https://api.github.com/users/cactorium/repos",
      "events_url": "https://api.github.com/users/cactorium/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cactorium/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-06T23:13:36Z",
    "updated_at": "2015-01-06T23:13:36Z",
    "body": "Mind if I try to fix this?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/68952217/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/68952761",
    "html_url": "https://github.com/rust-lang/rust/issues/20660#issuecomment-68952761",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20660",
    "id": 68952761,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4OTUyNzYx",
    "user": {
      "login": "dgrunwald",
      "id": 243140,
      "node_id": "MDQ6VXNlcjI0MzE0MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/243140?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dgrunwald",
      "html_url": "https://github.com/dgrunwald",
      "followers_url": "https://api.github.com/users/dgrunwald/followers",
      "following_url": "https://api.github.com/users/dgrunwald/following{/other_user}",
      "gists_url": "https://api.github.com/users/dgrunwald/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dgrunwald/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dgrunwald/subscriptions",
      "organizations_url": "https://api.github.com/users/dgrunwald/orgs",
      "repos_url": "https://api.github.com/users/dgrunwald/repos",
      "events_url": "https://api.github.com/users/dgrunwald/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dgrunwald/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-06T23:18:01Z",
    "updated_at": "2015-01-06T23:18:01Z",
    "body": "I don't mind.\nI currently don't plan to start hacking on rustc, though that might change in the future. (I have some experience doing compilers)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/68952761/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/68973705",
    "html_url": "https://github.com/rust-lang/rust/issues/20660#issuecomment-68973705",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20660",
    "id": 68973705,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4OTczNzA1",
    "user": {
      "login": "tomjakubowski",
      "id": 667901,
      "node_id": "MDQ6VXNlcjY2NzkwMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/667901?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tomjakubowski",
      "html_url": "https://github.com/tomjakubowski",
      "followers_url": "https://api.github.com/users/tomjakubowski/followers",
      "following_url": "https://api.github.com/users/tomjakubowski/following{/other_user}",
      "gists_url": "https://api.github.com/users/tomjakubowski/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tomjakubowski/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tomjakubowski/subscriptions",
      "organizations_url": "https://api.github.com/users/tomjakubowski/orgs",
      "repos_url": "https://api.github.com/users/tomjakubowski/repos",
      "events_url": "https://api.github.com/users/tomjakubowski/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tomjakubowski/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-07T03:17:16Z",
    "updated_at": "2015-01-07T03:17:16Z",
    "body": "In general, `#[repr(C)]` can be added to any type whether or not it can actually be safely represented as a C type. It would be easier to add the warning if such a 0-sized type is used in an FFI position, which ought to be a simple addition to the `improper_ctypes` lint.\n\nBy the way, I think it would be dangerous to assume that `#[repr(C)] struct Foo;` is compatible with the GCC extensions.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/68973705/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/68975940",
    "html_url": "https://github.com/rust-lang/rust/issues/20660#issuecomment-68975940",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20660",
    "id": 68975940,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4OTc1OTQw",
    "user": {
      "login": "cactorium",
      "id": 1513183,
      "node_id": "MDQ6VXNlcjE1MTMxODM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1513183?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cactorium",
      "html_url": "https://github.com/cactorium",
      "followers_url": "https://api.github.com/users/cactorium/followers",
      "following_url": "https://api.github.com/users/cactorium/following{/other_user}",
      "gists_url": "https://api.github.com/users/cactorium/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cactorium/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cactorium/subscriptions",
      "organizations_url": "https://api.github.com/users/cactorium/orgs",
      "repos_url": "https://api.github.com/users/cactorium/repos",
      "events_url": "https://api.github.com/users/cactorium/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cactorium/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-07T03:55:55Z",
    "updated_at": "2015-01-07T03:55:55Z",
    "body": "Ack, sorry, what's a FFI position?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/68975940/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/68979614",
    "html_url": "https://github.com/rust-lang/rust/issues/20660#issuecomment-68979614",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20660",
    "id": 68979614,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4OTc5NjE0",
    "user": {
      "login": "dylanmckay",
      "id": 7722159,
      "node_id": "MDQ6VXNlcjc3MjIxNTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7722159?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dylanmckay",
      "html_url": "https://github.com/dylanmckay",
      "followers_url": "https://api.github.com/users/dylanmckay/followers",
      "following_url": "https://api.github.com/users/dylanmckay/following{/other_user}",
      "gists_url": "https://api.github.com/users/dylanmckay/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dylanmckay/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dylanmckay/subscriptions",
      "organizations_url": "https://api.github.com/users/dylanmckay/orgs",
      "repos_url": "https://api.github.com/users/dylanmckay/repos",
      "events_url": "https://api.github.com/users/dylanmckay/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dylanmckay/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-07T05:09:10Z",
    "updated_at": "2015-01-07T05:09:10Z",
    "body": "> Ack, sorry, what's a FFI position?\n\ntomjakubowski means that a warning should be issued in the case that a unit struct is used in FFI code (for example, in a call to an external C function)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/68979614/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/68980260",
    "html_url": "https://github.com/rust-lang/rust/issues/20660#issuecomment-68980260",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20660",
    "id": 68980260,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4OTgwMjYw",
    "user": {
      "login": "cactorium",
      "id": 1513183,
      "node_id": "MDQ6VXNlcjE1MTMxODM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1513183?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cactorium",
      "html_url": "https://github.com/cactorium",
      "followers_url": "https://api.github.com/users/cactorium/followers",
      "following_url": "https://api.github.com/users/cactorium/following{/other_user}",
      "gists_url": "https://api.github.com/users/cactorium/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cactorium/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cactorium/subscriptions",
      "organizations_url": "https://api.github.com/users/cactorium/orgs",
      "repos_url": "https://api.github.com/users/cactorium/repos",
      "events_url": "https://api.github.com/users/cactorium/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cactorium/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-07T05:20:36Z",
    "updated_at": "2015-01-07T05:20:36Z",
    "body": "Ah, that make sense. The `improper_ctypes` lint code already limits what it checks to exactly that, so I've managed to add a check for unit structs only in that case by following the path of least resistance. Pull request soon hopefully!\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/68980260/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69150327",
    "html_url": "https://github.com/rust-lang/rust/issues/20660#issuecomment-69150327",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20660",
    "id": 69150327,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5MTUwMzI3",
    "user": {
      "login": "dgrunwald",
      "id": 243140,
      "node_id": "MDQ6VXNlcjI0MzE0MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/243140?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dgrunwald",
      "html_url": "https://github.com/dgrunwald",
      "followers_url": "https://api.github.com/users/dgrunwald/followers",
      "following_url": "https://api.github.com/users/dgrunwald/following{/other_user}",
      "gists_url": "https://api.github.com/users/dgrunwald/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dgrunwald/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dgrunwald/subscriptions",
      "organizations_url": "https://api.github.com/users/dgrunwald/orgs",
      "repos_url": "https://api.github.com/users/dgrunwald/repos",
      "events_url": "https://api.github.com/users/dgrunwald/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dgrunwald/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-08T08:38:34Z",
    "updated_at": "2015-01-08T08:38:34Z",
    "body": "I forgot that there is another possible use of unit structs in FFI code: representing incomplete types.\nThese don't actually have size 0 on the C side of things, but rather an unknown size. We can't use DST in FFI code to represent these because we don't want fat pointers, so the usual solution is to use a unit struct.\nBecause pointers to incomplete types are never dereferenced in Rust code, the representation chosen by Rust doesn't matter -- we could even skip checking for #[repr(C)].\n\nProblems occur only when a unit struct is passed by value, or if we pass a pointer to a struct that contains a unit struct.\nSo I think the solution is to not recurse into pointer types if the target type is a unit struct.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69150327/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69503869",
    "html_url": "https://github.com/rust-lang/rust/issues/20660#issuecomment-69503869",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20660",
    "id": 69503869,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5NTAzODY5",
    "user": {
      "login": "cactorium",
      "id": 1513183,
      "node_id": "MDQ6VXNlcjE1MTMxODM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1513183?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cactorium",
      "html_url": "https://github.com/cactorium",
      "followers_url": "https://api.github.com/users/cactorium/followers",
      "following_url": "https://api.github.com/users/cactorium/following{/other_user}",
      "gists_url": "https://api.github.com/users/cactorium/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cactorium/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cactorium/subscriptions",
      "organizations_url": "https://api.github.com/users/cactorium/orgs",
      "repos_url": "https://api.github.com/users/cactorium/repos",
      "events_url": "https://api.github.com/users/cactorium/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cactorium/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-11T18:01:52Z",
    "updated_at": "2015-01-11T18:01:52Z",
    "body": "Sorry for taking so long to reply, it's taking a while to figure out how to do this. We can't not recurse, since we need to check for structs inside structs that have unit structs as fields, so I've been reading a lot of the AST and type tree source to figure out how to tell a pointer to a struct from a struct and how they're all represented in the trees, which has been oddly difficult. Getting there though!\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/69503869/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/166110712",
    "html_url": "https://github.com/rust-lang/rust/issues/20660#issuecomment-166110712",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20660",
    "id": 166110712,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2NjExMDcxMg==",
    "user": {
      "login": "TimNN",
      "id": 1178249,
      "node_id": "MDQ6VXNlcjExNzgyNDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1178249?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TimNN",
      "html_url": "https://github.com/TimNN",
      "followers_url": "https://api.github.com/users/TimNN/followers",
      "following_url": "https://api.github.com/users/TimNN/following{/other_user}",
      "gists_url": "https://api.github.com/users/TimNN/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TimNN/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TimNN/subscriptions",
      "organizations_url": "https://api.github.com/users/TimNN/orgs",
      "repos_url": "https://api.github.com/users/TimNN/repos",
      "events_url": "https://api.github.com/users/TimNN/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TimNN/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-12-20T11:20:21Z",
    "updated_at": "2015-12-20T11:20:21Z",
    "body": "When a zero-sized struct is used in an `extern` block the `improper_ctypes` lint triggers in current stable, so this can probably be closed: http://is.gd/VLsUnr\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/166110712/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/166134160",
    "html_url": "https://github.com/rust-lang/rust/issues/20660#issuecomment-166134160",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20660",
    "id": 166134160,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2NjEzNDE2MA==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-12-20T16:37:21Z",
    "updated_at": "2015-12-20T16:37:21Z",
    "body": "Yay!\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/166134160/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
