[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/25932363",
    "html_url": "https://github.com/rust-lang/rust/pull/9732#issuecomment-25932363",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9732",
    "id": 25932363,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1OTMyMzYz",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-10-08T22:14:29Z",
    "updated_at": "2013-10-08T22:14:29Z",
    "body": "How does rustpkg allow sources of dependencies to be updated? What happens when they are read only and need to be updated?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/25932363/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26015843",
    "html_url": "https://github.com/rust-lang/rust/pull/9732#issuecomment-26015843",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/9732",
    "id": 26015843,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MDE1ODQz",
    "user": {
      "login": "catamorphism",
      "id": 427212,
      "node_id": "MDQ6VXNlcjQyNzIxMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/427212?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/catamorphism",
      "html_url": "https://github.com/catamorphism",
      "followers_url": "https://api.github.com/users/catamorphism/followers",
      "following_url": "https://api.github.com/users/catamorphism/following{/other_user}",
      "gists_url": "https://api.github.com/users/catamorphism/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/catamorphism/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/catamorphism/subscriptions",
      "organizations_url": "https://api.github.com/users/catamorphism/orgs",
      "repos_url": "https://api.github.com/users/catamorphism/repos",
      "events_url": "https://api.github.com/users/catamorphism/events{/privacy}",
      "received_events_url": "https://api.github.com/users/catamorphism/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-10-09T22:49:17Z",
    "updated_at": "2013-10-09T22:51:17Z",
    "body": "@brson That's a good question, and I should add a test for that situation. I would rather land this PR first, though.\n\nWhat I think will happen right now is that rustpkg will never update sources once they're checked out. That's obviously not the desired behavior.\n\nWhat I think should happen is that rustpkg should always check for upstream changes _unless_ a specific revision was requested [1]. If there are new changes, it should fetch them into a temporary directory, then force-rm the old checked-out sources [2] and move the temporary directory into the existing directory if everything succeeded.\n\nThis is hard to test for the same reason that we don't have tests for anything that makes network requests from a git server.\n\nAn alternative is to add a \"rustpkg freshen\" (or something) command that updates any git sources that are known about. Or, a `--update` flag that goes with `build` and `install`. Personally I'd rather not add more flags, though.\n\n[1] However, if there's no network connection available, it should continue gracefully, perhaps printing a warning.\n[2] To protect people against data loss if they accidentally made the files writable and made their own changes, perhaps it could also error out at this point if the existing files that are supposed to be read-only _aren't_?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/26015843/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
