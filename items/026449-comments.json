[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/116676138",
    "html_url": "https://github.com/rust-lang/rust/issues/26449#issuecomment-116676138",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26449",
    "id": 116676138,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExNjY3NjEzOA==",
    "user": {
      "login": "Roxxik",
      "id": 9296375,
      "node_id": "MDQ6VXNlcjkyOTYzNzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9296375?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Roxxik",
      "html_url": "https://github.com/Roxxik",
      "followers_url": "https://api.github.com/users/Roxxik/followers",
      "following_url": "https://api.github.com/users/Roxxik/following{/other_user}",
      "gists_url": "https://api.github.com/users/Roxxik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Roxxik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Roxxik/subscriptions",
      "organizations_url": "https://api.github.com/users/Roxxik/orgs",
      "repos_url": "https://api.github.com/users/Roxxik/repos",
      "events_url": "https://api.github.com/users/Roxxik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Roxxik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-06-29T14:02:49Z",
    "updated_at": "2015-06-29T14:04:46Z",
    "body": "I've investigated this a little further:\nlibcore cannot be compiled without mmx, sse and sse2\nthe following commands all fail\n\n```\n$ rustc -O -g --crate-type=lib --emit=link --emit=obj -C target-feature=-mmx --crate-name core lib.rs\nLLVM ERROR: SSE register return with SSE disabled\n$ rustc -O -g --crate-type=lib --emit=link --emit=obj -C target-feature=-sse --crate-name core lib.rs\nLLVM ERROR: SSE register return with SSE disabled\n$ rustc -O -g --crate-type=lib --emit=link --emit=obj -C target-feature=-sse2 --crate-name core lib.rs\nLLVM ERROR: SSE2 register return with SSE2 disabled\n```\n\nthe command above without those three disabled works for me\n\n```\n$ rustc --crate-type=lib --emit=link -O -C soft-float -C target-feature=-sse3,-ssse3,-sse4.1,-sse4.2,-3dnow,-3dnowa,-avx,-avx2 -g --emit=obj -C soft-float -C no-vectorize-slp -C no-vectorize-loops --crate-name core lib.rs\n```\n\nI haven't tested whether the resulting object file is functional.\n\n```\n$ rustc --version --verbose\n```\n\nrustc 1.3.0-dev (40db46c6b 2015-06-29)\nbinary: rustc\ncommit-hash: 40db46c6ba0d59e5ad9aa056a73055d2d3b83d04\ncommit-date: 2015-06-29\nhost: x86_64-unknown-linux-gnu\nrelease: 1.3.0-dev\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/116676138/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/117890582",
    "html_url": "https://github.com/rust-lang/rust/issues/26449#issuecomment-117890582",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26449",
    "id": 117890582,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExNzg5MDU4Mg==",
    "user": {
      "login": "eternaleye",
      "id": 99404,
      "node_id": "MDQ6VXNlcjk5NDA0",
      "avatar_url": "https://avatars.githubusercontent.com/u/99404?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eternaleye",
      "html_url": "https://github.com/eternaleye",
      "followers_url": "https://api.github.com/users/eternaleye/followers",
      "following_url": "https://api.github.com/users/eternaleye/following{/other_user}",
      "gists_url": "https://api.github.com/users/eternaleye/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eternaleye/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eternaleye/subscriptions",
      "organizations_url": "https://api.github.com/users/eternaleye/orgs",
      "repos_url": "https://api.github.com/users/eternaleye/repos",
      "events_url": "https://api.github.com/users/eternaleye/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eternaleye/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-02T03:21:06Z",
    "updated_at": "2015-07-02T03:25:45Z",
    "body": "To explain somewhat:\n\nThe x86_64 ABI states that it is _mandatory_ for floating-point return values to be passed in SSE registers. On one level, this makes an enormous amount of sense: the 387 FPU [being a weird 80-bit _thing_ causes real issues](https://gcc.gnu.org/bugzilla/show_bug.cgi?id=323), and every x86_64 CPU possesses SSE2.\n\nOn the other hand, LLVM doesn't offer any functionality along the lines of GCC's `-mfpmath` to _override_ this behavior. At least at one point, adding `+soft-float` to the target fixed the issue, but I've heard that no longer does the trick.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/117890582/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/117905928",
    "html_url": "https://github.com/rust-lang/rust/issues/26449#issuecomment-117905928",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26449",
    "id": 117905928,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExNzkwNTkyOA==",
    "user": {
      "login": "thepowersgang",
      "id": 955596,
      "node_id": "MDQ6VXNlcjk1NTU5Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/955596?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thepowersgang",
      "html_url": "https://github.com/thepowersgang",
      "followers_url": "https://api.github.com/users/thepowersgang/followers",
      "following_url": "https://api.github.com/users/thepowersgang/following{/other_user}",
      "gists_url": "https://api.github.com/users/thepowersgang/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thepowersgang/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thepowersgang/subscriptions",
      "organizations_url": "https://api.github.com/users/thepowersgang/orgs",
      "repos_url": "https://api.github.com/users/thepowersgang/repos",
      "events_url": "https://api.github.com/users/thepowersgang/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thepowersgang/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-02T04:54:00Z",
    "updated_at": "2015-07-02T04:54:00Z",
    "body": "And to state why one would want to disable SSE etc. When writing kernel-mode code, it is very undesirable to touch the floating-point or vector units, as they both require explicit initialization, and have very large register states that would have to be saved on all context switches.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/117905928/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/117907986",
    "html_url": "https://github.com/rust-lang/rust/issues/26449#issuecomment-117907986",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26449",
    "id": 117907986,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExNzkwNzk4Ng==",
    "user": {
      "login": "eternaleye",
      "id": 99404,
      "node_id": "MDQ6VXNlcjk5NDA0",
      "avatar_url": "https://avatars.githubusercontent.com/u/99404?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eternaleye",
      "html_url": "https://github.com/eternaleye",
      "followers_url": "https://api.github.com/users/eternaleye/followers",
      "following_url": "https://api.github.com/users/eternaleye/following{/other_user}",
      "gists_url": "https://api.github.com/users/eternaleye/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eternaleye/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eternaleye/subscriptions",
      "organizations_url": "https://api.github.com/users/eternaleye/orgs",
      "repos_url": "https://api.github.com/users/eternaleye/repos",
      "events_url": "https://api.github.com/users/eternaleye/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eternaleye/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-02T05:06:20Z",
    "updated_at": "2015-07-02T05:06:20Z",
    "body": "Personally, I'd actually like the idea of splitting libcore into float-free and float-using parts, as there are embedded CPUs with no FPU that are also of interest.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/117907986/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/118057133",
    "html_url": "https://github.com/rust-lang/rust/issues/26449#issuecomment-118057133",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26449",
    "id": 118057133,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExODA1NzEzMw==",
    "user": {
      "login": "gz",
      "id": 127654,
      "node_id": "MDQ6VXNlcjEyNzY1NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/127654?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gz",
      "html_url": "https://github.com/gz",
      "followers_url": "https://api.github.com/users/gz/followers",
      "following_url": "https://api.github.com/users/gz/following{/other_user}",
      "gists_url": "https://api.github.com/users/gz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gz/subscriptions",
      "organizations_url": "https://api.github.com/users/gz/orgs",
      "repos_url": "https://api.github.com/users/gz/repos",
      "events_url": "https://api.github.com/users/gz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gz/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-02T14:51:42Z",
    "updated_at": "2015-07-02T14:51:42Z",
    "body": "Just adding a feature to disable floating point related functions/types etc. should be sufficient for architectures that do not support it or codebases that do not want to use it, right?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/118057133/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/118080216",
    "html_url": "https://github.com/rust-lang/rust/issues/26449#issuecomment-118080216",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26449",
    "id": 118080216,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExODA4MDIxNg==",
    "user": {
      "login": "thepowersgang",
      "id": 955596,
      "node_id": "MDQ6VXNlcjk1NTU5Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/955596?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thepowersgang",
      "html_url": "https://github.com/thepowersgang",
      "followers_url": "https://api.github.com/users/thepowersgang/followers",
      "following_url": "https://api.github.com/users/thepowersgang/following{/other_user}",
      "gists_url": "https://api.github.com/users/thepowersgang/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thepowersgang/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thepowersgang/subscriptions",
      "organizations_url": "https://api.github.com/users/thepowersgang/orgs",
      "repos_url": "https://api.github.com/users/thepowersgang/repos",
      "events_url": "https://api.github.com/users/thepowersgang/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thepowersgang/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-02T16:09:26Z",
    "updated_at": "2015-07-02T16:09:26Z",
    "body": "@gz Adding a `cfg()` flag that disables compilation of the floating-point functions did allow libcore to be compiled with SSE etc disabled. See https://github.com/thepowersgang/rust_os/blob/master/libcore_nofp.patch for a patch on for the latest nightly.\n\nI'm not sure what the best long-run solution would be, but probably having a `#[cfg]` flag is best (and making sure it gets tested correctly).\n\nAs a related note - Could that LLVM error message be changed to include the offending function? (I'm not sure where such a change would happen, in the rust branch, or in upstream LLVM)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/118080216/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/118467802",
    "html_url": "https://github.com/rust-lang/rust/issues/26449#issuecomment-118467802",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26449",
    "id": 118467802,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExODQ2NzgwMg==",
    "user": {
      "login": "gz",
      "id": 127654,
      "node_id": "MDQ6VXNlcjEyNzY1NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/127654?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gz",
      "html_url": "https://github.com/gz",
      "followers_url": "https://api.github.com/users/gz/followers",
      "following_url": "https://api.github.com/users/gz/following{/other_user}",
      "gists_url": "https://api.github.com/users/gz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gz/subscriptions",
      "organizations_url": "https://api.github.com/users/gz/orgs",
      "repos_url": "https://api.github.com/users/gz/repos",
      "events_url": "https://api.github.com/users/gz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gz/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-04T06:13:02Z",
    "updated_at": "2015-07-04T23:27:36Z",
    "body": "FYI I submitted a pull request for this: #26749\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/118467802/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/129014192",
    "html_url": "https://github.com/rust-lang/rust/issues/26449#issuecomment-129014192",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26449",
    "id": 129014192,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyOTAxNDE5Mg==",
    "user": {
      "login": "gz",
      "id": 127654,
      "node_id": "MDQ6VXNlcjEyNzY1NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/127654?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gz",
      "html_url": "https://github.com/gz",
      "followers_url": "https://api.github.com/users/gz/followers",
      "following_url": "https://api.github.com/users/gz/following{/other_user}",
      "gists_url": "https://api.github.com/users/gz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gz/subscriptions",
      "organizations_url": "https://api.github.com/users/gz/orgs",
      "repos_url": "https://api.github.com/users/gz/repos",
      "events_url": "https://api.github.com/users/gz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gz/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-08-08T17:21:16Z",
    "updated_at": "2015-08-08T17:21:16Z",
    "body": "FYI: https://llvm.org/bugs/show_bug.cgi?id=23203\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/129014192/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/152644014",
    "html_url": "https://github.com/rust-lang/rust/issues/26449#issuecomment-152644014",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26449",
    "id": 152644014,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MjY0NDAxNA==",
    "user": {
      "login": "Zoxc",
      "id": 25784,
      "node_id": "MDQ6VXNlcjI1Nzg0",
      "avatar_url": "https://avatars.githubusercontent.com/u/25784?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Zoxc",
      "html_url": "https://github.com/Zoxc",
      "followers_url": "https://api.github.com/users/Zoxc/followers",
      "following_url": "https://api.github.com/users/Zoxc/following{/other_user}",
      "gists_url": "https://api.github.com/users/Zoxc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Zoxc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Zoxc/subscriptions",
      "organizations_url": "https://api.github.com/users/Zoxc/orgs",
      "repos_url": "https://api.github.com/users/Zoxc/repos",
      "events_url": "https://api.github.com/users/Zoxc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Zoxc/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-30T20:29:23Z",
    "updated_at": "2015-10-30T20:29:23Z",
    "body": "If you build libcore with floating point support and link to it using `-C lto` you will only get LLVM errors if you actually use some floating point functionality in libcore. That is how I use it in my kernel.\n\n@gz I don't think building libcore without floating point has ever worked. Do you happen to know a version where this works?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/152644014/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/152659335",
    "html_url": "https://github.com/rust-lang/rust/issues/26449#issuecomment-152659335",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26449",
    "id": 152659335,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MjY1OTMzNQ==",
    "user": {
      "login": "emk",
      "id": 36963,
      "node_id": "MDQ6VXNlcjM2OTYz",
      "avatar_url": "https://avatars.githubusercontent.com/u/36963?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emk",
      "html_url": "https://github.com/emk",
      "followers_url": "https://api.github.com/users/emk/followers",
      "following_url": "https://api.github.com/users/emk/following{/other_user}",
      "gists_url": "https://api.github.com/users/emk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emk/subscriptions",
      "organizations_url": "https://api.github.com/users/emk/orgs",
      "repos_url": "https://api.github.com/users/emk/repos",
      "events_url": "https://api.github.com/users/emk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emk/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-30T21:51:46Z",
    "updated_at": "2015-10-30T21:51:46Z",
    "body": "I'm also getting bitten by this one, for much the same reasons that the powersgang [mentions above](https://github.com/rust-lang/rust/issues/26449#issuecomment-117905928). I'm starting from [Philipp Oppermann's series of blog posts on writing an OS in Rust](http://blog.phil-opp.com/), and trying to add interrupt support. Unfortunately, saving the floating point registers on every interrupt slows everything down and requires much more fiddling around, which is why most x86 kernels avoid floating point. And of course, there are plenty of other processors without floating point out there.\n\nFor this kind of bare-metal use, it would be very nice to have some way of convincing Rust to stop emitting floating point instructions and still manage to build core.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/152659335/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/152660215",
    "html_url": "https://github.com/rust-lang/rust/issues/26449#issuecomment-152660215",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26449",
    "id": 152660215,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MjY2MDIxNQ==",
    "user": {
      "login": "thepowersgang",
      "id": 955596,
      "node_id": "MDQ6VXNlcjk1NTU5Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/955596?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thepowersgang",
      "html_url": "https://github.com/thepowersgang",
      "followers_url": "https://api.github.com/users/thepowersgang/followers",
      "following_url": "https://api.github.com/users/thepowersgang/following{/other_user}",
      "gists_url": "https://api.github.com/users/thepowersgang/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thepowersgang/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thepowersgang/subscriptions",
      "organizations_url": "https://api.github.com/users/thepowersgang/orgs",
      "repos_url": "https://api.github.com/users/thepowersgang/repos",
      "events_url": "https://api.github.com/users/thepowersgang/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thepowersgang/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-30T21:57:45Z",
    "updated_at": "2015-10-30T21:57:45Z",
    "body": "At the moment - the best way is to patch libcore locally before compiling, I'm still maintaining the patchset that does that for my kernel project.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/152660215/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/152664008",
    "html_url": "https://github.com/rust-lang/rust/issues/26449#issuecomment-152664008",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26449",
    "id": 152664008,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MjY2NDAwOA==",
    "user": {
      "login": "emk",
      "id": 36963,
      "node_id": "MDQ6VXNlcjM2OTYz",
      "avatar_url": "https://avatars.githubusercontent.com/u/36963?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emk",
      "html_url": "https://github.com/emk",
      "followers_url": "https://api.github.com/users/emk/followers",
      "following_url": "https://api.github.com/users/emk/following{/other_user}",
      "gists_url": "https://api.github.com/users/emk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emk/subscriptions",
      "organizations_url": "https://api.github.com/users/emk/orgs",
      "repos_url": "https://api.github.com/users/emk/repos",
      "events_url": "https://api.github.com/users/emk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emk/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-30T22:22:48Z",
    "updated_at": "2015-10-30T22:22:48Z",
    "body": "@thepowersgang: Thank you for the suggestion! For anybody else running into this problem, I found a copy of [disable_float libcore_nofp patch](https://github.com/thepowersgang/rust-barebones-kernel/blob/master/libcore_nofp.patch) in @thepowersgang's OS repository. It's surprisingly small.\n\nLooking at your patch, it looks very straightforward and \"principled\", if you will: It specifically excludes everything in libcore related to floating point without any gross hackery. It just disables `f32`, `f64`, and the related APIs.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/152664008/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/152706845",
    "html_url": "https://github.com/rust-lang/rust/issues/26449#issuecomment-152706845",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26449",
    "id": 152706845,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MjcwNjg0NQ==",
    "user": {
      "login": "gz",
      "id": 127654,
      "node_id": "MDQ6VXNlcjEyNzY1NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/127654?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gz",
      "html_url": "https://github.com/gz",
      "followers_url": "https://api.github.com/users/gz/followers",
      "following_url": "https://api.github.com/users/gz/following{/other_user}",
      "gists_url": "https://api.github.com/users/gz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gz/subscriptions",
      "organizations_url": "https://api.github.com/users/gz/orgs",
      "repos_url": "https://api.github.com/users/gz/repos",
      "events_url": "https://api.github.com/users/gz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gz/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-31T07:11:39Z",
    "updated_at": "2015-10-31T07:11:39Z",
    "body": "@Zoxc: Yes, it worked before  #26025 (see bug description)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/152706845/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/234398311",
    "html_url": "https://github.com/rust-lang/rust/issues/26449#issuecomment-234398311",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26449",
    "id": 234398311,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzNDM5ODMxMQ==",
    "user": {
      "login": "parched",
      "id": 5975405,
      "node_id": "MDQ6VXNlcjU5NzU0MDU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5975405?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/parched",
      "html_url": "https://github.com/parched",
      "followers_url": "https://api.github.com/users/parched/followers",
      "following_url": "https://api.github.com/users/parched/following{/other_user}",
      "gists_url": "https://api.github.com/users/parched/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/parched/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/parched/subscriptions",
      "organizations_url": "https://api.github.com/users/parched/orgs",
      "repos_url": "https://api.github.com/users/parched/repos",
      "events_url": "https://api.github.com/users/parched/events{/privacy}",
      "received_events_url": "https://api.github.com/users/parched/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-07-21T22:04:21Z",
    "updated_at": "2016-07-21T22:04:21Z",
    "body": "@gz You need to add the `+soft-float` target feature\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/234398311/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/539499543",
    "html_url": "https://github.com/rust-lang/rust/issues/26449#issuecomment-539499543",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26449",
    "id": 539499543,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzOTQ5OTU0Mw==",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2019-10-08T12:55:44Z",
    "updated_at": "2019-10-08T12:55:44Z",
    "body": "Triage: it's been pretty much four years since a significant problem was posted in this thread, and as @parched said three years ago, by putting\r\n\r\n    \"features\": \"-mmx,-sse,+soft-float\",\r\n\r\nin your target json file, and this should be working. For example, @thepowersgang hasn't been using their patch since 2016, and does this instead: https://github.com/thepowersgang/rust-barebones-kernel/commit/78beb04339156c672e43ed3c01d22f0a4a1c63ec\r\n\r\nAs such, I'm going to close this bug. If someone is still running into this, please let me know!",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/539499543/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/556326039",
    "html_url": "https://github.com/rust-lang/rust/issues/26449#issuecomment-556326039",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26449",
    "id": 556326039,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1NjMyNjAzOQ==",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2019-11-20T20:05:22Z",
    "updated_at": "2019-11-20T20:05:22Z",
    "body": "@steveklabnik it looks like someone ran into an LLVM Assert that appears strongly related to this, in #65844 ",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/556326039/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/556617969",
    "html_url": "https://github.com/rust-lang/rust/issues/26449#issuecomment-556617969",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26449",
    "id": 556617969,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1NjYxNzk2OQ==",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2019-11-21T00:28:13Z",
    "updated_at": "2019-11-21T00:28:13Z",
    "body": "Interesting. Do you think that warrants re-opening this ticket as well?",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/556617969/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/556921103",
    "html_url": "https://github.com/rust-lang/rust/issues/26449#issuecomment-556921103",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26449",
    "id": 556921103,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1NjkyMTEwMw==",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2019-11-21T05:02:07Z",
    "updated_at": "2019-11-21T05:02:07Z",
    "body": "I dunno. I guess if still no one is actually trying to compile libcore with sse disabled, then this might as well remain closed",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/556921103/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1666503491",
    "html_url": "https://github.com/rust-lang/rust/issues/26449#issuecomment-1666503491",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26449",
    "id": 1666503491,
    "node_id": "IC_kwDOAAsO6M5jVNND",
    "user": {
      "login": "SK83RJOSH",
      "id": 1371787,
      "node_id": "MDQ6VXNlcjEzNzE3ODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1371787?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SK83RJOSH",
      "html_url": "https://github.com/SK83RJOSH",
      "followers_url": "https://api.github.com/users/SK83RJOSH/followers",
      "following_url": "https://api.github.com/users/SK83RJOSH/following{/other_user}",
      "gists_url": "https://api.github.com/users/SK83RJOSH/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SK83RJOSH/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SK83RJOSH/subscriptions",
      "organizations_url": "https://api.github.com/users/SK83RJOSH/orgs",
      "repos_url": "https://api.github.com/users/SK83RJOSH/repos",
      "events_url": "https://api.github.com/users/SK83RJOSH/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SK83RJOSH/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2023-08-05T13:14:10Z",
    "updated_at": "2023-08-05T13:20:05Z",
    "body": "I know this is a very old issue, and I normally wouldn't bump it, but I ran into this while naively disabling `sse` to do some benchmarks today. Not a huge issue, except that when using `--target=x86_64-pc-windows-msvc`, LLVM happily generates an executable with bad codegen. Took me a few hours to realize that std::f32::min/max are returning non-zeroed/uninitialized stack memory due to presumably this exact issue with libcore.\r\n\r\nNot sure if anyone cares since it seems to have gone unnoticed this long, but it's a pretty big footgun that can go unnoticed for quite some time.\r\n\r\nSuper simple repro (using `cargo test` on Windows with `rustflags = [\"-Ctarget-feature=-sse\"]` in `config.toml`):\r\n```rust\r\n#[test]\r\npub fn main() {\r\n    assert_eq!(3_f32, 3_f32.min(4_f32));\r\n}\r\n```",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1666503491/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
