[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/28153247",
    "html_url": "https://github.com/rust-lang/rust/issues/10391#issuecomment-28153247",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10391",
    "id": 28153247,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4MTUzMjQ3",
    "user": {
      "login": "klutzy",
      "id": 1589355,
      "node_id": "MDQ6VXNlcjE1ODkzNTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1589355?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/klutzy",
      "html_url": "https://github.com/klutzy",
      "followers_url": "https://api.github.com/users/klutzy/followers",
      "following_url": "https://api.github.com/users/klutzy/following{/other_user}",
      "gists_url": "https://api.github.com/users/klutzy/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/klutzy/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/klutzy/subscriptions",
      "organizations_url": "https://api.github.com/users/klutzy/orgs",
      "repos_url": "https://api.github.com/users/klutzy/repos",
      "events_url": "https://api.github.com/users/klutzy/events{/privacy}",
      "received_events_url": "https://api.github.com/users/klutzy/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-10T15:52:11Z",
    "updated_at": "2013-11-10T15:52:11Z",
    "body": "I just got similar ICE with extern mod.\n\na.rs:\n\n``` Rust\n#[crate_type = \"lib\"];\npub struct Markdown<'self>(&'self str);\n```\n\nb.rs:\n\n``` Rust\nextern mod a;\nfn main() {\n    a::Markdown(\"abcd\");\n}\n```\n\nBuilding b.rs gives\n\n```\nb.rs:4:16: 4:22 error: internal compiler error: Cannot relate bound region: ReEarlyBound(12, 0, self) <= ReStatic\n```\n\n(Yes, I was using `rustdoc::html::markdown::Markdown`.)\nIt worked on rust revision `4ce7d57` but not on revision `3851f90`.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/28153247/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/28156199",
    "html_url": "https://github.com/rust-lang/rust/issues/10391#issuecomment-28156199",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10391",
    "id": 28156199,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4MTU2MTk5",
    "user": {
      "login": "erickt",
      "id": 84711,
      "node_id": "MDQ6VXNlcjg0NzEx",
      "avatar_url": "https://avatars.githubusercontent.com/u/84711?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/erickt",
      "html_url": "https://github.com/erickt",
      "followers_url": "https://api.github.com/users/erickt/followers",
      "following_url": "https://api.github.com/users/erickt/following{/other_user}",
      "gists_url": "https://api.github.com/users/erickt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/erickt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/erickt/subscriptions",
      "organizations_url": "https://api.github.com/users/erickt/orgs",
      "repos_url": "https://api.github.com/users/erickt/repos",
      "events_url": "https://api.github.com/users/erickt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/erickt/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-10T18:09:44Z",
    "updated_at": "2013-11-10T18:09:44Z",
    "body": "Another variant:\n\n```\nfn foo<'a, T, Iter: Iterator<&'a T>>(_iter: Iter) { }\n\nfn main() {\n    let x = [1,2,3];\n    foo(x.iter());\n}\n```\n\nproduces:\n\n```\nfoo.rs:5:4: 5:7 error: internal compiler error: Cannot relate bound region: ReLateBound(6, BrNamed(syntax::ast::DefId{crate: 0, node: 19}, a)) <= ReInfer(11)\nThis message reflects a bug in the Rust compiler.\nWe would appreciate a bug report: https://github.com/mozilla/rust/wiki/HOWTO-submit-a-Rust-bug-report\nfoo.rs:5     foo(x.iter());\n             ^~~\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/28156199/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/28190095",
    "html_url": "https://github.com/rust-lang/rust/issues/10391#issuecomment-28190095",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10391",
    "id": 28190095,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4MTkwMDk1",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-11T11:02:11Z",
    "updated_at": "2013-11-11T11:02:11Z",
    "body": "Seems likely to be related, yes. I'll take a look today. Probably something funky in the handling of static methods. Possibly related to what @dwrensha was trying to address in #9841 (though maybe not -- I'm sad to say I ddn't fully understand the problem there, was too caught up in trying to finish with #10153!)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/28190095/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/28250280",
    "html_url": "https://github.com/rust-lang/rust/issues/10391#issuecomment-28250280",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10391",
    "id": 28250280,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4MjUwMjgw",
    "user": {
      "login": "dwrensha",
      "id": 495768,
      "node_id": "MDQ6VXNlcjQ5NTc2OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/495768?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dwrensha",
      "html_url": "https://github.com/dwrensha",
      "followers_url": "https://api.github.com/users/dwrensha/followers",
      "following_url": "https://api.github.com/users/dwrensha/following{/other_user}",
      "gists_url": "https://api.github.com/users/dwrensha/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dwrensha/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dwrensha/subscriptions",
      "organizations_url": "https://api.github.com/users/dwrensha/orgs",
      "repos_url": "https://api.github.com/users/dwrensha/repos",
      "events_url": "https://api.github.com/users/dwrensha/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dwrensha/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-11T23:00:53Z",
    "updated_at": "2013-11-11T23:00:53Z",
    "body": "Here's an example relevant to me:\n\n```\ntrait FromVec<'a> {\n    fn fromVec(&'a [u8]) -> Self;\n}\n\nfn get<'a, T : FromVec<'a>>(v : &'a [u8]) -> T {\n    FromVec::fromVec(v)\n}\n\nfn main() {}\n```\n\n```\ntest3.rs:6:4: 6:20 error: internal compiler error: Cannot relate bound region: ReLateBound(18, BrNamed(syntax::ast::DefId{crate: 0, node: 31}, a)) <= ReLateBound(16, BrNamed(syntax::ast::DefId{crate: 0, node: 17}, a))\nThis message reflects a bug in the Rust compiler. \nWe would appreciate a bug report: https://github.com/mozilla/rust/wiki/HOWTO-submit-a-Rust-bug-report\ntest3.rs:6     FromVec::fromVec(v)\n               ^~~~~~~~~~~~~~~~\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/28250280/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/28606831",
    "html_url": "https://github.com/rust-lang/rust/issues/10391#issuecomment-28606831",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10391",
    "id": 28606831,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NjA2ODMx",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-15T21:57:18Z",
    "updated_at": "2013-11-15T21:57:18Z",
    "body": "So these examples are a mix of problems, but they are all related to #5121. The only one of these examples I expect to not ICE is the first one. The others don't work because of #5121. The basic problem is that you cannot have a function which has a lifetime parameter that appears in a trait bound (yet -- I want to fix this, see #5121 for details).\n\nInterestingly, the reason that we have this problem with the first example, is that static functions like `Decodable::decode` get translated into functions with lifetime parameters that appear within a trait bound.  That is, the type for `Decodable::decode` looks to the compiler like:\n\n```\nfn decode<'a, Self: Decodable<'a>>(...) -> Self\n```\n\nYou can see here that `'a` appears in the bound for `Decodable`. Anyway, I have the fix for this. This is good because it got me thinking about #5121 and I think it's not too hard to extend the fix to cover that case as well. But I'll push the limited fix for just this bug for now.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/28606831/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/28643302",
    "html_url": "https://github.com/rust-lang/rust/issues/10391#issuecomment-28643302",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10391",
    "id": 28643302,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NjQzMzAy",
    "user": {
      "login": "erickt",
      "id": 84711,
      "node_id": "MDQ6VXNlcjg0NzEx",
      "avatar_url": "https://avatars.githubusercontent.com/u/84711?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/erickt",
      "html_url": "https://github.com/erickt",
      "followers_url": "https://api.github.com/users/erickt/followers",
      "following_url": "https://api.github.com/users/erickt/following{/other_user}",
      "gists_url": "https://api.github.com/users/erickt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/erickt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/erickt/subscriptions",
      "organizations_url": "https://api.github.com/users/erickt/orgs",
      "repos_url": "https://api.github.com/users/erickt/repos",
      "events_url": "https://api.github.com/users/erickt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/erickt/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-17T06:01:03Z",
    "updated_at": "2013-11-17T06:01:03Z",
    "body": "@nikomatsakis: Thanks for looking into this. I started playing around with your branch to fix this and I ran into another ICE. Is there something new, or is it also caused by #5121?\n\n```\npub enum Value<'self> {\n    A(&'self str),\n    B,\n}\n\npub trait Decoder<'self> {\n    fn read(&mut self) -> Value<'self>;\n}\n\npub trait Decodable<'self, D: Decoder<'self>> {\n    fn decode(d: &mut D) -> Self;\n}\n\npub fn decode<\n    'a,\n    D: Decoder<'a>,\n    T: Decodable<'a, D>\n>(d: &mut D) -> Option<T> {\n    Decodable::decode(d)\n}\n\nimpl<'self, D: Decoder<'self>> Decodable<'self, D> for () {\n    fn decode(d: &mut D) -> () {\n        match d.read() {\n            A(*) => (),\n            B => Decodable::decode(d),\n        }\n    }\n}\n\nfn main() { }\n```\n\nErrors with:\n\n```\nbaz.rs:19:4: 19:21 error: internal compiler error: Cannot relate bound region: ReInfer(0) <= ReLateBound(34, BrNamed(syntax::ast::DefId{crate: 0, node: 52}, a))\nThis message reflects a bug in the Rust compiler.\nWe would appreciate a bug report: https://github.com/mozilla/rust/wiki/HOWTO-submit-a-Rust-bug-report\nbaz.rs:19     Decodable::decode(d)\n              ^~~~~~~~~~~~~~~~~\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/28643302/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/28691900",
    "html_url": "https://github.com/rust-lang/rust/issues/10391#issuecomment-28691900",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/10391",
    "id": 28691900,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NjkxOTAw",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-11-18T11:43:49Z",
    "updated_at": "2013-11-18T11:43:49Z",
    "body": "On Sat, Nov 16, 2013 at 10:01:08PM -0800, Erick Tryzelaar wrote:\n\n> @nikomatsakis: Thanks for looking into this. I started playing around with your branch to fix this and I ran into another ICE. Is there something new, or is it also caused by #5121?\n\n#5121. I will see how quickly I can prepare a fix for this.\n\nThe key identifying point is:\n\n> pub fn decode<\n>     'a,\n>     D: Decoder<'a>,\n> //            ^^^^^\n>     T: Decodable<'a, D>\n> \n> > (d: &mut D) -> Option<T> {\n> >     Decodable::decode(d)\n> > }\n\nright here (I added a comment)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/28691900/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
