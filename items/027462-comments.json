[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/126960936",
    "html_url": "https://github.com/rust-lang/rust/issues/27462#issuecomment-126960936",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27462",
    "id": 126960936,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNjk2MDkzNg==",
    "user": {
      "login": "nagisa",
      "id": 679122,
      "node_id": "MDQ6VXNlcjY3OTEyMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/679122?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nagisa",
      "html_url": "https://github.com/nagisa",
      "followers_url": "https://api.github.com/users/nagisa/followers",
      "following_url": "https://api.github.com/users/nagisa/following{/other_user}",
      "gists_url": "https://api.github.com/users/nagisa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nagisa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nagisa/subscriptions",
      "organizations_url": "https://api.github.com/users/nagisa/orgs",
      "repos_url": "https://api.github.com/users/nagisa/repos",
      "events_url": "https://api.github.com/users/nagisa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nagisa/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-08-01T23:13:35Z",
    "updated_at": "2015-08-01T23:14:14Z",
    "body": "I\u2019m pretty sure this bug is inactionable. Null bytes are not whitespace (it has Other, Control categories) and rust strings may contain as many of them as necessary at any position in the string, hence there\u2019s no reason to expect null bytes should not exist or that they should be trimmed.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/126960936/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/126961052",
    "html_url": "https://github.com/rust-lang/rust/issues/27462#issuecomment-126961052",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27462",
    "id": 126961052,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNjk2MTA1Mg==",
    "user": {
      "login": "shaleh",
      "id": 1377996,
      "node_id": "MDQ6VXNlcjEzNzc5OTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1377996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shaleh",
      "html_url": "https://github.com/shaleh",
      "followers_url": "https://api.github.com/users/shaleh/followers",
      "following_url": "https://api.github.com/users/shaleh/following{/other_user}",
      "gists_url": "https://api.github.com/users/shaleh/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shaleh/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shaleh/subscriptions",
      "organizations_url": "https://api.github.com/users/shaleh/orgs",
      "repos_url": "https://api.github.com/users/shaleh/repos",
      "events_url": "https://api.github.com/users/shaleh/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shaleh/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-08-01T23:17:19Z",
    "updated_at": "2015-08-01T23:17:19Z",
    "body": "I expect that the nulls are there. But it should skip them at the end and still remove the 0x0D and 0x0A. It is those which are problematic.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/126961052/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/126961286",
    "html_url": "https://github.com/rust-lang/rust/issues/27462#issuecomment-126961286",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27462",
    "id": 126961286,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNjk2MTI4Ng==",
    "user": {
      "login": "nagisa",
      "id": 679122,
      "node_id": "MDQ6VXNlcjY3OTEyMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/679122?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nagisa",
      "html_url": "https://github.com/nagisa",
      "followers_url": "https://api.github.com/users/nagisa/followers",
      "following_url": "https://api.github.com/users/nagisa/following{/other_user}",
      "gists_url": "https://api.github.com/users/nagisa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nagisa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nagisa/subscriptions",
      "organizations_url": "https://api.github.com/users/nagisa/orgs",
      "repos_url": "https://api.github.com/users/nagisa/repos",
      "events_url": "https://api.github.com/users/nagisa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nagisa/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-08-01T23:19:39Z",
    "updated_at": "2015-08-01T23:19:54Z",
    "body": "This `\\r\\n` newline sequence is in a middle of the string not at the end or beginning of it. Documentation for `trim` says:\n\n> Returns a &str with leading and trailing whitespace removed.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/126961286/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/126987873",
    "html_url": "https://github.com/rust-lang/rust/issues/27462#issuecomment-126987873",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27462",
    "id": 126987873,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNjk4Nzg3Mw==",
    "user": {
      "login": "shaleh",
      "id": 1377996,
      "node_id": "MDQ6VXNlcjEzNzc5OTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1377996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shaleh",
      "html_url": "https://github.com/shaleh",
      "followers_url": "https://api.github.com/users/shaleh/followers",
      "following_url": "https://api.github.com/users/shaleh/following{/other_user}",
      "gists_url": "https://api.github.com/users/shaleh/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shaleh/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shaleh/subscriptions",
      "organizations_url": "https://api.github.com/users/shaleh/orgs",
      "repos_url": "https://api.github.com/users/shaleh/repos",
      "events_url": "https://api.github.com/users/shaleh/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shaleh/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-08-02T04:54:05Z",
    "updated_at": "2015-08-02T04:54:05Z",
    "body": "Why? Null means end of string. If I print that string it stops at the newline. All trim_right should be doing is find end and work in.\n\nOn August 1, 2015 4:20:09 PM PDT, Simonas Kazlauskas notifications@github.com wrote:\n\n> This `\\r\\n` newline sequence is in a middle of the string not at the\n> end or beginning of it. Documentation for trim says:\n> \n> > Returns a &str with leading and trailing whitespace removed.\n> \n> ---\n> \n> Reply to this email directly or view it on GitHub:\n> https://github.com/rust-lang/rust/issues/27462#issuecomment-126961286\n\n## \n\nSent from my Android phone with K-9 Mail. Please excuse my brevity.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/126987873/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/126988442",
    "html_url": "https://github.com/rust-lang/rust/issues/27462#issuecomment-126988442",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27462",
    "id": 126988442,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNjk4ODQ0Mg==",
    "user": {
      "login": "Diggsey",
      "id": 451321,
      "node_id": "MDQ6VXNlcjQ1MTMyMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/451321?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Diggsey",
      "html_url": "https://github.com/Diggsey",
      "followers_url": "https://api.github.com/users/Diggsey/followers",
      "following_url": "https://api.github.com/users/Diggsey/following{/other_user}",
      "gists_url": "https://api.github.com/users/Diggsey/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Diggsey/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Diggsey/subscriptions",
      "organizations_url": "https://api.github.com/users/Diggsey/orgs",
      "repos_url": "https://api.github.com/users/Diggsey/repos",
      "events_url": "https://api.github.com/users/Diggsey/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Diggsey/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-08-02T05:20:02Z",
    "updated_at": "2015-08-02T05:20:02Z",
    "body": "Null doesn't mean end of string.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/126988442/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/127035555",
    "html_url": "https://github.com/rust-lang/rust/issues/27462#issuecomment-127035555",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27462",
    "id": 127035555,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNzAzNTU1NQ==",
    "user": {
      "login": "bluss",
      "id": 3209739,
      "node_id": "MDQ6VXNlcjMyMDk3Mzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3209739?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bluss",
      "html_url": "https://github.com/bluss",
      "followers_url": "https://api.github.com/users/bluss/followers",
      "following_url": "https://api.github.com/users/bluss/following{/other_user}",
      "gists_url": "https://api.github.com/users/bluss/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bluss/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bluss/subscriptions",
      "organizations_url": "https://api.github.com/users/bluss/orgs",
      "repos_url": "https://api.github.com/users/bluss/repos",
      "events_url": "https://api.github.com/users/bluss/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bluss/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-08-02T15:10:53Z",
    "updated_at": "2015-08-02T15:10:53Z",
    "body": "You can use a custom pattern with `.trim_matches()` to strip both whitespaces and nulls if you want.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/127035555/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/127051096",
    "html_url": "https://github.com/rust-lang/rust/issues/27462#issuecomment-127051096",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27462",
    "id": 127051096,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNzA1MTA5Ng==",
    "user": {
      "login": "shaleh",
      "id": 1377996,
      "node_id": "MDQ6VXNlcjEzNzc5OTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1377996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shaleh",
      "html_url": "https://github.com/shaleh",
      "followers_url": "https://api.github.com/users/shaleh/followers",
      "following_url": "https://api.github.com/users/shaleh/following{/other_user}",
      "gists_url": "https://api.github.com/users/shaleh/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shaleh/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shaleh/subscriptions",
      "organizations_url": "https://api.github.com/users/shaleh/orgs",
      "repos_url": "https://api.github.com/users/shaleh/repos",
      "events_url": "https://api.github.com/users/shaleh/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shaleh/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-08-02T18:04:01Z",
    "updated_at": "2015-08-02T18:04:01Z",
    "body": "I have code like this:\n\n```\nlet mut buf: [u8; 4096] = [0u8; 4096];\n\nloop {\n    match stream.read(&mut buf) {\n        Ok(count) => {\n            // handle good read\n        },\n        Err(e) => {\n            // handle bad read\n        },\n    }\n\n    // need to wipe out contents of buf, I have been doing a dumb loop equiv of memset(buf, 0, count)\n}\n```\n\nThis is classic tcp server stuff. I am not finding clarity in the Rust docs or elsewhere to do it in a more idiomatic way. Either the old blog posts don't compile or it is all one shot, one read example code.\n\nMy expectation is a zeroed out buffer can be read into a usable string some how. I do not want to go tangential here and talk about stream reads. The pattern I show is pretty normal though. Maybe documenting it as a Rust anti-pattern would be useful. At the least mentioning that unlike convention NUL chars are left in strings.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/127051096/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/127051993",
    "html_url": "https://github.com/rust-lang/rust/issues/27462#issuecomment-127051993",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27462",
    "id": 127051993,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNzA1MTk5Mw==",
    "user": {
      "login": "Gankra",
      "id": 1136864,
      "node_id": "MDQ6VXNlcjExMzY4NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1136864?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Gankra",
      "html_url": "https://github.com/Gankra",
      "followers_url": "https://api.github.com/users/Gankra/followers",
      "following_url": "https://api.github.com/users/Gankra/following{/other_user}",
      "gists_url": "https://api.github.com/users/Gankra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Gankra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Gankra/subscriptions",
      "organizations_url": "https://api.github.com/users/Gankra/orgs",
      "repos_url": "https://api.github.com/users/Gankra/repos",
      "events_url": "https://api.github.com/users/Gankra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Gankra/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-08-02T18:22:02Z",
    "updated_at": "2015-08-02T18:22:02Z",
    "body": "@shaleh All you need to do is remember how far you've written and subslice the buffer to ignore the parts you never wrote to:\n\n`let buf = &buf[..bytes_written];`\n\nThen you can further process it in a normal fashion.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/127051993/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/127098732",
    "html_url": "https://github.com/rust-lang/rust/issues/27462#issuecomment-127098732",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27462",
    "id": 127098732,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNzA5ODczMg==",
    "user": {
      "login": "Aatch",
      "id": 342416,
      "node_id": "MDQ6VXNlcjM0MjQxNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/342416?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Aatch",
      "html_url": "https://github.com/Aatch",
      "followers_url": "https://api.github.com/users/Aatch/followers",
      "following_url": "https://api.github.com/users/Aatch/following{/other_user}",
      "gists_url": "https://api.github.com/users/Aatch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Aatch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Aatch/subscriptions",
      "organizations_url": "https://api.github.com/users/Aatch/orgs",
      "repos_url": "https://api.github.com/users/Aatch/repos",
      "events_url": "https://api.github.com/users/Aatch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Aatch/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-08-03T02:07:01Z",
    "updated_at": "2015-08-03T02:07:01Z",
    "body": "As @nagisa said, nulls are not considered whitespace under the unicode definition, so trim shouldn't treat them as such. Closing as not-a-bug.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/127098732/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
