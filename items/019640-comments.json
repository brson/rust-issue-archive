[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/66181074",
    "html_url": "https://github.com/rust-lang/rust/pull/19640#issuecomment-66181074",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19640",
    "id": 66181074,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2MTgxMDc0",
    "user": {
      "login": "Gankra",
      "id": 1136864,
      "node_id": "MDQ6VXNlcjExMzY4NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1136864?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Gankra",
      "html_url": "https://github.com/Gankra",
      "followers_url": "https://api.github.com/users/Gankra/followers",
      "following_url": "https://api.github.com/users/Gankra/following{/other_user}",
      "gists_url": "https://api.github.com/users/Gankra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Gankra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Gankra/subscriptions",
      "organizations_url": "https://api.github.com/users/Gankra/orgs",
      "repos_url": "https://api.github.com/users/Gankra/repos",
      "events_url": "https://api.github.com/users/Gankra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Gankra/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-12-08T20:27:54Z",
    "updated_at": "2014-12-08T20:27:54Z",
    "body": "Hmm, `0u32.next_power_of_two()` returns 0. Presumably if we're changing what we consider a power of two, we should change this behaviour? \n\nr? @bjz \n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/66181074/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/66236759",
    "html_url": "https://github.com/rust-lang/rust/pull/19640#issuecomment-66236759",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19640",
    "id": 66236759,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2MjM2NzU5",
    "user": {
      "login": "aliblong",
      "id": 7608707,
      "node_id": "MDQ6VXNlcjc2MDg3MDc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7608707?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aliblong",
      "html_url": "https://github.com/aliblong",
      "followers_url": "https://api.github.com/users/aliblong/followers",
      "following_url": "https://api.github.com/users/aliblong/following{/other_user}",
      "gists_url": "https://api.github.com/users/aliblong/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aliblong/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aliblong/subscriptions",
      "organizations_url": "https://api.github.com/users/aliblong/orgs",
      "repos_url": "https://api.github.com/users/aliblong/repos",
      "events_url": "https://api.github.com/users/aliblong/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aliblong/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-12-09T05:28:18Z",
    "updated_at": "2014-12-09T05:28:18Z",
    "body": "I've now added in the `self == 0` case for next_power_of_two() to address this.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/66236759/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/66273473",
    "html_url": "https://github.com/rust-lang/rust/pull/19640#issuecomment-66273473",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19640",
    "id": 66273473,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2MjczNDcz",
    "user": {
      "login": "brendanzab",
      "id": 695077,
      "node_id": "MDQ6VXNlcjY5NTA3Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/695077?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brendanzab",
      "html_url": "https://github.com/brendanzab",
      "followers_url": "https://api.github.com/users/brendanzab/followers",
      "following_url": "https://api.github.com/users/brendanzab/following{/other_user}",
      "gists_url": "https://api.github.com/users/brendanzab/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brendanzab/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brendanzab/subscriptions",
      "organizations_url": "https://api.github.com/users/brendanzab/orgs",
      "repos_url": "https://api.github.com/users/brendanzab/repos",
      "events_url": "https://api.github.com/users/brendanzab/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brendanzab/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-12-09T12:10:42Z",
    "updated_at": "2014-12-09T12:10:42Z",
    "body": "Thanks for this, but unfortunately we can't add a new method to this trait without going through the RFC process first.\n\ncc. @aturon \n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/66273473/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/66306791",
    "html_url": "https://github.com/rust-lang/rust/pull/19640#issuecomment-66306791",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19640",
    "id": 66306791,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2MzA2Nzkx",
    "user": {
      "login": "mahkoh",
      "id": 1882250,
      "node_id": "MDQ6VXNlcjE4ODIyNTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1882250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mahkoh",
      "html_url": "https://github.com/mahkoh",
      "followers_url": "https://api.github.com/users/mahkoh/followers",
      "following_url": "https://api.github.com/users/mahkoh/following{/other_user}",
      "gists_url": "https://api.github.com/users/mahkoh/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mahkoh/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mahkoh/subscriptions",
      "organizations_url": "https://api.github.com/users/mahkoh/orgs",
      "repos_url": "https://api.github.com/users/mahkoh/repos",
      "events_url": "https://api.github.com/users/mahkoh/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mahkoh/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-12-09T16:06:54Z",
    "updated_at": "2014-12-09T16:06:54Z",
    "body": "There seems to be a much more efficient implementation of `next_power_of_two` that does not produce 0:\n\n``` rust\npub fn next_power_of_two<T: UnsignedInt>(x: T) -> T {\n    let bits = std::mem::size_of::<T>() * 8;\n    let one: T = Int::one();\n    one << ((bits - (x - one).leading_zeros()) % bits)\n}\n\npub fn checked_next_power_of_two<T: UnsignedInt>(x: T) -> Option<T> {\n    let npot = next_power_of_two(x);\n    if npot >= x {\n        Some(npot)\n    } else {\n        None\n    }\n}\n\n#[test]\nfn t() {\n    assert_eq!(next_power_of_two::<u64>(0), 1);\n    assert_eq!(next_power_of_two::<u64>(1), 1);\n    assert_eq!(next_power_of_two::<u64>(2), 2);\n    assert_eq!(next_power_of_two::<u64>(3), 4);\n    assert_eq!(next_power_of_two::<u64>(4), 4);\n    assert_eq!(next_power_of_two::<u64>(5), 8);\n    assert_eq!(next_power_of_two::<u64>(-1), 1);\n    assert_eq!(next_power_of_two::<u64>(-2), 1);\n    assert_eq!(next_power_of_two::<u64>(-3), 1);\n    assert_eq!(next_power_of_two::<u64>(-4), 1);\n    assert_eq!(next_power_of_two::<u64>(-5), 1);\n}\n```\n\n```\ntest b_new ... bench:   2418350 ns/iter (+/- 7130)\ntest b_old ... bench:   3410203 ns/iter (+/- 4517)\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/66306791/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/66326551",
    "html_url": "https://github.com/rust-lang/rust/pull/19640#issuecomment-66326551",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19640",
    "id": 66326551,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2MzI2NTUx",
    "user": {
      "login": "aliblong",
      "id": 7608707,
      "node_id": "MDQ6VXNlcjc2MDg3MDc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7608707?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aliblong",
      "html_url": "https://github.com/aliblong",
      "followers_url": "https://api.github.com/users/aliblong/followers",
      "following_url": "https://api.github.com/users/aliblong/following{/other_user}",
      "gists_url": "https://api.github.com/users/aliblong/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aliblong/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aliblong/subscriptions",
      "organizations_url": "https://api.github.com/users/aliblong/orgs",
      "repos_url": "https://api.github.com/users/aliblong/repos",
      "events_url": "https://api.github.com/users/aliblong/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aliblong/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-12-09T17:56:30Z",
    "updated_at": "2014-12-09T17:56:30Z",
    "body": "The only concern I have about this overflow-unchecked implementation is that it suffers from the same downside as the original  - the  `self == 0` and overflow cases return the same result (`1`), and so the burden of distinguishing them rests on the caller.\n\nI personally wouldn't mind having overflow-checked arithmetic being the default, with unchecked being an opt-in, but that is a much broader issue.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/66326551/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/66327147",
    "html_url": "https://github.com/rust-lang/rust/pull/19640#issuecomment-66327147",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19640",
    "id": 66327147,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2MzI3MTQ3",
    "user": {
      "login": "Gankra",
      "id": 1136864,
      "node_id": "MDQ6VXNlcjExMzY4NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1136864?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Gankra",
      "html_url": "https://github.com/Gankra",
      "followers_url": "https://api.github.com/users/Gankra/followers",
      "following_url": "https://api.github.com/users/Gankra/following{/other_user}",
      "gists_url": "https://api.github.com/users/Gankra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Gankra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Gankra/subscriptions",
      "organizations_url": "https://api.github.com/users/Gankra/orgs",
      "repos_url": "https://api.github.com/users/Gankra/repos",
      "events_url": "https://api.github.com/users/Gankra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Gankra/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-12-09T18:00:05Z",
    "updated_at": "2014-12-09T18:00:05Z",
    "body": "@aliblong there is a separate checked variant: http://doc.rust-lang.org/std/num/trait.UnsignedInt.html#tymethod.checked_next_power_of_two\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/66327147/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/66339607",
    "html_url": "https://github.com/rust-lang/rust/pull/19640#issuecomment-66339607",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19640",
    "id": 66339607,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2MzM5NjA3",
    "user": {
      "login": "aliblong",
      "id": 7608707,
      "node_id": "MDQ6VXNlcjc2MDg3MDc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7608707?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aliblong",
      "html_url": "https://github.com/aliblong",
      "followers_url": "https://api.github.com/users/aliblong/followers",
      "following_url": "https://api.github.com/users/aliblong/following{/other_user}",
      "gists_url": "https://api.github.com/users/aliblong/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aliblong/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aliblong/subscriptions",
      "organizations_url": "https://api.github.com/users/aliblong/orgs",
      "repos_url": "https://api.github.com/users/aliblong/repos",
      "events_url": "https://api.github.com/users/aliblong/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aliblong/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-12-09T19:15:44Z",
    "updated_at": "2014-12-09T20:38:17Z",
    "body": "@Gankro Yes, I know. I actually modified that function in the most recent commit. All I meant is that I would prefer the overflow-checked cases to be the semantic default (`next_power_of_two`, `add`) and for the non-checked cases to be opt-in (`unchecked_next_power_of_two`, `unchecked_add`).\n\nEdit: On second thought, it's probably too cumbersome having to deal with `Option`s from overflow checking for everyday `+-*/` operations, and there's something to be said for the uniformity of having to opt into checking for ALL arithmetic.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/66339607/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/67086418",
    "html_url": "https://github.com/rust-lang/rust/pull/19640#issuecomment-67086418",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19640",
    "id": 67086418,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3MDg2NDE4",
    "user": {
      "login": "aturon",
      "id": 709807,
      "node_id": "MDQ6VXNlcjcwOTgwNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/709807?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aturon",
      "html_url": "https://github.com/aturon",
      "followers_url": "https://api.github.com/users/aturon/followers",
      "following_url": "https://api.github.com/users/aturon/following{/other_user}",
      "gists_url": "https://api.github.com/users/aturon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aturon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aturon/subscriptions",
      "organizations_url": "https://api.github.com/users/aturon/orgs",
      "repos_url": "https://api.github.com/users/aturon/repos",
      "events_url": "https://api.github.com/users/aturon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aturon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-12-15T23:28:39Z",
    "updated_at": "2014-12-15T23:28:39Z",
    "body": "I don't think we probably need `is_power_of_two_or_zero` as an extra convenience here (simpler to just write that logic yourself), but the change to the semantics of `next_power_of_two` seems reasonable to me.\n\n@bjz do you agree?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/67086418/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/67115791",
    "html_url": "https://github.com/rust-lang/rust/pull/19640#issuecomment-67115791",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19640",
    "id": 67115791,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3MTE1Nzkx",
    "user": {
      "login": "aliblong",
      "id": 7608707,
      "node_id": "MDQ6VXNlcjc2MDg3MDc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7608707?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aliblong",
      "html_url": "https://github.com/aliblong",
      "followers_url": "https://api.github.com/users/aliblong/followers",
      "following_url": "https://api.github.com/users/aliblong/following{/other_user}",
      "gists_url": "https://api.github.com/users/aliblong/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aliblong/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aliblong/subscriptions",
      "organizations_url": "https://api.github.com/users/aliblong/orgs",
      "repos_url": "https://api.github.com/users/aliblong/repos",
      "events_url": "https://api.github.com/users/aliblong/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aliblong/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-12-16T05:53:09Z",
    "updated_at": "2014-12-16T05:53:09Z",
    "body": "It would make me kind of sad to call `some_val.is_power_of_two() || some_val == 0` when `is_power_of_two()` checks that `self != 0`, but perhaps the neatness of the API is more important than this minor arithmetic inefficiency.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/67115791/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/67116047",
    "html_url": "https://github.com/rust-lang/rust/pull/19640#issuecomment-67116047",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19640",
    "id": 67116047,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3MTE2MDQ3",
    "user": {
      "login": "aturon",
      "id": 709807,
      "node_id": "MDQ6VXNlcjcwOTgwNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/709807?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aturon",
      "html_url": "https://github.com/aturon",
      "followers_url": "https://api.github.com/users/aturon/followers",
      "following_url": "https://api.github.com/users/aturon/following{/other_user}",
      "gists_url": "https://api.github.com/users/aturon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aturon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aturon/subscriptions",
      "organizations_url": "https://api.github.com/users/aturon/orgs",
      "repos_url": "https://api.github.com/users/aturon/repos",
      "events_url": "https://api.github.com/users/aturon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aturon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-12-16T05:56:51Z",
    "updated_at": "2014-12-16T05:56:51Z",
    "body": "I suspect that inlining and optimization would make that disappear in the\nfinal code in any case.\n\nOn Mon, Dec 15, 2014 at 9:53 PM, Aaron Liblong notifications@github.com\nwrote:\n\n> It would make me kind of sad to call some_val.is_power_of_two() ||\n> some_val == 0 when is_power_of_two() checks that self != 0, but perhaps\n> the neatness of the API is more important than this minor arithmetic\n> inefficiency.\n> \n> \u2014\n> Reply to this email directly or view it on GitHub\n> https://github.com/rust-lang/rust/pull/19640#issuecomment-67115791.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/67116047/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/67139035",
    "html_url": "https://github.com/rust-lang/rust/pull/19640#issuecomment-67139035",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19640",
    "id": 67139035,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3MTM5MDM1",
    "user": {
      "login": "brendanzab",
      "id": 695077,
      "node_id": "MDQ6VXNlcjY5NTA3Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/695077?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brendanzab",
      "html_url": "https://github.com/brendanzab",
      "followers_url": "https://api.github.com/users/brendanzab/followers",
      "following_url": "https://api.github.com/users/brendanzab/following{/other_user}",
      "gists_url": "https://api.github.com/users/brendanzab/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brendanzab/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brendanzab/subscriptions",
      "organizations_url": "https://api.github.com/users/brendanzab/orgs",
      "repos_url": "https://api.github.com/users/brendanzab/repos",
      "events_url": "https://api.github.com/users/brendanzab/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brendanzab/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-12-16T10:25:02Z",
    "updated_at": "2014-12-16T10:25:31Z",
    "body": "I agree with @aturon. The change in semantics for `next_power_of_two` is reasonable, but I would leave out the extra methods.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/67139035/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/67252593",
    "html_url": "https://github.com/rust-lang/rust/pull/19640#issuecomment-67252593",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19640",
    "id": 67252593,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3MjUyNTkz",
    "user": {
      "login": "aliblong",
      "id": 7608707,
      "node_id": "MDQ6VXNlcjc2MDg3MDc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7608707?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aliblong",
      "html_url": "https://github.com/aliblong",
      "followers_url": "https://api.github.com/users/aliblong/followers",
      "following_url": "https://api.github.com/users/aliblong/following{/other_user}",
      "gists_url": "https://api.github.com/users/aliblong/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aliblong/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aliblong/subscriptions",
      "organizations_url": "https://api.github.com/users/aliblong/orgs",
      "repos_url": "https://api.github.com/users/aliblong/repos",
      "events_url": "https://api.github.com/users/aliblong/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aliblong/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-12-16T23:30:16Z",
    "updated_at": "2014-12-16T23:30:16Z",
    "body": "Okay, I removed the new method accordingly.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/67252593/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/67272228",
    "html_url": "https://github.com/rust-lang/rust/pull/19640#issuecomment-67272228",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19640",
    "id": 67272228,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3MjcyMjI4",
    "user": {
      "login": "brendanzab",
      "id": 695077,
      "node_id": "MDQ6VXNlcjY5NTA3Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/695077?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brendanzab",
      "html_url": "https://github.com/brendanzab",
      "followers_url": "https://api.github.com/users/brendanzab/followers",
      "following_url": "https://api.github.com/users/brendanzab/following{/other_user}",
      "gists_url": "https://api.github.com/users/brendanzab/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brendanzab/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brendanzab/subscriptions",
      "organizations_url": "https://api.github.com/users/brendanzab/orgs",
      "repos_url": "https://api.github.com/users/brendanzab/repos",
      "events_url": "https://api.github.com/users/brendanzab/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brendanzab/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-12-17T03:24:08Z",
    "updated_at": "2014-12-17T03:24:08Z",
    "body": "Could you squash the commits?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/67272228/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/67273952",
    "html_url": "https://github.com/rust-lang/rust/pull/19640#issuecomment-67273952",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19640",
    "id": 67273952,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3MjczOTUy",
    "user": {
      "login": "aliblong",
      "id": 7608707,
      "node_id": "MDQ6VXNlcjc2MDg3MDc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7608707?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aliblong",
      "html_url": "https://github.com/aliblong",
      "followers_url": "https://api.github.com/users/aliblong/followers",
      "following_url": "https://api.github.com/users/aliblong/following{/other_user}",
      "gists_url": "https://api.github.com/users/aliblong/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aliblong/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aliblong/subscriptions",
      "organizations_url": "https://api.github.com/users/aliblong/orgs",
      "repos_url": "https://api.github.com/users/aliblong/repos",
      "events_url": "https://api.github.com/users/aliblong/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aliblong/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-12-17T03:53:42Z",
    "updated_at": "2014-12-17T03:53:42Z",
    "body": "All squashed up!\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/67273952/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/67440793",
    "html_url": "https://github.com/rust-lang/rust/pull/19640#issuecomment-67440793",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19640",
    "id": 67440793,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3NDQwNzkz",
    "user": {
      "login": "Gankra",
      "id": 1136864,
      "node_id": "MDQ6VXNlcjExMzY4NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1136864?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Gankra",
      "html_url": "https://github.com/Gankra",
      "followers_url": "https://api.github.com/users/Gankra/followers",
      "following_url": "https://api.github.com/users/Gankra/following{/other_user}",
      "gists_url": "https://api.github.com/users/Gankra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Gankra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Gankra/subscriptions",
      "organizations_url": "https://api.github.com/users/Gankra/orgs",
      "repos_url": "https://api.github.com/users/Gankra/repos",
      "events_url": "https://api.github.com/users/Gankra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Gankra/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-12-18T04:44:09Z",
    "updated_at": "2014-12-18T04:44:09Z",
    "body": "build failure looks spurious. However:\n\n@aliblong I would prefer to use @mahkoh's code since we use this functionality in our collections. Admittedly on super-slow paths (allocation), but why not use the fast one? If the user cares about overflow they can use the checked variant. \n\nAlso if mahkoh's code is used, we need to update this code accordingly: http://doc.rust-lang.org/src/collections/vec.rs.html#684-692\n\nIt should just panic (capacity overflow) in the overflow case anyway, since that means you're already asking for more than `int::MAX` bits, which is illegal. For the record this bad code is entirely my fault (well, and I guess partly whoever didn't stop me :P)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/67440793/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/67441343",
    "html_url": "https://github.com/rust-lang/rust/pull/19640#issuecomment-67441343",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19640",
    "id": 67441343,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3NDQxMzQz",
    "user": {
      "login": "aliblong",
      "id": 7608707,
      "node_id": "MDQ6VXNlcjc2MDg3MDc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7608707?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aliblong",
      "html_url": "https://github.com/aliblong",
      "followers_url": "https://api.github.com/users/aliblong/followers",
      "following_url": "https://api.github.com/users/aliblong/following{/other_user}",
      "gists_url": "https://api.github.com/users/aliblong/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aliblong/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aliblong/subscriptions",
      "organizations_url": "https://api.github.com/users/aliblong/orgs",
      "repos_url": "https://api.github.com/users/aliblong/repos",
      "events_url": "https://api.github.com/users/aliblong/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aliblong/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-12-18T04:55:46Z",
    "updated_at": "2014-12-18T04:55:46Z",
    "body": "Ok. Want me to push a new commit with this code, or wait for @mahkoh to submit a PR?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/67441343/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/67441384",
    "html_url": "https://github.com/rust-lang/rust/pull/19640#issuecomment-67441384",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19640",
    "id": 67441384,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3NDQxMzg0",
    "user": {
      "login": "Gankra",
      "id": 1136864,
      "node_id": "MDQ6VXNlcjExMzY4NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1136864?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Gankra",
      "html_url": "https://github.com/Gankra",
      "followers_url": "https://api.github.com/users/Gankra/followers",
      "following_url": "https://api.github.com/users/Gankra/following{/other_user}",
      "gists_url": "https://api.github.com/users/Gankra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Gankra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Gankra/subscriptions",
      "organizations_url": "https://api.github.com/users/Gankra/orgs",
      "repos_url": "https://api.github.com/users/Gankra/repos",
      "events_url": "https://api.github.com/users/Gankra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Gankra/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-12-18T04:56:24Z",
    "updated_at": "2014-12-18T04:56:24Z",
    "body": "Push a new commit. @mahkoh has demonstrated disinterest in submitting a PR on irc.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/67441384/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/67441683",
    "html_url": "https://github.com/rust-lang/rust/pull/19640#issuecomment-67441683",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19640",
    "id": 67441683,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3NDQxNjgz",
    "user": {
      "login": "aliblong",
      "id": 7608707,
      "node_id": "MDQ6VXNlcjc2MDg3MDc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7608707?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aliblong",
      "html_url": "https://github.com/aliblong",
      "followers_url": "https://api.github.com/users/aliblong/followers",
      "following_url": "https://api.github.com/users/aliblong/following{/other_user}",
      "gists_url": "https://api.github.com/users/aliblong/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aliblong/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aliblong/subscriptions",
      "organizations_url": "https://api.github.com/users/aliblong/orgs",
      "repos_url": "https://api.github.com/users/aliblong/repos",
      "events_url": "https://api.github.com/users/aliblong/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aliblong/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-12-18T05:02:33Z",
    "updated_at": "2014-12-18T05:02:33Z",
    "body": "Ok, will do. By the way, should I tag `is_power_of_two` with `#[inline]`? Seems like a good candidate for inlining.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/67441683/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/67442064",
    "html_url": "https://github.com/rust-lang/rust/pull/19640#issuecomment-67442064",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19640",
    "id": 67442064,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3NDQyMDY0",
    "user": {
      "login": "Gankra",
      "id": 1136864,
      "node_id": "MDQ6VXNlcjExMzY4NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1136864?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Gankra",
      "html_url": "https://github.com/Gankra",
      "followers_url": "https://api.github.com/users/Gankra/followers",
      "following_url": "https://api.github.com/users/Gankra/following{/other_user}",
      "gists_url": "https://api.github.com/users/Gankra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Gankra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Gankra/subscriptions",
      "organizations_url": "https://api.github.com/users/Gankra/orgs",
      "repos_url": "https://api.github.com/users/Gankra/repos",
      "events_url": "https://api.github.com/users/Gankra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Gankra/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-12-18T05:09:55Z",
    "updated_at": "2014-12-18T05:09:55Z",
    "body": "@aliblong I'm actually unclear on how default impls behave cross-crate. Might as well, we spam that directive everywhere anyway. :/\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/67442064/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/67591646",
    "html_url": "https://github.com/rust-lang/rust/pull/19640#issuecomment-67591646",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19640",
    "id": 67591646,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3NTkxNjQ2",
    "user": {
      "login": "aliblong",
      "id": 7608707,
      "node_id": "MDQ6VXNlcjc2MDg3MDc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7608707?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aliblong",
      "html_url": "https://github.com/aliblong",
      "followers_url": "https://api.github.com/users/aliblong/followers",
      "following_url": "https://api.github.com/users/aliblong/following{/other_user}",
      "gists_url": "https://api.github.com/users/aliblong/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aliblong/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aliblong/subscriptions",
      "organizations_url": "https://api.github.com/users/aliblong/orgs",
      "repos_url": "https://api.github.com/users/aliblong/repos",
      "events_url": "https://api.github.com/users/aliblong/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aliblong/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-12-19T02:45:12Z",
    "updated_at": "2014-12-19T02:45:12Z",
    "body": "Okay, I implemented it. I was worried about a perf hit from modifying `Vec` in light of #19574, but I actually got a speedup (5-10%) - attributable to the `next_power_of_two` speedup I suppose.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/67591646/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/67692500",
    "html_url": "https://github.com/rust-lang/rust/pull/19640#issuecomment-67692500",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19640",
    "id": 67692500,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3NjkyNTAw",
    "user": {
      "login": "aliblong",
      "id": 7608707,
      "node_id": "MDQ6VXNlcjc2MDg3MDc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7608707?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aliblong",
      "html_url": "https://github.com/aliblong",
      "followers_url": "https://api.github.com/users/aliblong/followers",
      "following_url": "https://api.github.com/users/aliblong/following{/other_user}",
      "gists_url": "https://api.github.com/users/aliblong/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aliblong/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aliblong/subscriptions",
      "organizations_url": "https://api.github.com/users/aliblong/orgs",
      "repos_url": "https://api.github.com/users/aliblong/repos",
      "events_url": "https://api.github.com/users/aliblong/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aliblong/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-12-19T20:25:50Z",
    "updated_at": "2014-12-19T20:25:50Z",
    "body": "Finished implementing @Gankro's suggestions\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/67692500/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/67712603",
    "html_url": "https://github.com/rust-lang/rust/pull/19640#issuecomment-67712603",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19640",
    "id": 67712603,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3NzEyNjAz",
    "user": {
      "login": "aliblong",
      "id": 7608707,
      "node_id": "MDQ6VXNlcjc2MDg3MDc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7608707?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aliblong",
      "html_url": "https://github.com/aliblong",
      "followers_url": "https://api.github.com/users/aliblong/followers",
      "following_url": "https://api.github.com/users/aliblong/following{/other_user}",
      "gists_url": "https://api.github.com/users/aliblong/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aliblong/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aliblong/subscriptions",
      "organizations_url": "https://api.github.com/users/aliblong/orgs",
      "repos_url": "https://api.github.com/users/aliblong/repos",
      "events_url": "https://api.github.com/users/aliblong/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aliblong/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-12-19T23:31:58Z",
    "updated_at": "2014-12-19T23:31:58Z",
    "body": "Squashed the commits\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/67712603/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/67741561",
    "html_url": "https://github.com/rust-lang/rust/pull/19640#issuecomment-67741561",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19640",
    "id": 67741561,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3NzQxNTYx",
    "user": {
      "login": "SimonSapin",
      "id": 291359,
      "node_id": "MDQ6VXNlcjI5MTM1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SimonSapin",
      "html_url": "https://github.com/SimonSapin",
      "followers_url": "https://api.github.com/users/SimonSapin/followers",
      "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}",
      "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions",
      "organizations_url": "https://api.github.com/users/SimonSapin/orgs",
      "repos_url": "https://api.github.com/users/SimonSapin/repos",
      "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SimonSapin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-12-20T16:46:51Z",
    "updated_at": "2014-12-20T16:46:51Z",
    "body": "I think this regressed performance of `Vec::reserve`.\n\n``` rust\nconst BYTES: u64 = 100_000;\n\n#[bench]\nfn push_str_one_byte(b: &mut Bencher) {\n    b.bytes = BYTES;\n    b.iter(|| {\n        let mut s = String::new();\n        for _ in range(0, BYTES) {\n            s.push_str(\"a\")\n        }\n        black_box(s);\n    });\n}\n```\n\n```\nrustc 3dcd21574 2014-11-17 (Servo snapshot)\ntest bench::push_str_one_byte            ... bench:    558857 ns/iter (+/- 44549) = 178 MB/s\n\nrustc 99d6956c3 2014-12-18 (Nightly binary)\ntest bench::push_str_one_byte            ... bench:     85366 ns/iter (+/- 4261) = 1171 MB/s\n\nrustc 8f51ad242 2014-12-20 (make check-stage1-collections PLEASE_BENCH=1)\ntest string::tests::bench_push_str_one_byte                ... bench:     39258 ns/iter (+/- 10864) = 254 MB/s\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/67741561/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/67741835",
    "html_url": "https://github.com/rust-lang/rust/pull/19640#issuecomment-67741835",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19640",
    "id": 67741835,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3NzQxODM1",
    "user": {
      "login": "SimonSapin",
      "id": 291359,
      "node_id": "MDQ6VXNlcjI5MTM1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SimonSapin",
      "html_url": "https://github.com/SimonSapin",
      "followers_url": "https://api.github.com/users/SimonSapin/followers",
      "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}",
      "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions",
      "organizations_url": "https://api.github.com/users/SimonSapin/orgs",
      "repos_url": "https://api.github.com/users/SimonSapin/repos",
      "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SimonSapin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-12-20T16:55:08Z",
    "updated_at": "2014-12-20T16:55:08Z",
    "body": "I don\u2019t know if this PR is actually responsible for the results above (I haven\u2019t bisected it), it\u2019s just one change that seem relevant.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/67741835/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/67742055",
    "html_url": "https://github.com/rust-lang/rust/pull/19640#issuecomment-67742055",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19640",
    "id": 67742055,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3NzQyMDU1",
    "user": {
      "login": "Gankra",
      "id": 1136864,
      "node_id": "MDQ6VXNlcjExMzY4NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1136864?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Gankra",
      "html_url": "https://github.com/Gankra",
      "followers_url": "https://api.github.com/users/Gankra/followers",
      "following_url": "https://api.github.com/users/Gankra/following{/other_user}",
      "gists_url": "https://api.github.com/users/Gankra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Gankra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Gankra/subscriptions",
      "organizations_url": "https://api.github.com/users/Gankra/orgs",
      "repos_url": "https://api.github.com/users/Gankra/repos",
      "events_url": "https://api.github.com/users/Gankra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Gankra/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-12-20T17:01:55Z",
    "updated_at": "2014-12-20T17:02:04Z",
    "body": "Ack. We _did_ just replace a conditional set with a conditional panic. Perhaps we should replace the second `expect` with an unwrap_or(UINT::MAX), and let the allocator handle it.\n\nCC @thestinger I'm a bit shaky on whose responsibility it is to \"deal\" with over-large allocations. Would it be sound for all of our collections code to saturate on allocation-size overflow as a sort of \"poisoning\" of the allocation? I believe you're opposed to us panicking for these runtime errors anyway, right?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/67742055/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/67742306",
    "html_url": "https://github.com/rust-lang/rust/pull/19640#issuecomment-67742306",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19640",
    "id": 67742306,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3NzQyMzA2",
    "user": {
      "login": "SimonSapin",
      "id": 291359,
      "node_id": "MDQ6VXNlcjI5MTM1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SimonSapin",
      "html_url": "https://github.com/SimonSapin",
      "followers_url": "https://api.github.com/users/SimonSapin/followers",
      "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}",
      "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions",
      "organizations_url": "https://api.github.com/users/SimonSapin/orgs",
      "repos_url": "https://api.github.com/users/SimonSapin/repos",
      "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SimonSapin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-12-20T17:09:54Z",
    "updated_at": "2014-12-20T17:09:54Z",
    "body": "> We did just replace a conditional set with a conditional panic.\n\nBut we already had a conditional panic before\u2026 Is two worse than one?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/67742306/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/67762760",
    "html_url": "https://github.com/rust-lang/rust/pull/19640#issuecomment-67762760",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19640",
    "id": 67762760,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3NzYyNzYw",
    "user": {
      "login": "aliblong",
      "id": 7608707,
      "node_id": "MDQ6VXNlcjc2MDg3MDc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7608707?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aliblong",
      "html_url": "https://github.com/aliblong",
      "followers_url": "https://api.github.com/users/aliblong/followers",
      "following_url": "https://api.github.com/users/aliblong/following{/other_user}",
      "gists_url": "https://api.github.com/users/aliblong/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aliblong/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aliblong/subscriptions",
      "organizations_url": "https://api.github.com/users/aliblong/orgs",
      "repos_url": "https://api.github.com/users/aliblong/repos",
      "events_url": "https://api.github.com/users/aliblong/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aliblong/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-12-21T07:29:18Z",
    "updated_at": "2014-12-21T07:29:18Z",
    "body": "I can confirm that this change to `reserve` caused this regression. Reverting it to #19574 (but checking for `amort_cap == 1` rather than `amort_cap == 0` in accordance with the change to `next_power_of_two`) gives a 3x speedup for `push_str_one_byte`. No changes are seen in any of the other collections benches, as far as I can tell, which is why I didn't catch the regression in the first place.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/67762760/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/67791138",
    "html_url": "https://github.com/rust-lang/rust/pull/19640#issuecomment-67791138",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19640",
    "id": 67791138,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3NzkxMTM4",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-12-22T00:15:39Z",
    "updated_at": "2014-12-22T00:15:39Z",
    "body": "Appears to have been a breaking change.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/67791138/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/67797655",
    "html_url": "https://github.com/rust-lang/rust/pull/19640#issuecomment-67797655",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19640",
    "id": 67797655,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3Nzk3NjU1",
    "user": {
      "login": "Gankra",
      "id": 1136864,
      "node_id": "MDQ6VXNlcjExMzY4NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1136864?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Gankra",
      "html_url": "https://github.com/Gankra",
      "followers_url": "https://api.github.com/users/Gankra/followers",
      "following_url": "https://api.github.com/users/Gankra/following{/other_user}",
      "gists_url": "https://api.github.com/users/Gankra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Gankra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Gankra/subscriptions",
      "organizations_url": "https://api.github.com/users/Gankra/orgs",
      "repos_url": "https://api.github.com/users/Gankra/repos",
      "events_url": "https://api.github.com/users/Gankra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Gankra/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-12-22T03:02:38Z",
    "updated_at": "2014-12-22T03:02:38Z",
    "body": "@brson oops! Thought that had been handled. :disappointed: \n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/67797655/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
