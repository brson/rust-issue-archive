[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/68543430",
    "html_url": "https://github.com/rust-lang/rust/issues/20168#issuecomment-68543430",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20168",
    "id": 68543430,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4NTQzNDMw",
    "user": {
      "login": "pythonesque",
      "id": 923144,
      "node_id": "MDQ6VXNlcjkyMzE0NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/923144?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pythonesque",
      "html_url": "https://github.com/pythonesque",
      "followers_url": "https://api.github.com/users/pythonesque/followers",
      "following_url": "https://api.github.com/users/pythonesque/following{/other_user}",
      "gists_url": "https://api.github.com/users/pythonesque/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pythonesque/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pythonesque/subscriptions",
      "organizations_url": "https://api.github.com/users/pythonesque/orgs",
      "repos_url": "https://api.github.com/users/pythonesque/repos",
      "events_url": "https://api.github.com/users/pythonesque/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pythonesque/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-02T17:16:28Z",
    "updated_at": "2015-01-02T17:18:13Z",
    "body": "I don't really think it would be possible to do usefully.  Since lifetimes have subtype relations, you really want to be able to ask \"outlives\" (a la instanceof) questions about them, which isn't something well-suited to simple equality.  And the case of recursive functions with lifetimes (so lifetimes aren't always monomorphizable) means that I don't think you could assign a globally unique `TypeId` incorporating lifetime information in any interesting way, since the lifetimes (hence `TypeId`s) would only really be comparable within the same function where the lifetimes were defined (unless you did some sort of global data flow analysis).  I could easily be wrong about this, of course!\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/68543430/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/68554716",
    "html_url": "https://github.com/rust-lang/rust/issues/20168#issuecomment-68554716",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20168",
    "id": 68554716,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4NTU0NzE2",
    "user": {
      "login": "Marwes",
      "id": 957312,
      "node_id": "MDQ6VXNlcjk1NzMxMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/957312?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Marwes",
      "html_url": "https://github.com/Marwes",
      "followers_url": "https://api.github.com/users/Marwes/followers",
      "following_url": "https://api.github.com/users/Marwes/following{/other_user}",
      "gists_url": "https://api.github.com/users/Marwes/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Marwes/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Marwes/subscriptions",
      "organizations_url": "https://api.github.com/users/Marwes/orgs",
      "repos_url": "https://api.github.com/users/Marwes/repos",
      "events_url": "https://api.github.com/users/Marwes/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Marwes/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-02T19:33:34Z",
    "updated_at": "2015-01-02T19:33:41Z",
    "body": "You are probably right that it might not be possible to do usefully but I believe that for my purposes I would be happy if I could retrieve the TypeId for Foo<'static> if I have a Foo<'a>. I believe I could handle any other lifetime issues manually. Being unable to retrieve any sort of TypeId at all once you have a non-static type feels a bit limiting though.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/68554716/reactions",
      "total_count": 3,
      "+1": 3,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/139881617",
    "html_url": "https://github.com/rust-lang/rust/issues/20168#issuecomment-139881617",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20168",
    "id": 139881617,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzOTg4MTYxNw==",
    "user": {
      "login": "arielb1",
      "id": 1830974,
      "node_id": "MDQ6VXNlcjE4MzA5NzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1830974?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/arielb1",
      "html_url": "https://github.com/arielb1",
      "followers_url": "https://api.github.com/users/arielb1/followers",
      "following_url": "https://api.github.com/users/arielb1/following{/other_user}",
      "gists_url": "https://api.github.com/users/arielb1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/arielb1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/arielb1/subscriptions",
      "organizations_url": "https://api.github.com/users/arielb1/orgs",
      "repos_url": "https://api.github.com/users/arielb1/repos",
      "events_url": "https://api.github.com/users/arielb1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/arielb1/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-09-13T14:21:59Z",
    "updated_at": "2015-09-13T14:21:59Z",
    "body": "This requires an RFC I think.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/139881617/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/239315571",
    "html_url": "https://github.com/rust-lang/rust/issues/20168#issuecomment-239315571",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20168",
    "id": 239315571,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzOTMxNTU3MQ==",
    "user": {
      "login": "UserAB1236872",
      "id": 3078382,
      "node_id": "MDQ6VXNlcjMwNzgzODI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3078382?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/UserAB1236872",
      "html_url": "https://github.com/UserAB1236872",
      "followers_url": "https://api.github.com/users/UserAB1236872/followers",
      "following_url": "https://api.github.com/users/UserAB1236872/following{/other_user}",
      "gists_url": "https://api.github.com/users/UserAB1236872/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/UserAB1236872/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/UserAB1236872/subscriptions",
      "organizations_url": "https://api.github.com/users/UserAB1236872/orgs",
      "repos_url": "https://api.github.com/users/UserAB1236872/repos",
      "events_url": "https://api.github.com/users/UserAB1236872/events{/privacy}",
      "received_events_url": "https://api.github.com/users/UserAB1236872/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-08-11T22:42:52Z",
    "updated_at": "2016-08-11T22:42:52Z",
    "body": "Maybe have an `unsafe fn` for the non-`'static` case? Uses of non-`'static` TypeIds would pretty much only be realistically usable in a scenario that bypasses the borrow checker anyway. Internally an `unsafe_type_id::<Foo<'a>>()` would effectively just yield the same ID as `type_id::<Foo<'static>>`.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/239315571/reactions",
      "total_count": 4,
      "+1": 4,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/267541202",
    "html_url": "https://github.com/rust-lang/rust/issues/20168#issuecomment-267541202",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20168",
    "id": 267541202,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2NzU0MTIwMg==",
    "user": {
      "login": "KodrAus",
      "id": 6721458,
      "node_id": "MDQ6VXNlcjY3MjE0NTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6721458?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/KodrAus",
      "html_url": "https://github.com/KodrAus",
      "followers_url": "https://api.github.com/users/KodrAus/followers",
      "following_url": "https://api.github.com/users/KodrAus/following{/other_user}",
      "gists_url": "https://api.github.com/users/KodrAus/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/KodrAus/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/KodrAus/subscriptions",
      "organizations_url": "https://api.github.com/users/KodrAus/orgs",
      "repos_url": "https://api.github.com/users/KodrAus/repos",
      "events_url": "https://api.github.com/users/KodrAus/events{/privacy}",
      "received_events_url": "https://api.github.com/users/KodrAus/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-12-16T08:19:07Z",
    "updated_at": "2016-12-16T08:19:07Z",
    "body": "I think it would be good to get some movement on this. The `unsafe fn` idea sounds like a reasonable one, and a corresponding `unsafe fn` on `TypeId` so it could be used on stable would be great.\r\n\r\nI can put together an RFC if nobody's actively working on it.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/267541202/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/267544488",
    "html_url": "https://github.com/rust-lang/rust/issues/20168#issuecomment-267544488",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20168",
    "id": 267544488,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2NzU0NDQ4OA==",
    "user": {
      "login": "Marwes",
      "id": 957312,
      "node_id": "MDQ6VXNlcjk1NzMxMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/957312?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Marwes",
      "html_url": "https://github.com/Marwes",
      "followers_url": "https://api.github.com/users/Marwes/followers",
      "following_url": "https://api.github.com/users/Marwes/following{/other_user}",
      "gists_url": "https://api.github.com/users/Marwes/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Marwes/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Marwes/subscriptions",
      "organizations_url": "https://api.github.com/users/Marwes/orgs",
      "repos_url": "https://api.github.com/users/Marwes/repos",
      "events_url": "https://api.github.com/users/Marwes/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Marwes/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-12-16T08:39:38Z",
    "updated_at": "2016-12-16T08:39:38Z",
    "body": "For anyone looking for a workaround to this limitation I am using [this pattern](https://github.com/Marwes/any_ref/blob/4e64b2f0361bd58c37f371f7c57128f493aedefb/src/lib.rs#L37-L47) to get `TypeId`s for non-static types. It requires a bit of boilerplate but it is workable.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/267544488/reactions",
      "total_count": 4,
      "+1": 4,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/267856674",
    "html_url": "https://github.com/rust-lang/rust/issues/20168#issuecomment-267856674",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20168",
    "id": 267856674,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2Nzg1NjY3NA==",
    "user": {
      "login": "KodrAus",
      "id": 6721458,
      "node_id": "MDQ6VXNlcjY3MjE0NTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6721458?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/KodrAus",
      "html_url": "https://github.com/KodrAus",
      "followers_url": "https://api.github.com/users/KodrAus/followers",
      "following_url": "https://api.github.com/users/KodrAus/following{/other_user}",
      "gists_url": "https://api.github.com/users/KodrAus/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/KodrAus/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/KodrAus/subscriptions",
      "organizations_url": "https://api.github.com/users/KodrAus/orgs",
      "repos_url": "https://api.github.com/users/KodrAus/repos",
      "events_url": "https://api.github.com/users/KodrAus/events{/privacy}",
      "received_events_url": "https://api.github.com/users/KodrAus/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-12-18T23:56:01Z",
    "updated_at": "2016-12-18T23:56:01Z",
    "body": "I played around with a similar idea, but didn't like that it's possible to implement incorrectly, which in my case would mean interpreting memory incorrectly. Which I guess is why you've marked it as `unsafe`.\r\n\r\nI'd like to propose simply removing the `'static` bound from the `type_id` intrinsic. That way implementations of `Any` and `TypeId` for non-static types can easily be put together outside of std. Just trying to work out if that's a thing that needs an RFC or not :)",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/267856674/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/302283337",
    "html_url": "https://github.com/rust-lang/rust/issues/20168#issuecomment-302283337",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/20168",
    "id": 302283337,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMjI4MzMzNw==",
    "user": {
      "login": "Mark-Simulacrum",
      "id": 5047365,
      "node_id": "MDQ6VXNlcjUwNDczNjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5047365?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Mark-Simulacrum",
      "html_url": "https://github.com/Mark-Simulacrum",
      "followers_url": "https://api.github.com/users/Mark-Simulacrum/followers",
      "following_url": "https://api.github.com/users/Mark-Simulacrum/following{/other_user}",
      "gists_url": "https://api.github.com/users/Mark-Simulacrum/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Mark-Simulacrum/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Mark-Simulacrum/subscriptions",
      "organizations_url": "https://api.github.com/users/Mark-Simulacrum/orgs",
      "repos_url": "https://api.github.com/users/Mark-Simulacrum/repos",
      "events_url": "https://api.github.com/users/Mark-Simulacrum/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Mark-Simulacrum/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-05-18T02:28:31Z",
    "updated_at": "2017-05-18T02:28:31Z",
    "body": "We've accepted an RFC for this: https://github.com/rust-lang/rfcs/blob/master/text/1849-non-static-type-id.md, tracking issue https://github.com/rust-lang/rust/issues/41875.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/302283337/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
