[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/82058234",
    "html_url": "https://github.com/rust-lang/rust/pull/23429#issuecomment-82058234",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23429",
    "id": 82058234,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyMDU4MjM0",
    "user": {
      "login": "rust-highfive",
      "id": 7378925,
      "node_id": "MDQ6VXNlcjczNzg5MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7378925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rust-highfive",
      "html_url": "https://github.com/rust-highfive",
      "followers_url": "https://api.github.com/users/rust-highfive/followers",
      "following_url": "https://api.github.com/users/rust-highfive/following{/other_user}",
      "gists_url": "https://api.github.com/users/rust-highfive/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rust-highfive/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rust-highfive/subscriptions",
      "organizations_url": "https://api.github.com/users/rust-highfive/orgs",
      "repos_url": "https://api.github.com/users/rust-highfive/repos",
      "events_url": "https://api.github.com/users/rust-highfive/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rust-highfive/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-17T02:45:56Z",
    "updated_at": "2015-03-17T02:45:56Z",
    "body": "r? @alexcrichton\n\n(rust_highfive has picked a reviewer for you, use r? to override)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/82058234/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/82067891",
    "html_url": "https://github.com/rust-lang/rust/pull/23429#issuecomment-82067891",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23429",
    "id": 82067891,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyMDY3ODkx",
    "user": {
      "login": "rprichard",
      "id": 1572855,
      "node_id": "MDQ6VXNlcjE1NzI4NTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1572855?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rprichard",
      "html_url": "https://github.com/rprichard",
      "followers_url": "https://api.github.com/users/rprichard/followers",
      "following_url": "https://api.github.com/users/rprichard/following{/other_user}",
      "gists_url": "https://api.github.com/users/rprichard/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rprichard/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rprichard/subscriptions",
      "organizations_url": "https://api.github.com/users/rprichard/orgs",
      "repos_url": "https://api.github.com/users/rprichard/repos",
      "events_url": "https://api.github.com/users/rprichard/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rprichard/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-17T03:14:38Z",
    "updated_at": "2015-03-17T03:14:38Z",
    "body": "Build [#78](http://buildbot.rust-lang.org/builders/nightly-dist-rustc-linux/builds/78/steps/compile/logs/stdio) succeeded, despite `llvm-config` not existing:\n\n```\n/bin/sh: /home/rustbuild/src/rust-buildbot/slave/nightly-dist-rustc-linux/build/obj/i686-unknown-linux-gnu/llvm/Release+Asserts/bin/llvm-config: No such file or directory\nrustc: x86_64-unknown-linux-gnu/stage1/lib/rustlib/i686-unknown-linux-gnu/lib/libcore\n/bin/sh: /home/rustbuild/src/rust-buildbot/slave/nightly-dist-rustc-linux/build/obj/i686-unknown-linux-gnu/llvm/Release+Asserts/bin/llvm-config: No such file or directory\nrustc: x86_64-unknown-linux-gnu/stage1/lib/rustlib/i686-unknown-linux-gnu/lib/liblibc\n/bin/sh: /home/rustbuild/src/rust-buildbot/slave/nightly-dist-rustc-linux/build/obj/i686-unknown-linux-gnu/llvm/Release+Asserts/bin/llvm-config: No such file or directory\nrustc: x86_64-unknown-linux-gnu/stage1/lib/rustlib/i686-unknown-linux-gnu/lib/librand\n```\n\nWith the change for #23303, `-L \"\"` became an error, so build [#79](http://buildbot.rust-lang.org/builders/nightly-dist-rustc-linux/builds/79/steps/compile/logs/stdio) failed:\n\n```\n/bin/sh: /home/rustbuild/src/rust-buildbot/slave/nightly-dist-rustc-linux/build/obj/i686-unknown-linux-gnu/llvm/Release+Asserts/bin/llvm-config: No such file or directory\nrustc: x86_64-unknown-linux-gnu/stage1/lib/rustlib/i686-unknown-linux-gnu/lib/libcore\nerror: empty search path given via `-L`\n```\n\nThe problem is that we're passing LLVM's library directory to all Rust crates, even `libcore`, which does not actually link against an LLVM library. In certain configurations, `libcore` is built before LLVM, so `llvm-config` does not exist yet.\n\nI've only seen the problem with a non-parallel build and `--host=i686-unknown-linux-gnu,x86_64-unknown-linux-gnu` on a 64-bit Linux machine. I also tried a parallel build and a `--target=i686-unknown-linux-gnu` build, which did not reproduce the problem. I speculate that the parallel build got lucky and built the non-native LLVM quickly enough, while maybe the single-host build succeeded because LLVM was already an indirect dependency of the Rust crates.\n\nThis PR fixes the build failure by ensuring that `llvm-config` exists if we are going to invoke it.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/82067891/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/82072875",
    "html_url": "https://github.com/rust-lang/rust/pull/23429#issuecomment-82072875",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23429",
    "id": 82072875,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyMDcyODc1",
    "user": {
      "login": "rprichard",
      "id": 1572855,
      "node_id": "MDQ6VXNlcjE1NzI4NTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1572855?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rprichard",
      "html_url": "https://github.com/rprichard",
      "followers_url": "https://api.github.com/users/rprichard/followers",
      "following_url": "https://api.github.com/users/rprichard/following{/other_user}",
      "gists_url": "https://api.github.com/users/rprichard/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rprichard/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rprichard/subscriptions",
      "organizations_url": "https://api.github.com/users/rprichard/orgs",
      "repos_url": "https://api.github.com/users/rprichard/repos",
      "events_url": "https://api.github.com/users/rprichard/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rprichard/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-17T03:36:55Z",
    "updated_at": "2015-03-17T03:36:55Z",
    "body": "I hadn't intended to make `LLVM_CONFIG_XXX` an order-only dependency, but it is one because it's after the `|` character. Changing `llvm-config` won't inherently force rebuilding Rust crates. That's... possibly what we want? OTOH, the `llvm-config` --libdir could change.\n\nI'm inclined to make it a normal dependency instead.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/82072875/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/82086703",
    "html_url": "https://github.com/rust-lang/rust/pull/23429#issuecomment-82086703",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23429",
    "id": 82086703,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyMDg2NzAz",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-17T03:59:16Z",
    "updated_at": "2015-03-17T03:59:16Z",
    "body": "Yeah I'm fine with a normal dependency as well, thanks for tracking this down!\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/82086703/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/82099273",
    "html_url": "https://github.com/rust-lang/rust/pull/23429#issuecomment-82099273",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23429",
    "id": 82099273,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyMDk5Mjcz",
    "user": {
      "login": "rprichard",
      "id": 1572855,
      "node_id": "MDQ6VXNlcjE1NzI4NTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1572855?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rprichard",
      "html_url": "https://github.com/rprichard",
      "followers_url": "https://api.github.com/users/rprichard/followers",
      "following_url": "https://api.github.com/users/rprichard/following{/other_user}",
      "gists_url": "https://api.github.com/users/rprichard/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rprichard/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rprichard/subscriptions",
      "organizations_url": "https://api.github.com/users/rprichard/orgs",
      "repos_url": "https://api.github.com/users/rprichard/repos",
      "events_url": "https://api.github.com/users/rprichard/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rprichard/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-17T04:30:18Z",
    "updated_at": "2015-03-17T04:30:18Z",
    "body": "Ok, I've changed `LLVM_CONFIG_XXX` into a normal dependency.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/82099273/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/82119565",
    "html_url": "https://github.com/rust-lang/rust/pull/23429#issuecomment-82119565",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23429",
    "id": 82119565,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyMTE5NTY1",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-17T05:37:17Z",
    "updated_at": "2015-03-17T05:37:17Z",
    "body": "@bors: r+ b07a1df p=1\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/82119565/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/82125854",
    "html_url": "https://github.com/rust-lang/rust/pull/23429#issuecomment-82125854",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23429",
    "id": 82125854,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyMTI1ODU0",
    "user": {
      "login": "bors",
      "id": 3372342,
      "node_id": "MDQ6VXNlcjMzNzIzNDI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bors",
      "html_url": "https://github.com/bors",
      "followers_url": "https://api.github.com/users/bors/followers",
      "following_url": "https://api.github.com/users/bors/following{/other_user}",
      "gists_url": "https://api.github.com/users/bors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bors/subscriptions",
      "organizations_url": "https://api.github.com/users/bors/orgs",
      "repos_url": "https://api.github.com/users/bors/repos",
      "events_url": "https://api.github.com/users/bors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bors/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-17T05:57:15Z",
    "updated_at": "2015-03-17T05:57:15Z",
    "body": ":hourglass: Testing commit b07a1df with merge 883551b...\n",
    "author_association": "COLLABORATOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/82125854/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/82199692",
    "html_url": "https://github.com/rust-lang/rust/pull/23429#issuecomment-82199692",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23429",
    "id": 82199692,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyMTk5Njky",
    "user": {
      "login": "bors",
      "id": 3372342,
      "node_id": "MDQ6VXNlcjMzNzIzNDI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bors",
      "html_url": "https://github.com/bors",
      "followers_url": "https://api.github.com/users/bors/followers",
      "following_url": "https://api.github.com/users/bors/following{/other_user}",
      "gists_url": "https://api.github.com/users/bors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bors/subscriptions",
      "organizations_url": "https://api.github.com/users/bors/orgs",
      "repos_url": "https://api.github.com/users/bors/repos",
      "events_url": "https://api.github.com/users/bors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bors/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-17T08:31:20Z",
    "updated_at": "2015-03-17T08:31:20Z",
    "body": ":sunny: Test successful - [auto-linux-32-nopt-t](http://buildbot.rust-lang.org/builders/auto-linux-32-nopt-t/builds/4087), [auto-linux-32-opt](http://buildbot.rust-lang.org/builders/auto-linux-32-opt/builds/4091), [auto-linux-64-nopt-t](http://buildbot.rust-lang.org/builders/auto-linux-64-nopt-t/builds/4073), [auto-linux-64-opt](http://buildbot.rust-lang.org/builders/auto-linux-64-opt/builds/4081), [auto-linux-64-x-android-t](http://buildbot.rust-lang.org/builders/auto-linux-64-x-android-t/builds/4054), [auto-mac-32-opt](http://buildbot.rust-lang.org/builders/auto-mac-32-opt/builds/4107), [auto-mac-64-nopt-t](http://buildbot.rust-lang.org/builders/auto-mac-64-nopt-t/builds/4107), [auto-mac-64-opt](http://buildbot.rust-lang.org/builders/auto-mac-64-opt/builds/4094), [auto-win-32-nopt-t](http://buildbot.rust-lang.org/builders/auto-win-32-nopt-t/builds/3767), [auto-win-32-opt](http://buildbot.rust-lang.org/builders/auto-win-32-opt/builds/3753), [auto-win-64-nopt-t](http://buildbot.rust-lang.org/builders/auto-win-64-nopt-t/builds/2584), [auto-win-64-opt](http://buildbot.rust-lang.org/builders/auto-win-64-opt/builds/2591)\n",
    "author_association": "COLLABORATOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/82199692/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
