[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/121821355",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-121821355",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 121821355,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyMTgyMTM1NQ==",
    "user": {
      "login": "Gankra",
      "id": 1136864,
      "node_id": "MDQ6VXNlcjExMzY4NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1136864?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Gankra",
      "html_url": "https://github.com/Gankra",
      "followers_url": "https://api.github.com/users/Gankra/followers",
      "following_url": "https://api.github.com/users/Gankra/following{/other_user}",
      "gists_url": "https://api.github.com/users/Gankra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Gankra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Gankra/subscriptions",
      "organizations_url": "https://api.github.com/users/Gankra/orgs",
      "repos_url": "https://api.github.com/users/Gankra/repos",
      "events_url": "https://api.github.com/users/Gankra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Gankra/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-16T03:57:03Z",
    "updated_at": "2015-07-16T03:57:10Z",
    "body": "I... honestly thought that was expected behaviour. What can possibly be done about this is general, other than making references into packed fields a different type (or forbidding them)?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/121821355/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/121835470",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-121835470",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 121835470,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyMTgzNTQ3MA==",
    "user": {
      "login": "eefriedman",
      "id": 12769964,
      "node_id": "MDQ6VXNlcjEyNzY5OTY0",
      "avatar_url": "https://avatars.githubusercontent.com/u/12769964?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eefriedman",
      "html_url": "https://github.com/eefriedman",
      "followers_url": "https://api.github.com/users/eefriedman/followers",
      "following_url": "https://api.github.com/users/eefriedman/following{/other_user}",
      "gists_url": "https://api.github.com/users/eefriedman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eefriedman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eefriedman/subscriptions",
      "organizations_url": "https://api.github.com/users/eefriedman/orgs",
      "repos_url": "https://api.github.com/users/eefriedman/repos",
      "events_url": "https://api.github.com/users/eefriedman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eefriedman/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-16T05:29:27Z",
    "updated_at": "2015-07-16T05:29:27Z",
    "body": "This is UB, so it's clearly not expected... but yes. it's more of a design flaw than an implementation issue.\n\nNote that it's possible to make code like this misbehave even without SIMD, although it's a bit trickier; LLVM performs optimizations based on the alignment of loads.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/121835470/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/121837338",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-121837338",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 121837338,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyMTgzNzMzOA==",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-16T05:33:37Z",
    "updated_at": "2015-07-16T05:34:12Z",
    "body": "Yeah, I only used SIMD because it was the simplest way to demonstrate the problem on x86. I believe platforms like ARM are generally stricter about load alignments, so even, say, `u16` may crash in simple cases like the above.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/121837338/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/123218635",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-123218635",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 123218635,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyMzIxODYzNQ==",
    "user": {
      "login": "retep998",
      "id": 666308,
      "node_id": "MDQ6VXNlcjY2NjMwOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/666308?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/retep998",
      "html_url": "https://github.com/retep998",
      "followers_url": "https://api.github.com/users/retep998/followers",
      "following_url": "https://api.github.com/users/retep998/following{/other_user}",
      "gists_url": "https://api.github.com/users/retep998/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/retep998/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/retep998/subscriptions",
      "organizations_url": "https://api.github.com/users/retep998/orgs",
      "repos_url": "https://api.github.com/users/retep998/repos",
      "events_url": "https://api.github.com/users/retep998/events{/privacy}",
      "received_events_url": "https://api.github.com/users/retep998/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-21T08:49:32Z",
    "updated_at": "2015-07-21T08:49:32Z",
    "body": "Is there a way to tell LLVM that the value could be unaligned, and so LLVM should emit code that tries to read it in a safe way for the given architecture, even if it results in slower code?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/123218635/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/123219686",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-123219686",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 123219686,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyMzIxOTY4Ng==",
    "user": {
      "login": "vadimcn",
      "id": 3203809,
      "node_id": "MDQ6VXNlcjMyMDM4MDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3203809?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vadimcn",
      "html_url": "https://github.com/vadimcn",
      "followers_url": "https://api.github.com/users/vadimcn/followers",
      "following_url": "https://api.github.com/users/vadimcn/following{/other_user}",
      "gists_url": "https://api.github.com/users/vadimcn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vadimcn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vadimcn/subscriptions",
      "organizations_url": "https://api.github.com/users/vadimcn/orgs",
      "repos_url": "https://api.github.com/users/vadimcn/repos",
      "events_url": "https://api.github.com/users/vadimcn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vadimcn/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-21T08:52:43Z",
    "updated_at": "2015-07-21T08:52:43Z",
    "body": "@retep998: That's exactly what LLVM should have done for a packed struct.  This looks like a LLVM codegen bug to me.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/123219686/reactions",
      "total_count": 3,
      "+1": 3,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/123226064",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-123226064",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 123226064,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyMzIyNjA2NA==",
    "user": {
      "login": "dotdash",
      "id": 230962,
      "node_id": "MDQ6VXNlcjIzMDk2Mg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/230962?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dotdash",
      "html_url": "https://github.com/dotdash",
      "followers_url": "https://api.github.com/users/dotdash/followers",
      "following_url": "https://api.github.com/users/dotdash/following{/other_user}",
      "gists_url": "https://api.github.com/users/dotdash/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dotdash/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dotdash/subscriptions",
      "organizations_url": "https://api.github.com/users/dotdash/orgs",
      "repos_url": "https://api.github.com/users/dotdash/repos",
      "events_url": "https://api.github.com/users/dotdash/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dotdash/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-21T09:08:54Z",
    "updated_at": "2015-07-21T09:08:54Z",
    "body": "@vadimcn this is entirely our (or rather: my) fault. We used to not emit alignment data at all, which caused misaligned accesses for small aggregates (see #23431). But now we unconditionally emit alignment data purely based on the type that we're loading, ignoring where that value is stored. In fact at the point where we create the load, we currently don't even know where that pointer comes from and can't properly handle packed structs.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/123226064/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/123232900",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-123232900",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 123232900,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyMzIzMjkwMA==",
    "user": {
      "login": "retep998",
      "id": 666308,
      "node_id": "MDQ6VXNlcjY2NjMwOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/666308?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/retep998",
      "html_url": "https://github.com/retep998",
      "followers_url": "https://api.github.com/users/retep998/followers",
      "following_url": "https://api.github.com/users/retep998/following{/other_user}",
      "gists_url": "https://api.github.com/users/retep998/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/retep998/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/retep998/subscriptions",
      "organizations_url": "https://api.github.com/users/retep998/orgs",
      "repos_url": "https://api.github.com/users/retep998/repos",
      "events_url": "https://api.github.com/users/retep998/events{/privacy}",
      "received_events_url": "https://api.github.com/users/retep998/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-21T09:22:03Z",
    "updated_at": "2015-07-21T09:22:03Z",
    "body": "Perhaps we need some sort of alignment attribute that we can attach to pointers?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/123232900/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/123390534",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-123390534",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 123390534,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyMzM5MDUzNA==",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-21T16:19:40Z",
    "updated_at": "2015-07-21T16:19:58Z",
    "body": "In general we have no idea where a reference comes from, e.g. `fn foo(x: &f32x4) { let y = *x; ...` in some external crate can't know if we happen to pass in `&val.y.0` in the code above. The only way to codegen to handle unaligned references properly is to assume pointers are never aligned, which would be extremely unfortunate. We don't currently have type-attributes, so it would be somewhat strange to introduce one here, instead of using types (for example).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/123390534/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/123646396",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-123646396",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 123646396,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyMzY0NjM5Ng==",
    "user": {
      "login": "vadimcn",
      "id": 3203809,
      "node_id": "MDQ6VXNlcjMyMDM4MDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3203809?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vadimcn",
      "html_url": "https://github.com/vadimcn",
      "followers_url": "https://api.github.com/users/vadimcn/followers",
      "following_url": "https://api.github.com/users/vadimcn/following{/other_user}",
      "gists_url": "https://api.github.com/users/vadimcn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vadimcn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vadimcn/subscriptions",
      "organizations_url": "https://api.github.com/users/vadimcn/orgs",
      "repos_url": "https://api.github.com/users/vadimcn/repos",
      "events_url": "https://api.github.com/users/vadimcn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vadimcn/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-22T09:53:16Z",
    "updated_at": "2015-07-22T09:53:16Z",
    "body": "Can we make creation of references into packed structs unsafe?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/123646396/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/124229536",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-124229536",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 124229536,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNDIyOTUzNg==",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-23T20:24:26Z",
    "updated_at": "2015-07-23T20:24:26Z",
    "body": "triage: P-high\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/124229536/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/124229647",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-124229647",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 124229647,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNDIyOTY0Nw==",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-23T20:24:49Z",
    "updated_at": "2015-07-23T20:26:46Z",
    "body": "Seems clear there's a bug here. First step is to evaluate how widely used packed is, so huon is going to do a crater run with `#[repr(packed)]` feature gated.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/124229647/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/124760510",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-124760510",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 124760510,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNDc2MDUxMA==",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-24T23:08:14Z",
    "updated_at": "2015-07-24T23:08:14Z",
    "body": "I made a patch that feature gated repr(packed) and did a crater run. Results: https://gist.github.com/huonw/8262a4fb2da0a052f5f1 . Summary:\n\nHigh-level summary:\n- several unnecessary uses of `repr(packed)`\n- most necessary ones are to match the declaration of a struct in C\n- many \"necessary\" uses can be replaced by byte arrays/arrays of smaller types\n- 8 crates are currently on stable themselves (unsure about deps), 4 are already on nightly \n  - 1 of the 8, http2parse, is essentially only used by a nightly-only crate (tendril)\n  - 4 of the stable and 1 of the nightly crates don't need `repr(packed)` at all \n\n|  | stable | needed | FFI only |\n| --- | --- | --- | --- |\n| image | \u2713 |  |  |\n| nix | \u2713 | \u2713 | \u2713 |\n| tendril |  | \u2713 |  |\n| assimp-sys | \u2713 | \u2713 | \u2713 |\n| stemmer | \u2713 |  |  |\n| x86 | \u2713 | \u2713 | \u2713 |\n| http2parse | \u2713 | \u2713 |  |\n| nl80211rs | \u2713 | \u2713 | \u2713 |\n| openal | \u2713 |  |  |\n| elfloader |  | \u2713 | \u2713 |\n| x11 | \u2713 |  |  |\n| kiss3d | \u2713 |  |  |\n\nAs you can see from the \"huon references this issue ...\" spam above this comment, I've opened PRs against the libraries where the `repr(packed)` seems to be unnecessary.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/124760510/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/124847804",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-124847804",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 124847804,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNDg0NzgwNA==",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-25T13:42:15Z",
    "updated_at": "2015-07-25T13:42:15Z",
    "body": "The bug here is the testcase, it's intentionally violating CPU alignment constraints. In C, `packed` is unsafe, and you're not supposed to take pointers to the fields of a packed structure, for fear of unaligned access. So, a simple path forward to me seems to be disallow taking references to fields of a struct with `#[repr(packed)]`.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/124847804/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/124852770",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-124852770",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 124852770,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNDg1Mjc3MA==",
    "user": {
      "login": "eddyb",
      "id": 77424,
      "node_id": "MDQ6VXNlcjc3NDI0",
      "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eddyb",
      "html_url": "https://github.com/eddyb",
      "followers_url": "https://api.github.com/users/eddyb/followers",
      "following_url": "https://api.github.com/users/eddyb/following{/other_user}",
      "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions",
      "organizations_url": "https://api.github.com/users/eddyb/orgs",
      "repos_url": "https://api.github.com/users/eddyb/repos",
      "events_url": "https://api.github.com/users/eddyb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eddyb/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-25T15:11:43Z",
    "updated_at": "2015-07-25T15:11:56Z",
    "body": "I like @cmr's suggestion, on which I see 3 variations:\n- hard error on all borrows (most conservative)\n- copy an rvalue out and borrow that (likely to avoid errors in existing code)\n- make borrows unsafe\n\nThe first two have the advantage that we could pack things tighter, e.g. `bool` fields could be bit-fields.\nNot sure that's something we want to do to `#[repr(packed)]`, but nevertheless, opting into no references to fields will be needed at some point for more layout optimizations.\n\n@huonw Could those crates be checked with an error being emitted [here](https://github.com/rust-lang/rust/blob/04badd6a973d2499731b49365a121dbc4c9c468e/src/librustc_borrowck/borrowck/check_loans.rs#L131) if `cmt` refers to a field of a `#[repr(packed)]` `struct`, or something inside such a field?\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/124852770/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/124861656",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-124861656",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 124861656,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNDg2MTY1Ng==",
    "user": {
      "login": "glaebhoerl",
      "id": 1216629,
      "node_id": "MDQ6VXNlcjEyMTY2Mjk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1216629?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/glaebhoerl",
      "html_url": "https://github.com/glaebhoerl",
      "followers_url": "https://api.github.com/users/glaebhoerl/followers",
      "following_url": "https://api.github.com/users/glaebhoerl/following{/other_user}",
      "gists_url": "https://api.github.com/users/glaebhoerl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/glaebhoerl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/glaebhoerl/subscriptions",
      "organizations_url": "https://api.github.com/users/glaebhoerl/orgs",
      "repos_url": "https://api.github.com/users/glaebhoerl/repos",
      "events_url": "https://api.github.com/users/glaebhoerl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/glaebhoerl/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-25T16:53:38Z",
    "updated_at": "2015-07-25T16:55:07Z",
    "body": "cc https://github.com/rust-lang/rfcs/issues/311 (and also `#[repr(simd)]`, all of which are in the same situation)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/124861656/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/124862305",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-124862305",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 124862305,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNDg2MjMwNQ==",
    "user": {
      "login": "glaebhoerl",
      "id": 1216629,
      "node_id": "MDQ6VXNlcjEyMTY2Mjk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1216629?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/glaebhoerl",
      "html_url": "https://github.com/glaebhoerl",
      "followers_url": "https://api.github.com/users/glaebhoerl/followers",
      "following_url": "https://api.github.com/users/glaebhoerl/following{/other_user}",
      "gists_url": "https://api.github.com/users/glaebhoerl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/glaebhoerl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/glaebhoerl/subscriptions",
      "organizations_url": "https://api.github.com/users/glaebhoerl/orgs",
      "repos_url": "https://api.github.com/users/glaebhoerl/repos",
      "events_url": "https://api.github.com/users/glaebhoerl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/glaebhoerl/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-25T17:03:23Z",
    "updated_at": "2015-07-25T17:05:18Z",
    "body": "brief sketch of how all of these could work: \n- for interior `&` refs, copy out onto stack first\n- for interior `&mut`, copy out first, and copy _back_ immediately after borrow ends (subtlety: if ownership of `&mut` is passed to another fn, copy-back is _still_ done by the caller (because callee can't know whether it should); difference should not be observable because `&mut` implies no other references exist through which to observe; same logic suggests `mem::forget` shouldn't be a problem either)\n- wrinkle: interior mutability aka `UnsafeCell`, needs to either fall back to normal repr, compile error (\"can't `#repr(foo)` on types containing `UnsafeCell`...\"; wrinkle: what about generic types?), or some other special handling\n- question: are \"`UnsafeCell`\" and \"not `UnsafeCell`\" the only two possible relevant cases?\n\n(sorry for brevity, been wanting to write this down for a while but short of time)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/124862305/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/124863033",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-124863033",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 124863033,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNDg2MzAzMw==",
    "user": {
      "login": "eddyb",
      "id": 77424,
      "node_id": "MDQ6VXNlcjc3NDI0",
      "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eddyb",
      "html_url": "https://github.com/eddyb",
      "followers_url": "https://api.github.com/users/eddyb/followers",
      "following_url": "https://api.github.com/users/eddyb/following{/other_user}",
      "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions",
      "organizations_url": "https://api.github.com/users/eddyb/orgs",
      "repos_url": "https://api.github.com/users/eddyb/repos",
      "events_url": "https://api.github.com/users/eddyb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eddyb/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-25T17:16:58Z",
    "updated_at": "2015-07-25T17:17:15Z",
    "body": "@glaebhoerl That's an interesting suggestion, and I can't think of any issues with the `&mut` handling.\nSo for a struct with no interior mutability, would the only difference with `#[repr(packed)]` be the lifetime of field borrows, i.e. `&'a Struct -> &'a Field` wouldn't work?\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/124863033/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/124880789",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-124880789",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 124880789,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNDg4MDc4OQ==",
    "user": {
      "login": "glaebhoerl",
      "id": 1216629,
      "node_id": "MDQ6VXNlcjEyMTY2Mjk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1216629?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/glaebhoerl",
      "html_url": "https://github.com/glaebhoerl",
      "followers_url": "https://api.github.com/users/glaebhoerl/followers",
      "following_url": "https://api.github.com/users/glaebhoerl/following{/other_user}",
      "gists_url": "https://api.github.com/users/glaebhoerl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/glaebhoerl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/glaebhoerl/subscriptions",
      "organizations_url": "https://api.github.com/users/glaebhoerl/orgs",
      "repos_url": "https://api.github.com/users/glaebhoerl/repos",
      "events_url": "https://api.github.com/users/glaebhoerl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/glaebhoerl/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-25T19:52:30Z",
    "updated_at": "2015-07-25T19:52:30Z",
    "body": "Oh, hmm. To be honest I hadn't even thought of that. (In case it's not clear to anyone else (it only became clear to me after I had written out a comment asking for clarification): if I have a `PackedStruct` on my stack, and wish to call an `fn get_field(&PackedStruct) -> &Field` on it, that plainly won't work if `get_field` copies the `Field` out onto its _own_ stack, which'll be deallocated by the time it returns.) Too bad: I had been hoping all `#[repr(s)]` could keep the same observable semantics, and even a subtlety like this rules out that possibility. Apparently there's no free lunch.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/124880789/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/124897913",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-124897913",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 124897913,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNDg5NzkxMw==",
    "user": {
      "login": "eddyb",
      "id": 77424,
      "node_id": "MDQ6VXNlcjc3NDI0",
      "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eddyb",
      "html_url": "https://github.com/eddyb",
      "followers_url": "https://api.github.com/users/eddyb/followers",
      "following_url": "https://api.github.com/users/eddyb/following{/other_user}",
      "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions",
      "organizations_url": "https://api.github.com/users/eddyb/orgs",
      "repos_url": "https://api.github.com/users/eddyb/repos",
      "events_url": "https://api.github.com/users/eddyb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eddyb/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-25T21:27:42Z",
    "updated_at": "2015-07-25T21:28:02Z",
    "body": "@glaebhoerl I do expect that such a scheme would allow most code to continue compiling, given the small number of `repr(packed)` uses.\n\n@huonw have you grepped for `repr(packed)` in the cargo dir to find occurrences in code that does not otherwise compile?\n(Just making sure nothing is missed, I don't foresee anything significant showing up.)\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/124897913/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/124901652",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-124901652",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 124901652,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNDkwMTY1Mg==",
    "user": {
      "login": "retep998",
      "id": 666308,
      "node_id": "MDQ6VXNlcjY2NjMwOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/666308?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/retep998",
      "html_url": "https://github.com/retep998",
      "followers_url": "https://api.github.com/users/retep998/followers",
      "following_url": "https://api.github.com/users/retep998/following{/other_user}",
      "gists_url": "https://api.github.com/users/retep998/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/retep998/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/retep998/subscriptions",
      "organizations_url": "https://api.github.com/users/retep998/orgs",
      "repos_url": "https://api.github.com/users/retep998/repos",
      "events_url": "https://api.github.com/users/retep998/events{/privacy}",
      "received_events_url": "https://api.github.com/users/retep998/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-25T21:51:44Z",
    "updated_at": "2015-07-25T21:51:44Z",
    "body": "I use and need `repr(packed)` for one of my libraries, because I do memory mapping tricks. I'm fine with it being unsafe, just as long as I can continue to use it from within stable Rust.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/124901652/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/124910383",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-124910383",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 124910383,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNDkxMDM4Mw==",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-25T23:04:35Z",
    "updated_at": "2015-07-25T23:04:35Z",
    "body": "> The bug here is the testcase, it's intentionally violating CPU alignment constraints. In C, packed is unsafe, and you're not supposed to take pointers to the fields of a packed structure, for fear of unaligned access. So, a simple path forward to me seems to be disallow taking references to fields of a struct with #[repr(packed)].\n\nOf course the bug is in the test case... that's why I filed an issue with it ;) It's a compiler bug that the test case compiles and then crashes: it should either not compile, or not crash. It's triggering undefined behaviour (at the very least, we're telling LLVM that the load is aligned when it isn't), and, notably, it's particularly egregious, since there's no explicit internal references at all: our current (broken) scheme could probably be tweaked to make that specific example compile, without making any other changes.\n\n(Of course, the fundamental problem won't be fixed by making a few tweaks to how we codegen struct field accesses.)\n\n> I use and need repr(packed) for one of my libraries, because I do memory mapping tricks. I'm fine with it being unsafe, just as long as I can continue to use it from within stable Rust.\n\nCould you go into more detail about what the struct looks like?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/124910383/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/124910477",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-124910477",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 124910477,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNDkxMDQ3Nw==",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-25T23:06:44Z",
    "updated_at": "2015-07-25T23:06:44Z",
    "body": "> have you grepped for repr(packed) in the cargo dir to find occurrences in code that does not otherwise compile?\n\nNothing new.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/124910477/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/124924571",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-124924571",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 124924571,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNDkyNDU3MQ==",
    "user": {
      "login": "retep998",
      "id": 666308,
      "node_id": "MDQ6VXNlcjY2NjMwOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/666308?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/retep998",
      "html_url": "https://github.com/retep998",
      "followers_url": "https://api.github.com/users/retep998/followers",
      "following_url": "https://api.github.com/users/retep998/following{/other_user}",
      "gists_url": "https://api.github.com/users/retep998/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/retep998/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/retep998/subscriptions",
      "organizations_url": "https://api.github.com/users/retep998/orgs",
      "repos_url": "https://api.github.com/users/retep998/repos",
      "events_url": "https://api.github.com/users/retep998/events{/privacy}",
      "received_events_url": "https://api.github.com/users/retep998/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-26T01:10:02Z",
    "updated_at": "2015-07-26T01:10:02Z",
    "body": "@huonw https://github.com/NoLifeDev/nx-rs/blob/master/src/repr.rs\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/124924571/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/125307022",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-125307022",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 125307022,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNTMwNzAyMg==",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-27T19:03:23Z",
    "updated_at": "2015-07-27T19:03:23Z",
    "body": "It looks like that might be able to get away with `[u32; 2]` + some transmutes in a pinch (highly not great of course...).\n\n(I assume you've thought about the endianness issues that comes with mmaping data directly?)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/125307022/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/125734248",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-125734248",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 125734248,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNTczNDI0OA==",
    "user": {
      "login": "arcnmx",
      "id": 13426784,
      "node_id": "MDQ6VXNlcjEzNDI2Nzg0",
      "avatar_url": "https://avatars.githubusercontent.com/u/13426784?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/arcnmx",
      "html_url": "https://github.com/arcnmx",
      "followers_url": "https://api.github.com/users/arcnmx/followers",
      "following_url": "https://api.github.com/users/arcnmx/following{/other_user}",
      "gists_url": "https://api.github.com/users/arcnmx/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/arcnmx/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/arcnmx/subscriptions",
      "organizations_url": "https://api.github.com/users/arcnmx/orgs",
      "repos_url": "https://api.github.com/users/arcnmx/repos",
      "events_url": "https://api.github.com/users/arcnmx/events{/privacy}",
      "received_events_url": "https://api.github.com/users/arcnmx/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-28T19:49:36Z",
    "updated_at": "2015-07-28T19:49:36Z",
    "body": "Going to throw in my voice in that `#[repr(packed)]` is rather important for http://arcnmx.github.io/nue/pod/ (has a safe/stable interface via syntex). However, yes, they will get aligned wrong on ARMv5 (an arch that rust doesn't support), but will work on ARMv6 (rust's current minimum supported arm platform). Loading from a pointer with incorrect alignment is considered UB in LLVM though, so... ouch. Just because it works in most cases on x86 doesn't mean it can be ignored :(\n\nNote that borrows are only UB/unsafe **for types that have an alignment > 1** - I would hope to retain this behaviour at the very least, so that my Le<u32>, u8, and other such types can continue to function properly in stable and safe code.\n\nMy proposal: If `packed` can be exposed as a marker trait, OIBIT could be used to ensure that packed types only contain other packed types (and thus all have alignments of 1, and borrowing any of its members will be safe). Then you can opt in to packed via an `unsafe impl` if you really want to use unaligned accesses, or don't care for whatever reason.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/125734248/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/125746814",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-125746814",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 125746814,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNTc0NjgxNA==",
    "user": {
      "login": "comex",
      "id": 47517,
      "node_id": "MDQ6VXNlcjQ3NTE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/47517?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/comex",
      "html_url": "https://github.com/comex",
      "followers_url": "https://api.github.com/users/comex/followers",
      "following_url": "https://api.github.com/users/comex/following{/other_user}",
      "gists_url": "https://api.github.com/users/comex/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/comex/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/comex/subscriptions",
      "organizations_url": "https://api.github.com/users/comex/orgs",
      "repos_url": "https://api.github.com/users/comex/repos",
      "events_url": "https://api.github.com/users/comex/events{/privacy}",
      "received_events_url": "https://api.github.com/users/comex/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-28T20:37:25Z",
    "updated_at": "2015-07-28T20:37:25Z",
    "body": "Not that it really matters due to the LLVM UB issue, but it's still possible to disable unaligned accesses on ARM with a CPU flag; GCC and Clang expose `-mno-unaligned-access` to generate code that supports this.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/125746814/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/125912775",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-125912775",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 125912775,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNTkxMjc3NQ==",
    "user": {
      "login": "bluss",
      "id": 3209739,
      "node_id": "MDQ6VXNlcjMyMDk3Mzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3209739?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bluss",
      "html_url": "https://github.com/bluss",
      "followers_url": "https://api.github.com/users/bluss/followers",
      "following_url": "https://api.github.com/users/bluss/following{/other_user}",
      "gists_url": "https://api.github.com/users/bluss/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bluss/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bluss/subscriptions",
      "organizations_url": "https://api.github.com/users/bluss/orgs",
      "repos_url": "https://api.github.com/users/bluss/repos",
      "events_url": "https://api.github.com/users/bluss/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bluss/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-29T10:22:37Z",
    "updated_at": "2015-07-29T10:22:37Z",
    "body": "Can this cause memory unsafety?\n\nIf it always leads to an exception and abort, maybe it is something that Rust can allow.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/125912775/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/125949404",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-125949404",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 125949404,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNTk0OTQwNA==",
    "user": {
      "login": "arcnmx",
      "id": 13426784,
      "node_id": "MDQ6VXNlcjEzNDI2Nzg0",
      "avatar_url": "https://avatars.githubusercontent.com/u/13426784?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/arcnmx",
      "html_url": "https://github.com/arcnmx",
      "followers_url": "https://api.github.com/users/arcnmx/followers",
      "following_url": "https://api.github.com/users/arcnmx/following{/other_user}",
      "gists_url": "https://api.github.com/users/arcnmx/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/arcnmx/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/arcnmx/subscriptions",
      "organizations_url": "https://api.github.com/users/arcnmx/orgs",
      "repos_url": "https://api.github.com/users/arcnmx/repos",
      "events_url": "https://api.github.com/users/arcnmx/events{/privacy}",
      "received_events_url": "https://api.github.com/users/arcnmx/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-29T13:17:52Z",
    "updated_at": "2015-07-29T13:17:52Z",
    "body": "@bluss it can. Look at the linked issue about unaligned reads on ARM, it'll just silently give you wrong/unexpected values when reading from a pointer. [It's also explicitly stated as undefined behaviour in LLVM](http://llvm.org/docs/LangRef.html#load-instruction):\n\n> It is the responsibility of the code emitter to ensure that the alignment information is correct. Overestimating the alignment results in undefined behavior. Underestimating the alignment may produce less efficient code. An alignment of 1 is always safe. The maximum possible alignment is 1 << 29.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/125949404/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/126165610",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-126165610",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 126165610,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyNjE2NTYxMA==",
    "user": {
      "login": "arcnmx",
      "id": 13426784,
      "node_id": "MDQ6VXNlcjEzNDI2Nzg0",
      "avatar_url": "https://avatars.githubusercontent.com/u/13426784?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/arcnmx",
      "html_url": "https://github.com/arcnmx",
      "followers_url": "https://api.github.com/users/arcnmx/followers",
      "following_url": "https://api.github.com/users/arcnmx/following{/other_user}",
      "gists_url": "https://api.github.com/users/arcnmx/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/arcnmx/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/arcnmx/subscriptions",
      "organizations_url": "https://api.github.com/users/arcnmx/orgs",
      "repos_url": "https://api.github.com/users/arcnmx/repos",
      "events_url": "https://api.github.com/users/arcnmx/events{/privacy}",
      "received_events_url": "https://api.github.com/users/arcnmx/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-30T02:43:38Z",
    "updated_at": "2015-07-30T02:43:38Z",
    "body": "Well, I put an initial implementation of this into http://arcnmx.github.io/nue/packed/index.html\n\n`#[packed]` ensures that all types are safe to use unaligned before applying `#[repr(packed)]`, and includes some helpers along with [pod's usual endian primitives](http://arcnmx.github.io/nue/pod/endian/index.html). The API needs some work, and some of my assumptions may not be entirely correct, but it gives a rough idea of how something similar could work for std!\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/126165610/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/128548445",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-128548445",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 128548445,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyODU0ODQ0NQ==",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-08-07T00:33:18Z",
    "updated_at": "2015-08-07T00:33:18Z",
    "body": "I've written https://github.com/rust-lang/rfcs/pull/1240 which proposes making taking a reference into a `repr(packed)` struct `unsafe`.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/128548445/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/128552030",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-128552030",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 128552030,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyODU1MjAzMA==",
    "user": {
      "login": "arcnmx",
      "id": 13426784,
      "node_id": "MDQ6VXNlcjEzNDI2Nzg0",
      "avatar_url": "https://avatars.githubusercontent.com/u/13426784?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/arcnmx",
      "html_url": "https://github.com/arcnmx",
      "followers_url": "https://api.github.com/users/arcnmx/followers",
      "following_url": "https://api.github.com/users/arcnmx/following{/other_user}",
      "gists_url": "https://api.github.com/users/arcnmx/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/arcnmx/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/arcnmx/subscriptions",
      "organizations_url": "https://api.github.com/users/arcnmx/orgs",
      "repos_url": "https://api.github.com/users/arcnmx/repos",
      "events_url": "https://api.github.com/users/arcnmx/events{/privacy}",
      "received_events_url": "https://api.github.com/users/arcnmx/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-08-07T01:00:06Z",
    "updated_at": "2015-08-07T01:00:06Z",
    "body": "I don't feel like this is the correct approach to take, will write up some notes in the RFC comments in a bit.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/128552030/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/136789004",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-136789004",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 136789004,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzNjc4OTAwNA==",
    "user": {
      "login": "retep998",
      "id": 666308,
      "node_id": "MDQ6VXNlcjY2NjMwOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/666308?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/retep998",
      "html_url": "https://github.com/retep998",
      "followers_url": "https://api.github.com/users/retep998/followers",
      "following_url": "https://api.github.com/users/retep998/following{/other_user}",
      "gists_url": "https://api.github.com/users/retep998/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/retep998/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/retep998/subscriptions",
      "organizations_url": "https://api.github.com/users/retep998/orgs",
      "repos_url": "https://api.github.com/users/retep998/repos",
      "events_url": "https://api.github.com/users/retep998/events{/privacy}",
      "received_events_url": "https://api.github.com/users/retep998/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-09-01T16:45:57Z",
    "updated_at": "2015-09-01T16:45:57Z",
    "body": "Also, I'd like to point out that, as it turns out, a bunch of types in the Windows SDK are packed, so `#[repr(packed)]` really needs to stay in stable Rust for `winapi`'s sake.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/136789004/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/137207651",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-137207651",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 137207651,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzNzIwNzY1MQ==",
    "user": {
      "login": "ghost",
      "id": 10137,
      "node_id": "MDQ6VXNlcjEwMTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ghost",
      "html_url": "https://github.com/ghost",
      "followers_url": "https://api.github.com/users/ghost/followers",
      "following_url": "https://api.github.com/users/ghost/following{/other_user}",
      "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
      "organizations_url": "https://api.github.com/users/ghost/orgs",
      "repos_url": "https://api.github.com/users/ghost/repos",
      "events_url": "https://api.github.com/users/ghost/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ghost/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-09-02T18:49:21Z",
    "updated_at": "2015-09-02T18:49:21Z",
    "body": "> Also, I'd like to point out that, as it turns out, a bunch of types in the Windows SDK are packed, so `#[repr(packed)]` really needs to stay in stable Rust for winapi's sake.\n\nMight also be worth noting that some Windows API structs are packed to different alignments, e.g. `#pragma pack(2)`, whereas Rust seems to currently only allow 1-byte alignment (although this can be easily worked around with additional padding fields).\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/137207651/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/137247427",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-137247427",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 137247427,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzNzI0NzQyNw==",
    "user": {
      "login": "retep998",
      "id": 666308,
      "node_id": "MDQ6VXNlcjY2NjMwOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/666308?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/retep998",
      "html_url": "https://github.com/retep998",
      "followers_url": "https://api.github.com/users/retep998/followers",
      "following_url": "https://api.github.com/users/retep998/following{/other_user}",
      "gists_url": "https://api.github.com/users/retep998/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/retep998/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/retep998/subscriptions",
      "organizations_url": "https://api.github.com/users/retep998/orgs",
      "repos_url": "https://api.github.com/users/retep998/repos",
      "events_url": "https://api.github.com/users/retep998/events{/privacy}",
      "received_events_url": "https://api.github.com/users/retep998/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-09-02T21:18:09Z",
    "updated_at": "2015-09-02T21:18:09Z",
    "body": "Could we perhaps expand the syntax to `#[repr(packed(N))]` then?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/137247427/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/141539474",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-141539474",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 141539474,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0MTUzOTQ3NA==",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-09-18T19:11:59Z",
    "updated_at": "2015-09-18T19:11:59Z",
    "body": "Note that rust-lang/rfcs#1240 was accepted. I have re-used this as the tracking issue.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/141539474/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/144863155",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-144863155",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 144863155,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0NDg2MzE1NQ==",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-01T22:07:57Z",
    "updated_at": "2015-10-01T22:07:57Z",
    "body": "@rust-lang/compiler it'd be great to find someone to implement this! :)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/144863155/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/144922515",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-144922515",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 144922515,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0NDkyMjUxNQ==",
    "user": {
      "login": "Aatch",
      "id": 342416,
      "node_id": "MDQ6VXNlcjM0MjQxNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/342416?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Aatch",
      "html_url": "https://github.com/Aatch",
      "followers_url": "https://api.github.com/users/Aatch/followers",
      "following_url": "https://api.github.com/users/Aatch/following{/other_user}",
      "gists_url": "https://api.github.com/users/Aatch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Aatch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Aatch/subscriptions",
      "organizations_url": "https://api.github.com/users/Aatch/orgs",
      "repos_url": "https://api.github.com/users/Aatch/repos",
      "events_url": "https://api.github.com/users/Aatch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Aatch/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-02T05:06:17Z",
    "updated_at": "2015-10-02T05:06:17Z",
    "body": "I'll take a look at it this weekend, I won't assign the issue to myself until I actually start working on it, just in case I decide that I don't have time (or forget!)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/144922515/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/145614767",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-145614767",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 145614767,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0NTYxNDc2Nw==",
    "user": {
      "login": "retep998",
      "id": 666308,
      "node_id": "MDQ6VXNlcjY2NjMwOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/666308?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/retep998",
      "html_url": "https://github.com/retep998",
      "followers_url": "https://api.github.com/users/retep998/followers",
      "following_url": "https://api.github.com/users/retep998/following{/other_user}",
      "gists_url": "https://api.github.com/users/retep998/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/retep998/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/retep998/subscriptions",
      "organizations_url": "https://api.github.com/users/retep998/orgs",
      "repos_url": "https://api.github.com/users/retep998/repos",
      "events_url": "https://api.github.com/users/retep998/events{/privacy}",
      "received_events_url": "https://api.github.com/users/retep998/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-05T17:58:50Z",
    "updated_at": "2015-10-05T17:58:50Z",
    "body": "A new align metadata was added to the load instruction in LLVM.\n\nhttp://reviews.llvm.org/rL248721\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/145614767/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/145723832",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-145723832",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 145723832,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0NTcyMzgzMg==",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-06T02:21:09Z",
    "updated_at": "2015-10-06T02:21:09Z",
    "body": "That doesn't solve the problem, unless we mark _all_ loads out of a `&T` as having alignment 1 (i.e. the current set-up means we could never assume a `&T` is correctly aligned), which would be very unfortunate from a performance point of view.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/145723832/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/156257765",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-156257765",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 156257765,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1NjI1Nzc2NQ==",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-11-12T22:29:56Z",
    "updated_at": "2015-11-12T22:29:56Z",
    "body": "Hey @Aatch, have you got an update the situation?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/156257765/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/156476684",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-156476684",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 156476684,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1NjQ3NjY4NA==",
    "user": {
      "login": "arielb1",
      "id": 1830974,
      "node_id": "MDQ6VXNlcjE4MzA5NzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1830974?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/arielb1",
      "html_url": "https://github.com/arielb1",
      "followers_url": "https://api.github.com/users/arielb1/followers",
      "following_url": "https://api.github.com/users/arielb1/following{/other_user}",
      "gists_url": "https://api.github.com/users/arielb1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/arielb1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/arielb1/subscriptions",
      "organizations_url": "https://api.github.com/users/arielb1/orgs",
      "repos_url": "https://api.github.com/users/arielb1/repos",
      "events_url": "https://api.github.com/users/arielb1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/arielb1/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-11-13T16:15:35Z",
    "updated_at": "2015-11-13T16:15:35Z",
    "body": "@huonw \nThis is basically waiting on MIR passes.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/156476684/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/158206852",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-158206852",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 158206852,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1ODIwNjg1Mg==",
    "user": {
      "login": "nrc",
      "id": 762626,
      "node_id": "MDQ6VXNlcjc2MjYyNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/762626?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nrc",
      "html_url": "https://github.com/nrc",
      "followers_url": "https://api.github.com/users/nrc/followers",
      "following_url": "https://api.github.com/users/nrc/following{/other_user}",
      "gists_url": "https://api.github.com/users/nrc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nrc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nrc/subscriptions",
      "organizations_url": "https://api.github.com/users/nrc/orgs",
      "repos_url": "https://api.github.com/users/nrc/repos",
      "events_url": "https://api.github.com/users/nrc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nrc/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-11-19T21:43:47Z",
    "updated_at": "2015-11-19T21:43:47Z",
    "body": "triage: P-medium\n\nalso waiting for mir\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/158206852/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/164610413",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-164610413",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 164610413,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2NDYxMDQxMw==",
    "user": {
      "login": "Gankra",
      "id": 1136864,
      "node_id": "MDQ6VXNlcjExMzY4NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1136864?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Gankra",
      "html_url": "https://github.com/Gankra",
      "followers_url": "https://api.github.com/users/Gankra/followers",
      "following_url": "https://api.github.com/users/Gankra/following{/other_user}",
      "gists_url": "https://api.github.com/users/Gankra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Gankra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Gankra/subscriptions",
      "organizations_url": "https://api.github.com/users/Gankra/orgs",
      "repos_url": "https://api.github.com/users/Gankra/repos",
      "events_url": "https://api.github.com/users/Gankra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Gankra/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-12-15T01:13:40Z",
    "updated_at": "2015-12-15T01:13:40Z",
    "body": "Came up today that `repr(packed)` may also introduce data races. For instance, accessing a misaligned AtomicPtr, or the fields next to it, may do strange things. I'm unsure if this can be triggered in any way that isn't just \"misaligned load\". I don't know a lot about the relevant instruction sets and things LLVM does.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/164610413/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/164610732",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-164610732",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 164610732,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2NDYxMDczMg==",
    "user": {
      "login": "retep998",
      "id": 666308,
      "node_id": "MDQ6VXNlcjY2NjMwOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/666308?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/retep998",
      "html_url": "https://github.com/retep998",
      "followers_url": "https://api.github.com/users/retep998/followers",
      "following_url": "https://api.github.com/users/retep998/following{/other_user}",
      "gists_url": "https://api.github.com/users/retep998/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/retep998/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/retep998/subscriptions",
      "organizations_url": "https://api.github.com/users/retep998/orgs",
      "repos_url": "https://api.github.com/users/retep998/repos",
      "events_url": "https://api.github.com/users/retep998/events{/privacy}",
      "received_events_url": "https://api.github.com/users/retep998/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-12-15T01:15:55Z",
    "updated_at": "2015-12-15T01:15:55Z",
    "body": "I'd be fine with not having atomics in `repr(packed)`\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/164610732/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/181126967",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-181126967",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 181126967,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4MTEyNjk2Nw==",
    "user": {
      "login": "nrc",
      "id": 762626,
      "node_id": "MDQ6VXNlcjc2MjYyNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/762626?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nrc",
      "html_url": "https://github.com/nrc",
      "followers_url": "https://api.github.com/users/nrc/followers",
      "following_url": "https://api.github.com/users/nrc/following{/other_user}",
      "gists_url": "https://api.github.com/users/nrc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nrc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nrc/subscriptions",
      "organizations_url": "https://api.github.com/users/nrc/orgs",
      "repos_url": "https://api.github.com/users/nrc/repos",
      "events_url": "https://api.github.com/users/nrc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nrc/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-02-07T21:47:58Z",
    "updated_at": "2016-02-07T21:47:58Z",
    "body": "Given that this has been sat around for a while and that it sounds like it is not going to get implemented that soon, I think we should feature-gate `#[repr(packed)]` in the meantime. I propose we start with a warning cycle and uplift that to beta then put a feature gate in nightly now. Alternatively, we could just warn on use of `#[repr(packed)]` and never move to a feature gate (since it is widely used in WinAPI).\n\nI think we should do something. Having potential memory unsafety sat around without the compiler telling the user about it at all is pretty bad.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/181126967/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/181144456",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-181144456",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 181144456,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4MTE0NDQ1Ng==",
    "user": {
      "login": "retep998",
      "id": 666308,
      "node_id": "MDQ6VXNlcjY2NjMwOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/666308?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/retep998",
      "html_url": "https://github.com/retep998",
      "followers_url": "https://api.github.com/users/retep998/followers",
      "following_url": "https://api.github.com/users/retep998/following{/other_user}",
      "gists_url": "https://api.github.com/users/retep998/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/retep998/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/retep998/subscriptions",
      "organizations_url": "https://api.github.com/users/retep998/orgs",
      "repos_url": "https://api.github.com/users/retep998/repos",
      "events_url": "https://api.github.com/users/retep998/events{/privacy}",
      "received_events_url": "https://api.github.com/users/retep998/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-02-07T23:56:59Z",
    "updated_at": "2016-02-07T23:57:56Z",
    "body": "Meanwhile in `winapi` `#[repr(packed)]` is the only tool I have to lower the alignment of structs to make their layout match that of the C version which uses `#pragma pack`. Please don't feature gate it without providing an alternative. Many features that I'd like for FFI, such as unions, I can manage without by using my own methods and macros. However without some way to place a 4 byte field on a 2 byte boundary, I'm simply stuck and can't represent those types.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/181144456/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/182489603",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-182489603",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 182489603,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4MjQ4OTYwMw==",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-02-10T17:20:41Z",
    "updated_at": "2016-02-10T17:20:41Z",
    "body": "I don't know, packed is used widely enough, and the vast majority of\nuses are fine. I expect the fix will come in a month or two, once the\nMIR transition has made more progress, but perhaps that is wildly\noptimistic.\n\nOn Sun, Feb 07, 2016 at 01:48:31PM -0800, Nick Cameron wrote:\n\n> Given that this has been sat around for a while and that it sounds like it is not going to get implemented that soon, I think we should feature-gate `#[repr(packed)]` in the meantime. I propose we start with a warning cycle and uplift that to beta then put a feature gate in nightly now. Alternatively, we could just warn on use of `#[repr(packed)]` and never move to a feature gate (since it is widely used in WinAPI).\n> \n> I think we should do something. Having potential memory unsafety sat around without the compiler telling the user about it at all is pretty bad.\n> \n> ---\n> \n> Reply to this email directly or view it on GitHub:\n> https://github.com/rust-lang/rust/issues/27060#issuecomment-181126967\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/182489603/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/183063769",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-183063769",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 183063769,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4MzA2Mzc2OQ==",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-02-11T21:20:21Z",
    "updated_at": "2016-02-11T21:20:21Z",
    "body": "After some discussion in compiler team meeting:\n- We can easily feature-gate references into fields of packed structs specifically.\n- _But_ MIR may be mature enough to just port over the unsafety checking and do this The Right Way. I a thinking of taking a stab at that because it sounds fun and I want to do some more MIR work. But if others really want to and I fail to make progress please ping me. :)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/183063769/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/222524611",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-222524611",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 222524611,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMjUyNDYxMQ==",
    "user": {
      "login": "bestouff",
      "id": 1163188,
      "node_id": "MDQ6VXNlcjExNjMxODg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1163188?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bestouff",
      "html_url": "https://github.com/bestouff",
      "followers_url": "https://api.github.com/users/bestouff/followers",
      "following_url": "https://api.github.com/users/bestouff/following{/other_user}",
      "gists_url": "https://api.github.com/users/bestouff/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bestouff/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bestouff/subscriptions",
      "organizations_url": "https://api.github.com/users/bestouff/orgs",
      "repos_url": "https://api.github.com/users/bestouff/repos",
      "events_url": "https://api.github.com/users/bestouff/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bestouff/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-05-30T16:30:38Z",
    "updated_at": "2016-05-30T16:30:38Z",
    "body": "Maybe I didn't understand everything, but it seems to me there are 2 different problems here: letting rustc squeeze every bit of space possible (e.g. `bool` on 1 bit, optimized `enum`s) to have compact data structures, and choosing each struct member's footprint to match an FFI object layout (e.g. including a C bitfield with arbitrary length) - which can't always be done automatically.\nSo `repr(packet)` is not an universal solution for data exchange with foreign libs.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/222524611/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/228628582",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-228628582",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 228628582,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyODYyODU4Mg==",
    "user": {
      "login": "DemiMarie",
      "id": 6395399,
      "node_id": "MDQ6VXNlcjYzOTUzOTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6395399?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DemiMarie",
      "html_url": "https://github.com/DemiMarie",
      "followers_url": "https://api.github.com/users/DemiMarie/followers",
      "following_url": "https://api.github.com/users/DemiMarie/following{/other_user}",
      "gists_url": "https://api.github.com/users/DemiMarie/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DemiMarie/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DemiMarie/subscriptions",
      "organizations_url": "https://api.github.com/users/DemiMarie/orgs",
      "repos_url": "https://api.github.com/users/DemiMarie/repos",
      "events_url": "https://api.github.com/users/DemiMarie/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DemiMarie/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-06-26T23:06:33Z",
    "updated_at": "2016-06-26T23:06:33Z",
    "body": "On x86-64, is it always possible to just use unaligned instructions?  GHC had to edit the output of LLVM to deal with alignment-requiring AVX instructions.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/228628582/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/228628921",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-228628921",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 228628921,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyODYyODkyMQ==",
    "user": {
      "login": "retep998",
      "id": 666308,
      "node_id": "MDQ6VXNlcjY2NjMwOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/666308?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/retep998",
      "html_url": "https://github.com/retep998",
      "followers_url": "https://api.github.com/users/retep998/followers",
      "following_url": "https://api.github.com/users/retep998/following{/other_user}",
      "gists_url": "https://api.github.com/users/retep998/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/retep998/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/retep998/subscriptions",
      "organizations_url": "https://api.github.com/users/retep998/orgs",
      "repos_url": "https://api.github.com/users/retep998/repos",
      "events_url": "https://api.github.com/users/retep998/events{/privacy}",
      "received_events_url": "https://api.github.com/users/retep998/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-06-26T23:12:41Z",
    "updated_at": "2016-06-26T23:12:41Z",
    "body": "@drbo That doesn't solve the problem on other architectures where alignment is critically important.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/228628921/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/231288698",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-231288698",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 231288698,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzMTI4ODY5OA==",
    "user": {
      "login": "DemiMarie",
      "id": 6395399,
      "node_id": "MDQ6VXNlcjYzOTUzOTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6395399?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DemiMarie",
      "html_url": "https://github.com/DemiMarie",
      "followers_url": "https://api.github.com/users/DemiMarie/followers",
      "following_url": "https://api.github.com/users/DemiMarie/following{/other_user}",
      "gists_url": "https://api.github.com/users/DemiMarie/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DemiMarie/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DemiMarie/subscriptions",
      "organizations_url": "https://api.github.com/users/DemiMarie/orgs",
      "repos_url": "https://api.github.com/users/DemiMarie/repos",
      "events_url": "https://api.github.com/users/DemiMarie/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DemiMarie/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-07-08T06:54:05Z",
    "updated_at": "2016-07-08T06:54:05Z",
    "body": "@retep998 Still it would solve the problem temporarily, at least for some architectures.\n\nMy preferred solution is to disallow borrows from such fields (which are thus required to be `Copy`), and to emit unaligned instructions for reading and writing to the misaligned fields.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/231288698/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/240624134",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-240624134",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 240624134,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0MDYyNDEzNA==",
    "user": {
      "login": "retep998",
      "id": 666308,
      "node_id": "MDQ6VXNlcjY2NjMwOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/666308?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/retep998",
      "html_url": "https://github.com/retep998",
      "followers_url": "https://api.github.com/users/retep998/followers",
      "following_url": "https://api.github.com/users/retep998/following{/other_user}",
      "gists_url": "https://api.github.com/users/retep998/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/retep998/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/retep998/subscriptions",
      "organizations_url": "https://api.github.com/users/retep998/orgs",
      "repos_url": "https://api.github.com/users/retep998/repos",
      "events_url": "https://api.github.com/users/retep998/events{/privacy}",
      "received_events_url": "https://api.github.com/users/retep998/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-08-18T04:58:30Z",
    "updated_at": "2016-08-18T04:58:30Z",
    "body": "@DemiMarie The current plan already is to make borrows into such fields unsafe (but not forbidding them outright, nor requiring such types to be `Copy` although it would be really hard to use such a field if it wasn't), and to make access into such fields otherwise safe by emitting unaligned instructions for those fields.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/240624134/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/243380388",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-243380388",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 243380388,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0MzM4MDM4OA==",
    "user": {
      "login": "davidlattimore",
      "id": 8983542,
      "node_id": "MDQ6VXNlcjg5ODM1NDI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8983542?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/davidlattimore",
      "html_url": "https://github.com/davidlattimore",
      "followers_url": "https://api.github.com/users/davidlattimore/followers",
      "following_url": "https://api.github.com/users/davidlattimore/following{/other_user}",
      "gists_url": "https://api.github.com/users/davidlattimore/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/davidlattimore/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/davidlattimore/subscriptions",
      "organizations_url": "https://api.github.com/users/davidlattimore/orgs",
      "repos_url": "https://api.github.com/users/davidlattimore/repos",
      "events_url": "https://api.github.com/users/davidlattimore/events{/privacy}",
      "received_events_url": "https://api.github.com/users/davidlattimore/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-08-30T09:13:40Z",
    "updated_at": "2016-08-30T09:13:40Z",
    "body": "It would be nice if borrows of fields within a repr(packed) struct could remain safe if the type of the field was also repr(packed) - or perhaps more generally if the field has byte alignment. I have an unpublished crate that I'm hoping to finish off some day that relies on users of the crate being able to do this.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/243380388/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/243384456",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-243384456",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 243384456,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0MzM4NDQ1Ng==",
    "user": {
      "login": "retep998",
      "id": 666308,
      "node_id": "MDQ6VXNlcjY2NjMwOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/666308?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/retep998",
      "html_url": "https://github.com/retep998",
      "followers_url": "https://api.github.com/users/retep998/followers",
      "following_url": "https://api.github.com/users/retep998/following{/other_user}",
      "gists_url": "https://api.github.com/users/retep998/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/retep998/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/retep998/subscriptions",
      "organizations_url": "https://api.github.com/users/retep998/orgs",
      "repos_url": "https://api.github.com/users/retep998/repos",
      "events_url": "https://api.github.com/users/retep998/events{/privacy}",
      "received_events_url": "https://api.github.com/users/retep998/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-08-30T09:29:21Z",
    "updated_at": "2016-08-30T09:29:21Z",
    "body": "It would be nice if unsafe was only required when the alignment of the field's type is greater than the packing of the struct itself, and if it is only less than or equal it should merely be a lint.\n\nAlso, I'm pretty sure the only reason this wasn't implemented yet was because it was blocked by MIR. Now that old trans is completely gone can someone hurry up and implement this already? Maybe squeeze in `#[repr(align(N))]` and `#[repr(packed(N))]` in while they're at it.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/243384456/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/243658312",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-243658312",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 243658312,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0MzY1ODMxMg==",
    "user": {
      "login": "Amanieu",
      "id": 278509,
      "node_id": "MDQ6VXNlcjI3ODUwOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/278509?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Amanieu",
      "html_url": "https://github.com/Amanieu",
      "followers_url": "https://api.github.com/users/Amanieu/followers",
      "following_url": "https://api.github.com/users/Amanieu/following{/other_user}",
      "gists_url": "https://api.github.com/users/Amanieu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Amanieu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Amanieu/subscriptions",
      "organizations_url": "https://api.github.com/users/Amanieu/orgs",
      "repos_url": "https://api.github.com/users/Amanieu/repos",
      "events_url": "https://api.github.com/users/Amanieu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Amanieu/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-08-31T04:55:41Z",
    "updated_at": "2016-08-31T04:55:41Z",
    "body": "@retep998 This sounds very tricky to do if you take generics into account since the type layout is only known after monomorphization. I think just making packed structs unsafe to access is enough for a start, we can always look into loosening the restrictions later.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/243658312/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/243659025",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-243659025",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 243659025,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0MzY1OTAyNQ==",
    "user": {
      "login": "eddyb",
      "id": 77424,
      "node_id": "MDQ6VXNlcjc3NDI0",
      "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eddyb",
      "html_url": "https://github.com/eddyb",
      "followers_url": "https://api.github.com/users/eddyb/followers",
      "following_url": "https://api.github.com/users/eddyb/following{/other_user}",
      "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions",
      "organizations_url": "https://api.github.com/users/eddyb/orgs",
      "repos_url": "https://api.github.com/users/eddyb/repos",
      "events_url": "https://api.github.com/users/eddyb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eddyb/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-08-31T05:01:57Z",
    "updated_at": "2016-08-31T05:01:57Z",
    "body": "@Amanieu That's not entirely correct, we can do partial layout queries at any point after typeck completes.\n_In fact_, that's how `transmute` has been checked since rust-lang/rust#32939.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/243659025/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/258392289",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-258392289",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 258392289,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1ODM5MjI4OQ==",
    "user": {
      "login": "hsivonen",
      "id": 478856,
      "node_id": "MDQ6VXNlcjQ3ODg1Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/478856?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hsivonen",
      "html_url": "https://github.com/hsivonen",
      "followers_url": "https://api.github.com/users/hsivonen/followers",
      "following_url": "https://api.github.com/users/hsivonen/following{/other_user}",
      "gists_url": "https://api.github.com/users/hsivonen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hsivonen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hsivonen/subscriptions",
      "organizations_url": "https://api.github.com/users/hsivonen/orgs",
      "repos_url": "https://api.github.com/users/hsivonen/repos",
      "events_url": "https://api.github.com/users/hsivonen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hsivonen/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-11-04T10:22:50Z",
    "updated_at": "2016-11-04T10:22:50Z",
    "body": "The trick in the original bug report of assigning to an intermediate variable, which the simd crate also uses, seems to work in debug builds, but currently does not appear to work in optimized builds (anymore?).\n\nLooking at emmintrin.h from clang, it seems that LLVM doesn't have internal intrinsics for unaligned SSE2 loads but instead the dereferencing a pointer to a single-member struct with `__attribute__((__packed__, __may_alias__))` and then extracting the member is supposed to generate unaligned SSE2 loads (and analogously for stores). I.e. the same thing the simd crate does.\n\nSince there isn't an LLVM intrinsic to call directly, it's rather important for the `packed` idiom for getting LLVM to emit unaligned SSE2 loads/stores to work reliably.\n\nThis was previously marked as blocking on MIR. Now that MIR has landed, what should Rust user expectations be in terms of controlling aligned vs. unaligned SSE2 load/store generation?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/258392289/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/258509993",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-258509993",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 258509993,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1ODUwOTk5Mw==",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-11-04T18:21:31Z",
    "updated_at": "2016-11-04T18:21:31Z",
    "body": "@hsivonen \n\n> This was previously marked as blocking on MIR. Now that MIR has landed, what should Rust user expectations be in terms of controlling aligned vs. unaligned SSE2 load/store generation?\n\nThe next step is to port the unsafety check to operate on MIR, instead of HIR. I'd be happy to mentor such a thing, though it's probably complex enough that it makes sense to sync up online.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/258509993/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/258784208",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-258784208",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 258784208,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1ODc4NDIwOA==",
    "user": {
      "login": "hsivonen",
      "id": 478856,
      "node_id": "MDQ6VXNlcjQ3ODg1Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/478856?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hsivonen",
      "html_url": "https://github.com/hsivonen",
      "followers_url": "https://api.github.com/users/hsivonen/followers",
      "following_url": "https://api.github.com/users/hsivonen/following{/other_user}",
      "gists_url": "https://api.github.com/users/hsivonen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hsivonen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hsivonen/subscriptions",
      "organizations_url": "https://api.github.com/users/hsivonen/orgs",
      "repos_url": "https://api.github.com/users/hsivonen/repos",
      "events_url": "https://api.github.com/users/hsivonen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hsivonen/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-11-07T09:20:14Z",
    "updated_at": "2016-11-07T09:20:14Z",
    "body": "> The next step is to port the unsafety check to operate on MIR, instead of HIR. I'd be happy to mentor such a thing, though it's probably complex enough that it makes sense to sync up online.\n\nI followed up on [internals](https://internals.rust-lang.org/t/unaligned-simd-sse2-in-particular-loads-stores/4336) about a simpler way to address the SIMD load/store use case.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/258784208/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/277095335",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-277095335",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 277095335,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3NzA5NTMzNQ==",
    "user": {
      "login": "binarycrusader",
      "id": 541114,
      "node_id": "MDQ6VXNlcjU0MTExNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/541114?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/binarycrusader",
      "html_url": "https://github.com/binarycrusader",
      "followers_url": "https://api.github.com/users/binarycrusader/followers",
      "following_url": "https://api.github.com/users/binarycrusader/following{/other_user}",
      "gists_url": "https://api.github.com/users/binarycrusader/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/binarycrusader/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/binarycrusader/subscriptions",
      "organizations_url": "https://api.github.com/users/binarycrusader/orgs",
      "repos_url": "https://api.github.com/users/binarycrusader/repos",
      "events_url": "https://api.github.com/users/binarycrusader/events{/privacy}",
      "received_events_url": "https://api.github.com/users/binarycrusader/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-02-02T21:50:16Z",
    "updated_at": "2017-02-02T21:50:16Z",
    "body": "I would just like to note, that as I described in issue #39376 (which is probably a duplicate of this one), that some architectures don't support unaligned access.  packed is definitely a minefield, not only for supporting those platforms, but for users of the language that may not be familiar with the many subtleties involved. With that in mind, I agree with the suggestion that accessing packed structs may need to be considered \"unsafe\".",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/277095335/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/277244820",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-277244820",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 277244820,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3NzI0NDgyMA==",
    "user": {
      "login": "bluss",
      "id": 3209739,
      "node_id": "MDQ6VXNlcjMyMDk3Mzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3209739?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bluss",
      "html_url": "https://github.com/bluss",
      "followers_url": "https://api.github.com/users/bluss/followers",
      "following_url": "https://api.github.com/users/bluss/following{/other_user}",
      "gists_url": "https://api.github.com/users/bluss/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bluss/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bluss/subscriptions",
      "organizations_url": "https://api.github.com/users/bluss/orgs",
      "repos_url": "https://api.github.com/users/bluss/repos",
      "events_url": "https://api.github.com/users/bluss/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bluss/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-02-03T13:19:48Z",
    "updated_at": "2017-02-03T13:19:48Z",
    "body": "Just to put the packed knowledge in the same place, [in rustc there is a safe and sound][1] (hopefully) use of `packed` to have the compiler generate the appropriate load of an `u32` from an unaligned pointer. The point is that `self` is used by value and align of `Unaligned<u32>` is 1.\r\n\r\n[1]: https://github.com/rust-lang/rust/blob/f45992b3008eea7152434c41097fb28d9cfaf2c0/src/librustc_metadata/index.rs#L65-L112\r\n\r\n```rust\r\n#[repr(packed)]\r\n#[derive(Copy, Clone)]\r\nstruct Unaligned<T>(T);\r\n\r\nimpl<T> Unaligned<T> {\r\n    fn get(self) -> T { self.0 }\r\n}\r\n```",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/277244820/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/277245552",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-277245552",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 277245552,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3NzI0NTU1Mg==",
    "user": {
      "login": "whitequark",
      "id": 54771,
      "node_id": "MDQ6VXNlcjU0Nzcx",
      "avatar_url": "https://avatars.githubusercontent.com/u/54771?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/whitequark",
      "html_url": "https://github.com/whitequark",
      "followers_url": "https://api.github.com/users/whitequark/followers",
      "following_url": "https://api.github.com/users/whitequark/following{/other_user}",
      "gists_url": "https://api.github.com/users/whitequark/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/whitequark/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/whitequark/subscriptions",
      "organizations_url": "https://api.github.com/users/whitequark/orgs",
      "repos_url": "https://api.github.com/users/whitequark/repos",
      "events_url": "https://api.github.com/users/whitequark/events{/privacy}",
      "received_events_url": "https://api.github.com/users/whitequark/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-02-03T13:23:41Z",
    "updated_at": "2017-02-03T13:23:41Z",
    "body": "> I would just like to note, that as I described in issue #39376 (which is probably a duplicate of this one), that some architectures don't support unaligned access.\r\n\r\nI don't see why platform support for unaligned access is required. LLVM could always expand the access into a byte-by-byte load, or call an intrinsic (I don't remember what it usually does).",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/277245552/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/278336099",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-278336099",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 278336099,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3ODMzNjA5OQ==",
    "user": {
      "login": "solson",
      "id": 26806,
      "node_id": "MDQ6VXNlcjI2ODA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/26806?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/solson",
      "html_url": "https://github.com/solson",
      "followers_url": "https://api.github.com/users/solson/followers",
      "following_url": "https://api.github.com/users/solson/following{/other_user}",
      "gists_url": "https://api.github.com/users/solson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/solson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/solson/subscriptions",
      "organizations_url": "https://api.github.com/users/solson/orgs",
      "repos_url": "https://api.github.com/users/solson/repos",
      "events_url": "https://api.github.com/users/solson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/solson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-02-08T14:00:38Z",
    "updated_at": "2017-02-08T14:03:21Z",
    "body": "@whitequark is right. We even have a `read_unaligned` function in nightly which is portable across all architectures: https://doc.rust-lang.org/nightly/src/core/ptr.rs.html#175-181\r\n\r\n```rust\r\npub unsafe fn read_unaligned<T>(src: *const T) -> T {\r\n    let mut tmp: T = mem::uninitialized();\r\n    copy_nonoverlapping(src as *const u8,\r\n                        &mut tmp as *mut T as *mut u8,\r\n                        mem::size_of::<T>());\r\n    tmp\r\n}\r\n```",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/278336099/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/278617096",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-278617096",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 278617096,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3ODYxNzA5Ng==",
    "user": {
      "login": "solson",
      "id": 26806,
      "node_id": "MDQ6VXNlcjI2ODA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/26806?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/solson",
      "html_url": "https://github.com/solson",
      "followers_url": "https://api.github.com/users/solson/followers",
      "following_url": "https://api.github.com/users/solson/following{/other_user}",
      "gists_url": "https://api.github.com/users/solson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/solson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/solson/subscriptions",
      "organizations_url": "https://api.github.com/users/solson/orgs",
      "repos_url": "https://api.github.com/users/solson/repos",
      "events_url": "https://api.github.com/users/solson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/solson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-02-09T11:31:35Z",
    "updated_at": "2017-02-10T00:48:01Z",
    "body": "I discovered that most `#[derive(...)]` impls are unsafe for packed structs due to taking references to unaligned fields (see https://github.com/rust-lang/rust/pull/39682).\r\n\r\n@bluss's rustc code sample above also has an unsafe derived `Clone` impl which won't compile once we fix this issue:\r\n\r\n```rust\r\n   fn clone(&self) -> Unaligned<T> {\r\n        match *self {\r\n            Unaligned(ref __self_0_0) => // BAD: reference to unaligned packed struct field\r\n            Unaligned(::std::clone::Clone::clone(&(*__self_0_0))),\r\n        }\r\n    }\r\n```\r\n\r\nEDIT: I sent [a PR](https://github.com/rust-lang/rust/issues/39683) to fix this code in the compiler and also opened [an issue about the general problem](https://github.com/rust-lang/rust/issues/39696).",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/278617096/reactions",
      "total_count": 4,
      "+1": 4,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/278823750",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-278823750",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 278823750,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3ODgyMzc1MA==",
    "user": {
      "login": "solson",
      "id": 26806,
      "node_id": "MDQ6VXNlcjI2ODA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/26806?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/solson",
      "html_url": "https://github.com/solson",
      "followers_url": "https://api.github.com/users/solson/followers",
      "following_url": "https://api.github.com/users/solson/following{/other_user}",
      "gists_url": "https://api.github.com/users/solson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/solson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/solson/subscriptions",
      "organizations_url": "https://api.github.com/users/solson/orgs",
      "repos_url": "https://api.github.com/users/solson/repos",
      "events_url": "https://api.github.com/users/solson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/solson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-02-10T00:43:34Z",
    "updated_at": "2017-02-10T00:43:34Z",
    "body": "Nice try, GitHub. I only said \"when we fix #27060\".\r\n\r\n@eddyb Can you reopen?",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/278823750/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 1,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/278975638",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-278975638",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 278975638,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3ODk3NTYzOA==",
    "user": {
      "login": "aturon",
      "id": 709807,
      "node_id": "MDQ6VXNlcjcwOTgwNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/709807?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aturon",
      "html_url": "https://github.com/aturon",
      "followers_url": "https://api.github.com/users/aturon/followers",
      "following_url": "https://api.github.com/users/aturon/following{/other_user}",
      "gists_url": "https://api.github.com/users/aturon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aturon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aturon/subscriptions",
      "organizations_url": "https://api.github.com/users/aturon/orgs",
      "repos_url": "https://api.github.com/users/aturon/repos",
      "events_url": "https://api.github.com/users/aturon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aturon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-02-10T15:32:19Z",
    "updated_at": "2017-02-16T21:54:21Z",
    "body": "Nominating for compiler team discussion. We've been talking about implementing @huonw's [RFC 1240](https://github.com/rust-lang/rfcs/blob/master/text/1240-repr-packed-unsafe-ref.md) for over a year at this point. I'm not sure how difficult that is to do now, but the longer we wait, the greater the chance of fallout. So I think it'd be good to re-triage.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/278975638/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/280470147",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-280470147",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 280470147,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4MDQ3MDE0Nw==",
    "user": {
      "login": "arielb1",
      "id": 1830974,
      "node_id": "MDQ6VXNlcjE4MzA5NzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1830974?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/arielb1",
      "html_url": "https://github.com/arielb1",
      "followers_url": "https://api.github.com/users/arielb1/followers",
      "following_url": "https://api.github.com/users/arielb1/following{/other_user}",
      "gists_url": "https://api.github.com/users/arielb1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/arielb1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/arielb1/subscriptions",
      "organizations_url": "https://api.github.com/users/arielb1/orgs",
      "repos_url": "https://api.github.com/users/arielb1/repos",
      "events_url": "https://api.github.com/users/arielb1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/arielb1/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-02-16T21:41:12Z",
    "updated_at": "2017-02-16T21:41:12Z",
    "body": "Leaving this nominated for now because @nikomatsakis is not in for the meeting.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/280470147/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/280481758",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-280481758",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 280481758,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4MDQ4MTc1OA==",
    "user": {
      "login": "eddyb",
      "id": 77424,
      "node_id": "MDQ6VXNlcjc3NDI0",
      "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eddyb",
      "html_url": "https://github.com/eddyb",
      "followers_url": "https://api.github.com/users/eddyb/followers",
      "following_url": "https://api.github.com/users/eddyb/following{/other_user}",
      "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions",
      "organizations_url": "https://api.github.com/users/eddyb/orgs",
      "repos_url": "https://api.github.com/users/eddyb/repos",
      "events_url": "https://api.github.com/users/eddyb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eddyb/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-02-16T22:23:18Z",
    "updated_at": "2017-02-16T22:23:18Z",
    "body": "@aturon We've been able to do it more or less ever since we fully switched to MIR.\r\nIMO we should track unsafety in `VisibilityScope` and move all unsafety checking to work on MIR.\r\nI've been wanting to do this for a while and IIRC @nikomatsakis agrees with my plan, I just didn't get to it.\r\nI *might* be able to mentor someone to do it (we still have no way to advertise this, do we?).",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/280481758/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/280602198",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-280602198",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 280602198,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4MDYwMjE5OA==",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-02-17T09:35:04Z",
    "updated_at": "2017-02-17T09:35:04Z",
    "body": "@eddyb yes, I've been wanting to do the same, and I've actually had this on my (personal) list of \"things to write mentoring instructions for\". I'll try to write up some instructions today.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/280602198/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/281594159",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-281594159",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 281594159,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4MTU5NDE1OQ==",
    "user": {
      "login": "cramertj",
      "id": 5963049,
      "node_id": "MDQ6VXNlcjU5NjMwNDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5963049?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cramertj",
      "html_url": "https://github.com/cramertj",
      "followers_url": "https://api.github.com/users/cramertj/followers",
      "following_url": "https://api.github.com/users/cramertj/following{/other_user}",
      "gists_url": "https://api.github.com/users/cramertj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cramertj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cramertj/subscriptions",
      "organizations_url": "https://api.github.com/users/cramertj/orgs",
      "repos_url": "https://api.github.com/users/cramertj/repos",
      "events_url": "https://api.github.com/users/cramertj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cramertj/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-02-22T07:48:07Z",
    "updated_at": "2017-02-22T07:48:07Z",
    "body": "@nikomatsakis Did you get a chance to write up that information? I'd be interested in implementing this.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/281594159/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/282127961",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-282127961",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 282127961,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4MjEyNzk2MQ==",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-02-23T21:32:47Z",
    "updated_at": "2017-02-23T21:32:47Z",
    "body": "We discussed this in the @rust-lang/compiler meeting today. Nobody has written up any instructions =) but we did discuss some of the more subtle points:\r\n\r\nCurrently, we strip dead code out of MIR very early. This would mean that if we do 'unsafe' checking on MIR, we will ignore dead code (e.g., `return; <this code>`). We already ignore a number of errors in dead-code, and borrowck will totally ignore it, so this seems potentially just fine, but it's worth making a firm decision here.\r\n\r\nThere is another option: we can run the \"unsafe check\" before we strip dead code. The tricky part is that in that case some of the types in MIR may not match, since the type-checker ignores data-flow out of dead-code. This isn't really a problem for the unsafeck, but more generally it would mean the MIR is not \"well-typed\" and it'd be sort of nice to have an invariant that MIR is always well-typed.\r\n\r\nOne last point: we have to be careful that `if false { <sort-of-dead-code> }` doesn't get stripped out of MIR before we are done doing the various safety checks! It's one thing to suppress errors in code that is **obviously** dead, but quite another to led the results of constant propagation feed into safety analysis in that way.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/282127961/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/282146797",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-282146797",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 282146797,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4MjE0Njc5Nw==",
    "user": {
      "login": "joshtriplett",
      "id": 162737,
      "node_id": "MDQ6VXNlcjE2MjczNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/162737?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/joshtriplett",
      "html_url": "https://github.com/joshtriplett",
      "followers_url": "https://api.github.com/users/joshtriplett/followers",
      "following_url": "https://api.github.com/users/joshtriplett/following{/other_user}",
      "gists_url": "https://api.github.com/users/joshtriplett/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/joshtriplett/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/joshtriplett/subscriptions",
      "organizations_url": "https://api.github.com/users/joshtriplett/orgs",
      "repos_url": "https://api.github.com/users/joshtriplett/repos",
      "events_url": "https://api.github.com/users/joshtriplett/events{/privacy}",
      "received_events_url": "https://api.github.com/users/joshtriplett/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-02-23T22:46:19Z",
    "updated_at": "2017-02-23T22:46:19Z",
    "body": "@nikomatsakis \r\n> One last point: we have to be careful that if false { <sort-of-dead-code> } doesn't get stripped out of MIR before we are done doing the various safety checks! It's one thing to suppress errors in code that is obviously dead, but quite another to led the results of constant propagation feed into safety analysis in that way.\r\n\r\nEspecially because that conditional might look like `if cfg!(...)` or similar.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/282146797/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/314964836",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-314964836",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 314964836,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNDk2NDgzNg==",
    "user": {
      "login": "RalfJung",
      "id": 330628,
      "node_id": "MDQ6VXNlcjMzMDYyOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/RalfJung",
      "html_url": "https://github.com/RalfJung",
      "followers_url": "https://api.github.com/users/RalfJung/followers",
      "following_url": "https://api.github.com/users/RalfJung/following{/other_user}",
      "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions",
      "organizations_url": "https://api.github.com/users/RalfJung/orgs",
      "repos_url": "https://api.github.com/users/RalfJung/repos",
      "events_url": "https://api.github.com/users/RalfJung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/RalfJung/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-07-13T04:06:08Z",
    "updated_at": "2017-07-13T04:06:08Z",
    "body": "Actually, it's not even necessary to write `&` to get such unaligned loads -- having `Drop` type in a packed struct is also a problem, because `drop` gets an `&mut` and hence assumes it is aligned. (I noticed this while playing around with miri and suddenly getting unaligned access errors for boxes in packed structs.)\r\n\r\nSo, beyond making references to packed fields unsafe, it seems we also have to forbid types in packed structs that implement Drop. Will this need an RFC (despite being a soundness fix)?",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/314964836/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/314966264",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-314966264",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 314966264,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNDk2NjI2NA==",
    "user": {
      "login": "retep998",
      "id": 666308,
      "node_id": "MDQ6VXNlcjY2NjMwOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/666308?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/retep998",
      "html_url": "https://github.com/retep998",
      "followers_url": "https://api.github.com/users/retep998/followers",
      "following_url": "https://api.github.com/users/retep998/following{/other_user}",
      "gists_url": "https://api.github.com/users/retep998/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/retep998/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/retep998/subscriptions",
      "organizations_url": "https://api.github.com/users/retep998/orgs",
      "repos_url": "https://api.github.com/users/retep998/repos",
      "events_url": "https://api.github.com/users/retep998/events{/privacy}",
      "received_events_url": "https://api.github.com/users/retep998/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-07-13T04:18:00Z",
    "updated_at": "2017-07-17T15:42:08Z",
    "body": "Because references should always be aligned... how are we supposed to get a *raw pointer* to a given field to check whether it is in fact aligned or even do an unaligned read or write? Doing `&foo as *const T` doesn't really work because it goes through an intermediate reference.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/314966264/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/315778650",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-315778650",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 315778650,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNTc3ODY1MA==",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-07-17T14:50:57Z",
    "updated_at": "2017-07-17T14:50:57Z",
    "body": "@RalfJung huh, interesting. We could amend the existing RFC to cover that case -- i.e., open a PR amending the original text -- but I think it also suffices to open up a Rust issue, tag it as T-lang, and do the FCP there; I feel like it's in the spirit of the existing RFC, so I don't know that a full PR on the RFC repository is needed. (It'd be nice to clarify these procedures, this question comes up somewhat regularly; but the intention is that an RFC, once landed, can be amended in reasonable ways, and any concerns will be addressed and discussed in the tracking issue and -- ultimately -- during stabilization.)",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/315778650/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/321328238",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-321328238",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 321328238,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyMTMyODIzOA==",
    "user": {
      "login": "RalfJung",
      "id": 330628,
      "node_id": "MDQ6VXNlcjMzMDYyOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/RalfJung",
      "html_url": "https://github.com/RalfJung",
      "followers_url": "https://api.github.com/users/RalfJung/followers",
      "following_url": "https://api.github.com/users/RalfJung/following{/other_user}",
      "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions",
      "organizations_url": "https://api.github.com/users/RalfJung/orgs",
      "repos_url": "https://api.github.com/users/RalfJung/repos",
      "events_url": "https://api.github.com/users/RalfJung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/RalfJung/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-08-09T17:41:26Z",
    "updated_at": "2017-08-09T17:41:26Z",
    "body": "Notes from IRC: https://botbot.me/mozilla/rustc/2017-07-31/?msg=89222091&page=2",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/321328238/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/330413885",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-330413885",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 330413885,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMDQxMzg4NQ==",
    "user": {
      "login": "SimonSapin",
      "id": 291359,
      "node_id": "MDQ6VXNlcjI5MTM1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SimonSapin",
      "html_url": "https://github.com/SimonSapin",
      "followers_url": "https://api.github.com/users/SimonSapin/followers",
      "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}",
      "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions",
      "organizations_url": "https://api.github.com/users/SimonSapin/orgs",
      "repos_url": "https://api.github.com/users/SimonSapin/repos",
      "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SimonSapin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-09-19T02:55:36Z",
    "updated_at": "2017-09-19T02:55:36Z",
    "body": "> The next step is to port the unsafety check to operate on MIR, instead of HIR. I'd be happy to mentor such a thing, though it's probably complex enough that it makes sense to sync up online.\r\n\r\n@nikomatsakis Is this still relevant? This sounds like a significant task of its own, should it be a separate issue?",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/330413885/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/330473437",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-330473437",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 330473437,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMDQ3MzQzNw==",
    "user": {
      "login": "arielb1",
      "id": 1830974,
      "node_id": "MDQ6VXNlcjE4MzA5NzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1830974?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/arielb1",
      "html_url": "https://github.com/arielb1",
      "followers_url": "https://api.github.com/users/arielb1/followers",
      "following_url": "https://api.github.com/users/arielb1/following{/other_user}",
      "gists_url": "https://api.github.com/users/arielb1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/arielb1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/arielb1/subscriptions",
      "organizations_url": "https://api.github.com/users/arielb1/orgs",
      "repos_url": "https://api.github.com/users/arielb1/repos",
      "events_url": "https://api.github.com/users/arielb1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/arielb1/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-09-19T08:50:40Z",
    "updated_at": "2017-09-19T08:50:40Z",
    "body": "@SimonSapin\r\n\r\nI am working on it right now.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/330473437/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/332439360",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-332439360",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 332439360,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMjQzOTM2MA==",
    "user": {
      "login": "Zoxc",
      "id": 25784,
      "node_id": "MDQ6VXNlcjI1Nzg0",
      "avatar_url": "https://avatars.githubusercontent.com/u/25784?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Zoxc",
      "html_url": "https://github.com/Zoxc",
      "followers_url": "https://api.github.com/users/Zoxc/followers",
      "following_url": "https://api.github.com/users/Zoxc/following{/other_user}",
      "gists_url": "https://api.github.com/users/Zoxc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Zoxc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Zoxc/subscriptions",
      "organizations_url": "https://api.github.com/users/Zoxc/orgs",
      "repos_url": "https://api.github.com/users/Zoxc/repos",
      "events_url": "https://api.github.com/users/Zoxc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Zoxc/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-09-27T07:50:28Z",
    "updated_at": "2017-09-27T07:50:28Z",
    "body": "For `Drop` fields, could we not move them into an aligned temporary before calling `drop`?",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/332439360/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/332461379",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-332461379",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 332461379,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMjQ2MTM3OQ==",
    "user": {
      "login": "arielb1",
      "id": 1830974,
      "node_id": "MDQ6VXNlcjE4MzA5NzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1830974?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/arielb1",
      "html_url": "https://github.com/arielb1",
      "followers_url": "https://api.github.com/users/arielb1/followers",
      "following_url": "https://api.github.com/users/arielb1/following{/other_user}",
      "gists_url": "https://api.github.com/users/arielb1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/arielb1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/arielb1/subscriptions",
      "organizations_url": "https://api.github.com/users/arielb1/orgs",
      "repos_url": "https://api.github.com/users/arielb1/repos",
      "events_url": "https://api.github.com/users/arielb1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/arielb1/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-09-27T09:17:17Z",
    "updated_at": "2017-09-27T09:19:38Z",
    "body": "@Zoxc \r\n\r\nThat wouldn't work for unsized fields (yes you can have `repr(packed)` + unsized), and it could create unexpected stack copies.\r\n\r\nI think we should try to forbid `repr(packed)` structs with destructors and see how that goes.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/332461379/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/354497797",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-354497797",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 354497797,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NDQ5Nzc5Nw==",
    "user": {
      "login": "RalfJung",
      "id": 330628,
      "node_id": "MDQ6VXNlcjMzMDYyOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/RalfJung",
      "html_url": "https://github.com/RalfJung",
      "followers_url": "https://api.github.com/users/RalfJung/followers",
      "following_url": "https://api.github.com/users/RalfJung/following{/other_user}",
      "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions",
      "organizations_url": "https://api.github.com/users/RalfJung/orgs",
      "repos_url": "https://api.github.com/users/RalfJung/repos",
      "events_url": "https://api.github.com/users/RalfJung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/RalfJung/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-12-29T20:38:46Z",
    "updated_at": "2017-12-29T20:38:46Z",
    "body": "This is fixed by #44884, isn't it?",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/354497797/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/354499554",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-354499554",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 354499554,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NDQ5OTU1NA==",
    "user": {
      "login": "glaubitz",
      "id": 1647645,
      "node_id": "MDQ6VXNlcjE2NDc2NDU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1647645?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/glaubitz",
      "html_url": "https://github.com/glaubitz",
      "followers_url": "https://api.github.com/users/glaubitz/followers",
      "following_url": "https://api.github.com/users/glaubitz/following{/other_user}",
      "gists_url": "https://api.github.com/users/glaubitz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/glaubitz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/glaubitz/subscriptions",
      "organizations_url": "https://api.github.com/users/glaubitz/orgs",
      "repos_url": "https://api.github.com/users/glaubitz/repos",
      "events_url": "https://api.github.com/users/glaubitz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/glaubitz/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-12-29T20:56:35Z",
    "updated_at": "2017-12-29T20:56:35Z",
    "body": "@RalfJung Last time I tried, rustc itself was no longer crashing with SIGBUS. But code compiled natively on sparc64 still crashed (rustc being cross-compiled for sparc64) with SIGBUS.\r\n\r\nI have to perform more tests on sparc64 first to be able to give a qualified answer.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/354499554/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/354502483",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-354502483",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 354502483,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NDUwMjQ4Mw==",
    "user": {
      "login": "RalfJung",
      "id": 330628,
      "node_id": "MDQ6VXNlcjMzMDYyOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/RalfJung",
      "html_url": "https://github.com/RalfJung",
      "followers_url": "https://api.github.com/users/RalfJung/followers",
      "following_url": "https://api.github.com/users/RalfJung/following{/other_user}",
      "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions",
      "organizations_url": "https://api.github.com/users/RalfJung/orgs",
      "repos_url": "https://api.github.com/users/RalfJung/repos",
      "events_url": "https://api.github.com/users/RalfJung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/RalfJung/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-12-29T21:27:57Z",
    "updated_at": "2017-12-29T21:27:57Z",
    "body": "Ah, this issue now seems to be about two things:\r\n\r\n* Tracking issue for [RFC 1240](https://github.com/rust-lang/rfcs/blob/master/text/1240-repr-packed-unsafe-ref.md). That RFC is now implemented in nightly, but it is a warning currently, not an error: <https://play.rust-lang.org/?gist=7ebeed4f9cc64fb970a4ba2e604a5697&version=nightly>. Probably the tracking issue should remain open until the RFC is fully implemented, i.e., this is a hard error (in nightly at least)?\r\n\r\n* The code in the first post compiling incorrectly. The code doesn't actually take a reference to an unsafe field, so it seems rather orthogonal to the RFC -- this is purely a codegen issue. I am a little puzzled that these are in the same issue.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/354502483/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/381532731",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-381532731",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 381532731,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MTUzMjczMQ==",
    "user": {
      "login": "gnzlbg",
      "id": 904614,
      "node_id": "MDQ6VXNlcjkwNDYxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/904614?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnzlbg",
      "html_url": "https://github.com/gnzlbg",
      "followers_url": "https://api.github.com/users/gnzlbg/followers",
      "following_url": "https://api.github.com/users/gnzlbg/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnzlbg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnzlbg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnzlbg/subscriptions",
      "organizations_url": "https://api.github.com/users/gnzlbg/orgs",
      "repos_url": "https://api.github.com/users/gnzlbg/repos",
      "events_url": "https://api.github.com/users/gnzlbg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnzlbg/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-04-16T09:12:29Z",
    "updated_at": "2018-04-16T09:13:45Z",
    "body": "Could somebody summarize exactly what remains to be done here ?\r\n\r\nIt is currently hard, although not impossible, to write C FFI code without `repr(packed)` and `repr(packed(N))` that does not invoke undefined behavior. Because of how hard this is, `libc`, `mach`, and other low-level OS api libraries prefer to actually just silently invoke undefined behavior. AFAICT only rust-bindgen does consistently the right thing here, and the results are pretty horrible.\r\n\r\nI only really need this for C FFI so I would be fine with completely forbidding all references to packed structs if that could lead to a minimally usable subset of this being stabilized quicker.\r\n\r\nAlso, the current [RFC2366: portable packed SIMD vector types](https://github.com/rust-lang/rfcs/pull/2366) does not mention the interaction between SIMD vector types and packed, it just assumes that all vector types are always stored at a multiple of their alignment. I don't think that implicitly doing unaligned loads would be a sane default, and I'd rather avoid having to `assert!` on every vector method that `&self` is properly aligned.  I would be fine with RFC2366 requiring that vector types must always be stored at a multiple of their alignment, which would prevent them from being stored in `repr(packed)` structs.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/381532731/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/381537915",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-381537915",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 381537915,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MTUzNzkxNQ==",
    "user": {
      "login": "RalfJung",
      "id": 330628,
      "node_id": "MDQ6VXNlcjMzMDYyOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/RalfJung",
      "html_url": "https://github.com/RalfJung",
      "followers_url": "https://api.github.com/users/RalfJung/followers",
      "following_url": "https://api.github.com/users/RalfJung/following{/other_user}",
      "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions",
      "organizations_url": "https://api.github.com/users/RalfJung/orgs",
      "repos_url": "https://api.github.com/users/RalfJung/repos",
      "events_url": "https://api.github.com/users/RalfJung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/RalfJung/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-04-16T09:30:09Z",
    "updated_at": "2018-04-16T09:30:09Z",
    "body": "> Could somebody summarize exactly what remains to be done here ?\r\n\r\n> I only really need this for C FFI so I would be fine with completely forbidding all references to packed structs if that could lead to a minimally usable subset of this being stabilized quicker.\r\n\r\nAFAIK everything is stable already (and has been since 1.0), but the problem is that some code is accepted without `unsafe`. <https://github.com/rust-lang/rust/issues/46043> tracks turning the warning this generates into a hard error.\r\n\r\nI don't know about the codegen error this issue was originally about.\r\n\r\n> It is currently hard, although not impossible, to write C FFI code without repr(packed) and repr(packed(N)) that does not invoke undefined behavior. \r\n\r\nIs that because the C side is packed, or because `repr(C)` somehow doesn't do the right thing?\r\n\r\n> I'd rather avoid having to assert! on every vector method that &self is properly aligned.\r\n\r\nYou do not have to. References are *always* aligned; only raw pointers may be unaligned and only if they are used with [`write_unaligned`](https://doc.rust-lang.org/beta/std/ptr/fn.write_unaligned.html) and [`read_unaligned`](https://doc.rust-lang.org/beta/std/ptr/fn.read_unaligned.html). We already tell LLVM that references are aligned, so vector types shouldn't be any different here.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/381537915/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/381538809",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-381538809",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 381538809,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MTUzODgwOQ==",
    "user": {
      "login": "gnzlbg",
      "id": 904614,
      "node_id": "MDQ6VXNlcjkwNDYxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/904614?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnzlbg",
      "html_url": "https://github.com/gnzlbg",
      "followers_url": "https://api.github.com/users/gnzlbg/followers",
      "following_url": "https://api.github.com/users/gnzlbg/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnzlbg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnzlbg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnzlbg/subscriptions",
      "organizations_url": "https://api.github.com/users/gnzlbg/orgs",
      "repos_url": "https://api.github.com/users/gnzlbg/repos",
      "events_url": "https://api.github.com/users/gnzlbg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnzlbg/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-04-16T09:33:03Z",
    "updated_at": "2018-04-16T09:33:44Z",
    "body": "> Is that because the C side is packed, or because repr(C) somehow doesn't do the right thing?\r\n\r\nBecause the C side is packed with `#pragma pack N` (and/or a similar packed attribute). In many cases `repr(packed)` isn't enough and one needs `repr(packed(N))` which  is not stable yet. This issue is one of its unresolved issues.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/381538809/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/381683469",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-381683469",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 381683469,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MTY4MzQ2OQ==",
    "user": {
      "login": "DemiMarie",
      "id": 6395399,
      "node_id": "MDQ6VXNlcjYzOTUzOTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6395399?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DemiMarie",
      "html_url": "https://github.com/DemiMarie",
      "followers_url": "https://api.github.com/users/DemiMarie/followers",
      "following_url": "https://api.github.com/users/DemiMarie/following{/other_user}",
      "gists_url": "https://api.github.com/users/DemiMarie/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DemiMarie/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DemiMarie/subscriptions",
      "organizations_url": "https://api.github.com/users/DemiMarie/orgs",
      "repos_url": "https://api.github.com/users/DemiMarie/repos",
      "events_url": "https://api.github.com/users/DemiMarie/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DemiMarie/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-04-16T17:23:07Z",
    "updated_at": "2018-04-16T17:23:07Z",
    "body": "Is there some reason that everything needs to be aligned?\n\nOn at least x86, amd64, and ARM64 I cannot see the harm in telling LLVM\nthings may not be aligned.\n\nOn Mon, Apr 16, 2018, 5:31 AM Ralf Jung <notifications@github.com> wrote:\n\n> Could somebody summarize exactly what remains to be done here ?\n>\n> I only really need this for C FFI so I would be fine with completely\n> forbidding all references to packed structs if that could lead to a\n> minimally usable subset of this being stabilized quicker.\n>\n> AFAIK everything is stable already (and has been since 1.0), but the\n> problem is that some code is accepted without unsafe. #46043\n> <https://github.com/rust-lang/rust/issues/46043> tracks turning the\n> warning this generates into a hard error.\n>\n> I don't know about the codegen error this issue was originally about.\n>\n> It is currently hard, although not impossible, to write C FFI code without\n> repr(packed) and repr(packed(N)) that does not invoke undefined behavior.\n>\n> Is that because the C side is packed, or because repr(C) somehow doesn't\n> do the right thing?\n>\n> I'd rather avoid having to assert! on every vector method that &self is\n> properly aligned.\n>\n> You do not have to. References are *always* aligned; only raw pointers\n> may be unaligned and only if they are used with write_unaligned\n> <https://doc.rust-lang.org/beta/std/ptr/fn.write_unaligned.html> and\n> read_unaligned\n> <https://doc.rust-lang.org/beta/std/ptr/fn.read_unaligned.html>. We\n> already tell LLVM that references are aligned, so vector types shouldn't be\n> any different here.\n>\n> \u2014\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/rust-lang/rust/issues/27060#issuecomment-381537915>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AGGWB9taIj5c7dcvGBg4eZRJyg7Kb01Pks5tpGTlgaJpZM4FZlMJ>\n> .\n>\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/381683469/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/381686574",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-381686574",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 381686574,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MTY4NjU3NA==",
    "user": {
      "login": "glaubitz",
      "id": 1647645,
      "node_id": "MDQ6VXNlcjE2NDc2NDU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1647645?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/glaubitz",
      "html_url": "https://github.com/glaubitz",
      "followers_url": "https://api.github.com/users/glaubitz/followers",
      "following_url": "https://api.github.com/users/glaubitz/following{/other_user}",
      "gists_url": "https://api.github.com/users/glaubitz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/glaubitz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/glaubitz/subscriptions",
      "organizations_url": "https://api.github.com/users/glaubitz/orgs",
      "repos_url": "https://api.github.com/users/glaubitz/repos",
      "events_url": "https://api.github.com/users/glaubitz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/glaubitz/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-04-16T17:33:40Z",
    "updated_at": "2018-04-16T17:33:40Z",
    "body": "@DemiMarie A compiler shouldn't generate code which produces unaligned access. Depending on the target platform, unaligned accesses can either result in performance penalties or even or a crash with SIGBUS.\r\n\r\nRust supports more than just x86 where unaligned access doesn't have such a huge impact. I don't know about the performance impact on arm64 though.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/381686574/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/381694301",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-381694301",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 381694301,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MTY5NDMwMQ==",
    "user": {
      "login": "DemiMarie",
      "id": 6395399,
      "node_id": "MDQ6VXNlcjYzOTUzOTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6395399?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DemiMarie",
      "html_url": "https://github.com/DemiMarie",
      "followers_url": "https://api.github.com/users/DemiMarie/followers",
      "following_url": "https://api.github.com/users/DemiMarie/following{/other_user}",
      "gists_url": "https://api.github.com/users/DemiMarie/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DemiMarie/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DemiMarie/subscriptions",
      "organizations_url": "https://api.github.com/users/DemiMarie/orgs",
      "repos_url": "https://api.github.com/users/DemiMarie/repos",
      "events_url": "https://api.github.com/users/DemiMarie/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DemiMarie/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-04-16T17:58:13Z",
    "updated_at": "2018-04-16T17:58:13Z",
    "body": "That depends on the platform, though.  On some platforms, generating an\nunaligned load or store might be the best option.  Can LLVM do that when it\nshould?\n\nOn Mon, Apr 16, 2018, 1:34 PM John Paul Adrian Glaubitz <\nnotifications@github.com> wrote:\n\n> @DemiMarie <https://github.com/DemiMarie> A compiler shouldn't generate\n> code which produces unaligned access. Depending on the target platform,\n> unaligned accesses can either result in performance penalties or even or a\n> crash with SIGBUS.\n>\n> Rust supports more than just x86 where unaligned access doesn't have such\n> a huge impact. I don't know about the performance impact on arm64 though.\n>\n> \u2014\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/rust-lang/rust/issues/27060#issuecomment-381686574>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AGGWB_WOArzdsx9923j4Utll9JbHhErJks5tpNYygaJpZM4FZlMJ>\n> .\n>\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/381694301/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/381695286",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-381695286",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 381695286,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MTY5NTI4Ng==",
    "user": {
      "login": "glaubitz",
      "id": 1647645,
      "node_id": "MDQ6VXNlcjE2NDc2NDU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1647645?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/glaubitz",
      "html_url": "https://github.com/glaubitz",
      "followers_url": "https://api.github.com/users/glaubitz/followers",
      "following_url": "https://api.github.com/users/glaubitz/following{/other_user}",
      "gists_url": "https://api.github.com/users/glaubitz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/glaubitz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/glaubitz/subscriptions",
      "organizations_url": "https://api.github.com/users/glaubitz/orgs",
      "repos_url": "https://api.github.com/users/glaubitz/repos",
      "events_url": "https://api.github.com/users/glaubitz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/glaubitz/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-04-16T18:01:19Z",
    "updated_at": "2018-04-16T18:01:19Z",
    "body": "The user expects the compiler to generate aligned accesses by default since this aligned accesses are normally the safest and fastest option.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/381695286/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/381796409",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-381796409",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 381796409,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MTc5NjQwOQ==",
    "user": {
      "login": "whitequark",
      "id": 54771,
      "node_id": "MDQ6VXNlcjU0Nzcx",
      "avatar_url": "https://avatars.githubusercontent.com/u/54771?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/whitequark",
      "html_url": "https://github.com/whitequark",
      "followers_url": "https://api.github.com/users/whitequark/followers",
      "following_url": "https://api.github.com/users/whitequark/following{/other_user}",
      "gists_url": "https://api.github.com/users/whitequark/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/whitequark/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/whitequark/subscriptions",
      "organizations_url": "https://api.github.com/users/whitequark/orgs",
      "repos_url": "https://api.github.com/users/whitequark/repos",
      "events_url": "https://api.github.com/users/whitequark/events{/privacy}",
      "received_events_url": "https://api.github.com/users/whitequark/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-04-17T01:02:51Z",
    "updated_at": "2018-04-17T01:02:51Z",
    "body": "> On some platforms, generating an\r\n> unaligned load or store might be the best option.  Can LLVM do that when it\r\n> should?\r\n\r\nYes, LLVM of course does that. It compares the alignment of data with alignment required by the selected instruction and adjusts the pointer/shifts the data if necessary.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/381796409/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/381886959",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-381886959",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 381886959,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MTg4Njk1OQ==",
    "user": {
      "login": "RalfJung",
      "id": 330628,
      "node_id": "MDQ6VXNlcjMzMDYyOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/RalfJung",
      "html_url": "https://github.com/RalfJung",
      "followers_url": "https://api.github.com/users/RalfJung/followers",
      "following_url": "https://api.github.com/users/RalfJung/following{/other_user}",
      "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions",
      "organizations_url": "https://api.github.com/users/RalfJung/orgs",
      "repos_url": "https://api.github.com/users/RalfJung/repos",
      "events_url": "https://api.github.com/users/RalfJung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/RalfJung/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-04-17T07:56:31Z",
    "updated_at": "2018-04-17T07:56:31Z",
    "body": "@DemiMarie Notice that alignment doesn't just affect loads. Once we tell LLVM about the alignment 8which we do), it is UB for the pointer value to not have the given alignment even if we do not load/store. For example, if we do bit operations on the least significant bits of the pointer, LLVM will optimize them (or so I am told) based on the assumption that these bits all have to be 0 due to alignment. Also see the example of using alignment for layout optimizations that I mentioned [at the end of this post](https://github.com/rust-lang/rust/issues/46043#issuecomment-381570961).",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/381886959/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/382236566",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-382236566",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 382236566,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MjIzNjU2Ng==",
    "user": {
      "login": "DemiMarie",
      "id": 6395399,
      "node_id": "MDQ6VXNlcjYzOTUzOTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6395399?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DemiMarie",
      "html_url": "https://github.com/DemiMarie",
      "followers_url": "https://api.github.com/users/DemiMarie/followers",
      "following_url": "https://api.github.com/users/DemiMarie/following{/other_user}",
      "gists_url": "https://api.github.com/users/DemiMarie/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DemiMarie/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DemiMarie/subscriptions",
      "organizations_url": "https://api.github.com/users/DemiMarie/orgs",
      "repos_url": "https://api.github.com/users/DemiMarie/repos",
      "events_url": "https://api.github.com/users/DemiMarie/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DemiMarie/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-04-18T02:59:54Z",
    "updated_at": "2018-04-18T02:59:54Z",
    "body": "I see.  My thought was that on most platforms, telling LLVM pointers are\naligned does not help optimization, so there is no need to do it.  Does it\nactually help?\n\nOn Tue, Apr 17, 2018, 3:57 AM Ralf Jung <notifications@github.com> wrote:\n\n> @DemiMarie <https://github.com/DemiMarie> Notice that alignment doesn't\n> just affect loads. Once we tell LLVM about the alignment 8which we do), it\n> is UB for the pointer value to not have the given alignment even if we do\n> not load/store. For example, if we do bit operations on the least\n> significant bits of the pointer, LLVM will optimize them (or so I am told)\n> based on the assumption that these bits all have to be 0 due to alignment.\n> Also see the example of using alignment for layout optimizations that I\n> mentioned at the end of this post\n> <https://github.com/rust-lang/rust/issues/46043#issuecomment-381570961>.\n>\n> \u2014\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/rust-lang/rust/issues/27060#issuecomment-381886959>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AGGWBxwUqNEdNXoXE1yhNhV4AX0tjJqmks5tpaBcgaJpZM4FZlMJ>\n> .\n>\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/382236566/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/382275853",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-382275853",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 382275853,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MjI3NTg1Mw==",
    "user": {
      "login": "gnzlbg",
      "id": 904614,
      "node_id": "MDQ6VXNlcjkwNDYxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/904614?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnzlbg",
      "html_url": "https://github.com/gnzlbg",
      "followers_url": "https://api.github.com/users/gnzlbg/followers",
      "following_url": "https://api.github.com/users/gnzlbg/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnzlbg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnzlbg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnzlbg/subscriptions",
      "organizations_url": "https://api.github.com/users/gnzlbg/orgs",
      "repos_url": "https://api.github.com/users/gnzlbg/repos",
      "events_url": "https://api.github.com/users/gnzlbg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnzlbg/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-04-18T06:22:04Z",
    "updated_at": "2018-04-18T06:22:04Z",
    "body": "> Does it actually help?\r\n\r\nDoes it matter? The question is: what do we do in those platforms in which unaligned loads are illegal. Should we have two different programming languages?",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/382275853/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/406118673",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-406118673",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 406118673,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNjExODY3Mw==",
    "user": {
      "login": "ibkevg",
      "id": 14927900,
      "node_id": "MDQ6VXNlcjE0OTI3OTAw",
      "avatar_url": "https://avatars.githubusercontent.com/u/14927900?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ibkevg",
      "html_url": "https://github.com/ibkevg",
      "followers_url": "https://api.github.com/users/ibkevg/followers",
      "following_url": "https://api.github.com/users/ibkevg/following{/other_user}",
      "gists_url": "https://api.github.com/users/ibkevg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ibkevg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ibkevg/subscriptions",
      "organizations_url": "https://api.github.com/users/ibkevg/orgs",
      "repos_url": "https://api.github.com/users/ibkevg/repos",
      "events_url": "https://api.github.com/users/ibkevg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ibkevg/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-07-19T00:49:59Z",
    "updated_at": "2018-07-19T00:49:59Z",
    "body": "Food for thought, another use case that may flavour the solution here is device drivers.\r\n\r\nHaving control over how a structure lays out in memory is important to systems programmers who work with board support packages and drivers. A common technique in writing C device drivers, where the device registers are memory mapped, is to create a struct that perfectly overlays the registers. gcc and other compilers often require #pragmas to ensure packing and/or alignment are as required and its not uncommon to see C structs created as fully packed and have the alignment dealt with explicitly by the programmer adding explicit padding fields. (This makes it easy to verify by code inspection that the code matches what the device's data book describes.)\r\n\r\nYou then create a pointer to that struct with the base address of the device's registers. The device registers are read and written by reading and writing to the fields of the struct. You also have to ensure that you use volatile so that the compiler doesn't optimize out register reads not knowing that the device is changing them.\r\n\r\nI've seen similar methods used for heterogeneous single board computers that communicated via shared memory and also for messages sent over communications channels where the on-the-wire layout was important to match with whatever was on the other end.",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/406118673/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/406152020",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-406152020",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 406152020,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNjE1MjAyMA==",
    "user": {
      "login": "SimonSapin",
      "id": 291359,
      "node_id": "MDQ6VXNlcjI5MTM1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SimonSapin",
      "html_url": "https://github.com/SimonSapin",
      "followers_url": "https://api.github.com/users/SimonSapin/followers",
      "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}",
      "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions",
      "organizations_url": "https://api.github.com/users/SimonSapin/orgs",
      "repos_url": "https://api.github.com/users/SimonSapin/repos",
      "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SimonSapin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-07-19T04:36:14Z",
    "updated_at": "2018-07-19T04:36:14Z",
    "body": "@ibkevg You can do this today, with `#[repr(C)]` structs (for defined layout) and a wrapper type to force accesses to individual registers to be volatile. For example: https://docs.rs/cortex-m/0.5.2/cortex_m/peripheral/cpuid/struct.RegisterBlock.html\r\n\r\nHowever these device registers are typically designed so that none of them is at a misaligned address, aren\u2019t they? So `#[repr(C)]` is enough and you probably don\u2019t need `#[repr(packed)]` for this.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/406152020/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/406308217",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-406308217",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 406308217,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNjMwODIxNw==",
    "user": {
      "login": "ibkevg",
      "id": 14927900,
      "node_id": "MDQ6VXNlcjE0OTI3OTAw",
      "avatar_url": "https://avatars.githubusercontent.com/u/14927900?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ibkevg",
      "html_url": "https://github.com/ibkevg",
      "followers_url": "https://api.github.com/users/ibkevg/followers",
      "following_url": "https://api.github.com/users/ibkevg/following{/other_user}",
      "gists_url": "https://api.github.com/users/ibkevg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ibkevg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ibkevg/subscriptions",
      "organizations_url": "https://api.github.com/users/ibkevg/orgs",
      "repos_url": "https://api.github.com/users/ibkevg/repos",
      "events_url": "https://api.github.com/users/ibkevg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ibkevg/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-07-19T15:02:41Z",
    "updated_at": "2018-07-19T15:02:41Z",
    "body": "Great - I might have been thrown off the trail by the name #[repr(C)] because this is needed even if there is no C code present at all and a driver is being writing in 100% Rust. I\u2019d suggest renaming or adding an alias that isn\u2019t FFI specific.\r\n\r\nAnother thing that led me to write the comment above was skimming this thread and noticing at one point musing about fixing the issue in software by copying values into aligned memory and then reading that, which would lead to extra reads. I didn\u2019t read it carefully but it brought to mind that in the event the compiler for whatever reason can\u2019t decide what\u2019s the right thing to do and decides to play it safe in this way, it could cause trouble for a driver. I\u2019ve worked with devices that have \u201cread clear\u201d registers. So reading the register clears one or more bits in it and when you read it next, it\u2019s gone. Now imagine edge cases of a solution that copies values into memory, reading extra addresses that inadvertently read clears.\r\n\r\nSo I just wanted to offer that caution - but yes it would be strange for hw to be designed that would require unaligned accesses. Even if a part was used that might have been designed for an older memory architecture, it would typically be interfaced to via an FPGA that could present a \u201cnormal\u201d set of registers to software, that or tricks using address lines, etc.\r\n\r\n(Barely related, mostly off topic, war story: not every device is going to be memory mapped :) I did have to interface to an Ethernet switch chip once where we only had an SPI (serial) interface into it that was wired to the CPU\u2019s general purpose I/O registers. My code had direct control of a data line and a clock line by writing to the I/O register and was literally twiddling bits to feed in cmds and read data out. Lowest level code I\u2019ve ever written.)",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/406308217/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/431360296",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-431360296",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 431360296,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMTM2MDI5Ng==",
    "user": {
      "login": "gnzlbg",
      "id": 904614,
      "node_id": "MDQ6VXNlcjkwNDYxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/904614?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnzlbg",
      "html_url": "https://github.com/gnzlbg",
      "followers_url": "https://api.github.com/users/gnzlbg/followers",
      "following_url": "https://api.github.com/users/gnzlbg/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnzlbg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnzlbg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnzlbg/subscriptions",
      "organizations_url": "https://api.github.com/users/gnzlbg/orgs",
      "repos_url": "https://api.github.com/users/gnzlbg/repos",
      "events_url": "https://api.github.com/users/gnzlbg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnzlbg/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-10-19T13:19:08Z",
    "updated_at": "2018-10-19T13:34:41Z",
    "body": "We have been warning about borrows to packed struct fields requiring unsafe for a long time. How should this issue progress? It is blocking the stabilization of `repr(packed(N))` which is required by `libc`, `mach`, and `winap` (widely used libraries), for correctness.\r\n\r\nThe only unresolved question I can find here is whether we want to make this unsafe on all cases or some cases only (e.g. when the specified packing is less than the field's natural alignment). However, there is also the option of making this always safe, by requiring that the reference is directly casted into a raw pointer (e.g. `&foo.field as *const _`). \r\n\r\nSo we could progress this by either turning the current warning (requiring unsafe code) into an error, or by changing the warning to warn about references to fields of packed structs that are not directly turned into pointers, so that we can turn that into an error in the future. ",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/431360296/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/431426384",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-431426384",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 431426384,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMTQyNjM4NA==",
    "user": {
      "login": "RalfJung",
      "id": 330628,
      "node_id": "MDQ6VXNlcjMzMDYyOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/RalfJung",
      "html_url": "https://github.com/RalfJung",
      "followers_url": "https://api.github.com/users/RalfJung/followers",
      "following_url": "https://api.github.com/users/RalfJung/following{/other_user}",
      "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions",
      "organizations_url": "https://api.github.com/users/RalfJung/orgs",
      "repos_url": "https://api.github.com/users/RalfJung/repos",
      "events_url": "https://api.github.com/users/RalfJung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/RalfJung/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-10-19T16:47:35Z",
    "updated_at": "2018-10-19T16:47:35Z",
    "body": "@gnzlbg I'm fine with making this a hard error.  There's just one thing: I have some ideas for how to make it even harder in the future to create unaligned references.  Namely:\r\n\r\n* I want to propose considering `&expr as *[mut,const] _` as a single primitive operation that creates a raw ptr without an intermediate ref every existing.\r\n* I want to make it illegal (well, first warn-by-default then maybe later err-by-default and then hard error, maybe in a new edition) even in unsafe code to use anything but the above operation when taking the address of a field of a packed struct. The error should state clearly that even just *creating* an unaligned reference is UB. Creating a raw ptr to a field of a packed struct is actually safe.\r\n\r\nI am a bit worried about having people change the same code twice, that's my only potential reservation with proceeding to make safe-ref-to-packed-field an error. But I don't think that should actually stop us, just bringing it up in case anyone disagrees.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/431426384/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/431427852",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-431427852",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 431427852,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMTQyNzg1Mg==",
    "user": {
      "login": "gnzlbg",
      "id": 904614,
      "node_id": "MDQ6VXNlcjkwNDYxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/904614?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnzlbg",
      "html_url": "https://github.com/gnzlbg",
      "followers_url": "https://api.github.com/users/gnzlbg/followers",
      "following_url": "https://api.github.com/users/gnzlbg/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnzlbg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnzlbg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnzlbg/subscriptions",
      "organizations_url": "https://api.github.com/users/gnzlbg/orgs",
      "repos_url": "https://api.github.com/users/gnzlbg/repos",
      "events_url": "https://api.github.com/users/gnzlbg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnzlbg/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-10-19T16:52:39Z",
    "updated_at": "2018-10-19T16:52:39Z",
    "body": "> I am a bit worried about having people change the same code twice, that's my only potential reservation with proceeding to make safe-ref-to-packed-field an error. But I don't think that should actually stop us, just bringing it up in case anyone disagrees.\r\n\r\nIm worried to, which is why I would prefer to change the warning to require `&expr as *[mut,const] _` which would not require any `unsafe` code. Otherwise, if we make not using `unsafe` an error, we are basically forcing everyone to use `unsafe { &x.unaligned }` which potentially would still be UB, without really telling them that they need to write `&x.unaligned as *const _ ` which does not require `unsafe`.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/431427852/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/614453332",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-614453332",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 614453332,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNDQ1MzMzMg==",
    "user": {
      "login": "RalfJung",
      "id": 330628,
      "node_id": "MDQ6VXNlcjMzMDYyOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/RalfJung",
      "html_url": "https://github.com/RalfJung",
      "followers_url": "https://api.github.com/users/RalfJung/followers",
      "following_url": "https://api.github.com/users/RalfJung/following{/other_user}",
      "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions",
      "organizations_url": "https://api.github.com/users/RalfJung/orgs",
      "repos_url": "https://api.github.com/users/RalfJung/repos",
      "events_url": "https://api.github.com/users/RalfJung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/RalfJung/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-04-16T07:00:06Z",
    "updated_at": "2020-04-16T07:00:06Z",
    "body": "I think the current status is that we still just warn about these references-to-packed-fields. And indeed adding `unsafe` doesn't actually help, it's still UB. What would help is stabilizing https://github.com/rust-lang/rust/issues/64490 and then slowly making the references a hard error.\r\n\r\n@rust-lang/lang is that also your plan, and do you have a rough timescale for that?",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/614453332/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/614484612",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-614484612",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 614484612,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNDQ4NDYxMg==",
    "user": {
      "login": "CAD97",
      "id": 5992217,
      "node_id": "MDQ6VXNlcjU5OTIyMTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5992217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/CAD97",
      "html_url": "https://github.com/CAD97",
      "followers_url": "https://api.github.com/users/CAD97/followers",
      "following_url": "https://api.github.com/users/CAD97/following{/other_user}",
      "gists_url": "https://api.github.com/users/CAD97/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/CAD97/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/CAD97/subscriptions",
      "organizations_url": "https://api.github.com/users/CAD97/orgs",
      "repos_url": "https://api.github.com/users/CAD97/repos",
      "events_url": "https://api.github.com/users/CAD97/events{/privacy}",
      "received_events_url": "https://api.github.com/users/CAD97/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-04-16T08:05:13Z",
    "updated_at": "2020-04-16T08:10:07Z",
    "body": "> then slowly making the references a hard error.\n\nI hope you mean a hard error when not in an `unsafe` block? (Though I could potentially see emitting a warning even in `unsafe` blocks, because of how easily problematic it can be.) If we _do_ want to make it an error even in `unsafe` blocks, we definitely need `&raw` sooner rather than later so we can start linting against it there as well.\n\nIt can be sound to take a reference to a packed member when you know the packed member to be aligned, due to a known alignment of the packed datatype, even if it isn't guaranteed by the language.\n\nIt'd be kind of sad if the way to say \"yes, this is actually aligned\" had to be `&*&raw const packed.x` \"just\" to help avoid accidentally taking references to packed fields. (Though to be perfectly clear: I understand the issue with silently allowing references to packed fields in `unsafe`, due in part to implicit autoref and the scope of `unsafe` for other reasons potentially covering one. I just happen to have recently written and used a packed structure guaranteed to be fully aligned, which is only packed to remove trailing padding for space reasons.)",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/614484612/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/614485727",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-614485727",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 614485727,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNDQ4NTcyNw==",
    "user": {
      "login": "comex",
      "id": 47517,
      "node_id": "MDQ6VXNlcjQ3NTE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/47517?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/comex",
      "html_url": "https://github.com/comex",
      "followers_url": "https://api.github.com/users/comex/followers",
      "following_url": "https://api.github.com/users/comex/following{/other_user}",
      "gists_url": "https://api.github.com/users/comex/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/comex/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/comex/subscriptions",
      "organizations_url": "https://api.github.com/users/comex/orgs",
      "repos_url": "https://api.github.com/users/comex/repos",
      "events_url": "https://api.github.com/users/comex/events{/privacy}",
      "received_events_url": "https://api.github.com/users/comex/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-04-16T08:07:22Z",
    "updated_at": "2020-04-16T08:07:22Z",
    "body": "Strawman: Create an `Unaligned<T>` type; deprecate `#[repr(packed)]` in favor of `Unaligned<T>` plus `#[repr(C)]`.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/614485727/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/614494797",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-614494797",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 614494797,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNDQ5NDc5Nw==",
    "user": {
      "login": "RalfJung",
      "id": 330628,
      "node_id": "MDQ6VXNlcjMzMDYyOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/RalfJung",
      "html_url": "https://github.com/RalfJung",
      "followers_url": "https://api.github.com/users/RalfJung/followers",
      "following_url": "https://api.github.com/users/RalfJung/following{/other_user}",
      "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions",
      "organizations_url": "https://api.github.com/users/RalfJung/orgs",
      "repos_url": "https://api.github.com/users/RalfJung/repos",
      "events_url": "https://api.github.com/users/RalfJung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/RalfJung/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-04-16T08:24:25Z",
    "updated_at": "2020-04-16T08:25:54Z",
    "body": "> I hope you mean a hard error when not in an unsafe block? (Though I could potentially see emitting a warning even in unsafe blocks, because of how easily problematic it can be.) If we do want to make it an error even in unsafe blocks, we definitely need &raw sooner rather than later so we can start linting against it there as well.\r\n\r\nIt is UB even in unsafe blocks. So whether or not there is an unsafe block should make no difference for our lints/hard errors, once we have a stable alternative.\r\n\r\n> It can be sound to take a reference to a packed member when you know the packed member to be aligned, due to a known alignment of the packed datatype, even if it isn't guaranteed by the language.\r\n\r\nThe current check already takes that into account, I think, when it is guaranteed. For example, taking a reference to a `u8` in a packed struct is fine (no lint, and no errors in the future).",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/614494797/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/614502068",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-614502068",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 614502068,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNDUwMjA2OA==",
    "user": {
      "login": "comex",
      "id": 47517,
      "node_id": "MDQ6VXNlcjQ3NTE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/47517?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/comex",
      "html_url": "https://github.com/comex",
      "followers_url": "https://api.github.com/users/comex/followers",
      "following_url": "https://api.github.com/users/comex/following{/other_user}",
      "gists_url": "https://api.github.com/users/comex/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/comex/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/comex/subscriptions",
      "organizations_url": "https://api.github.com/users/comex/orgs",
      "repos_url": "https://api.github.com/users/comex/repos",
      "events_url": "https://api.github.com/users/comex/events{/privacy}",
      "received_events_url": "https://api.github.com/users/comex/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-04-16T08:37:59Z",
    "updated_at": "2020-04-16T08:37:59Z",
    "body": "> It'd be kind of sad if the way to say \"yes, this is actually aligned\" had to be `&*&raw const packed.x` \"just\" to help avoid accidentally taking references to packed fields. (Though to be perfectly clear: I understand the issue with silently allowing references to packed fields in `unsafe`, due in part to implicit autoref and the scope of `unsafe` for other reasons potentially covering one. I just happen to have recently written and used a packed structure guaranteed to be fully aligned, which is only packed to remove trailing padding for space reasons.)\r\n\r\nUsing `packed` for this seems a bit hacky.  After all, if you do a direct load or store of one of the fields, LLVM will generate an unaligned load even though, according to you, everything is actually properly aligned.  In theory that could have a performance cost; in practice, maybe not, but the mismatch suggests that it's not the ideal solution for your use case.\r\n\r\nPerhaps there should be a way to just disable trailing padding for a struct.  But that would make it dangerous to create an array of that struct, and I'm not sure how to prevent it from becoming a footgun...\r\n\r\nStill, I think making it easy/ergonomic to implicitly assert alignment should be, well, an anti-goal.  After all, for typical uses of `packed`, the data really is expected to be misaligned.\r\n\r\nFor similar reasons, I'm not thrilled with `&raw` as a long-term solution.  It's better than having *no* way to avoid UB... but an unaligned raw pointer is still a footgun, because you can accidentally dereference it without using `{read|write}_unaligned`.\r\n\r\nHence my suggestion for a wrapper type.  Not only does that avoid the footgun, it also avoids the need for unsafety altogether, since reading and writing an `Unaligned<T>` would be safe operations.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/614502068/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/614508937",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-614508937",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 614508937,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNDUwODkzNw==",
    "user": {
      "login": "RalfJung",
      "id": 330628,
      "node_id": "MDQ6VXNlcjMzMDYyOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/RalfJung",
      "html_url": "https://github.com/RalfJung",
      "followers_url": "https://api.github.com/users/RalfJung/followers",
      "following_url": "https://api.github.com/users/RalfJung/following{/other_user}",
      "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions",
      "organizations_url": "https://api.github.com/users/RalfJung/orgs",
      "repos_url": "https://api.github.com/users/RalfJung/repos",
      "events_url": "https://api.github.com/users/RalfJung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/RalfJung/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-04-16T08:50:06Z",
    "updated_at": "2020-04-16T08:50:48Z",
    "body": "> Using packed for this seems a bit hacky. After all, if you do a direct load or store of one of the fields, LLVM will generate an unaligned load even though, according to you, everything is actually properly aligned.\r\n\r\nIt's not, though. The struct itself could be insufficiently aligned. `repr(packed)` sets the required alignment of the struct to `1`, which is the only reason it can leave away trailing padding. The field might be at an aligned offset within the struct, but the stack/heap allocation containing the struct could be insufficiently aligned.\r\n\r\nSo @CAD97 I think your code is actually wrong.\r\n\r\n> For similar reasons, I'm not thrilled with &raw as a long-term solution. It's better than having no way to avoid UB... but an unaligned raw pointer is still a footgun, because you can accidentally dereference it without using {read|write}_unaligned.\r\n\r\nThat's fair. However, my main concern in this issue is to plug the existing soundness hole -- that seems at least mostly orthogonal to developing more ergonomic ways to deal with unaligned data.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/614508937/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/614519712",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-614519712",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 614519712,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNDUxOTcxMg==",
    "user": {
      "login": "comex",
      "id": 47517,
      "node_id": "MDQ6VXNlcjQ3NTE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/47517?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/comex",
      "html_url": "https://github.com/comex",
      "followers_url": "https://api.github.com/users/comex/followers",
      "following_url": "https://api.github.com/users/comex/following{/other_user}",
      "gists_url": "https://api.github.com/users/comex/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/comex/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/comex/subscriptions",
      "organizations_url": "https://api.github.com/users/comex/orgs",
      "repos_url": "https://api.github.com/users/comex/repos",
      "events_url": "https://api.github.com/users/comex/events{/privacy}",
      "received_events_url": "https://api.github.com/users/comex/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-04-16T09:09:42Z",
    "updated_at": "2020-04-16T09:09:42Z",
    "body": "My guess is that @CAD97 manually ensured their packed struct would be placed at an aligned address, by embedding it in a higher-aligned struct or something like that.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/614519712/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/614521555",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-614521555",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 614521555,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNDUyMTU1NQ==",
    "user": {
      "login": "RalfJung",
      "id": 330628,
      "node_id": "MDQ6VXNlcjMzMDYyOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/RalfJung",
      "html_url": "https://github.com/RalfJung",
      "followers_url": "https://api.github.com/users/RalfJung/followers",
      "following_url": "https://api.github.com/users/RalfJung/following{/other_user}",
      "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions",
      "organizations_url": "https://api.github.com/users/RalfJung/orgs",
      "repos_url": "https://api.github.com/users/RalfJung/repos",
      "events_url": "https://api.github.com/users/RalfJung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/RalfJung/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-04-16T09:13:00Z",
    "updated_at": "2020-04-16T09:13:00Z",
    "body": "That's possible, but then it seems entirely reasonable that you need to add some `unsafe` to promise that you got this right... it's non-trivial.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/614521555/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/614568960",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-614568960",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 614568960,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNDU2ODk2MA==",
    "user": {
      "login": "retep998",
      "id": 666308,
      "node_id": "MDQ6VXNlcjY2NjMwOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/666308?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/retep998",
      "html_url": "https://github.com/retep998",
      "followers_url": "https://api.github.com/users/retep998/followers",
      "following_url": "https://api.github.com/users/retep998/following{/other_user}",
      "gists_url": "https://api.github.com/users/retep998/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/retep998/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/retep998/subscriptions",
      "organizations_url": "https://api.github.com/users/retep998/orgs",
      "repos_url": "https://api.github.com/users/retep998/repos",
      "events_url": "https://api.github.com/users/retep998/events{/privacy}",
      "received_events_url": "https://api.github.com/users/retep998/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-04-16T10:40:49Z",
    "updated_at": "2020-04-16T10:40:49Z",
    "body": "Having to use `Unaligned<T>` would be pretty atrocious in FFI bindings. Large structs full of fields would need every single field's type wrapped in `Unaligned<T>`, and if it was conditional based on something like architecture you'd end up with duplication...",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/614568960/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/614571878",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-614571878",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 614571878,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNDU3MTg3OA==",
    "user": {
      "login": "bitshifter",
      "id": 135700,
      "node_id": "MDQ6VXNlcjEzNTcwMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/135700?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bitshifter",
      "html_url": "https://github.com/bitshifter",
      "followers_url": "https://api.github.com/users/bitshifter/followers",
      "following_url": "https://api.github.com/users/bitshifter/following{/other_user}",
      "gists_url": "https://api.github.com/users/bitshifter/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bitshifter/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bitshifter/subscriptions",
      "organizations_url": "https://api.github.com/users/bitshifter/orgs",
      "repos_url": "https://api.github.com/users/bitshifter/repos",
      "events_url": "https://api.github.com/users/bitshifter/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bitshifter/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-04-16T10:45:46Z",
    "updated_at": "2020-04-16T10:45:46Z",
    "body": "`repr(packed(n))` supports alignments other than 1, so any `Unaligned<T>` would need to take an alignment value to have feature parity with `repr(packed)`.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/614571878/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/614741905",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-614741905",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 614741905,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNDc0MTkwNQ==",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-04-16T16:00:05Z",
    "updated_at": "2020-04-16T16:00:05Z",
    "body": "I'm nominating for lang-team meeting to [discuss @RalfJung's question of the plans around `&raw`](https://github.com/rust-lang/rust/issues/27060#issuecomment-614453332).",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/614741905/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/614745027",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-614745027",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 614745027,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNDc0NTAyNw==",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-04-16T16:05:37Z",
    "updated_at": "2020-04-16T16:05:37Z",
    "body": "My own personal take:\r\n\r\nI am semi-convinced that we should \"rethink\" raw pointer syntax and try to adopt a new kind of pointer that is raw, non-null, and (probably?) doesn't make the `const/mut` distinction. @withoutboats was pitching `&unsafe` (and `&unsafe T`) as a possible syntax for this, and I don't hate that, though there are parsing ambiguities to consider (`&unsafe { 22 }` being legal syntax now).\r\n\r\nAll the same, I think we should consider moving on `&raw` sooner rather than later, especially if \"old-style raw pointers\" would be soft-deprecated. It probably takes some time to prove out an `&unsafe`-like design. It feels like a big deal, in part because I think it would best be accompanied by other changes around the Unsafe Code Guidelines. (Though maybe I'm expecting too much, perhaps `&unsafe` isn't as hard as all that.)\r\n\r\nRegardless, a change around the syntax of raw pointers is clearly the sort of thing that would best be done around an edition, I think, since it's a big shift in developer practices, and in concert with other supporting changes, which is why I brought up UCG-related work.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/614745027/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/614801680",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-614801680",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 614801680,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNDgwMTY4MA==",
    "user": {
      "login": "CAD97",
      "id": 5992217,
      "node_id": "MDQ6VXNlcjU5OTIyMTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5992217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/CAD97",
      "html_url": "https://github.com/CAD97",
      "followers_url": "https://api.github.com/users/CAD97/followers",
      "following_url": "https://api.github.com/users/CAD97/following{/other_user}",
      "gists_url": "https://api.github.com/users/CAD97/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/CAD97/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/CAD97/subscriptions",
      "organizations_url": "https://api.github.com/users/CAD97/orgs",
      "repos_url": "https://api.github.com/users/CAD97/repos",
      "events_url": "https://api.github.com/users/CAD97/events{/privacy}",
      "received_events_url": "https://api.github.com/users/CAD97/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-04-16T17:51:45Z",
    "updated_at": "2020-04-16T17:52:13Z",
    "body": "(Yes, my code code ensures the alignment of the packed structs by construction, with a kind of \"placement new\" that requires proper alignment, and never actually holding an instance of the type on the stack. `packed(N)` wouldn't be enough for this use case, as it includes a structure whose safety alignment is \"8+4\" (i.e. 4 but not 8), which is not expressible in the type system at all. [The code is on GitHub if people want to gawk at the cursed code.](https://github.com/CAD97/sorbus/blob/600992bc52fbb5ce9feb2da18f653923854e228a/src/green/element.rs) In actuality, the code just does an aligned read from the packed fields, it doesn't actually need to create a reference.)\r\n\r\nMy position has mellowed a bit overnight; I definitely think it's fair to warn on taking a reference to a packed field (when the field isn't guaranteed to be aligned by the Rust type system), even in `unsafe` blocks, due to the ease of accidentally causing UB through an invisibly added reference (method call) or that just happens to be in an `unsafe` scope for a different reason, _once we have an alternative_ (`&raw` and/or `&unsafe`). Said warning could then potentially be upgraded to a hard error in the (far) future.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/614801680/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/614877434",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-614877434",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 614877434,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNDg3NzQzNA==",
    "user": {
      "login": "RalfJung",
      "id": 330628,
      "node_id": "MDQ6VXNlcjMzMDYyOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/RalfJung",
      "html_url": "https://github.com/RalfJung",
      "followers_url": "https://api.github.com/users/RalfJung/followers",
      "following_url": "https://api.github.com/users/RalfJung/following{/other_user}",
      "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions",
      "organizations_url": "https://api.github.com/users/RalfJung/orgs",
      "repos_url": "https://api.github.com/users/RalfJung/repos",
      "events_url": "https://api.github.com/users/RalfJung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/RalfJung/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-04-16T20:27:51Z",
    "updated_at": "2020-04-16T20:27:51Z",
    "body": "> I am semi-convinced that we should \"rethink\" raw pointer syntax and try to adopt a new kind of pointer that is raw, non-null, and (probably?) doesn't make the const/mut distinction. @withoutboats was pitching &unsafe (and &unsafe T) as a possible syntax for this, and I don't hate that, though there are parsing ambiguities to consider (&unsafe { 22 } being legal syntax now).\r\n\r\nI agree the entire area of raw pointers needs a lot of work. But I also would like to finally see this soundness hole closed. I am torn between not wanting to rush in an addition that we might regret later, and wanting to do *something* to guide people away from taking references to packed fields (which currently is blocked on there not being anything to guide them *to*). Maybe exposing `&raw` in a macro is a better \"hotfix\" than full-blown new syntax...",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/614877434/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/615122178",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-615122178",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 615122178,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNTEyMjE3OA==",
    "user": {
      "login": "ghost",
      "id": 10137,
      "node_id": "MDQ6VXNlcjEwMTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ghost",
      "html_url": "https://github.com/ghost",
      "followers_url": "https://api.github.com/users/ghost/followers",
      "following_url": "https://api.github.com/users/ghost/following{/other_user}",
      "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
      "organizations_url": "https://api.github.com/users/ghost/orgs",
      "repos_url": "https://api.github.com/users/ghost/repos",
      "events_url": "https://api.github.com/users/ghost/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ghost/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-04-17T08:41:08Z",
    "updated_at": "2020-04-17T08:50:39Z",
    "body": "If I have a simple packed struct like this:\r\n\r\n```Rust\r\n#[repr(packed)]\r\n#[derive(PartialEq)]\r\nstruct p{\r\n    a: usize,\r\n    b: u8,\r\n    c: usize,\r\n}\r\n```\r\n\r\nAnd I have 2 variables like that: \r\n\r\n```Rust\r\nlet x = p {a: 1usize, b: 2u8, c: 3usize};\r\nlet y = p {a: 1usize, b: 2u8, c: 4usize};\r\n\r\n```\r\n\r\nThen will `x == y` on platforms that don't support unaligned access? (Some platforms that don't support unaligned access just ignore the lowest bits so when reading out the field `c` it will read out field `b` and the first bytes except the last of `c`)\r\n\r\nI guess my question is: I get that its unsafe to access references which point into a packed struct, but what kind of code will #[derive(PartialEq)] generate? Is it going to take into account that the struct is packed and has to perform unaligned memory accesses? Or is it just generates broken code right now? Unfortunatly I wasn't able to cross compile to test this, but if Rust generates broken code for `PartialEq` for packed structs then just requiring to put unsafe block around packed-struct-field accesses aren't gonna fix the problem.",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/615122178/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/615127384",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-615127384",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 615127384,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNTEyNzM4NA==",
    "user": {
      "login": "RalfJung",
      "id": 330628,
      "node_id": "MDQ6VXNlcjMzMDYyOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/RalfJung",
      "html_url": "https://github.com/RalfJung",
      "followers_url": "https://api.github.com/users/RalfJung/followers",
      "following_url": "https://api.github.com/users/RalfJung/following{/other_user}",
      "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions",
      "organizations_url": "https://api.github.com/users/RalfJung/orgs",
      "repos_url": "https://api.github.com/users/RalfJung/repos",
      "events_url": "https://api.github.com/users/RalfJung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/RalfJung/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-04-17T08:51:49Z",
    "updated_at": "2020-04-17T08:51:49Z",
    "body": "`repr(packed)` + `derive(PartialEq)` shows a warning:\r\n```\r\nwarning: `#[derive]` can't be used on a `#[repr(packed)]` struct that does not derive Copy (error E0133)\r\n --> src/main.rs:2:10\r\n  |\r\n2 | #[derive(PartialEq)]\r\n  |          ^^^^^^^^^\r\n  |\r\n  = note: `#[warn(safe_packed_borrows)]` on by default\r\n  = warning: this was previously accepted by the compiler but is being phased out; it will become a hard error in a future release!\r\n  = note: for more information, see issue #46043 <https://github.com/rust-lang/rust/issues/46043>\r\n  = note: this warning originates in a derive macro (in Nightly builds, run with -Z macro-backtrace for more info)\r\n```\r\nThis one is probably going on long enough that we can move towards making it a hard error. Is it worth taking small steps here even while there is no proper solution for taking references yet?",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/615127384/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/615133414",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-615133414",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 615133414,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNTEzMzQxNA==",
    "user": {
      "login": "RalfJung",
      "id": 330628,
      "node_id": "MDQ6VXNlcjMzMDYyOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/RalfJung",
      "html_url": "https://github.com/RalfJung",
      "followers_url": "https://api.github.com/users/RalfJung/followers",
      "following_url": "https://api.github.com/users/RalfJung/following{/other_user}",
      "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions",
      "organizations_url": "https://api.github.com/users/RalfJung/orgs",
      "repos_url": "https://api.github.com/users/RalfJung/repos",
      "events_url": "https://api.github.com/users/RalfJung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/RalfJung/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-04-17T09:04:35Z",
    "updated_at": "2020-04-17T09:04:35Z",
    "body": "If you add `Copy` to the derives, Miri is happy with alignment in the auto-derived code: https://github.com/rust-lang/miri/pull/1343.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/615133414/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/615240824",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-615240824",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 615240824,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNTI0MDgyNA==",
    "user": {
      "login": "comex",
      "id": 47517,
      "node_id": "MDQ6VXNlcjQ3NTE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/47517?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/comex",
      "html_url": "https://github.com/comex",
      "followers_url": "https://api.github.com/users/comex/followers",
      "following_url": "https://api.github.com/users/comex/following{/other_user}",
      "gists_url": "https://api.github.com/users/comex/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/comex/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/comex/subscriptions",
      "organizations_url": "https://api.github.com/users/comex/orgs",
      "repos_url": "https://api.github.com/users/comex/repos",
      "events_url": "https://api.github.com/users/comex/events{/privacy}",
      "received_events_url": "https://api.github.com/users/comex/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-04-17T13:21:35Z",
    "updated_at": "2020-04-17T13:21:35Z",
    "body": "> I am semi-convinced that we should \"rethink\" raw pointer syntax and try to adopt a new kind of pointer that is raw, non-null, and (probably?) doesn't make the `const/mut` distinction. @withoutboats was pitching `&unsafe` (and `&unsafe T`) as a possible syntax for this, and I don't hate that, though there are parsing ambiguities to consider (`&unsafe { 22 }` being legal syntax now).\r\n\r\nDo you by chance have a link to somewhere this was being discussed?  It sounds very churny to me, but I\u2019m curious about the motivations behind it.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/615240824/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/616567717",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-616567717",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 616567717,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNjU2NzcxNw==",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-04-20T13:51:28Z",
    "updated_at": "2020-04-20T13:51:28Z",
    "body": "@comex I don't believe there is a great link, it's an idea that's been quietly simmering. I agree that it is would cause a great deal of churn, and I think we'd want to think very carefully about that aspect of it. \r\n\r\nIf we were going to pursure this, I think a good idea if we wanted to pursue this would be to try and document the motivations, explore what a \"green field\" design might look like, and also think about smaller steps that might help. (It seems like a good place for a project group, to me.) But that work isn't really happening in earnest afaik.\r\n\r\n--\r\n\r\n@RalfJung Hmm, I actually quite like the idea of using a macro. I've been meaning for some time to write a blog post talking about how I think we underutilize that option -- i.e., using \"ugly\" macros to create experimental base capabilities, so that we can iterate more using procedural macros on the higher-level details. This might be a perfect opportunity to do that.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/616567717/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/616571760",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-616571760",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 616571760,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNjU3MTc2MA==",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-04-20T13:58:04Z",
    "updated_at": "2020-04-20T13:58:04Z",
    "body": "Oops, send that message a bit early. @comex I wanted to add that some of the motivations I can think of would be:\r\n\r\n* Ergonomic and safety hurdles around raw pointers: the language doesn't make the \"most obvious\" thing the correct and performant thing here, which is what we usually attempt to do (e.g., `&raw const x` would generally be better than `&x`, but I predict the latter is what most people will continue to reach for.)\r\n* Similarly, the panoply of types like `Unique<T>`, `NonNull<T>`, and so forth are complex to use but kind of required to get peak performance, better layout, etc. Maybe we can do better?\r\n* Bringing unsafe raw pointers closer to Rust and more \"in line\" with coding elsewhere in the language. We know that most pointers are non-null, and we know that `Option` is a nice way to signal when this is not the case, and it's how you would do it elsewhere in Rust, but unsafe code tends to be more like C.\r\n* Consistency, since the type of raw pointers (`*const T`) doesn't align with the way they are created (`&raw const`), unlike most types.\r\n\r\nStepping back, I think there's a **general** need for us to explore how we can make unsafe less of an \"all or nothing\" proposition. I'd really like to see layers of unsafe:\r\n\r\n* Fully safe code\r\n* Capabilities like \"forget\", \"safe transmute\", or `AtomicU32`, that permit one to do \"subtle\" things that require caution, but which are not memory unsafe.\r\n* Ergonomic unsafe things that require some proof from users but only simple ones.\r\n* \"The most unsafe\", that require complex reasoning from users.\r\n\r\nThirdly, I also think we need to look at some of the nifty, but unstable, things that we've long held in unsafe code (inline assembly is a very simple example of this, but there are many others) and think about how we can actually expose those. \r\n\r\nAnd then there's the work of gradually bringing conclusions from \"Unsafe Code Guidelines\" work out and cementing them (which @RalfJung has been pursuing, \ud83d\ude4f).\r\n\r\nLots to do...",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/616571760/reactions",
      "total_count": 2,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 2,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/616581689",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-616581689",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 616581689,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNjU4MTY4OQ==",
    "user": {
      "login": "RalfJung",
      "id": 330628,
      "node_id": "MDQ6VXNlcjMzMDYyOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/RalfJung",
      "html_url": "https://github.com/RalfJung",
      "followers_url": "https://api.github.com/users/RalfJung/followers",
      "following_url": "https://api.github.com/users/RalfJung/following{/other_user}",
      "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions",
      "organizations_url": "https://api.github.com/users/RalfJung/orgs",
      "repos_url": "https://api.github.com/users/RalfJung/repos",
      "events_url": "https://api.github.com/users/RalfJung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/RalfJung/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-04-20T14:14:21Z",
    "updated_at": "2020-04-20T14:14:45Z",
    "body": ">  I actually quite like the idea of using a macro.\r\n\r\nNote that a macro has been mentioned during the RFC discussion for `&raw` (https://github.com/rust-lang/rfcs/pull/2582#issuecomment-438850491, https://github.com/rust-lang/rfcs/pull/2582#issuecomment-499845969). One response was that *just* a macro isn't enough, because we need a new MIR operation, and also people didn't want a \"magic macro\" that directly goes to a MIR primitive. Otherwise there was not much discussion about it.\r\n\r\nBut I don't think using a macro just for stabilization purposes has been discussed. However, I assume this would mean the parser has to still always accept the new syntax, so that it can be used in macro expansions?",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/616581689/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/616585608",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-616585608",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 616585608,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNjU4NTYwOA==",
    "user": {
      "login": "hanna-kruppe",
      "id": 2311707,
      "node_id": "MDQ6VXNlcjIzMTE3MDc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2311707?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hanna-kruppe",
      "html_url": "https://github.com/hanna-kruppe",
      "followers_url": "https://api.github.com/users/hanna-kruppe/followers",
      "following_url": "https://api.github.com/users/hanna-kruppe/following{/other_user}",
      "gists_url": "https://api.github.com/users/hanna-kruppe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hanna-kruppe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hanna-kruppe/subscriptions",
      "organizations_url": "https://api.github.com/users/hanna-kruppe/orgs",
      "repos_url": "https://api.github.com/users/hanna-kruppe/repos",
      "events_url": "https://api.github.com/users/hanna-kruppe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hanna-kruppe/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-04-20T14:20:29Z",
    "updated_at": "2020-04-20T14:20:29Z",
    "body": "Yes, presumably the new syntax would remain unstable and there's a macro that expands to it (using `allow_internal_unstable`) that gets stabilized sooner. If and when some \"proper\" syntax for the underlying operation is stabilized later, it becomes a trivial macro any user could have written.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/616585608/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/616610160",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-616610160",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 616610160,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNjYxMDE2MA==",
    "user": {
      "login": "CodesInChaos",
      "id": 320473,
      "node_id": "MDQ6VXNlcjMyMDQ3Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/320473?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/CodesInChaos",
      "html_url": "https://github.com/CodesInChaos",
      "followers_url": "https://api.github.com/users/CodesInChaos/followers",
      "following_url": "https://api.github.com/users/CodesInChaos/following{/other_user}",
      "gists_url": "https://api.github.com/users/CodesInChaos/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/CodesInChaos/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/CodesInChaos/subscriptions",
      "organizations_url": "https://api.github.com/users/CodesInChaos/orgs",
      "repos_url": "https://api.github.com/users/CodesInChaos/repos",
      "events_url": "https://api.github.com/users/CodesInChaos/events{/privacy}",
      "received_events_url": "https://api.github.com/users/CodesInChaos/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-04-20T15:00:34Z",
    "updated_at": "2020-04-20T15:00:34Z",
    "body": "How about allowing `p.field` on raw pointers, which returns a raw pointer to that field?",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/616610160/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/616622417",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-616622417",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 616622417,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNjYyMjQxNw==",
    "user": {
      "login": "RalfJung",
      "id": 330628,
      "node_id": "MDQ6VXNlcjMzMDYyOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/RalfJung",
      "html_url": "https://github.com/RalfJung",
      "followers_url": "https://api.github.com/users/RalfJung/followers",
      "following_url": "https://api.github.com/users/RalfJung/following{/other_user}",
      "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions",
      "organizations_url": "https://api.github.com/users/RalfJung/orgs",
      "repos_url": "https://api.github.com/users/RalfJung/repos",
      "events_url": "https://api.github.com/users/RalfJung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/RalfJung/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-04-20T15:20:05Z",
    "updated_at": "2020-04-20T15:22:20Z",
    "body": "@CodesInChaos that has been suggested multiple times in [RFCs](https://github.com/rust-lang/rfcs/pull/2582) and elsewhere. The conclusion was that it would be really confusing if `reference.field` dereferences the pointer but `raw_pointer.field` does not. The two expressions look very similar but would have wildly different types. It's also not how any other language works.\r\n\r\nAlso this issue is about what we can do to mitigate the problems around packed structs. This is not the right place to discuss `&raw` except insofar as it helps to solve the problem at hand. Your question better fits the [tracking issue](https://github.com/rust-lang/rust/issues/64490). To be fair, we already derailed that above a bit with the macro discussion -- but the goal there was to stabilize \"something like `&raw`\" faster. Re-opening the already RFC'd syntax bikeshed will certainly not help that goal.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/616622417/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/616644864",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-616644864",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 616644864,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNjY0NDg2NA==",
    "user": {
      "login": "comex",
      "id": 47517,
      "node_id": "MDQ6VXNlcjQ3NTE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/47517?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/comex",
      "html_url": "https://github.com/comex",
      "followers_url": "https://api.github.com/users/comex/followers",
      "following_url": "https://api.github.com/users/comex/following{/other_user}",
      "gists_url": "https://api.github.com/users/comex/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/comex/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/comex/subscriptions",
      "organizations_url": "https://api.github.com/users/comex/orgs",
      "repos_url": "https://api.github.com/users/comex/repos",
      "events_url": "https://api.github.com/users/comex/events{/privacy}",
      "received_events_url": "https://api.github.com/users/comex/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-04-20T15:56:01Z",
    "updated_at": "2020-04-20T15:56:01Z",
    "body": "@nikomatsakis Thanks for the more detailed explanation :)",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/616644864/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/617819922",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-617819922",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 617819922,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNzgxOTkyMg==",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-04-22T14:39:11Z",
    "updated_at": "2020-04-22T14:39:11Z",
    "body": "I personally don't have a problem with magic macros. Well, to be specific, I'm thinking more and more about the idea of some kind of syntax that allows us to expose \"core operations\" in a way that is intentionally signaled as a building block. Macro syntax is one way to go about that, but not the only way.\r\n\r\nFor example, we might use something like `_::<id>` as a reserved bit of syntax (I don't think that's legal today?) such that we could write things like `_::borrow_raw(x)` or something as the \"underlying syntax\". \r\n\r\nAnyway, this tracking thread isn't the best place to talk about that, but I think having an established convention that we use in various places would be a good idea.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/617819922/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/622078414",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-622078414",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 622078414,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMjA3ODQxNA==",
    "user": {
      "login": "joshtriplett",
      "id": 162737,
      "node_id": "MDQ6VXNlcjE2MjczNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/162737?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/joshtriplett",
      "html_url": "https://github.com/joshtriplett",
      "followers_url": "https://api.github.com/users/joshtriplett/followers",
      "following_url": "https://api.github.com/users/joshtriplett/following{/other_user}",
      "gists_url": "https://api.github.com/users/joshtriplett/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/joshtriplett/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/joshtriplett/subscriptions",
      "organizations_url": "https://api.github.com/users/joshtriplett/orgs",
      "repos_url": "https://api.github.com/users/joshtriplett/repos",
      "events_url": "https://api.github.com/users/joshtriplett/events{/privacy}",
      "received_events_url": "https://api.github.com/users/joshtriplett/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-04-30T20:02:51Z",
    "updated_at": "2020-04-30T20:02:51Z",
    "body": "We discussed this in the lang team meeting. We'd absolutely like to move forward with raw references. We'd like to see a crater run showing the extent of this problem, and then we may make this change over an edition boundary.\r\n\r\nWe'd also like to standardize a syntax for \"non-breaking syntax/keywords\", so that it'd be possible to introduce new keywords understood by the compiler in a namespace that nobody especially wants to type in their code regularly, but that people can experiment with surface syntax for in macros or proc macros. This syntax would be stabilized for a given feature, and continue working even after we introduce some new surface syntax (e.g. at an edition boundary). One such proposal would be `r#$token`, where `token` will always get interpreted as a keyword. Then, we could have e.g. `r#$raw_ref(...)` and `r#$raw_mut_ref(...)`, and decide what the surface syntax should look like later, deferring that either to an edition (with a new keyword) or a point where we find backward-compatible syntax.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/622078414/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/622085775",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-622085775",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 622085775,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMjA4NTc3NQ==",
    "user": {
      "login": "RalfJung",
      "id": 330628,
      "node_id": "MDQ6VXNlcjMzMDYyOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/RalfJung",
      "html_url": "https://github.com/RalfJung",
      "followers_url": "https://api.github.com/users/RalfJung/followers",
      "following_url": "https://api.github.com/users/RalfJung/following{/other_user}",
      "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions",
      "organizations_url": "https://api.github.com/users/RalfJung/orgs",
      "repos_url": "https://api.github.com/users/RalfJung/repos",
      "events_url": "https://api.github.com/users/RalfJung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/RalfJung/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-04-30T20:16:13Z",
    "updated_at": "2020-04-30T20:16:13Z",
    "body": "> We'd like to see a crater run showing the extent of this problem\r\n\r\nYou mean, a crater run that makes references to packed fields a hard error (`unsafe` or not)?\r\n\r\n> We'd also like to standardize a syntax for \"non-breaking syntax/keywords\"\r\n\r\nSo the plan would be to only go ahead with raw-references-to-packed-fields once such a syntax materializes? (That sounds like it needs its own RFC first.)",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/622085775/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/622093535",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-622093535",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 622093535,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMjA5MzUzNQ==",
    "user": {
      "login": "joshtriplett",
      "id": 162737,
      "node_id": "MDQ6VXNlcjE2MjczNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/162737?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/joshtriplett",
      "html_url": "https://github.com/joshtriplett",
      "followers_url": "https://api.github.com/users/joshtriplett/followers",
      "following_url": "https://api.github.com/users/joshtriplett/following{/other_user}",
      "gists_url": "https://api.github.com/users/joshtriplett/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/joshtriplett/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/joshtriplett/subscriptions",
      "organizations_url": "https://api.github.com/users/joshtriplett/orgs",
      "repos_url": "https://api.github.com/users/joshtriplett/repos",
      "events_url": "https://api.github.com/users/joshtriplett/events{/privacy}",
      "received_events_url": "https://api.github.com/users/joshtriplett/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-04-30T20:31:15Z",
    "updated_at": "2020-05-01T00:54:54Z",
    "body": "> You mean, a crater run that makes references to packed fields a hard error (`unsafe` or not)?\r\n\r\nI think that was the proposal, yes.\r\n\r\n> So the plan would be to only go ahead with raw-references-to-packed-fields once such a syntax materializes? (That sounds like it needs its own RFC first.)\r\n\r\nNot necessarily. It's more that either 1) we need to finish bikeshedding the raw reference syntax, or 2) we need a way to move forward with things that we know we want semantically but haven't finished developing the syntax for. Either one would unblock this.\r\n\r\nEDIT: https://github.com/rust-lang/rfcs/pull/2919",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/622093535/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/631702274",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-631702274",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 631702274,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzMTcwMjI3NA==",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-05-20T20:16:31Z",
    "updated_at": "2020-05-20T20:16:31Z",
    "body": "The topic of `&raw` versus `&#$raw` versus `raw_ref!` has been discussed a bunch by the lang design team, as you can see from the comments above and from issue #64490 \r\n\r\nAt this point we are going to take baby steps here, namely via steps like PR #72279 \r\n\r\nSo I think we can safely unnominate this from lang team's plate (and thus, as a nice side effect, stop talking about it at the T-compiler pre-triage sessions).\r\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/631702274/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/635168706",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-635168706",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 635168706,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzNTE2ODcwNg==",
    "user": {
      "login": "RalfJung",
      "id": 330628,
      "node_id": "MDQ6VXNlcjMzMDYyOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/RalfJung",
      "html_url": "https://github.com/RalfJung",
      "followers_url": "https://api.github.com/users/RalfJung/followers",
      "following_url": "https://api.github.com/users/RalfJung/following{/other_user}",
      "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions",
      "organizations_url": "https://api.github.com/users/RalfJung/orgs",
      "repos_url": "https://api.github.com/users/RalfJung/repos",
      "events_url": "https://api.github.com/users/RalfJung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/RalfJung/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-05-28T07:36:36Z",
    "updated_at": "2020-05-28T07:36:36Z",
    "body": "A lint to detect references to packed fields (suggested by @retep998) is now available on nightly: `#![deny(unaligned_references)]`. You can use this to test how much your codebase will be affected when this gradually turns into a hard error.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/635168706/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/635312105",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-635312105",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 635312105,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzNTMxMjEwNQ==",
    "user": {
      "login": "mathstuf",
      "id": 97253,
      "node_id": "MDQ6VXNlcjk3MjUz",
      "avatar_url": "https://avatars.githubusercontent.com/u/97253?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mathstuf",
      "html_url": "https://github.com/mathstuf",
      "followers_url": "https://api.github.com/users/mathstuf/followers",
      "following_url": "https://api.github.com/users/mathstuf/following{/other_user}",
      "gists_url": "https://api.github.com/users/mathstuf/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mathstuf/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mathstuf/subscriptions",
      "organizations_url": "https://api.github.com/users/mathstuf/orgs",
      "repos_url": "https://api.github.com/users/mathstuf/repos",
      "events_url": "https://api.github.com/users/mathstuf/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mathstuf/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-05-28T12:26:25Z",
    "updated_at": "2020-05-28T12:26:25Z",
    "body": "Is there a Crater run planned with it being denied scheduled for those not watching this issue?",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/635312105/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/635320361",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-635320361",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 635320361,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzNTMyMDM2MQ==",
    "user": {
      "login": "RalfJung",
      "id": 330628,
      "node_id": "MDQ6VXNlcjMzMDYyOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/RalfJung",
      "html_url": "https://github.com/RalfJung",
      "followers_url": "https://api.github.com/users/RalfJung/followers",
      "following_url": "https://api.github.com/users/RalfJung/following{/other_user}",
      "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions",
      "organizations_url": "https://api.github.com/users/RalfJung/orgs",
      "repos_url": "https://api.github.com/users/RalfJung/repos",
      "events_url": "https://api.github.com/users/RalfJung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/RalfJung/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-05-28T12:33:41Z",
    "updated_at": "2020-05-28T12:33:41Z",
    "body": "@mathstuf in fact that crater run is already queued. ;) See https://github.com/rust-lang/rust/pull/72644.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/635320361/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/635324631",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-635324631",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 635324631,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzNTMyNDYzMQ==",
    "user": {
      "login": "SimonSapin",
      "id": 291359,
      "node_id": "MDQ6VXNlcjI5MTM1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SimonSapin",
      "html_url": "https://github.com/SimonSapin",
      "followers_url": "https://api.github.com/users/SimonSapin/followers",
      "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}",
      "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions",
      "organizations_url": "https://api.github.com/users/SimonSapin/orgs",
      "repos_url": "https://api.github.com/users/SimonSapin/repos",
      "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SimonSapin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-05-28T12:39:11Z",
    "updated_at": "2020-05-28T12:39:11Z",
    "body": "Is `RUSTFLAGS=-Dunaligned_references` expected to apply to dependencies, despite Cargo\u2019s use of `--cap-lints` to normally inhibit warnings there?",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/635324631/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/635329839",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-635329839",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 635329839,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzNTMyOTgzOQ==",
    "user": {
      "login": "RalfJung",
      "id": 330628,
      "node_id": "MDQ6VXNlcjMzMDYyOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/RalfJung",
      "html_url": "https://github.com/RalfJung",
      "followers_url": "https://api.github.com/users/RalfJung/followers",
      "following_url": "https://api.github.com/users/RalfJung/following{/other_user}",
      "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions",
      "organizations_url": "https://api.github.com/users/RalfJung/orgs",
      "repos_url": "https://api.github.com/users/RalfJung/repos",
      "events_url": "https://api.github.com/users/RalfJung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/RalfJung/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-05-28T12:50:09Z",
    "updated_at": "2020-05-28T12:50:09Z",
    "body": "@SimonSapin I have no idea how `RUSTFLAGS` interacts with `--cap-lints`, but this lint is not doing anything special here.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/635329839/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/637343078",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-637343078",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 637343078,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzNzM0MzA3OA==",
    "user": {
      "login": "RalfJung",
      "id": 330628,
      "node_id": "MDQ6VXNlcjMzMDYyOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/RalfJung",
      "html_url": "https://github.com/RalfJung",
      "followers_url": "https://api.github.com/users/RalfJung/followers",
      "following_url": "https://api.github.com/users/RalfJung/following{/other_user}",
      "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions",
      "organizations_url": "https://api.github.com/users/RalfJung/orgs",
      "repos_url": "https://api.github.com/users/RalfJung/repos",
      "events_url": "https://api.github.com/users/RalfJung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/RalfJung/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-06-02T07:20:04Z",
    "updated_at": "2020-06-02T07:20:04Z",
    "body": "@joshtriplett \r\n> We'd like to see a crater run showing the extent of this problem\r\n\r\nCrater results are in: https://crater-reports.s3.amazonaws.com/pr-72644/index.html\r\nHowever, also note @retep998's [comment due to crater being Linux-only](https://github.com/rust-lang/rust/pull/72644#issuecomment-636403967).",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/637343078/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/637343812",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-637343812",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 637343812,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzNzM0MzgxMg==",
    "user": {
      "login": "RalfJung",
      "id": 330628,
      "node_id": "MDQ6VXNlcjMzMDYyOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/RalfJung",
      "html_url": "https://github.com/RalfJung",
      "followers_url": "https://api.github.com/users/RalfJung/followers",
      "following_url": "https://api.github.com/users/RalfJung/following{/other_user}",
      "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions",
      "organizations_url": "https://api.github.com/users/RalfJung/orgs",
      "repos_url": "https://api.github.com/users/RalfJung/repos",
      "events_url": "https://api.github.com/users/RalfJung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/RalfJung/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-06-02T07:21:32Z",
    "updated_at": "2020-06-02T07:21:32Z",
    "body": "In particular, there are quite a few sys crates that have all their code on one line... is that bindgen (or so) generating these invalid references?",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/637343812/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/637402112",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-637402112",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 637402112,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzNzQwMjExMg==",
    "user": {
      "login": "SimonSapin",
      "id": 291359,
      "node_id": "MDQ6VXNlcjI5MTM1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SimonSapin",
      "html_url": "https://github.com/SimonSapin",
      "followers_url": "https://api.github.com/users/SimonSapin/followers",
      "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}",
      "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions",
      "organizations_url": "https://api.github.com/users/SimonSapin/orgs",
      "repos_url": "https://api.github.com/users/SimonSapin/repos",
      "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SimonSapin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-06-02T09:05:18Z",
    "updated_at": "2020-06-02T09:05:18Z",
    "body": "Yes, rust-bindgen and anything else that uses https://crates.io/crates/quote to generate source code will have that code all in one line. rust-bindgen then attempts to run `rustfmt` on that code by default, maybe that\u2019s not available in the Crater environment?",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/637402112/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/706540964",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-706540964",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 706540964,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwNjU0MDk2NA==",
    "user": {
      "login": "vakaras",
      "id": 75347,
      "node_id": "MDQ6VXNlcjc1MzQ3",
      "avatar_url": "https://avatars.githubusercontent.com/u/75347?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vakaras",
      "html_url": "https://github.com/vakaras",
      "followers_url": "https://api.github.com/users/vakaras/followers",
      "following_url": "https://api.github.com/users/vakaras/following{/other_user}",
      "gists_url": "https://api.github.com/users/vakaras/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vakaras/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vakaras/subscriptions",
      "organizations_url": "https://api.github.com/users/vakaras/orgs",
      "repos_url": "https://api.github.com/users/vakaras/repos",
      "events_url": "https://api.github.com/users/vakaras/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vakaras/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-10-10T12:22:58Z",
    "updated_at": "2020-10-10T12:22:58Z",
    "body": "As requested by @RalfJung, [here](https://github.com/rust-corpus/qrates/blob/dc70b669f4b05e2404edf628d3d28e91cb4a95b6/reports/packed_fields.csv) you can find the list of all functions that trigger \u201cborrow of packed field\u201d lint. Our dataset is based on a snapshot of crates.io made on 2020-01-14.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/706540964/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/706541262",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-706541262",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 706541262,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwNjU0MTI2Mg==",
    "user": {
      "login": "RalfJung",
      "id": 330628,
      "node_id": "MDQ6VXNlcjMzMDYyOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/RalfJung",
      "html_url": "https://github.com/RalfJung",
      "followers_url": "https://api.github.com/users/RalfJung/followers",
      "following_url": "https://api.github.com/users/RalfJung/following{/other_user}",
      "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions",
      "organizations_url": "https://api.github.com/users/RalfJung/orgs",
      "repos_url": "https://api.github.com/users/RalfJung/repos",
      "events_url": "https://api.github.com/users/RalfJung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/RalfJung/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-10-10T12:25:16Z",
    "updated_at": "2020-10-10T12:25:16Z",
    "body": "Thanks @vakaras :-)\r\nWhen I asked if it is possible to gather that data, I didn't quite expect you'd just go and get it. ;)",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/706541262/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/706542158",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-706542158",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 706542158,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwNjU0MjE1OA==",
    "user": {
      "login": "vakaras",
      "id": 75347,
      "node_id": "MDQ6VXNlcjc1MzQ3",
      "avatar_url": "https://avatars.githubusercontent.com/u/75347?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vakaras",
      "html_url": "https://github.com/vakaras",
      "followers_url": "https://api.github.com/users/vakaras/followers",
      "following_url": "https://api.github.com/users/vakaras/following{/other_user}",
      "gists_url": "https://api.github.com/users/vakaras/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vakaras/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vakaras/subscriptions",
      "organizations_url": "https://api.github.com/users/vakaras/orgs",
      "repos_url": "https://api.github.com/users/vakaras/repos",
      "events_url": "https://api.github.com/users/vakaras/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vakaras/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-10-10T12:32:11Z",
    "updated_at": "2020-10-10T12:32:11Z",
    "body": "> Thanks @vakaras :-)\r\n> When I asked if it is possible to gather that data, I didn't quite expect you'd just go and get it. ;)\r\n\r\nI would say that we just got lucky this time that @fpoli decided to extract the reasons why the Rust compiler thinks that a specific function needs to have an unsafe block, which also includes this reason.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/706542158/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 1,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/707226026",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-707226026",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 707226026,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwNzIyNjAyNg==",
    "user": {
      "login": "Aaron1011",
      "id": 1408859,
      "node_id": "MDQ6VXNlcjE0MDg4NTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1408859?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Aaron1011",
      "html_url": "https://github.com/Aaron1011",
      "followers_url": "https://api.github.com/users/Aaron1011/followers",
      "following_url": "https://api.github.com/users/Aaron1011/following{/other_user}",
      "gists_url": "https://api.github.com/users/Aaron1011/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Aaron1011/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Aaron1011/subscriptions",
      "organizations_url": "https://api.github.com/users/Aaron1011/orgs",
      "repos_url": "https://api.github.com/users/Aaron1011/repos",
      "events_url": "https://api.github.com/users/Aaron1011/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Aaron1011/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-10-12T16:37:12Z",
    "updated_at": "2020-10-12T16:37:46Z",
    "body": "https://github.com/rust-lang/rust/pull/75534 should help make progress on getting crates to update their code once the necessary primitives have been stabilized.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/707226026/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/786124358",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-786124358",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 786124358,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4NjEyNDM1OA==",
    "user": {
      "login": "RalfJung",
      "id": 330628,
      "node_id": "MDQ6VXNlcjMzMDYyOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/RalfJung",
      "html_url": "https://github.com/RalfJung",
      "followers_url": "https://api.github.com/users/RalfJung/followers",
      "following_url": "https://api.github.com/users/RalfJung/following{/other_user}",
      "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions",
      "organizations_url": "https://api.github.com/users/RalfJung/orgs",
      "repos_url": "https://api.github.com/users/RalfJung/repos",
      "events_url": "https://api.github.com/users/RalfJung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/RalfJung/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2021-02-25T18:52:29Z",
    "updated_at": "2021-02-25T18:52:59Z",
    "body": "With https://github.com/rust-lang/rust/pull/82525, we are finally reaching the finish line to fixing this problem: once that lands, creating a reference to a packed field will cause a future-incompat warning in *any* context, even inside `unsafe` blocks, and the warning will link to https://github.com/rust-lang/rust/issues/82523 which explains what to do. Then it is just a matter of slowly cranking up the lint from warn-by-default to err-by-default to hard error (or however far the lang team is willing to go ;).",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/786124358/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/813878796",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-813878796",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 813878796,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgxMzg3ODc5Ng==",
    "user": {
      "login": "XAMPPRocky",
      "id": 4464295,
      "node_id": "MDQ6VXNlcjQ0NjQyOTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4464295?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/XAMPPRocky",
      "html_url": "https://github.com/XAMPPRocky",
      "followers_url": "https://api.github.com/users/XAMPPRocky/followers",
      "following_url": "https://api.github.com/users/XAMPPRocky/following{/other_user}",
      "gists_url": "https://api.github.com/users/XAMPPRocky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/XAMPPRocky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/XAMPPRocky/subscriptions",
      "organizations_url": "https://api.github.com/users/XAMPPRocky/orgs",
      "repos_url": "https://api.github.com/users/XAMPPRocky/repos",
      "events_url": "https://api.github.com/users/XAMPPRocky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/XAMPPRocky/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2021-04-06T07:02:32Z",
    "updated_at": "2021-04-06T07:02:32Z",
    "body": "@RalfJung Now that #82525 has been merged should we close this issue?",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/813878796/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/813920254",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-813920254",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 813920254,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgxMzkyMDI1NA==",
    "user": {
      "login": "RalfJung",
      "id": 330628,
      "node_id": "MDQ6VXNlcjMzMDYyOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/RalfJung",
      "html_url": "https://github.com/RalfJung",
      "followers_url": "https://api.github.com/users/RalfJung/followers",
      "following_url": "https://api.github.com/users/RalfJung/following{/other_user}",
      "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions",
      "organizations_url": "https://api.github.com/users/RalfJung/orgs",
      "repos_url": "https://api.github.com/users/RalfJung/repos",
      "events_url": "https://api.github.com/users/RalfJung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/RalfJung/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2021-04-06T08:07:28Z",
    "updated_at": "2021-04-06T08:07:28Z",
    "body": "This issue here is only truly fixed once that lint has been turned into a hard error.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/813920254/reactions",
      "total_count": 5,
      "+1": 4,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/882486224",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-882486224",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 882486224,
    "node_id": "IC_kwDOAAsO6M40mavQ",
    "user": {
      "login": "dvc94ch",
      "id": 741807,
      "node_id": "MDQ6VXNlcjc0MTgwNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/741807?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dvc94ch",
      "html_url": "https://github.com/dvc94ch",
      "followers_url": "https://api.github.com/users/dvc94ch/followers",
      "following_url": "https://api.github.com/users/dvc94ch/following{/other_user}",
      "gists_url": "https://api.github.com/users/dvc94ch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dvc94ch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dvc94ch/subscriptions",
      "organizations_url": "https://api.github.com/users/dvc94ch/orgs",
      "repos_url": "https://api.github.com/users/dvc94ch/repos",
      "events_url": "https://api.github.com/users/dvc94ch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dvc94ch/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2021-07-19T11:53:43Z",
    "updated_at": "2021-07-19T11:53:43Z",
    "body": "Instead of a warning/error, why can't rust generate unaligned loads and stores automatically? When using zerocopy structs I think `packed` is the only layout that is guaranteed to be the same across architectures. It would be really nice if rust could just do an unaligned load/store when necessary.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/882486224/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 1
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/882497356",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-882497356",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 882497356,
    "node_id": "IC_kwDOAAsO6M40mddM",
    "user": {
      "login": "mathstuf",
      "id": 97253,
      "node_id": "MDQ6VXNlcjk3MjUz",
      "avatar_url": "https://avatars.githubusercontent.com/u/97253?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mathstuf",
      "html_url": "https://github.com/mathstuf",
      "followers_url": "https://api.github.com/users/mathstuf/followers",
      "following_url": "https://api.github.com/users/mathstuf/following{/other_user}",
      "gists_url": "https://api.github.com/users/mathstuf/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mathstuf/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mathstuf/subscriptions",
      "organizations_url": "https://api.github.com/users/mathstuf/orgs",
      "repos_url": "https://api.github.com/users/mathstuf/repos",
      "events_url": "https://api.github.com/users/mathstuf/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mathstuf/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2021-07-19T12:11:26Z",
    "updated_at": "2021-07-19T12:11:26Z",
    "body": "> unaligned load/store when necessary.\r\n\r\nThis would mean that *all* reads and writes through `&T` must be done with unaligned instructions. If I pass `&u64` to a function, it can currently assume it is aligned. That is not the case for `&packed_struct.some_u64` and without callees knowing all callers, code would *all* need to be done through unaligned loads and stores. A quick search shows [this post](http://www.alexonlinux.com/aligned-vs-unaligned-memory-access) which says that unaligned instructions can be twice as slow (particularly when staddling a cache line).",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/882497356/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 1
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/882538209",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-882538209",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 882538209,
    "node_id": "IC_kwDOAAsO6M40mnbh",
    "user": {
      "login": "dvc94ch",
      "id": 741807,
      "node_id": "MDQ6VXNlcjc0MTgwNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/741807?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dvc94ch",
      "html_url": "https://github.com/dvc94ch",
      "followers_url": "https://api.github.com/users/dvc94ch/followers",
      "following_url": "https://api.github.com/users/dvc94ch/following{/other_user}",
      "gists_url": "https://api.github.com/users/dvc94ch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dvc94ch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dvc94ch/subscriptions",
      "organizations_url": "https://api.github.com/users/dvc94ch/orgs",
      "repos_url": "https://api.github.com/users/dvc94ch/repos",
      "events_url": "https://api.github.com/users/dvc94ch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dvc94ch/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2021-07-19T13:15:08Z",
    "updated_at": "2021-07-19T13:15:08Z",
    "body": "I guess defining getters/setters for all fields isn't that bad. Is there something that can be done to optimize unaligned accesses on architectures were it happens to be aligned? Or does that also give a 2x penalty?",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/882538209/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/882687414",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-882687414",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 882687414,
    "node_id": "IC_kwDOAAsO6M40nL22",
    "user": {
      "login": "mathstuf",
      "id": 97253,
      "node_id": "MDQ6VXNlcjk3MjUz",
      "avatar_url": "https://avatars.githubusercontent.com/u/97253?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mathstuf",
      "html_url": "https://github.com/mathstuf",
      "followers_url": "https://api.github.com/users/mathstuf/followers",
      "following_url": "https://api.github.com/users/mathstuf/following{/other_user}",
      "gists_url": "https://api.github.com/users/mathstuf/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mathstuf/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mathstuf/subscriptions",
      "organizations_url": "https://api.github.com/users/mathstuf/orgs",
      "repos_url": "https://api.github.com/users/mathstuf/repos",
      "events_url": "https://api.github.com/users/mathstuf/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mathstuf/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2021-07-19T16:28:42Z",
    "updated_at": "2021-07-19T16:28:42Z",
    "body": "Even if it doesn't have that penalty, you now have:\r\n\r\n  - more instructions; and\r\n  - a conditional jump.\r\n\r\nBoth of which are very bad in tight loops (instruction cache pressure and branch prediction shenanigans). Speculation is also probably poking its head in here somewhere. I think if you want to pass around unaligned references, the best you have is:\r\n\r\n```rust\r\nlet local_copy = packed_struct.some_u64;\r\nf(&local_copy);\r\n\r\nlet mut local_copy = packed_struct.some_u64;\r\nf_mut(&mut local_copy);\r\npacked_struct.some_u64 = local_copy;\r\n```\r\n\r\nto ensure that any unaligned loads or stores are explicit (well, assuming one knows that `packed_struct` contains unaligned fields).",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/882687414/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/882694981",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-882694981",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 882694981,
    "node_id": "IC_kwDOAAsO6M40nNtF",
    "user": {
      "login": "dvc94ch",
      "id": 741807,
      "node_id": "MDQ6VXNlcjc0MTgwNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/741807?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dvc94ch",
      "html_url": "https://github.com/dvc94ch",
      "followers_url": "https://api.github.com/users/dvc94ch/followers",
      "following_url": "https://api.github.com/users/dvc94ch/following{/other_user}",
      "gists_url": "https://api.github.com/users/dvc94ch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dvc94ch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dvc94ch/subscriptions",
      "organizations_url": "https://api.github.com/users/dvc94ch/orgs",
      "repos_url": "https://api.github.com/users/dvc94ch/repos",
      "events_url": "https://api.github.com/users/dvc94ch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dvc94ch/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2021-07-19T16:40:35Z",
    "updated_at": "2021-07-19T16:44:17Z",
    "body": "Sorry for my dumb questions\r\n\r\n```rust\r\nlet local_copy = packed_struct.some_u64;\r\n```\r\n\r\n```rust\r\npacked_struct.some_u64 = local_copy;\r\n```\r\n\r\nThese are not undefined behaviour? I'd expect the `.` to add an offset to the struct pointer which would be undefined behaviour.\r\n\r\nEDIT: I guess I'll just assume that's not the case. Thanks!",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/882694981/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/882698519",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-882698519",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 882698519,
    "node_id": "IC_kwDOAAsO6M40nOkX",
    "user": {
      "login": "RalfJung",
      "id": 330628,
      "node_id": "MDQ6VXNlcjMzMDYyOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/RalfJung",
      "html_url": "https://github.com/RalfJung",
      "followers_url": "https://api.github.com/users/RalfJung/followers",
      "following_url": "https://api.github.com/users/RalfJung/following{/other_user}",
      "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions",
      "organizations_url": "https://api.github.com/users/RalfJung/orgs",
      "repos_url": "https://api.github.com/users/RalfJung/repos",
      "events_url": "https://api.github.com/users/RalfJung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/RalfJung/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2021-07-19T16:46:23Z",
    "updated_at": "2021-07-19T16:46:23Z",
    "body": "Those are indeed not UB. Accessing *packed places* is okay since the required alignment is directly visible in the place expression.\r\n\r\nWhat is UB is to do the same through a reference, where there is no more any indication in the code that things might not be aligned.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/882698519/reactions",
      "total_count": 3,
      "+1": 3,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/882749002",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-882749002",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 882749002,
    "node_id": "IC_kwDOAAsO6M40na5K",
    "user": {
      "login": "DemiMarie",
      "id": 6395399,
      "node_id": "MDQ6VXNlcjYzOTUzOTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6395399?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DemiMarie",
      "html_url": "https://github.com/DemiMarie",
      "followers_url": "https://api.github.com/users/DemiMarie/followers",
      "following_url": "https://api.github.com/users/DemiMarie/following{/other_user}",
      "gists_url": "https://api.github.com/users/DemiMarie/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DemiMarie/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DemiMarie/subscriptions",
      "organizations_url": "https://api.github.com/users/DemiMarie/orgs",
      "repos_url": "https://api.github.com/users/DemiMarie/repos",
      "events_url": "https://api.github.com/users/DemiMarie/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DemiMarie/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2021-07-19T18:03:30Z",
    "updated_at": "2021-07-19T18:03:30Z",
    "body": "> Even if it doesn't have that penalty, you now have:\r\n> \r\n> * more instructions; and\r\n> * a conditional jump.\r\n\r\nThat is architecture-dependent, though.  On platforms that do *not* have a strict alignment requirement at the hardware level, there should be a way to take advantage of this.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/882749002/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/882751439",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-882751439",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 882751439,
    "node_id": "IC_kwDOAAsO6M40nbfP",
    "user": {
      "login": "RalfJung",
      "id": 330628,
      "node_id": "MDQ6VXNlcjMzMDYyOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/RalfJung",
      "html_url": "https://github.com/RalfJung",
      "followers_url": "https://api.github.com/users/RalfJung/followers",
      "following_url": "https://api.github.com/users/RalfJung/following{/other_user}",
      "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions",
      "organizations_url": "https://api.github.com/users/RalfJung/orgs",
      "repos_url": "https://api.github.com/users/RalfJung/repos",
      "events_url": "https://api.github.com/users/RalfJung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/RalfJung/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2021-07-19T18:06:48Z",
    "updated_at": "2021-07-19T18:07:07Z",
    "body": "FWIW, and I don't know to what extend that is actually relevant in terms of performance, but proper alignment is not just exploited by load/store instructions (which might require this on the hardware level), it also informs the optimizer about possible values -- the compiler will assume that the last few bits of a pointer are zero, and use that for its optimizations. There are also proposal to make e.g. all the values 0-3 a \"nice\" in `&i32`, thus making `Option<Option<&i32>>` still fit into a single word.\r\n\r\nAnd there is unsafe code that likes to pack a pointer and a few bits of information together in one pointer-sized datum, which it can by exploiting proper alignment. If `&i32` can be misaligned, those tricks would not work on arbitrary references any more.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/882751439/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/882757390",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-882757390",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 882757390,
    "node_id": "IC_kwDOAAsO6M40nc8O",
    "user": {
      "login": "mathstuf",
      "id": 97253,
      "node_id": "MDQ6VXNlcjk3MjUz",
      "avatar_url": "https://avatars.githubusercontent.com/u/97253?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mathstuf",
      "html_url": "https://github.com/mathstuf",
      "followers_url": "https://api.github.com/users/mathstuf/followers",
      "following_url": "https://api.github.com/users/mathstuf/following{/other_user}",
      "gists_url": "https://api.github.com/users/mathstuf/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mathstuf/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mathstuf/subscriptions",
      "organizations_url": "https://api.github.com/users/mathstuf/orgs",
      "repos_url": "https://api.github.com/users/mathstuf/repos",
      "events_url": "https://api.github.com/users/mathstuf/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mathstuf/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2021-07-19T18:15:58Z",
    "updated_at": "2021-07-19T18:15:58Z",
    "body": "> > Even if it doesn't have that penalty, you now have:\r\n> > \r\n> > * more instructions; and\r\n> > * a conditional jump.\r\n> \r\n> That is architecture-dependent, though. On platforms that do _not_ have a strict alignment requirement at the hardware level, there should be a way to take advantage of this.\r\n\r\nSo\u2026Rust code will become a maze of `#ifdef` (spelled with `#[cfg]`, but a maze nonetheless) to support various platforms? If you're writing platform-specific code *anyways*, I would recommend:\r\n\r\n  - writing the assembly directly; and\r\n  - making a crate to host it (with portable fallbacks where possible).\r\n\r\nYou'll probably need pointers rather than references, but that should give an idea of the knives you're juggling at that point :) .",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/882757390/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/882762527",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-882762527",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 882762527,
    "node_id": "IC_kwDOAAsO6M40neMf",
    "user": {
      "login": "DemiMarie",
      "id": 6395399,
      "node_id": "MDQ6VXNlcjYzOTUzOTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6395399?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DemiMarie",
      "html_url": "https://github.com/DemiMarie",
      "followers_url": "https://api.github.com/users/DemiMarie/followers",
      "following_url": "https://api.github.com/users/DemiMarie/following{/other_user}",
      "gists_url": "https://api.github.com/users/DemiMarie/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DemiMarie/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DemiMarie/subscriptions",
      "organizations_url": "https://api.github.com/users/DemiMarie/orgs",
      "repos_url": "https://api.github.com/users/DemiMarie/repos",
      "events_url": "https://api.github.com/users/DemiMarie/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DemiMarie/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2021-07-19T18:24:01Z",
    "updated_at": "2021-07-19T18:24:01Z",
    "body": "> > > Even if it doesn't have that penalty, you now have:\r\n> > > \r\n> > > * more instructions; and\r\n> > > * a conditional jump.\r\n> > \r\n> > \r\n> > That is architecture-dependent, though. On platforms that do _not_ have a strict alignment requirement at the hardware level, there should be a way to take advantage of this.\r\n> \r\n> So\u2026Rust code will become a maze of `#ifdef` (spelled with `#[cfg]`, but a maze nonetheless) to support various platforms? If you're writing platform-specific code _anyways_, I would recommend:\r\n\r\nThe main case for this I can think of is SIMD code, which is architecture-specific anyway.  Nevertheless, such code could use a suitable wrapper around a raw pointer.\r\n\r\nThis is just one instance of a larger problem: there are many APIs that take references, but which might not need the full guarantees references provide.  For instance, `mmap` can be made reasonably safe (SIGBUS at worst) by returning the equivalent of `&[Atomic<u8>]`, but no API in the ecosystem takes that \u2015 even ones (such as `File`!) that could do so safely.  This forces either code duplication or a bunch of extra copies.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/882762527/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/882806308",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-882806308",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 882806308,
    "node_id": "IC_kwDOAAsO6M40no4k",
    "user": {
      "login": "mathstuf",
      "id": 97253,
      "node_id": "MDQ6VXNlcjk3MjUz",
      "avatar_url": "https://avatars.githubusercontent.com/u/97253?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mathstuf",
      "html_url": "https://github.com/mathstuf",
      "followers_url": "https://api.github.com/users/mathstuf/followers",
      "following_url": "https://api.github.com/users/mathstuf/following{/other_user}",
      "gists_url": "https://api.github.com/users/mathstuf/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mathstuf/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mathstuf/subscriptions",
      "organizations_url": "https://api.github.com/users/mathstuf/orgs",
      "repos_url": "https://api.github.com/users/mathstuf/repos",
      "events_url": "https://api.github.com/users/mathstuf/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mathstuf/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2021-07-19T19:36:34Z",
    "updated_at": "2021-07-19T19:36:34Z",
    "body": "Aren't SIMD instructions typically even more alignment-sensitive (at least for performance)?\r\n\r\nAs for externally-managed resources, Rust doesn't have a good way to manage them other than sticking `Result` on all APIs (or hoping everything is sensible enough to avoid SIGBUSsing you). I have the same issue with resources going out from under me in the [`keyutils`](https://github.com/mathstuf/rust-keyutils) crate due to timeouts or other processes revoking keys in various namespaces. I think when playing with such things, it's fine to request that the boundary does some extra work to ensure that alignment is as expected for everyone else (so you might need to toss some bytes from the beginning of your `mmap` allocation, but that's part of the game for all the other benefits Rust reaps from such assumptions).",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/882806308/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1079947107",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-1079947107",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 1079947107,
    "node_id": "IC_kwDOAAsO6M5AXq9j",
    "user": {
      "login": "mgrech",
      "id": 37422627,
      "node_id": "MDQ6VXNlcjM3NDIyNjI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/37422627?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mgrech",
      "html_url": "https://github.com/mgrech",
      "followers_url": "https://api.github.com/users/mgrech/followers",
      "following_url": "https://api.github.com/users/mgrech/following{/other_user}",
      "gists_url": "https://api.github.com/users/mgrech/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mgrech/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mgrech/subscriptions",
      "organizations_url": "https://api.github.com/users/mgrech/orgs",
      "repos_url": "https://api.github.com/users/mgrech/repos",
      "events_url": "https://api.github.com/users/mgrech/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mgrech/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2022-03-27T14:51:48Z",
    "updated_at": "2022-03-27T14:53:56Z",
    "body": "I can't help but feel very disappointed by the current state of affairs regarding packed structs and the direction Rust is taking here. Coming from a C++ background, I just started learning Rust for a reverse engineering weekend project where I needed to be able to read proprietary file formats with all kinds of weird layouts and I wanted to be declarative, which meant using packed structs. Unfortunately rustc would throw warnings about references to fields of packed structs, which is how I came across this issue.\r\n\r\nIt has been argued that you can always use &lt;something else&gt; instead of packed structs. That is true, but the same argument can be made for anything. Why use Rust at all, when I could just use assembly? The point is that packed structs are the most well-known, obvious, convenient, maintainable, easy to teach way to interact with externally given data layouts and if Rust wants to be a good language for low-level tasks it needs to support packed structs well. The current situation is not good enough and turning those warnings into errors makes it even worse.\r\n\r\nFrom my personal experience working with LLVM I know that it supports an explicit alignment specifier on loads and stores. Therefore, it can in principle generate the correct instruction sequences for any load - including unaligned ones - portably. Hence this a Rust issue, not an LLVM issue. A solution has already been suggested, but seemingly ignored: Add alignment to the type system as an additional attribute, e.g. `align(1) u32` would be an unaligned `u32` and the corresponding reference type is `&align(1) u32`. By putting the alignment in the type Rust can emit the correct alignment information on any load and store when generating LLVM IR. A lighter alternative might be to have just an `unaligned` specifier, e.g. `unaligned u32` and `&unaligned u32`, but I believe explicit alignment values might be useful in other areas too such as SIMD, where higher-than-usual alignments are needed.\r\n\r\nI would be happy to create an RFC around this idea if the Rust team is interested, though I'm not sure that I'm the right person for this, given my limited experience with Rust. Regardless, I do hope that something can be done about this. It would be unfortunate if Rust's support for packed structs was just as lacking as C/C++'s.",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1079947107/reactions",
      "total_count": 11,
      "+1": 9,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 2,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1079955304",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-1079955304",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 1079955304,
    "node_id": "IC_kwDOAAsO6M5AXs9o",
    "user": {
      "login": "RalfJung",
      "id": 330628,
      "node_id": "MDQ6VXNlcjMzMDYyOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/RalfJung",
      "html_url": "https://github.com/RalfJung",
      "followers_url": "https://api.github.com/users/RalfJung/followers",
      "following_url": "https://api.github.com/users/RalfJung/following{/other_user}",
      "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions",
      "organizations_url": "https://api.github.com/users/RalfJung/orgs",
      "repos_url": "https://api.github.com/users/RalfJung/repos",
      "events_url": "https://api.github.com/users/RalfJung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/RalfJung/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2022-03-27T15:36:18Z",
    "updated_at": "2022-03-27T15:41:07Z",
    "body": ">  A solution has already been suggested, but seemingly ignored: Add alignment to the type system as an additional attribute, e.g. align(1) u32 would be an unaligned u32 and the corresponding reference type is &align(1) u32.\r\n\r\nYes, this would be a principled approach to solving the problem. That is also a very heavy hammer for a niche feature, so the question is whether that is complexity budget well spent. Meanwhile in this issue we are working on at least fixing the soundness gap while other people (if they want) can work on more fundamental approaches to handling insufficiently aligned data in Rust.\r\n\r\nPut differently: even if we had alignment annotation on reference types, we would *still* have to break old code that creates references to packed fields. So your proposal does not even help make progress on the issue that is being discussed here. This is *not* an issue to discuss \"making packed structs more ergonomic in Rust in general\", it is specifically about rejecting code that creates references (with the current reference types, i.e. fully aligned references) to fields of packed structs.\r\n\r\nIf people care about having support for unaligned references in Rust, that is certainly worth discussing, but not in this issue. :) This is a language extension idea so it could be discussed on Zulip or IRLO to gauge what would have to go into a pre-RFC.\r\n\r\n> The point is that packed structs are the [lots of adjectives] way to interact with externally given data layouts and if Rust wants to be a good language for low-level tasks it needs to support packed structs well.\r\n\r\nAs you say yourself later, Rust is no worse off than C/C++ -- if anything, Rust is better off since at least the compiler tells you when you are using packed structs the wrong way. So are you saying C/C++ are not \"good language[s] for low-level tasks\"? No this is not a question I actually would like to see discussed in this thread, I just want to ask you to please refrain from unnecessary rhetoric like this. (There are also *tons* of other great ways to deal with externally defined data layouts, and with serde Rust has world-class support for them.)",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1079955304/reactions",
      "total_count": 7,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 7,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1079958142",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-1079958142",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 1079958142,
    "node_id": "IC_kwDOAAsO6M5AXtp-",
    "user": {
      "login": "RalfJung",
      "id": 330628,
      "node_id": "MDQ6VXNlcjMzMDYyOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/RalfJung",
      "html_url": "https://github.com/RalfJung",
      "followers_url": "https://api.github.com/users/RalfJung/followers",
      "following_url": "https://api.github.com/users/RalfJung/following{/other_user}",
      "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions",
      "organizations_url": "https://api.github.com/users/RalfJung/orgs",
      "repos_url": "https://api.github.com/users/RalfJung/repos",
      "events_url": "https://api.github.com/users/RalfJung/events{/privacy}",
      "received_events_url": "https://api.github.com/users/RalfJung/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2022-03-27T15:49:32Z",
    "updated_at": "2022-03-27T15:49:32Z",
    "body": "In fact, given that we have https://github.com/rust-lang/rust/issues/82523 to track the future-incompat issue, I wonder if we should close this one?",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1079958142/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1080455105",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-1080455105",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 1080455105,
    "node_id": "IC_kwDOAAsO6M5AZm_B",
    "user": {
      "login": "mgrech",
      "id": 37422627,
      "node_id": "MDQ6VXNlcjM3NDIyNjI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/37422627?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mgrech",
      "html_url": "https://github.com/mgrech",
      "followers_url": "https://api.github.com/users/mgrech/followers",
      "following_url": "https://api.github.com/users/mgrech/following{/other_user}",
      "gists_url": "https://api.github.com/users/mgrech/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mgrech/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mgrech/subscriptions",
      "organizations_url": "https://api.github.com/users/mgrech/orgs",
      "repos_url": "https://api.github.com/users/mgrech/repos",
      "events_url": "https://api.github.com/users/mgrech/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mgrech/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2022-03-28T10:07:12Z",
    "updated_at": "2022-03-28T10:07:12Z",
    "body": "> Yes, this would be a principled approach to solving the problem. That is also a very heavy hammer for a niche feature, so the question is whether that is complexity budget well spent. Meanwhile in this issue we are working on at least fixing the soundness gap while other people (if they want) can work on more fundamental approaches to handling insufficiently aligned data in Rust.\r\n> \r\n> Put differently: even if we had alignment annotation on reference types, we would _still_ have to break old code that creates references to packed fields. So your proposal does not even help make progress on the issue that is being discussed here. This is _not_ an issue to discuss \"making packed structs more ergonomic in Rust in general\", it is specifically about rejecting code that creates references (with the current reference types, i.e. fully aligned references) to fields of packed structs.\r\n> \r\n> If people care about having support for unaligned references in Rust, that is certainly worth discussing, but not in this issue. :) This is a language extension idea so it could be discussed on Zulip or IRLO to gauge what would have to go into a pre-RFC.\r\n\r\nMakes sense. I was under the impression that the Rust team wants to disallow references to packed struct fields simply because it is considered \"wrong\", not because of soundness. I now understand that this is not actually the case and there is still room for discussion on this topic, which I will try to take to the other channels you mentioned. Apologies for being off-topic here, I had difficulties finding the right place to ask about this as someone new to the Rust project.",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1080455105/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1080669327",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-1080669327",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 1080669327,
    "node_id": "IC_kwDOAAsO6M5AabSP",
    "user": {
      "login": "SimonSapin",
      "id": 291359,
      "node_id": "MDQ6VXNlcjI5MTM1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SimonSapin",
      "html_url": "https://github.com/SimonSapin",
      "followers_url": "https://api.github.com/users/SimonSapin/followers",
      "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}",
      "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions",
      "organizations_url": "https://api.github.com/users/SimonSapin/orgs",
      "repos_url": "https://api.github.com/users/SimonSapin/repos",
      "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SimonSapin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2022-03-28T13:42:57Z",
    "updated_at": "2022-03-28T13:42:57Z",
    "body": "Using `struct` definitions instead of manually computing offsets can be a very nice way to parse some binary formats, but in addition to alignment and padding you also need to worry about endianness and only using types where all bit patterns are valid. Crates like https://crates.io/crates/zerocopy and https://crates.io/crates/bytes-cast provide derivable traits to check safety properties of your structs, and some primitives like `U32Be` that wraps `[u8; 4]` (so no alignment requirement) and whose APIs do the appropriate conversions.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1080669327/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1520565326",
    "html_url": "https://github.com/rust-lang/rust/issues/27060#issuecomment-1520565326",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27060",
    "id": 1520565326,
    "node_id": "IC_kwDOAAsO6M5aofxO",
    "user": {
      "login": "jrose-signal",
      "id": 72036507,
      "node_id": "MDQ6VXNlcjcyMDM2NTA3",
      "avatar_url": "https://avatars.githubusercontent.com/u/72036507?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jrose-signal",
      "html_url": "https://github.com/jrose-signal",
      "followers_url": "https://api.github.com/users/jrose-signal/followers",
      "following_url": "https://api.github.com/users/jrose-signal/following{/other_user}",
      "gists_url": "https://api.github.com/users/jrose-signal/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jrose-signal/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jrose-signal/subscriptions",
      "organizations_url": "https://api.github.com/users/jrose-signal/orgs",
      "repos_url": "https://api.github.com/users/jrose-signal/repos",
      "events_url": "https://api.github.com/users/jrose-signal/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jrose-signal/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2023-04-24T17:30:39Z",
    "updated_at": "2023-04-24T17:31:22Z",
    "body": "I ran into #110777 today, but now I'm wondering why you can't form a reference to a field `x` in a `repr(packed)` struct where the type of `x` is *itself* `repr(packed)`.",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1520565326/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
