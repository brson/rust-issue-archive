[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46131302",
    "html_url": "https://github.com/rust-lang/rust/pull/14888#issuecomment-46131302",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14888",
    "id": 46131302,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MTMxMzAy",
    "user": {
      "login": "dobkeratops",
      "id": 1120754,
      "node_id": "MDQ6VXNlcjExMjA3NTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1120754?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dobkeratops",
      "html_url": "https://github.com/dobkeratops",
      "followers_url": "https://api.github.com/users/dobkeratops/followers",
      "following_url": "https://api.github.com/users/dobkeratops/following{/other_user}",
      "gists_url": "https://api.github.com/users/dobkeratops/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dobkeratops/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dobkeratops/subscriptions",
      "organizations_url": "https://api.github.com/users/dobkeratops/orgs",
      "repos_url": "https://api.github.com/users/dobkeratops/repos",
      "events_url": "https://api.github.com/users/dobkeratops/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dobkeratops/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-06-15T23:22:51Z",
    "updated_at": "2014-06-15T23:52:09Z",
    "body": "> > Systems have used malloc/free for decades. There's no reason that rust shouldn't be compatible with these systems.\n\n.. .and this interface isn't enough, we have to kludge around it.\n\nits a nice opportunity for Rust to take a step forward, mandating a better interface to allocation by default; its easy to wrap something around malloc/free supporting the extra fidelity if thats all a platform gives.\n\nmalloc should take an alignment, and free should take a size, IMO.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46131302/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46133584",
    "html_url": "https://github.com/rust-lang/rust/pull/14888#issuecomment-46133584",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14888",
    "id": 46133584,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MTMzNTg0",
    "user": {
      "login": "liigo",
      "id": 346530,
      "node_id": "MDQ6VXNlcjM0NjUzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/346530?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/liigo",
      "html_url": "https://github.com/liigo",
      "followers_url": "https://api.github.com/users/liigo/followers",
      "following_url": "https://api.github.com/users/liigo/following{/other_user}",
      "gists_url": "https://api.github.com/users/liigo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/liigo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/liigo/subscriptions",
      "organizations_url": "https://api.github.com/users/liigo/orgs",
      "repos_url": "https://api.github.com/users/liigo/repos",
      "events_url": "https://api.github.com/users/liigo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/liigo/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-06-16T01:01:58Z",
    "updated_at": "2014-06-16T01:01:58Z",
    "body": "+1, very easy to manually manage alignment around malloc/free. I don't\nthink any reason not doing this.\n\n2014\u5e746\u670816\u65e5 \u4e0a\u53487:22\u4e8e \"dobkeratops\" notifications@github.com\u5199\u9053\uff1a\n\n> > > Systems have used malloc/free for decades. There's no reason that rust\n> > > shouldn't be compatible with these systems.\n> \n> .. .and this interface isn't enough. its a nice opportunity for rust to\n> take a step forward, mandating a better interface to allocation; its easy\n> to wrap something around malloc/free supporting the extra fidelity\n> \n> \u2014\n> Reply to this email directly or view it on GitHub.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46133584/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46133673",
    "html_url": "https://github.com/rust-lang/rust/pull/14888#issuecomment-46133673",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14888",
    "id": 46133673,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MTMzNjcz",
    "user": {
      "login": "dobkeratops",
      "id": 1120754,
      "node_id": "MDQ6VXNlcjExMjA3NTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1120754?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dobkeratops",
      "html_url": "https://github.com/dobkeratops",
      "followers_url": "https://api.github.com/users/dobkeratops/followers",
      "following_url": "https://api.github.com/users/dobkeratops/following{/other_user}",
      "gists_url": "https://api.github.com/users/dobkeratops/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dobkeratops/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dobkeratops/subscriptions",
      "organizations_url": "https://api.github.com/users/dobkeratops/orgs",
      "repos_url": "https://api.github.com/users/dobkeratops/repos",
      "events_url": "https://api.github.com/users/dobkeratops/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dobkeratops/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-06-16T01:05:27Z",
    "updated_at": "2014-06-16T01:13:54Z",
    "body": "but if the basic interface Rust mandates allows more fidelity, you can implement a better foundation than malloc/free. You needn't be constrained by choices made 30+ years ago.\n\nif something better isn't isn't available, Rust can just supply an inefficient wrapper around malloc/free, providing the alignment, and ignoring the size on free.\n\nmalloc/free were designed for a language which didn't have collection classes; Collection classes make it easy for the client to keep the information of allocation size - e.g. inferred by the size of a type for unique_ptr<T> or Box<T>, or vector<T> /Vec<T>; so there's no need for the underlying allocator to replicate this information aswell. \n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46133673/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46227750",
    "html_url": "https://github.com/rust-lang/rust/pull/14888#issuecomment-46227750",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14888",
    "id": 46227750,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MjI3NzUw",
    "user": {
      "login": "thestinger",
      "id": 1505226,
      "node_id": "MDQ6VXNlcjE1MDUyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thestinger",
      "html_url": "https://github.com/thestinger",
      "followers_url": "https://api.github.com/users/thestinger/followers",
      "following_url": "https://api.github.com/users/thestinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions",
      "organizations_url": "https://api.github.com/users/thestinger/orgs",
      "repos_url": "https://api.github.com/users/thestinger/repos",
      "events_url": "https://api.github.com/users/thestinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thestinger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-06-16T20:01:47Z",
    "updated_at": "2014-06-16T20:03:29Z",
    "body": "It could also just consider asking for an alignment higher than it supports to be an out-of-memory error. It really isn't that hard to branch into code using an alignment header though, and it doesn't need to have overhead for the low alignment case since `deallocate` is passed an alignment (the branch can be reliably wiped out by inlining, since alignment is hardly ever going to be a runtime variable).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46227750/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46250485",
    "html_url": "https://github.com/rust-lang/rust/pull/14888#issuecomment-46250485",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14888",
    "id": 46250485,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MjUwNDg1",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-06-16T23:23:52Z",
    "updated_at": "2014-06-16T23:23:52Z",
    "body": "Updated with aligned allocation on a per-platform basis, I suppose we should use it so long as it exists.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46250485/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46250874",
    "html_url": "https://github.com/rust-lang/rust/pull/14888#issuecomment-46250874",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/14888",
    "id": 46250874,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MjUwODc0",
    "user": {
      "login": "thestinger",
      "id": 1505226,
      "node_id": "MDQ6VXNlcjE1MDUyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thestinger",
      "html_url": "https://github.com/thestinger",
      "followers_url": "https://api.github.com/users/thestinger/followers",
      "following_url": "https://api.github.com/users/thestinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions",
      "organizations_url": "https://api.github.com/users/thestinger/orgs",
      "repos_url": "https://api.github.com/users/thestinger/repos",
      "events_url": "https://api.github.com/users/thestinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thestinger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-06-16T23:29:28Z",
    "updated_at": "2014-06-16T23:29:28Z",
    "body": "It would be nice to special case low alignments by calling through to `malloc`, `realloc` and `free` instead but as this is fallback code anyway it's not incredibly important.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46250874/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
