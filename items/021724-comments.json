[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/71877293",
    "html_url": "https://github.com/rust-lang/rust/issues/21724#issuecomment-71877293",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21724",
    "id": 71877293,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxODc3Mjkz",
    "user": {
      "login": "nagisa",
      "id": 679122,
      "node_id": "MDQ6VXNlcjY3OTEyMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/679122?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nagisa",
      "html_url": "https://github.com/nagisa",
      "followers_url": "https://api.github.com/users/nagisa/followers",
      "following_url": "https://api.github.com/users/nagisa/following{/other_user}",
      "gists_url": "https://api.github.com/users/nagisa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nagisa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nagisa/subscriptions",
      "organizations_url": "https://api.github.com/users/nagisa/orgs",
      "repos_url": "https://api.github.com/users/nagisa/repos",
      "events_url": "https://api.github.com/users/nagisa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nagisa/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-28T17:28:45Z",
    "updated_at": "2015-01-28T17:43:17Z",
    "body": "Apparently our s3 distribution includes docs, which my `make dist-tar-bins` didn\u2019t include for some reason. That\u2019s the cause of discrepancy between gzip sizes on my system and what\u2019s shipped through s3.\n\nI downloaded the tarball we ship and recompressed it for a fairer comparison:\n- xz \u2192 75MiB;\n- xz -9 \u2192 73MiB (honestly, surprised about how small the improvement is over xz -6);\n- bz2 \u2192 95MiB;\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/71877293/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/77145754",
    "html_url": "https://github.com/rust-lang/rust/issues/21724#issuecomment-77145754",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21724",
    "id": 77145754,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3MTQ1NzU0",
    "user": {
      "login": "nagisa",
      "id": 679122,
      "node_id": "MDQ6VXNlcjY3OTEyMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/679122?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nagisa",
      "html_url": "https://github.com/nagisa",
      "followers_url": "https://api.github.com/users/nagisa/followers",
      "following_url": "https://api.github.com/users/nagisa/following{/other_user}",
      "gists_url": "https://api.github.com/users/nagisa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nagisa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nagisa/subscriptions",
      "organizations_url": "https://api.github.com/users/nagisa/orgs",
      "repos_url": "https://api.github.com/users/nagisa/repos",
      "events_url": "https://api.github.com/users/nagisa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nagisa/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-04T11:58:26Z",
    "updated_at": "2015-03-04T14:17:08Z",
    "body": "The tarball (2015-03-03) has since increased to 138MiB in size. Recompressing that to `xz` results in 82MiB `.tar.xz`, for a 40% gain.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/77145754/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/77213102",
    "html_url": "https://github.com/rust-lang/rust/issues/21724#issuecomment-77213102",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21724",
    "id": 77213102,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3MjEzMTAy",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-04T18:14:12Z",
    "updated_at": "2015-03-04T18:14:12Z",
    "body": "Do we know of statistics of how many systems can decompress a `xz` archive? I'm mostly just curious as I suspect that we would continue to produce both and then systems like `multirust` could figure out which to download based on the host system.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/77213102/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/77215599",
    "html_url": "https://github.com/rust-lang/rust/issues/21724#issuecomment-77215599",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21724",
    "id": 77215599,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3MjE1NTk5",
    "user": {
      "login": "nagisa",
      "id": 679122,
      "node_id": "MDQ6VXNlcjY3OTEyMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/679122?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nagisa",
      "html_url": "https://github.com/nagisa",
      "followers_url": "https://api.github.com/users/nagisa/followers",
      "following_url": "https://api.github.com/users/nagisa/following{/other_user}",
      "gists_url": "https://api.github.com/users/nagisa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nagisa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nagisa/subscriptions",
      "organizations_url": "https://api.github.com/users/nagisa/orgs",
      "repos_url": "https://api.github.com/users/nagisa/repos",
      "events_url": "https://api.github.com/users/nagisa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nagisa/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-04T18:27:35Z",
    "updated_at": "2015-03-04T18:28:53Z",
    "body": "As I and others discussed on IRC:\n- Macs don\u2019t appear to have this by default, unsure, recipe on Homebrew;\n- Windows have neither gzip, nor xz, nor tar by default, so it doesn\u2019t matter either way;\n\nOn linux systems some very common packages (with defaultish configure options) depend on liblzma5/xz (gdb and systemd come to mind as examples) so it is very likely it will be available on a standard linux system.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/77215599/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/77506380",
    "html_url": "https://github.com/rust-lang/rust/issues/21724#issuecomment-77506380",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21724",
    "id": 77506380,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3NTA2Mzgw",
    "user": {
      "login": "comex",
      "id": 47517,
      "node_id": "MDQ6VXNlcjQ3NTE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/47517?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/comex",
      "html_url": "https://github.com/comex",
      "followers_url": "https://api.github.com/users/comex/followers",
      "following_url": "https://api.github.com/users/comex/following{/other_user}",
      "gists_url": "https://api.github.com/users/comex/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/comex/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/comex/subscriptions",
      "organizations_url": "https://api.github.com/users/comex/orgs",
      "repos_url": "https://api.github.com/users/comex/repos",
      "events_url": "https://api.github.com/users/comex/events{/privacy}",
      "received_events_url": "https://api.github.com/users/comex/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-06T04:51:31Z",
    "updated_at": "2015-03-06T04:54:15Z",
    "body": "OS X does support xz by default in its 'tar' command (which is bsdtar - not sure exactly when support was introduced, but I think it was in 10.9) and Archive Utility (apparently newly in 10.10).  This works via a library rather than the xz command line utility, which is not provided.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/77506380/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/77511528",
    "html_url": "https://github.com/rust-lang/rust/issues/21724#issuecomment-77511528",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21724",
    "id": 77511528,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3NTExNTI4",
    "user": {
      "login": "nagisa",
      "id": 679122,
      "node_id": "MDQ6VXNlcjY3OTEyMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/679122?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nagisa",
      "html_url": "https://github.com/nagisa",
      "followers_url": "https://api.github.com/users/nagisa/followers",
      "following_url": "https://api.github.com/users/nagisa/following{/other_user}",
      "gists_url": "https://api.github.com/users/nagisa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nagisa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nagisa/subscriptions",
      "organizations_url": "https://api.github.com/users/nagisa/orgs",
      "repos_url": "https://api.github.com/users/nagisa/repos",
      "events_url": "https://api.github.com/users/nagisa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nagisa/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-06T06:04:47Z",
    "updated_at": "2015-03-06T09:21:18Z",
    "body": "Are you sure it is not just shelling out to the xz command? Does 'tar xJf\nfile' work without xz executable in the path?\n\nEDIT: never mind, apparently bstdar just links and uses liblzma5 directly. This is very nice, I should consider dropping gnu tar and use bsdtar myself.\n\nEither way, this means that using xz will benefit most of the users of both linux and os x.\n\n2015/03/06 6:52 \"comex\" notifications@github.com:\n\n> OS X does support xz by default in its 'tar' command (which is bsdtar -\n> not sure exactly when support was introduced, but I think it was in 10.9)\n> and Archive Utility (apparently newly in 10.10).\n> \n> \u2014\n> Reply to this email directly or view it on GitHub\n> https://github.com/rust-lang/rust/issues/21724#issuecomment-77506380.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/77511528/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/89437021",
    "html_url": "https://github.com/rust-lang/rust/issues/21724#issuecomment-89437021",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21724",
    "id": 89437021,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg5NDM3MDIx",
    "user": {
      "login": "abonander",
      "id": 3198595,
      "node_id": "MDQ6VXNlcjMxOTg1OTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3198595?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/abonander",
      "html_url": "https://github.com/abonander",
      "followers_url": "https://api.github.com/users/abonander/followers",
      "following_url": "https://api.github.com/users/abonander/following{/other_user}",
      "gists_url": "https://api.github.com/users/abonander/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/abonander/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/abonander/subscriptions",
      "organizations_url": "https://api.github.com/users/abonander/orgs",
      "repos_url": "https://api.github.com/users/abonander/repos",
      "events_url": "https://api.github.com/users/abonander/events{/privacy}",
      "received_events_url": "https://api.github.com/users/abonander/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-03T22:18:04Z",
    "updated_at": "2015-04-03T22:18:04Z",
    "body": "The [7-Zip Utility for Windows](http://www.7-zip.org/) can decompress xz archives, according to Wikipedia. That's the only archiver I use on Windows. It's free and open source, but it is third-party.\n\nHowever, isn't the installer the preferred way of getting Rust on Windows? That's what I use. I don't know how the installer does decompression but xz support will probably have to be implemented for it.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/89437021/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/89440659",
    "html_url": "https://github.com/rust-lang/rust/issues/21724#issuecomment-89440659",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21724",
    "id": 89440659,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg5NDQwNjU5",
    "user": {
      "login": "ssokolow",
      "id": 46915,
      "node_id": "MDQ6VXNlcjQ2OTE1",
      "avatar_url": "https://avatars.githubusercontent.com/u/46915?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ssokolow",
      "html_url": "https://github.com/ssokolow",
      "followers_url": "https://api.github.com/users/ssokolow/followers",
      "following_url": "https://api.github.com/users/ssokolow/following{/other_user}",
      "gists_url": "https://api.github.com/users/ssokolow/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ssokolow/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ssokolow/subscriptions",
      "organizations_url": "https://api.github.com/users/ssokolow/orgs",
      "repos_url": "https://api.github.com/users/ssokolow/repos",
      "events_url": "https://api.github.com/users/ssokolow/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ssokolow/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-03T22:48:52Z",
    "updated_at": "2015-04-03T23:05:59Z",
    "body": "In addition to 7-Zip (which invented the underlying LZMA2 compression format) XZ is also supported by all the other major tools not already mentioned:\n- WinRAR (If you're running Windows, technical enough to be interested in Rust, and not using 7-zip, it's probably because you prefer WinRAR)\n- [The Unarchiver](https://en.wikipedia.org/wiki/The_Unarchiver) (Serves a similar role to 7-zip as the \"extract anything\" utility of choice for OSX power users)\n- [PeaZip](http://peazip.sourceforge.net/) (As far as I can tell, what people generally fall back to when they want an open-source, GUI-based \"do 99% of what I need\" archive tool for Windows but don't like 7-Zip's UI. Of course, given that most people who don't like 7-zip just put up with WinRAR's shareware nags, it's not got much market share even as the next in line.)\n\n**Edit:** I need to stop forgetting to double-check my memory of what download pages are offering before posting. I've trimmed out some irrelevant bits.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/89440659/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/89444164",
    "html_url": "https://github.com/rust-lang/rust/issues/21724#issuecomment-89444164",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21724",
    "id": 89444164,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg5NDQ0MTY0",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-03T23:06:30Z",
    "updated_at": "2015-04-03T23:06:30Z",
    "body": "Strong +1 to @alexcrichton 's suggestion that we simply provide both.  It costs us relatively nothing to construct both artifacts; is there any serious cost to provide them both (e.g. are we worried about connection charges or storage space on our servers?)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/89444164/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/91228668",
    "html_url": "https://github.com/rust-lang/rust/issues/21724#issuecomment-91228668",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21724",
    "id": 91228668,
    "node_id": "MDEyOklzc3VlQ29tbWVudDkxMjI4NjY4",
    "user": {
      "login": "nagisa",
      "id": 679122,
      "node_id": "MDQ6VXNlcjY3OTEyMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/679122?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nagisa",
      "html_url": "https://github.com/nagisa",
      "followers_url": "https://api.github.com/users/nagisa/followers",
      "following_url": "https://api.github.com/users/nagisa/following{/other_user}",
      "gists_url": "https://api.github.com/users/nagisa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nagisa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nagisa/subscriptions",
      "organizations_url": "https://api.github.com/users/nagisa/orgs",
      "repos_url": "https://api.github.com/users/nagisa/repos",
      "events_url": "https://api.github.com/users/nagisa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nagisa/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-09T13:16:18Z",
    "updated_at": "2015-04-09T13:24:39Z",
    "body": "An update since the metadata reform. Now gzipped tarball is 107MB. xzipped is 78MB. Still an easy 30MB win.\n\nEDIT: docless xz: 75MB, docless gzip: 100MB.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/91228668/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/153753520",
    "html_url": "https://github.com/rust-lang/rust/issues/21724#issuecomment-153753520",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21724",
    "id": 153753520,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1Mzc1MzUyMA==",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-11-04T14:58:01Z",
    "updated_at": "2015-11-04T14:58:01Z",
    "body": "Is this still an issue today?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/153753520/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/153787180",
    "html_url": "https://github.com/rust-lang/rust/issues/21724#issuecomment-153787180",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21724",
    "id": 153787180,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1Mzc4NzE4MA==",
    "user": {
      "login": "nagisa",
      "id": 679122,
      "node_id": "MDQ6VXNlcjY3OTEyMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/679122?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nagisa",
      "html_url": "https://github.com/nagisa",
      "followers_url": "https://api.github.com/users/nagisa/followers",
      "following_url": "https://api.github.com/users/nagisa/following{/other_user}",
      "gists_url": "https://api.github.com/users/nagisa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nagisa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nagisa/subscriptions",
      "organizations_url": "https://api.github.com/users/nagisa/orgs",
      "repos_url": "https://api.github.com/users/nagisa/repos",
      "events_url": "https://api.github.com/users/nagisa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nagisa/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-11-04T16:42:25Z",
    "updated_at": "2015-11-04T16:42:25Z",
    "body": "Recompressing gzip from https://static.rust-lang.org/dist/rust-1.4.0-x86_64-unknown-linux-gnu.tar.gz to xz still goes from 97MB to 75MB, a win of 22MB.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/153787180/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/153789417",
    "html_url": "https://github.com/rust-lang/rust/issues/21724#issuecomment-153789417",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21724",
    "id": 153789417,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1Mzc4OTQxNw==",
    "user": {
      "login": "nagisa",
      "id": 679122,
      "node_id": "MDQ6VXNlcjY3OTEyMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/679122?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nagisa",
      "html_url": "https://github.com/nagisa",
      "followers_url": "https://api.github.com/users/nagisa/followers",
      "following_url": "https://api.github.com/users/nagisa/following{/other_user}",
      "gists_url": "https://api.github.com/users/nagisa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nagisa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nagisa/subscriptions",
      "organizations_url": "https://api.github.com/users/nagisa/orgs",
      "repos_url": "https://api.github.com/users/nagisa/repos",
      "events_url": "https://api.github.com/users/nagisa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nagisa/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-11-04T16:50:25Z",
    "updated_at": "2015-11-04T16:50:51Z",
    "body": "- http://static.rust-lang.org/dist/rust-nightly-x86_64-unknown-linux-gnu.tar.gz from ~100M to ~75M as well;\n- http://static.rust-lang.org/dist/rust-std-nightly-x86_64-unknown-linux-gnu.tar.gz from 51M to ~40M\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/153789417/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/189867158",
    "html_url": "https://github.com/rust-lang/rust/issues/21724#issuecomment-189867158",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21724",
    "id": 189867158,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4OTg2NzE1OA==",
    "user": {
      "login": "nodakai",
      "id": 90726,
      "node_id": "MDQ6VXNlcjkwNzI2",
      "avatar_url": "https://avatars.githubusercontent.com/u/90726?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nodakai",
      "html_url": "https://github.com/nodakai",
      "followers_url": "https://api.github.com/users/nodakai/followers",
      "following_url": "https://api.github.com/users/nodakai/following{/other_user}",
      "gists_url": "https://api.github.com/users/nodakai/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nodakai/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nodakai/subscriptions",
      "organizations_url": "https://api.github.com/users/nodakai/orgs",
      "repos_url": "https://api.github.com/users/nodakai/repos",
      "events_url": "https://api.github.com/users/nodakai/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nodakai/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-02-28T13:10:28Z",
    "updated_at": "2016-02-28T13:10:28Z",
    "body": "FYI, nowadays even [Busybox](https://busybox.net/downloads/binaries/) supports `xz`\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/189867158/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/226391739",
    "html_url": "https://github.com/rust-lang/rust/issues/21724#issuecomment-226391739",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21724",
    "id": 226391739,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyNjM5MTczOQ==",
    "user": {
      "login": "lifthrasiir",
      "id": 323836,
      "node_id": "MDQ6VXNlcjMyMzgzNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/323836?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lifthrasiir",
      "html_url": "https://github.com/lifthrasiir",
      "followers_url": "https://api.github.com/users/lifthrasiir/followers",
      "following_url": "https://api.github.com/users/lifthrasiir/following{/other_user}",
      "gists_url": "https://api.github.com/users/lifthrasiir/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lifthrasiir/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lifthrasiir/subscriptions",
      "organizations_url": "https://api.github.com/users/lifthrasiir/orgs",
      "repos_url": "https://api.github.com/users/lifthrasiir/repos",
      "events_url": "https://api.github.com/users/lifthrasiir/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lifthrasiir/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-06-16T05:29:27Z",
    "updated_at": "2016-06-16T05:29:45Z",
    "body": "We now have switched to the [full Rust solution](https://github.com/rust-lang-nursery/rustup.rs) for distribution, so we can easily switch from tar.gz to tar.xz in that case.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/226391739/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/243911414",
    "html_url": "https://github.com/rust-lang/rust/issues/21724#issuecomment-243911414",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21724",
    "id": 243911414,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0MzkxMTQxNA==",
    "user": {
      "login": "nagisa",
      "id": 679122,
      "node_id": "MDQ6VXNlcjY3OTEyMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/679122?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nagisa",
      "html_url": "https://github.com/nagisa",
      "followers_url": "https://api.github.com/users/nagisa/followers",
      "following_url": "https://api.github.com/users/nagisa/following{/other_user}",
      "gists_url": "https://api.github.com/users/nagisa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nagisa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nagisa/subscriptions",
      "organizations_url": "https://api.github.com/users/nagisa/orgs",
      "repos_url": "https://api.github.com/users/nagisa/repos",
      "events_url": "https://api.github.com/users/nagisa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nagisa/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-08-31T21:40:57Z",
    "updated_at": "2016-08-31T21:40:57Z",
    "body": "I recently had a chance to live on data-capped tether for 2 weeks and it hurt me very hard when the new stage0 compiler got in. It took me a considerable amount of time to download the new compiler and put a noticeable dent into my data allowance. Both of those would have been much more bearable with `xz`.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/243911414/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/245688631",
    "html_url": "https://github.com/rust-lang/rust/issues/21724#issuecomment-245688631",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21724",
    "id": 245688631,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0NTY4ODYzMQ==",
    "user": {
      "login": "shlomif",
      "id": 3150,
      "node_id": "MDQ6VXNlcjMxNTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3150?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shlomif",
      "html_url": "https://github.com/shlomif",
      "followers_url": "https://api.github.com/users/shlomif/followers",
      "following_url": "https://api.github.com/users/shlomif/following{/other_user}",
      "gists_url": "https://api.github.com/users/shlomif/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shlomif/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shlomif/subscriptions",
      "organizations_url": "https://api.github.com/users/shlomif/orgs",
      "repos_url": "https://api.github.com/users/shlomif/repos",
      "events_url": "https://api.github.com/users/shlomif/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shlomif/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-09-08T18:13:51Z",
    "updated_at": "2016-09-08T18:13:51Z",
    "body": "Please provide .xz downloads for the source tarballs. I am a packager for [Mageia Linux](http://www.mageia.org/en/) and downloading the tar.gz and then uploading it our tarballs server over my slow ADSL upstream is time-consuming. I tried to compress the tar.gz tarball using `xz -9 --extreme` and the savings are significant:\n\n```\nshlomif[rpms]:$mageia/rust/SOURCES$ ls -l rustc-1.11.0-src.tar.gz ~/rustc-1.11.0-src.tar.xz \n-rw-r--r-- 1 shlomif shlomif 17108400 Sep  8 20:56 /home/shlomif/rustc-1.11.0-src.tar.xz\n-rw-r--r-- 1 shlomif shlomif 26126471 Aug 16 13:39 rustc-1.11.0-src.tar.gz\n```\n\nThat's a 34% saving.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/245688631/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/245741319",
    "html_url": "https://github.com/rust-lang/rust/issues/21724#issuecomment-245741319",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21724",
    "id": 245741319,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0NTc0MTMxOQ==",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-09-08T21:07:38Z",
    "updated_at": "2016-09-08T21:07:38Z",
    "body": "I'd like to make this happen but it's quite complex to do. I think the basic way to do it is to recompress all the tarballs in one batch job at the same time during final [manifest generation](https://github.com/rust-lang/rust-buildbot/blob/master/master/master.cfg#L1460). It would be great to do it in a way that isn't conflated with other parts of the build infrastructure, so that it can be developed and tested independently of buildbot. Unfortunately the way the entire set of artifacts is put together is quite complex. I tried to write up a design that somebody else could implement but got pretty discouraged.\n\nBut some requirements I think\n- It should be one big batch job that recompresses all the tarballs\n- The names of the xz files and their hashes need to end up in the manifest files so they can be validated by rustup. This requirement makes things particularly hard since the format has to be expanded backwards compatibly, and the recompression must be done before creation of the manifest.\n\nI do want to redesign the entire release build process, and it might be easier to make this happen as part of a redesign.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/245741319/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/245742151",
    "html_url": "https://github.com/rust-lang/rust/issues/21724#issuecomment-245742151",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21724",
    "id": 245742151,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0NTc0MjE1MQ==",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-09-08T21:10:22Z",
    "updated_at": "2016-09-08T21:10:22Z",
    "body": "Compressing just the source tarball can probably be done relatively easily by modifying the build system with a `--xz-source-tarball` flag which we could enable on the linux bots.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/245742151/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/253641085",
    "html_url": "https://github.com/rust-lang/rust/issues/21724#issuecomment-253641085",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21724",
    "id": 253641085,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1MzY0MTA4NQ==",
    "user": {
      "login": "cuviper",
      "id": 36186,
      "node_id": "MDQ6VXNlcjM2MTg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/36186?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cuviper",
      "html_url": "https://github.com/cuviper",
      "followers_url": "https://api.github.com/users/cuviper/followers",
      "following_url": "https://api.github.com/users/cuviper/following{/other_user}",
      "gists_url": "https://api.github.com/users/cuviper/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cuviper/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cuviper/subscriptions",
      "organizations_url": "https://api.github.com/users/cuviper/orgs",
      "repos_url": "https://api.github.com/users/cuviper/repos",
      "events_url": "https://api.github.com/users/cuviper/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cuviper/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-10-13T21:15:36Z",
    "updated_at": "2016-10-13T21:15:36Z",
    "body": "If we're counting calories, stripping `.rustc` from `rustc/lib/*.so` (but not `rustlib/`!) saves about 9MB from the current unpacked nightly dist, and that savings even translates directly to compressed forms since `.rustc` was already compressed.\n\nThere are also a few spots of debuginfo, but that saves less.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/253641085/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/288849010",
    "html_url": "https://github.com/rust-lang/rust/issues/21724#issuecomment-288849010",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21724",
    "id": 288849010,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4ODg0OTAxMA==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-03-23T20:25:02Z",
    "updated_at": "2017-03-23T20:25:02Z",
    "body": "Ok, I think nowadays we're quite ready to be poised to do this! Specifically I believe the steps would look like:\r\n\r\n1. First, familiarize yourself with [`dist.rs`](https://github.com/rust-lang/rust/blob/master/src/bootstrap/dist.rs) where all distribution related code lives.\r\n2. Update Travis/AppVeyor to have the required software to perform xz compression (or whatever we choose)\r\n3. For all tarballs we created, create xz versions as well. I think this'd basically look like:\r\n   * after the tarball is created\r\n   * execute `cat $tarball | gunzip | xz > $tarball.xz`\r\n3. Update Travis/AppVeyor to upload xz tarballs (this may not actually require any changes)\r\n4. Update the [manifest generator](https://github.com/rust-lang/rust/blob/master/src/tools/build-manifest/src/main.rs) to list xz in the manifest. The precise format is somewhat undecided but we can likely add sibling `xz-url = '...'` keys to the existing `url` keys (along with a hash). @brson or I should be contacted about this.\r\n5. Update rustup.rs to parse the new xz keys in the manifest\r\n6. Add xz decompression support to rustup (via a library). [This](https://github.com/alexcrichton/xz2-rs) is one example library, there may be more\r\n7. Change rustup to prefer xz by default (if it proves itself)\r\n8. Rejoice!",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/288849010/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/288959641",
    "html_url": "https://github.com/rust-lang/rust/issues/21724#issuecomment-288959641",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21724",
    "id": 288959641,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4ODk1OTY0MQ==",
    "user": {
      "login": "ranma42",
      "id": 1506030,
      "node_id": "MDQ6VXNlcjE1MDYwMzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1506030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ranma42",
      "html_url": "https://github.com/ranma42",
      "followers_url": "https://api.github.com/users/ranma42/followers",
      "following_url": "https://api.github.com/users/ranma42/following{/other_user}",
      "gists_url": "https://api.github.com/users/ranma42/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ranma42/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ranma42/subscriptions",
      "organizations_url": "https://api.github.com/users/ranma42/orgs",
      "repos_url": "https://api.github.com/users/ranma42/repos",
      "events_url": "https://api.github.com/users/ranma42/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ranma42/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-03-24T08:16:16Z",
    "updated_at": "2017-03-24T08:16:16Z",
    "body": "I did some experiments with the compression by also tuning the order in which files are included in the archive and it looks like we might get further improvements. This is basically achieved by storing duplicate files one after the other, so that the stream compressor can encode them more efficiently.\r\nThe results and the `Makefile` I used for my experiments are available [here](https://gist.github.com/ranma42/99cfb809f4437483126cfb33c605c88d).\r\n\r\n`cat $tarball | gunzip | xz > $tarball.xz` reduces the latest tarball from 135 MB to 95 / 90 MB (without / with the `-9` flag).\r\nChanging the order in which `tar` stores the files makes it possible to compress it down to 79 / 58 MB (without / with the `-9` flag).\r\n\r\n\r\nI would like to work on this issue, but I might not be able to do so until the end of the month. If somebody else starts implementing the new system, please ping here :)",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/288959641/reactions",
      "total_count": 4,
      "+1": 4,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/289048874",
    "html_url": "https://github.com/rust-lang/rust/issues/21724#issuecomment-289048874",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21724",
    "id": 289048874,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4OTA0ODg3NA==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-03-24T15:06:33Z",
    "updated_at": "2017-03-24T15:06:33Z",
    "body": "@ranma42 holy cow I had no idea we could get such a drastic improvement by reordering files, that's awesome! \r\n\r\nFWIW the tarball creation itself is likely buried in [rust-installer](https://github.com/rust-lang/rust-installer) which may be difficult to modify but not impossible! Eventually I'd love to completely rewrite the rust-installer repo in Rust itself (e.g. `src/tools/rust-installer`) but that doesn't have to necessarily happen before this.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/289048874/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/289201610",
    "html_url": "https://github.com/rust-lang/rust/issues/21724#issuecomment-289201610",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21724",
    "id": 289201610,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4OTIwMTYxMA==",
    "user": {
      "login": "est31",
      "id": 8872119,
      "node_id": "MDQ6VXNlcjg4NzIxMTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8872119?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/est31",
      "html_url": "https://github.com/est31",
      "followers_url": "https://api.github.com/users/est31/followers",
      "following_url": "https://api.github.com/users/est31/following{/other_user}",
      "gists_url": "https://api.github.com/users/est31/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/est31/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/est31/subscriptions",
      "organizations_url": "https://api.github.com/users/est31/orgs",
      "repos_url": "https://api.github.com/users/est31/repos",
      "events_url": "https://api.github.com/users/est31/events{/privacy}",
      "received_events_url": "https://api.github.com/users/est31/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-03-25T09:53:53Z",
    "updated_at": "2017-03-25T09:55:41Z",
    "body": "I've tried to get better results than @ranma42 with both brotli and zstd at maximum compression settings (`22` for zstd, `11` for brotli) but they were far behind xz compression at default setting (for rust-nightly-x86_64-unknown-linux-gnu.tar.gz):\r\n\r\n```\r\n460M    files.gnu.tar\r\n125M    files.gnu.tar.bz2\r\n96M     files.gnu.tar.xz\r\n92M     files.gnu.tar.xz9\r\n103M    files.gnu.tar.zst\r\n460M    rev-sorted-files.gnu.tar\r\n88M     rev-sorted-files.gnu.tar.bro\r\n123M    rev-sorted-files.gnu.tar.bz2\r\n79M     rev-sorted-files.gnu.tar.xz\r\n58M     rev-sorted-files.gnu.tar.xz9\r\n85M     rev-sorted-files.gnu.tar.zst\r\n```\r\n\r\nFor the rust-src-nightly.tar.gz they were behind as well, just not as far:\r\n\r\n```\r\n181M    files.gnu.tar\r\n25M     files.gnu.tar.bz2\r\n31M     files.gnu.tar.gz\r\n22M     files.gnu.tar.xz\r\n21M     files.gnu.tar.xz9\r\n23M     rev-sorted-files.gnu.tar.bro\r\n32M     rev-sorted-files.gnu.tar.gz\r\n22M     rev-sorted-files.gnu.tar.xz\r\n22M     rev-sorted-files.gnu.tar.xz9\r\n23M     rev-sorted-files.gnu.tar.zst\r\n```\r\n\r\nAlso note that brotli takes far longer to compress than any other algo. In the second diagram, you can see that reverse sorting in fact has a tiny negative inpact for source code. I too would suggest to go with xz at level 9 with reverse ordering, as its a) far more widespread than zstd/brotli and b) possible better decompression speed for zstd/brotli is an unimportant advantage.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/289201610/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/289222184",
    "html_url": "https://github.com/rust-lang/rust/issues/21724#issuecomment-289222184",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21724",
    "id": 289222184,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4OTIyMjE4NA==",
    "user": {
      "login": "llogiq",
      "id": 4200835,
      "node_id": "MDQ6VXNlcjQyMDA4MzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4200835?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/llogiq",
      "html_url": "https://github.com/llogiq",
      "followers_url": "https://api.github.com/users/llogiq/followers",
      "following_url": "https://api.github.com/users/llogiq/following{/other_user}",
      "gists_url": "https://api.github.com/users/llogiq/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/llogiq/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/llogiq/subscriptions",
      "organizations_url": "https://api.github.com/users/llogiq/orgs",
      "repos_url": "https://api.github.com/users/llogiq/repos",
      "events_url": "https://api.github.com/users/llogiq/events{/privacy}",
      "received_events_url": "https://api.github.com/users/llogiq/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-03-25T16:23:12Z",
    "updated_at": "2017-03-25T16:23:12Z",
    "body": "I wonder if we can improve the sorting by either using a similarity hash and order by hash value, or even use a distance metric and Floyd-Warshall to find out the cheapest path through all files.\r\n\r\nThen again that's probably overdoing it.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/289222184/reactions",
      "total_count": 2,
      "+1": 1,
      "-1": 0,
      "laugh": 1,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/289229591",
    "html_url": "https://github.com/rust-lang/rust/issues/21724#issuecomment-289229591",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21724",
    "id": 289229591,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4OTIyOTU5MQ==",
    "user": {
      "login": "ranma42",
      "id": 1506030,
      "node_id": "MDQ6VXNlcjE1MDYwMzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1506030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ranma42",
      "html_url": "https://github.com/ranma42",
      "followers_url": "https://api.github.com/users/ranma42/followers",
      "following_url": "https://api.github.com/users/ranma42/following{/other_user}",
      "gists_url": "https://api.github.com/users/ranma42/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ranma42/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ranma42/subscriptions",
      "organizations_url": "https://api.github.com/users/ranma42/orgs",
      "repos_url": "https://api.github.com/users/ranma42/repos",
      "events_url": "https://api.github.com/users/ranma42/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ranma42/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-03-25T18:18:08Z",
    "updated_at": "2017-03-25T18:18:08Z",
    "body": "@llogiq the \"reverse name sorting\" trick is a cheap approximation of that, because it clusters files with the same extension. In the case of rust object files, it is effectively also sorting them by their hash, ensuring that identical libraries are adjacent in the list.\r\n\r\nIf we want to squeeze the tarball further, I would suggest investigating the biggest files in the release:\r\n - `librustc_llvm.so` is 62 MB, but I do not expect it to squeeze easily\r\n - the `cargo` binary is 37 MB and it looks like it statically links all of its dependencies; maybe it would be possible to dynamically link some of them  to reduce its size? (`strip` can squeeze it down to 9 MB, but this would make the debugging experience worse)",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/289229591/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/289234294",
    "html_url": "https://github.com/rust-lang/rust/issues/21724#issuecomment-289234294",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21724",
    "id": 289234294,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4OTIzNDI5NA==",
    "user": {
      "login": "llogiq",
      "id": 4200835,
      "node_id": "MDQ6VXNlcjQyMDA4MzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4200835?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/llogiq",
      "html_url": "https://github.com/llogiq",
      "followers_url": "https://api.github.com/users/llogiq/followers",
      "following_url": "https://api.github.com/users/llogiq/following{/other_user}",
      "gists_url": "https://api.github.com/users/llogiq/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/llogiq/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/llogiq/subscriptions",
      "organizations_url": "https://api.github.com/users/llogiq/orgs",
      "repos_url": "https://api.github.com/users/llogiq/repos",
      "events_url": "https://api.github.com/users/llogiq/events{/privacy}",
      "received_events_url": "https://api.github.com/users/llogiq/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-03-25T19:36:22Z",
    "updated_at": "2017-03-25T19:36:22Z",
    "body": "Perhaps we should setup stripped binaries after all \u2013 as the savings are substantial. It may allow some people to use Rust who currently cannot afford it.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/289234294/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/289236898",
    "html_url": "https://github.com/rust-lang/rust/issues/21724#issuecomment-289236898",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21724",
    "id": 289236898,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4OTIzNjg5OA==",
    "user": {
      "login": "nagisa",
      "id": 679122,
      "node_id": "MDQ6VXNlcjY3OTEyMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/679122?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nagisa",
      "html_url": "https://github.com/nagisa",
      "followers_url": "https://api.github.com/users/nagisa/followers",
      "following_url": "https://api.github.com/users/nagisa/following{/other_user}",
      "gists_url": "https://api.github.com/users/nagisa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nagisa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nagisa/subscriptions",
      "organizations_url": "https://api.github.com/users/nagisa/orgs",
      "repos_url": "https://api.github.com/users/nagisa/repos",
      "events_url": "https://api.github.com/users/nagisa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nagisa/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-03-25T20:18:40Z",
    "updated_at": "2017-03-25T20:18:40Z",
    "body": "The difference between fully stripped and not stripped when decompressed is 120MB. Difference when compressed (for sorted files) is 8MB.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/289236898/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/289237593",
    "html_url": "https://github.com/rust-lang/rust/issues/21724#issuecomment-289237593",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21724",
    "id": 289237593,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4OTIzNzU5Mw==",
    "user": {
      "login": "est31",
      "id": 8872119,
      "node_id": "MDQ6VXNlcjg4NzIxMTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8872119?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/est31",
      "html_url": "https://github.com/est31",
      "followers_url": "https://api.github.com/users/est31/followers",
      "following_url": "https://api.github.com/users/est31/following{/other_user}",
      "gists_url": "https://api.github.com/users/est31/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/est31/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/est31/subscriptions",
      "organizations_url": "https://api.github.com/users/est31/orgs",
      "repos_url": "https://api.github.com/users/est31/repos",
      "events_url": "https://api.github.com/users/est31/events{/privacy}",
      "received_events_url": "https://api.github.com/users/est31/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-03-25T20:30:36Z",
    "updated_at": "2017-03-25T20:30:36Z",
    "body": "Being bold, we could also think of every single function as one \"file\", reorder those using similarity hashes (or floyd-warshall, although I guess the number would be too high for pure floyd-warshall), and provide a self extracting archive or something. That would solve the \"cargo links everything statically\" problem.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/289237593/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/289301828",
    "html_url": "https://github.com/rust-lang/rust/issues/21724#issuecomment-289301828",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21724",
    "id": 289301828,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4OTMwMTgyOA==",
    "user": {
      "login": "lifthrasiir",
      "id": 323836,
      "node_id": "MDQ6VXNlcjMyMzgzNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/323836?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lifthrasiir",
      "html_url": "https://github.com/lifthrasiir",
      "followers_url": "https://api.github.com/users/lifthrasiir/followers",
      "following_url": "https://api.github.com/users/lifthrasiir/following{/other_user}",
      "gists_url": "https://api.github.com/users/lifthrasiir/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lifthrasiir/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lifthrasiir/subscriptions",
      "organizations_url": "https://api.github.com/users/lifthrasiir/orgs",
      "repos_url": "https://api.github.com/users/lifthrasiir/repos",
      "events_url": "https://api.github.com/users/lifthrasiir/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lifthrasiir/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-03-26T17:49:22Z",
    "updated_at": "2017-03-26T17:49:22Z",
    "body": "Just in case I have tested other options with `xz` in search of more size reduction and less memory in decompression [1]: (The archive used is 2017-03-15 nightly, which should be same to @ranma42's)\r\n\r\n```\r\n-rw-rw-r--  1 lifthrasiir  81628064 Mar 26 22:41 rev-sorted-files.bsd.tar.xz\r\n-rw-rw-r--  1 lifthrasiir  81080832 Mar 26 22:47 rev-sorted-files.bsd.tar.xz6e\r\n-rw-rw-r--  1 lifthrasiir  74531756 Mar 26 22:50 rev-sorted-files.bsd.tar.xz7\r\n-rw-rw-r--  1 lifthrasiir  73955700 Mar 26 22:56 rev-sorted-files.bsd.tar.xz7e\r\n-rw-rw-r--  1 lifthrasiir  74053348 Mar 26 23:00 rev-sorted-files.bsd.tar.xz8\r\n-rw-rw-r--  1 lifthrasiir  73494812 Mar 26 23:06 rev-sorted-files.bsd.tar.xz8e\r\n-rw-rw-r--  1 lifthrasiir  60213532 Mar 26 23:10 rev-sorted-files.bsd.tar.xz9\r\n-rw-rw-r--  1 lifthrasiir  59672056 Mar 26 23:17 rev-sorted-files.bsd.tar.xz9e\r\n```\r\n\r\n`*.xz` file corresponds to the default option (`-6`). I've also tested `-6e` thorugh `-9e` which tries to compress more at the expense of compression speed (about 2x slower in my testing); they do have some impact but not much, so I guess `-9` is the best option overall as long as users have enough memory (see the footnote below). Note that the decompression speed was insignificant except that `-9`/`-9e` were slightly faster than others (probably due to less I/O overhead).\r\n\r\n[1] All dictionary compression scheme requires a certain amount of previously decoded data. In gzip this is not significant (~64K) but for costlier options of `xz` this may be significant: `-9` requires 65 megabytes of memory for example.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/289301828/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/294420923",
    "html_url": "https://github.com/rust-lang/rust/issues/21724#issuecomment-294420923",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21724",
    "id": 294420923,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5NDQyMDkyMw==",
    "user": {
      "login": "ranma42",
      "id": 1506030,
      "node_id": "MDQ6VXNlcjE1MDYwMzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1506030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ranma42",
      "html_url": "https://github.com/ranma42",
      "followers_url": "https://api.github.com/users/ranma42/followers",
      "following_url": "https://api.github.com/users/ranma42/following{/other_user}",
      "gists_url": "https://api.github.com/users/ranma42/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ranma42/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ranma42/subscriptions",
      "organizations_url": "https://api.github.com/users/ranma42/orgs",
      "repos_url": "https://api.github.com/users/ranma42/repos",
      "events_url": "https://api.github.com/users/ranma42/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ranma42/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-04-17T07:02:33Z",
    "updated_at": "2017-04-17T07:02:33Z",
    "body": "I followed the first steps suggested by @alexcrichton without encountering any significant issue.\r\n@brson, should we start designing the new format of the manifest? What is the best place for doing that?",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/294420923/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/294640477",
    "html_url": "https://github.com/rust-lang/rust/issues/21724#issuecomment-294640477",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21724",
    "id": 294640477,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5NDY0MDQ3Nw==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-04-18T01:01:52Z",
    "updated_at": "2017-04-18T01:01:52Z",
    "body": "@ranma42 oh @brson and I discussed this a long time ago actually and we were both on board with just adding a new key to the manifest. Right now all artifacts have `url = \"...\"` which points to a `*.tar.gz`, and we'd just add a new key, `xz-url = \"...\"` which points to a `*.tar.xz` (or whatever format we select).\r\n\r\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/294640477/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/294640584",
    "html_url": "https://github.com/rust-lang/rust/issues/21724#issuecomment-294640584",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21724",
    "id": 294640584,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5NDY0MDU4NA==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-04-18T01:02:36Z",
    "updated_at": "2017-04-18T01:02:36Z",
    "body": "oh and similar to `hash = \"...\"` we'd have `xz-hash = \"...\"` for each artifact",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/294640584/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/294670169",
    "html_url": "https://github.com/rust-lang/rust/issues/21724#issuecomment-294670169",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21724",
    "id": 294670169,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5NDY3MDE2OQ==",
    "user": {
      "login": "ranma42",
      "id": 1506030,
      "node_id": "MDQ6VXNlcjE1MDYwMzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1506030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ranma42",
      "html_url": "https://github.com/ranma42",
      "followers_url": "https://api.github.com/users/ranma42/followers",
      "following_url": "https://api.github.com/users/ranma42/following{/other_user}",
      "gists_url": "https://api.github.com/users/ranma42/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ranma42/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ranma42/subscriptions",
      "organizations_url": "https://api.github.com/users/ranma42/orgs",
      "repos_url": "https://api.github.com/users/ranma42/repos",
      "events_url": "https://api.github.com/users/ranma42/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ranma42/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-04-18T04:07:06Z",
    "updated_at": "2017-04-18T04:07:06Z",
    "body": "@alexcrichton a dash in the field name will prevent `Target` from being `RustcEncodable` and instead require explicit serialization/deserialization as mentioned [here](https://github.com/rust-lang/rust/blob/8c6e2ff45248dde631ff93f6fc21049dbafd5cba/src/tools/build-manifest/src/main.rs#L187-L188). Is that ok?\r\n\r\nGiven the proposed approach, I assume that there are no plans to add other formats in the future. Another option might be to add a `sources` array containing structs that have `format`, `hash` and `url` keys (or a `BTreeMap` in which the `format` is the key?). This would make it trivial to add/remove formats from the manifest without changing its schema. The tools (is there any other tool beside `rustup` consuming the manifest?) could just ignore those that are not supported or disabled for some reason.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/294670169/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/294846450",
    "html_url": "https://github.com/rust-lang/rust/issues/21724#issuecomment-294846450",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21724",
    "id": 294846450,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5NDg0NjQ1MA==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-04-18T13:36:34Z",
    "updated_at": "2017-04-18T13:36:34Z",
    "body": "Oh so the serde version of toml takes care of tha just fine (via serde attributes) and the old rustc-serialize version actually handled it as well (translating deserializing into a rust field named `foo_bar` to read from a TOML key `foo-bar`)\r\n\r\nI think we're definitely open to new formats in the future, we'd just add more keys. We could support a generic container (like a list) for the formats but it didn't really seem to give much benefit over just listing everything manually. Downloaders will basically always look for an exact one and otherwise fall back to tarballs.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/294846450/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/297046770",
    "html_url": "https://github.com/rust-lang/rust/issues/21724#issuecomment-297046770",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21724",
    "id": 297046770,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5NzA0Njc3MA==",
    "user": {
      "login": "ranma42",
      "id": 1506030,
      "node_id": "MDQ6VXNlcjE1MDYwMzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1506030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ranma42",
      "html_url": "https://github.com/ranma42",
      "followers_url": "https://api.github.com/users/ranma42/followers",
      "following_url": "https://api.github.com/users/ranma42/following{/other_user}",
      "gists_url": "https://api.github.com/users/ranma42/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ranma42/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ranma42/subscriptions",
      "organizations_url": "https://api.github.com/users/ranma42/orgs",
      "repos_url": "https://api.github.com/users/ranma42/repos",
      "events_url": "https://api.github.com/users/ranma42/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ranma42/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-04-25T14:24:36Z",
    "updated_at": "2017-04-25T14:24:36Z",
    "body": "I implemented the changes required to get the xz url and hash [here](https://github.com/ranma42/rust/commit/5420292794a9ca951704e5f36dfde14a177bc618), but I keep getting the `_` in the field names in the manifests. What should I do to get the fields written as `xz-url`? Should I use a different version of `rustc-serialize`?",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/297046770/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/297075825",
    "html_url": "https://github.com/rust-lang/rust/issues/21724#issuecomment-297075825",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21724",
    "id": 297075825,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5NzA3NTgyNQ==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-04-25T15:52:26Z",
    "updated_at": "2017-04-25T15:52:26Z",
    "body": "Oh ideally we'd switch to serde, but I wouldn't really worry about it, it's not that important. Due to bootstrapping using serde in the compiler is difficult right now, unfortunately.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/297075825/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/297083718",
    "html_url": "https://github.com/rust-lang/rust/issues/21724#issuecomment-297083718",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21724",
    "id": 297083718,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5NzA4MzcxOA==",
    "user": {
      "login": "ranma42",
      "id": 1506030,
      "node_id": "MDQ6VXNlcjE1MDYwMzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1506030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ranma42",
      "html_url": "https://github.com/ranma42",
      "followers_url": "https://api.github.com/users/ranma42/followers",
      "following_url": "https://api.github.com/users/ranma42/following{/other_user}",
      "gists_url": "https://api.github.com/users/ranma42/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ranma42/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ranma42/subscriptions",
      "organizations_url": "https://api.github.com/users/ranma42/orgs",
      "repos_url": "https://api.github.com/users/ranma42/repos",
      "events_url": "https://api.github.com/users/ranma42/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ranma42/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-04-25T16:18:03Z",
    "updated_at": "2017-04-25T16:18:03Z",
    "body": "Then I will leave the manifest fields as `xz_url` and `xz_hash` for the time being and start updating rustup :)\r\nI have opened https://github.com/rust-lang/rust-installer/pull/57 and I was waiting for that to be merged before submitting the PR against rust, to update the submodule to the merge commit. Should I just open the new PR and then update it as needed?",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/297083718/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/303631978",
    "html_url": "https://github.com/rust-lang/rust/issues/21724#issuecomment-303631978",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21724",
    "id": 303631978,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMzYzMTk3OA==",
    "user": {
      "login": "ranma42",
      "id": 1506030,
      "node_id": "MDQ6VXNlcjE1MDYwMzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1506030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ranma42",
      "html_url": "https://github.com/ranma42",
      "followers_url": "https://api.github.com/users/ranma42/followers",
      "following_url": "https://api.github.com/users/ranma42/following{/other_user}",
      "gists_url": "https://api.github.com/users/ranma42/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ranma42/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ranma42/subscriptions",
      "organizations_url": "https://api.github.com/users/ranma42/orgs",
      "repos_url": "https://api.github.com/users/ranma42/repos",
      "events_url": "https://api.github.com/users/ranma42/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ranma42/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-05-24T06:39:50Z",
    "updated_at": "2017-05-24T06:39:50Z",
    "body": "The next version of rustup should include https://github.com/rust-lang-nursery/rustup.rs/pull/1100, hence it should use XZ by default (if available).",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/303631978/reactions",
      "total_count": 2,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 2,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/308260886",
    "html_url": "https://github.com/rust-lang/rust/issues/21724#issuecomment-308260886",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21724",
    "id": 308260886,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwODI2MDg4Ng==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-06-13T21:57:51Z",
    "updated_at": "2017-06-13T21:57:51Z",
    "body": "And rustup has now shipped!",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/308260886/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 1,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
