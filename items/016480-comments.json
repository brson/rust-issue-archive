[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/52349151",
    "html_url": "https://github.com/rust-lang/rust/issues/16480#issuecomment-52349151",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/16480",
    "id": 52349151,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyMzQ5MTUx",
    "user": {
      "login": "lilyball",
      "id": 714,
      "node_id": "MDQ6VXNlcjcxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/714?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lilyball",
      "html_url": "https://github.com/lilyball",
      "followers_url": "https://api.github.com/users/lilyball/followers",
      "following_url": "https://api.github.com/users/lilyball/following{/other_user}",
      "gists_url": "https://api.github.com/users/lilyball/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lilyball/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lilyball/subscriptions",
      "organizations_url": "https://api.github.com/users/lilyball/orgs",
      "repos_url": "https://api.github.com/users/lilyball/repos",
      "events_url": "https://api.github.com/users/lilyball/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lilyball/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-15T19:41:33Z",
    "updated_at": "2014-08-15T19:41:33Z",
    "body": "Two options:\n1. Disallow bare CRs everywhere, not just in string literals.\n2. Translate bare CRs into LFs outside of string literals (still disallow them inside).\n\nSaid translation would have to be done when printing the source and when determining where line breaks are (which I assume the span line has to do), because AFAIK the spans point into the original immutable source. If the source is actually mutable in memory, then you could replace bare CR with LF there and call it a day, but I'm guessing that's not feasible (I've never looked into the file map).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/52349151/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/52360396",
    "html_url": "https://github.com/rust-lang/rust/issues/16480#issuecomment-52360396",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/16480",
    "id": 52360396,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyMzYwMzk2",
    "user": {
      "login": "SiegeLord",
      "id": 480550,
      "node_id": "MDQ6VXNlcjQ4MDU1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/480550?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SiegeLord",
      "html_url": "https://github.com/SiegeLord",
      "followers_url": "https://api.github.com/users/SiegeLord/followers",
      "following_url": "https://api.github.com/users/SiegeLord/following{/other_user}",
      "gists_url": "https://api.github.com/users/SiegeLord/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SiegeLord/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SiegeLord/subscriptions",
      "organizations_url": "https://api.github.com/users/SiegeLord/orgs",
      "repos_url": "https://api.github.com/users/SiegeLord/repos",
      "events_url": "https://api.github.com/users/SiegeLord/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SiegeLord/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-15T21:34:19Z",
    "updated_at": "2014-08-15T21:35:36Z",
    "body": "Actually, CR isn't the only character that breaks error spans. E.g. a stray LS (U+2028) also leads to some span wonkiness. A non-committal solution would be to let things be from the language specification standpoint, and just replace all of these wonky whitespace characters with spaces for the purposes of error reporting.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/52360396/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/178848241",
    "html_url": "https://github.com/rust-lang/rust/issues/16480#issuecomment-178848241",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/16480",
    "id": 178848241,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3ODg0ODI0MQ==",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-02-02T21:58:47Z",
    "updated_at": "2016-02-02T21:58:47Z",
    "body": "Triage: no change.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/178848241/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/770344790",
    "html_url": "https://github.com/rust-lang/rust/issues/16480#issuecomment-770344790",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/16480",
    "id": 770344790,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3MDM0NDc5MA==",
    "user": {
      "login": "klensy",
      "id": 1782831,
      "node_id": "MDQ6VXNlcjE3ODI4MzE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1782831?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/klensy",
      "html_url": "https://github.com/klensy",
      "followers_url": "https://api.github.com/users/klensy/followers",
      "following_url": "https://api.github.com/users/klensy/following{/other_user}",
      "gists_url": "https://api.github.com/users/klensy/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/klensy/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/klensy/subscriptions",
      "organizations_url": "https://api.github.com/users/klensy/orgs",
      "repos_url": "https://api.github.com/users/klensy/repos",
      "events_url": "https://api.github.com/users/klensy/events{/privacy}",
      "received_events_url": "https://api.github.com/users/klensy/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2021-01-31T08:13:53Z",
    "updated_at": "2021-01-31T08:13:53Z",
    "body": "Still the same:\r\n`main.rs` with crlf or lf endings:\r\n```rust\r\nfn main() {\r\n    let a = 0;\r\n}\r\n```\r\n```\r\n$ rustc main.rs\r\nwarning: unused variable: `a`\r\n --> main.rs:2:9\r\n  |\r\n2 |     let a = 0;\r\n  |         ^ help: if this is intentional, prefix it with an underscore: `_a`\r\n  |\r\n  = note: `#[warn(unused_variables)]` on by default\r\n\r\nwarning: 1 warning emitted\r\n```\r\nsame, main.rs, but with cr endings:\r\n```\r\n$ rustc main.rs\r\nwarning: unused variable: `a`\r\n --> main.rs:1:21\r\n  |\r\n}   let a = 0;{\r\n  |                    ^ help: if this is intentional, prefix it with an underscore: `_a`\r\n  |\r\n  = note: `#[warn(unused_variables)]` on by default\r\n\r\nwarning: 1 warning emitted\r\n```\r\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/770344790/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1397310585",
    "html_url": "https://github.com/rust-lang/rust/issues/16480#issuecomment-1397310585",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/16480",
    "id": 1397310585,
    "node_id": "IC_kwDOAAsO6M5TSUR5",
    "user": {
      "login": "estebank",
      "id": 1606434,
      "node_id": "MDQ6VXNlcjE2MDY0MzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/estebank",
      "html_url": "https://github.com/estebank",
      "followers_url": "https://api.github.com/users/estebank/followers",
      "following_url": "https://api.github.com/users/estebank/following{/other_user}",
      "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/estebank/subscriptions",
      "organizations_url": "https://api.github.com/users/estebank/orgs",
      "repos_url": "https://api.github.com/users/estebank/repos",
      "events_url": "https://api.github.com/users/estebank/events{/privacy}",
      "received_events_url": "https://api.github.com/users/estebank/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2023-01-19T17:02:29Z",
    "updated_at": "2023-01-19T17:02:29Z",
    "body": "Since https://github.com/rust-lang/rust/pull/90462 we have [replacement machinery for arbitrary codepoints](https://github.com/rust-lang/rust/pull/90462/files#diff-a35029c589a6b5b002ecf598efb24d174232e719ecbc6f741a58eee8509cd6a5R2066-R2078) that we could use for this. At the very least it would be easy to replace these with ` ` (if replacement with `\\n` proves to require more extensive changes) to prevent further presentation issues quickly. At the same time, we should have a warn-by-default lint for these codepoints so that we can emit a targeted message about these codepoints with applicable suggestions.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/1397310585/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/2294002911",
    "html_url": "https://github.com/rust-lang/rust/issues/16480#issuecomment-2294002911",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/16480",
    "id": 2294002911,
    "node_id": "IC_kwDOAAsO6M6Iu7Tf",
    "user": {
      "login": "estebank",
      "id": 1606434,
      "node_id": "MDQ6VXNlcjE2MDY0MzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/estebank",
      "html_url": "https://github.com/estebank",
      "followers_url": "https://api.github.com/users/estebank/followers",
      "following_url": "https://api.github.com/users/estebank/following{/other_user}",
      "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/estebank/subscriptions",
      "organizations_url": "https://api.github.com/users/estebank/orgs",
      "repos_url": "https://api.github.com/users/estebank/repos",
      "events_url": "https://api.github.com/users/estebank/events{/privacy}",
      "received_events_url": "https://api.github.com/users/estebank/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2024-08-16T18:55:23Z",
    "updated_at": "2024-08-16T18:55:23Z",
    "body": "This was fixed by #127528.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/2294002911/reactions",
      "total_count": 2,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 2,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
