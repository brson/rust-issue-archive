[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/147699042",
    "html_url": "https://github.com/rust-lang/rust/issues/29019#issuecomment-147699042",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29019",
    "id": 147699042,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0NzY5OTA0Mg==",
    "user": {
      "login": "bluss",
      "id": 3209739,
      "node_id": "MDQ6VXNlcjMyMDk3Mzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3209739?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bluss",
      "html_url": "https://github.com/bluss",
      "followers_url": "https://api.github.com/users/bluss/followers",
      "following_url": "https://api.github.com/users/bluss/following{/other_user}",
      "gists_url": "https://api.github.com/users/bluss/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bluss/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bluss/subscriptions",
      "organizations_url": "https://api.github.com/users/bluss/orgs",
      "repos_url": "https://api.github.com/users/bluss/repos",
      "events_url": "https://api.github.com/users/bluss/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bluss/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-13T12:20:28Z",
    "updated_at": "2015-10-13T12:30:11Z",
    "body": "That alone does not make it safe to transmute. The allocation's alignment is computed from the element type, and that information is lost. (It's needed to deallocate).\n\nFurther, I'm not sure if this would be a cost free change, it would need an integer division / bit shift to compute the length for indexing and slicing. Edit: Ah, that's less of a concern maybe, since it's just the capacity. Capacity to length comparisons will have this extra computation though. (For example in Vec::push).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/147699042/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/147703246",
    "html_url": "https://github.com/rust-lang/rust/issues/29019#issuecomment-147703246",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29019",
    "id": 147703246,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0NzcwMzI0Ng==",
    "user": {
      "login": "Gankra",
      "id": 1136864,
      "node_id": "MDQ6VXNlcjExMzY4NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1136864?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Gankra",
      "html_url": "https://github.com/Gankra",
      "followers_url": "https://api.github.com/users/Gankra/followers",
      "following_url": "https://api.github.com/users/Gankra/following{/other_user}",
      "gists_url": "https://api.github.com/users/Gankra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Gankra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Gankra/subscriptions",
      "organizations_url": "https://api.github.com/users/Gankra/orgs",
      "repos_url": "https://api.github.com/users/Gankra/repos",
      "events_url": "https://api.github.com/users/Gankra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Gankra/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-13T12:38:06Z",
    "updated_at": "2015-10-13T12:38:06Z",
    "body": "I agree with @bluss' assessment. It's not sound (alignment matters for a couple reasons), and it would penalize \"normal\" code which doesn't really care about \"number of bytes\".\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/147703246/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/147707550",
    "html_url": "https://github.com/rust-lang/rust/issues/29019#issuecomment-147707550",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29019",
    "id": 147707550,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0NzcwNzU1MA==",
    "user": {
      "login": "srijs",
      "id": 2677165,
      "node_id": "MDQ6VXNlcjI2NzcxNjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2677165?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/srijs",
      "html_url": "https://github.com/srijs",
      "followers_url": "https://api.github.com/users/srijs/followers",
      "following_url": "https://api.github.com/users/srijs/following{/other_user}",
      "gists_url": "https://api.github.com/users/srijs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/srijs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/srijs/subscriptions",
      "organizations_url": "https://api.github.com/users/srijs/orgs",
      "repos_url": "https://api.github.com/users/srijs/repos",
      "events_url": "https://api.github.com/users/srijs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/srijs/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-13T13:00:21Z",
    "updated_at": "2015-10-13T13:02:10Z",
    "body": "I see, thank you both for the clarification about alignment.\n\nI guess I was too focussed on making the `Vec<Void>` case work, I should have been clear from the start that this was my main use-case.\n\nAssuming `size_of::<Void> == 0` (which should be true for an uninhabited data type?), I still find it inconvenient that the stored capacity would be usize max. Could this be something that could be checked on calls to things like `capacity` or `push`? Is my understanding correct that the compiler would be able to optimise that \"if-sizeof-zero\" statement away after the monomorphisation phase?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/147707550/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/147708066",
    "html_url": "https://github.com/rust-lang/rust/issues/29019#issuecomment-147708066",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29019",
    "id": 147708066,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0NzcwODA2Ng==",
    "user": {
      "login": "bluss",
      "id": 3209739,
      "node_id": "MDQ6VXNlcjMyMDk3Mzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3209739?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bluss",
      "html_url": "https://github.com/bluss",
      "followers_url": "https://api.github.com/users/bluss/followers",
      "following_url": "https://api.github.com/users/bluss/following{/other_user}",
      "gists_url": "https://api.github.com/users/bluss/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bluss/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bluss/subscriptions",
      "organizations_url": "https://api.github.com/users/bluss/orgs",
      "repos_url": "https://api.github.com/users/bluss/repos",
      "events_url": "https://api.github.com/users/bluss/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bluss/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-13T13:02:54Z",
    "updated_at": "2015-10-13T13:05:10Z",
    "body": "Transmuting from a vector with zero sized type (ZST) element doesn't give you much anyway. Vecs with ZST elements have no allocation, they are just a length counter! Just `Vec::new()` wins you the same. (Edit to clarify: `Vec::new()` does no allocation and has no runtime cost for any vector element type).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/147708066/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/147708792",
    "html_url": "https://github.com/rust-lang/rust/issues/29019#issuecomment-147708792",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29019",
    "id": 147708792,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0NzcwODc5Mg==",
    "user": {
      "login": "srijs",
      "id": 2677165,
      "node_id": "MDQ6VXNlcjI2NzcxNjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2677165?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/srijs",
      "html_url": "https://github.com/srijs",
      "followers_url": "https://api.github.com/users/srijs/followers",
      "following_url": "https://api.github.com/users/srijs/following{/other_user}",
      "gists_url": "https://api.github.com/users/srijs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/srijs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/srijs/subscriptions",
      "organizations_url": "https://api.github.com/users/srijs/orgs",
      "repos_url": "https://api.github.com/users/srijs/repos",
      "events_url": "https://api.github.com/users/srijs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/srijs/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-13T13:06:26Z",
    "updated_at": "2015-10-13T13:06:26Z",
    "body": "In my case I have a nested data-structure that contains the vectors at the leaves. It would be convenient if I could transmute the structure without having to traverse it.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/147708792/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/147710989",
    "html_url": "https://github.com/rust-lang/rust/issues/29019#issuecomment-147710989",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29019",
    "id": 147710989,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0NzcxMDk4OQ==",
    "user": {
      "login": "bluss",
      "id": 3209739,
      "node_id": "MDQ6VXNlcjMyMDk3Mzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3209739?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bluss",
      "html_url": "https://github.com/bluss",
      "followers_url": "https://api.github.com/users/bluss/followers",
      "following_url": "https://api.github.com/users/bluss/following{/other_user}",
      "gists_url": "https://api.github.com/users/bluss/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bluss/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bluss/subscriptions",
      "organizations_url": "https://api.github.com/users/bluss/orgs",
      "repos_url": "https://api.github.com/users/bluss/repos",
      "events_url": "https://api.github.com/users/bluss/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bluss/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-13T13:16:48Z",
    "updated_at": "2015-10-13T13:16:48Z",
    "body": "Yes, branches on the size of the type parameter are of course compiled out like that.\n\nIt sounds pretty reasonable to request that the stored capacity for the ZST case should be 0. That way all empty, zero capacity, and all non-empty RawVec with ZST elements can be transmuted to another.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/147710989/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/147712240",
    "html_url": "https://github.com/rust-lang/rust/issues/29019#issuecomment-147712240",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29019",
    "id": 147712240,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0NzcxMjI0MA==",
    "user": {
      "login": "bluss",
      "id": 3209739,
      "node_id": "MDQ6VXNlcjMyMDk3Mzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3209739?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bluss",
      "html_url": "https://github.com/bluss",
      "followers_url": "https://api.github.com/users/bluss/followers",
      "following_url": "https://api.github.com/users/bluss/following{/other_user}",
      "gists_url": "https://api.github.com/users/bluss/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bluss/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bluss/subscriptions",
      "organizations_url": "https://api.github.com/users/bluss/orgs",
      "repos_url": "https://api.github.com/users/bluss/repos",
      "events_url": "https://api.github.com/users/bluss/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bluss/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-13T13:22:33Z",
    "updated_at": "2015-10-13T13:22:43Z",
    "body": "Isn't it reasonable that we fix this up for consistency anyway? `Vec::new()` and `Vec::with_capacity(0)` produce different internal values, (but will report the same value in `capacity()`).\n\n``` rust\nfn as_bytes<T: ?Sized>(x: &T) -> &[u8] {\n  unsafe {\n    std::slice::from_raw_parts(x as *const  T as *const u8, std::mem::size_of_val(x))\n  }\n}\n\n> as_bytes(&Vec::<()>::new())\n[1, 0, 0, 0, 0, 0, 0, 0, 255, 255, 255, 255, 255, 255, 255, 255, 0, 0, 0, 0, 0, 0, 0, 0]\n\n> as_bytes(&Vec::<()>::with_capacity(0))\n[1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]\n\n> as_bytes(&Vec::<()>::with_capacity(1))\n[1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/147712240/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/147715341",
    "html_url": "https://github.com/rust-lang/rust/issues/29019#issuecomment-147715341",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29019",
    "id": 147715341,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0NzcxNTM0MQ==",
    "user": {
      "login": "Gankra",
      "id": 1136864,
      "node_id": "MDQ6VXNlcjExMzY4NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1136864?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Gankra",
      "html_url": "https://github.com/Gankra",
      "followers_url": "https://api.github.com/users/Gankra/followers",
      "following_url": "https://api.github.com/users/Gankra/following{/other_user}",
      "gists_url": "https://api.github.com/users/Gankra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Gankra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Gankra/subscriptions",
      "organizations_url": "https://api.github.com/users/Gankra/orgs",
      "repos_url": "https://api.github.com/users/Gankra/repos",
      "events_url": "https://api.github.com/users/Gankra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Gankra/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-13T13:33:14Z",
    "updated_at": "2015-10-13T13:33:14Z",
    "body": "I believe the inconsistency is an artifact of changing internal design to support zero-sized slices\n\n`Box<[()]> -> Vec<()> -> Box<[()]>`\n\nPresumably RawVec's `new` ctor can be changed to set the internal cap to `0` perfectly fine. \n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/147715341/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/147715386",
    "html_url": "https://github.com/rust-lang/rust/issues/29019#issuecomment-147715386",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29019",
    "id": 147715386,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0NzcxNTM4Ng==",
    "user": {
      "login": "srijs",
      "id": 2677165,
      "node_id": "MDQ6VXNlcjI2NzcxNjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2677165?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/srijs",
      "html_url": "https://github.com/srijs",
      "followers_url": "https://api.github.com/users/srijs/followers",
      "following_url": "https://api.github.com/users/srijs/following{/other_user}",
      "gists_url": "https://api.github.com/users/srijs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/srijs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/srijs/subscriptions",
      "organizations_url": "https://api.github.com/users/srijs/orgs",
      "repos_url": "https://api.github.com/users/srijs/repos",
      "events_url": "https://api.github.com/users/srijs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/srijs/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-13T13:33:25Z",
    "updated_at": "2015-10-13T13:38:07Z",
    "body": "That sounds good.\n\nTo guarantee that a vector can only be empty via `Vec<Void>` is a powerful thing to be able to express on a type level. It feels like enabling that bit of static safety plus a low-cost conversion is in the spirit of the Rust language.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/147715386/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/147722041",
    "html_url": "https://github.com/rust-lang/rust/issues/29019#issuecomment-147722041",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29019",
    "id": 147722041,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0NzcyMjA0MQ==",
    "user": {
      "login": "Gankra",
      "id": 1136864,
      "node_id": "MDQ6VXNlcjExMzY4NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1136864?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Gankra",
      "html_url": "https://github.com/Gankra",
      "followers_url": "https://api.github.com/users/Gankra/followers",
      "following_url": "https://api.github.com/users/Gankra/following{/other_user}",
      "gists_url": "https://api.github.com/users/Gankra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Gankra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Gankra/subscriptions",
      "organizations_url": "https://api.github.com/users/Gankra/orgs",
      "repos_url": "https://api.github.com/users/Gankra/repos",
      "events_url": "https://api.github.com/users/Gankra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Gankra/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-13T13:53:17Z",
    "updated_at": "2015-10-13T13:53:17Z",
    "body": "@srijs what do you mean by \"empty\"? I don't understand the safety/cost argument.\n\nI'm pretty wary of you transmuting anything; everything you're describing is Undefined Behaviour as far as I know (but Rust doesn't currently abuse that behaviour).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/147722041/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/147725778",
    "html_url": "https://github.com/rust-lang/rust/issues/29019#issuecomment-147725778",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29019",
    "id": 147725778,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0NzcyNTc3OA==",
    "user": {
      "login": "srijs",
      "id": 2677165,
      "node_id": "MDQ6VXNlcjI2NzcxNjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2677165?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/srijs",
      "html_url": "https://github.com/srijs",
      "followers_url": "https://api.github.com/users/srijs/followers",
      "following_url": "https://api.github.com/users/srijs/following{/other_user}",
      "gists_url": "https://api.github.com/users/srijs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/srijs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/srijs/subscriptions",
      "organizations_url": "https://api.github.com/users/srijs/orgs",
      "repos_url": "https://api.github.com/users/srijs/repos",
      "events_url": "https://api.github.com/users/srijs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/srijs/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-13T14:08:43Z",
    "updated_at": "2015-10-13T14:45:23Z",
    "body": "@Gankro it is an inherent property of an uninhabited type that you can guarantee certain things about containers that are parameterised by it.\n\nFor instance, an `Option<Void>` can only be `None`, since `Some(Void)` is impossible to construct. The same is true for a `Vec<Void>` which is guaranteed to have length zero because a call to `push`, for example, would require a value of type `Void`.\n\nYou can then go a step further and say that you can convert a type that has Void in the position of a covariant type parameter such that you replace `Void` by any type `T`. This is possible because you can be certain that some variants of the data type can't exist, such as `Some` in the above example.\n\nA perfectly good thing to do is thus:\n\n```\nfn vacuous<A>(o: Option<Void>) -> Option<A> {\n    match self {\n        None => None,\n        _ => unreachable!()\n    }\n}\n```\n\nI am aware that I might be lacking some knowledge in this area, which is why I am asking about things and I surely will not try to use these tricks in production code with my current level of knowledge.\n\nCould you describe what would constitute undefined behaviour when transmuting a vector from void (at which point the internal pointer is `heap::EMPTY`, and the length must be zero) to a vector of another type? -- assuming the capacity would be zero as well, and not usize max\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/147725778/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/147736770",
    "html_url": "https://github.com/rust-lang/rust/issues/29019#issuecomment-147736770",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29019",
    "id": 147736770,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0NzczNjc3MA==",
    "user": {
      "login": "Gankra",
      "id": 1136864,
      "node_id": "MDQ6VXNlcjExMzY4NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1136864?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Gankra",
      "html_url": "https://github.com/Gankra",
      "followers_url": "https://api.github.com/users/Gankra/followers",
      "following_url": "https://api.github.com/users/Gankra/following{/other_user}",
      "gists_url": "https://api.github.com/users/Gankra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Gankra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Gankra/subscriptions",
      "organizations_url": "https://api.github.com/users/Gankra/orgs",
      "repos_url": "https://api.github.com/users/Gankra/repos",
      "events_url": "https://api.github.com/users/Gankra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Gankra/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-13T14:43:46Z",
    "updated_at": "2015-10-13T14:45:24Z",
    "body": "@srijs Rust doesn't guarantee that `Vec<T>` and `Vec<U>` have the same field ordering (though there is no reason why they wouldn't -- it's just something we've agreed to leave out).\n\nTo safely transmute, you have to be working with `repr(C)` or primitive types (&, i32, bool, ...).\n\nhttps://doc.rust-lang.org/nightly/nomicon/repr-rust.html\n\nhttps://doc.rust-lang.org/nightly/nomicon/transmutes.html\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/147736770/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/152320870",
    "html_url": "https://github.com/rust-lang/rust/issues/29019#issuecomment-152320870",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29019",
    "id": 152320870,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MjMyMDg3MA==",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-29T20:55:14Z",
    "updated_at": "2015-10-29T20:55:14Z",
    "body": "So... it doesn't seem like there's a bug here?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/152320870/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/152336440",
    "html_url": "https://github.com/rust-lang/rust/issues/29019#issuecomment-152336440",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29019",
    "id": 152336440,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MjMzNjQ0MA==",
    "user": {
      "login": "Gankra",
      "id": 1136864,
      "node_id": "MDQ6VXNlcjExMzY4NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1136864?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Gankra",
      "html_url": "https://github.com/Gankra",
      "followers_url": "https://api.github.com/users/Gankra/followers",
      "following_url": "https://api.github.com/users/Gankra/following{/other_user}",
      "gists_url": "https://api.github.com/users/Gankra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Gankra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Gankra/subscriptions",
      "organizations_url": "https://api.github.com/users/Gankra/orgs",
      "repos_url": "https://api.github.com/users/Gankra/repos",
      "events_url": "https://api.github.com/users/Gankra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Gankra/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-10-29T21:40:59Z",
    "updated_at": "2015-10-29T21:40:59Z",
    "body": "Ageed.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/152336440/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
