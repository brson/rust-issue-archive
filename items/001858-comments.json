[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/8113196",
    "html_url": "https://github.com/rust-lang/rust/issues/1858#issuecomment-8113196",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/1858",
    "id": 8113196,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgxMTMxOTY=",
    "user": {
      "login": "bblum",
      "id": 1820515,
      "node_id": "MDQ6VXNlcjE4MjA1MTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1820515?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bblum",
      "html_url": "https://github.com/bblum",
      "followers_url": "https://api.github.com/users/bblum/followers",
      "following_url": "https://api.github.com/users/bblum/following{/other_user}",
      "gists_url": "https://api.github.com/users/bblum/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bblum/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bblum/subscriptions",
      "organizations_url": "https://api.github.com/users/bblum/orgs",
      "repos_url": "https://api.github.com/users/bblum/repos",
      "events_url": "https://api.github.com/users/bblum/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bblum/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-08-29T01:57:07Z",
    "updated_at": "2012-08-29T01:59:38Z",
    "body": "I was talking with an older researcher friend today at a phd orientation potluck, who knows things about arm, and it seems there will be substantial challenges beyond just writing some new assembly code.\n\ntwo issues on my mind; i am sure there are more:\n- non-coherent memory when using `send()` (and perhaps in the task spawn path too, but super-likely to be problematic with pipes). you write into the buffer and set the flag, but the other thread can see the flag set before the buffer is initialised. an easy fix would be to insert memory barriers, but it might be worth investigating more clever ways of doing it, to recoup performance.\n- atomic intrinsics are no longer so guaranteed. since (cmp)xchg are implemented in terms of ll/sc, there's an extra possibility for failure -- for example, you can get _paged out to disk_ in the middle of an ll/sc, and then the sc will fail even though no other thread interfered. this is super-obviously-wrong in the case of `arc::unwrap`'s implementation (it uses cmpxchg to ensure only one task can get into the unwrap path), and I bet that the use of naked `xchg`s in pipes might need similar reworking.\n\n(and, of course, probably an entire audit of the concurrency libraries would be prudent...)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/8113196/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/8113609",
    "html_url": "https://github.com/rust-lang/rust/issues/1858#issuecomment-8113609",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/1858",
    "id": 8113609,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgxMTM2MDk=",
    "user": {
      "login": "bblum",
      "id": 1820515,
      "node_id": "MDQ6VXNlcjE4MjA1MTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1820515?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bblum",
      "html_url": "https://github.com/bblum",
      "followers_url": "https://api.github.com/users/bblum/followers",
      "following_url": "https://api.github.com/users/bblum/following{/other_user}",
      "gists_url": "https://api.github.com/users/bblum/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bblum/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bblum/subscriptions",
      "organizations_url": "https://api.github.com/users/bblum/orgs",
      "repos_url": "https://api.github.com/users/bblum/repos",
      "events_url": "https://api.github.com/users/bblum/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bblum/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-08-29T02:25:15Z",
    "updated_at": "2012-08-29T02:31:08Z",
    "body": "now that I think about it, I believe it shouldn't be too hard to write a cmpxchg wrapper with ll/sc that is capable of distinguishing failure modes should not be too hard. so in the case of `arc::unwrap`, which is much like trylock.\n\nwhat used to be:\n\n```\nlet my_data = ~new_unwrapper_data();\nif cmpxchg(&mut unwrapper_data, my_data, 0) {\n    // success path\n} else {\n    fail ~\"another task is already unwrapping\"\n}\n```\n\nbecomes (of course this should be wrapped, not open-coded):\n\n```\nlet my_data = ~new_unwrapper_data();\nloop {\n    let oldval = load_linked(&mut unwrap_data);\n    if oldval != 0 {\n        fail ~\"another task is already unwrapping\"\n    }\n    if store_conditional(&mut unwrap_data, my_data) {\n        // success path\n    }\n    // got interrupted / swapped out? keep trying\n}\n```\n\nalso, @eholk believes that llvm provides the correct semantics for xchg intrinsics already for the given architecture.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/8113609/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/13065960",
    "html_url": "https://github.com/rust-lang/rust/issues/1858#issuecomment-13065960",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/1858",
    "id": 13065960,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMDY1OTYw",
    "user": {
      "login": "kud1ing",
      "id": 391975,
      "node_id": "MDQ6VXNlcjM5MTk3NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/391975?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kud1ing",
      "html_url": "https://github.com/kud1ing",
      "followers_url": "https://api.github.com/users/kud1ing/followers",
      "following_url": "https://api.github.com/users/kud1ing/following{/other_user}",
      "gists_url": "https://api.github.com/users/kud1ing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kud1ing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kud1ing/subscriptions",
      "organizations_url": "https://api.github.com/users/kud1ing/orgs",
      "repos_url": "https://api.github.com/users/kud1ing/repos",
      "events_url": "https://api.github.com/users/kud1ing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kud1ing/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-02-04T08:14:13Z",
    "updated_at": "2013-02-04T08:14:13Z",
    "body": "See the Android tickets: https://github.com/mozilla/rust/issues?labels=A-android&page=1&state=open\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/13065960/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/16424258",
    "html_url": "https://github.com/rust-lang/rust/issues/1858#issuecomment-16424258",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/1858",
    "id": 16424258,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2NDI0MjU4",
    "user": {
      "login": "sanxiyn",
      "id": 45249,
      "node_id": "MDQ6VXNlcjQ1MjQ5",
      "avatar_url": "https://avatars.githubusercontent.com/u/45249?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sanxiyn",
      "html_url": "https://github.com/sanxiyn",
      "followers_url": "https://api.github.com/users/sanxiyn/followers",
      "following_url": "https://api.github.com/users/sanxiyn/following{/other_user}",
      "gists_url": "https://api.github.com/users/sanxiyn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sanxiyn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sanxiyn/subscriptions",
      "organizations_url": "https://api.github.com/users/sanxiyn/orgs",
      "repos_url": "https://api.github.com/users/sanxiyn/repos",
      "events_url": "https://api.github.com/users/sanxiyn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sanxiyn/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-04-16T03:04:57Z",
    "updated_at": "2013-04-16T03:04:57Z",
    "body": "I consider this done.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/16424258/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/16437932",
    "html_url": "https://github.com/rust-lang/rust/issues/1858#issuecomment-16437932",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/1858",
    "id": 16437932,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2NDM3OTMy",
    "user": {
      "login": "radare",
      "id": 917142,
      "node_id": "MDQ6VXNlcjkxNzE0Mg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/917142?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/radare",
      "html_url": "https://github.com/radare",
      "followers_url": "https://api.github.com/users/radare/followers",
      "following_url": "https://api.github.com/users/radare/following{/other_user}",
      "gists_url": "https://api.github.com/users/radare/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/radare/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/radare/subscriptions",
      "organizations_url": "https://api.github.com/users/radare/orgs",
      "repos_url": "https://api.github.com/users/radare/repos",
      "events_url": "https://api.github.com/users/radare/events{/privacy}",
      "received_events_url": "https://api.github.com/users/radare/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-04-16T10:48:25Z",
    "updated_at": "2013-04-16T10:48:25Z",
    "body": "android is not the only ARM target. i would love to use rust on rpi, should this bug be reopened to support arm-linux-gnueabihf triplet targets? it shouldn't be too much different from android and will be more generic.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/16437932/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/16438043",
    "html_url": "https://github.com/rust-lang/rust/issues/1858#issuecomment-16438043",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/1858",
    "id": 16438043,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2NDM4MDQz",
    "user": {
      "login": "thestinger",
      "id": 1505226,
      "node_id": "MDQ6VXNlcjE1MDUyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thestinger",
      "html_url": "https://github.com/thestinger",
      "followers_url": "https://api.github.com/users/thestinger/followers",
      "following_url": "https://api.github.com/users/thestinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions",
      "organizations_url": "https://api.github.com/users/thestinger/orgs",
      "repos_url": "https://api.github.com/users/thestinger/repos",
      "events_url": "https://api.github.com/users/thestinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thestinger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-04-16T10:51:53Z",
    "updated_at": "2013-04-16T10:51:53Z",
    "body": "@radare: I think that should be a new issue, since the port to the ARM architecture itself is done and it would probably just involve build system tweaks to add other triplet targets.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/16438043/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/16438210",
    "html_url": "https://github.com/rust-lang/rust/issues/1858#issuecomment-16438210",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/1858",
    "id": 16438210,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2NDM4MjEw",
    "user": {
      "login": "radare",
      "id": 917142,
      "node_id": "MDQ6VXNlcjkxNzE0Mg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/917142?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/radare",
      "html_url": "https://github.com/radare",
      "followers_url": "https://api.github.com/users/radare/followers",
      "following_url": "https://api.github.com/users/radare/following{/other_user}",
      "gists_url": "https://api.github.com/users/radare/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/radare/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/radare/subscriptions",
      "organizations_url": "https://api.github.com/users/radare/orgs",
      "repos_url": "https://api.github.com/users/radare/repos",
      "events_url": "https://api.github.com/users/radare/events{/privacy}",
      "received_events_url": "https://api.github.com/users/radare/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-04-16T10:57:47Z",
    "updated_at": "2013-04-16T10:57:47Z",
    "body": "Done https://github.com/mozilla/rust/issues/5903\n\nOn 04/16/13 12:52, Daniel Micay wrote:\n\n> @radare https://github.com/radare: I think that should be a new \n> issue, since the port to the ARM architecture itself is done and it \n> would probably just involve build system tweaks to add other triplet \n> targets.\n> \n> \u2014\n> Reply to this email directly or view it on GitHub \n> https://github.com/mozilla/rust/issues/1858#issuecomment-16438043.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/16438210/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/17336965",
    "html_url": "https://github.com/rust-lang/rust/issues/1858#issuecomment-17336965",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/1858",
    "id": 17336965,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MzM2OTY1",
    "user": {
      "login": "frogshead",
      "id": 1188599,
      "node_id": "MDQ6VXNlcjExODg1OTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1188599?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/frogshead",
      "html_url": "https://github.com/frogshead",
      "followers_url": "https://api.github.com/users/frogshead/followers",
      "following_url": "https://api.github.com/users/frogshead/following{/other_user}",
      "gists_url": "https://api.github.com/users/frogshead/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/frogshead/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/frogshead/subscriptions",
      "organizations_url": "https://api.github.com/users/frogshead/orgs",
      "repos_url": "https://api.github.com/users/frogshead/repos",
      "events_url": "https://api.github.com/users/frogshead/events{/privacy}",
      "received_events_url": "https://api.github.com/users/frogshead/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-05-02T13:13:07Z",
    "updated_at": "2013-05-02T13:13:07Z",
    "body": "---- alkuper\u00e4inen viesti ----\nL\u00e4hett\u00e4j\u00e4: Daniel Micay\nL\u00e4hetetty:  16-04-2013, 13:52 \nVastaanottaja: mozilla/rust\nAihe: Re: [rust] Port to ARM (#1858)\n\n@radare: I think that should be a new issue, since the port to the ARM architecture itself is done and it would probably just involve build system tweaks to add other triplet targets.\n\n---\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/mozilla/rust/issues/1858#issuecomment-16438043\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/17336965/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
