[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/114008699",
    "html_url": "https://github.com/rust-lang/rust/pull/26493#issuecomment-114008699",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26493",
    "id": 114008699,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExNDAwODY5OQ==",
    "user": {
      "login": "rust-highfive",
      "id": 7378925,
      "node_id": "MDQ6VXNlcjczNzg5MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7378925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rust-highfive",
      "html_url": "https://github.com/rust-highfive",
      "followers_url": "https://api.github.com/users/rust-highfive/followers",
      "following_url": "https://api.github.com/users/rust-highfive/following{/other_user}",
      "gists_url": "https://api.github.com/users/rust-highfive/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rust-highfive/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rust-highfive/subscriptions",
      "organizations_url": "https://api.github.com/users/rust-highfive/orgs",
      "repos_url": "https://api.github.com/users/rust-highfive/repos",
      "events_url": "https://api.github.com/users/rust-highfive/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rust-highfive/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-06-22T05:18:37Z",
    "updated_at": "2015-06-22T05:18:37Z",
    "body": "Thanks for the pull request, and welcome! The Rust team is excited to review your changes, and you should hear from @alexcrichton (or someone else) soon.\n\nIf any changes to this PR are deemed necessary, please add them as extra commits. This ensures that the reviewer can see what has changed since they last reviewed the code. The way Github handles out-of-date commits, this should also make it reasonably obvious what issues have or haven't been addressed. Large or tricky changes may require several passes of review and changes.\n\nPlease see [the contribution instructions](https://github.com/rust-lang/rust/blob/master/CONTRIBUTING.md) for more information.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/114008699/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/114009489",
    "html_url": "https://github.com/rust-lang/rust/pull/26493#issuecomment-114009489",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26493",
    "id": 114009489,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExNDAwOTQ4OQ==",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-06-22T05:25:53Z",
    "updated_at": "2015-06-22T05:25:53Z",
    "body": "neat! :\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/114009489/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/114021572",
    "html_url": "https://github.com/rust-lang/rust/pull/26493#issuecomment-114021572",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26493",
    "id": 114021572,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExNDAyMTU3Mg==",
    "user": {
      "login": "retep998",
      "id": 666308,
      "node_id": "MDQ6VXNlcjY2NjMwOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/666308?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/retep998",
      "html_url": "https://github.com/retep998",
      "followers_url": "https://api.github.com/users/retep998/followers",
      "following_url": "https://api.github.com/users/retep998/following{/other_user}",
      "gists_url": "https://api.github.com/users/retep998/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/retep998/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/retep998/subscriptions",
      "organizations_url": "https://api.github.com/users/retep998/orgs",
      "repos_url": "https://api.github.com/users/retep998/repos",
      "events_url": "https://api.github.com/users/retep998/events{/privacy}",
      "received_events_url": "https://api.github.com/users/retep998/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-06-22T06:43:54Z",
    "updated_at": "2015-06-22T06:43:54Z",
    "body": "Whoa.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/114021572/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/114060172",
    "html_url": "https://github.com/rust-lang/rust/pull/26493#issuecomment-114060172",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26493",
    "id": 114060172,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExNDA2MDE3Mg==",
    "user": {
      "login": "petrochenkov",
      "id": 5751617,
      "node_id": "MDQ6VXNlcjU3NTE2MTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5751617?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/petrochenkov",
      "html_url": "https://github.com/petrochenkov",
      "followers_url": "https://api.github.com/users/petrochenkov/followers",
      "following_url": "https://api.github.com/users/petrochenkov/following{/other_user}",
      "gists_url": "https://api.github.com/users/petrochenkov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/petrochenkov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/petrochenkov/subscriptions",
      "organizations_url": "https://api.github.com/users/petrochenkov/orgs",
      "repos_url": "https://api.github.com/users/petrochenkov/repos",
      "events_url": "https://api.github.com/users/petrochenkov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/petrochenkov/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-06-22T10:29:22Z",
    "updated_at": "2015-06-22T10:30:19Z",
    "body": "Wow!\nI expected that item in https://github.com/rust-lang/rfcs/issues/1061 to be resolved with good old CMake (+Ninja), like LLVM does.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/114060172/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/114636826",
    "html_url": "https://github.com/rust-lang/rust/pull/26493#issuecomment-114636826",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26493",
    "id": 114636826,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExNDYzNjgyNg==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-06-23T20:46:27Z",
    "updated_at": "2015-06-23T20:46:27Z",
    "body": "Whoa! @brson and I have long wanted to do something like this, and it's quite interesting to see this PR!\n\nBefore I go too much into reviewing this, I wanted to talk a bit about the high-level points here. The motivation for doing this, building on Windows without MinGW, is certainly quite admirable, but this is quite a heavy hammer to fix that problem. Currently we've got MSVC builds working from an MSYS shell, and while awkward, it's only required for building Rust itself, not Rust projects at large (thanks to Cargo). That being said, however, the point of hacking on the build system most certainly rings true to me as the Makefiles are impenetrable.\n\nOverall, I don't think that we want to plan on maintaining two build systems in this repository. I personally would be quite hesitant to have an _unsupported_ build system in the repo (but one official one on the side). The two will inevitably drift apart and it'll be unclear of which one should be used over the other. If we want to add a _new_ build system then we'll definitely want to have both in-tree for some time (to debug and have an easy fallback if it doesn't work), but the current makefiles would definitely be slated for deletion at that point.\n\nIn terms of architecture, this will also be the second major build system for building Rust code written in Rust (the first being Cargo itself), and it's somewhat unfortunate to have this duplication. The limitations you've listed of lacking documentation, testing, cross compiling, and parallel builds are often fundamental changes (or so I've found through Cargo) and can significantly complicate the build system. We've typically thought in the past that if we're going to pursue this that we'll try to use Cargo itself to build the code in this repository so we wouldn't have to maintain two separate systems for building Rust code.\n\nCoincidentally, I've been dabbling recently in building the compiler with Cargo (much of the work inspired by @japaric's [std-with-cargo](https://github.com/japaric/std-with-cargo) project), and you can see [my branch for these changes as well](https://github.com/alexcrichton/rust/tree/build-with-cargo). I will probably not be actively pursuing this any time soon, however (as in I won't be stepping on your toes any time soon)\n\n---\n\nIn summary, I think there's a few fundamental drawbacks of this patch in its current form that we may want to resolve before merging:\n- Having a duplicate build system I believe will only work out if we plan on deleting the original build system ASAP.\n- Having a duplicate build system for Rust code (the other being Cargo) will likely just end up with the two projects just converging one day so it may be best to work with Cargo itself\n\nSome more minor points I'm also concerned about are:\n- It doesn't look like there's an automated way to download a Cargo binary to run the `build_rust` executable\n- The lack of features like parallel compilation, cross compilation, tests, and documentation will prevent this from replacing the current build system.\n\nDespite all this, however, I would absolutely love to help push this through! We stand to recover a _significant_ amount of technical debt through using Cargo:\n- No more Makefile madness -- aka hacking the \"build system\" will be _much_ easier.\n- MSVC can be supported as `make` and other Unix utilities won't be necessary.\n- Leveraging a standard tool for building Rust code to build the compiler will only inevitably improve Cargo itself\n- Leveraging Cargo will easily allow crates to move in and out of the Rust repository as well as allowing rustc to depend on crates.io (or publish these crates on crates.io)\n- Using build scripts to handle native dependencies will greatly modularize how they're built and make it very easy to script and/or modify their builds.\n- Cross compiling the compiler will be _much_ easier\n\nAnd I'm sure I'm missing a few! These benefits are so nice to have that I'm more than willing to help out in any way with this!\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/114636826/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/115071233",
    "html_url": "https://github.com/rust-lang/rust/pull/26493#issuecomment-115071233",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26493",
    "id": 115071233,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExNTA3MTIzMw==",
    "user": {
      "login": "cl91",
      "id": 3608694,
      "node_id": "MDQ6VXNlcjM2MDg2OTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3608694?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cl91",
      "html_url": "https://github.com/cl91",
      "followers_url": "https://api.github.com/users/cl91/followers",
      "following_url": "https://api.github.com/users/cl91/following{/other_user}",
      "gists_url": "https://api.github.com/users/cl91/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cl91/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cl91/subscriptions",
      "organizations_url": "https://api.github.com/users/cl91/orgs",
      "repos_url": "https://api.github.com/users/cl91/repos",
      "events_url": "https://api.github.com/users/cl91/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cl91/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-06-25T02:08:24Z",
    "updated_at": "2015-06-25T02:08:24Z",
    "body": "Yes these are good points. I agree this may not be in a state to be merged as it lacks several useful features and this adds maintenance burdens to support two build systems while one matures.\n\nPart of my original plan was to re-use Cargo as much as possible (especially when it comes to parallel jobs as dependencies will be taken care of), though I haven't started implementing this as there are non-trivial steps, such as building LLVM and runtime libraries, which are outside of Cargo's scope (also the problem of bootstrapping which I'm not sure if Cargo handles this out-of-box). Therefore I wanted to look into these issues first and to make sure that they are not tied to the current Makefile-based system in any fundamental way, and that it is indeed possible to implement a standalone build system that does not rely on Makefiles at all.\n\nI'm closing this for now and will reopen/resubmit.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/115071233/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/115074664",
    "html_url": "https://github.com/rust-lang/rust/pull/26493#issuecomment-115074664",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26493",
    "id": 115074664,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExNTA3NDY2NA==",
    "user": {
      "login": "eddyb",
      "id": 77424,
      "node_id": "MDQ6VXNlcjc3NDI0",
      "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eddyb",
      "html_url": "https://github.com/eddyb",
      "followers_url": "https://api.github.com/users/eddyb/followers",
      "following_url": "https://api.github.com/users/eddyb/following{/other_user}",
      "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions",
      "organizations_url": "https://api.github.com/users/eddyb/orgs",
      "repos_url": "https://api.github.com/users/eddyb/repos",
      "events_url": "https://api.github.com/users/eddyb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eddyb/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-06-25T02:27:15Z",
    "updated_at": "2015-06-25T02:27:15Z",
    "body": "@cl91 I think it might be possible to use cargo's own snapshots for bootstrapping rustc (without building cargo at all in the process, just using the snapshot).\nBuilding native dependencies is usually done by a cargo build script, which is what your `build_rust` tool looks like (though your code does more than a simple build script).\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/115074664/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/115120534",
    "html_url": "https://github.com/rust-lang/rust/pull/26493#issuecomment-115120534",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26493",
    "id": 115120534,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExNTEyMDUzNA==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-06-25T06:13:47Z",
    "updated_at": "2015-06-25T06:13:47Z",
    "body": "@cl91 ok, and feel free to ask me any questions! At a high level, here's what I'm thinking:\n- We're going to have a top-level script driving Cargo, probably written in python. This script will handle cross compilation (how to call cargo) and how to call cargo in parallel. \n- LLVM will be built ahead of time (not as part of a build script) by the driver script because some of the tools in the standard library and such need to use the LLVM tools (e.g. `llc`) to generate an object. This also makes building `rustc_llvm` somewhat reasonable.\n- We'll use Cargo and Rust nightlies (instead of snapshots) as @eddyb mentioned\n\nDepending on how complicated the driver script is we could write it in Rust (and just have a tiny amount of python to call that Rust and run it), but having a somewhat significant portion of the build system written in Python isn't necessarily the end of the world!\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/115120534/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/115203841",
    "html_url": "https://github.com/rust-lang/rust/pull/26493#issuecomment-115203841",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26493",
    "id": 115203841,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExNTIwMzg0MQ==",
    "user": {
      "login": "cl91",
      "id": 3608694,
      "node_id": "MDQ6VXNlcjM2MDg2OTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3608694?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cl91",
      "html_url": "https://github.com/cl91",
      "followers_url": "https://api.github.com/users/cl91/followers",
      "following_url": "https://api.github.com/users/cl91/following{/other_user}",
      "gists_url": "https://api.github.com/users/cl91/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cl91/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cl91/subscriptions",
      "organizations_url": "https://api.github.com/users/cl91/orgs",
      "repos_url": "https://api.github.com/users/cl91/repos",
      "events_url": "https://api.github.com/users/cl91/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cl91/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-06-25T10:31:25Z",
    "updated_at": "2015-06-25T10:31:25Z",
    "body": "> Depending on how complicated the driver script is we could write it in Rust\n\nYes this is what this patch currently does (to a large extend). It parses command line arguments, checks build prerequisites, invokes cmake to configure and build LLVM, and invokes c/c++ toolchain to build runtime libraries, etc. (the last one should probably be converted into a Cargo build script once we cargo-ify the crates). So I've got the driver script part basically sorted out.\n\nAfter finishing all these steps the script simply invokes rustc to compile all the crates. That's why it can't do parallel builds because dependency information is missing. By cargo-ifying the crates we can have cargo do all the heavylifting of computing dependencies/passing the right arguments to rustc/etc...  This is what I'll be looking into next.\n\nThis patch builds with Rust 1.0, so we shouldn't need nightly to run the driver script itself (we still need nightly rustc/cargo for compiling the crates).\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/115203841/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/116376512",
    "html_url": "https://github.com/rust-lang/rust/pull/26493#issuecomment-116376512",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26493",
    "id": 116376512,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExNjM3NjUxMg==",
    "user": {
      "login": "cl91",
      "id": 3608694,
      "node_id": "MDQ6VXNlcjM2MDg2OTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3608694?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cl91",
      "html_url": "https://github.com/cl91",
      "followers_url": "https://api.github.com/users/cl91/followers",
      "following_url": "https://api.github.com/users/cl91/following{/other_user}",
      "gists_url": "https://api.github.com/users/cl91/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cl91/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cl91/subscriptions",
      "organizations_url": "https://api.github.com/users/cl91/orgs",
      "repos_url": "https://api.github.com/users/cl91/repos",
      "events_url": "https://api.github.com/users/cl91/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cl91/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-06-29T02:05:42Z",
    "updated_at": "2015-06-29T02:05:42Z",
    "body": "@alexcrichton Hi Alex. Is there any way to specify the path where Cargo finds the rustc and rustdoc executable? A cursory look at the Cargo source code suggests that it doesn't. To compile the stage1 library from the stage0 compiler, one needs to tell Cargo where the newly-built rustc executable is. I don't think this is possible in Cargo currently?\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/116376512/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/116386762",
    "html_url": "https://github.com/rust-lang/rust/pull/26493#issuecomment-116386762",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26493",
    "id": 116386762,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExNjM4Njc2Mg==",
    "user": {
      "login": "eddyb",
      "id": 77424,
      "node_id": "MDQ6VXNlcjc3NDI0",
      "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eddyb",
      "html_url": "https://github.com/eddyb",
      "followers_url": "https://api.github.com/users/eddyb/followers",
      "following_url": "https://api.github.com/users/eddyb/following{/other_user}",
      "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions",
      "organizations_url": "https://api.github.com/users/eddyb/orgs",
      "repos_url": "https://api.github.com/users/eddyb/repos",
      "events_url": "https://api.github.com/users/eddyb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eddyb/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-06-29T02:22:11Z",
    "updated_at": "2015-06-29T02:22:11Z",
    "body": "@cl91 You could modify `PATH` to do it - just make sure it's before everything else, so that a system-wide rustc installation would not get picked up by mistake.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/116386762/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/116410590",
    "html_url": "https://github.com/rust-lang/rust/pull/26493#issuecomment-116410590",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26493",
    "id": 116410590,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExNjQxMDU5MA==",
    "user": {
      "login": "cl91",
      "id": 3608694,
      "node_id": "MDQ6VXNlcjM2MDg2OTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3608694?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cl91",
      "html_url": "https://github.com/cl91",
      "followers_url": "https://api.github.com/users/cl91/followers",
      "following_url": "https://api.github.com/users/cl91/following{/other_user}",
      "gists_url": "https://api.github.com/users/cl91/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cl91/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cl91/subscriptions",
      "organizations_url": "https://api.github.com/users/cl91/orgs",
      "repos_url": "https://api.github.com/users/cl91/repos",
      "events_url": "https://api.github.com/users/cl91/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cl91/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-06-29T03:21:15Z",
    "updated_at": "2015-06-29T03:21:15Z",
    "body": "@eddyb Right that should do the trick.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/116410590/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/116850609",
    "html_url": "https://github.com/rust-lang/rust/pull/26493#issuecomment-116850609",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26493",
    "id": 116850609,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExNjg1MDYwOQ==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-06-29T21:25:28Z",
    "updated_at": "2015-06-29T21:25:36Z",
    "body": "@cl91, @eddyb, Cargo recently gained the ability to read the `RUSTC` environment variable or `build.rustc` configuration option to indicate where the compiler is.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/116850609/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/118727111",
    "html_url": "https://github.com/rust-lang/rust/pull/26493#issuecomment-118727111",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26493",
    "id": 118727111,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExODcyNzExMQ==",
    "user": {
      "login": "cl91",
      "id": 3608694,
      "node_id": "MDQ6VXNlcjM2MDg2OTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3608694?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cl91",
      "html_url": "https://github.com/cl91",
      "followers_url": "https://api.github.com/users/cl91/followers",
      "following_url": "https://api.github.com/users/cl91/following{/other_user}",
      "gists_url": "https://api.github.com/users/cl91/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cl91/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cl91/subscriptions",
      "organizations_url": "https://api.github.com/users/cl91/orgs",
      "repos_url": "https://api.github.com/users/cl91/repos",
      "events_url": "https://api.github.com/users/cl91/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cl91/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-06T05:32:00Z",
    "updated_at": "2015-07-06T05:32:39Z",
    "body": "@alexcrichton Having successfully compiled a working `rustc` and `rustdoc` from a Cargo-based build I'm now trying to bring the tests to use cargo. Running `cargo test --manifest-path=src/libstd/Cargo.toml` I am getting lots of E0152 errors from `rustc`. It appears that crate `std` is being linked twice by `rustc` causing it to complain about multiple definitions of lang-items. Is there any way to tell `rustc` to not link to `std` when compiling tests?\n\nThe errors that I am getting are\n\n```\nsrc/libstd/lib.rs:1:1: 1:1 error: duplicate entry for `const_ptr` [E0152]\nsrc/libstd/lib.rs:1 // Copyright 2012-2014 The Rust Project Developers. See the COPYRIGHT\n                    ^\nsrc/libstd/lib.rs:1:1: 1:1 help: run `rustc --explain E0152` to see a detailed explanation\nsrc/libstd/lib.rs:1:1: 1:1 error: duplicate entry for `mut_ptr` [E0152]\nsrc/libstd/lib.rs:1 // Copyright 2012-2014 The Rust Project Developers. See the COPYRIGHT\n                    ^\nsrc/libstd/lib.rs:1:1: 1:1 help: run `rustc --explain E0152` to see a detailed explanation\nsrc/libstd/lib.rs:1:1: 1:1 error: duplicate entry for `i8` [E0152]\n```\n\nand so on.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/118727111/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/118920869",
    "html_url": "https://github.com/rust-lang/rust/pull/26493#issuecomment-118920869",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26493",
    "id": 118920869,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExODkyMDg2OQ==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-06T16:42:51Z",
    "updated_at": "2015-07-06T16:42:51Z",
    "body": "@cl91 I didn't get around to poking around tests that much, so I'm not entirely sure where that's coming from. Do you have a branch I could poke around with? It would also be helpful to have a full log of `cargo test -v --manifest-path ...`\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/118920869/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/119033222",
    "html_url": "https://github.com/rust-lang/rust/pull/26493#issuecomment-119033222",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26493",
    "id": 119033222,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExOTAzMzIyMg==",
    "user": {
      "login": "cl91",
      "id": 3608694,
      "node_id": "MDQ6VXNlcjM2MDg2OTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3608694?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cl91",
      "html_url": "https://github.com/cl91",
      "followers_url": "https://api.github.com/users/cl91/followers",
      "following_url": "https://api.github.com/users/cl91/following{/other_user}",
      "gists_url": "https://api.github.com/users/cl91/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cl91/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cl91/subscriptions",
      "organizations_url": "https://api.github.com/users/cl91/orgs",
      "repos_url": "https://api.github.com/users/cl91/repos",
      "events_url": "https://api.github.com/users/cl91/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cl91/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-07T00:19:01Z",
    "updated_at": "2015-07-07T00:19:50Z",
    "body": "> Do you have a branch I could poke around with?\n\n@alexcrichton Yes. Checkout this branch https://github.com/cl91/rust/tree/cargoify.\n\nTo test, just run `./build.sh`. It will invoke a small driver script (in `src/etc/build_rust.py`) to build LLVM, and then invoke `cargo build` to build the compiler (and `rustdoc`), and then invoke `cargo test` to try to run the `libstd` tests, at which point it fails.\n\nI've tested it under Linux, Windows (mingw), and Mac and building the compiler should work fine.\n\nRunning `./build.sh` gives a list of optional arguments the script accepts. You may want to use `--llvm-root` to specify an external LLVM root if you don't want to rebuild LLVM. Adding `--verbose` will pass the `--verbose` argument to Cargo.\n\nThe full list of error output when running the `libstd` tests can be found here: https://gist.github.com/cl91/f1019f0ab05ed22d6abf\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/119033222/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/119395100",
    "html_url": "https://github.com/rust-lang/rust/pull/26493#issuecomment-119395100",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26493",
    "id": 119395100,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExOTM5NTEwMA==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-08T01:34:24Z",
    "updated_at": "2015-07-08T01:34:24Z",
    "body": "Ah ok I think I see what's going on here. The stdtest binary is linking to `libtest` from the compiler we just built, which is transitively bringing in that libcore. The standard library is also linking to its own copy of libcore, however, causing the duplicates to show up.\n\nThe build process is subtly different here between what happens today and what Cargo is expecting, but I think you can get around it by  adding a dev dep on the test crate.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/119395100/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/119820705",
    "html_url": "https://github.com/rust-lang/rust/pull/26493#issuecomment-119820705",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26493",
    "id": 119820705,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExOTgyMDcwNQ==",
    "user": {
      "login": "cl91",
      "id": 3608694,
      "node_id": "MDQ6VXNlcjM2MDg2OTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3608694?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cl91",
      "html_url": "https://github.com/cl91",
      "followers_url": "https://api.github.com/users/cl91/followers",
      "following_url": "https://api.github.com/users/cl91/following{/other_user}",
      "gists_url": "https://api.github.com/users/cl91/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cl91/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cl91/subscriptions",
      "organizations_url": "https://api.github.com/users/cl91/orgs",
      "repos_url": "https://api.github.com/users/cl91/repos",
      "events_url": "https://api.github.com/users/cl91/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cl91/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-09T05:10:09Z",
    "updated_at": "2015-07-09T05:10:09Z",
    "body": "@alexcrichton Right that works! I've hit https://github.com/rust-lang/cargo/issues/1779 along the way, so I have to rebuild Cargo, but I eventually got all the unit tests working for all the crates.\n\nI'm now working on running the compiler test suites, which is the next major function of the old Makefile-based build system.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/119820705/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
