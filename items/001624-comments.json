[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3623733",
    "html_url": "https://github.com/rust-lang/rust/issues/1624#issuecomment-3623733",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/1624",
    "id": 3623733,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2MjM3MzM=",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-01-23T22:53:17Z",
    "updated_at": "2012-01-23T22:53:17Z",
    "body": "I wonder if this is related to the way homebrew does the install (like maybe the symlink screws up our rpath calculations). Does --prefix work for you when installing manually?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3623733/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3624854",
    "html_url": "https://github.com/rust-lang/rust/issues/1624#issuecomment-3624854",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/1624",
    "id": 3624854,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2MjQ4NTQ=",
    "user": {
      "login": "thoughtpolice",
      "id": 3416,
      "node_id": "MDQ6VXNlcjM0MTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3416?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thoughtpolice",
      "html_url": "https://github.com/thoughtpolice",
      "followers_url": "https://api.github.com/users/thoughtpolice/followers",
      "following_url": "https://api.github.com/users/thoughtpolice/following{/other_user}",
      "gists_url": "https://api.github.com/users/thoughtpolice/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thoughtpolice/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thoughtpolice/subscriptions",
      "organizations_url": "https://api.github.com/users/thoughtpolice/orgs",
      "repos_url": "https://api.github.com/users/thoughtpolice/repos",
      "events_url": "https://api.github.com/users/thoughtpolice/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thoughtpolice/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-01-24T00:09:23Z",
    "updated_at": "2012-01-24T00:09:37Z",
    "body": "It's possible but I don't think so, as the same error occurs from just running the real `rustc` executable manually:\n\n```\n$ /usr/local/Cellar/rust/0.1/bin/rustc\ndyld: Library not loaded: @loader_path/@rpath/librustrt.dylib\n  Referenced from: /usr/local/Cellar/rust/0.1/bin/../lib/libcore-14bd852465126fe7-0.1.dylib\n  Reason: image not found\n[1]    18945 trace trap  RUST_LOG=rustc::back::rpath /usr/local/Cellar/rust/0.1/bin/rustc\n```\n\nSo this is really bailing at `dyld` attempting to resolve dynamic libraries when the executable is loaded. I'll try `--prefix`ing somewhere else with a custom build in a moment.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3624854/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3665886",
    "html_url": "https://github.com/rust-lang/rust/issues/1624#issuecomment-3665886",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/1624",
    "id": 3665886,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2NjU4ODY=",
    "user": {
      "login": "thoughtpolice",
      "id": 3416,
      "node_id": "MDQ6VXNlcjM0MTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3416?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thoughtpolice",
      "html_url": "https://github.com/thoughtpolice",
      "followers_url": "https://api.github.com/users/thoughtpolice/followers",
      "following_url": "https://api.github.com/users/thoughtpolice/following{/other_user}",
      "gists_url": "https://api.github.com/users/thoughtpolice/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thoughtpolice/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thoughtpolice/subscriptions",
      "organizations_url": "https://api.github.com/users/thoughtpolice/orgs",
      "repos_url": "https://api.github.com/users/thoughtpolice/repos",
      "events_url": "https://api.github.com/users/thoughtpolice/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thoughtpolice/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-01-26T08:37:43Z",
    "updated_at": "2012-01-26T08:37:43Z",
    "body": "Apparently someone has gotten a Rust formula into Homebrew sometime in the past day. I'll build it but I'm fairly certain I'll see the same thing.\n\nI'm still tracking this issue down a bit, I'll report more details soon and hopefully hop on IRC to discuss.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3665886/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3683328",
    "html_url": "https://github.com/rust-lang/rust/issues/1624#issuecomment-3683328",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/1624",
    "id": 3683328,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2ODMzMjg=",
    "user": {
      "login": "thoughtpolice",
      "id": 3416,
      "node_id": "MDQ6VXNlcjM0MTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3416?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thoughtpolice",
      "html_url": "https://github.com/thoughtpolice",
      "followers_url": "https://api.github.com/users/thoughtpolice/followers",
      "following_url": "https://api.github.com/users/thoughtpolice/following{/other_user}",
      "gists_url": "https://api.github.com/users/thoughtpolice/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thoughtpolice/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thoughtpolice/subscriptions",
      "organizations_url": "https://api.github.com/users/thoughtpolice/orgs",
      "repos_url": "https://api.github.com/users/thoughtpolice/repos",
      "events_url": "https://api.github.com/users/thoughtpolice/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thoughtpolice/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-01-27T08:04:33Z",
    "updated_at": "2012-01-27T08:04:58Z",
    "body": "Update: I noticed something similar with other formulae in Homebrew (notably `radare2`) and I got the rust compiler working by saying:\n\n```\n$ DYLD_LIBRARY_PATH=/usr/local/lib rustc\n```\n\nWhich correctly confronts me with the compiler options etc. I do not exactly know why this is the case, or why it has mysteriously broken it seems (I've installed plenty of things that work,) but because I can reproduce and fix this with other formulae, I'm closing this ticket unless someone disagrees.\n\nI guess I need to just add this to my `.zshrc` or something. Hopefully it doesn't kill me later.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3683328/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3692646",
    "html_url": "https://github.com/rust-lang/rust/issues/1624#issuecomment-3692646",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/1624",
    "id": 3692646,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2OTI2NDY=",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-01-27T19:29:45Z",
    "updated_at": "2012-01-27T19:29:45Z",
    "body": "It still shouldn't be requiring an explicit DYLD_LIBRARY_PATH. Are you by chance using an older version of OS X? Reopening if you don't mind.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3692646/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3692656",
    "html_url": "https://github.com/rust-lang/rust/issues/1624#issuecomment-3692656",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/1624",
    "id": 3692656,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2OTI2NTY=",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-01-27T19:30:22Z",
    "updated_at": "2012-01-27T19:30:22Z",
    "body": "FWIW. I know that OS X pre-10.5 will not work correctly, and I haven't heard of anybody using 10.5.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3692656/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3693511",
    "html_url": "https://github.com/rust-lang/rust/issues/1624#issuecomment-3693511",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/1624",
    "id": 3693511,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2OTM1MTE=",
    "user": {
      "login": "thoughtpolice",
      "id": 3416,
      "node_id": "MDQ6VXNlcjM0MTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3416?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thoughtpolice",
      "html_url": "https://github.com/thoughtpolice",
      "followers_url": "https://api.github.com/users/thoughtpolice/followers",
      "following_url": "https://api.github.com/users/thoughtpolice/following{/other_user}",
      "gists_url": "https://api.github.com/users/thoughtpolice/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thoughtpolice/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thoughtpolice/subscriptions",
      "organizations_url": "https://api.github.com/users/thoughtpolice/orgs",
      "repos_url": "https://api.github.com/users/thoughtpolice/repos",
      "events_url": "https://api.github.com/users/thoughtpolice/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thoughtpolice/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-01-27T20:27:53Z",
    "updated_at": "2012-01-27T20:27:53Z",
    "body": "Yes, thinking upon it more (it was late last night) it should probably stay open - considering I can run the Rust compiler easily from any other installed prefix, I'm still wondering what exactly is going wrong.\n\nAnd no, I'm not running 10.5, I'm running Snow Leopard (10.6.8.)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3693511/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3713806",
    "html_url": "https://github.com/rust-lang/rust/issues/1624#issuecomment-3713806",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/1624",
    "id": 3713806,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MTM4MDY=",
    "user": {
      "login": "thoughtpolice",
      "id": 3416,
      "node_id": "MDQ6VXNlcjM0MTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3416?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thoughtpolice",
      "html_url": "https://github.com/thoughtpolice",
      "followers_url": "https://api.github.com/users/thoughtpolice/followers",
      "following_url": "https://api.github.com/users/thoughtpolice/following{/other_user}",
      "gists_url": "https://api.github.com/users/thoughtpolice/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thoughtpolice/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thoughtpolice/subscriptions",
      "organizations_url": "https://api.github.com/users/thoughtpolice/orgs",
      "repos_url": "https://api.github.com/users/thoughtpolice/repos",
      "events_url": "https://api.github.com/users/thoughtpolice/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thoughtpolice/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-01-30T02:56:33Z",
    "updated_at": "2012-01-30T02:56:33Z",
    "body": "Actually, I think I figured this out.\n\nMy .zshrc had already accidentally over-written `DYLD_FALLBACK_LIBRARY_PATH` (because WINE wanted it that way, and I don't have it anymore anyway.) From [`dyld(1)`](http://developer.apple.com/library/mac/#documentation/Darwin/Reference/Manpages/man1/dyld.1.html):\n\n```\nDYLD_FALLBACK_LIBRARY_PATH\n          This is a colon separated list of directories that contain  libraries.   It  is  used  as  the\n          default  location  for  libraries  not  found in their install path.  By default, it is set to\n          $(HOME)/lib:/usr/local/lib:/lib:/usr/lib.\n```\n\nI had unilaterally overwritten it to _not_ contain /usr/local/lib, and instead some other crap for WINE. Since resetting this, several of my homebrew formulae have started working - they failed in the first place because they didn't contain a full `rpath` pointing to /usr/local/lib; they only referenced stuff like `libr_util.dylib` in the case of radare2. This would normally work with a default `DYLD_FALLBACK_LIBRARY_PATH`, since dyld will search /usr/local/lib _after_ it doesn't find them elsewhere.\n\nI am re-brewing the Homebrew rust formula and will follow up shortly. Should it work, I will close this issue as it was simply my messed up environment.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3713806/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3713881",
    "html_url": "https://github.com/rust-lang/rust/issues/1624#issuecomment-3713881",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/1624",
    "id": 3713881,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MTM4ODE=",
    "user": {
      "login": "thoughtpolice",
      "id": 3416,
      "node_id": "MDQ6VXNlcjM0MTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3416?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thoughtpolice",
      "html_url": "https://github.com/thoughtpolice",
      "followers_url": "https://api.github.com/users/thoughtpolice/followers",
      "following_url": "https://api.github.com/users/thoughtpolice/following{/other_user}",
      "gists_url": "https://api.github.com/users/thoughtpolice/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thoughtpolice/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thoughtpolice/subscriptions",
      "organizations_url": "https://api.github.com/users/thoughtpolice/orgs",
      "repos_url": "https://api.github.com/users/thoughtpolice/repos",
      "events_url": "https://api.github.com/users/thoughtpolice/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thoughtpolice/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-01-30T03:08:39Z",
    "updated_at": "2012-01-30T03:08:39Z",
    "body": "Huzzah! Un-breaking `DYLD_FALLBACK_LIBRARY_PATH` results in success:\n\n```\n$ brew install rust\n==> Downloading http://dl.rust-lang.org/dist/rust-0.1.tar.gz\nFile already downloaded in /Users/a/Library/Caches/Homebrew\n==> ./configure --prefix=/usr/local/Cellar/rust/0.1\n==> make\n==> make install\n/usr/local/Cellar/rust/0.1: 18 files, 32M, built in 12.4 minutes\n$ brew test rust\nTesting rust\n==> /usr/local/Cellar/rust/0.1/bin/rustc\n==> /usr/local/Cellar/rust/0.1/bin/rustdoc\n==> /usr/local/Cellar/rust/0.1/bin/cargo\n$ \n```\n\nAnd:\n\n```\n$ rustc\nusage: rustc [options] <input>\n\noptions:\n\n    -h --help          display this message\n    -v --version       print version info and exit\n\n    -o <filename>      write output to <filename>\n    --out-dir <dir>    write output to compiler-chosen filename in <dir>\n    --lib              compile a library crate\n    --bin              compile an executable crate (default)\n    --static           use or produce static libraries\n    --no-core          omit the 'core' library (used and imported by default)\n    --pretty [type]    pretty-print the input instead of compiling\n    --ls               list the symbols defined by a crate file\n    -L <path>          add a directory to the library search path\n    --no-verify        suppress LLVM verification step (slight speedup)\n    --parse-only       parse only; do not compile, assemble, or link\n    --no-trans         run all passes except translation; no output\n    -g                 produce debug info\n    --opt-level <lvl>  optimize with possible levels 0-3\n    -O                 equivalent to --opt-level=2\n    -S                 compile only; do not assemble or link\n    --no-asm-comments  do not add comments into the assembly source\n    -c                 compile and assemble, but do not link\n    --emit-llvm        produce an LLVM bitcode file\n    --save-temps       write intermediate files in addition to normal output\n    --stats            gather and report various compilation statistics\n    --cfg <cfgspec>    configure the compilation environment\n    --time-passes      time the individual phases of the compiler\n    --time-llvm-passes time the individual phases of the LLVM backend\n    --sysroot <path>   override the system root\n    --target <triple>  target to compile for (default: host triple)\n    --test             build test harness\n    --gc               garbage collect shared data (experimental/temporary)\n    --warn-unused-imports\n                       warn about unnecessary imports\n    --no-lint-ctypes   suppress lint-style ctypes usage check\n```\n\nClosing this ticket, mystery solved.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/3713881/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
