[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/48108123",
    "html_url": "https://github.com/rust-lang/rust/issues/15478#issuecomment-48108123",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15478",
    "id": 48108123,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4MTA4MTIz",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-06T10:37:13Z",
    "updated_at": "2014-07-06T10:37:13Z",
    "body": "Inlined code (just in case the link shortener dies):\n\n``` rust\nextern crate native;\nextern crate rustrt;\n\nuse std::os;\nuse std::str;\n\nstatic PAD: [u8, ..0x180] = [0, ..0x180];\nstatic DATA: [u8, ..0x1000] = [b' ', ..0x1000];\n\nfn main() {\n    let addr = DATA.as_ptr() as uint;\n    println!(\"{:x}: {}\", addr, str::from_utf8(DATA).unwrap());\n    // Make sure DATA is aligned to the start of a page (adjust PAD to ensure this).\n    assert!((addr & 0xfff) == 0);\n\n    // When this (immediately) goes out of scope (immediately), it will munmap DATA's page.\n    os::MemoryMap {\n        data: addr as *mut u8,\n        len: 0x1000,\n        kind: os::MapVirtual\n    };\n\n    // Open a file an map it in the same space pointed to by DATA.\n    let f = native::io::file::open(&\"/etc/passwd\".to_c_str(), rustrt::rtio::Open, rustrt::rtio::Read).ok().unwrap();\n    let _mm = os::MemoryMap::new(0x1000, [\n        os::MapFd(f.fd()),\n        os::MapReadable,\n        os::MapAddr(DATA.as_ptr())\n    ]).unwrap();\n\n    // TAADAA!\n    println!(\"{}\", str::from_utf8(DATA).unwrap());\n\n    // Keep the padding alive.\n    println!(\"{}\", PAD.as_slice());\n}\n```\n\n(Trimmed) output:\n\n```\n48e000:                                               ... a long row of whitespace ...\nroot:x:0:0:root:/root:/bin/bash\nbin:x:1:1:bin:/bin:/usr/bin/nologin\ndaemon:x:2:2:daemon:/:/usr/bin/nologin\nmail:x:8:12:mail:/var/spool/mail:/usr/bin/nologin\nftp:x:14:11:ftp:/srv/ftp:/usr/bin/nologin\nhttp:x:33:33:http:/srv/http:/usr/bin/nologin\nuuidd:x:68:68:uuidd:/:/usr/bin/nologin\ndbus:x:81:81:dbus:/:/usr/bin/nologin\nnobody:x:99:99:nobody:/:/usr/bin/nologin\nsystemd-journal-gateway:x:191:191:systemd-journal-gateway:/:/usr/bin/nologin\nsystemd-timesync:x:192:192:systemd-timesync:/:/usr/bin/nologin\nsystemd-network:x:193:193:systemd-network:/:/usr/bin/nologin\nsystemd-bus-proxy:x:194:194:systemd-bus-proxy:/:/usr/bin/nologin\nsystemd-resolve:x:195:195:systemd-resolve:/:/usr/bin/nologin\nrust:x:1000:1000::/home/rust:/bin/bash\n\n[0, 0, 0, ..., 0, 0]\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/48108123/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/48460502",
    "html_url": "https://github.com/rust-lang/rust/issues/15478#issuecomment-48460502",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15478",
    "id": 48460502,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4NDYwNTAy",
    "user": {
      "login": "emberian",
      "id": 704250,
      "node_id": "MDQ6VXNlcjcwNDI1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emberian",
      "html_url": "https://github.com/emberian",
      "followers_url": "https://api.github.com/users/emberian/followers",
      "following_url": "https://api.github.com/users/emberian/following{/other_user}",
      "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emberian/subscriptions",
      "organizations_url": "https://api.github.com/users/emberian/orgs",
      "repos_url": "https://api.github.com/users/emberian/repos",
      "events_url": "https://api.github.com/users/emberian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emberian/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-09T11:57:08Z",
    "updated_at": "2014-07-09T11:57:08Z",
    "body": "How annoying! It'd be inconvenient to add a copy of the private field. I guess this is a perfect usecase for a `ReadOnly<T>` field, or perhaps the mythical `Unsafe<T>`\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/48460502/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/48646434",
    "html_url": "https://github.com/rust-lang/rust/issues/15478#issuecomment-48646434",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15478",
    "id": 48646434,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4NjQ2NDM0",
    "user": {
      "login": "eddyb",
      "id": 77424,
      "node_id": "MDQ6VXNlcjc3NDI0",
      "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eddyb",
      "html_url": "https://github.com/eddyb",
      "followers_url": "https://api.github.com/users/eddyb/followers",
      "following_url": "https://api.github.com/users/eddyb/following{/other_user}",
      "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions",
      "organizations_url": "https://api.github.com/users/eddyb/orgs",
      "repos_url": "https://api.github.com/users/eddyb/repos",
      "events_url": "https://api.github.com/users/eddyb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eddyb/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-10T18:43:05Z",
    "updated_at": "2014-07-10T18:43:05Z",
    "body": "@cmr I would rather have a `bytes(&'a self) -> &'a [u8]` accessor, as a lot of the data is to be interpreted as bytes anyways, and that gives you both the length and the pointer.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/48646434/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
