[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/106305695",
    "html_url": "https://github.com/rust-lang/rust/issues/25750#issuecomment-106305695",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25750",
    "id": 106305695,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNjMwNTY5NQ==",
    "user": {
      "login": "Kintaro",
      "id": 111625,
      "node_id": "MDQ6VXNlcjExMTYyNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/111625?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Kintaro",
      "html_url": "https://github.com/Kintaro",
      "followers_url": "https://api.github.com/users/Kintaro/followers",
      "following_url": "https://api.github.com/users/Kintaro/following{/other_user}",
      "gists_url": "https://api.github.com/users/Kintaro/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Kintaro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Kintaro/subscriptions",
      "organizations_url": "https://api.github.com/users/Kintaro/orgs",
      "repos_url": "https://api.github.com/users/Kintaro/repos",
      "events_url": "https://api.github.com/users/Kintaro/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Kintaro/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-28T13:13:41Z",
    "updated_at": "2015-05-28T13:13:41Z",
    "body": "Forgot to add the backtrace:\n\n```\nstack backtrace:\n   1:     0x7f947750c183 - sys::backtrace::write::h615fdb4d732e4a93r6r\n   2:     0x7f9477514049 - panicking::on_panic::h9a7e45e333684aa03Lw\n   3:     0x7f94774d4e3a - rt::unwind::begin_unwind_inner::h995a60547c3f562eNrw\n   4:     0x7f947482cbbd - rt::unwind::begin_unwind::h17375738179658217201\n   5:     0x7f947482cb52 - diagnostic::SpanHandler::span_bug::h8482da51d213c57buqC\n   6:     0x7f9475553cda - middle::infer::region_inference::RegionVarBindings<'a, 'tcx>::make_subregion::hb699f35a3cfa39c6UPv\n   7:     0x7f947556cd1f - middle::infer::mk_subr::h93c112efb784e579G5y\n   8:     0x7f9476c3ba0f - check::regionck::type_must_outlive::h68e52339b49b7368Tte\n   9:     0x7f9476c39baa - check::dropck::iterate_over_potentially_unsafe_regions_in_type::h80326f55a8cc05afZDa\n  10:     0x7f9476c39d5c - check::dropck::iterate_over_potentially_unsafe_regions_in_type::h80326f55a8cc05afZDa\n  11:     0x7f9476c39d5c - check::dropck::iterate_over_potentially_unsafe_regions_in_type::h80326f55a8cc05afZDa\n  12:     0x7f9476c39f13 - check::dropck::iterate_over_potentially_unsafe_regions_in_type::h80326f55a8cc05afZDa\n  13:     0x7f9476c39d5c - check::dropck::iterate_over_potentially_unsafe_regions_in_type::h80326f55a8cc05afZDa\n  14:     0x7f9476c39d5c - check::dropck::iterate_over_potentially_unsafe_regions_in_type::h80326f55a8cc05afZDa\n  15:     0x7f9476c39d5c - check::dropck::iterate_over_potentially_unsafe_regions_in_type::h80326f55a8cc05afZDa\n  16:     0x7f9476c38738 - check::dropck::check_safety_of_destructor_if_necessary::h6d78b805219652e19xa\n  17:     0x7f9476c7033d - check::regionck::check_safety_of_rvalue_destructor_if_necessary::ha65a719fd22d79bdjPd\n  18:     0x7f9476c69b81 - check::regionck::visit_expr::h15cc0f7c6e849ab0fad\n  19:     0x7f9476c67bb1 - check::regionck::Rcx<'a, 'tcx>::visit_fn_body::h461f8d4e496574beHMc\n  20:     0x7f9476c67090 - check::regionck::regionck_fn::hf51a587df53131353Ec\n  21:     0x7f9476ce2dc8 - check::check_bare_fn::h56477091183bbe08gOn\n  22:     0x7f9476ceed5c - check::check_method_body::h11b8e4f5d8c75e9crro\n  23:     0x7f9476ce0913 - check::check_item_body::hc9468be7e10fb9049eo\n  24:     0x7f9476ce0f02 - visit::walk_item::h10209465936042145449\n  25:     0x7f9476ce278f - check::check_item_types::h22d39728d2ed74ffNLn\n  26:     0x7f9476d9f026 - check_crate::h0c48e68f075d51d7g7C\n  27:     0x7f9477a68d9f - driver::phase_3_run_analysis_passes::h34501209e3394a5cGGa\n  28:     0x7f9477a4bf3c - driver::compile_input::h69c18a97a3bef03fQba\n  29:     0x7f9477b01b31 - run_compiler::h737927eeae91ebd5n6b\n  30:     0x7f9477aff382 - boxed::F.FnBox<A>::call_box::h1962494538046773488\n  31:     0x7f9477afeb89 - rt::unwind::try::try_fn::h2931293082837064848\n  32:     0x7f9477597138 - rust_try_inner\n  33:     0x7f9477597125 - rust_try\n  34:     0x7f94774ffc37 - rt::unwind::try::inner_try::h80226bb4deb2a8ebGnw\n  35:     0x7f9477afeda9 - boxed::F.FnBox<A>::call_box::h2098047553192396313\n  36:     0x7f9477512d01 - sys::thread::Thread::new::thread_start::h97730f674d383241Sxv\n  37:     0x7f9471f720a3 - start_thread\n  38:     0x7f947715c04c - clone\n  39:                0x0 - <unknown>\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/106305695/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/107241329",
    "html_url": "https://github.com/rust-lang/rust/issues/25750#issuecomment-107241329",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25750",
    "id": 107241329,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNzI0MTMyOQ==",
    "user": {
      "login": "Kintaro",
      "id": 111625,
      "node_id": "MDQ6VXNlcjExMTYyNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/111625?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Kintaro",
      "html_url": "https://github.com/Kintaro",
      "followers_url": "https://api.github.com/users/Kintaro/followers",
      "following_url": "https://api.github.com/users/Kintaro/following{/other_user}",
      "gists_url": "https://api.github.com/users/Kintaro/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Kintaro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Kintaro/subscriptions",
      "organizations_url": "https://api.github.com/users/Kintaro/orgs",
      "repos_url": "https://api.github.com/users/Kintaro/repos",
      "events_url": "https://api.github.com/users/Kintaro/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Kintaro/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-31T20:18:51Z",
    "updated_at": "2015-05-31T20:18:51Z",
    "body": "Ok, I was able to produce a small example that causes it:\n\n```\nuse std::collections::BTreeMap;\n\npub type ManageHook = Box<Fn(Workspaces, &WindowSystem, Window) -> Workspaces>;\npub type LogHook = Box<FnMut(WindowManager, &WindowSystem)>;\n\npub trait WindowSystem {}\npub struct WindowManager;\npub struct Workspaces;\npub type Window = u64;\n\npub struct GeneralConfig;\n\npub struct InternalConfig {\n    pub manage_hook: ManageHook,\n    pub loghook: Option<LogHook>,\n}\n\nimpl InternalConfig {\n    pub fn new(manage_hook: ManageHook) -> InternalConfig {\n        InternalConfig {\n            manage_hook: manage_hook,\n            loghook: None,\n        }\n    }\n}\n\nfn main() {\n}\n```\n\nhttp://is.gd/UnSdRQ\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/107241329/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/107241984",
    "html_url": "https://github.com/rust-lang/rust/issues/25750#issuecomment-107241984",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25750",
    "id": 107241984,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNzI0MTk4NA==",
    "user": {
      "login": "betawaffle",
      "id": 48613,
      "node_id": "MDQ6VXNlcjQ4NjEz",
      "avatar_url": "https://avatars.githubusercontent.com/u/48613?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/betawaffle",
      "html_url": "https://github.com/betawaffle",
      "followers_url": "https://api.github.com/users/betawaffle/followers",
      "following_url": "https://api.github.com/users/betawaffle/following{/other_user}",
      "gists_url": "https://api.github.com/users/betawaffle/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/betawaffle/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/betawaffle/subscriptions",
      "organizations_url": "https://api.github.com/users/betawaffle/orgs",
      "repos_url": "https://api.github.com/users/betawaffle/repos",
      "events_url": "https://api.github.com/users/betawaffle/events{/privacy}",
      "received_events_url": "https://api.github.com/users/betawaffle/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-31T20:31:32Z",
    "updated_at": "2015-05-31T20:45:49Z",
    "body": "Reduced even further:\n\n``` rust\npub type BoxedFn = Box<Fn(&Trait)>;\n\npub trait Trait {}\n\npub fn new() -> Option<(BoxedFn, BoxedFn)> {\n    None\n}\n```\n\n```\nsrc/lib.rs:6:5: 6:9 error: internal compiler error: cannot relate bound region: ReScope(DestructionScope(18)) <= ReLateBound(DebruijnIndex { depth: 1 }, BrAnon(0))\nsrc/lib.rs:6     None\n                 ^~~~\nnote: the compiler unexpectedly panicked. this is a bug.\nnote: we would appreciate a bug report: https://github.com/rust-lang/rust/blob/master/CONTRIBUTING.md#bug-reports\nthread 'rustc' panicked at 'Box<Any>', /Users/rustbuild/src/rust-buildbot/slave/nightly-dist-rustc-mac/build/src/libsyntax/diagnostic.rs:176\n\nstack backtrace:\n   1:        0x1089077b5 - sys::backtrace::write::h1561c90743d5c179M9r\n   2:        0x1089103f0 - panicking::on_panic::h8a5d860d5a124e0a2uw\n   3:        0x1088ca948 - rt::unwind::begin_unwind_inner::hb33d13fc310a98afkdw\n   4:        0x10807987e - rt::unwind::begin_unwind::h9699143272701214950\n   5:        0x10807980a - diagnostic::SpanHandler::span_bug::h4a339f86ecbb72a1uqC\n   6:        0x105ae38b4 - middle::infer::region_inference::RegionVarBindings<'a, 'tcx>::make_subregion::h30bc770a31311672yRv\n   7:        0x105afdf1b - middle::infer::mk_subr::h9a5b48e4c252ec91k7y\n   8:        0x105606b2a - check::regionck::type_must_outlive::h8d529e58bca1ccb0Tte\n   9:        0x105604ac5 - check::dropck::iterate_over_potentially_unsafe_regions_in_type::ha9d169bb6b0bbca3ZDa\n  10:        0x105604e1e - check::dropck::iterate_over_potentially_unsafe_regions_in_type::ha9d169bb6b0bbca3ZDa\n  11:        0x105603701 - check::dropck::check_safety_of_destructor_if_necessary::h3060ac778c5992289xa\n  12:        0x10563d93e - check::regionck::check_safety_of_rvalue_destructor_if_necessary::hcf8a4293ce5c60bfjPd\n  13:        0x105636eb3 - check::regionck::visit_expr::h79aea6e9fda81e97fad\n  14:        0x105634cde - check::regionck::Rcx<'a, 'tcx>::visit_fn_body::h09869d1c412f3624HMc\n  15:        0x1056340a3 - check::regionck::regionck_fn::hfdd6d8acf07f17563Ec\n  16:        0x1056b133d - check::check_bare_fn::hc9c7a17ca1e4729egOn\n  17:        0x1056aef37 - check::check_item_body::h103df4808fcb6e559eo\n  18:        0x1056b0c73 - check::check_item_types::h7c6eaf781d12ace8NLn\n  19:        0x105770f10 - check_crate::h8fe4e687b73e5015g7C\n  20:        0x104f9b68f - driver::phase_3_run_analysis_passes::hef736cb124de6565GGa\n  21:        0x104f7f403 - driver::compile_input::h7a3800e0d9c4bbe3Qba\n  22:        0x105039e04 - run_compiler::h3864143d185b8964n6b\n  23:        0x10503756a - boxed::F.FnBox<A>::call_box::h4644100161726726905\n  24:        0x105036c87 - rt::unwind::try::try_fn::h5144344175023612934\n  25:        0x108998bf8 - rust_try_inner\n  26:        0x108998be5 - rust_try\n  27:        0x1088fa315 - rt::unwind::try::inner_try::hbe91c83f4d153e36d9v\n  28:        0x105036ee2 - boxed::F.FnBox<A>::call_box::h10871128639736673174\n  29:        0x10890eeed - sys::thread::Thread::new::thread_start::h89e4611b0ac51fcbMxv\n  30:     0x7fff8852a267 - _pthread_body\n  31:     0x7fff8852a1e4 - _pthread_start\n```\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/107241984/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/107243793",
    "html_url": "https://github.com/rust-lang/rust/issues/25750#issuecomment-107243793",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25750",
    "id": 107243793,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNzI0Mzc5Mw==",
    "user": {
      "login": "betawaffle",
      "id": 48613,
      "node_id": "MDQ6VXNlcjQ4NjEz",
      "avatar_url": "https://avatars.githubusercontent.com/u/48613?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/betawaffle",
      "html_url": "https://github.com/betawaffle",
      "followers_url": "https://api.github.com/users/betawaffle/followers",
      "following_url": "https://api.github.com/users/betawaffle/following{/other_user}",
      "gists_url": "https://api.github.com/users/betawaffle/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/betawaffle/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/betawaffle/subscriptions",
      "organizations_url": "https://api.github.com/users/betawaffle/orgs",
      "repos_url": "https://api.github.com/users/betawaffle/repos",
      "events_url": "https://api.github.com/users/betawaffle/events{/privacy}",
      "received_events_url": "https://api.github.com/users/betawaffle/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-31T20:54:40Z",
    "updated_at": "2015-05-31T20:54:49Z",
    "body": "And, once again:\n\n``` rust\n# Fails\nfn fail() -> Option<(Box<Fn(&Sized)>, Box<Fn(&Sized)>)> {\n    None\n}\n\n# Works\nfn work<'a>() -> Option<(Box<Fn(&'a Sized)>, Box<Fn(&'a Sized)>)> {\n    None\n}\n```\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/107243793/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/108568978",
    "html_url": "https://github.com/rust-lang/rust/issues/25750#issuecomment-108568978",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25750",
    "id": 108568978,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwODU2ODk3OA==",
    "user": {
      "login": "marcmmiller",
      "id": 12021911,
      "node_id": "MDQ6VXNlcjEyMDIxOTEx",
      "avatar_url": "https://avatars.githubusercontent.com/u/12021911?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/marcmmiller",
      "html_url": "https://github.com/marcmmiller",
      "followers_url": "https://api.github.com/users/marcmmiller/followers",
      "following_url": "https://api.github.com/users/marcmmiller/following{/other_user}",
      "gists_url": "https://api.github.com/users/marcmmiller/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/marcmmiller/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/marcmmiller/subscriptions",
      "organizations_url": "https://api.github.com/users/marcmmiller/orgs",
      "repos_url": "https://api.github.com/users/marcmmiller/repos",
      "events_url": "https://api.github.com/users/marcmmiller/events{/privacy}",
      "received_events_url": "https://api.github.com/users/marcmmiller/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-06-03T18:40:51Z",
    "updated_at": "2015-06-03T18:40:51Z",
    "body": "FWIW, I ran into this also, but don't have time to whittle this down to a small repro.\n\n$ rustc --version\nrustc 1.0.0 (a59de37e9 2015-05-13) (built 2015-05-14)\n\nmain.rs:532:37: 532:41 error: internal compiler error: cannot relate bound region: ReScope(DestructionScope(3503)) <= ReLateBound(DebruijnIndex { depth: 1 }, BrAnon(0))\nmain.rs:532         Builtin { name: name, func: func }\n                                                ^~~~\nnote: the compiler unexpectedly panicked. this is a bug.\nnote: we would appreciate a bug report: https://github.com/rust-lang/rust/blob/master/CONTRIBUTING.md#bug-reports\nnote: run with `RUST_BACKTRACE=1` for a backtrace\nthread 'rustc' panicked at 'Box<Any>', /Users/rustbuild/src/rust-buildbot/slave/stable-dist-rustc-mac/build/src/libsyntax/diagnostic.rs:149\n\nstack backtrace:\n   1:        0x10eb59e7f - sys::backtrace::write::h7807ec07859fb503t1r\n   2:        0x10eb624b2 - panicking::on_panic::ha0ed2b9b562a7f9ctZv\n   3:        0x10eb1ee35 - rt::unwind::begin_unwind_inner::hbfb8d99cb52be7a1cHv\n   4:        0x10e30743e - rt::unwind::begin_unwind::h14482673826369992638\n   5:        0x10e3073ca - diagnostic::SpanHandler::span_bug::ha80d5103c6dc346fEqB\n   6:        0x10c1ccc2b - middle::infer::region_inference::RegionVarBindings<'a, 'tcx>::make_subregion::h424c309cfde0bc8dtiv\n   7:        0x10c1e8a90 - middle::infer::mk_subr::h4f040a8108e68139XWy\n   8:        0x10b7c14ed - check::regionck::type_must_outlive::hb12e90041719991fQBe\n   9:        0x10b7bf0bd - check::dropck::iterate_over_potentially_unsafe_regions_in_type::h5b033045bf4886b5CDa\n  10:        0x10b7bde51 - check::dropck::check_safety_of_destructor_if_necessary::h7327a46d7b6457bcMxa\n  11:        0x10b7f26de - check::regionck::check_safety_of_rvalue_destructor_if_necessary::hdb7e84c483faff56gXd\n  12:        0x10b7ebd04 - check::regionck::visit_expr::hcfb3f0e73f4f1ee5Yhd\n  13:        0x10b7f310e - visit::walk_expr::h8074881990300037598\n  14:        0x10b7ec8e9 - check::regionck::visit_expr::hcfb3f0e73f4f1ee5Yhd\n  15:        0x10b7e9d8e - check::regionck::Rcx<'a, 'tcx>::visit_fn_body::h6ad291664793346cpUc\n  16:        0x10b866cc7 - check::check_bare_fn::h87d6505bed3e4c61twn\n  17:        0x10b86f887 - check::check_method_body::h1802c6d6e15675a6Y7n\n  18:        0x10b8648cb - check::CheckItemBodiesVisitor<'a, 'tcx>.Visitor<'tcx>::visit_item::h97ae569543a98538wtn\n  19:        0x10b92ef4a - check_crate::closure.38028\n  20:        0x10b92a357 - check_crate::h722813c75c795e06XcC\n  21:        0x10b6945f4 - driver::phase_3_run_analysis_passes::h3394cefeecbff846nGa\n  22:        0x10b675ffc - driver::compile_input::hf0607b3d1fd498bcQba\n  23:        0x10b73e5a3 - run_compiler::he7a5311c755081d7z4b\n  24:        0x10b73c0ca - boxed::F.FnBox<A>::call_box::h5234503372052129763\n  25:        0x10b73b567 - rt::unwind::try::try_fn::h4031265711883657142\n  26:        0x10ebe3508 - rust_try_inner\n  27:        0x10ebe34f5 - rust_try\n  28:        0x10b73b840 - boxed::F.FnBox<A>::call_box::h1044299548107784679\n  29:        0x10eb60ffd - sys::thread::create::thread_start::ha3be9b31a8775143L4u\n  30:     0x7fff99511898 - _pthread_body\n  31:     0x7fff99511729 - _pthread_start\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/108568978/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
