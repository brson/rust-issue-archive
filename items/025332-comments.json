[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/101254237",
    "html_url": "https://github.com/rust-lang/rust/pull/25332#issuecomment-101254237",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25332",
    "id": 101254237,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwMTI1NDIzNw==",
    "user": {
      "login": "rust-highfive",
      "id": 7378925,
      "node_id": "MDQ6VXNlcjczNzg5MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7378925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rust-highfive",
      "html_url": "https://github.com/rust-highfive",
      "followers_url": "https://api.github.com/users/rust-highfive/followers",
      "following_url": "https://api.github.com/users/rust-highfive/following{/other_user}",
      "gists_url": "https://api.github.com/users/rust-highfive/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rust-highfive/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rust-highfive/subscriptions",
      "organizations_url": "https://api.github.com/users/rust-highfive/orgs",
      "repos_url": "https://api.github.com/users/rust-highfive/repos",
      "events_url": "https://api.github.com/users/rust-highfive/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rust-highfive/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-12T12:13:56Z",
    "updated_at": "2015-05-12T12:13:56Z",
    "body": "r? @nrc\n\n(rust_highfive has picked a reviewer for you, use r? to override)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/101254237/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/101256358",
    "html_url": "https://github.com/rust-lang/rust/pull/25332#issuecomment-101256358",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25332",
    "id": 101256358,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwMTI1NjM1OA==",
    "user": {
      "login": "eddyb",
      "id": 77424,
      "node_id": "MDQ6VXNlcjc3NDI0",
      "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eddyb",
      "html_url": "https://github.com/eddyb",
      "followers_url": "https://api.github.com/users/eddyb/followers",
      "following_url": "https://api.github.com/users/eddyb/following{/other_user}",
      "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions",
      "organizations_url": "https://api.github.com/users/eddyb/orgs",
      "repos_url": "https://api.github.com/users/eddyb/repos",
      "events_url": "https://api.github.com/users/eddyb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eddyb/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-12T12:19:15Z",
    "updated_at": "2015-05-12T12:20:54Z",
    "body": "If `Block` is two pointers, why change `Block` to `&mut Block` everywhere?\nAlso, `'r` is not descriptive enough. I would suggest `'fcx` but that would exacerbate the lifetime bloat issue we have.\nMaybe it's time to move all those free functions to methods on `Block`.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/101256358/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/101256876",
    "html_url": "https://github.com/rust-lang/rust/pull/25332#issuecomment-101256876",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25332",
    "id": 101256876,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwMTI1Njg3Ng==",
    "user": {
      "login": "pythonesque",
      "id": 923144,
      "node_id": "MDQ6VXNlcjkyMzE0NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/923144?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pythonesque",
      "html_url": "https://github.com/pythonesque",
      "followers_url": "https://api.github.com/users/pythonesque/followers",
      "following_url": "https://api.github.com/users/pythonesque/following{/other_user}",
      "gists_url": "https://api.github.com/users/pythonesque/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pythonesque/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pythonesque/subscriptions",
      "organizations_url": "https://api.github.com/users/pythonesque/orgs",
      "repos_url": "https://api.github.com/users/pythonesque/repos",
      "events_url": "https://api.github.com/users/pythonesque/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pythonesque/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-12T12:21:21Z",
    "updated_at": "2015-05-12T12:47:53Z",
    "body": "@eddyb \n\n> If Block is two pointers, why change Block to &mut Block everywhere?\n\nSince one of them is mutable, the pair would move every time, so we'd lose the function pointer unless we carefully threaded it back through every return value (I believe, anyway).  We could work around that by constructing a fresh pair each time, but then you're really not gaining anything compared to just passing two parameters.  I did consider trying it anyway though.\n\n> Also, 'r is not descriptive enough. I would suggest 'fcx but that would exacerbate the lifetime bloat issue we have.\n\nYeah, like I commented in the other PR, I think that in this case it may have been better to just get rid of `Block` entirely.  Separating the basic blocks from the function context makes sense conceptually, and we could avoid the nomenclature issue since the lifetime we're talking about would be elided.  Then you get \"parameter bloat\", though.\n\n> Maybe it's time to move all those free functions to methods on `Block`.\n\nMaking everything a method on `Block` will require us to duplicate all the function signatures in useless traits, though.  I wish we could still do inherent `impl`s outside the defining module :(\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/101256876/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/101275037",
    "html_url": "https://github.com/rust-lang/rust/pull/25332#issuecomment-101275037",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25332",
    "id": 101275037,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwMTI3NTAzNw==",
    "user": {
      "login": "eddyb",
      "id": 77424,
      "node_id": "MDQ6VXNlcjc3NDI0",
      "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eddyb",
      "html_url": "https://github.com/eddyb",
      "followers_url": "https://api.github.com/users/eddyb/followers",
      "following_url": "https://api.github.com/users/eddyb/following{/other_user}",
      "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions",
      "organizations_url": "https://api.github.com/users/eddyb/orgs",
      "repos_url": "https://api.github.com/users/eddyb/repos",
      "events_url": "https://api.github.com/users/eddyb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eddyb/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-12T13:24:50Z",
    "updated_at": "2015-05-12T13:28:10Z",
    "body": "> I wish we could still do inherent impls outside the defining module :(\n\nWell, your wish came true. A few months ago, actually :).\n\nAs for creating a fresh pair every time, you could use a `reborrow` method to do this, though if you're passing `bcx` everywhere, that would get annoying quickly. A coercion would be nicer.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/101275037/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/101285756",
    "html_url": "https://github.com/rust-lang/rust/pull/25332#issuecomment-101285756",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25332",
    "id": 101285756,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwMTI4NTc1Ng==",
    "user": {
      "login": "pythonesque",
      "id": 923144,
      "node_id": "MDQ6VXNlcjkyMzE0NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/923144?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pythonesque",
      "html_url": "https://github.com/pythonesque",
      "followers_url": "https://api.github.com/users/pythonesque/followers",
      "following_url": "https://api.github.com/users/pythonesque/following{/other_user}",
      "gists_url": "https://api.github.com/users/pythonesque/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pythonesque/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pythonesque/subscriptions",
      "organizations_url": "https://api.github.com/users/pythonesque/orgs",
      "repos_url": "https://api.github.com/users/pythonesque/repos",
      "events_url": "https://api.github.com/users/pythonesque/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pythonesque/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-12T13:42:44Z",
    "updated_at": "2015-05-12T13:51:10Z",
    "body": "...Whoa, how did I miss that?  Okay then, that makes the method solution a lot more attractive.\n\n> As for creating a fresh pair every time, you could use a reborrow method to do this, though if you're passing bcx everywhere, that would get annoying quickly. A coercion would be nicer.\n\nDoesn't reborrowing only occur if the function takes a reference in the first place (in which case you wouldn't be passing by value)?  Or am I misunderstanding what you're saying?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/101285756/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/101333223",
    "html_url": "https://github.com/rust-lang/rust/pull/25332#issuecomment-101333223",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25332",
    "id": 101333223,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwMTMzMzIyMw==",
    "user": {
      "login": "eddyb",
      "id": 77424,
      "node_id": "MDQ6VXNlcjc3NDI0",
      "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eddyb",
      "html_url": "https://github.com/eddyb",
      "followers_url": "https://api.github.com/users/eddyb/followers",
      "following_url": "https://api.github.com/users/eddyb/following{/other_user}",
      "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions",
      "organizations_url": "https://api.github.com/users/eddyb/orgs",
      "repos_url": "https://api.github.com/users/eddyb/repos",
      "events_url": "https://api.github.com/users/eddyb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eddyb/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-12T16:12:26Z",
    "updated_at": "2015-05-12T16:12:26Z",
    "body": "@pythonesque Yes, but you can reproduce the semantics of reborrowing with a method that takes `&mut Block` and returns a new `Block`.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/101333223/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/101573196",
    "html_url": "https://github.com/rust-lang/rust/pull/25332#issuecomment-101573196",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25332",
    "id": 101573196,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwMTU3MzE5Ng==",
    "user": {
      "login": "bors",
      "id": 3372342,
      "node_id": "MDQ6VXNlcjMzNzIzNDI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bors",
      "html_url": "https://github.com/bors",
      "followers_url": "https://api.github.com/users/bors/followers",
      "following_url": "https://api.github.com/users/bors/following{/other_user}",
      "gists_url": "https://api.github.com/users/bors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bors/subscriptions",
      "organizations_url": "https://api.github.com/users/bors/orgs",
      "repos_url": "https://api.github.com/users/bors/repos",
      "events_url": "https://api.github.com/users/bors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bors/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-13T08:34:15Z",
    "updated_at": "2015-05-13T08:34:15Z",
    "body": ":umbrella: The latest upstream changes (presumably #24619) made this pull request unmergeable. Please resolve the merge conflicts.\n",
    "author_association": "COLLABORATOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/101573196/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/102199502",
    "html_url": "https://github.com/rust-lang/rust/pull/25332#issuecomment-102199502",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25332",
    "id": 102199502,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwMjE5OTUwMg==",
    "user": {
      "login": "nrc",
      "id": 762626,
      "node_id": "MDQ6VXNlcjc2MjYyNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/762626?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nrc",
      "html_url": "https://github.com/nrc",
      "followers_url": "https://api.github.com/users/nrc/followers",
      "following_url": "https://api.github.com/users/nrc/following{/other_user}",
      "gists_url": "https://api.github.com/users/nrc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nrc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nrc/subscriptions",
      "organizations_url": "https://api.github.com/users/nrc/orgs",
      "repos_url": "https://api.github.com/users/nrc/repos",
      "events_url": "https://api.github.com/users/nrc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nrc/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-14T23:34:48Z",
    "updated_at": "2015-05-14T23:34:48Z",
    "body": "@pythonesque do you intend to move some of these functions to methods on Block? Should I hold back on reviewing until then?\n\nI don't mind passing `&mut Block`, seems more convenient than passng pointers or reborrowing.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/102199502/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/102860285",
    "html_url": "https://github.com/rust-lang/rust/pull/25332#issuecomment-102860285",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25332",
    "id": 102860285,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwMjg2MDI4NQ==",
    "user": {
      "login": "pythonesque",
      "id": 923144,
      "node_id": "MDQ6VXNlcjkyMzE0NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/923144?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pythonesque",
      "html_url": "https://github.com/pythonesque",
      "followers_url": "https://api.github.com/users/pythonesque/followers",
      "following_url": "https://api.github.com/users/pythonesque/following{/other_user}",
      "gists_url": "https://api.github.com/users/pythonesque/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pythonesque/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pythonesque/subscriptions",
      "organizations_url": "https://api.github.com/users/pythonesque/orgs",
      "repos_url": "https://api.github.com/users/pythonesque/repos",
      "events_url": "https://api.github.com/users/pythonesque/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pythonesque/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-17T21:26:40Z",
    "updated_at": "2015-05-18T04:01:26Z",
    "body": "@nrc I actually started doing switching over to making everything methods on `Block`, and I'm not entirely sure it's that much nicer in practice.  So I'd appreciate a review before that in case it's good enough as is (of course, I'll also need to fix the recent breakage, but I don't think it looks like that affects too much).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/102860285/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/103722719",
    "html_url": "https://github.com/rust-lang/rust/pull/25332#issuecomment-103722719",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25332",
    "id": 103722719,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwMzcyMjcxOQ==",
    "user": {
      "login": "nrc",
      "id": 762626,
      "node_id": "MDQ6VXNlcjc2MjYyNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/762626?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nrc",
      "html_url": "https://github.com/nrc",
      "followers_url": "https://api.github.com/users/nrc/followers",
      "following_url": "https://api.github.com/users/nrc/following{/other_user}",
      "gists_url": "https://api.github.com/users/nrc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nrc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nrc/subscriptions",
      "organizations_url": "https://api.github.com/users/nrc/orgs",
      "repos_url": "https://api.github.com/users/nrc/repos",
      "events_url": "https://api.github.com/users/nrc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nrc/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-20T02:04:00Z",
    "updated_at": "2015-05-20T02:04:00Z",
    "body": "Wow, that is quite a PR! So, I think it makes sense and I'm in favour of landing. It certainly seems like a win in terms of perf. It still seems a bit messier than I would like (the design of Block, some how, rather than the quality of the code or anything like that), but it doesn't seem that there is a great solution under it all. I'd be keen to know what the Block + methods approach looks like, but I'd be happy to see this land.\n\nr=me with the Block/BlockS and with naming issue addressed, unless the inherant impl thing works out.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/103722719/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/103782656",
    "html_url": "https://github.com/rust-lang/rust/pull/25332#issuecomment-103782656",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25332",
    "id": 103782656,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwMzc4MjY1Ng==",
    "user": {
      "login": "pythonesque",
      "id": 923144,
      "node_id": "MDQ6VXNlcjkyMzE0NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/923144?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pythonesque",
      "html_url": "https://github.com/pythonesque",
      "followers_url": "https://api.github.com/users/pythonesque/followers",
      "following_url": "https://api.github.com/users/pythonesque/following{/other_user}",
      "gists_url": "https://api.github.com/users/pythonesque/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pythonesque/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pythonesque/subscriptions",
      "organizations_url": "https://api.github.com/users/pythonesque/orgs",
      "repos_url": "https://api.github.com/users/pythonesque/repos",
      "events_url": "https://api.github.com/users/pythonesque/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pythonesque/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-20T07:00:06Z",
    "updated_at": "2015-05-20T07:00:06Z",
    "body": "@nrc Addressed your comments and synced to latest master.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/103782656/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/103794650",
    "html_url": "https://github.com/rust-lang/rust/pull/25332#issuecomment-103794650",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25332",
    "id": 103794650,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwMzc5NDY1MA==",
    "user": {
      "login": "eddyb",
      "id": 77424,
      "node_id": "MDQ6VXNlcjc3NDI0",
      "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eddyb",
      "html_url": "https://github.com/eddyb",
      "followers_url": "https://api.github.com/users/eddyb/followers",
      "following_url": "https://api.github.com/users/eddyb/following{/other_user}",
      "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions",
      "organizations_url": "https://api.github.com/users/eddyb/orgs",
      "repos_url": "https://api.github.com/users/eddyb/repos",
      "events_url": "https://api.github.com/users/eddyb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eddyb/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-20T07:34:13Z",
    "updated_at": "2015-05-20T07:34:27Z",
    "body": "Maybe we can refactor `BlockS`/`BlockData`/`Block` away, it's a bit odd that we allocate in an arena when LLVM already has to allocate the block itself. Here's the list of fields, apart from the LLVM basic block:\n\n``` rust\n     terminated: Cell<bool>,\n     unreachable: Cell<bool>,\n\n     /// Is this block part of a landing pad?\n     is_lpad: bool,\n\n     /// AST node-id associated with this block, if any. Used debugging purposes only.\n     opt_node_id: Option<ast::NodeId>,\n```\n\n`terminated` and `unreachable` should be easy to replace with calls to `LLVMGetBasicBlockTerminator` - there might be a performance cost, due to the lack of cross-language inlining.\nWe could have our own getters for them, written in C++ so there's only the overhead of a single call.\n\n`is_lpad` should also be accessible through the LLVM API, as it's determined by the presence of a `LandingPadInst`.\n\n`opt_node_id` is not even used in debug info, only for a single `debug!`, in `trans::base::invoke`. Which nowadays has a `debug_loc: DebugLoc` argument, so it's likely entirely redundant.\n\nVerdict: we should be able to pass around only the `BasicBlockRef` and ditch the arena altogether.\nWhere we previously needed 3 lifetimes (`'tcx`, `'fcx` and `'blk` where `fcx: &'fcx FunctionContext<'tcx, 'blk>`), two would work: `Block<'tcx, 'blk>`.\nOr `Block<'tcx, 'fcx>` if that's preferred.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/103794650/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/103799365",
    "html_url": "https://github.com/rust-lang/rust/pull/25332#issuecomment-103799365",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25332",
    "id": 103799365,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwMzc5OTM2NQ==",
    "user": {
      "login": "pythonesque",
      "id": 923144,
      "node_id": "MDQ6VXNlcjkyMzE0NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/923144?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pythonesque",
      "html_url": "https://github.com/pythonesque",
      "followers_url": "https://api.github.com/users/pythonesque/followers",
      "following_url": "https://api.github.com/users/pythonesque/following{/other_user}",
      "gists_url": "https://api.github.com/users/pythonesque/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pythonesque/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pythonesque/subscriptions",
      "organizations_url": "https://api.github.com/users/pythonesque/orgs",
      "repos_url": "https://api.github.com/users/pythonesque/repos",
      "events_url": "https://api.github.com/users/pythonesque/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pythonesque/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-20T07:48:55Z",
    "updated_at": "2015-05-20T07:55:04Z",
    "body": "@eddyb Yes, I also was wondering about the arena.  I think I eventually concluded that the references are held onto somewhere in the drop glue code and that trying to refactor that as well was something I could look at after the initial version landed.\n\nI'm not 100% sure that all those fields are just caches of the LLVM ones; I would have to look into it.  Either way, it seems to me that so long as we're relying on the information living in LLVM, we would still need some sort of lifetime attached (even if only as `PhantomData`) for safety purposes (I realize we're not doing it directly in the `BasicBlockRef`, but we probably should be).\n\nI _think_ I agree that you could get away with not having an explicit lifetime for the `&mut` outside of `Block` in general (though I'm not completely certain--borrowck can be really finicky in situations like this).  But looking ahead, I think we may have to end up adding another lifetime anyway when we deal with the local crate context, which we do want to be `&mut` and which I believe needs to have a disjoint lifetime from the `FunctionContext`'s reference. (I started looking into whether I could do it without adding any more lifetimes and almost immediately ran into issues).\n\nIn general: I agree there is lots of refactoring work we can do on top of this change, but I think it will be _much_ easier to figure out what we can and can't get away with after we are passing around `&mut`s everywhere, since they are the limiting factor.  My experience so far suggests that it can be very hard to predict what difficulties this sort of refactoring is going to hit; as long as we're using `RefCell`s everywhere, local reasoning about what is / should be aliased has a tendency to miss corner cases.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/103799365/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/103820474",
    "html_url": "https://github.com/rust-lang/rust/pull/25332#issuecomment-103820474",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25332",
    "id": 103820474,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwMzgyMDQ3NA==",
    "user": {
      "login": "bors",
      "id": 3372342,
      "node_id": "MDQ6VXNlcjMzNzIzNDI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bors",
      "html_url": "https://github.com/bors",
      "followers_url": "https://api.github.com/users/bors/followers",
      "following_url": "https://api.github.com/users/bors/following{/other_user}",
      "gists_url": "https://api.github.com/users/bors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bors/subscriptions",
      "organizations_url": "https://api.github.com/users/bors/orgs",
      "repos_url": "https://api.github.com/users/bors/repos",
      "events_url": "https://api.github.com/users/bors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bors/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-20T09:19:28Z",
    "updated_at": "2015-05-20T09:19:28Z",
    "body": ":umbrella: The latest upstream changes (presumably #25595) made this pull request unmergeable. Please resolve the merge conflicts.\n",
    "author_association": "COLLABORATOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/103820474/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/103930864",
    "html_url": "https://github.com/rust-lang/rust/pull/25332#issuecomment-103930864",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25332",
    "id": 103930864,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwMzkzMDg2NA==",
    "user": {
      "login": "bors",
      "id": 3372342,
      "node_id": "MDQ6VXNlcjMzNzIzNDI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bors",
      "html_url": "https://github.com/bors",
      "followers_url": "https://api.github.com/users/bors/followers",
      "following_url": "https://api.github.com/users/bors/following{/other_user}",
      "gists_url": "https://api.github.com/users/bors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bors/subscriptions",
      "organizations_url": "https://api.github.com/users/bors/orgs",
      "repos_url": "https://api.github.com/users/bors/repos",
      "events_url": "https://api.github.com/users/bors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bors/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-20T15:39:10Z",
    "updated_at": "2015-05-20T15:39:10Z",
    "body": ":umbrella: The latest upstream changes (presumably #25645) made this pull request unmergeable. Please resolve the merge conflicts.\n",
    "author_association": "COLLABORATOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/103930864/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/104027805",
    "html_url": "https://github.com/rust-lang/rust/pull/25332#issuecomment-104027805",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25332",
    "id": 104027805,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNDAyNzgwNQ==",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-20T20:31:34Z",
    "updated_at": "2015-05-20T20:31:34Z",
    "body": "I started a discuss thread to discuss this approach, since it seems to have some pros and cons: \n\nhttps://internals.rust-lang.org/t/prs-removing-refcells-longer-term-plans/2099\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/104027805/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/104917503",
    "html_url": "https://github.com/rust-lang/rust/pull/25332#issuecomment-104917503",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25332",
    "id": 104917503,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNDkxNzUwMw==",
    "user": {
      "login": "bors",
      "id": 3372342,
      "node_id": "MDQ6VXNlcjMzNzIzNDI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bors",
      "html_url": "https://github.com/bors",
      "followers_url": "https://api.github.com/users/bors/followers",
      "following_url": "https://api.github.com/users/bors/following{/other_user}",
      "gists_url": "https://api.github.com/users/bors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bors/subscriptions",
      "organizations_url": "https://api.github.com/users/bors/orgs",
      "repos_url": "https://api.github.com/users/bors/repos",
      "events_url": "https://api.github.com/users/bors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bors/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-23T16:05:07Z",
    "updated_at": "2015-05-23T16:05:07Z",
    "body": ":umbrella: The latest upstream changes (presumably #25653) made this pull request unmergeable. Please resolve the merge conflicts.\n",
    "author_association": "COLLABORATOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/104917503/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/118638585",
    "html_url": "https://github.com/rust-lang/rust/pull/25332#issuecomment-118638585",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25332",
    "id": 118638585,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExODYzODU4NQ==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-07-05T17:08:23Z",
    "updated_at": "2015-07-05T17:08:23Z",
    "body": "Closing due to inactivity, but feel free to reopen with a rebase!\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/118638585/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
