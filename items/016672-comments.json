[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53073856",
    "html_url": "https://github.com/rust-lang/rust/issues/16672#issuecomment-53073856",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/16672",
    "id": 53073856,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzMDczODU2",
    "user": {
      "login": "pfalabella",
      "id": 1331706,
      "node_id": "MDQ6VXNlcjEzMzE3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1331706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pfalabella",
      "html_url": "https://github.com/pfalabella",
      "followers_url": "https://api.github.com/users/pfalabella/followers",
      "following_url": "https://api.github.com/users/pfalabella/following{/other_user}",
      "gists_url": "https://api.github.com/users/pfalabella/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pfalabella/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pfalabella/subscriptions",
      "organizations_url": "https://api.github.com/users/pfalabella/orgs",
      "repos_url": "https://api.github.com/users/pfalabella/repos",
      "events_url": "https://api.github.com/users/pfalabella/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pfalabella/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-22T15:20:37Z",
    "updated_at": "2014-08-22T15:20:37Z",
    "body": "correction... the closure does not actually need to be generic. Simplified repro:\n\n``` rust\n#![feature(unboxed_closures)]\n\nfn main() {\n    let f = |&: x:uint| {x};\n    let bar = foo(f);\n    println!(\"{}\", bar.call((1,)));\n}\n\nfn foo<F: Fn<(uint,), uint>>(f: F) -> Box<Fn<(uint,),uint>> {\n   ( box |&: x: uint| f.call((x,))) as Box<Fn<(uint,), uint>>\n}\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53073856/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53953882",
    "html_url": "https://github.com/rust-lang/rust/issues/16672#issuecomment-53953882",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/16672",
    "id": 53953882,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzOTUzODgy",
    "user": {
      "login": "pfalabella",
      "id": 1331706,
      "node_id": "MDQ6VXNlcjEzMzE3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1331706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pfalabella",
      "html_url": "https://github.com/pfalabella",
      "followers_url": "https://api.github.com/users/pfalabella/followers",
      "following_url": "https://api.github.com/users/pfalabella/following{/other_user}",
      "gists_url": "https://api.github.com/users/pfalabella/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pfalabella/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pfalabella/subscriptions",
      "organizations_url": "https://api.github.com/users/pfalabella/orgs",
      "repos_url": "https://api.github.com/users/pfalabella/repos",
      "events_url": "https://api.github.com/users/pfalabella/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pfalabella/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-30T09:43:52Z",
    "updated_at": "2014-08-30T09:44:32Z",
    "body": "Now needs explicit 'static bound to repro:\n\n``` rust\n#![feature(unboxed_closures)]\n\nfn main() {\n    let f = |&: | { };\n    let bar = foo(f);\n    println!(\"{}\" , bar.call (()) );\n}\n\nfn foo<F: Fn<(), ()> + 'static>(f: F) -> Box<Fn<(), ()> + 'static> {\n    ( box |&: | f.call(())) as Box<Fn<(), ()>>\n}\n```\n\n```\nerror: internal compiler error: fictitious type F in sizing_type_of()\nnote: the compiler hit an unexpected failure path. this is a bug.\nnote: we would appreciate a bug report: http://doc.rust-lang.org/complement-bugreport.html\nnote: run with `RUST_BACKTRACE=1` for a backtrace\ntask 'rustc' failed at 'Box<Any>', /build/rust-git/src/rust/src/libsyntax/ast_util.rs:784\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53953882/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/58199934",
    "html_url": "https://github.com/rust-lang/rust/issues/16672#issuecomment-58199934",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/16672",
    "id": 58199934,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4MTk5OTM0",
    "user": {
      "login": "pfalabella",
      "id": 1331706,
      "node_id": "MDQ6VXNlcjEzMzE3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1331706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pfalabella",
      "html_url": "https://github.com/pfalabella",
      "followers_url": "https://api.github.com/users/pfalabella/followers",
      "following_url": "https://api.github.com/users/pfalabella/following{/other_user}",
      "gists_url": "https://api.github.com/users/pfalabella/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pfalabella/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pfalabella/subscriptions",
      "organizations_url": "https://api.github.com/users/pfalabella/orgs",
      "repos_url": "https://api.github.com/users/pfalabella/repos",
      "events_url": "https://api.github.com/users/pfalabella/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pfalabella/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-10-07T15:09:33Z",
    "updated_at": "2014-10-07T15:23:09Z",
    "body": "now needs move to repro:\n\n``` rust\n#![feature(unboxed_closures)]\n\nfn main() {\n    let f = |&: | { };\n    let bar = foo(f);\n    println!(\"{}\" , bar.call (()) );\n}\n\nfn foo<F: Fn<(), ()> + 'static>(f: F) -> Box<Fn<(), ()> + 'static> {\n    ( box move |&: | f.call(())) as Box<Fn<(), ()>>\n}\n```\n\nerror is now reported in diagnostic.rs though\n\n```\nerror: internal compiler error: fictitious type F in sizing_type_of()\nnote: the compiler hit an unexpected failure path. this is a bug.\nnote: we would appreciate a bug report: http://doc.rust-lang.org/complement-bugreport.html\nnote: run with `RUST_BACKTRACE=1` for a backtrace\ntask 'rustc' failed at 'Box<Any>', /build/rust-git/src/rust/src/libsyntax/diagnostic.rs:169\n```\n\nbacktrace\n\n```\nstack backtrace:\n   1:         0x66be29a8 - ZN2rt9backtrace3imp5write20hc5b481d5cd57af2aE9qE\n   2:         0x66be641b - ZN2rt4init20hffee7254612f46fffnrE\n   3:         0x668461cd - ZN6unwind18begin_unwind_inner20h484cd690c7389d13QhdE\n   4:         0x6a675f76 - ZN10diagnostic11SpanHandler8span_bug20h61400d8c039e9bc6GMFE\n   5:         0x6a676587 - ZN10diagnostic7Handler3bug20h637401670639e998ISFE\n   6:           0x6ec9a2 - ZN6driver7session7Session3bug20h63d7d8460a66e09cFyxE\n   7:           0xa83406 - ZN6middle5trans7type_of14sizing_type_of20hdd8be8c0c6eb6373zH9E\n   8:           0xb7db11 - ZN6middle5trans3adt27PointerField...std..cmp..Eq27assert_receiver_is_tota\nl_eq20ha32c3709fd4604c4JutE\n   9:           0xa7c679 - ZN6middle5trans3adt14represent_type20h1294e6e14e5ff75ey5sE\n  10:           0xa77577 - ZN6middle5trans7type_of7type_of20hafb26f53ba254fd53N9E\n  11:           0xab45b5 - ZN6middle5trans7closure25make_closure_from_bare_fn20h4f1bcbc87f46e2c3lljE\n\n  12:           0xab503e - ZN6middle5trans7closure25make_closure_from_bare_fn20h4f1bcbc87f46e2c3lljE\n\n  13:           0xaaaf48 - ZN6middle2ty9expr_kind20h949e0064a45a1e82ilGE\n  14:           0xa729df - ZN6middle5trans4expr5trans20ha48b94e0db233834pN2E\n  15:           0xaaab87 - ZN6middle2ty9expr_kind20h949e0064a45a1e82ilGE\n  16:           0xa729df - ZN6middle5trans4expr5trans20ha48b94e0db233834pN2E\n  17:           0xaad323 - ZN6middle2ty9expr_kind20h949e0064a45a1e82ilGE\n  18:           0xa71723 - ZN6middle5trans4expr10trans_into20h96733f5255894c9dvJ2E\n  19:           0xa71a5b - ZN6middle5trans11controlflow11trans_block20hc018d4181ef5114d2WYE\n  20:           0xb15c90 - ZN6middle5trans4base13trans_closure20hfb78e3f15b7b784dTQeE\n  21:           0xa6411d - ZN6middle5trans4base8trans_fn20h94c1533573410e77h2eE\n  22:           0xa658e1 - ZN6middle5trans12monomorphize14monomorphic_fn20h1618738c6d1617aeKoYE\n  23:           0xa9921a - ZN6middle5trans6callee24trans_fn_ref_with_substs20h26b3d37002d9819aFD1E\n  24:           0xa95e6e - ZN6middle5trans6callee12trans_fn_ref20hc6e86523bc4e67a9fs1E\n  25:           0xa9de9c - ZN6middle5trans6common9expr_info20haa29a9eb7befc8d0bZ5E\n  26:           0xa78a4b - ZN6middle5trans6callee16trans_call_inner20hf94d81b3cc0dc994nZ1E\n  27:           0xa9d5e0 - ZN6middle5trans6callee10trans_call20h61df90c183273a62IT1E\n  28:           0xaace3b - ZN6middle2ty9expr_kind20h949e0064a45a1e82ilGE\n  29:           0xa71723 - ZN6middle5trans4expr10trans_into20h96733f5255894c9dvJ2E\n  30:           0xb40c48 - ZN6middle5trans7cleanup9var_scope20h86fc45f82162f649VtxE\n  31:           0xb40b18 - ZN6middle5trans7cleanup9var_scope20h86fc45f82162f649VtxE\n  32:           0xb0d88f - ZN6middle5trans6_match11store_local20hac621f306ab9420b9eiE\n  33:           0xa70d13 - ZN6middle5trans4base10init_local20hf01d11915bad5b1btZdE\n  34:           0xa701e6 - ZN6middle5trans11controlflow10trans_stmt20h6a327ed75a825439WRYE\n  35:           0xa71969 - ZN6middle5trans11controlflow11trans_block20hc018d4181ef5114d2WYE\n  36:           0xb15c90 - ZN6middle5trans4base13trans_closure20hfb78e3f15b7b784dTQeE\n  37:           0xa6411d - ZN6middle5trans4base8trans_fn20h94c1533573410e77h2eE\n  38:           0xa617ec - ZN6middle5trans4base10trans_item20h7a9c36ad77c3fd91AlfE\n  39:           0xb1f009 - ZN6middle5trans4base11trans_crate20ha6d41362f46fe1abQlgE\n  40:           0xf4daf9 - ZN6driver6driver25phase_4_translate_to_llvm20hc8eefbd8dad9706cjZwE\n  41:           0xf461f4 - ZN6driver6driver13compile_input20h0eef3c908953a111ewwE\n  42:           0xfc2dff - ZN6driver7monitor20hcdaa282087678b71SaBE\n  43:           0xfc1170 - ZN6driver7monitor20hcdaa282087678b71SaBE\n  44:           0x71bf55 - ZN6driver6driver35OutputFilenames...std..clone..Clone5clone20h22daf11eed5\n36512ElxE\n  45:           0x71be97 - ZN6driver6driver35OutputFilenames...std..clone..Clone5clone20h22daf11eed5\n36512ElxE\n  46:         0x7072945c - ZN4task10spawn_opts20hae91090f93dc8031FteE\n  47:         0x668aab5f - rust_try\n  48:         0x668aab39 - rust_try\n  49:         0x6684432e - ZN6unwind3try20hba110656f3557a7bU4cE\n  50:         0x66844189 - ZN4task4Task3run20hdb858a047ca67fa4kzcE\n  51:         0x707292b6 - ZN4task10spawn_opts20hae91090f93dc8031FteE\n  52:         0x66845807 - ZN4task11BlockedTask14cast_from_uint20hffe040d42c989c01XRcE\n  53:         0x76ad59ed - BaseThreadInitThunk\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/58199934/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/59639601",
    "html_url": "https://github.com/rust-lang/rust/issues/16672#issuecomment-59639601",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/16672",
    "id": 59639601,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5NjM5NjAx",
    "user": {
      "login": "bkoropoff",
      "id": 2101303,
      "node_id": "MDQ6VXNlcjIxMDEzMDM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2101303?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bkoropoff",
      "html_url": "https://github.com/bkoropoff",
      "followers_url": "https://api.github.com/users/bkoropoff/followers",
      "following_url": "https://api.github.com/users/bkoropoff/following{/other_user}",
      "gists_url": "https://api.github.com/users/bkoropoff/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bkoropoff/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bkoropoff/subscriptions",
      "organizations_url": "https://api.github.com/users/bkoropoff/orgs",
      "repos_url": "https://api.github.com/users/bkoropoff/repos",
      "events_url": "https://api.github.com/users/bkoropoff/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bkoropoff/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-10-19T05:11:44Z",
    "updated_at": "2014-10-19T05:11:44Z",
    "body": "I think this is the same as #16791.  In particular, the closure is capturing a free variable with a generic type which trans fails to monomorphize and chokes on.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/59639601/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/60856720",
    "html_url": "https://github.com/rust-lang/rust/issues/16672#issuecomment-60856720",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/16672",
    "id": 60856720,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwODU2NzIw",
    "user": {
      "login": "bkoropoff",
      "id": 2101303,
      "node_id": "MDQ6VXNlcjIxMDEzMDM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2101303?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bkoropoff",
      "html_url": "https://github.com/bkoropoff",
      "followers_url": "https://api.github.com/users/bkoropoff/followers",
      "following_url": "https://api.github.com/users/bkoropoff/following{/other_user}",
      "gists_url": "https://api.github.com/users/bkoropoff/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bkoropoff/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bkoropoff/subscriptions",
      "organizations_url": "https://api.github.com/users/bkoropoff/orgs",
      "repos_url": "https://api.github.com/users/bkoropoff/repos",
      "events_url": "https://api.github.com/users/bkoropoff/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bkoropoff/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-10-29T00:40:38Z",
    "updated_at": "2014-10-29T00:40:38Z",
    "body": "The latest example now builds for me, and I think the existing tests cover this well enough, so this issue can be closed.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/60856720/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/60856899",
    "html_url": "https://github.com/rust-lang/rust/issues/16672#issuecomment-60856899",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/16672",
    "id": 60856899,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwODU2ODk5",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-10-29T00:42:32Z",
    "updated_at": "2014-10-29T00:42:32Z",
    "body": "Thanks @bkoropoff!\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/60856899/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
