[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/17614721",
    "html_url": "https://github.com/rust-lang/rust/pull/6333#issuecomment-17614721",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6333",
    "id": 17614721,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3NjE0NzIx",
    "user": {
      "login": "brendanzab",
      "id": 695077,
      "node_id": "MDQ6VXNlcjY5NTA3Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/695077?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brendanzab",
      "html_url": "https://github.com/brendanzab",
      "followers_url": "https://api.github.com/users/brendanzab/followers",
      "following_url": "https://api.github.com/users/brendanzab/following{/other_user}",
      "gists_url": "https://api.github.com/users/brendanzab/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brendanzab/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brendanzab/subscriptions",
      "organizations_url": "https://api.github.com/users/brendanzab/orgs",
      "repos_url": "https://api.github.com/users/brendanzab/repos",
      "events_url": "https://api.github.com/users/brendanzab/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brendanzab/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-05-08T15:49:54Z",
    "updated_at": "2013-05-08T15:49:54Z",
    "body": "@graydon r?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/17614721/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/17630337",
    "html_url": "https://github.com/rust-lang/rust/pull/6333#issuecomment-17630337",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6333",
    "id": 17630337,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3NjMwMzM3",
    "user": {
      "login": "graydon",
      "id": 14097,
      "node_id": "MDQ6VXNlcjE0MDk3",
      "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/graydon",
      "html_url": "https://github.com/graydon",
      "followers_url": "https://api.github.com/users/graydon/followers",
      "following_url": "https://api.github.com/users/graydon/following{/other_user}",
      "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/graydon/subscriptions",
      "organizations_url": "https://api.github.com/users/graydon/orgs",
      "repos_url": "https://api.github.com/users/graydon/repos",
      "events_url": "https://api.github.com/users/graydon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/graydon/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-05-08T20:05:23Z",
    "updated_at": "2013-05-08T20:05:23Z",
    "body": "nice. Can it use `cond! { ... }` invocation? and can it possibly dispense with the `|` markers? Or do these make it not parse right?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/17630337/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/17631577",
    "html_url": "https://github.com/rust-lang/rust/pull/6333#issuecomment-17631577",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6333",
    "id": 17631577,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3NjMxNTc3",
    "user": {
      "login": "brendanzab",
      "id": 695077,
      "node_id": "MDQ6VXNlcjY5NTA3Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/695077?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brendanzab",
      "html_url": "https://github.com/brendanzab",
      "followers_url": "https://api.github.com/users/brendanzab/followers",
      "following_url": "https://api.github.com/users/brendanzab/following{/other_user}",
      "gists_url": "https://api.github.com/users/brendanzab/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brendanzab/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brendanzab/subscriptions",
      "organizations_url": "https://api.github.com/users/brendanzab/orgs",
      "repos_url": "https://api.github.com/users/brendanzab/repos",
      "events_url": "https://api.github.com/users/brendanzab/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brendanzab/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-05-08T20:27:08Z",
    "updated_at": "2013-05-08T20:27:08Z",
    "body": "Ahh yes. I [tried without the markers](https://gist.github.com/bjz/32d12591b55f3b6488a4), but I get:\n\n```\ncond.rs:16:8: 16:9 error: Local ambiguity: multiple parsing options: built-in NTs expr ('pred') or 1 other options.\ncond.rs:16         _     { io::println(~\"bananas\"); }\n                   ^\n```\n\nHow would I switch to using `{ ... }`. That would be awesome. I tried before, but couldn't figure out how to do it.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/17631577/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/17634772",
    "html_url": "https://github.com/rust-lang/rust/pull/6333#issuecomment-17634772",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6333",
    "id": 17634772,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3NjM0Nzcy",
    "user": {
      "login": "brendanzab",
      "id": 695077,
      "node_id": "MDQ6VXNlcjY5NTA3Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/695077?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brendanzab",
      "html_url": "https://github.com/brendanzab",
      "followers_url": "https://api.github.com/users/brendanzab/followers",
      "following_url": "https://api.github.com/users/brendanzab/following{/other_user}",
      "gists_url": "https://api.github.com/users/brendanzab/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brendanzab/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brendanzab/subscriptions",
      "organizations_url": "https://api.github.com/users/brendanzab/orgs",
      "repos_url": "https://api.github.com/users/brendanzab/repos",
      "events_url": "https://api.github.com/users/brendanzab/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brendanzab/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-05-08T21:21:47Z",
    "updated_at": "2013-05-08T21:21:47Z",
    "body": "@graydon should we close this until those things can be fixed? Or are you happy with having this in the interim?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/17634772/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/17649068",
    "html_url": "https://github.com/rust-lang/rust/pull/6333#issuecomment-17649068",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/6333",
    "id": 17649068,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3NjQ5MDY4",
    "user": {
      "login": "brendanzab",
      "id": 695077,
      "node_id": "MDQ6VXNlcjY5NTA3Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/695077?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brendanzab",
      "html_url": "https://github.com/brendanzab",
      "followers_url": "https://api.github.com/users/brendanzab/followers",
      "following_url": "https://api.github.com/users/brendanzab/following{/other_user}",
      "gists_url": "https://api.github.com/users/brendanzab/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brendanzab/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brendanzab/subscriptions",
      "organizations_url": "https://api.github.com/users/brendanzab/orgs",
      "repos_url": "https://api.github.com/users/brendanzab/repos",
      "events_url": "https://api.github.com/users/brendanzab/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brendanzab/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-05-09T04:37:19Z",
    "updated_at": "2013-05-13T16:25:25Z",
    "body": "@graydon ok, I have a possible interim fix for the bad parsing without using the `|`s.\n\n``` rust\nmacro_rules! cond(\n    ($(($pred:expr) $body:block)+ _ $default:block) => (\n        $(if $pred $body )else+\n        else $default\n    );\n    ($(($pred:expr) $body:block)+) => (\n        $(if $pred $body )else+\n    );\n)\n\nfn main() {\n    let x = 1;\n    cond!(\n        (x < 0) { io::println(~\"woops\");   }\n        (true ) { io::println(~\"hullo\");   }\n        _       { io::println(~\"bananas\"); }\n    )\n\n    cond!(\n        (x < 0) { io::println(~\"woops\");   }\n        (true ) { io::println(~\"hullo\");   }\n    )\n}\n```\n\nIt's not the greatest solution, but it is a backwards compatible fix that could serve us until the macro parser can be improved (or rewritten) to enable:\n\n``` rust\ncond! {\n    x < 0 { io::println(~\"woops\");   }\n    true  { io::println(~\"hullo\");   }\n    _     { io::println(~\"bananas\"); }\n}\n```\n\nI definitely think the above syntax is what we should aim for, if macros could ever allow it.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/17649068/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
