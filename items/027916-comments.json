[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/133009189",
    "html_url": "https://github.com/rust-lang/rust/pull/27916#issuecomment-133009189",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27916",
    "id": 133009189,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMzAwOTE4OQ==",
    "user": {
      "login": "rust-highfive",
      "id": 7378925,
      "node_id": "MDQ6VXNlcjczNzg5MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7378925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rust-highfive",
      "html_url": "https://github.com/rust-highfive",
      "followers_url": "https://api.github.com/users/rust-highfive/followers",
      "following_url": "https://api.github.com/users/rust-highfive/following{/other_user}",
      "gists_url": "https://api.github.com/users/rust-highfive/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rust-highfive/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rust-highfive/subscriptions",
      "organizations_url": "https://api.github.com/users/rust-highfive/orgs",
      "repos_url": "https://api.github.com/users/rust-highfive/repos",
      "events_url": "https://api.github.com/users/rust-highfive/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rust-highfive/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-08-20T13:33:47Z",
    "updated_at": "2015-08-20T13:33:47Z",
    "body": "r? @alexcrichton\n\n(rust_highfive has picked a reviewer for you, use r? to override)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/133009189/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/133009308",
    "html_url": "https://github.com/rust-lang/rust/pull/27916#issuecomment-133009308",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27916",
    "id": 133009308,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMzAwOTMwOA==",
    "user": {
      "login": "tbu-",
      "id": 6666593,
      "node_id": "MDQ6VXNlcjY2NjY1OTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6666593?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tbu-",
      "html_url": "https://github.com/tbu-",
      "followers_url": "https://api.github.com/users/tbu-/followers",
      "following_url": "https://api.github.com/users/tbu-/following{/other_user}",
      "gists_url": "https://api.github.com/users/tbu-/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tbu-/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tbu-/subscriptions",
      "organizations_url": "https://api.github.com/users/tbu-/orgs",
      "repos_url": "https://api.github.com/users/tbu-/repos",
      "events_url": "https://api.github.com/users/tbu-/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tbu-/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-08-20T13:34:15Z",
    "updated_at": "2015-08-20T13:34:15Z",
    "body": "Example of a program that doesn't work before, but works afterwards:\n\n```\nuse std::fs;\nuse std::iter;\nuse std::path::PathBuf;\n\nfn main() {\n    let mut path = PathBuf::new();\n    let long_string: String = iter::repeat(\"a\").take(128).collect();\n    for i in 0..10 {\n        path.push(&long_string);\n        println!(\"creating {}\", i);\n        fs::create_dir(&path).unwrap();\n    }\n    for i in (0..10).rev() {\n        println!(\"removing {}\", i);\n        fs::remove_dir(&path).unwrap();\n        path.pop();\n    }\n}\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/133009308/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/133077943",
    "html_url": "https://github.com/rust-lang/rust/pull/27916#issuecomment-133077943",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27916",
    "id": 133077943,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMzA3Nzk0Mw==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-08-20T17:06:18Z",
    "updated_at": "2015-08-20T17:06:18Z",
    "body": "Out of curiosity, is there precedent for this in other I/O libraries? In general I think it's quite valuable that we perform 0 interpretation of the path coming into these APIs and allow the underlying system APIs to interpret them however they'd like. In the past any sort of layering we add on top inevitably breaks some obscure case in some API, so just passing everything through seems like the best option.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/133077943/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/133209028",
    "html_url": "https://github.com/rust-lang/rust/pull/27916#issuecomment-133209028",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27916",
    "id": 133209028,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMzIwOTAyOA==",
    "user": {
      "login": "tbu-",
      "id": 6666593,
      "node_id": "MDQ6VXNlcjY2NjY1OTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6666593?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tbu-",
      "html_url": "https://github.com/tbu-",
      "followers_url": "https://api.github.com/users/tbu-/followers",
      "following_url": "https://api.github.com/users/tbu-/following{/other_user}",
      "gists_url": "https://api.github.com/users/tbu-/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tbu-/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tbu-/subscriptions",
      "organizations_url": "https://api.github.com/users/tbu-/orgs",
      "repos_url": "https://api.github.com/users/tbu-/repos",
      "events_url": "https://api.github.com/users/tbu-/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tbu-/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-08-20T23:15:57Z",
    "updated_at": "2015-08-20T23:19:34Z",
    "body": "> Out of curiosity, is there precedent for this in other I/O libraries?\n\nI don't know \u2013 haven't looked it up, although I couldn't find something with a quick google search.\n\n> In general I think it's quite valuable that we perform 0 interpretation of the path coming into these APIs and allow the underlying system APIs to interpret them however they'd like. In the past any sort of layering we add on top inevitably breaks some obscure case in some API, so just passing everything through seems like the best option.\n\nIt's pretty hard to say something to that, as this is pretty hand-wavy \u2013 the pull request is not adding it to all functions, but rather it can be reviewed on a case-by-case basis for each function by looking at its documentation (EDIT: I guess one should look a bit at the link functions for this). I think we already do some kind of normalization already, namely stripping empty path components (?).\n\nEDIT2: It'd also be valuable that you wouldn't have to care about Windows' quirks about path lengths in Rust programs.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/133209028/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/133973338",
    "html_url": "https://github.com/rust-lang/rust/pull/27916#issuecomment-133973338",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27916",
    "id": 133973338,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMzk3MzMzOA==",
    "user": {
      "login": "tbu-",
      "id": 6666593,
      "node_id": "MDQ6VXNlcjY2NjY1OTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6666593?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tbu-",
      "html_url": "https://github.com/tbu-",
      "followers_url": "https://api.github.com/users/tbu-/followers",
      "following_url": "https://api.github.com/users/tbu-/following{/other_user}",
      "gists_url": "https://api.github.com/users/tbu-/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tbu-/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tbu-/subscriptions",
      "organizations_url": "https://api.github.com/users/tbu-/orgs",
      "repos_url": "https://api.github.com/users/tbu-/repos",
      "events_url": "https://api.github.com/users/tbu-/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tbu-/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-08-24T00:30:48Z",
    "updated_at": "2015-08-24T00:30:48Z",
    "body": "Documentation of the functions, in order of appearance in the source code:\n[CreateFile](https://msdn.microsoft.com/en-us/library/windows/desktop/aa363858%28v=vs.85%29.aspx)\n[CreateDirectory](https://msdn.microsoft.com/en-us/library/windows/desktop/aa363855%28v=vs.85%29.aspx)\n[FindFirstFile](https://msdn.microsoft.com/en-us/library/windows/desktop/aa364418%28v=vs.85%29.aspx)\n[DeleteFile](https://msdn.microsoft.com/en-us/library/windows/desktop/aa363915%28v=vs.85%29.aspx)\n[MoveFileEx](https://msdn.microsoft.com/en-us/library/windows/desktop/aa365240%28v=vs.85%29.aspx)\n[RemoveDirectory](https://msdn.microsoft.com/en-us/library/windows/desktop/aa365488%28v=vs.85%29.aspx)\n[CreateSymbolicLink](https://msdn.microsoft.com/en-us/library/windows/desktop/aa363866%28v=vs.85%29.aspx)\n[CreateHardLink](https://msdn.microsoft.com/en-us/library/windows/desktop/aa363860%28v=vs.85%29.aspx)\n[GetFileAttributesEx](https://msdn.microsoft.com/en-us/library/windows/desktop/aa364946%28v=vs.85%29.aspx)\n[SetFileAttributes](https://msdn.microsoft.com/en-us/library/windows/desktop/aa365535%28v=vs.85%29.aspx)\n[CopyFileEx](https://msdn.microsoft.com/en-us/library/windows/desktop/aa363852%28v=vs.85%29.aspx)\n\nAll these functions (except for the link functions) are documented with:\n\n> In the ANSI version of this function, the name is limited to <b>MAX_PATH</b> characters. To extend this limit to 32,767 wide characters, call the Unicode version of the function and prepend \"\\\\?\\\" to the path. For more information, see [Naming Files, Paths, and Namespaces](https://msdn.microsoft.com/en-us/library/windows/desktop/aa365247%28v=vs.85%29.aspx).\n\nThis means the official documentation recommends using these \"\\\\?\\\" in order to get around the `MAX_PATH` limitation.\n\nThe `CreateSoftLink` function will need to be special cased to allow a strictly-relative path to pass through, as it's documented that these behave different. Non-strictly-relative paths, like `C:foobar` are still expanded using the current working directory though (as specified in the documentation).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/133973338/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/134029804",
    "html_url": "https://github.com/rust-lang/rust/pull/27916#issuecomment-134029804",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27916",
    "id": 134029804,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzNDAyOTgwNA==",
    "user": {
      "login": "retep998",
      "id": 666308,
      "node_id": "MDQ6VXNlcjY2NjMwOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/666308?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/retep998",
      "html_url": "https://github.com/retep998",
      "followers_url": "https://api.github.com/users/retep998/followers",
      "following_url": "https://api.github.com/users/retep998/following{/other_user}",
      "gists_url": "https://api.github.com/users/retep998/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/retep998/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/retep998/subscriptions",
      "organizations_url": "https://api.github.com/users/retep998/orgs",
      "repos_url": "https://api.github.com/users/retep998/repos",
      "events_url": "https://api.github.com/users/retep998/events{/privacy}",
      "received_events_url": "https://api.github.com/users/retep998/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-08-24T04:29:39Z",
    "updated_at": "2015-08-24T04:32:14Z",
    "body": "After doing some testing locally, it appears that `..` in a path on Windows completely disregards symbolic links and just pops the last component. Also Windows is able to handle verbatim paths that have symbolic links in them just fine. As well I am unable to create files named `.` or `..`, even using verbatim paths. Therefore I am under the impression that this technique of simple text manipulation to strip `.` and `..` should work perfectly fine. However, I do think this should be factored out into two public unstable methods, one to make a path absolute, and another to normalize a path.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/134029804/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/134126448",
    "html_url": "https://github.com/rust-lang/rust/pull/27916#issuecomment-134126448",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27916",
    "id": 134126448,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzNDEyNjQ0OA==",
    "user": {
      "login": "tbu-",
      "id": 6666593,
      "node_id": "MDQ6VXNlcjY2NjY1OTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6666593?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tbu-",
      "html_url": "https://github.com/tbu-",
      "followers_url": "https://api.github.com/users/tbu-/followers",
      "following_url": "https://api.github.com/users/tbu-/following{/other_user}",
      "gists_url": "https://api.github.com/users/tbu-/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tbu-/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tbu-/subscriptions",
      "organizations_url": "https://api.github.com/users/tbu-/orgs",
      "repos_url": "https://api.github.com/users/tbu-/repos",
      "events_url": "https://api.github.com/users/tbu-/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tbu-/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-08-24T10:03:49Z",
    "updated_at": "2015-08-24T10:03:49Z",
    "body": "@retep998 Yea, I also read that Windows just normalizes the paths before passing them to the file system.\n\nI guess we can create public APIs once this has landed.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/134126448/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/134670534",
    "html_url": "https://github.com/rust-lang/rust/pull/27916#issuecomment-134670534",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27916",
    "id": 134670534,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzNDY3MDUzNA==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-08-25T17:00:25Z",
    "updated_at": "2015-08-25T17:00:25Z",
    "body": "I agree that it's kinda annoying to deal with path length restrictions on Windows, but I'm pretty uneasy about forging ahead here without any prior art. These sorts of conversions have historically been always wrong in one way or another for us, hence our strategy in `std::io` of binding as close to the system as possible _everywhere_.\n\nI think it may be best to develop this sort of functionality externally on crates.io first and see how it plays out before moving it into the standard library to happen by default.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/134670534/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/137981492",
    "html_url": "https://github.com/rust-lang/rust/pull/27916#issuecomment-137981492",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/27916",
    "id": 137981492,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzNzk4MTQ5Mg==",
    "user": {
      "login": "tbu-",
      "id": 6666593,
      "node_id": "MDQ6VXNlcjY2NjY1OTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6666593?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tbu-",
      "html_url": "https://github.com/tbu-",
      "followers_url": "https://api.github.com/users/tbu-/followers",
      "following_url": "https://api.github.com/users/tbu-/following{/other_user}",
      "gists_url": "https://api.github.com/users/tbu-/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tbu-/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tbu-/subscriptions",
      "organizations_url": "https://api.github.com/users/tbu-/orgs",
      "repos_url": "https://api.github.com/users/tbu-/repos",
      "events_url": "https://api.github.com/users/tbu-/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tbu-/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-09-05T17:58:06Z",
    "updated_at": "2015-09-05T17:58:06Z",
    "body": "Closing for now I guess (as a reminder, if this is to be adopted, fix the CreateSymbolicLink function).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/137981492/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
