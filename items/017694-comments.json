[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/57586790",
    "html_url": "https://github.com/rust-lang/rust/issues/17694#issuecomment-57586790",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/17694",
    "id": 57586790,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3NTg2Nzkw",
    "user": {
      "login": "tomjakubowski",
      "id": 667901,
      "node_id": "MDQ6VXNlcjY2NzkwMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/667901?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tomjakubowski",
      "html_url": "https://github.com/tomjakubowski",
      "followers_url": "https://api.github.com/users/tomjakubowski/followers",
      "following_url": "https://api.github.com/users/tomjakubowski/following{/other_user}",
      "gists_url": "https://api.github.com/users/tomjakubowski/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tomjakubowski/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tomjakubowski/subscriptions",
      "organizations_url": "https://api.github.com/users/tomjakubowski/orgs",
      "repos_url": "https://api.github.com/users/tomjakubowski/repos",
      "events_url": "https://api.github.com/users/tomjakubowski/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tomjakubowski/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-10-02T05:40:10Z",
    "updated_at": "2014-10-02T05:41:07Z",
    "body": "I got this same ICE, here's a smaller example:\n\n``` rust\n#![feature(unboxed_closures)]\n\nfn main() {\n    let x = 123i;\n    let _ = |&: | x;\n}\n```\n\nBacktrace:\n\n```\n[tom@elbridge ~]$ rustc --version\nrustc 0.12.0-dev (0c6679652 2014-09-29 21:12:16 +0000)\n[tom@elbridge ~]$ RUST_BACKTRACE=1 rustc foo.rs\nerror: internal compiler error: unexpected failure\nnote: the compiler hit an unexpected failure path. this is a bug.\nnote: we would appreciate a bug report: http://doc.rust-lang.org/complement-bugreport.html\nnote: run with `RUST_BACKTRACE=1` for a backtrace\ntask 'rustc' failed at 'no entry found for key', /build/rust-git/src/rust/src/libstd/collections/hashmap/map.rs:1093\n\nstack backtrace:\n   1:     0x7f6eff51a720 - rt::backtrace::imp::write::ha75ba269c80f79c9UVq\n   2:     0x7f6eff51d8b0 - <unknown>\n   3:     0x7f6effcd2090 - unwind::begin_unwind_inner::h99aec5f720e41c37SUd\n   4:     0x7f6f000a42b0 - <unknown>\n   5:     0x7f6f0027f010 - <unknown>\n   6:     0x7f6f0027eef0 - <unknown>\n   7:     0x7f6f00293040 - <unknown>\n   8:     0x7f6f00292d20 - <unknown>\n   9:     0x7f6f0028cfd0 - middle::borrowck::gather_loans::gather_loans_in_fn::h7ca090ca6cfae9d2P3h\n  10:     0x7f6f002b3310 - <unknown>\n  11:     0x7f6f002b07c0 - <unknown>\n  12:     0x7f6f002b25b0 - <unknown>\n  13:     0x7f6f002b0f70 - middle::borrowck::check_crate::h676a3166f3c656faVGj\n  14:     0x7f6f000c1b40 - <unknown>\n  15:     0x7f6f008f9670 - driver::driver::phase_3_run_analysis_passes::h7ab4d2823326c4fcaMw\n  16:     0x7f6f008f4e80 - driver::driver::compile_input::h47be44a11fe49900Zsw\n  17:     0x7f6f00976e10 - <unknown>\n  18:     0x7f6f00976cf0 - <unknown>\n  19:     0x7f6f000daad0 - <unknown>\n  20:     0x7f6f000da8c0 - <unknown>\n  21:     0x7f6f01282700 - <unknown>\n  22:     0x7f6effd21590 - <unknown>\n  23:     0x7f6effd21580 - rust_try\n  24:     0x7f6effccf220 - unwind::try::had5a0109a3678a47AJd\n  25:     0x7f6effccf0b0 - task::Task::run::h1ae56ff3a9ffb576UYc\n  26:     0x7f6f01282470 - <unknown>\n  27:     0x7f6effcd1130 - <unknown>\n  28:     0x7f6efefe4250 - start_thread\n  29:     0x7f6eff9a83b9 - clone\n  30:                0x0 - <unknown>\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/57586790/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/57680360",
    "html_url": "https://github.com/rust-lang/rust/issues/17694#issuecomment-57680360",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/17694",
    "id": 57680360,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3NjgwMzYw",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-10-02T18:38:44Z",
    "updated_at": "2014-10-02T18:38:44Z",
    "body": "This is unfortunate. I wonder if somebody can bisect and revert. Any changes to closure type checking recently that may have triggered this?\n\ncc @pcwalton @nick29581 @eddyb\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/57680360/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/57737829",
    "html_url": "https://github.com/rust-lang/rust/issues/17694#issuecomment-57737829",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/17694",
    "id": 57737829,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3NzM3ODI5",
    "user": {
      "login": "jgallagher",
      "id": 1435635,
      "node_id": "MDQ6VXNlcjE0MzU2MzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1435635?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jgallagher",
      "html_url": "https://github.com/jgallagher",
      "followers_url": "https://api.github.com/users/jgallagher/followers",
      "following_url": "https://api.github.com/users/jgallagher/following{/other_user}",
      "gists_url": "https://api.github.com/users/jgallagher/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jgallagher/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jgallagher/subscriptions",
      "organizations_url": "https://api.github.com/users/jgallagher/orgs",
      "repos_url": "https://api.github.com/users/jgallagher/repos",
      "events_url": "https://api.github.com/users/jgallagher/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jgallagher/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-10-03T01:24:58Z",
    "updated_at": "2014-10-03T01:24:58Z",
    "body": "I'm super new to rust, so I'll leave the reverting to you guys. I did do the bisect - the commit that introduced this is 2257e231a7e0c455b61c60414a65e89f01cbf509\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/57737829/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/57740641",
    "html_url": "https://github.com/rust-lang/rust/issues/17694#issuecomment-57740641",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/17694",
    "id": 57740641,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3NzQwNjQx",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-10-03T02:15:26Z",
    "updated_at": "2014-10-03T02:15:54Z",
    "body": "A work around (for @tomjakubowski's example at least) is using capture-by-move, e.g.\n\n``` rust\n#![feature(unboxed_closures)]\n\nfn main() {\n    let x = 123i;\n    let _ = move |&: | x;\n}\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/57740641/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/57744017",
    "html_url": "https://github.com/rust-lang/rust/issues/17694#issuecomment-57744017",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/17694",
    "id": 57744017,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3NzQ0MDE3",
    "user": {
      "login": "reem",
      "id": 4745181,
      "node_id": "MDQ6VXNlcjQ3NDUxODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4745181?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/reem",
      "html_url": "https://github.com/reem",
      "followers_url": "https://api.github.com/users/reem/followers",
      "following_url": "https://api.github.com/users/reem/following{/other_user}",
      "gists_url": "https://api.github.com/users/reem/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/reem/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/reem/subscriptions",
      "organizations_url": "https://api.github.com/users/reem/orgs",
      "repos_url": "https://api.github.com/users/reem/repos",
      "events_url": "https://api.github.com/users/reem/events{/privacy}",
      "received_events_url": "https://api.github.com/users/reem/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-10-03T02:48:10Z",
    "updated_at": "2014-10-03T02:48:10Z",
    "body": "That's what I tried in iron too, looks like it's working.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/57744017/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/57789968",
    "html_url": "https://github.com/rust-lang/rust/issues/17694#issuecomment-57789968",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/17694",
    "id": 57789968,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3Nzg5OTY4",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-10-03T12:27:53Z",
    "updated_at": "2014-10-03T12:27:53Z",
    "body": "Closing as a dupe of https://github.com/rust-lang/rust/issues/17655. (Thanks for bisecting @jgallagher!)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/57789968/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
