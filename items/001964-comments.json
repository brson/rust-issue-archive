[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/4458757",
    "html_url": "https://github.com/rust-lang/rust/issues/1964#issuecomment-4458757",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/1964",
    "id": 4458757,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0NTg3NTc=",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-03-12T18:46:59Z",
    "updated_at": "2012-03-12T18:46:59Z",
    "body": "Here's a slightly reduced test case:\n\n```\nuse std;\nimport std::map;\nimport map::hashmap;\n\nfn main(args: [str]) {\n    let t = map::new_str_hash();\n    let aa = \"g\";\n    t.insert(aa, {x:aa});\n}\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/4458757/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/4459075",
    "html_url": "https://github.com/rust-lang/rust/issues/1964#issuecomment-4459075",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/1964",
    "id": 4459075,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0NTkwNzU=",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-03-12T19:01:52Z",
    "updated_at": "2012-03-12T19:01:52Z",
    "body": "Here's what valgrind says:\n\n```\n==8818== Thread 9:\n==8818== Invalid read of size 8\n==8818==    at 0x4E7AC3C: str::hash::_31827ae260e7bf7b (in /home/banderson/Dev/rust/build/x86_64-unknown-linux-gnu/stage1/lib/rustc/x86_64-unknown-linux-gnu/lib/libcore-14bd852465126fe7-0.1.so)\n==8818==    by 0x51F68C4: map::chained::insert::_6cad5a231a3253ac (in /home/banderson/Dev/rust/build/x86_64-unknown-linux-gnu/stage1/lib/rustc/x86_64-unknown-linux-gnu/lib/libstd-79ca5fac56b63fde-0.1.so)\n==8818==    by 0x519FCC5: _ZN3map7chained7hashmap5168726insert17_76e8354b7f8b17bdE (in /home/banderson/Dev/rust/build/x86_64-unknown-linux-gnu/stage1/lib/rustc/x86_64-unknown-linux-gnu/lib/libstd-79ca5fac56b63fde-0.1.so)\n==8818==    by 0x401197: main::_e915de59229b3560 (in /home/banderson/Dev/rust/build/x86_64-unknown-linux-gnu/test/run-pass/issue-1964.stage1-x86_64-unknown-linux-gnu)\n==8818==    by 0x4012F1: _rust_main (in /home/banderson/Dev/rust/build/x86_64-unknown-linux-gnu/test/run-pass/issue-1964.stage1-x86_64-unknown-linux-gnu)\n==8818==    by 0x5754F5A: task_start_wrapper(spawn_args*) (rust_task.cpp:184)\n==8818==  Address 0x0 is not stack'd, malloc'd or (recently) free'd\n==8818==\n==8818==\n==8818== Process terminating with default action of signal 11 (SIGSEGV)\n==8818==  Access not within mapped region at address 0x0\n==8818==    at 0x4E7AC3C: str::hash::_31827ae260e7bf7b (in /home/banderson/Dev/rust/build/x86_64-unknown-linux-gnu/stage1/lib/rustc/x86_64-unknown-linux-gnu/lib/libcore-14bd852465126fe7-0.1.so)\n==8818==    by 0x51F68C4: map::chained::insert::_6cad5a231a3253ac (in /home/banderson/Dev/rust/build/x86_64-unknown-linux-gnu/stage1/lib/rustc/x86_64-unknown-linux-gnu/lib/libstd-79ca5fac56b63fde-0.1.so)\n==8818==    by 0x519FCC5: _ZN3map7chained7hashmap5168726insert17_76e8354b7f8b17bdE (in /home/banderson/Dev/rust/build/x86_64-unknown-linux-gnu/stage1/lib/rustc/x86_64-unknown-linux-gnu/lib/libstd-79ca5fac56b63fde-0.1.so)\n==8818==    by 0x401197: main::_e915de59229b3560 (in /home/banderson/Dev/rust/build/x86_64-unknown-linux-gnu/test/run-pass/issue-1964.stage1-x86_64-unknown-linux-gnu)\n==8818==    by 0x4012F1: _rust_main (in /home/banderson/Dev/rust/build/x86_64-unknown-linux-gnu/test/run-pass/issue-1964.stage1-x86_64-unknown-linux-gnu)\n==8818==    by 0x5754F5A: task_start_wrapper(spawn_args*) (rust_task.cpp:184)\n==8818==  If you believe this happened as a result of a stack\n==8818==  overflow in your program's main thread (unlikely but\n==8818==  possible), you can try to increase the size of the\n==8818==  main thread stack using the --main-stacksize= flag.\n==8818==  The main thread stack size used in this run was 16777216.\n```\n\nPerhaps rustc thinks that `aa` is no longer used and deinitializes it.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/4459075/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/4459092",
    "html_url": "https://github.com/rust-lang/rust/issues/1964#issuecomment-4459092",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/1964",
    "id": 4459092,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0NTkwOTI=",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-03-12T19:02:26Z",
    "updated_at": "2012-03-12T19:02:26Z",
    "body": "Assigning to @marijnh because I think he'll probably know what's up.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/4459092/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
