[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23136251",
    "html_url": "https://github.com/rust-lang/rust/issues/8651#issuecomment-23136251",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8651",
    "id": 23136251,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzMTM2MjUx",
    "user": {
      "login": "thestinger",
      "id": 1505226,
      "node_id": "MDQ6VXNlcjE1MDUyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thestinger",
      "html_url": "https://github.com/thestinger",
      "followers_url": "https://api.github.com/users/thestinger/followers",
      "following_url": "https://api.github.com/users/thestinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions",
      "organizations_url": "https://api.github.com/users/thestinger/orgs",
      "repos_url": "https://api.github.com/users/thestinger/repos",
      "events_url": "https://api.github.com/users/thestinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thestinger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-08-23T00:28:15Z",
    "updated_at": "2013-08-23T00:28:15Z",
    "body": "I suggested on IRC that it might be worth abandoning `type_use` for now and using LLVM's `mergefunc` pass. We'll need to get some numbers (code size, runtime performance, compile-time performance) while trying `mergefunc` in various places (not at all, once at the start, once at the end, or both) with/without monomorphize.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23136251/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23202825",
    "html_url": "https://github.com/rust-lang/rust/issues/8651#issuecomment-23202825",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8651",
    "id": 23202825,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzMjAyODI1",
    "user": {
      "login": "thestinger",
      "id": 1505226,
      "node_id": "MDQ6VXNlcjE1MDUyMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thestinger",
      "html_url": "https://github.com/thestinger",
      "followers_url": "https://api.github.com/users/thestinger/followers",
      "following_url": "https://api.github.com/users/thestinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions",
      "organizations_url": "https://api.github.com/users/thestinger/orgs",
      "repos_url": "https://api.github.com/users/thestinger/repos",
      "events_url": "https://api.github.com/users/thestinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thestinger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-08-24T04:34:30Z",
    "updated_at": "2013-08-24T04:34:42Z",
    "body": "The `mergefunc` pass currently doesn't work for Rust because it asserts on casts with undefined behaviour. We really need to fix the LLVM lint errors.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23202825/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23206843",
    "html_url": "https://github.com/rust-lang/rust/issues/8651#issuecomment-23206843",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/8651",
    "id": 23206843,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzMjA2ODQz",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-08-24T10:55:37Z",
    "updated_at": "2013-08-24T10:55:37Z",
    "body": "I just want to note down this idea for posterity: I think if we DO keep type_use, rather than relying on mergefunc, it should work like so:\n\n(1) Generate the first instance of the function normally.\n(2) Traverse the LLVM IR that we generate and extract the constraints on the types from there.\n(3) Record those constraints and use for future lookups.\n\nThis strikes me as much more robust than the existing technique, though there are some challenges. For example, the generic types are not present in the LLVM IR, so we will have to approximate in some way, perhaps if T=int, for example, examining all uses of ints. This might defeat the idea, I'm not sure.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/23206843/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
