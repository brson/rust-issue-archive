[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/112410269",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-112410269",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 112410269,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExMjQxMDI2OQ==",
    "user": {
      "login": "pythonesque",
      "id": 923144,
      "node_id": "MDQ6VXNlcjkyMzE0NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/923144?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pythonesque",
      "html_url": "https://github.com/pythonesque",
      "followers_url": "https://api.github.com/users/pythonesque/followers",
      "following_url": "https://api.github.com/users/pythonesque/following{/other_user}",
      "gists_url": "https://api.github.com/users/pythonesque/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pythonesque/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pythonesque/subscriptions",
      "organizations_url": "https://api.github.com/users/pythonesque/orgs",
      "repos_url": "https://api.github.com/users/pythonesque/repos",
      "events_url": "https://api.github.com/users/pythonesque/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pythonesque/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-06-16T12:40:37Z",
    "updated_at": "2015-06-16T12:42:57Z",
    "body": "FWIW, looking through my own code, I actually think the fact that this can't apply to match variants is going to be fairly hard on idiomatic Rust (for example, it means you can't use it when matching on an `Option`, which is going to be extremely common since it amounts to `if (likely(ptr != NULL))` in C).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/112410269/reactions",
      "total_count": 5,
      "+1": 5,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/112615585",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-112615585",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 112615585,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExMjYxNTU4NQ==",
    "user": {
      "login": "Aatch",
      "id": 342416,
      "node_id": "MDQ6VXNlcjM0MjQxNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/342416?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Aatch",
      "html_url": "https://github.com/Aatch",
      "followers_url": "https://api.github.com/users/Aatch/followers",
      "following_url": "https://api.github.com/users/Aatch/following{/other_user}",
      "gists_url": "https://api.github.com/users/Aatch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Aatch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Aatch/subscriptions",
      "organizations_url": "https://api.github.com/users/Aatch/orgs",
      "repos_url": "https://api.github.com/users/Aatch/repos",
      "events_url": "https://api.github.com/users/Aatch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Aatch/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-06-17T00:53:49Z",
    "updated_at": "2015-06-17T00:53:49Z",
    "body": "@pythonesque once I get this done, I plan on writing a follow-up RFC for a `#[likely]` attribute you can put on match arms. Since it's already possible to put attributes on arms (to support conditional compilation of them), it should be fairly easy to implement.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/112615585/reactions",
      "total_count": 7,
      "+1": 7,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/143147817",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-143147817",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 143147817,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0MzE0NzgxNw==",
    "user": {
      "login": "Craig-Macomber",
      "id": 207204,
      "node_id": "MDQ6VXNlcjIwNzIwNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/207204?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Craig-Macomber",
      "html_url": "https://github.com/Craig-Macomber",
      "followers_url": "https://api.github.com/users/Craig-Macomber/followers",
      "following_url": "https://api.github.com/users/Craig-Macomber/following{/other_user}",
      "gists_url": "https://api.github.com/users/Craig-Macomber/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Craig-Macomber/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Craig-Macomber/subscriptions",
      "organizations_url": "https://api.github.com/users/Craig-Macomber/orgs",
      "repos_url": "https://api.github.com/users/Craig-Macomber/repos",
      "events_url": "https://api.github.com/users/Craig-Macomber/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Craig-Macomber/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-09-25T07:20:36Z",
    "updated_at": "2015-09-25T07:20:36Z",
    "body": "It might be worth having an \"unpredictable\" option in addition to likely and unlikely. There is now something to lower it to in LLVM: http://reviews.llvm.org/D12341\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/143147817/reactions",
      "total_count": 5,
      "+1": 5,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/155116363",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-155116363",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 155116363,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1NTExNjM2Mw==",
    "user": {
      "login": "apasel422",
      "id": 8644784,
      "node_id": "MDQ6VXNlcjg2NDQ3ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8644784?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/apasel422",
      "html_url": "https://github.com/apasel422",
      "followers_url": "https://api.github.com/users/apasel422/followers",
      "following_url": "https://api.github.com/users/apasel422/following{/other_user}",
      "gists_url": "https://api.github.com/users/apasel422/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/apasel422/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/apasel422/subscriptions",
      "organizations_url": "https://api.github.com/users/apasel422/orgs",
      "repos_url": "https://api.github.com/users/apasel422/repos",
      "events_url": "https://api.github.com/users/apasel422/events{/privacy}",
      "received_events_url": "https://api.github.com/users/apasel422/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-11-09T16:35:07Z",
    "updated_at": "2015-11-09T16:35:07Z",
    "body": "@Aatch Are you still working on this?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/155116363/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/202629926",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-202629926",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 202629926,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwMjYyOTkyNg==",
    "user": {
      "login": "vi",
      "id": 173219,
      "node_id": "MDQ6VXNlcjE3MzIxOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173219?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vi",
      "html_url": "https://github.com/vi",
      "followers_url": "https://api.github.com/users/vi/followers",
      "following_url": "https://api.github.com/users/vi/following{/other_user}",
      "gists_url": "https://api.github.com/users/vi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vi/subscriptions",
      "organizations_url": "https://api.github.com/users/vi/orgs",
      "repos_url": "https://api.github.com/users/vi/repos",
      "events_url": "https://api.github.com/users/vi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vi/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-03-28T23:46:57Z",
    "updated_at": "2016-03-28T23:47:56Z",
    "body": "Shall `#[likely]` be also on Result?\n\n```\nenum Result<T, E> {\n   #[likely]\n   Ok(T),\n   Err(E)\n}\n```\n\nI expect for most code Ok is likely and Err is unlikely. Of course, annotating `if` or `match` should override enum variant's annotation.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/202629926/reactions",
      "total_count": 8,
      "+1": 6,
      "-1": 2,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/203161572",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-203161572",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 203161572,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwMzE2MTU3Mg==",
    "user": {
      "login": "Aatch",
      "id": 342416,
      "node_id": "MDQ6VXNlcjM0MjQxNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/342416?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Aatch",
      "html_url": "https://github.com/Aatch",
      "followers_url": "https://api.github.com/users/Aatch/followers",
      "following_url": "https://api.github.com/users/Aatch/following{/other_user}",
      "gists_url": "https://api.github.com/users/Aatch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Aatch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Aatch/subscriptions",
      "organizations_url": "https://api.github.com/users/Aatch/orgs",
      "repos_url": "https://api.github.com/users/Aatch/repos",
      "events_url": "https://api.github.com/users/Aatch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Aatch/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-03-29T23:53:00Z",
    "updated_at": "2016-03-29T23:53:00Z",
    "body": "@vi I think hinting should be only be used rarely, so it being on the type doesn't seem like a good idea. `Result` is a bit more general purpose than just error-handling, sot that kind of hinting would impact code where it's inappropriate. Hinting should only really be done at the site itself.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/203161572/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/203162658",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-203162658",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 203162658,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwMzE2MjY1OA==",
    "user": {
      "login": "vi",
      "id": 173219,
      "node_id": "MDQ6VXNlcjE3MzIxOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173219?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vi",
      "html_url": "https://github.com/vi",
      "followers_url": "https://api.github.com/users/vi/followers",
      "following_url": "https://api.github.com/users/vi/following{/other_user}",
      "gists_url": "https://api.github.com/users/vi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vi/subscriptions",
      "organizations_url": "https://api.github.com/users/vi/orgs",
      "repos_url": "https://api.github.com/users/vi/repos",
      "events_url": "https://api.github.com/users/vi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vi/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-03-29T23:58:04Z",
    "updated_at": "2016-03-29T23:58:16Z",
    "body": "@Aatch, Is it a good idea to have `likely` in every place where something is likely? Can it also serve for self-documentation: follow \"likelies\" and see happy path?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/203162658/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/203172549",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-203172549",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 203172549,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwMzE3MjU0OQ==",
    "user": {
      "login": "Aatch",
      "id": 342416,
      "node_id": "MDQ6VXNlcjM0MjQxNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/342416?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Aatch",
      "html_url": "https://github.com/Aatch",
      "followers_url": "https://api.github.com/users/Aatch/followers",
      "following_url": "https://api.github.com/users/Aatch/following{/other_user}",
      "gists_url": "https://api.github.com/users/Aatch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Aatch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Aatch/subscriptions",
      "organizations_url": "https://api.github.com/users/Aatch/orgs",
      "repos_url": "https://api.github.com/users/Aatch/repos",
      "events_url": "https://api.github.com/users/Aatch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Aatch/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-03-30T00:45:47Z",
    "updated_at": "2016-03-30T00:45:47Z",
    "body": "@vi is is not. As a general rule, people are pretty bad at knowing what cases are _actually_ likely or not. Branch hinting is a fairly specific optimisation hint, used incorrectly it can actually make code slower. It should also only really be used when the unlikely case is known to be very unlikely.\n\nBasically, you should only use it if it makes your code faster, otherwise it should be there.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/203172549/reactions",
      "total_count": 13,
      "+1": 11,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 2,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/203295515",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-203295515",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 203295515,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwMzI5NTUxNQ==",
    "user": {
      "login": "pczarn",
      "id": 3356767,
      "node_id": "MDQ6VXNlcjMzNTY3Njc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3356767?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pczarn",
      "html_url": "https://github.com/pczarn",
      "followers_url": "https://api.github.com/users/pczarn/followers",
      "following_url": "https://api.github.com/users/pczarn/following{/other_user}",
      "gists_url": "https://api.github.com/users/pczarn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pczarn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pczarn/subscriptions",
      "organizations_url": "https://api.github.com/users/pczarn/orgs",
      "repos_url": "https://api.github.com/users/pczarn/repos",
      "events_url": "https://api.github.com/users/pczarn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pczarn/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-03-30T07:39:23Z",
    "updated_at": "2016-03-30T07:41:20Z",
    "body": "@vi It might be good idea if the likely thing is cheap, and the unlikely thing is expensive. For example, `Vec::push` is expensive if it causes a reallocation, and very cheap otherwise.\n\nIn my opinion, frequent use of `likely` is either unnecessary or just manual profile-guided optimization.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/203295515/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/203475247",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-203475247",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 203475247,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwMzQ3NTI0Nw==",
    "user": {
      "login": "Stebalien",
      "id": 310393,
      "node_id": "MDQ6VXNlcjMxMDM5Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/310393?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Stebalien",
      "html_url": "https://github.com/Stebalien",
      "followers_url": "https://api.github.com/users/Stebalien/followers",
      "following_url": "https://api.github.com/users/Stebalien/following{/other_user}",
      "gists_url": "https://api.github.com/users/Stebalien/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Stebalien/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Stebalien/subscriptions",
      "organizations_url": "https://api.github.com/users/Stebalien/orgs",
      "repos_url": "https://api.github.com/users/Stebalien/repos",
      "events_url": "https://api.github.com/users/Stebalien/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Stebalien/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-03-30T14:58:25Z",
    "updated_at": "2016-03-30T14:58:25Z",
    "body": "Instead of arguing about it, why not just test it? Annotate `Result`, and then see if rustc bootstraps significantly faster. This won't give a definitive answer but will help determine if it's worth considering.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/203475247/reactions",
      "total_count": 21,
      "+1": 21,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/241183333",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-241183333",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 241183333,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0MTE4MzMzMw==",
    "user": {
      "login": "comex",
      "id": 47517,
      "node_id": "MDQ6VXNlcjQ3NTE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/47517?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/comex",
      "html_url": "https://github.com/comex",
      "followers_url": "https://api.github.com/users/comex/followers",
      "following_url": "https://api.github.com/users/comex/following{/other_user}",
      "gists_url": "https://api.github.com/users/comex/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/comex/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/comex/subscriptions",
      "organizations_url": "https://api.github.com/users/comex/orgs",
      "repos_url": "https://api.github.com/users/comex/repos",
      "events_url": "https://api.github.com/users/comex/events{/privacy}",
      "received_events_url": "https://api.github.com/users/comex/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-08-20T06:43:37Z",
    "updated_at": "2016-08-20T06:43:37Z",
    "body": "Now that MIR is a thing, it would be nice if this were implemented.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/241183333/reactions",
      "total_count": 4,
      "+1": 4,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/243722245",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-243722245",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 243722245,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0MzcyMjI0NQ==",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-08-31T10:21:06Z",
    "updated_at": "2016-08-31T10:21:06Z",
    "body": "@comex I do agree =) \n\n@Aatch Not sure what your time is like, but if you don't have time to implement this, it seems like a case where we might be able to mentor someone. The idea would be to leave a comment explaining roughly how you think it should work, and then tagging the issue with `E-mentor` and `E-help-wanted`. I of course can do this too and will try to remember to do so. =)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/243722245/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/243722388",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-243722388",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 243722388,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0MzcyMjM4OA==",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-08-31T10:21:44Z",
    "updated_at": "2016-08-31T10:21:44Z",
    "body": "Unassigning @Aatch since, empirically, he doesn't seem to be actively hacking on this right now. =) (Feel free to correct me.)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/243722388/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/243930487",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-243930487",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 243930487,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0MzkzMDQ4Nw==",
    "user": {
      "login": "seanmonstar",
      "id": 51479,
      "node_id": "MDQ6VXNlcjUxNDc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/51479?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/seanmonstar",
      "html_url": "https://github.com/seanmonstar",
      "followers_url": "https://api.github.com/users/seanmonstar/followers",
      "following_url": "https://api.github.com/users/seanmonstar/following{/other_user}",
      "gists_url": "https://api.github.com/users/seanmonstar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/seanmonstar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/seanmonstar/subscriptions",
      "organizations_url": "https://api.github.com/users/seanmonstar/orgs",
      "repos_url": "https://api.github.com/users/seanmonstar/repos",
      "events_url": "https://api.github.com/users/seanmonstar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/seanmonstar/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-08-31T23:12:47Z",
    "updated_at": "2016-08-31T23:12:47Z",
    "body": "@nikomatsakis PR up, though I could use some help adding tests.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/243930487/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/244511621",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-244511621",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 244511621,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0NDUxMTYyMQ==",
    "user": {
      "login": "Aatch",
      "id": 342416,
      "node_id": "MDQ6VXNlcjM0MjQxNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/342416?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Aatch",
      "html_url": "https://github.com/Aatch",
      "followers_url": "https://api.github.com/users/Aatch/followers",
      "following_url": "https://api.github.com/users/Aatch/following{/other_user}",
      "gists_url": "https://api.github.com/users/Aatch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Aatch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Aatch/subscriptions",
      "organizations_url": "https://api.github.com/users/Aatch/orgs",
      "repos_url": "https://api.github.com/users/Aatch/repos",
      "events_url": "https://api.github.com/users/Aatch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Aatch/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-09-02T23:47:18Z",
    "updated_at": "2016-09-02T23:47:18Z",
    "body": "Copying @nagisa's comment from #36181:\n\n> #llvm told me expect intrinsic is more harmful than it is helpful and that the branch weight metadata should be emitted instead. Might be worth to go back and reconsider the RFC, since the branch weight metadata is more powerful and expressive and would be better expressed as attributes in source too.\n> \n> > <nagisa> why is clang > 3.6 not emiting expect intrinsic for __builtin_expect?\n> > <zygoloid> nagisa: it turns out that the expect intrinsic overall harmed the optimizer by inhibiting certain optimizations\n> > <zygoloid> so we now directly lower __builtin_expect to branch probabilities in the frontend when generating IR\n\nI think that keeping the intrinsics is a good idea. They should be fairly obvious for people coming from C/C++. Attributes aren't mutually exclusive with the intrinsics, so we're not exactly cutting ourselves off with intrinsics.\n\nSupporting branch weights at the MIR level would probably be the easiest implementation for lowering to the metadata ourselves.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/244511621/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/278470898",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-278470898",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 278470898,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3ODQ3MDg5OA==",
    "user": {
      "login": "chriskrycho",
      "id": 2403023,
      "node_id": "MDQ6VXNlcjI0MDMwMjM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2403023?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriskrycho",
      "html_url": "https://github.com/chriskrycho",
      "followers_url": "https://api.github.com/users/chriskrycho/followers",
      "following_url": "https://api.github.com/users/chriskrycho/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriskrycho/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriskrycho/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriskrycho/subscriptions",
      "organizations_url": "https://api.github.com/users/chriskrycho/orgs",
      "repos_url": "https://api.github.com/users/chriskrycho/repos",
      "events_url": "https://api.github.com/users/chriskrycho/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriskrycho/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-02-08T21:43:01Z",
    "updated_at": "2017-02-08T21:43:01Z",
    "body": "Just adding a note here as I'm processing everything in #38643: it will need docs before stabilization. @nikomatsakis would you mind adding a note to that effect in the root of the issue?",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/278470898/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/281822260",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-281822260",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 281822260,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4MTgyMjI2MA==",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-02-22T22:14:57Z",
    "updated_at": "2017-02-22T22:14:57Z",
    "body": "@chriskrycho done",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/281822260/reactions",
      "total_count": 2,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 2,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/338414202",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-338414202",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 338414202,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzODQxNDIwMg==",
    "user": {
      "login": "bluss",
      "id": 3209739,
      "node_id": "MDQ6VXNlcjMyMDk3Mzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3209739?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bluss",
      "html_url": "https://github.com/bluss",
      "followers_url": "https://api.github.com/users/bluss/followers",
      "following_url": "https://api.github.com/users/bluss/following{/other_user}",
      "gists_url": "https://api.github.com/users/bluss/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bluss/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bluss/subscriptions",
      "organizations_url": "https://api.github.com/users/bluss/orgs",
      "repos_url": "https://api.github.com/users/bluss/repos",
      "events_url": "https://api.github.com/users/bluss/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bluss/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-10-21T16:22:35Z",
    "updated_at": "2017-10-21T16:22:35Z",
    "body": "Will these intrinsics be stabilized as they are? Under which path?",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/338414202/reactions",
      "total_count": 3,
      "+1": 3,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/338419031",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-338419031",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 338419031,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzODQxOTAzMQ==",
    "user": {
      "login": "seanmonstar",
      "id": 51479,
      "node_id": "MDQ6VXNlcjUxNDc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/51479?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/seanmonstar",
      "html_url": "https://github.com/seanmonstar",
      "followers_url": "https://api.github.com/users/seanmonstar/followers",
      "following_url": "https://api.github.com/users/seanmonstar/following{/other_user}",
      "gists_url": "https://api.github.com/users/seanmonstar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/seanmonstar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/seanmonstar/subscriptions",
      "organizations_url": "https://api.github.com/users/seanmonstar/orgs",
      "repos_url": "https://api.github.com/users/seanmonstar/repos",
      "events_url": "https://api.github.com/users/seanmonstar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/seanmonstar/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-10-21T17:30:21Z",
    "updated_at": "2017-10-21T17:30:21Z",
    "body": "Every few months, because I've forgotten the results, I try these out in httparse, on branches I'm absolutely certain are always taken, and see no gain, with a wild range in variance when running the becnhmarks.\r\n\r\nI'm not adept at all with either assembly or llvm-ir when compiling with optimizations to tell how they are implemented.\r\n\r\nThere's older comments that the expect intrinsic in LLVM is harmful, that it should be done with branch weights instead. But when I go diving in LLVMs source now, it appears there is a pass that already lowers expects into branch weights anyways?",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/338419031/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/338456287",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-338456287",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 338456287,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzODQ1NjI4Nw==",
    "user": {
      "login": "nagisa",
      "id": 679122,
      "node_id": "MDQ6VXNlcjY3OTEyMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/679122?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nagisa",
      "html_url": "https://github.com/nagisa",
      "followers_url": "https://api.github.com/users/nagisa/followers",
      "following_url": "https://api.github.com/users/nagisa/following{/other_user}",
      "gists_url": "https://api.github.com/users/nagisa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nagisa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nagisa/subscriptions",
      "organizations_url": "https://api.github.com/users/nagisa/orgs",
      "repos_url": "https://api.github.com/users/nagisa/repos",
      "events_url": "https://api.github.com/users/nagisa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nagisa/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-10-22T06:54:06Z",
    "updated_at": "2017-10-22T06:54:06Z",
    "body": "The reason they're harmful is because they're still very opaque calls all\nthe way till they're lowered, inhibiting all the early optimisations which\nare not specifically handling these intrinsics. Just don't use them.\n\nOn Oct 21, 2017 20:30, \"Sean McArthur\" <notifications@github.com> wrote:\n\n> Every few months, because I've forgotten the results, I try these out in\n> httparse, on branches I'm absolutely certain are always taken, and see no\n> gain, with a wild range in variance when running the becnhmarks.\n>\n> I'm not adept at all with either assembly or llvm-ir when compiling with\n> optimizations to tell how they are implemented.\n>\n> There's older comments that the expect intrinsic in LLVM is harmful, that\n> it should be done with branch weights instead. But when I go diving in\n> LLVMs source now, it appears there is a pass that already lowers expects\n> into branch weights anyways?\n>\n> \u2014\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/rust-lang/rust/issues/26179#issuecomment-338419031>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AApc0vcOu7V2ntyt5JrLHlIuaG1coDmvks5suipBgaJpZM4E-jMn>\n> .\n>\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/338456287/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/350210889",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-350210889",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 350210889,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MDIxMDg4OQ==",
    "user": {
      "login": "hsivonen",
      "id": 478856,
      "node_id": "MDQ6VXNlcjQ3ODg1Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/478856?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hsivonen",
      "html_url": "https://github.com/hsivonen",
      "followers_url": "https://api.github.com/users/hsivonen/followers",
      "following_url": "https://api.github.com/users/hsivonen/following{/other_user}",
      "gists_url": "https://api.github.com/users/hsivonen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hsivonen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hsivonen/subscriptions",
      "organizations_url": "https://api.github.com/users/hsivonen/orgs",
      "repos_url": "https://api.github.com/users/hsivonen/repos",
      "events_url": "https://api.github.com/users/hsivonen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hsivonen/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-12-08T09:02:54Z",
    "updated_at": "2017-12-08T09:02:54Z",
    "body": "> The reason they're harmful is because they're still very opaque calls all the way till they're lowered, inhibiting all the early optimisations which are not specifically handling these intrinsics. Just don't use them.\r\n\r\nAn earlier comment says (if I'm reading it right) that clang deals with the corresponding C intrinsic by generating branch probabilities in the IR instead of IR intrinsic.\r\n\r\nAre there technical reasons against doing the same in rustc?",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/350210889/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/356961086",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-356961086",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 356961086,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1Njk2MTA4Ng==",
    "user": {
      "login": "nagisa",
      "id": 679122,
      "node_id": "MDQ6VXNlcjY3OTEyMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/679122?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nagisa",
      "html_url": "https://github.com/nagisa",
      "followers_url": "https://api.github.com/users/nagisa/followers",
      "following_url": "https://api.github.com/users/nagisa/following{/other_user}",
      "gists_url": "https://api.github.com/users/nagisa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nagisa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nagisa/subscriptions",
      "organizations_url": "https://api.github.com/users/nagisa/orgs",
      "repos_url": "https://api.github.com/users/nagisa/repos",
      "events_url": "https://api.github.com/users/nagisa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nagisa/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-01-11T15:05:25Z",
    "updated_at": "2018-01-11T15:08:30Z",
    "body": "No reasons against generating branch probabilities in rustc, however it is not as trivial to implement it that way (i.e. go from a function call to probabilities in IR)\r\n\r\nOne could as well just go ahead and add the attributes that are more general *and* easier to implement.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/356961086/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/357079593",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-357079593",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 357079593,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NzA3OTU5Mw==",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-01-11T22:17:16Z",
    "updated_at": "2018-01-11T22:17:16Z",
    "body": "I have to say, I am personally inclined to just remove this intrinsic. The results seem to be uneven at best and I feel no strong urgency to jump on this.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/357079593/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/357080935",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-357080935",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 357080935,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NzA4MDkzNQ==",
    "user": {
      "login": "ArtemGr",
      "id": 41847,
      "node_id": "MDQ6VXNlcjQxODQ3",
      "avatar_url": "https://avatars.githubusercontent.com/u/41847?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ArtemGr",
      "html_url": "https://github.com/ArtemGr",
      "followers_url": "https://api.github.com/users/ArtemGr/followers",
      "following_url": "https://api.github.com/users/ArtemGr/following{/other_user}",
      "gists_url": "https://api.github.com/users/ArtemGr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ArtemGr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ArtemGr/subscriptions",
      "organizations_url": "https://api.github.com/users/ArtemGr/orgs",
      "repos_url": "https://api.github.com/users/ArtemGr/repos",
      "events_url": "https://api.github.com/users/ArtemGr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ArtemGr/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-01-11T22:22:25Z",
    "updated_at": "2018-01-11T22:22:25Z",
    "body": "> The results seem to be uneven at best\r\n\r\nYou mean profile-guided optimization is a hoax?",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/357080935/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 1,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/357157357",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-357157357",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 357157357,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NzE1NzM1Nw==",
    "user": {
      "login": "GabrielMajeri",
      "id": 3010346,
      "node_id": "MDQ6VXNlcjMwMTAzNDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3010346?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/GabrielMajeri",
      "html_url": "https://github.com/GabrielMajeri",
      "followers_url": "https://api.github.com/users/GabrielMajeri/followers",
      "following_url": "https://api.github.com/users/GabrielMajeri/following{/other_user}",
      "gists_url": "https://api.github.com/users/GabrielMajeri/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/GabrielMajeri/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/GabrielMajeri/subscriptions",
      "organizations_url": "https://api.github.com/users/GabrielMajeri/orgs",
      "repos_url": "https://api.github.com/users/GabrielMajeri/repos",
      "events_url": "https://api.github.com/users/GabrielMajeri/events{/privacy}",
      "received_events_url": "https://api.github.com/users/GabrielMajeri/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-01-12T06:50:28Z",
    "updated_at": "2018-01-12T06:52:08Z",
    "body": "According to the [Intel optimization manual](https://www.intel.com/content/dam/www/public/us/en/documents/manuals/64-ia-32-architectures-optimization-manual.pdf), the order in which branches are laid out in assembly does matter (likely code should come first, unlikely comes after).\r\n\r\nHowever, the question is if LLVM isn't already smart enough to reorder stuff by itself. These intrinsics were added a long time ago, when compilers were bad at predicting stuff.\r\n\r\nFrom what I've seen, if you use an `unwrap` or check for an error code (e.g. right before `return Err`), the compiler is smart enough to optimize the code and detect the more likely branch.\r\n\r\nEven the Linux kernel has an [option](https://cateee.net/lkddb/web-lkddb/OPTIMIZE_INLINING.html) to allow the compiler to un-inline certain functions because newer versions of GCC are much better at inlining. Same thing could happen with `likely` / `unlikely`: if the compiler is smart enough, there is no need for the intrinsic.\r\n\r\nTL; DR: these intrinsics are useful for people who love premature optimization, believing they can outsmart the compiler.\r\n\r\nAs a workaround, you can simply write your code such that the generated assembly is laid out as you want.\r\n\r\nOr use [PGO](https://github.com/vadimcn/cargo-pgo). A quote from the [GCC manual](https://gcc.gnu.org/onlinedocs/gcc/Other-Builtins.html): \r\n> In general, you should prefer to use actual profile feedback for this (-fprofile-arcs), as programmers are notoriously bad at predicting how their programs actually perform. \r\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/357157357/reactions",
      "total_count": 5,
      "+1": 2,
      "-1": 3,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/357170957",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-357170957",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 357170957,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NzE3MDk1Nw==",
    "user": {
      "login": "vi",
      "id": 173219,
      "node_id": "MDQ6VXNlcjE3MzIxOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173219?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vi",
      "html_url": "https://github.com/vi",
      "followers_url": "https://api.github.com/users/vi/followers",
      "following_url": "https://api.github.com/users/vi/following{/other_user}",
      "gists_url": "https://api.github.com/users/vi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vi/subscriptions",
      "organizations_url": "https://api.github.com/users/vi/orgs",
      "repos_url": "https://api.github.com/users/vi/repos",
      "events_url": "https://api.github.com/users/vi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vi/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-01-12T08:12:28Z",
    "updated_at": "2018-01-12T08:12:28Z",
    "body": "> TL; DR: these intrinsics are useful for people who love premature optimization, believing they can outsmart the compiler.\r\n\r\nAnnotating the code with likely/unlikely can also help readability. What is marked likely for the compiler is also interpreted as likely by the reader, who can follow the \"main path\" in the code more easily.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/357170957/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/357174899",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-357174899",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 357174899,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NzE3NDg5OQ==",
    "user": {
      "login": "briansmith",
      "id": 16816,
      "node_id": "MDQ6VXNlcjE2ODE2",
      "avatar_url": "https://avatars.githubusercontent.com/u/16816?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/briansmith",
      "html_url": "https://github.com/briansmith",
      "followers_url": "https://api.github.com/users/briansmith/followers",
      "following_url": "https://api.github.com/users/briansmith/following{/other_user}",
      "gists_url": "https://api.github.com/users/briansmith/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/briansmith/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/briansmith/subscriptions",
      "organizations_url": "https://api.github.com/users/briansmith/orgs",
      "repos_url": "https://api.github.com/users/briansmith/repos",
      "events_url": "https://api.github.com/users/briansmith/events{/privacy}",
      "received_events_url": "https://api.github.com/users/briansmith/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-01-12T08:32:35Z",
    "updated_at": "2018-01-12T08:32:35Z",
    "body": "> @pythonesque once I get this done, I plan on writing a follow-up RFC for a #[likely] attribute you can put on match arms. Since it's already possible to put attributes on arms (to support conditional compilation of them), it should be fairly easy to implement.\r\n\r\nWe could perhaps just allow `#[cold]` and/or `#[inline(never)]` on blocks/statements instead of just functions:\r\n\r\n```rust\r\nlet x = if condition {\r\n    ....\r\n} else #[cold] {\r\n   ....\r\n};\r\n\r\nlet y = match condition2 {\r\n    Option(x) => x,\r\n    None => #[cold] 1\r\n};\r\n```\r\n\r\nRegarding likely/unlikely specifically, I think people are expecting that they'd only be used inside `if` expressions, but I don't see that restriction in the RFC.\r\n\r\nAnyway, in lots of the code I write, regarding parsing and cryptography, we really do always want the \"no problems\" path to be fast. Not only do we generally not care about the performance of the unlikely \"oops, that's not how it's supposed to be\" path, but we in fact would like to have the compiler actively de-optimize that path, moving it far away from the fast path, to improve instruction cache locality.\r\n\r\nAlso, PGO sounds nice but for many applications, like most of mine, it would be a huge waste. Its hard enough to get good code coverage; it's nearly impossible to develop PGO-focused coverage that emphasizes the code paths for which one most cares about performance.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/357174899/reactions",
      "total_count": 11,
      "+1": 11,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/357175153",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-357175153",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 357175153,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NzE3NTE1Mw==",
    "user": {
      "login": "hsivonen",
      "id": 478856,
      "node_id": "MDQ6VXNlcjQ3ODg1Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/478856?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hsivonen",
      "html_url": "https://github.com/hsivonen",
      "followers_url": "https://api.github.com/users/hsivonen/followers",
      "following_url": "https://api.github.com/users/hsivonen/following{/other_user}",
      "gists_url": "https://api.github.com/users/hsivonen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hsivonen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hsivonen/subscriptions",
      "organizations_url": "https://api.github.com/users/hsivonen/orgs",
      "repos_url": "https://api.github.com/users/hsivonen/repos",
      "events_url": "https://api.github.com/users/hsivonen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hsivonen/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-01-12T08:33:55Z",
    "updated_at": "2018-01-12T08:33:55Z",
    "body": "> TL; DR: these intrinsics are useful for people who love premature optimization, believing they can outsmart the compiler.\r\n\r\nPossibly. And possibly these don't generate the best LLVM IR for the purpose given how LLVM consumes IR today.\r\n\r\nHowever, I think it's not productive to suggest that the compiler always outsmarts the programmer and, therefore, there's no need to provide detailed control as an option. I think the appropriate use for intrinsics like these is being able to persist manual PGO (iterating `cargo bench` with different branch prediction hints) in the source code without requiring the user of the crate to set up an appropriate benchmark for compile-time profiling.\r\n\r\nLast week, I had a `match` with consecutive (both in source order and in numerical order of the condition) identical arms and combining the identical match arms destroyed about 100 MB/s of throughput (from 9xx MB/s to 8xx MB/s), because the compiler put the checks in a different order. By rewriting the code as manually-ordered `if`s, I was able to do better than the original `match`.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/357175153/reactions",
      "total_count": 7,
      "+1": 7,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/357180324",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-357180324",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 357180324,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NzE4MDMyNA==",
    "user": {
      "login": "briansmith",
      "id": 16816,
      "node_id": "MDQ6VXNlcjE2ODE2",
      "avatar_url": "https://avatars.githubusercontent.com/u/16816?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/briansmith",
      "html_url": "https://github.com/briansmith",
      "followers_url": "https://api.github.com/users/briansmith/followers",
      "following_url": "https://api.github.com/users/briansmith/following{/other_user}",
      "gists_url": "https://api.github.com/users/briansmith/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/briansmith/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/briansmith/subscriptions",
      "organizations_url": "https://api.github.com/users/briansmith/orgs",
      "repos_url": "https://api.github.com/users/briansmith/repos",
      "events_url": "https://api.github.com/users/briansmith/events{/privacy}",
      "received_events_url": "https://api.github.com/users/briansmith/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-01-12T08:58:00Z",
    "updated_at": "2018-01-12T08:58:00Z",
    "body": "Even in the standard library, there are quite a few places where these kinds of improvements to optimization hints would be useful. We shouldn't need to factor out code into a separate function just to mark it unlikely/cold like in https://github.com/rust-lang/rust/commit/257bff3192e2c7313a4f8cfcac8839a573b42f6b#diff-5da4ecf5ad221f68bde0ae13f2a7c22dR700, for example.\r\n\r\nAlso, in my code, I generally want the compiler to optimize, to an extreme extent, `likely()` paths for speed and cache locality. Similarly, I want it to optimize, to an extreme extent, `unlikely()`/`#[cold]` paths for size and out-of-the-way cache locality. Also, like Henri said, sometimes predictable performance is very important and sometimes the profile-guided optimization has been done by hand to ensure such predictable performance. Hints like `likely()`/`unlikely()`/`#[cold]` are the only way we have to transfer the knowledge from the profiling phase to the codegen phase in those situations.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/357180324/reactions",
      "total_count": 5,
      "+1": 5,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/357356462",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-357356462",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 357356462,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NzM1NjQ2Mg==",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-01-12T21:17:30Z",
    "updated_at": "2018-01-12T21:17:30Z",
    "body": "Has anyone successfully used these intrinsics to achieve speedups?\r\n\r\nI prefer the `#[cold]` formulation, myself.\r\n\r\nI didn't mean to suggest that there is no role for user-hinting, but merely that this particular formulation didn't seem like a big success. The LLVM developers (from what I understand) don't recommend using these instrinsics, and they seem to be usable in confusing ways (e.g., outside of an `if`). ",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/357356462/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/357359145",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-357359145",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 357359145,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NzM1OTE0NQ==",
    "user": {
      "login": "ArtemGr",
      "id": 41847,
      "node_id": "MDQ6VXNlcjQxODQ3",
      "avatar_url": "https://avatars.githubusercontent.com/u/41847?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ArtemGr",
      "html_url": "https://github.com/ArtemGr",
      "followers_url": "https://api.github.com/users/ArtemGr/followers",
      "following_url": "https://api.github.com/users/ArtemGr/following{/other_user}",
      "gists_url": "https://api.github.com/users/ArtemGr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ArtemGr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ArtemGr/subscriptions",
      "organizations_url": "https://api.github.com/users/ArtemGr/orgs",
      "repos_url": "https://api.github.com/users/ArtemGr/repos",
      "events_url": "https://api.github.com/users/ArtemGr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ArtemGr/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-01-12T21:28:49Z",
    "updated_at": "2018-01-12T21:34:24Z",
    "body": "> Has anyone successfully used these intrinsics to achieve speedups?\r\n\r\n@nikomatsakis, in the way they're implemented the intrinsics aren't very useful, but this can be improved by \"generating branch probabilities in the IR\", like clang does.\r\n\r\nUsing likely and unlikely (`__builtin_expect`) we can achieve the speedups in C (cf. https://stackoverflow.com/questions/109710/likely-unlikely-macros-in-the-linux-kernel-how-do-they-work-whats-their), so why shouldn't we be able to do this in Rust, given that the intrinsics are already there? Why not simply fix them to be useful?\r\n\r\n> I prefer the `#[cold]` formulation, myself.\r\n\r\nDo you mean `#[cold]` on block statements?",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/357359145/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/357366074",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-357366074",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 357366074,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NzM2NjA3NA==",
    "user": {
      "login": "joshlf",
      "id": 1046063,
      "node_id": "MDQ6VXNlcjEwNDYwNjM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1046063?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/joshlf",
      "html_url": "https://github.com/joshlf",
      "followers_url": "https://api.github.com/users/joshlf/followers",
      "following_url": "https://api.github.com/users/joshlf/following{/other_user}",
      "gists_url": "https://api.github.com/users/joshlf/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/joshlf/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/joshlf/subscriptions",
      "organizations_url": "https://api.github.com/users/joshlf/orgs",
      "repos_url": "https://api.github.com/users/joshlf/repos",
      "events_url": "https://api.github.com/users/joshlf/events{/privacy}",
      "received_events_url": "https://api.github.com/users/joshlf/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-01-12T21:58:41Z",
    "updated_at": "2018-01-12T21:58:41Z",
    "body": "On the subject of whether they're useful: I've used them myself (though I've not benchmarked enough to tell whether they made a difference). One thing I did notice was that `rustc` doesn't appear to be able to do constant propagation through them because I had a call to `unlikely(<expr>)` where `<expr>` could easily be constant-propagated to `false` at compile-time, but the corresponding `if` branch was still included in the compiled output.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/357366074/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/357701590",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-357701590",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 357701590,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NzcwMTU5MA==",
    "user": {
      "login": "hsivonen",
      "id": 478856,
      "node_id": "MDQ6VXNlcjQ3ODg1Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/478856?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hsivonen",
      "html_url": "https://github.com/hsivonen",
      "followers_url": "https://api.github.com/users/hsivonen/followers",
      "following_url": "https://api.github.com/users/hsivonen/following{/other_user}",
      "gists_url": "https://api.github.com/users/hsivonen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hsivonen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hsivonen/subscriptions",
      "organizations_url": "https://api.github.com/users/hsivonen/orgs",
      "repos_url": "https://api.github.com/users/hsivonen/repos",
      "events_url": "https://api.github.com/users/hsivonen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hsivonen/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-01-15T14:42:48Z",
    "updated_at": "2018-01-15T14:42:48Z",
    "body": "> Has anyone successfully used these intrinsics to achieve speedups?\r\n\r\nOn most of my attempts, not, but that might have been due to wrapping them in inlines, which [according to another issue doesn't work](https://github.com/rust-lang/rust/issues/45440). \r\n\r\nToday, however, I finally found a case where I saw a notable boost. If I add `unlikely` to [this `if`](https://github.com/hsivonen/encoding_rs/blob/cc902eaebcca81c176dc74c4686b86a5903a8b90/src/mem.rs#L512), I get a 33% performance improvement on Russian plain text. (In case anyone thinks that the function as a whole is an unnecessary optimization, it's notably faster than iterating over a `str` by `char` and calling `is_char_bidi()` for each one.)\r\n\r\nAlso: Why are `likely()` and `unlikely()` currently `unsafe`? As far as their non-performance semantics go, they just return their argument, which is safe, and modifying performance is safe, too.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/357701590/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/358392278",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-358392278",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 358392278,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1ODM5MjI3OA==",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-01-17T18:10:07Z",
    "updated_at": "2018-01-17T18:10:07Z",
    "body": "> On most of my attempts, not, but that might have been due to wrapping them in inlines, which according to another issue doesn't work. .. Also: Why are likely() and unlikely() currently unsafe? As far as their non-performance semantics go, they just return their argument, which is safe, and modifying performance is safe, too.\r\n\r\nNot good reasons. I think it's because of the (imo) rather artificial distinction between \"intrinsics\" and \"lang items\" in the compiler. I've been meaning forever to write an RFC collapsing the distinction -- basically just having \"something well known to the compiler\". But for whatever reason we have a distinction now, and intrinsic functions are (a) always unsafe and (b) never exposed directly (hence the inlining).\r\n\r\n> Why not simply fix them to be useful?\r\n\r\nMy feeling was that since they are not working that well now (and are not in any particular use) and the because the interface is Not Great, maybe we should rip it out and try something better.\r\n\r\nThe reasons that I think the interface is not great are roughly that a function doesn't seem like the optimal choice here:\r\n\r\n1. Apparently we have to do some mapping to something else for LLVM to make good use of them\r\n2. What is the meaning of `let x = likely(...); if x { .. .}`?  Is that the same as `if likely(...) { ... }`? \r\n    - Tracking where the call to `likely` occurred is kind of painful around MIR too\r\n    - Why use an \"identity function\" (which can be invoked from many places) when we are really trying to indicate what code is cold and which is not?\r\n\r\netc\r\n\r\nSo, in short, I don't have a strong opinion, just looking for opportunities to cull underutilized and not especially succesful language features and replace with something better.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/358392278/reactions",
      "total_count": 3,
      "+1": 3,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/359240533",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-359240533",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 359240533,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1OTI0MDUzMw==",
    "user": {
      "login": "ArtemGr",
      "id": 41847,
      "node_id": "MDQ6VXNlcjQxODQ3",
      "avatar_url": "https://avatars.githubusercontent.com/u/41847?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ArtemGr",
      "html_url": "https://github.com/ArtemGr",
      "followers_url": "https://api.github.com/users/ArtemGr/followers",
      "following_url": "https://api.github.com/users/ArtemGr/following{/other_user}",
      "gists_url": "https://api.github.com/users/ArtemGr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ArtemGr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ArtemGr/subscriptions",
      "organizations_url": "https://api.github.com/users/ArtemGr/orgs",
      "repos_url": "https://api.github.com/users/ArtemGr/repos",
      "events_url": "https://api.github.com/users/ArtemGr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ArtemGr/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-01-21T11:11:41Z",
    "updated_at": "2018-01-21T11:12:19Z",
    "body": "> My feeling was that since they are not working that well now (and are not in any particular use) and the because the interface is Not Great, maybe we should rip it out and try something better.\r\n\r\nGood point, @nikomatsakis !\r\n\r\nIt might take some time though for a different branch hinting approach to come into the language.\r\n\r\nI think that in Rust we have a strong precedence of having practical, but Not Great, solutions to be implemented in the language in the _unstable_ form. It allows us to have our pie and eat it too.\r\n\r\nAs of now Rust might be at some disadvantage over C/C++ in regards of branch hinting. There are existing algorithms and programs that have been optimized in C/C++ to use branch hinting efficiently, and currently it might be problematic to port them to Rust while maintaining the same level of performance, because we lack a branch hinting solution of a quality comparable to GCC and CLANG implementations.\r\n\r\nImplementing the likely/unlikely intrinsic as an unstable feature, till we have a better one, might be good for language adoption. It might also help those members of the community who want to port their code to a safer language but are hindered by performance constraints.\r\n\r\nI think that a lot of us flock to Rust because it offers performance. It's one of the trifecta on the https://www.rust-lang.org/ page. Personally, I started to believe in Rust as a performance language when I've seen the likely/unlikely RFC merged. It pains me to see that Rust still isn't there.\r\n\r\nCan I do something to convince you that we need something working _until_ we have something better?",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/359240533/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/359243453",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-359243453",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 359243453,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1OTI0MzQ1Mw==",
    "user": {
      "login": "bluss",
      "id": 3209739,
      "node_id": "MDQ6VXNlcjMyMDk3Mzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3209739?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bluss",
      "html_url": "https://github.com/bluss",
      "followers_url": "https://api.github.com/users/bluss/followers",
      "following_url": "https://api.github.com/users/bluss/following{/other_user}",
      "gists_url": "https://api.github.com/users/bluss/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bluss/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bluss/subscriptions",
      "organizations_url": "https://api.github.com/users/bluss/orgs",
      "repos_url": "https://api.github.com/users/bluss/repos",
      "events_url": "https://api.github.com/users/bluss/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bluss/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-01-21T12:06:05Z",
    "updated_at": "2018-01-21T12:06:05Z",
    "body": "@ArtemGr You already have it as  unstable feature: [`std::intrinsics::unlikely`](https://doc.rust-lang.org/nightly/std/intrinsics/fn.unlikely.html). Using it and evaluating the current implementation is already possible. As you can see the discussion here is already in relation to the existing implementation and its flaws.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/359243453/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/359243959",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-359243959",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 359243959,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1OTI0Mzk1OQ==",
    "user": {
      "login": "ArtemGr",
      "id": 41847,
      "node_id": "MDQ6VXNlcjQxODQ3",
      "avatar_url": "https://avatars.githubusercontent.com/u/41847?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ArtemGr",
      "html_url": "https://github.com/ArtemGr",
      "followers_url": "https://api.github.com/users/ArtemGr/followers",
      "following_url": "https://api.github.com/users/ArtemGr/following{/other_user}",
      "gists_url": "https://api.github.com/users/ArtemGr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ArtemGr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ArtemGr/subscriptions",
      "organizations_url": "https://api.github.com/users/ArtemGr/orgs",
      "repos_url": "https://api.github.com/users/ArtemGr/repos",
      "events_url": "https://api.github.com/users/ArtemGr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ArtemGr/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-01-21T12:15:19Z",
    "updated_at": "2018-01-21T12:15:58Z",
    "body": "> You already have it as unstable feature: std::intrinsics::unlikely. Using it and evaluating the current implementation is already possible.\r\n\r\n@bluss , it's not currently on par with CLANG / GCC implementations.\r\n\r\n> As you can see the discussion here is already in relation to the existing implementation and its flaws.\r\n\r\nThat's right. We're discussing whether to remove or to improve this feature.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/359243959/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/361175627",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-361175627",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 361175627,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2MTE3NTYyNw==",
    "user": {
      "login": "gnzlbg",
      "id": 904614,
      "node_id": "MDQ6VXNlcjkwNDYxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/904614?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnzlbg",
      "html_url": "https://github.com/gnzlbg",
      "followers_url": "https://api.github.com/users/gnzlbg/followers",
      "following_url": "https://api.github.com/users/gnzlbg/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnzlbg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnzlbg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnzlbg/subscriptions",
      "organizations_url": "https://api.github.com/users/gnzlbg/orgs",
      "repos_url": "https://api.github.com/users/gnzlbg/repos",
      "events_url": "https://api.github.com/users/gnzlbg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnzlbg/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-01-29T08:42:29Z",
    "updated_at": "2018-01-29T08:46:25Z",
    "body": "From [P0479r2: Attributes for Likely and Unlikely Statements (Revision 2)](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2017/p0479r2.html):\r\n\r\n* It seems that `likely`/`unlikely` are particularly widely used in systems programming (linux kernel and web browsers: Firefox and Chrome). \r\n* the optimization hints can be used to improve/degrade performance up to 40% on synthetic examples (two examples are studied), and to a much lesser extent on real projects (two open-source projects are studied) by generating `cmp/jmp` for predictable branches instead of `cmov` instructions in x86. Worth mentioning is that some architectures, like PowerPC, have instructions to override dynamic branch prediction, and these intrinsics can be used to control them.\r\n* these intrinsics are not easy to use, but they \"are not meant to be added to code without measuring the impact to ensure they do not end up degrading performance\".\r\n\r\nComing back to Rust, I do think that we need something like `likely/unlikely`, but I don't like the way the intrinsics are currently implemented:\r\n\r\n- They only apply to `if`-statements. There is no support for `if let`, `match`, ... , that is, if I want to use them in a `match` statement I need to rewrite the `match` as a sequence of `if`-statements. This is very unergonomic. \r\n- They make the expression \"opaque\" kind of like `test::black_box` preventing optimizations due to the way they are currently implemented. This is not what the intrinsics should be doing.\r\n- We already have the `#[cold]` attribute to indicate that a function is unlikely to be called, having a separate `unlikely` intrinsic/attribute looks to me like unnecessary duplication (if not, the documentation failed to convey me the difference).\r\n\r\nBasically what I want is a way to override the optimizers default of using `cmov`, by stating \"this branch is predictable and is going to be/not be taken often\" that works on all types of branches (match, if let, ...). I guess that for this to work it would need to be an attribute, and also, be passed to LLVM as branch prediction hints.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/361175627/reactions",
      "total_count": 9,
      "+1": 9,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/378537947",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-378537947",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 378537947,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3ODUzNzk0Nw==",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-04-04T09:25:24Z",
    "updated_at": "2018-04-04T09:25:24Z",
    "body": "So, the C++ comittee is talking about standardizing `likely`/`unlikely`, and herb sutter had this to say: https://herbsutter.com/2018/04/02/trip-report-winter-iso-c-standards-meeting-jacksonville/\r\n\r\n>  For example, for some code it is essential to make the uncommon path faster so that it is faster when you do hit it \u2014 and in such cases you would actually use this attribute in the inverted sense, so please also write a comment nearby to document that intent otherwise some hapless reader (more than likely your future self) will be temporarily confused.\r\n\r\n[Some people on Reddit](https://www.reddit.com/r/cpp/comments/8980ww/trip_report_winter_iso_c_standards_meeting/dwqq0c1/) have ideas for different names that don't have this drawback.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/378537947/reactions",
      "total_count": 3,
      "+1": 3,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/378544385",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-378544385",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 378544385,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3ODU0NDM4NQ==",
    "user": {
      "login": "gnzlbg",
      "id": 904614,
      "node_id": "MDQ6VXNlcjkwNDYxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/904614?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnzlbg",
      "html_url": "https://github.com/gnzlbg",
      "followers_url": "https://api.github.com/users/gnzlbg/followers",
      "following_url": "https://api.github.com/users/gnzlbg/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnzlbg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnzlbg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnzlbg/subscriptions",
      "organizations_url": "https://api.github.com/users/gnzlbg/orgs",
      "repos_url": "https://api.github.com/users/gnzlbg/repos",
      "events_url": "https://api.github.com/users/gnzlbg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnzlbg/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-04-04T09:49:51Z",
    "updated_at": "2018-04-04T09:50:29Z",
    "body": "@steveklabnik Thanks for pointing that out! \r\n\r\nThe current blocker here is that the current API is broken beyond all repair. \r\n\r\nI personally would prefer just allowing `#[cold]` in more situations to mean unlikely, and adding a `#[hot]` attribute that's the opposite of `#[cold]` to mean likely. But right now, any solution, even one with a bad name, would be infinitely better than what we have. Adding `#[likely]` and `#[unlikely]` attributes to unstable Rust would probably be the right first step to gain implementation experience without having to mess with the meaning of `#[cold]`. Whether these can be unified with `hot`/`cold` or should be renamed to something else is something that can be worked out afterwards.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/378544385/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/433937981",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-433937981",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 433937981,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMzkzNzk4MQ==",
    "user": {
      "login": "Amanieu",
      "id": 278509,
      "node_id": "MDQ6VXNlcjI3ODUwOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/278509?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Amanieu",
      "html_url": "https://github.com/Amanieu",
      "followers_url": "https://api.github.com/users/Amanieu/followers",
      "following_url": "https://api.github.com/users/Amanieu/following{/other_user}",
      "gists_url": "https://api.github.com/users/Amanieu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Amanieu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Amanieu/subscriptions",
      "organizations_url": "https://api.github.com/users/Amanieu/orgs",
      "repos_url": "https://api.github.com/users/Amanieu/repos",
      "events_url": "https://api.github.com/users/Amanieu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Amanieu/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-10-29T14:46:51Z",
    "updated_at": "2018-10-29T14:46:51Z",
    "body": "I get a consistent [10-15% speedup](https://github.com/Amanieu/hashbrown/blob/master/src/raw/mod.rs#L11) in `hashbrown` (a fast hash table implementation) using these intrinsics.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/433937981/reactions",
      "total_count": 5,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 4,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/433944991",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-433944991",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 433944991,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMzk0NDk5MQ==",
    "user": {
      "login": "gnzlbg",
      "id": 904614,
      "node_id": "MDQ6VXNlcjkwNDYxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/904614?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnzlbg",
      "html_url": "https://github.com/gnzlbg",
      "followers_url": "https://api.github.com/users/gnzlbg/followers",
      "following_url": "https://api.github.com/users/gnzlbg/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnzlbg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnzlbg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnzlbg/subscriptions",
      "organizations_url": "https://api.github.com/users/gnzlbg/orgs",
      "repos_url": "https://api.github.com/users/gnzlbg/repos",
      "events_url": "https://api.github.com/users/gnzlbg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnzlbg/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-10-29T15:03:50Z",
    "updated_at": "2018-10-29T15:03:50Z",
    "body": "@Amanieu the problem is that one cannot use these intrinsics in `match`, `if-let`, ... statements, so we need something better here.\r\n\r\nI think enough proof / motivation has already been given to convince most that these are useful, and P0479r2 contains a thorough performance analysis of properly and improperly using these intrinsics. \r\n\r\nAs mentioned I wish we could just use `#[hot]` and `#[cold]` for this (two attributes that already exist):\r\n\r\n```rust\r\nif foo() { #![hot] } else { #![cold] }\r\nif let Some(v) = opt { #![cold] }\r\nmatch opt {\r\n    Some(v) => { #![hot] ... },\r\n    None => { #![cold] ... }.\r\n}\r\n```\r\n\r\nbut I don't think that it is easy to lower these to an `llvm.expect` intrinsic on the value that's responsible for the branch landing there. ",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/433944991/reactions",
      "total_count": 3,
      "+1": 3,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/442111415",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-442111415",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 442111415,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0MjExMTQxNQ==",
    "user": {
      "login": "hsivonen",
      "id": 478856,
      "node_id": "MDQ6VXNlcjQ3ODg1Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/478856?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hsivonen",
      "html_url": "https://github.com/hsivonen",
      "followers_url": "https://api.github.com/users/hsivonen/followers",
      "following_url": "https://api.github.com/users/hsivonen/following{/other_user}",
      "gists_url": "https://api.github.com/users/hsivonen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hsivonen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hsivonen/subscriptions",
      "organizations_url": "https://api.github.com/users/hsivonen/orgs",
      "repos_url": "https://api.github.com/users/hsivonen/repos",
      "events_url": "https://api.github.com/users/hsivonen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hsivonen/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-11-27T15:57:08Z",
    "updated_at": "2018-11-27T15:57:08Z",
    "body": "> The current blocker here is that the current API is broken beyond all repair.\r\n\r\nThat's a bit of an exaggeration. The current design does work for plain `if` if changed technically from intrinsics to lang items to that `unsafe` isn't needed by policy.\r\n\r\nAlso, `#![hot]` and `#![cold]` have a different problem: They are at least confusing in the case of a chained `if`, which you'd have to rewrite as nested `if`s instead.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/442111415/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/442118470",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-442118470",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 442118470,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0MjExODQ3MA==",
    "user": {
      "login": "gnzlbg",
      "id": 904614,
      "node_id": "MDQ6VXNlcjkwNDYxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/904614?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnzlbg",
      "html_url": "https://github.com/gnzlbg",
      "followers_url": "https://api.github.com/users/gnzlbg/followers",
      "following_url": "https://api.github.com/users/gnzlbg/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnzlbg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnzlbg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnzlbg/subscriptions",
      "organizations_url": "https://api.github.com/users/gnzlbg/orgs",
      "repos_url": "https://api.github.com/users/gnzlbg/repos",
      "events_url": "https://api.github.com/users/gnzlbg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnzlbg/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-11-27T16:15:23Z",
    "updated_at": "2018-11-27T16:19:26Z",
    "body": "> That's a bit of an exaggeration. \r\n\r\nIf you want to apply this to `match`, `if let`, `while let`, etc., you'd have to do \"something like this\":\r\n\r\n```rust\r\nmatch foo {\r\n   A => ...,\r\n   core::intrinsic::likely(B) => ...,\r\n   core::intrinsic::likely(C if ...) => ...,\r\n   C => ...,\r\n   _ => ...,\r\n}\r\n```\r\n\r\nwhere `B` and `C if ...` are the pattern you are matching and `core::intrinsic::likely` is something that has to somehow disappear at the syntax level. Even for simple `if-else` code one cannot easily annotate the `else` branch using intrinsics:\r\n\r\n```rust\r\nif foo { \r\n   ...\r\n} else if ...  { ... }\r\n} else if ...  { ... }\r\n} else if ...  { ... }\r\n} core::intrinsics::unlikely(else) {  // ??\r\n   ...\r\n}\r\n``` \r\n\r\nThe `core::intrinsics::{likely,unlikely}` approach is definitely good enough as unstable stop gap until we get something better.  The performance consequences of these annotations are very hard to predict correctly, and we want people to use them only after appropriately evaluating that they get a positive effect. A solution that requires people to transform all of their conditional code into a series of `if ... { ... } else { ... }` statements just to be able to apply these intrinsics and test their effects is not IMO something worth stabilizing. This is what I meant with \"the intrinsics approach is broken beyond all repair\".\r\n\r\nWe need something that lets people just write:\r\n\r\n```rust\r\nmatch foo {\r\n   A => ...,\r\n   #[likely] B => ...,\r\n   #[likely] C if ... => ...,\r\n   C => ...,\r\n   _ => ...,\r\n}\r\n\r\nif foo { \r\n   ...\r\n} else if ...  { ... }\r\n} else if ...  { ... }\r\n} else if ...  { ... }\r\n} #[unlikely] else { \r\n   ...\r\n}\r\n```\r\n\r\nor\r\n\r\n```rust\r\nmatch foo {\r\n   A => ...,\r\n   B => #![likely]  ...,\r\n   C if ... => #![likely] ...,\r\n   C => ...,\r\n   _ => ...,\r\n}\r\n\r\nif foo { \r\n   ...\r\n} else if ...  { ... }\r\n} else if ...  { ... }\r\n} else if ...  { ... }\r\n} else { \r\n  #![unlikely] \r\n   ...\r\n}\r\n```\r\n\r\nor similar, so that testing these only requires a 1 line change.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/442118470/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/446341365",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-446341365",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 446341365,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0NjM0MTM2NQ==",
    "user": {
      "login": "Gankra",
      "id": 1136864,
      "node_id": "MDQ6VXNlcjExMzY4NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1136864?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Gankra",
      "html_url": "https://github.com/Gankra",
      "followers_url": "https://api.github.com/users/Gankra/followers",
      "following_url": "https://api.github.com/users/Gankra/following{/other_user}",
      "gists_url": "https://api.github.com/users/Gankra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Gankra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Gankra/subscriptions",
      "organizations_url": "https://api.github.com/users/Gankra/orgs",
      "repos_url": "https://api.github.com/users/Gankra/repos",
      "events_url": "https://api.github.com/users/Gankra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Gankra/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-12-11T20:00:01Z",
    "updated_at": "2018-12-11T20:01:23Z",
    "body": "I would like to propose stabilizing the likely/unlikely functions as-is to enable projects on stable (like hashbrown) to make use of these features where they can. Having them doesn't in any way block creating a better version later.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/446341365/reactions",
      "total_count": 6,
      "+1": 6,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/446350613",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-446350613",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 446350613,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0NjM1MDYxMw==",
    "user": {
      "login": "SimonSapin",
      "id": 291359,
      "node_id": "MDQ6VXNlcjI5MTM1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SimonSapin",
      "html_url": "https://github.com/SimonSapin",
      "followers_url": "https://api.github.com/users/SimonSapin/followers",
      "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}",
      "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions",
      "organizations_url": "https://api.github.com/users/SimonSapin/orgs",
      "repos_url": "https://api.github.com/users/SimonSapin/repos",
      "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SimonSapin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-12-11T20:29:49Z",
    "updated_at": "2018-12-11T20:29:49Z",
    "body": "How do these intrinsics relate to the `#[cold]` attribute on functions? Has `#[cold]` been tried in hashbrown?",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/446350613/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/446351793",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-446351793",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 446351793,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0NjM1MTc5Mw==",
    "user": {
      "login": "gnzlbg",
      "id": 904614,
      "node_id": "MDQ6VXNlcjkwNDYxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/904614?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnzlbg",
      "html_url": "https://github.com/gnzlbg",
      "followers_url": "https://api.github.com/users/gnzlbg/followers",
      "following_url": "https://api.github.com/users/gnzlbg/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnzlbg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnzlbg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnzlbg/subscriptions",
      "organizations_url": "https://api.github.com/users/gnzlbg/orgs",
      "repos_url": "https://api.github.com/users/gnzlbg/repos",
      "events_url": "https://api.github.com/users/gnzlbg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnzlbg/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-12-11T20:33:51Z",
    "updated_at": "2018-12-11T20:33:51Z",
    "body": "> How do these intrinsics relate to the #[cold] attribute on functions?\r\n\r\n`cold` is a calling convention on functions, while `likely`/`unlikely` annotate conditional jumps.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/446351793/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/447303980",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-447303980",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 447303980,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0NzMwMzk4MA==",
    "user": {
      "login": "hsivonen",
      "id": 478856,
      "node_id": "MDQ6VXNlcjQ3ODg1Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/478856?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hsivonen",
      "html_url": "https://github.com/hsivonen",
      "followers_url": "https://api.github.com/users/hsivonen/followers",
      "following_url": "https://api.github.com/users/hsivonen/following{/other_user}",
      "gists_url": "https://api.github.com/users/hsivonen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hsivonen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hsivonen/subscriptions",
      "organizations_url": "https://api.github.com/users/hsivonen/orgs",
      "repos_url": "https://api.github.com/users/hsivonen/repos",
      "events_url": "https://api.github.com/users/hsivonen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hsivonen/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-12-14T11:57:27Z",
    "updated_at": "2018-12-14T11:57:27Z",
    "body": "> If you want to apply this to `match`, `if let`, `while let`, etc\r\n\r\nI'm not claiming that `likely()`/`unlikely()` would address those use cases. I'm saying that `likely()`/`unlikely()` would work for plain `if` and right now the search for perfection means we don't get to have prediction hints for plain `if`, either.\r\n\r\n> Even for simple if-else code one cannot easily annotate the else branch using intrinsics:\r\n> ```rust\r\n> if foo { \r\n>    ...\r\n> } else if ...  { ... }\r\n> } else if ...  { ... }\r\n> } else if ...  { ... }\r\n> } core::intrinsics::unlikely(else) {  // ??\r\n>    ...\r\n> }\r\n> ```\r\n\r\nSince plain `if`conditions are evaluated as if the conditions were evaluated in order, the above should be:\r\n\r\n```rust\r\nif foo { \r\n   ...\r\n} else if ...  { ... }\r\n} else if ...  { ... }\r\n} else if likely(...)  {\r\n  ...\r\n} else {\r\n   ...\r\n}\r\n```\r\n\r\nOTOH, what does the following mean:\r\n\r\n```rust\r\nif foo {\r\n  ...\r\n} else if bar {\r\n  #![hot]\r\n} else {\r\n  ...\r\n}\r\n```\r\n\r\nDoes the middle annotation affect the prediction of `foo`, `bar` or both?",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/447303980/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/487438883",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-487438883",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 487438883,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4NzQzODg4Mw==",
    "user": {
      "login": "pickfire",
      "id": 4687791,
      "node_id": "MDQ6VXNlcjQ2ODc3OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4687791?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pickfire",
      "html_url": "https://github.com/pickfire",
      "followers_url": "https://api.github.com/users/pickfire/followers",
      "following_url": "https://api.github.com/users/pickfire/following{/other_user}",
      "gists_url": "https://api.github.com/users/pickfire/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pickfire/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pickfire/subscriptions",
      "organizations_url": "https://api.github.com/users/pickfire/orgs",
      "repos_url": "https://api.github.com/users/pickfire/repos",
      "events_url": "https://api.github.com/users/pickfire/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pickfire/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2019-04-29T02:41:10Z",
    "updated_at": "2019-04-29T02:41:40Z",
    "body": "Is not `match` supposed to be arranged in the order of likeliness? Same goes for branching.\r\n```rust\r\nmatch foo {\r\n    A => ...,\r\n    B => ...,\r\n}\r\n```\r\nAs well, is it just `likely` and `unlikely` or there maybe be something in middle?",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/487438883/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 1,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/487506214",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-487506214",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 487506214,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4NzUwNjIxNA==",
    "user": {
      "login": "gnzlbg",
      "id": 904614,
      "node_id": "MDQ6VXNlcjkwNDYxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/904614?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnzlbg",
      "html_url": "https://github.com/gnzlbg",
      "followers_url": "https://api.github.com/users/gnzlbg/followers",
      "following_url": "https://api.github.com/users/gnzlbg/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnzlbg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnzlbg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnzlbg/subscriptions",
      "organizations_url": "https://api.github.com/users/gnzlbg/orgs",
      "repos_url": "https://api.github.com/users/gnzlbg/repos",
      "events_url": "https://api.github.com/users/gnzlbg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnzlbg/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2019-04-29T09:00:20Z",
    "updated_at": "2019-04-29T09:00:41Z",
    "body": "> Is not match supposed to be arranged in the order of likeliness?\r\n\r\nNo, it is not supposed to be arranged that way (you can do that though if you feel like it).",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/487506214/reactions",
      "total_count": 2,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 1,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/489355675",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-489355675",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 489355675,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4OTM1NTY3NQ==",
    "user": {
      "login": "kazimuth",
      "id": 555667,
      "node_id": "MDQ6VXNlcjU1NTY2Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/555667?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kazimuth",
      "html_url": "https://github.com/kazimuth",
      "followers_url": "https://api.github.com/users/kazimuth/followers",
      "following_url": "https://api.github.com/users/kazimuth/following{/other_user}",
      "gists_url": "https://api.github.com/users/kazimuth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kazimuth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kazimuth/subscriptions",
      "organizations_url": "https://api.github.com/users/kazimuth/orgs",
      "repos_url": "https://api.github.com/users/kazimuth/repos",
      "events_url": "https://api.github.com/users/kazimuth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kazimuth/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2019-05-04T19:01:43Z",
    "updated_at": "2019-05-04T19:01:43Z",
    "body": "What work needs to be done to stabilize these? The RFC was merged, right?",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/489355675/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/489445712",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-489445712",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 489445712,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4OTQ0NTcxMg==",
    "user": {
      "login": "gnzlbg",
      "id": 904614,
      "node_id": "MDQ6VXNlcjkwNDYxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/904614?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnzlbg",
      "html_url": "https://github.com/gnzlbg",
      "followers_url": "https://api.github.com/users/gnzlbg/followers",
      "following_url": "https://api.github.com/users/gnzlbg/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnzlbg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnzlbg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnzlbg/subscriptions",
      "organizations_url": "https://api.github.com/users/gnzlbg/orgs",
      "repos_url": "https://api.github.com/users/gnzlbg/repos",
      "events_url": "https://api.github.com/users/gnzlbg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnzlbg/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2019-05-05T17:20:06Z",
    "updated_at": "2019-05-05T17:20:57Z",
    "body": "@kazimuth \r\n\r\nDuring the RFC discussion, the fact that these intrinsics only work with expressions did not appear to be very important, but since these have been implemented, more people have wanted to use these with, e.g., `if let` and other control flow constructs like `match`. \r\n\r\nThis has casted a bit of uncertainty on whether we should stabilize these intrinsics \"as is\", or whether solving this problem deserves a more general mechanism that works everywhere. As @Gankro mentioned, we can always add a more general mechanism later. From the few discussions about the more general feature in Zulip and Discord, it appears that a general solution isn't straight forward (e.g. for things like `match` arms some have expressed interest on being able to specify branch probabilities, as opposed to just \"likely\"/\"unlikely\").",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/489445712/reactions",
      "total_count": 4,
      "+1": 4,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/489454180",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-489454180",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 489454180,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4OTQ1NDE4MA==",
    "user": {
      "login": "kazimuth",
      "id": 555667,
      "node_id": "MDQ6VXNlcjU1NTY2Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/555667?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kazimuth",
      "html_url": "https://github.com/kazimuth",
      "followers_url": "https://api.github.com/users/kazimuth/followers",
      "following_url": "https://api.github.com/users/kazimuth/following{/other_user}",
      "gists_url": "https://api.github.com/users/kazimuth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kazimuth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kazimuth/subscriptions",
      "organizations_url": "https://api.github.com/users/kazimuth/orgs",
      "repos_url": "https://api.github.com/users/kazimuth/repos",
      "events_url": "https://api.github.com/users/kazimuth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kazimuth/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2019-05-05T19:05:49Z",
    "updated_at": "2019-05-05T19:05:49Z",
    "body": "Is someone willing to throw together a PR merging what we've got now?",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/489454180/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/543670142",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-543670142",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 543670142,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU0MzY3MDE0Mg==",
    "user": {
      "login": "elichai",
      "id": 2167860,
      "node_id": "MDQ6VXNlcjIxNjc4NjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2167860?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/elichai",
      "html_url": "https://github.com/elichai",
      "followers_url": "https://api.github.com/users/elichai/followers",
      "following_url": "https://api.github.com/users/elichai/following{/other_user}",
      "gists_url": "https://api.github.com/users/elichai/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/elichai/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/elichai/subscriptions",
      "organizations_url": "https://api.github.com/users/elichai/orgs",
      "repos_url": "https://api.github.com/users/elichai/repos",
      "events_url": "https://api.github.com/users/elichai/events{/privacy}",
      "received_events_url": "https://api.github.com/users/elichai/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2019-10-18T10:50:49Z",
    "updated_at": "2019-10-18T10:50:49Z",
    "body": "I personally think that `likely`/`unlikely` (hot/cold) cover 99% of the use cases.\r\neven in match.\r\nI do think that it's important to be able to use it in `match` and `if let` etc.\r\notherwise it might get us backwards in terms of idiomatic rust.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/543670142/reactions",
      "total_count": 2,
      "+1": 0,
      "-1": 2,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/552093030",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-552093030",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 552093030,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1MjA5MzAzMA==",
    "user": {
      "login": "CreepySkeleton",
      "id": 50968528,
      "node_id": "MDQ6VXNlcjUwOTY4NTI4",
      "avatar_url": "https://avatars.githubusercontent.com/u/50968528?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/CreepySkeleton",
      "html_url": "https://github.com/CreepySkeleton",
      "followers_url": "https://api.github.com/users/CreepySkeleton/followers",
      "following_url": "https://api.github.com/users/CreepySkeleton/following{/other_user}",
      "gists_url": "https://api.github.com/users/CreepySkeleton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/CreepySkeleton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/CreepySkeleton/subscriptions",
      "organizations_url": "https://api.github.com/users/CreepySkeleton/orgs",
      "repos_url": "https://api.github.com/users/CreepySkeleton/repos",
      "events_url": "https://api.github.com/users/CreepySkeleton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/CreepySkeleton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2019-11-09T11:55:17Z",
    "updated_at": "2019-11-09T11:55:17Z",
    "body": "> even in match\r\n\r\nHow so? I mean, if a match guard is in use than yes\r\n```rust\r\nmatch val {\r\n    x if likely(val > 5) => {},\r\n    x => {}\r\n}\r\n```\r\n\r\nbut there's no way to apply them to a match statement  in \"no guard\" case",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/552093030/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/552093418",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-552093418",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 552093418,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1MjA5MzQxOA==",
    "user": {
      "login": "elichai",
      "id": 2167860,
      "node_id": "MDQ6VXNlcjIxNjc4NjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2167860?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/elichai",
      "html_url": "https://github.com/elichai",
      "followers_url": "https://api.github.com/users/elichai/followers",
      "following_url": "https://api.github.com/users/elichai/following{/other_user}",
      "gists_url": "https://api.github.com/users/elichai/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/elichai/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/elichai/subscriptions",
      "organizations_url": "https://api.github.com/users/elichai/orgs",
      "repos_url": "https://api.github.com/users/elichai/repos",
      "events_url": "https://api.github.com/users/elichai/events{/privacy}",
      "received_events_url": "https://api.github.com/users/elichai/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2019-11-09T12:01:27Z",
    "updated_at": "2019-11-09T12:01:27Z",
    "body": "@CreepySkeleton As i've said a line later that I do think we should fix:\r\n> I do think that it's important to be able to use it in `match` and `if let` etc.\r\n> otherwise it might get us backwards in terms of idiomatic rust.\r\n\r\nBut I don't think that exact percentages are really that useful in practice, and being able to mark one of the match options as `likely` or `unlikely` is still very useful. \r\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/552093418/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/560298445",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-560298445",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 560298445,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2MDI5ODQ0NQ==",
    "user": {
      "login": "Pzixel",
      "id": 11201122,
      "node_id": "MDQ6VXNlcjExMjAxMTIy",
      "avatar_url": "https://avatars.githubusercontent.com/u/11201122?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Pzixel",
      "html_url": "https://github.com/Pzixel",
      "followers_url": "https://api.github.com/users/Pzixel/followers",
      "following_url": "https://api.github.com/users/Pzixel/following{/other_user}",
      "gists_url": "https://api.github.com/users/Pzixel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Pzixel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Pzixel/subscriptions",
      "organizations_url": "https://api.github.com/users/Pzixel/orgs",
      "repos_url": "https://api.github.com/users/Pzixel/repos",
      "events_url": "https://api.github.com/users/Pzixel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Pzixel/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2019-12-02T08:58:47Z",
    "updated_at": "2021-02-28T14:31:13Z",
    "body": "Upwote @gnzlbg 's post. We hardly need to decorate if let and pattern matching branches. I currently got 20% in my code by just rearranging match expression. It feels very unnatural I have to mimic C++ approach and native idiomatic rust is not that performant.\r\n\r\n---\r\n\r\nIn my cases I have four match branches, two of them happens in like 49% each, and the others split the rest. And I not only need to mark some branch as likely but even bunch of them. Like likely-1, likely-2 and so on. To show priorities of which one should be tested before others.\r\n\r\nI suppose I'd like to have something like\r\n\r\n```rust\r\nmatch foo {\r\n   #[likely(0)] A(x) => {},\r\n   #[likely(0)] B(x) => {},\r\n   #[likely(1)] C(x) => {},\r\n   #[likely(2)] D(x) => {},\r\n   E(x) => {},\r\n   F(x) => {},\r\n}\r\n```\r\n\r\nThe first two branches are of highest priority (although I'm not sure which one will happen most likely), the third is less likely, the fourth is even less likely, the rest of them are unknown  (but shouldn't happen more often than attributed branches).\r\n\r\nI'm not sure if Rust allows to tag individual expressions with attribute but it has the best UX from user perspective.",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/560298445/reactions",
      "total_count": 3,
      "+1": 3,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/636455808",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-636455808",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 636455808,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzNjQ1NTgwOA==",
    "user": {
      "login": "matklad",
      "id": 1711539,
      "node_id": "MDQ6VXNlcjE3MTE1Mzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/matklad",
      "html_url": "https://github.com/matklad",
      "followers_url": "https://api.github.com/users/matklad/followers",
      "following_url": "https://api.github.com/users/matklad/following{/other_user}",
      "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/matklad/subscriptions",
      "organizations_url": "https://api.github.com/users/matklad/orgs",
      "repos_url": "https://api.github.com/users/matklad/repos",
      "events_url": "https://api.github.com/users/matklad/events{/privacy}",
      "received_events_url": "https://api.github.com/users/matklad/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-05-31T11:05:31Z",
    "updated_at": "2020-05-31T11:05:31Z",
    "body": "(this is mostly a drive by observation from a non-expert, so don't take to seriously). \r\n\r\nMy understanding is that one of the problems here is that we have a narrow interface (`fn likely(bool) -> bool`), and there's a clear desire to have a more general one. However, it seems to me that, even if we implement a more general attribute-based solution, it still makes sense to have `fn likely`, as that is the most convenient interface to use for the common case. That is, I find this to be the best we can get in terms of readability:\r\n\r\n```rust\r\nif hint::likely(condition) {\r\n}\r\n```\r\n\r\nIt also seems that a function would be easier to discover and teach, and a good place to point to a more general facility, should we have one. ",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/636455808/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/636456242",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-636456242",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 636456242,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzNjQ1NjI0Mg==",
    "user": {
      "login": "matklad",
      "id": 1711539,
      "node_id": "MDQ6VXNlcjE3MTE1Mzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/matklad",
      "html_url": "https://github.com/matklad",
      "followers_url": "https://api.github.com/users/matklad/followers",
      "following_url": "https://api.github.com/users/matklad/following{/other_user}",
      "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/matklad/subscriptions",
      "organizations_url": "https://api.github.com/users/matklad/orgs",
      "repos_url": "https://api.github.com/users/matklad/repos",
      "events_url": "https://api.github.com/users/matklad/events{/privacy}",
      "received_events_url": "https://api.github.com/users/matklad/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-05-31T11:09:46Z",
    "updated_at": "2020-08-28T13:33:17Z",
    "body": "Also, I can not resist suggesting my own color. We have macros in pattern positions as of recently, so we can use a macro syntactically:\r\n\r\n```rust\r\nif hint::likely!(condition) {\r\n}\r\nmatch x {\r\n    hint::likely!(Some(x)) => (),\r\n    hint::unlikely!(None) => (),\r\n}\r\n```\r\n\r\nThis should also provide syntactic affordance for later extensions\r\n\r\n```rust\r\nmatch x {\r\n    hint::likely!(1, probability=0.5) => (),\r\n    hint::likely!(2, probability=0.2) => (),\r\n    hint::likely!(3, probability=0.2) => (),\r\n    _ => (),\r\n}\r\n```",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/636456242/reactions",
      "total_count": 12,
      "+1": 11,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/636458007",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-636458007",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 636458007,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzNjQ1ODAwNw==",
    "user": {
      "login": "pickfire",
      "id": 4687791,
      "node_id": "MDQ6VXNlcjQ2ODc3OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4687791?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pickfire",
      "html_url": "https://github.com/pickfire",
      "followers_url": "https://api.github.com/users/pickfire/followers",
      "following_url": "https://api.github.com/users/pickfire/following{/other_user}",
      "gists_url": "https://api.github.com/users/pickfire/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pickfire/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pickfire/subscriptions",
      "organizations_url": "https://api.github.com/users/pickfire/orgs",
      "repos_url": "https://api.github.com/users/pickfire/repos",
      "events_url": "https://api.github.com/users/pickfire/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pickfire/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-05-31T11:25:56Z",
    "updated_at": "2020-05-31T11:25:56Z",
    "body": "Is there some sort of tailored optimizations that count the probability of match arms? IIRC rust can build some software with tailored optimization after a few runs, will that change the probability here? Or does that automatically make out these likely/unlikely intrinsic by itself?",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/636458007/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/636473615",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-636473615",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 636473615,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzNjQ3MzYxNQ==",
    "user": {
      "login": "SimonSapin",
      "id": 291359,
      "node_id": "MDQ6VXNlcjI5MTM1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SimonSapin",
      "html_url": "https://github.com/SimonSapin",
      "followers_url": "https://api.github.com/users/SimonSapin/followers",
      "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}",
      "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions",
      "organizations_url": "https://api.github.com/users/SimonSapin/orgs",
      "repos_url": "https://api.github.com/users/SimonSapin/repos",
      "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SimonSapin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-05-31T13:45:45Z",
    "updated_at": "2020-05-31T13:45:45Z",
    "body": "@matklad Almost all macros expand to Rust code. (I think `macro_rules` and `asm` are the two special cases?) `likely` is about providing information to the compiler that doesn\u2019t have an \"expanded\" Rust code representation, so it fits an attribute much better in my opinion. Attributes also allow extensions like `#[likely(probability = 0.5)]`.\r\n\r\n@pickfire It sounds like you\u2019re looking for [Profile Guided Optimization](https://doc.rust-lang.org/rustc/profile-guided-optimization.html). It can be useful as well, but it\u2019s not completely a replacement for source annotations since it\u2019s harder to deploy and not deterministic.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/636473615/reactions",
      "total_count": 5,
      "+1": 5,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/684880231",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-684880231",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 684880231,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4NDg4MDIzMQ==",
    "user": {
      "login": "howard0su",
      "id": 766788,
      "node_id": "MDQ6VXNlcjc2Njc4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/766788?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/howard0su",
      "html_url": "https://github.com/howard0su",
      "followers_url": "https://api.github.com/users/howard0su/followers",
      "following_url": "https://api.github.com/users/howard0su/following{/other_user}",
      "gists_url": "https://api.github.com/users/howard0su/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/howard0su/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/howard0su/subscriptions",
      "organizations_url": "https://api.github.com/users/howard0su/orgs",
      "repos_url": "https://api.github.com/users/howard0su/repos",
      "events_url": "https://api.github.com/users/howard0su/events{/privacy}",
      "received_events_url": "https://api.github.com/users/howard0su/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-09-01T14:06:25Z",
    "updated_at": "2020-09-01T14:06:25Z",
    "body": "Do we consider the standard error handling in Rust like\r\nmatch result  {\r\n     Ok(xyz) => ....,\r\n     Err(_) => ...., \r\n}\r\nIn such case, we can safely assume Ok() path is more common. And some applies to Option<> as well. Will this benefit the performance?",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/684880231/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/684890290",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-684890290",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 684890290,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4NDg5MDI5MA==",
    "user": {
      "login": "Pzixel",
      "id": 11201122,
      "node_id": "MDQ6VXNlcjExMjAxMTIy",
      "avatar_url": "https://avatars.githubusercontent.com/u/11201122?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Pzixel",
      "html_url": "https://github.com/Pzixel",
      "followers_url": "https://api.github.com/users/Pzixel/followers",
      "following_url": "https://api.github.com/users/Pzixel/following{/other_user}",
      "gists_url": "https://api.github.com/users/Pzixel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Pzixel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Pzixel/subscriptions",
      "organizations_url": "https://api.github.com/users/Pzixel/orgs",
      "repos_url": "https://api.github.com/users/Pzixel/repos",
      "events_url": "https://api.github.com/users/Pzixel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Pzixel/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-09-01T14:20:06Z",
    "updated_at": "2020-09-01T14:20:06Z",
    "body": "No, we can't. Rustc has no idea what `Ok` or `Err` is",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/684890290/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/684893854",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-684893854",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 684893854,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4NDg5Mzg1NA==",
    "user": {
      "login": "CryZe",
      "id": 1451630,
      "node_id": "MDQ6VXNlcjE0NTE2MzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1451630?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/CryZe",
      "html_url": "https://github.com/CryZe",
      "followers_url": "https://api.github.com/users/CryZe/followers",
      "following_url": "https://api.github.com/users/CryZe/following{/other_user}",
      "gists_url": "https://api.github.com/users/CryZe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/CryZe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/CryZe/subscriptions",
      "organizations_url": "https://api.github.com/users/CryZe/orgs",
      "repos_url": "https://api.github.com/users/CryZe/repos",
      "events_url": "https://api.github.com/users/CryZe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/CryZe/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-09-01T14:25:30Z",
    "updated_at": "2020-09-01T14:25:30Z",
    "body": "Similar to the attributes on match cases, the attributes could be applied to enum variants, so it would be\r\n```rust\r\nenum Result<T, E> {\r\n    #[likely]\r\n    Ok(T),\r\n    Err(E),\r\n}\r\n```",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/684893854/reactions",
      "total_count": 4,
      "+1": 3,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/684905291",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-684905291",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 684905291,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4NDkwNTI5MQ==",
    "user": {
      "login": "jgarvin",
      "id": 102322,
      "node_id": "MDQ6VXNlcjEwMjMyMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/102322?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jgarvin",
      "html_url": "https://github.com/jgarvin",
      "followers_url": "https://api.github.com/users/jgarvin/followers",
      "following_url": "https://api.github.com/users/jgarvin/following{/other_user}",
      "gists_url": "https://api.github.com/users/jgarvin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jgarvin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jgarvin/subscriptions",
      "organizations_url": "https://api.github.com/users/jgarvin/orgs",
      "repos_url": "https://api.github.com/users/jgarvin/repos",
      "events_url": "https://api.github.com/users/jgarvin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jgarvin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-09-01T14:41:47Z",
    "updated_at": "2020-09-01T14:41:47Z",
    "body": "C compilers have to rely on heuristics to try and guess the error case, the cool thing about Rust's more expressive type system is that Err is a strong indicator you're in an unlikely case and is used universally. The combination of being able to say \"this variant itself is unlikely\" and \"this case is unlikely\" is you can use the declaration on the variant to get 99% of the annotations you would otherwise need out of the way, then you can use the ones on specific matches to fine tune. There's even the potential to use likely/unlikely on variants to change object representation -- e.g. put bits distinguishing the common variants next to hot fields, and put bits for unlikely cases next to cold fields (maybe even in heap memory if the variants all already contain `Box<T>`).",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/684905291/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/686058784",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-686058784",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 686058784,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4NjA1ODc4NA==",
    "user": {
      "login": "howard0su",
      "id": 766788,
      "node_id": "MDQ6VXNlcjc2Njc4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/766788?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/howard0su",
      "html_url": "https://github.com/howard0su",
      "followers_url": "https://api.github.com/users/howard0su/followers",
      "following_url": "https://api.github.com/users/howard0su/following{/other_user}",
      "gists_url": "https://api.github.com/users/howard0su/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/howard0su/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/howard0su/subscriptions",
      "organizations_url": "https://api.github.com/users/howard0su/orgs",
      "repos_url": "https://api.github.com/users/howard0su/repos",
      "events_url": "https://api.github.com/users/howard0su/events{/privacy}",
      "received_events_url": "https://api.github.com/users/howard0su/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2020-09-02T22:19:40Z",
    "updated_at": "2020-09-02T22:19:40Z",
    "body": "Can we extend [cold] attribute to able to annotate a **enum**. So that when we parse match or \"if let\", we can integrate this type of information via insert unlikely into the IR. ",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/686058784/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/787460803",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-787460803",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 787460803,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4NzQ2MDgwMw==",
    "user": {
      "login": "EkremDincel",
      "id": 53536793,
      "node_id": "MDQ6VXNlcjUzNTM2Nzkz",
      "avatar_url": "https://avatars.githubusercontent.com/u/53536793?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/EkremDincel",
      "html_url": "https://github.com/EkremDincel",
      "followers_url": "https://api.github.com/users/EkremDincel/followers",
      "following_url": "https://api.github.com/users/EkremDincel/following{/other_user}",
      "gists_url": "https://api.github.com/users/EkremDincel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/EkremDincel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/EkremDincel/subscriptions",
      "organizations_url": "https://api.github.com/users/EkremDincel/orgs",
      "repos_url": "https://api.github.com/users/EkremDincel/repos",
      "events_url": "https://api.github.com/users/EkremDincel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/EkremDincel/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2021-02-28T14:25:13Z",
    "updated_at": "2021-02-28T14:25:13Z",
    "body": "Did anybody considered something like [this](https://godbolt.org/z/Pxv6cW) for annotating `match` statements:\r\n```rust\r\nfn get_some_with_the_high_possibilty_of_success_or_return_zero(option: Option<i32>) -> i32 {\r\n    likely(matches!(option, Some(_)));\r\n    match option {\r\n        Some(value) => value,\r\n        None => 0,\r\n    }\r\n}\r\n```\r\n\r\nIdeally, LLVM would optimize the `likely(matches!(option, Some(_)))` to no-op since it don't have any side effects. Would this be a reasonable and useful way of doing this and is this enough to hint the compiler for optimizations?",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/787460803/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 1
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/787680877",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-787680877",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 787680877,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4NzY4MDg3Nw==",
    "user": {
      "login": "bakape",
      "id": 7851952,
      "node_id": "MDQ6VXNlcjc4NTE5NTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7851952?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bakape",
      "html_url": "https://github.com/bakape",
      "followers_url": "https://api.github.com/users/bakape/followers",
      "following_url": "https://api.github.com/users/bakape/following{/other_user}",
      "gists_url": "https://api.github.com/users/bakape/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bakape/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bakape/subscriptions",
      "organizations_url": "https://api.github.com/users/bakape/orgs",
      "repos_url": "https://api.github.com/users/bakape/repos",
      "events_url": "https://api.github.com/users/bakape/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bakape/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2021-03-01T06:22:03Z",
    "updated_at": "2021-03-01T06:22:03Z",
    "body": "Code that never runs can already be optimized out with unreachable and\nunreachable_unchecked.\n\nOn Sun, 28 Feb 2021, 16:25 Ekrem Din\u00e7el, <notifications@github.com> wrote:\n\n> Did anybody considered something like this <https://godbolt.org/z/Pxv6cW>\n> for annotating match statements:\n>\n> fn get_some_with_the_high_possibilty_of_success_or_return_zero(option: Option<i32>) -> i32 {\n>     likely(matches!(option, Some(_)));\n>     match option {\n>         Some(value) => value,\n>         None => 0,\n>     }\n> }\n>\n> Ideally, LLVM would optimize the likely(matches!(option, Some(_))) to\n> no-op since it don't have any side effects. Would this be a reasonable and\n> useful way of doing this and is this enough to hint the compiler for\n> optimizations?\n>\n> \u2014\n> You are receiving this because you are subscribed to this thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/rust-lang/rust/issues/26179#issuecomment-787460803>,\n> or unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AB347MBAEBQYYRCPN2RKWMDTBJG5RANCNFSM4BH2GMTQ>\n> .\n>\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/787680877/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/787905466",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-787905466",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 787905466,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4NzkwNTQ2Ng==",
    "user": {
      "login": "Kogia-sima",
      "id": 20660712,
      "node_id": "MDQ6VXNlcjIwNjYwNzEy",
      "avatar_url": "https://avatars.githubusercontent.com/u/20660712?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Kogia-sima",
      "html_url": "https://github.com/Kogia-sima",
      "followers_url": "https://api.github.com/users/Kogia-sima/followers",
      "following_url": "https://api.github.com/users/Kogia-sima/following{/other_user}",
      "gists_url": "https://api.github.com/users/Kogia-sima/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Kogia-sima/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Kogia-sima/subscriptions",
      "organizations_url": "https://api.github.com/users/Kogia-sima/orgs",
      "repos_url": "https://api.github.com/users/Kogia-sima/repos",
      "events_url": "https://api.github.com/users/Kogia-sima/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Kogia-sima/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2021-03-01T12:17:04Z",
    "updated_at": "2021-03-01T12:17:04Z",
    "body": "LLVM properly optimizes combination of `likely`/`unlikely` and `.unwrap()` as expected.\r\n\r\nhttps://godbolt.org/z/7Y6744",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/787905466/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/788011658",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-788011658",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 788011658,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4ODAxMTY1OA==",
    "user": {
      "login": "EkremDincel",
      "id": 53536793,
      "node_id": "MDQ6VXNlcjUzNTM2Nzkz",
      "avatar_url": "https://avatars.githubusercontent.com/u/53536793?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/EkremDincel",
      "html_url": "https://github.com/EkremDincel",
      "followers_url": "https://api.github.com/users/EkremDincel/followers",
      "following_url": "https://api.github.com/users/EkremDincel/following{/other_user}",
      "gists_url": "https://api.github.com/users/EkremDincel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/EkremDincel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/EkremDincel/subscriptions",
      "organizations_url": "https://api.github.com/users/EkremDincel/orgs",
      "repos_url": "https://api.github.com/users/EkremDincel/repos",
      "events_url": "https://api.github.com/users/EkremDincel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/EkremDincel/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2021-03-01T14:56:18Z",
    "updated_at": "2021-03-01T15:05:39Z",
    "body": "@bakape this is not the point, I ask whether my example code hints the compiler about the high probability of executing the `Some(value) => ...` arm. If so, I think it also an alternative usage.",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/788011658/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/788025324",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-788025324",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 788025324,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4ODAyNTMyNA==",
    "user": {
      "login": "CryZe",
      "id": 1451630,
      "node_id": "MDQ6VXNlcjE0NTE2MzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1451630?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/CryZe",
      "html_url": "https://github.com/CryZe",
      "followers_url": "https://api.github.com/users/CryZe/followers",
      "following_url": "https://api.github.com/users/CryZe/following{/other_user}",
      "gists_url": "https://api.github.com/users/CryZe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/CryZe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/CryZe/subscriptions",
      "organizations_url": "https://api.github.com/users/CryZe/orgs",
      "repos_url": "https://api.github.com/users/CryZe/repos",
      "events_url": "https://api.github.com/users/CryZe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/CryZe/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2021-03-01T15:14:26Z",
    "updated_at": "2021-03-01T15:14:26Z",
    "body": "@EkremDincel that doesn't seem to work as a hint",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/788025324/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/788032106",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-788032106",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 788032106,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4ODAzMjEwNg==",
    "user": {
      "login": "EkremDincel",
      "id": 53536793,
      "node_id": "MDQ6VXNlcjUzNTM2Nzkz",
      "avatar_url": "https://avatars.githubusercontent.com/u/53536793?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/EkremDincel",
      "html_url": "https://github.com/EkremDincel",
      "followers_url": "https://api.github.com/users/EkremDincel/followers",
      "following_url": "https://api.github.com/users/EkremDincel/following{/other_user}",
      "gists_url": "https://api.github.com/users/EkremDincel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/EkremDincel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/EkremDincel/subscriptions",
      "organizations_url": "https://api.github.com/users/EkremDincel/orgs",
      "repos_url": "https://api.github.com/users/EkremDincel/repos",
      "events_url": "https://api.github.com/users/EkremDincel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/EkremDincel/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2021-03-01T15:23:43Z",
    "updated_at": "2021-03-01T15:23:43Z",
    "body": "@CryZe You are right: https://godbolt.org/z/ec6Mn8",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/788032106/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/841811500",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-841811500",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 841811500,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg0MTgxMTUwMA==",
    "user": {
      "login": "gilescope",
      "id": 803976,
      "node_id": "MDQ6VXNlcjgwMzk3Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/803976?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gilescope",
      "html_url": "https://github.com/gilescope",
      "followers_url": "https://api.github.com/users/gilescope/followers",
      "following_url": "https://api.github.com/users/gilescope/following{/other_user}",
      "gists_url": "https://api.github.com/users/gilescope/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gilescope/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gilescope/subscriptions",
      "organizations_url": "https://api.github.com/users/gilescope/orgs",
      "repos_url": "https://api.github.com/users/gilescope/repos",
      "events_url": "https://api.github.com/users/gilescope/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gilescope/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2021-05-16T12:37:44Z",
    "updated_at": "2021-05-16T12:38:11Z",
    "body": "Am all for likely/unlikely - I think it makes it clearer when you're reading the code as to what's going on. Would love to see likely on `if let`, but I think it's a pretty widespread (apparently false) assumption that the first `match` statement is the most likely. Maybe we should find a way to make that assumption true so that the top `match` arm is the most likely?",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/841811500/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/965633507",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-965633507",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 965633507,
    "node_id": "IC_kwDOAAsO6M45jmXj",
    "user": {
      "login": "joshtriplett",
      "id": 162737,
      "node_id": "MDQ6VXNlcjE2MjczNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/162737?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/joshtriplett",
      "html_url": "https://github.com/joshtriplett",
      "followers_url": "https://api.github.com/users/joshtriplett/followers",
      "following_url": "https://api.github.com/users/joshtriplett/following{/other_user}",
      "gists_url": "https://api.github.com/users/joshtriplett/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/joshtriplett/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/joshtriplett/subscriptions",
      "organizations_url": "https://api.github.com/users/joshtriplett/orgs",
      "repos_url": "https://api.github.com/users/joshtriplett/repos",
      "events_url": "https://api.github.com/users/joshtriplett/events{/privacy}",
      "received_events_url": "https://api.github.com/users/joshtriplett/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2021-11-10T18:42:20Z",
    "updated_at": "2021-11-10T18:42:20Z",
    "body": "Nominating for libs-api: shall we approve moving this to `std::hint`?",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/965633507/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/965634348",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-965634348",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 965634348,
    "node_id": "IC_kwDOAAsO6M45jmks",
    "user": {
      "login": "joshtriplett",
      "id": 162737,
      "node_id": "MDQ6VXNlcjE2MjczNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/162737?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/joshtriplett",
      "html_url": "https://github.com/joshtriplett",
      "followers_url": "https://api.github.com/users/joshtriplett/followers",
      "following_url": "https://api.github.com/users/joshtriplett/following{/other_user}",
      "gists_url": "https://api.github.com/users/joshtriplett/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/joshtriplett/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/joshtriplett/subscriptions",
      "organizations_url": "https://api.github.com/users/joshtriplett/orgs",
      "repos_url": "https://api.github.com/users/joshtriplett/repos",
      "events_url": "https://api.github.com/users/joshtriplett/events{/privacy}",
      "received_events_url": "https://api.github.com/users/joshtriplett/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2021-11-10T18:43:30Z",
    "updated_at": "2021-11-10T18:43:30Z",
    "body": "We discussed this in today's @rust-lang/lang meeting. We consider this done from a lang perspective, and it's up to T-libs-api to give this a final name (perhaps in `std::hint`) and stabilize this.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/965634348/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/965636420",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-965636420",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 965636420,
    "node_id": "IC_kwDOAAsO6M45jnFE",
    "user": {
      "login": "Amanieu",
      "id": 278509,
      "node_id": "MDQ6VXNlcjI3ODUwOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/278509?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Amanieu",
      "html_url": "https://github.com/Amanieu",
      "followers_url": "https://api.github.com/users/Amanieu/followers",
      "following_url": "https://api.github.com/users/Amanieu/following{/other_user}",
      "gists_url": "https://api.github.com/users/Amanieu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Amanieu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Amanieu/subscriptions",
      "organizations_url": "https://api.github.com/users/Amanieu/orgs",
      "repos_url": "https://api.github.com/users/Amanieu/repos",
      "events_url": "https://api.github.com/users/Amanieu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Amanieu/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2021-11-10T18:46:11Z",
    "updated_at": "2021-11-10T18:46:11Z",
    "body": "I personally feel that a language-level `#[likely]` attribute would be a better fit. It would work on `if`, `if let`, `match` arms, etc.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/965636420/reactions",
      "total_count": 5,
      "+1": 5,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/965704475",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-965704475",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 965704475,
    "node_id": "IC_kwDOAAsO6M45j3sb",
    "user": {
      "login": "joshtriplett",
      "id": 162737,
      "node_id": "MDQ6VXNlcjE2MjczNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/162737?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/joshtriplett",
      "html_url": "https://github.com/joshtriplett",
      "followers_url": "https://api.github.com/users/joshtriplett/followers",
      "following_url": "https://api.github.com/users/joshtriplett/following{/other_user}",
      "gists_url": "https://api.github.com/users/joshtriplett/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/joshtriplett/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/joshtriplett/subscriptions",
      "organizations_url": "https://api.github.com/users/joshtriplett/orgs",
      "repos_url": "https://api.github.com/users/joshtriplett/repos",
      "events_url": "https://api.github.com/users/joshtriplett/events{/privacy}",
      "received_events_url": "https://api.github.com/users/joshtriplett/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2021-11-10T20:09:07Z",
    "updated_at": "2021-12-08T18:10:44Z",
    "body": "@Amanieu I'd personally like to have both, since `likely` and `unlikely` intrinsics work in more contexts (e.g. sub-expressions).\r\n\r\nEDIT: I now agree that an attribute makes sense.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/965704475/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/965725873",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-965725873",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 965725873,
    "node_id": "IC_kwDOAAsO6M45j86x",
    "user": {
      "login": "scottmcm",
      "id": 18526288,
      "node_id": "MDQ6VXNlcjE4NTI2Mjg4",
      "avatar_url": "https://avatars.githubusercontent.com/u/18526288?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/scottmcm",
      "html_url": "https://github.com/scottmcm",
      "followers_url": "https://api.github.com/users/scottmcm/followers",
      "following_url": "https://api.github.com/users/scottmcm/following{/other_user}",
      "gists_url": "https://api.github.com/users/scottmcm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/scottmcm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/scottmcm/subscriptions",
      "organizations_url": "https://api.github.com/users/scottmcm/orgs",
      "repos_url": "https://api.github.com/users/scottmcm/repos",
      "events_url": "https://api.github.com/users/scottmcm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/scottmcm/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2021-11-10T20:36:23Z",
    "updated_at": "2021-11-10T20:36:52Z",
    "body": "@Amanieu I would also like to have that.  One thing that got mentioned in the meeting was that we have `#[cold]` for functions and closures, so allowing that on *blocks* might be an interesting way to phrase it.\r\n\r\n(Albeit one can mostly write `#[cold] { ... }` as `(#[cold]||{ ... })()`.)",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/965725873/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/965762017",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-965762017",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 965762017,
    "node_id": "IC_kwDOAAsO6M45kFvh",
    "user": {
      "login": "Amanieu",
      "id": 278509,
      "node_id": "MDQ6VXNlcjI3ODUwOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/278509?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Amanieu",
      "html_url": "https://github.com/Amanieu",
      "followers_url": "https://api.github.com/users/Amanieu/followers",
      "following_url": "https://api.github.com/users/Amanieu/following{/other_user}",
      "gists_url": "https://api.github.com/users/Amanieu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Amanieu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Amanieu/subscriptions",
      "organizations_url": "https://api.github.com/users/Amanieu/orgs",
      "repos_url": "https://api.github.com/users/Amanieu/repos",
      "events_url": "https://api.github.com/users/Amanieu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Amanieu/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2021-11-10T21:31:58Z",
    "updated_at": "2021-11-10T21:31:58Z",
    "body": "Clang's [`CodeGenFunction::EmitBranchOnBoolExpr`](https://github.com/llvm/llvm-project/blob/58ebc79a64a5ca8dacf504f55d904e030effa164/clang/lib/CodeGen/CodeGenFunction.cpp#L1662) has special handling for `__builtin_expect` (which is what `likely`/`unlikely` use under the hood) which is not present in rustc.\r\n\r\nSpecifically, it performs the following transformations with boolean expressions:\r\n```\r\nlikely(a && b) => likely(a) && likely(b)\r\nunlikely(a && b) => a && unlikely(b)\r\nlikely(a || b) => a || likely(b)\r\nunlikely(a || b) => unlikely(a) || unlikely(b)\r\n```\r\n\r\nIn rustc this would need to be done during THIR to MIR lowering, which would require the compiler to treat these intrinsics specially.\r\n\r\nAdditionally, the `llvm.expect` intrinsic is designed to work when its result is directly passed to a `br` LLVM IR instruction. It does not work if used outside of this context ([example](https://github.com/rust-lang/rust/issues/26179#issuecomment-787460803)), which is not very obvious.\r\n\r\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/965762017/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/965819771",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-965819771",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 965819771,
    "node_id": "IC_kwDOAAsO6M45kT17",
    "user": {
      "login": "joshtriplett",
      "id": 162737,
      "node_id": "MDQ6VXNlcjE2MjczNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/162737?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/joshtriplett",
      "html_url": "https://github.com/joshtriplett",
      "followers_url": "https://api.github.com/users/joshtriplett/followers",
      "following_url": "https://api.github.com/users/joshtriplett/following{/other_user}",
      "gists_url": "https://api.github.com/users/joshtriplett/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/joshtriplett/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/joshtriplett/subscriptions",
      "organizations_url": "https://api.github.com/users/joshtriplett/orgs",
      "repos_url": "https://api.github.com/users/joshtriplett/repos",
      "events_url": "https://api.github.com/users/joshtriplett/events{/privacy}",
      "received_events_url": "https://api.github.com/users/joshtriplett/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2021-11-10T22:57:56Z",
    "updated_at": "2021-11-10T22:57:56Z",
    "body": "@Amanieu Those transformations seem potentially useful. I personally wouldn't consider them *necessary* to make these intrinsics useful, though. Would you consider those transformations to be blockers?",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/965819771/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/966136085",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-966136085",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 966136085,
    "node_id": "IC_kwDOAAsO6M45lhEV",
    "user": {
      "login": "iago-lito",
      "id": 10091387,
      "node_id": "MDQ6VXNlcjEwMDkxMzg3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10091387?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/iago-lito",
      "html_url": "https://github.com/iago-lito",
      "followers_url": "https://api.github.com/users/iago-lito/followers",
      "following_url": "https://api.github.com/users/iago-lito/following{/other_user}",
      "gists_url": "https://api.github.com/users/iago-lito/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/iago-lito/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iago-lito/subscriptions",
      "organizations_url": "https://api.github.com/users/iago-lito/orgs",
      "repos_url": "https://api.github.com/users/iago-lito/repos",
      "events_url": "https://api.github.com/users/iago-lito/events{/privacy}",
      "received_events_url": "https://api.github.com/users/iago-lito/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2021-11-11T09:20:30Z",
    "updated_at": "2021-11-11T09:20:30Z",
    "body": "I have a naive question here: besides `likely` and `unlikely` hints, sometimes I have a guarantee that the branch taken will actually be (uniformly) `random`. Would such a hint be useful at all for compilation? Would it be equivalent to every branch being `unlikely`?",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/966136085/reactions",
      "total_count": 2,
      "+1": 1,
      "-1": 0,
      "laugh": 1,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/966527036",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-966527036",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 966527036,
    "node_id": "IC_kwDOAAsO6M45nAg8",
    "user": {
      "login": "the8472",
      "id": 1065730,
      "node_id": "MDQ6VXNlcjEwNjU3MzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1065730?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/the8472",
      "html_url": "https://github.com/the8472",
      "followers_url": "https://api.github.com/users/the8472/followers",
      "following_url": "https://api.github.com/users/the8472/following{/other_user}",
      "gists_url": "https://api.github.com/users/the8472/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/the8472/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/the8472/subscriptions",
      "organizations_url": "https://api.github.com/users/the8472/orgs",
      "repos_url": "https://api.github.com/users/the8472/repos",
      "events_url": "https://api.github.com/users/the8472/events{/privacy}",
      "received_events_url": "https://api.github.com/users/the8472/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2021-11-11T18:25:43Z",
    "updated_at": "2021-11-11T18:25:43Z",
    "body": ">  sometimes I have a guarantee that the branch taken will actually be (uniformly) random.\r\n\r\nLLVM already has [unpreditable](https://llvm.org/docs/LangRef.html#unpredictable-metadata) for that. This came up in https://github.com/rust-lang/rust/issues/53823",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/966527036/reactions",
      "total_count": 3,
      "+1": 3,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/974744742",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-974744742",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 974744742,
    "node_id": "IC_kwDOAAsO6M46GWym",
    "user": {
      "login": "MSxDOS",
      "id": 15524350,
      "node_id": "MDQ6VXNlcjE1NTI0MzUw",
      "avatar_url": "https://avatars.githubusercontent.com/u/15524350?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MSxDOS",
      "html_url": "https://github.com/MSxDOS",
      "followers_url": "https://api.github.com/users/MSxDOS/followers",
      "following_url": "https://api.github.com/users/MSxDOS/following{/other_user}",
      "gists_url": "https://api.github.com/users/MSxDOS/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MSxDOS/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MSxDOS/subscriptions",
      "organizations_url": "https://api.github.com/users/MSxDOS/orgs",
      "repos_url": "https://api.github.com/users/MSxDOS/repos",
      "events_url": "https://api.github.com/users/MSxDOS/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MSxDOS/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2021-11-21T02:32:22Z",
    "updated_at": "2021-11-21T02:32:22Z",
    "body": "These intrinsics no longer have any effect for my code (starting with https://github.com/rust-lang/rust/pull/87570 ?).\r\nEasily compared by importing them as `use core::intrinsics::{likely as unlikely, unlikely as likely};` or replacing with blank functions, in all cases produced binaries are identical.",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/974744742/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/979444357",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-979444357",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 979444357,
    "node_id": "IC_kwDOAAsO6M46YSKF",
    "user": {
      "login": "the8472",
      "id": 1065730,
      "node_id": "MDQ6VXNlcjEwNjU3MzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1065730?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/the8472",
      "html_url": "https://github.com/the8472",
      "followers_url": "https://api.github.com/users/the8472/followers",
      "following_url": "https://api.github.com/users/the8472/following{/other_user}",
      "gists_url": "https://api.github.com/users/the8472/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/the8472/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/the8472/subscriptions",
      "organizations_url": "https://api.github.com/users/the8472/orgs",
      "repos_url": "https://api.github.com/users/the8472/repos",
      "events_url": "https://api.github.com/users/the8472/events{/privacy}",
      "received_events_url": "https://api.github.com/users/the8472/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2021-11-25T19:52:38Z",
    "updated_at": "2021-11-25T19:52:38Z",
    "body": "@MSxDOS that's probably worth a regression issue.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/979444357/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/984034609",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-984034609",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 984034609,
    "node_id": "IC_kwDOAAsO6M46py0x",
    "user": {
      "login": "Amanieu",
      "id": 278509,
      "node_id": "MDQ6VXNlcjI3ODUwOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/278509?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Amanieu",
      "html_url": "https://github.com/Amanieu",
      "followers_url": "https://api.github.com/users/Amanieu/followers",
      "following_url": "https://api.github.com/users/Amanieu/following{/other_user}",
      "gists_url": "https://api.github.com/users/Amanieu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Amanieu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Amanieu/subscriptions",
      "organizations_url": "https://api.github.com/users/Amanieu/orgs",
      "repos_url": "https://api.github.com/users/Amanieu/repos",
      "events_url": "https://api.github.com/users/Amanieu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Amanieu/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2021-12-01T20:37:24Z",
    "updated_at": "2021-12-01T20:37:24Z",
    "body": "We discussed this during the libs-api meeting and don't think that a function is the correct interface for exposing probabilities on LLVM IR branch instruction (or equivalents in other backends). We would instead prefer an attribute-based solution which would work on both `if` and `match` arms.\r\n\r\nPassing this back to T-lang.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/984034609/reactions",
      "total_count": 8,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 8,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/989056000",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-989056000",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 989056000,
    "node_id": "IC_kwDOAAsO6M4688wA",
    "user": {
      "login": "joshtriplett",
      "id": 162737,
      "node_id": "MDQ6VXNlcjE2MjczNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/162737?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/joshtriplett",
      "html_url": "https://github.com/joshtriplett",
      "followers_url": "https://api.github.com/users/joshtriplett/followers",
      "following_url": "https://api.github.com/users/joshtriplett/following{/other_user}",
      "gists_url": "https://api.github.com/users/joshtriplett/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/joshtriplett/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/joshtriplett/subscriptions",
      "organizations_url": "https://api.github.com/users/joshtriplett/orgs",
      "repos_url": "https://api.github.com/users/joshtriplett/repos",
      "events_url": "https://api.github.com/users/joshtriplett/events{/privacy}",
      "received_events_url": "https://api.github.com/users/joshtriplett/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2021-12-08T18:15:30Z",
    "updated_at": "2021-12-08T18:15:30Z",
    "body": "For this tracking issue, for the intrinsics, we're marking these as \"perma-unstable\", like most LLVM intrinsics.\r\n\r\nWe'd love to see a lang MCP for `#[likely]` and `#[unlikely]` attributes.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/989056000/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/2483361839",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-2483361839",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 2483361839,
    "node_id": "IC_kwDOAAsO6M6UBRgv",
    "user": {
      "login": "saethlin",
      "id": 12105168,
      "node_id": "MDQ6VXNlcjEyMTA1MTY4",
      "avatar_url": "https://avatars.githubusercontent.com/u/12105168?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/saethlin",
      "html_url": "https://github.com/saethlin",
      "followers_url": "https://api.github.com/users/saethlin/followers",
      "following_url": "https://api.github.com/users/saethlin/following{/other_user}",
      "gists_url": "https://api.github.com/users/saethlin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/saethlin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/saethlin/subscriptions",
      "organizations_url": "https://api.github.com/users/saethlin/orgs",
      "repos_url": "https://api.github.com/users/saethlin/repos",
      "events_url": "https://api.github.com/users/saethlin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/saethlin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2024-11-18T15:22:35Z",
    "updated_at": "2024-11-18T15:22:35Z",
    "body": "https://github.com/rust-lang/rust/pull/120370 should now work, at least sometimes. I don't know if https://github.com/rust-lang/rust/issues/88767 is fixed, but since reviewing the fix PR I now have the opinion that a `#[cold]` on arms or the `intrinsics::cold_path()` strategy is the right way to provide this branch hinting information.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/2483361839/reactions",
      "total_count": 4,
      "+1": 3,
      "-1": 0,
      "laugh": 0,
      "hooray": 1,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/2558408544",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-2558408544",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 2558408544,
    "node_id": "IC_kwDOAAsO6M6Yfjdg",
    "user": {
      "login": "Clipi-12",
      "id": 59290216,
      "node_id": "MDQ6VXNlcjU5MjkwMjE2",
      "avatar_url": "https://avatars.githubusercontent.com/u/59290216?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Clipi-12",
      "html_url": "https://github.com/Clipi-12",
      "followers_url": "https://api.github.com/users/Clipi-12/followers",
      "following_url": "https://api.github.com/users/Clipi-12/following{/other_user}",
      "gists_url": "https://api.github.com/users/Clipi-12/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Clipi-12/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Clipi-12/subscriptions",
      "organizations_url": "https://api.github.com/users/Clipi-12/orgs",
      "repos_url": "https://api.github.com/users/Clipi-12/repos",
      "events_url": "https://api.github.com/users/Clipi-12/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Clipi-12/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2024-12-22T10:31:43Z",
    "updated_at": "2024-12-22T10:31:43Z",
    "body": "Proposal to reexport `intrinsics::cold_path()` in `std::hint` in [libs-team#510](https://github.com/rust-lang/libs-team/issues/510)",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/2558408544/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/2651309474",
    "html_url": "https://github.com/rust-lang/rust/issues/26179#issuecomment-2651309474",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/26179",
    "id": 2651309474,
    "node_id": "IC_kwDOAAsO6M6eB8Wi",
    "user": {
      "login": "tgross35",
      "id": 13724985,
      "node_id": "MDQ6VXNlcjEzNzI0OTg1",
      "avatar_url": "https://avatars.githubusercontent.com/u/13724985?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tgross35",
      "html_url": "https://github.com/tgross35",
      "followers_url": "https://api.github.com/users/tgross35/followers",
      "following_url": "https://api.github.com/users/tgross35/following{/other_user}",
      "gists_url": "https://api.github.com/users/tgross35/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tgross35/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tgross35/subscriptions",
      "organizations_url": "https://api.github.com/users/tgross35/orgs",
      "repos_url": "https://api.github.com/users/tgross35/repos",
      "events_url": "https://api.github.com/users/tgross35/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tgross35/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2025-02-11T16:17:34Z",
    "updated_at": "2025-02-11T16:17:34Z",
    "body": "We now have `likely`, `unlikely` and `cold_path` in `core::hint`. The feature currently points here but I think it's better to keep the library discussion separate from this issue's meta discussion (happy almost tenth birthday to this issue), so I'm moving the gates to https://github.com/rust-lang/rust/issues/136873.",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/2651309474/reactions",
      "total_count": 5,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 5,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
