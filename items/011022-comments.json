[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/30770199",
    "html_url": "https://github.com/rust-lang/rust/pull/11022#issuecomment-30770199",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/11022",
    "id": 30770199,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwNzcwMTk5",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-12-17T17:14:00Z",
    "updated_at": "2013-12-17T17:14:00Z",
    "body": "I don't really understand why the check for an empty buffer moved lower, it seems like the condition you want is to have `if available.len() == 0 && self.inner.reader.eof() { return None; }`.\n\nAdditionally, this is a tricky case which _definitely_ needs a test.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/30770199/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/30871027",
    "html_url": "https://github.com/rust-lang/rust/pull/11022#issuecomment-30871027",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/11022",
    "id": 30871027,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwODcxMDI3",
    "user": {
      "login": "spaolacci",
      "id": 3320120,
      "node_id": "MDQ6VXNlcjMzMjAxMjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3320120?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/spaolacci",
      "html_url": "https://github.com/spaolacci",
      "followers_url": "https://api.github.com/users/spaolacci/followers",
      "following_url": "https://api.github.com/users/spaolacci/following{/other_user}",
      "gists_url": "https://api.github.com/users/spaolacci/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/spaolacci/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/spaolacci/subscriptions",
      "organizations_url": "https://api.github.com/users/spaolacci/orgs",
      "repos_url": "https://api.github.com/users/spaolacci/repos",
      "events_url": "https://api.github.com/users/spaolacci/events{/privacy}",
      "received_events_url": "https://api.github.com/users/spaolacci/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-12-18T19:13:46Z",
    "updated_at": "2013-12-18T19:13:46Z",
    "body": "I definitely agree with the test requirement. The reason for moving down the condition is (/was) to avoid multi-borrowing of `(*self).inner`. I honestly didn't find any easier way to bypass the following situation\n\n<pre>\nbuffered.rs:121:39: 121:49 error: cannot borrow `(*self).inner` as mutable more than once at a time\nbuffered.rs:121             if available.len() == 0 && self.inner.eof() {\n                                                       ^~~~~~~~~~\nbuffered.rs:120:28: 120:33 note: second borrow of `(*self).inner` as mutable occurs here\nbuffered.rs:120             let available = self.fill();\n                                            ^~~~~\n</pre>\n\nI'm quite new to the language (to say the least), so I'm obviously open to any lead/suggestion with doing it any other way (or with just opening a bug and letting the patch down to not make you loose too much of your time).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/30871027/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/30871277",
    "html_url": "https://github.com/rust-lang/rust/pull/11022#issuecomment-30871277",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/11022",
    "id": 30871277,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwODcxMjc3",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-12-18T19:16:14Z",
    "updated_at": "2013-12-18T19:16:14Z",
    "body": "Ah I can see where that would be a problem, r+ with a test!\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/30871277/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
