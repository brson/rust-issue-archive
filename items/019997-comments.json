[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/67576827",
    "html_url": "https://github.com/rust-lang/rust/issues/19997#issuecomment-67576827",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19997",
    "id": 67576827,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3NTc2ODI3",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-12-18T23:41:13Z",
    "updated_at": "2014-12-18T23:41:13Z",
    "body": "cc me\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/67576827/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/67576868",
    "html_url": "https://github.com/rust-lang/rust/issues/19997#issuecomment-67576868",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19997",
    "id": 67576868,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3NTc2ODY4",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-12-18T23:41:31Z",
    "updated_at": "2014-12-18T23:41:31Z",
    "body": "Nominating.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/67576868/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/67576993",
    "html_url": "https://github.com/rust-lang/rust/issues/19997#issuecomment-67576993",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19997",
    "id": 67576993,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3NTc2OTkz",
    "user": {
      "login": "pythonesque",
      "id": 923144,
      "node_id": "MDQ6VXNlcjkyMzE0NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/923144?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pythonesque",
      "html_url": "https://github.com/pythonesque",
      "followers_url": "https://api.github.com/users/pythonesque/followers",
      "following_url": "https://api.github.com/users/pythonesque/following{/other_user}",
      "gists_url": "https://api.github.com/users/pythonesque/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pythonesque/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pythonesque/subscriptions",
      "organizations_url": "https://api.github.com/users/pythonesque/orgs",
      "repos_url": "https://api.github.com/users/pythonesque/repos",
      "events_url": "https://api.github.com/users/pythonesque/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pythonesque/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-12-18T23:42:53Z",
    "updated_at": "2014-12-19T08:45:04Z",
    "body": "Simplified test case (no unsafe code):\n\n``` rust\nfn main() {\n    let a = 0u8;\n    let mut a = Some(&a);\n    if let (&Some(ref b),) = (&a,) {\n        a = None;\n        println!(\"{}, {}\", a, b);\n    }\n}\n```\n\nThis seems to be an issue with tuple patterns specifically.  I can't get it to happen if I try the same thing without one.  The behavior suggests to me that borrowck does not consider `&a` to borrow `a` in such patterns.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/67576993/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/67583437",
    "html_url": "https://github.com/rust-lang/rust/issues/19997#issuecomment-67583437",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19997",
    "id": 67583437,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3NTgzNDM3",
    "user": {
      "login": "pythonesque",
      "id": 923144,
      "node_id": "MDQ6VXNlcjkyMzE0NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/923144?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pythonesque",
      "html_url": "https://github.com/pythonesque",
      "followers_url": "https://api.github.com/users/pythonesque/followers",
      "following_url": "https://api.github.com/users/pythonesque/following{/other_user}",
      "gists_url": "https://api.github.com/users/pythonesque/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pythonesque/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pythonesque/subscriptions",
      "organizations_url": "https://api.github.com/users/pythonesque/orgs",
      "repos_url": "https://api.github.com/users/pythonesque/repos",
      "events_url": "https://api.github.com/users/pythonesque/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pythonesque/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-12-19T00:54:56Z",
    "updated_at": "2014-12-19T08:48:40Z",
    "body": "Actually, I can make it happen for tuple structs as well:\n\n``` rust\nfn main() {\n    struct Foo<'a, 'b: 'a>(&'a Option<&'b u8>);\n    let a = 0u8;\n    let mut a = Some(&a);\n    if let Foo(&Some(ref b)) = Foo(&a) {\n        a = None;\n        println!(\"{}, {}\", a, b);\n    }\n}\n```\n\nand regular structs:\n\n``` rust\nfn main() {\n    struct Foo<'a, 'b: 'a> { data: &'a Option<&'b u8> };\n    let a = 0u8;\n    let mut a = Some(&a);\n    if let Foo { data: &Some(ref b) } = (Foo { data: &a }) {\n        a = None;\n        println!(\"{}, {}\", a, b);\n    }\n}\n```\n\nand even enum variants:\n\n``` rust\nfn main() {\n    struct Foo<'a, 'b: 'a>(&'a Option<&'b u8>);\n    let a = 0u8;\n    let mut a = Some(&a);\n    if let Foo::Foo(&Some(ref b)) = Foo::Foo(&a) {\n        a = None;\n        println!(\"{}, {}\", a, b);\n    }\n}\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/67583437/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/68616862",
    "html_url": "https://github.com/rust-lang/rust/issues/19997#issuecomment-68616862",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/19997",
    "id": 68616862,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4NjE2ODYy",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-04T01:26:35Z",
    "updated_at": "2015-01-04T01:26:35Z",
    "body": "Got a fix coming.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/68616862/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
