[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/94178468",
    "html_url": "https://github.com/rust-lang/rust/issues/24556#issuecomment-94178468",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24556",
    "id": 94178468,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk0MTc4NDY4",
    "user": {
      "login": "lifthrasiir",
      "id": 323836,
      "node_id": "MDQ6VXNlcjMyMzgzNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/323836?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lifthrasiir",
      "html_url": "https://github.com/lifthrasiir",
      "followers_url": "https://api.github.com/users/lifthrasiir/followers",
      "following_url": "https://api.github.com/users/lifthrasiir/following{/other_user}",
      "gists_url": "https://api.github.com/users/lifthrasiir/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lifthrasiir/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lifthrasiir/subscriptions",
      "organizations_url": "https://api.github.com/users/lifthrasiir/orgs",
      "repos_url": "https://api.github.com/users/lifthrasiir/repos",
      "events_url": "https://api.github.com/users/lifthrasiir/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lifthrasiir/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-18T16:25:09Z",
    "updated_at": "2015-04-18T16:29:53Z",
    "body": "FYI, I'm already working on the flt2dec patch (but was a bit busy for recent weeks).\n\nI have all necessary tools for formatting, including precision customization (see `src/flt2dec/mod.rs` helper functions). I believe that this should make the resulting patch smaller, but I'm yet to do that.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/94178468/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/94357178",
    "html_url": "https://github.com/rust-lang/rust/issues/24556#issuecomment-94357178",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24556",
    "id": 94357178,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk0MzU3MTc4",
    "user": {
      "login": "rprichard",
      "id": 1572855,
      "node_id": "MDQ6VXNlcjE1NzI4NTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1572855?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rprichard",
      "html_url": "https://github.com/rprichard",
      "followers_url": "https://api.github.com/users/rprichard/followers",
      "following_url": "https://api.github.com/users/rprichard/following{/other_user}",
      "gists_url": "https://api.github.com/users/rprichard/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rprichard/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rprichard/subscriptions",
      "organizations_url": "https://api.github.com/users/rprichard/orgs",
      "repos_url": "https://api.github.com/users/rprichard/repos",
      "events_url": "https://api.github.com/users/rprichard/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rprichard/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-20T04:54:38Z",
    "updated_at": "2015-04-20T04:54:38Z",
    "body": "> This is not strictly a property of these algorithms, but other languages do it and I think Rust will want it too: It always includes a decimal point, even for floats that happen to have no fractional part.\n\nI think this is a good idea for the default float->string behavior -- it has better interoperability properties. I opened [issue #1075](https://github.com/rust-lang/rfcs/issues/1075) for it in the rfcs repo.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/94357178/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/96258827",
    "html_url": "https://github.com/rust-lang/rust/issues/24556#issuecomment-96258827",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24556",
    "id": 96258827,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk2MjU4ODI3",
    "user": {
      "login": "lilyball",
      "id": 714,
      "node_id": "MDQ6VXNlcjcxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/714?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lilyball",
      "html_url": "https://github.com/lilyball",
      "followers_url": "https://api.github.com/users/lilyball/followers",
      "following_url": "https://api.github.com/users/lilyball/following{/other_user}",
      "gists_url": "https://api.github.com/users/lilyball/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lilyball/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lilyball/subscriptions",
      "organizations_url": "https://api.github.com/users/lilyball/orgs",
      "repos_url": "https://api.github.com/users/lilyball/repos",
      "events_url": "https://api.github.com/users/lilyball/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lilyball/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-25T18:44:47Z",
    "updated_at": "2015-04-25T18:44:47Z",
    "body": "> It will sometimes include more than six decimal digits. However, it will not include more digits than necessary, so it's better than `{:.17}` (this makes round trip-safe outputs easier to eyeball).\n\nPresumably saying `{:.17}` will still produce 17 decimal digits even if they're all `0`, right?\n\nI just suggested in [a comment](https://github.com/rust-lang/rfcs/issues/1074#issuecomment-96258495) on rust-lang/rust#1074 that we might want to consider adding a format modifier `:f` that produces a \"simpler\" display, e.g. no `-` on `-0.0` and trimming off all trailing zeroes (including the `.0` if there's no fractional part). With that modifier, `{:.6f}` would only print up to 6 digits of precision, but would print fewer if it would otherwise print trailing zeroes.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/96258827/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/96299356",
    "html_url": "https://github.com/rust-lang/rust/issues/24556#issuecomment-96299356",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24556",
    "id": 96299356,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk2Mjk5MzU2",
    "user": {
      "login": "bombless",
      "id": 1296393,
      "node_id": "MDQ6VXNlcjEyOTYzOTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1296393?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bombless",
      "html_url": "https://github.com/bombless",
      "followers_url": "https://api.github.com/users/bombless/followers",
      "following_url": "https://api.github.com/users/bombless/following{/other_user}",
      "gists_url": "https://api.github.com/users/bombless/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bombless/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bombless/subscriptions",
      "organizations_url": "https://api.github.com/users/bombless/orgs",
      "repos_url": "https://api.github.com/users/bombless/repos",
      "events_url": "https://api.github.com/users/bombless/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bombless/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-26T00:45:48Z",
    "updated_at": "2015-04-26T00:46:10Z",
    "body": "I suggest we use Grisu2 for Debug printing f32/f64.\nWe can add a {:g} format for 1.0, and let's do it right in 1.1\nHere's the weird behavior we have today:\n\n``` rust\nfn main() {\n    let a = 0.57 * 100f64;\n    let b = 57f64;\n    assert_eq!(format!(\"{:?}\", a), format!(\"{:?}\", b));\n    assert!(a != b)\n}\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/96299356/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/97511616",
    "html_url": "https://github.com/rust-lang/rust/issues/24556#issuecomment-97511616",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24556",
    "id": 97511616,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk3NTExNjE2",
    "user": {
      "login": "pnkfelix",
      "id": 173127,
      "node_id": "MDQ6VXNlcjE3MzEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pnkfelix",
      "html_url": "https://github.com/pnkfelix",
      "followers_url": "https://api.github.com/users/pnkfelix/followers",
      "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}",
      "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions",
      "organizations_url": "https://api.github.com/users/pnkfelix/orgs",
      "repos_url": "https://api.github.com/users/pnkfelix/repos",
      "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pnkfelix/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-29T17:25:37Z",
    "updated_at": "2015-04-29T20:29:41Z",
    "body": "@bombless we're already planning to land the Grisu3 PR (#24612 ), but it is not planned to be part of 1.0.  I cannot tell if that matches with what you were promoting or not; I just thought I'd mention the plan-of-record.\n\nUpdate: Fixed text above to say \"Grisu3\" instead of \"Grisu2\".\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/97511616/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/97527037",
    "html_url": "https://github.com/rust-lang/rust/issues/24556#issuecomment-97527037",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24556",
    "id": 97527037,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk3NTI3MDM3",
    "user": {
      "login": "hanna-kruppe",
      "id": 2311707,
      "node_id": "MDQ6VXNlcjIzMTE3MDc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2311707?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hanna-kruppe",
      "html_url": "https://github.com/hanna-kruppe",
      "followers_url": "https://api.github.com/users/hanna-kruppe/followers",
      "following_url": "https://api.github.com/users/hanna-kruppe/following{/other_user}",
      "gists_url": "https://api.github.com/users/hanna-kruppe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hanna-kruppe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hanna-kruppe/subscriptions",
      "organizations_url": "https://api.github.com/users/hanna-kruppe/orgs",
      "repos_url": "https://api.github.com/users/hanna-kruppe/repos",
      "events_url": "https://api.github.com/users/hanna-kruppe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hanna-kruppe/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-29T18:12:23Z",
    "updated_at": "2015-04-29T18:13:20Z",
    "body": "To be clear, the PR adds Grisu3 + Dragon4, not Grisu2. That is, it always finds the shortest representation at the cost of more code (and needing significantly more time and memory on about 0.5% of all possible floats). In the issue, I promoted Grisu2 in an attempt to keep implementation effort a bit lower, not knowing that @lifthrasiir already solved all problems and nobody worries about the extra code (and some of that code is necessary for future float _parsing_ work anyway).\n\n**tl;dr** Forget about Grisu2 and celebrate Grisu3!\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/97527037/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/97533474",
    "html_url": "https://github.com/rust-lang/rust/issues/24556#issuecomment-97533474",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24556",
    "id": 97533474,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk3NTMzNDc0",
    "user": {
      "login": "lilyball",
      "id": 714,
      "node_id": "MDQ6VXNlcjcxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/714?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lilyball",
      "html_url": "https://github.com/lilyball",
      "followers_url": "https://api.github.com/users/lilyball/followers",
      "following_url": "https://api.github.com/users/lilyball/following{/other_user}",
      "gists_url": "https://api.github.com/users/lilyball/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lilyball/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lilyball/subscriptions",
      "organizations_url": "https://api.github.com/users/lilyball/orgs",
      "repos_url": "https://api.github.com/users/lilyball/repos",
      "events_url": "https://api.github.com/users/lilyball/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lilyball/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-29T18:30:19Z",
    "updated_at": "2015-04-29T18:30:19Z",
    "body": "How does Grisu3 + Dragon4 compare to [Burger & Dybvig](http://www.cs.indiana.edu/~dyb/pubs/FP-Printing-PLDI96.pdf)? This is basically the same thing as David Gay's algorithm, but was developed separately, and apparently differs slightly. More importantly, David Gay's C implementation is \"mind-numblingly complex\" and was written to prioritize speed over everything else, but the algorithm described in that paper is apparently significantly simpler (and presumably performs well, just isn't as fast as David Gay's C implementation). The paper also includes a pretty simple Scheme code implementation (of the floating-point algorithm; it describes changes to the algorithm for fixed-point high-precision that is faster but doesn't give Scheme code for it)\n\nQuoted from [this python-list email](https://mail.python.org/pipermail/python-list/2004-July/280692.html):\n\n> As the paper says at the end,\n> \n> > [David] Gay ... showed that floating-point arithmetic is sufficiently\n> >     accurate in most cases when the requested number of digits is small.\n> >     The fixed-format printing algorithm described in this paper is useful when\n> >     these heuristics fail.\n> \n> IOW, the point of Burger & Dybvig was to run faster than the\n> algorithms in the earlier Steele & White paper, but David Gay's code\n> _usually_ beats everything on speed (if you don't care about speed,\n> code for this task is quite simple; if you do care about speed, it's\n> mind-numbingly complicated), so there's little incentive to implement\n> this algorithm.\n\nSo David Gay's algorithm is generally faster than Burger & Dybvig but I guess is too complex to be worth reimplementing. But this doesn't tell me how Burger & Dybvig's algorithm compares to Grisu3 + Dragon4 (both of which I know nothing at all about).\n\nI'm also not sure offhand whether Burger & Dybvig's algorithm requires heap allocation.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/97533474/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/97533641",
    "html_url": "https://github.com/rust-lang/rust/issues/24556#issuecomment-97533641",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24556",
    "id": 97533641,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk3NTMzNjQx",
    "user": {
      "login": "lilyball",
      "id": 714,
      "node_id": "MDQ6VXNlcjcxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/714?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lilyball",
      "html_url": "https://github.com/lilyball",
      "followers_url": "https://api.github.com/users/lilyball/followers",
      "following_url": "https://api.github.com/users/lilyball/following{/other_user}",
      "gists_url": "https://api.github.com/users/lilyball/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lilyball/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lilyball/subscriptions",
      "organizations_url": "https://api.github.com/users/lilyball/orgs",
      "repos_url": "https://api.github.com/users/lilyball/repos",
      "events_url": "https://api.github.com/users/lilyball/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lilyball/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-29T18:30:49Z",
    "updated_at": "2015-04-29T18:30:49Z",
    "body": "(And of course, how does it compare to Grisu2?)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/97533641/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/97539050",
    "html_url": "https://github.com/rust-lang/rust/issues/24556#issuecomment-97539050",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24556",
    "id": 97539050,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk3NTM5MDUw",
    "user": {
      "login": "hanna-kruppe",
      "id": 2311707,
      "node_id": "MDQ6VXNlcjIzMTE3MDc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2311707?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hanna-kruppe",
      "html_url": "https://github.com/hanna-kruppe",
      "followers_url": "https://api.github.com/users/hanna-kruppe/followers",
      "following_url": "https://api.github.com/users/hanna-kruppe/following{/other_user}",
      "gists_url": "https://api.github.com/users/hanna-kruppe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hanna-kruppe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hanna-kruppe/subscriptions",
      "organizations_url": "https://api.github.com/users/hanna-kruppe/orgs",
      "repos_url": "https://api.github.com/users/hanna-kruppe/repos",
      "events_url": "https://api.github.com/users/hanna-kruppe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hanna-kruppe/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-29T18:53:46Z",
    "updated_at": "2015-04-29T18:56:38Z",
    "body": "Dragon4 **is** the algorithm of Burder and Dybvig. I didn't find the name in the paper but it's stated [elsewhere](http://www.serpentine.com/blog/2011/06/29/here-be-dragons-advances-in-problems-you-didnt-even-know-you-had/) that this is a semi-official name, even attributed to the authors.\n\nAs for comparisons:\nAll Grisu variants are, by the benchmarks in [the paper](http://www.cs.tufts.edu/~nr/cs257/archive/florian-loitsch/printf.pdf), several times faster than Dragon4 and the `sprintf` of glibc (version 2.11): three to six seconds per thousand numbers, versus 22 to 61 seconds per thousand numbers for `sprintf` and Dragon4. While there could be doubts about how applicable and well-done these benchmarks are, some speed-up or at worst competitive performance is to be expected.\nIf the non-optimized algorithm from Gay's paper is similar to Dragon4 in principle (bignum arithmetic and order of magnitude of performance), then I would it to have a similar relationship to Grisu. I have no idea how Gay's optimized C code would fare, but porting that is a pipe dream anyway. Especially since there is already a perfectly good implementation submitted as PR. Even if Gay's C code is faster, and remains faster after being ported to Rust, the gains will probably not be worth the effort and maintenance cost.\n\nGrisu3 is very clever, simple and fast. Read the paper, its notation is a mess but it's enlightening nevertheless.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/97539050/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/97628836",
    "html_url": "https://github.com/rust-lang/rust/issues/24556#issuecomment-97628836",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24556",
    "id": 97628836,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk3NjI4ODM2",
    "user": {
      "login": "lifthrasiir",
      "id": 323836,
      "node_id": "MDQ6VXNlcjMyMzgzNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/323836?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lifthrasiir",
      "html_url": "https://github.com/lifthrasiir",
      "followers_url": "https://api.github.com/users/lifthrasiir/followers",
      "following_url": "https://api.github.com/users/lifthrasiir/following{/other_user}",
      "gists_url": "https://api.github.com/users/lifthrasiir/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lifthrasiir/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lifthrasiir/subscriptions",
      "organizations_url": "https://api.github.com/users/lifthrasiir/orgs",
      "repos_url": "https://api.github.com/users/lifthrasiir/repos",
      "events_url": "https://api.github.com/users/lifthrasiir/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lifthrasiir/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-30T01:29:33Z",
    "updated_at": "2015-04-30T01:38:39Z",
    "body": "I think others already have explained the situation well, but to recap:\n- Dragon4 (aka Burger and Dybvig) is a bignum-based algorithm, is slow but always produces the shortest and accurate result. It is particularly slow when the absolute magnitude of the number printed is very large or very small.\n- David Gay's `dtoa.c` is a hybrid algorithm using bignum and various optimizations, and is known to produce the shortest and accurate result (I'm not sure this has been proved). To my knowledge, `dtoa` is faster than Dragon4 for typical workloads but ultimately has a similar worst-case behavior. It is also considerably complex, so porting it is infeasible.\n- Grisu2 is an approximate algorithm using an 1K-sized lookup table [1] and constant space. It produces the shortest and accurate result for more than 99% of input. It is very fast.\n- Grisu3 is an approximate algorithm using the same table and constant space. It is similar to Grisu2 but _can_ fall back to the other accurate algorithm if needed. Therefore Grisu3 is best paired with Dragon4, and remains very fast for most inputs.\n\n[1] A variant of this table is briefly mentioned in the Grisu paper: \"We will base future evolutions of Grisu on `digit-get-mix` with \u03b1,\u03b3 = \u221259,\u221232.\" After careful consideration V8 and Go stdlib (and also my PR) uses \u03b1 = \u221260 instead, but this doesn't change the table size much.\n\nPerformance-wise, Grisu2 is the best, with Grisu3 + Dragon4 closely following. Dragon4 is much slower but has a simpler and more verifiable implementation (both glibc and msvcrt uses it). The merit of `dtoa.c` has been decreased over time, and the [recent benchmark](https://github.com/miloyip/dtoa-benchmark) confirms this. (For your information, in this benchmark `doubleconv` is V8's Grisu3 + Dragon4, and `milo` is a hand-tuned Grisu2.)\n\nSpace-wise, all algorithm can be implemented without dynamic memory allocation. The bignum is limited in size so a fixed-size array is enough (and this is how I've implemented Dragon4). The lookup table size of 1K in Grisus might seem a lot, but this is easily overshadowed by binary size (in my PR, about 30K).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/97628836/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/100585668",
    "html_url": "https://github.com/rust-lang/rust/issues/24556#issuecomment-100585668",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24556",
    "id": 100585668,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwMDU4NTY2OA==",
    "user": {
      "login": "lifthrasiir",
      "id": 323836,
      "node_id": "MDQ6VXNlcjMyMzgzNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/323836?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lifthrasiir",
      "html_url": "https://github.com/lifthrasiir",
      "followers_url": "https://api.github.com/users/lifthrasiir/followers",
      "following_url": "https://api.github.com/users/lifthrasiir/following{/other_user}",
      "gists_url": "https://api.github.com/users/lifthrasiir/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lifthrasiir/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lifthrasiir/subscriptions",
      "organizations_url": "https://api.github.com/users/lifthrasiir/orgs",
      "repos_url": "https://api.github.com/users/lifthrasiir/repos",
      "events_url": "https://api.github.com/users/lifthrasiir/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lifthrasiir/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-10T05:13:32Z",
    "updated_at": "2015-05-10T05:13:32Z",
    "body": "Now fixed by #24612.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/100585668/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/100585773",
    "html_url": "https://github.com/rust-lang/rust/issues/24556#issuecomment-100585773",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/24556",
    "id": 100585773,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwMDU4NTc3Mw==",
    "user": {
      "login": "bstrie",
      "id": 865233,
      "node_id": "MDQ6VXNlcjg2NTIzMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/865233?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bstrie",
      "html_url": "https://github.com/bstrie",
      "followers_url": "https://api.github.com/users/bstrie/followers",
      "following_url": "https://api.github.com/users/bstrie/following{/other_user}",
      "gists_url": "https://api.github.com/users/bstrie/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bstrie/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bstrie/subscriptions",
      "organizations_url": "https://api.github.com/users/bstrie/orgs",
      "repos_url": "https://api.github.com/users/bstrie/repos",
      "events_url": "https://api.github.com/users/bstrie/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bstrie/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-10T05:18:25Z",
    "updated_at": "2015-05-10T05:18:25Z",
    "body": "Closed by #24612.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/100585773/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
