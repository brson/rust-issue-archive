[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/72777045",
    "html_url": "https://github.com/rust-lang/rust/issues/21921#issuecomment-72777045",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21921",
    "id": 72777045,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyNzc3MDQ1",
    "user": {
      "login": "shadowmint",
      "id": 355760,
      "node_id": "MDQ6VXNlcjM1NTc2MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/355760?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shadowmint",
      "html_url": "https://github.com/shadowmint",
      "followers_url": "https://api.github.com/users/shadowmint/followers",
      "following_url": "https://api.github.com/users/shadowmint/following{/other_user}",
      "gists_url": "https://api.github.com/users/shadowmint/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shadowmint/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shadowmint/subscriptions",
      "organizations_url": "https://api.github.com/users/shadowmint/orgs",
      "repos_url": "https://api.github.com/users/shadowmint/repos",
      "events_url": "https://api.github.com/users/shadowmint/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shadowmint/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-02-04T02:05:50Z",
    "updated_at": "2015-02-04T02:05:50Z",
    "body": "NB. You might say this is an odd use case that wouldn't really happen, but you'll find this sort of code in benchmarks quite often, for example, I just hit it in:\n\n```\n  [#bench]\n  fn bench_dft_32_fft_65536(b: &mut Bencher) {\n    let mut input:[Complex<f32>; 65536] = [Complex { re: 0f32, im: 0f32 }; 65536];\n    for i in range(0, 65536) {\n        input[i].re = ((i as f32) / 65536f32 * PI).sin();\n    }\n    let mut output:[Complex<f32>; 65536] = [Complex { re: 0f32, im: 0f32 }; 65536];\n    b.iter(|| {\n      unsafe {\n        let mut operator = fft_f32(65536).ok().unwrap();\n        operator.fft(&input[0] as *const Complex<f32>, &mut output[0] as *mut Complex<f32>, 1);\n      }\n    });\n  }\n```\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/72777045/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/72785100",
    "html_url": "https://github.com/rust-lang/rust/issues/21921#issuecomment-72785100",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21921",
    "id": 72785100,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyNzg1MTAw",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-02-04T03:38:17Z",
    "updated_at": "2015-02-04T03:39:50Z",
    "body": "> This sort of 'only fails if you run certain functions' thing shouldn't exist in rust (I have python for that thanks).\n\nI'm not sure this makes sense as a goal, e.g. a program with `fn foo() { panic!() }` only fails if you run `foo`. While a bit facetious, Rust can't (at least, doesn't aim to) capture every single possible failure mode at compile time, that likely requires dependent typing and even guarantees of totality, which are complicated and restrictive, respectively. Even then, real-world concerns like the amount of memory on the system (to avoid OOM at runtime) and the size of the stack allocated (to avoid stack overflow at runtime, like this case) make this harder/impossible to handle entirely.\n\nOn the last point: the size of the stack depends on the operating system, some give large stacks by default, others give smaller ones. Also, the amount of stack available for any given function call is dynamic, if the call stack happens to be very deep, even spilling a single byte on the stack can cause a stack overflow.\n\nThat said, a lint for very large values placed on the stack may be helpful for providing guidance about the most glaring cases. (I say lint, not hard error, because someone may wish to explicit allocate a huge stack for a spawned thread and place large values on that.)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/72785100/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/72785521",
    "html_url": "https://github.com/rust-lang/rust/issues/21921#issuecomment-72785521",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21921",
    "id": 72785521,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyNzg1NTIx",
    "user": {
      "login": "shadowmint",
      "id": 355760,
      "node_id": "MDQ6VXNlcjM1NTc2MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/355760?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shadowmint",
      "html_url": "https://github.com/shadowmint",
      "followers_url": "https://api.github.com/users/shadowmint/followers",
      "following_url": "https://api.github.com/users/shadowmint/following{/other_user}",
      "gists_url": "https://api.github.com/users/shadowmint/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shadowmint/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shadowmint/subscriptions",
      "organizations_url": "https://api.github.com/users/shadowmint/orgs",
      "repos_url": "https://api.github.com/users/shadowmint/repos",
      "events_url": "https://api.github.com/users/shadowmint/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shadowmint/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-02-04T03:43:48Z",
    "updated_at": "2015-02-04T03:45:04Z",
    "body": "Idly, it would be useful also if it was possible to somehow inline:\n\n```\nBox::new(MassiveValueHere{}) \n```\n\nDirectly to the heap without allocating it to the stack first, because its obvious the intention, but the above also causes a stack overflow.\n\nThe only work around for this currently is to use the alloc crate. \n\n(This would be a lot more useful than linting: 'Warning: large inline data blocks may cause stack overflow. Try Box::new(...)' instead of 'You cant do that in rust, sorry')\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/72785521/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/72788546",
    "html_url": "https://github.com/rust-lang/rust/issues/21921#issuecomment-72788546",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21921",
    "id": 72788546,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyNzg4NTQ2",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-02-04T04:23:43Z",
    "updated_at": "2015-02-04T04:23:43Z",
    "body": "> The only work around for this currently is to use the alloc crate. \n\nThe `box` syntax actually does this, it acts like \"placement new\" in C++. It is currently feature gated because we're not sure precisely how we want to generalise from only working with `Box` to working with arbitrary pointers/pointer-like constructs (e.g. `Rc`, `Arc`).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/72788546/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/179996756",
    "html_url": "https://github.com/rust-lang/rust/issues/21921#issuecomment-179996756",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21921",
    "id": 179996756,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3OTk5Njc1Ng==",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-02-04T18:48:13Z",
    "updated_at": "2016-02-04T18:48:13Z",
    "body": "Triage: this is still a fairly common thing that new people come across, and leads to a lot of questions. I'm generally against adding more lints, but this one might make sense, maybe.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/179996756/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/183045094",
    "html_url": "https://github.com/rust-lang/rust/issues/21921#issuecomment-183045094",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/21921",
    "id": 183045094,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4MzA0NTA5NA==",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-02-11T20:12:37Z",
    "updated_at": "2016-02-11T20:12:37Z",
    "body": "Since new lints have a big impact on users of rustc, the policy is that they should go through the RFC process like other user-facing changes. As such, I'm going to give this one a close, but if anyone comes across this ticket and wants this lint, consider adding it to clippy and/or writing up an RFC. Thanks!\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/183045094/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
