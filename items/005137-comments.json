[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/14158134",
    "html_url": "https://github.com/rust-lang/rust/pull/5137#issuecomment-14158134",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5137",
    "id": 14158134,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0MTU4MTM0",
    "user": {
      "login": "yjh0502",
      "id": 554344,
      "node_id": "MDQ6VXNlcjU1NDM0NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/554344?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yjh0502",
      "html_url": "https://github.com/yjh0502",
      "followers_url": "https://api.github.com/users/yjh0502/followers",
      "following_url": "https://api.github.com/users/yjh0502/following{/other_user}",
      "gists_url": "https://api.github.com/users/yjh0502/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yjh0502/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yjh0502/subscriptions",
      "organizations_url": "https://api.github.com/users/yjh0502/orgs",
      "repos_url": "https://api.github.com/users/yjh0502/repos",
      "events_url": "https://api.github.com/users/yjh0502/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yjh0502/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-02-27T05:41:54Z",
    "updated_at": "2013-02-27T05:41:54Z",
    "body": "Additional related issues:\n\n#3192, #3089 (structural records is not compiled already), #4665 (also about structural records)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/14158134/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/14180708",
    "html_url": "https://github.com/rust-lang/rust/pull/5137#issuecomment-14180708",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5137",
    "id": 14180708,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0MTgwNzA4",
    "user": {
      "login": "yjh0502",
      "id": 554344,
      "node_id": "MDQ6VXNlcjU1NDM0NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/554344?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yjh0502",
      "html_url": "https://github.com/yjh0502",
      "followers_url": "https://api.github.com/users/yjh0502/followers",
      "following_url": "https://api.github.com/users/yjh0502/following{/other_user}",
      "gists_url": "https://api.github.com/users/yjh0502/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yjh0502/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yjh0502/subscriptions",
      "organizations_url": "https://api.github.com/users/yjh0502/orgs",
      "repos_url": "https://api.github.com/users/yjh0502/repos",
      "events_url": "https://api.github.com/users/yjh0502/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yjh0502/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-02-27T15:47:06Z",
    "updated_at": "2013-02-27T15:47:06Z",
    "body": "Thanks for your review. I think this is a kind of a quick solution which could solve the problem by only changing a parser.\nI think empty struct with destructor could be useful. Here's a code snippet that uses empty struct, which cannot be compiled without this patch and triggers me to submit the patch.\n\n``` rust\nstruct Defer {}\nimpl Drop for Defer {\n    fn finalize(&self) { io::println(\"destroyed\"); }\n}\nfn main() {\n    let d = Defer{};\n}\n```\n\nI also think that decision should be made by core team, whether just make empty struct impossible, add parentheses to use empty struct in match, or whatever. Could you let me know when a decision is made?\n\nBy the way, I just add another patch, which reverts merge failure. That's my mistake. If there is any other procedure to fix the merge failure problem (maybe submit a new pull request?), please let me know.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/14180708/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/14229127",
    "html_url": "https://github.com/rust-lang/rust/pull/5137#issuecomment-14229127",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5137",
    "id": 14229127,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0MjI5MTI3",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-02-28T11:33:30Z",
    "updated_at": "2013-02-28T11:33:30Z",
    "body": "Per [this thread on the mailing list](https://mail.mozilla.org/pipermail/rust-dev/2013-February/003282.html), I think the conclusion is that we will simply not parse empty structs like `struct Foo {}` at all.  Instead, you should use the (existing and functional) syntax `struct Foo;`.  You can then refer to an instance of this struct as `Foo` (note that since it has no fields, it is effectively a constant).  This addresses the use case you mentioned and avoids the ambiguity, since `Foo {}` is not a valid struct literal.\n\nThat said, I am inclined to take this patch and address the matter of empty struct literals separately.  I don't think there were invasive changes to the parser to handle the ambiguity as you did.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/14229127/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/14229227",
    "html_url": "https://github.com/rust-lang/rust/pull/5137#issuecomment-14229227",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5137",
    "id": 14229227,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0MjI5MjI3",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-02-28T11:36:07Z",
    "updated_at": "2013-02-28T11:36:07Z",
    "body": "I just opened issue #5167, which covers structs with no fields\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/14229227/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/14268234",
    "html_url": "https://github.com/rust-lang/rust/pull/5137#issuecomment-14268234",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5137",
    "id": 14268234,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0MjY4MjM0",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-03-01T01:16:45Z",
    "updated_at": "2013-03-01T01:16:45Z",
    "body": "@yjh0502 I see that this pull request can no longer be automatically merged.  Can you rebase it (and perhaps squash together the commit that undoes the broken merge with the other commits)?  Otherwise bors won't be able to land it, even if we mark it r+.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/14268234/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/14270780",
    "html_url": "https://github.com/rust-lang/rust/pull/5137#issuecomment-14270780",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5137",
    "id": 14270780,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0MjcwNzgw",
    "user": {
      "login": "yjh0502",
      "id": 554344,
      "node_id": "MDQ6VXNlcjU1NDM0NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/554344?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yjh0502",
      "html_url": "https://github.com/yjh0502",
      "followers_url": "https://api.github.com/users/yjh0502/followers",
      "following_url": "https://api.github.com/users/yjh0502/following{/other_user}",
      "gists_url": "https://api.github.com/users/yjh0502/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yjh0502/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yjh0502/subscriptions",
      "organizations_url": "https://api.github.com/users/yjh0502/orgs",
      "repos_url": "https://api.github.com/users/yjh0502/repos",
      "events_url": "https://api.github.com/users/yjh0502/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yjh0502/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-03-01T02:51:01Z",
    "updated_at": "2013-03-01T02:51:01Z",
    "body": "I aggregate & clean up all commit, and make it to single commit. Sorry for late replay, I'm not yet familier with git & github, so it takes time.\nI split the patch into two, one is clean-up of original patch, and the other is a roll-back for empty struct literals. As discussed in the mailing list, I revert changes on a parser: now parser itself works as before for struct literals.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/14270780/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/14321938",
    "html_url": "https://github.com/rust-lang/rust/pull/5137#issuecomment-14321938",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5137",
    "id": 14321938,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0MzIxOTM4",
    "user": {
      "login": "nikomatsakis",
      "id": 155238,
      "node_id": "MDQ6VXNlcjE1NTIzOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikomatsakis",
      "html_url": "https://github.com/nikomatsakis",
      "followers_url": "https://api.github.com/users/nikomatsakis/followers",
      "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions",
      "organizations_url": "https://api.github.com/users/nikomatsakis/orgs",
      "repos_url": "https://api.github.com/users/nikomatsakis/repos",
      "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikomatsakis/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-03-02T03:11:56Z",
    "updated_at": "2013-03-02T03:11:56Z",
    "body": "OK.  One last thing: can you squash those two commits together (since one just undoes part of the other) and also revert back the tests which were changed:\n- src/test/run-pass/issue-3037.rs\n- src/test/run-pass/issue-1460.rs\n- src/test/compile-fail/while-type-error.rs\n- src/test/compile-fail/liveness-while-cond.rs\n- src/test/compile-fail/issue-3096-2.rs\n- src/test/compile-fail/if-typeck.rs \n\nThanks.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/14321938/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/14322406",
    "html_url": "https://github.com/rust-lang/rust/pull/5137#issuecomment-14322406",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/5137",
    "id": 14322406,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0MzIyNDA2",
    "user": {
      "login": "yjh0502",
      "id": 554344,
      "node_id": "MDQ6VXNlcjU1NDM0NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/554344?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yjh0502",
      "html_url": "https://github.com/yjh0502",
      "followers_url": "https://api.github.com/users/yjh0502/followers",
      "following_url": "https://api.github.com/users/yjh0502/following{/other_user}",
      "gists_url": "https://api.github.com/users/yjh0502/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yjh0502/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yjh0502/subscriptions",
      "organizations_url": "https://api.github.com/users/yjh0502/orgs",
      "repos_url": "https://api.github.com/users/yjh0502/repos",
      "events_url": "https://api.github.com/users/yjh0502/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yjh0502/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2013-03-02T03:59:46Z",
    "updated_at": "2013-03-02T03:59:46Z",
    "body": "Done.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/14322406/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
