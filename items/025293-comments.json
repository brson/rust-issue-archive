[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/100725292",
    "html_url": "https://github.com/rust-lang/rust/issues/25293#issuecomment-100725292",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25293",
    "id": 100725292,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwMDcyNTI5Mg==",
    "user": {
      "login": "shepmaster",
      "id": 174509,
      "node_id": "MDQ6VXNlcjE3NDUwOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/174509?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shepmaster",
      "html_url": "https://github.com/shepmaster",
      "followers_url": "https://api.github.com/users/shepmaster/followers",
      "following_url": "https://api.github.com/users/shepmaster/following{/other_user}",
      "gists_url": "https://api.github.com/users/shepmaster/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shepmaster/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shepmaster/subscriptions",
      "organizations_url": "https://api.github.com/users/shepmaster/orgs",
      "repos_url": "https://api.github.com/users/shepmaster/repos",
      "events_url": "https://api.github.com/users/shepmaster/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shepmaster/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-11T00:49:02Z",
    "updated_at": "2015-05-11T00:49:02Z",
    "body": "ping @huonw, as we talked a bit about this on IRC.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/100725292/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/100745376",
    "html_url": "https://github.com/rust-lang/rust/issues/25293#issuecomment-100745376",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25293",
    "id": 100745376,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwMDc0NTM3Ng==",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-11T02:48:17Z",
    "updated_at": "2015-05-11T02:48:32Z",
    "body": "The benchmark should only be actually run once, not multiple times as `--bench` does. I made the change under the assumption that `--bench` functions will be relatively quick to run, since they are executed many times. Admittedly, I hadn't considered that tests are run without optimisations by default (and no-opt being very slow seems to be the fundamental issue here).\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/100745376/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/100754502",
    "html_url": "https://github.com/rust-lang/rust/issues/25293#issuecomment-100754502",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25293",
    "id": 100754502,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwMDc1NDUwMg==",
    "user": {
      "login": "shepmaster",
      "id": 174509,
      "node_id": "MDQ6VXNlcjE3NDUwOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/174509?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shepmaster",
      "html_url": "https://github.com/shepmaster",
      "followers_url": "https://api.github.com/users/shepmaster/followers",
      "following_url": "https://api.github.com/users/shepmaster/following{/other_user}",
      "gists_url": "https://api.github.com/users/shepmaster/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shepmaster/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shepmaster/subscriptions",
      "organizations_url": "https://api.github.com/users/shepmaster/orgs",
      "repos_url": "https://api.github.com/users/shepmaster/repos",
      "events_url": "https://api.github.com/users/shepmaster/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shepmaster/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-11T03:40:48Z",
    "updated_at": "2015-05-11T03:40:56Z",
    "body": "> bench functions will be relatively quick to run, since they are executed many times\n\nAnd in my case, I do some potentially expensive setup in each benchmark. I'm careful to do that outside the `iter` call so it doesn't affect my benched time, but I don't really want to pay that for nothing.\n\nI don't understand the original decision behind the change - none of my benchmarks have any assertions, so running them with the tests seems not useful. What am I missing?\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/100754502/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/100756197",
    "html_url": "https://github.com/rust-lang/rust/issues/25293#issuecomment-100756197",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25293",
    "id": 100756197,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwMDc1NjE5Nw==",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-11T03:53:05Z",
    "updated_at": "2015-05-11T03:53:34Z",
    "body": "NB. even the function marked `#[bench]` (i.e. not just `iter`'s closure) will be executed several times when running as a benchmark.\n\n> I don't understand the original decision behind the change - none of my benchmarks have any assertions, so running them with the tests seems not useful. What am I missing?\n\nThey can still trigger assertions if they're incorrect, e.g. indexing out of bounds. The motivation was https://github.com/rust-lang/rust/issues/15842.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/100756197/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/100863556",
    "html_url": "https://github.com/rust-lang/rust/issues/25293#issuecomment-100863556",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25293",
    "id": 100863556,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwMDg2MzU1Ng==",
    "user": {
      "login": "bluss",
      "id": 3209739,
      "node_id": "MDQ6VXNlcjMyMDk3Mzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3209739?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bluss",
      "html_url": "https://github.com/bluss",
      "followers_url": "https://api.github.com/users/bluss/followers",
      "following_url": "https://api.github.com/users/bluss/following{/other_user}",
      "gists_url": "https://api.github.com/users/bluss/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bluss/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bluss/subscriptions",
      "organizations_url": "https://api.github.com/users/bluss/orgs",
      "repos_url": "https://api.github.com/users/bluss/repos",
      "events_url": "https://api.github.com/users/bluss/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bluss/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-11T10:41:12Z",
    "updated_at": "2015-05-11T10:41:12Z",
    "body": "Maybe move benchmarks into cargo's benches directory? I assume those won't run during cargo test.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/100863556/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/100907794",
    "html_url": "https://github.com/rust-lang/rust/issues/25293#issuecomment-100907794",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25293",
    "id": 100907794,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwMDkwNzc5NA==",
    "user": {
      "login": "shepmaster",
      "id": 174509,
      "node_id": "MDQ6VXNlcjE3NDUwOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/174509?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shepmaster",
      "html_url": "https://github.com/shepmaster",
      "followers_url": "https://api.github.com/users/shepmaster/followers",
      "following_url": "https://api.github.com/users/shepmaster/following{/other_user}",
      "gists_url": "https://api.github.com/users/shepmaster/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shepmaster/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shepmaster/subscriptions",
      "organizations_url": "https://api.github.com/users/shepmaster/orgs",
      "repos_url": "https://api.github.com/users/shepmaster/repos",
      "events_url": "https://api.github.com/users/shepmaster/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shepmaster/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-11T13:30:16Z",
    "updated_at": "2015-05-11T13:30:16Z",
    "body": "> move benchmarks into cargo's benches directory\n\nWouldn't that impose the public / private visibility rules? I'd be sad If I couldn't get fine-grained benchmarks...\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/100907794/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/100910089",
    "html_url": "https://github.com/rust-lang/rust/issues/25293#issuecomment-100910089",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25293",
    "id": 100910089,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwMDkxMDA4OQ==",
    "user": {
      "login": "shepmaster",
      "id": 174509,
      "node_id": "MDQ6VXNlcjE3NDUwOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/174509?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shepmaster",
      "html_url": "https://github.com/shepmaster",
      "followers_url": "https://api.github.com/users/shepmaster/followers",
      "following_url": "https://api.github.com/users/shepmaster/following{/other_user}",
      "gists_url": "https://api.github.com/users/shepmaster/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shepmaster/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shepmaster/subscriptions",
      "organizations_url": "https://api.github.com/users/shepmaster/orgs",
      "repos_url": "https://api.github.com/users/shepmaster/repos",
      "events_url": "https://api.github.com/users/shepmaster/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shepmaster/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-11T13:37:57Z",
    "updated_at": "2015-05-11T13:38:16Z",
    "body": "For what it's worth, I have a workaround as I group all my benchmarks into a `bench` module, separate from my `test` module. I can run `cargo test 'test::'`, which is inelegant but gets the job done for now.\n\nI also don't know that this is a high-priority issue since benchmarking isn't a stable feature. However, I have personal interest in helping fix it. :-)\n\nOne idea I have would be to redirect the concept of `bytes`. Maybe `Bencher` could have a \"suggested\" byte size:\n\n``` rust\n#[bench]\nfn slow(b: &mut test::Bencher) {\n    let s: String = iter::repeat(\"a\").take(b.suggested_len).collect();\n    b.iter(|| 1 + 1);\n    b.bytes = s.len() as u64;\n}\n```\n\nThis could be set to a small value in test runs, and provide the side feature of allowing the benchmarking to automatically scale out different test sizes (1, 10, 100, 1000, etc).\n\nAnother would be to have a flag denoting if benching is actually happening:\n\n``` rust\n#[bench]\nfn slow(b: &mut test::Bencher) {\n    let size = if b.is_benching { 5 * 1024 * 1024 } else { 1 };\n    let s: String = iter::repeat(\"a\").take(size).collect();\n    b.iter(|| 1 + 1);\n    b.bytes = s.len() as u64;\n}\n```\n\nBoth of these feel hacky though...\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/100910089/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/102613143",
    "html_url": "https://github.com/rust-lang/rust/issues/25293#issuecomment-102613143",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25293",
    "id": 102613143,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwMjYxMzE0Mw==",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-16T11:28:36Z",
    "updated_at": "2015-05-16T11:28:36Z",
    "body": "FWIW, I just encountered an instance where a benchmark was triggering integer overflow in my library that was only picked up by `cargo test`, since `cargo bench` disables debug-assertions by default. Maybe this indicates my tests aren't good enough, but still, it seems valuable to attack correctness from as many sides as are available.\n\nThat said, I think I'd be happy to switch this to opt-in (although I would be opting-in essentially always). Alternatively, we could provide an opt-out flag.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/102613143/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/102814717",
    "html_url": "https://github.com/rust-lang/rust/issues/25293#issuecomment-102814717",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25293",
    "id": 102814717,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwMjgxNDcxNw==",
    "user": {
      "login": "shepmaster",
      "id": 174509,
      "node_id": "MDQ6VXNlcjE3NDUwOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/174509?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shepmaster",
      "html_url": "https://github.com/shepmaster",
      "followers_url": "https://api.github.com/users/shepmaster/followers",
      "following_url": "https://api.github.com/users/shepmaster/following{/other_user}",
      "gists_url": "https://api.github.com/users/shepmaster/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shepmaster/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shepmaster/subscriptions",
      "organizations_url": "https://api.github.com/users/shepmaster/orgs",
      "repos_url": "https://api.github.com/users/shepmaster/repos",
      "events_url": "https://api.github.com/users/shepmaster/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shepmaster/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-05-17T15:22:36Z",
    "updated_at": "2015-05-17T15:22:36Z",
    "body": "> even the function marked #[bench](i.e. not just iter's closure) will be executed several times when running as a benchmark.\n\nThis was not something that I was consciously aware of, although it makes sense with what I have read about how the benchmarking tool works. I guess it's a good thing that the benching functionality is unstable, as there does seem to be some awkward corner cases :smile_cat: \n\n> a benchmark was triggering integer overflow in my library\n\nIt's hard to argue with results, I suppose\n\n> it seems valuable to attack correctness from as many sides as are available\n\nI know you don't mean it this way, but there's a potential slippery slope here. I like using focused tools for specific jobs. There are tools like [quickcheck](https://github.com/BurntSushi/quickcheck) or [afl.rs](https://github.com/kmcallister/afl.rs) that help stretch the input space of our code to find issues we didn't think about unit testing specifically. If it makes sense to use benchmarking tools for testing, does it also make sense to use testing tools for benchmarking?\n\n> I'd be happy to switch this to opt-in\n\nI don't know if it's worth changing anything yet, especially based on a single person complaining. I probably wouldn't even be talking about this if I could generate a 5{KB,MB,GB} in a \"quick\" time.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/102814717/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/250712778",
    "html_url": "https://github.com/rust-lang/rust/issues/25293#issuecomment-250712778",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25293",
    "id": 250712778,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1MDcxMjc3OA==",
    "user": {
      "login": "chuck-park",
      "id": 15935262,
      "node_id": "MDQ6VXNlcjE1OTM1MjYy",
      "avatar_url": "https://avatars.githubusercontent.com/u/15935262?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chuck-park",
      "html_url": "https://github.com/chuck-park",
      "followers_url": "https://api.github.com/users/chuck-park/followers",
      "following_url": "https://api.github.com/users/chuck-park/following{/other_user}",
      "gists_url": "https://api.github.com/users/chuck-park/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chuck-park/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chuck-park/subscriptions",
      "organizations_url": "https://api.github.com/users/chuck-park/orgs",
      "repos_url": "https://api.github.com/users/chuck-park/repos",
      "events_url": "https://api.github.com/users/chuck-park/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chuck-park/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-09-30T10:31:26Z",
    "updated_at": "2016-09-30T10:31:26Z",
    "body": "Benchmarks still run even when run with `--test`.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/250712778/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/301318519",
    "html_url": "https://github.com/rust-lang/rust/issues/25293#issuecomment-301318519",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25293",
    "id": 301318519,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMTMxODUxOQ==",
    "user": {
      "login": "Mark-Simulacrum",
      "id": 5047365,
      "node_id": "MDQ6VXNlcjUwNDczNjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5047365?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Mark-Simulacrum",
      "html_url": "https://github.com/Mark-Simulacrum",
      "followers_url": "https://api.github.com/users/Mark-Simulacrum/followers",
      "following_url": "https://api.github.com/users/Mark-Simulacrum/following{/other_user}",
      "gists_url": "https://api.github.com/users/Mark-Simulacrum/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Mark-Simulacrum/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Mark-Simulacrum/subscriptions",
      "organizations_url": "https://api.github.com/users/Mark-Simulacrum/orgs",
      "repos_url": "https://api.github.com/users/Mark-Simulacrum/repos",
      "events_url": "https://api.github.com/users/Mark-Simulacrum/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Mark-Simulacrum/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-05-14T14:58:21Z",
    "updated_at": "2017-05-14T14:58:21Z",
    "body": "@shepmaster Do you think it'd be worth adding a `--no-bench` flag? That would effectively allow disable benchmarks when you want to.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/301318519/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/301361526",
    "html_url": "https://github.com/rust-lang/rust/issues/25293#issuecomment-301361526",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25293",
    "id": 301361526,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMTM2MTUyNg==",
    "user": {
      "login": "shepmaster",
      "id": 174509,
      "node_id": "MDQ6VXNlcjE3NDUwOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/174509?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shepmaster",
      "html_url": "https://github.com/shepmaster",
      "followers_url": "https://api.github.com/users/shepmaster/followers",
      "following_url": "https://api.github.com/users/shepmaster/following{/other_user}",
      "gists_url": "https://api.github.com/users/shepmaster/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shepmaster/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shepmaster/subscriptions",
      "organizations_url": "https://api.github.com/users/shepmaster/orgs",
      "repos_url": "https://api.github.com/users/shepmaster/repos",
      "events_url": "https://api.github.com/users/shepmaster/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shepmaster/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-05-15T02:27:48Z",
    "updated_at": "2017-05-15T02:27:48Z",
    "body": "> adding a `--no-bench` flag?\r\n\r\nIt would certainly provide a more reusable knob to turn than my current \"nest all benches in a module\" approach, but I'd worry that there's still the surprise inherent with \"Oh, `#[bench]` *also* means `#[test]`, just it doesn't iterate a bunch\". \r\n\r\nIf the attribute were something like `#[test(bench)]`, that might make it more obvious, helping show the need for such a flag.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/301361526/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/301369645",
    "html_url": "https://github.com/rust-lang/rust/issues/25293#issuecomment-301369645",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25293",
    "id": 301369645,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMTM2OTY0NQ==",
    "user": {
      "login": "Mark-Simulacrum",
      "id": 5047365,
      "node_id": "MDQ6VXNlcjUwNDczNjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5047365?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Mark-Simulacrum",
      "html_url": "https://github.com/Mark-Simulacrum",
      "followers_url": "https://api.github.com/users/Mark-Simulacrum/followers",
      "following_url": "https://api.github.com/users/Mark-Simulacrum/following{/other_user}",
      "gists_url": "https://api.github.com/users/Mark-Simulacrum/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Mark-Simulacrum/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Mark-Simulacrum/subscriptions",
      "organizations_url": "https://api.github.com/users/Mark-Simulacrum/orgs",
      "repos_url": "https://api.github.com/users/Mark-Simulacrum/repos",
      "events_url": "https://api.github.com/users/Mark-Simulacrum/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Mark-Simulacrum/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-05-15T03:44:08Z",
    "updated_at": "2017-05-15T03:44:08Z",
    "body": "We could certainly deprecate `#[bench]` and change it to `#[test(bench)]` though I worry that the latter still isn't quite clear enough... it would improve the situation. However, I'm also somewhat concerned about just how much annoyance deprecating `#[bench]` would cause, since I'd guess a large portion of the community uses it.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/301369645/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/305935083",
    "html_url": "https://github.com/rust-lang/rust/issues/25293#issuecomment-305935083",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25293",
    "id": 305935083,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwNTkzNTA4Mw==",
    "user": {
      "login": "akshaynanavati",
      "id": 3410061,
      "node_id": "MDQ6VXNlcjM0MTAwNjE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3410061?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/akshaynanavati",
      "html_url": "https://github.com/akshaynanavati",
      "followers_url": "https://api.github.com/users/akshaynanavati/followers",
      "following_url": "https://api.github.com/users/akshaynanavati/following{/other_user}",
      "gists_url": "https://api.github.com/users/akshaynanavati/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/akshaynanavati/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/akshaynanavati/subscriptions",
      "organizations_url": "https://api.github.com/users/akshaynanavati/orgs",
      "repos_url": "https://api.github.com/users/akshaynanavati/repos",
      "events_url": "https://api.github.com/users/akshaynanavati/events{/privacy}",
      "received_events_url": "https://api.github.com/users/akshaynanavati/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-06-03T00:06:05Z",
    "updated_at": "2017-06-03T00:06:05Z",
    "body": "To temporarily resolve this issue, I have done the following:\r\n\r\nIn my `cargo.toml` added a benchmarks feature:\r\n\r\n```\r\n...\r\n[features]\r\nbenchmarks = []\r\n...\r\n```\r\n\r\nThen, I add the following to my benchmarks module:\r\n\r\n```\r\n#[cfg(all(feature = \"benchmarks\", test))]\r\nmod benchmarks {\r\n    ...\r\n}\r\n```\r\n\r\nWhen I just run `cargo tests`, the benchmarks aren't even compiled since the feature is not set. I can run `cargo tests --features benchmarks` or `cargo bench --features benchmarks` if I want the benchmarks compiled/run.",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/305935083/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/388323704",
    "html_url": "https://github.com/rust-lang/rust/issues/25293#issuecomment-388323704",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/25293",
    "id": 388323704,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4ODMyMzcwNA==",
    "user": {
      "login": "buckle2000",
      "id": 10850402,
      "node_id": "MDQ6VXNlcjEwODUwNDAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/10850402?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/buckle2000",
      "html_url": "https://github.com/buckle2000",
      "followers_url": "https://api.github.com/users/buckle2000/followers",
      "following_url": "https://api.github.com/users/buckle2000/following{/other_user}",
      "gists_url": "https://api.github.com/users/buckle2000/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/buckle2000/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/buckle2000/subscriptions",
      "organizations_url": "https://api.github.com/users/buckle2000/orgs",
      "repos_url": "https://api.github.com/users/buckle2000/repos",
      "events_url": "https://api.github.com/users/buckle2000/events{/privacy}",
      "received_events_url": "https://api.github.com/users/buckle2000/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2018-05-11T10:18:29Z",
    "updated_at": "2018-05-11T10:18:29Z",
    "body": "is there something like `#[bench(no-test)]` ?",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/388323704/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
