[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/158433574",
    "html_url": "https://github.com/rust-lang/rust/issues/29957#issuecomment-158433574",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29957",
    "id": 158433574,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1ODQzMzU3NA==",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-11-20T15:32:12Z",
    "updated_at": "2015-11-20T15:32:12Z",
    "body": "A few things:\n1. I _think_ this error message happens because you don't have a `main()` function.\n2. If you did wrap it in main, you'd still get an error, due to the `try!`, as `main()` doesn't return a `Result`.\n\nThe example does work, so I'm going to give the issue a close, but we can keep talking about it until you get it to work!\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/158433574/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/158434770",
    "html_url": "https://github.com/rust-lang/rust/issues/29957#issuecomment-158434770",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29957",
    "id": 158434770,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1ODQzNDc3MA==",
    "user": {
      "login": "lojic",
      "id": 57366,
      "node_id": "MDQ6VXNlcjU3MzY2",
      "avatar_url": "https://avatars.githubusercontent.com/u/57366?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lojic",
      "html_url": "https://github.com/lojic",
      "followers_url": "https://api.github.com/users/lojic/followers",
      "following_url": "https://api.github.com/users/lojic/following{/other_user}",
      "gists_url": "https://api.github.com/users/lojic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lojic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lojic/subscriptions",
      "organizations_url": "https://api.github.com/users/lojic/orgs",
      "repos_url": "https://api.github.com/users/lojic/repos",
      "events_url": "https://api.github.com/users/lojic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lojic/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-11-20T15:36:59Z",
    "updated_at": "2015-11-20T15:36:59Z",
    "body": "I don't have a main function because the example doesn't have a main function. I expected to be able to copy the example to a file, and compile it.\n\nFor what definition of \"work\" does the example work?\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/158434770/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/158452458",
    "html_url": "https://github.com/rust-lang/rust/issues/29957#issuecomment-158452458",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29957",
    "id": 158452458,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1ODQ1MjQ1OA==",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-11-20T16:33:48Z",
    "updated_at": "2015-11-20T16:33:48Z",
    "body": "Right, so, in API examples, we're often trying to just show how to use that API, not to write a full program. Almost none of the API documentation is just copy/paste-able into a random file, it's meant to be used in the context of other code. Showing `fn main() {` in every single example would waste space.\n\nIf you click the little arrow in the upper right of the examples (it's a larger run button on beta/nightly, hasn't hit stable yet), it will take you to a playpen link that has the full code.\n\nIn the case of this example, we take the code:\n\n```\nuse std::io::prelude::*;\nuse std::io::BufReader;\nuse std::fs::File;\n\nlet mut f = try!(File::open(\"log.txt\"));\nlet mut reader = BufReader::new(f);\n\nlet mut line = String::new();\nlet len = try!(reader.read_line(&mut line));\nprintln!(\"First line is {} bytes long\", len);\n```\n\nAnd put it in `main()`:\n\n```\nfn main() {\n    use std::io::prelude::*;\n    use std::io::BufReader;\n    use std::fs::File;\n\n    let mut f = try!(File::open(\"log.txt\"));\n    let mut reader = BufReader::new(f);\n\n    let mut line = String::new();\n    let len = try!(reader.read_line(&mut line));\n    println!(\"First line is {} bytes long\", len);\n}\n```\n\nBut, because of the `try!`, as I mentioned, this doesn't work. We have two options: remove the `try!` with `unwrap()`:\n\n```\nfn main() {\n    use std::io::prelude::*;\n    use std::io::BufReader;\n    use std::fs::File;\n\n    let mut f = File::open(\"log.txt\").unwrap();\n    let mut reader = BufReader::new(f);\n\n    let mut line = String::new();\n    let len = reader.read_line(&mut line).unwrap();\n    println!(\"First line is {} bytes long\", len);\n}\n```\n\nThis example will work, but will panic if there's an error, which isn't considered best practice. Instead, we can use a function that returns an `io::Result`:\n\n```\nfn main() {\n    let result = try_read();\n\n    if result.is_err() {\n        println!(\"there was an error!\");\n    }\n}\n\nfn try_read() -> std::io::Result<()> {\n    use std::io::prelude::*;\n    use std::io::BufReader;\n    use std::fs::File;\n\n    let mut f = try!(File::open(\"log.txt\"));\n    let mut reader = BufReader::new(f);\n\n    let mut line = String::new();\n    let len = try!(reader.read_line(&mut line));\n    println!(\"First line is {} bytes long\", len);\n\n    Ok(())\n}\n```\n\nOf course, you may want to handle the error in `main()` differently, or only move some of this stuff into a function, or anything else. But that's why we don't show the boilerplate: it depends on what you're doing with your code.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/158452458/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/158462603",
    "html_url": "https://github.com/rust-lang/rust/issues/29957#issuecomment-158462603",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29957",
    "id": 158462603,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1ODQ2MjYwMw==",
    "user": {
      "login": "lojic",
      "id": 57366,
      "node_id": "MDQ6VXNlcjU3MzY2",
      "avatar_url": "https://avatars.githubusercontent.com/u/57366?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lojic",
      "html_url": "https://github.com/lojic",
      "followers_url": "https://api.github.com/users/lojic/followers",
      "following_url": "https://api.github.com/users/lojic/following{/other_user}",
      "gists_url": "https://api.github.com/users/lojic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lojic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lojic/subscriptions",
      "organizations_url": "https://api.github.com/users/lojic/orgs",
      "repos_url": "https://api.github.com/users/lojic/repos",
      "events_url": "https://api.github.com/users/lojic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lojic/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-11-20T17:11:28Z",
    "updated_at": "2015-11-20T17:11:28Z",
    "body": "Thanks for the help Steve! Sorry for the snarky comment previously - inappropriate frustration venting on my part.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/158462603/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/158469265",
    "html_url": "https://github.com/rust-lang/rust/issues/29957#issuecomment-158469265",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29957",
    "id": 158469265,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1ODQ2OTI2NQ==",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-11-20T17:39:44Z",
    "updated_at": "2015-11-20T17:39:44Z",
    "body": "It's totally okay. This is a tough choice we've had to make: basically, the API docs kind of assume you're already familiar with Rust and know how to make things work. There's a balance between showing repetitive boilerplate and making it easy for people who are getting started... it's hard.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/158469265/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/158477180",
    "html_url": "https://github.com/rust-lang/rust/issues/29957#issuecomment-158477180",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/29957",
    "id": 158477180,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1ODQ3NzE4MA==",
    "user": {
      "login": "lojic",
      "id": 57366,
      "node_id": "MDQ6VXNlcjU3MzY2",
      "avatar_url": "https://avatars.githubusercontent.com/u/57366?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lojic",
      "html_url": "https://github.com/lojic",
      "followers_url": "https://api.github.com/users/lojic/followers",
      "following_url": "https://api.github.com/users/lojic/following{/other_user}",
      "gists_url": "https://api.github.com/users/lojic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lojic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lojic/subscriptions",
      "organizations_url": "https://api.github.com/users/lojic/orgs",
      "repos_url": "https://api.github.com/users/lojic/repos",
      "events_url": "https://api.github.com/users/lojic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lojic/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-11-20T18:04:15Z",
    "updated_at": "2015-11-20T18:04:15Z",
    "body": "I think you made the right choice. I wouldn't want _every_ example cluttered with boilerplate. There may be a way to set proper expectations for newbies, but there is the big \"Run\" button already, so it's probably fine.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/158477180/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
