[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/61562440",
    "html_url": "https://github.com/rust-lang/rust/issues/18588#issuecomment-61562440",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18588",
    "id": 61562440,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNTYyNDQw",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-03T22:35:53Z",
    "updated_at": "2014-11-03T22:35:53Z",
    "body": "cc @nick29581 \n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/61562440/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/61562837",
    "html_url": "https://github.com/rust-lang/rust/issues/18588#issuecomment-61562837",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18588",
    "id": 61562837,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNTYyODM3",
    "user": {
      "login": "nrc",
      "id": 762626,
      "node_id": "MDQ6VXNlcjc2MjYyNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/762626?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nrc",
      "html_url": "https://github.com/nrc",
      "followers_url": "https://api.github.com/users/nrc/followers",
      "following_url": "https://api.github.com/users/nrc/following{/other_user}",
      "gists_url": "https://api.github.com/users/nrc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nrc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nrc/subscriptions",
      "organizations_url": "https://api.github.com/users/nrc/orgs",
      "repos_url": "https://api.github.com/users/nrc/repos",
      "events_url": "https://api.github.com/users/nrc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nrc/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-03T22:39:10Z",
    "updated_at": "2014-11-03T22:39:10Z",
    "body": "cc @alexcrichton, this is deliberate.\n\nYou can avoid it by using the flag `--disable-valgrind-rpass`\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/61562837/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/61562888",
    "html_url": "https://github.com/rust-lang/rust/issues/18588#issuecomment-61562888",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18588",
    "id": 61562888,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNTYyODg4",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-03T22:39:30Z",
    "updated_at": "2014-11-03T22:39:30Z",
    "body": "If it is on purpose then the configure script should have failed when valgrind wasn't found.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/61562888/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/61583266",
    "html_url": "https://github.com/rust-lang/rust/issues/18588#issuecomment-61583266",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18588",
    "id": 61583266,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNTgzMjY2",
    "user": {
      "login": "liigo",
      "id": 346530,
      "node_id": "MDQ6VXNlcjM0NjUzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/346530?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/liigo",
      "html_url": "https://github.com/liigo",
      "followers_url": "https://api.github.com/users/liigo/followers",
      "following_url": "https://api.github.com/users/liigo/following{/other_user}",
      "gists_url": "https://api.github.com/users/liigo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/liigo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/liigo/subscriptions",
      "organizations_url": "https://api.github.com/users/liigo/orgs",
      "repos_url": "https://api.github.com/users/liigo/repos",
      "events_url": "https://api.github.com/users/liigo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/liigo/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-04T02:10:37Z",
    "updated_at": "2014-11-04T02:10:37Z",
    "body": "I got the same error, and didn't know how to do, before I'm here and find `--disable-valgrind-rpass`.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/61583266/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/61583440",
    "html_url": "https://github.com/rust-lang/rust/issues/18588#issuecomment-61583440",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18588",
    "id": 61583440,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNTgzNDQw",
    "user": {
      "login": "liigo",
      "id": 346530,
      "node_id": "MDQ6VXNlcjM0NjUzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/346530?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/liigo",
      "html_url": "https://github.com/liigo",
      "followers_url": "https://api.github.com/users/liigo/followers",
      "following_url": "https://api.github.com/users/liigo/following{/other_user}",
      "gists_url": "https://api.github.com/users/liigo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/liigo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/liigo/subscriptions",
      "organizations_url": "https://api.github.com/users/liigo/orgs",
      "repos_url": "https://api.github.com/users/liigo/repos",
      "events_url": "https://api.github.com/users/liigo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/liigo/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-11-04T02:13:02Z",
    "updated_at": "2014-11-04T02:13:02Z",
    "body": "We need a more friendly thing, like what @brson suggested.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/61583440/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/71195350",
    "html_url": "https://github.com/rust-lang/rust/issues/18588#issuecomment-71195350",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18588",
    "id": 71195350,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxMTk1MzUw",
    "user": {
      "login": "ghost",
      "id": 10137,
      "node_id": "MDQ6VXNlcjEwMTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ghost",
      "html_url": "https://github.com/ghost",
      "followers_url": "https://api.github.com/users/ghost/followers",
      "following_url": "https://api.github.com/users/ghost/following{/other_user}",
      "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
      "organizations_url": "https://api.github.com/users/ghost/orgs",
      "repos_url": "https://api.github.com/users/ghost/repos",
      "events_url": "https://api.github.com/users/ghost/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ghost/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-23T13:51:11Z",
    "updated_at": "2015-01-23T13:51:11Z",
    "body": "An easy fix(unless I'm missing something, of course) would be  adding the the following lines after this one: https://github.com/rust-lang/rust/blob/81504f211c36afb69fa2a13d475c45e65d7b2a31/configure#L642\n\nLooks like this(first line already existing):\n\n``` bash\nprobe CFG_VALGRIND         valgrind\nif [ -z \"$CFG_VALGRIND\" ]\nthen\n    if [ ! -z \"$CFG_ENABLE_VALGRIND\" ] || [ -z \"$CFG_DISABLE_VALGRIND_RPASS\" ]\n    then\n      err \"Valgrind not found, but wanted. You may want to add --disable-valgrind-rpass\"                      \n    fi\nfi\n```\n\nThis will yell by default(./configure without params) if valgrind isn't found, unless you specifically add `--disable-valgrind-rpass`.\n\nHowever, the reason why I didn't make a PR is because this code won't work in the case that the default values will change. I am speaking of these values from here: https://github.com/rust-lang/rust/blob/81504f211c36afb69fa2a13d475c45e65d7b2a31/configure#L501\nreproduced here, these values I meant(0,0,1):\n\n``` bash\nopt valgrind 0 \"run tests with valgrind (memcheck by default)\"\nopt helgrind 0 \"run tests with helgrind instead of memcheck\"\nopt valgrind-rpass 1 \"run rpass-valgrind tests with valgrind\"\n```\n\nadding this code within the `if [ -z \"$CFG_VALGRIND\" ]` will show what I mean when you test specific --enable and --disable  parameters:\n\n```\n  echo \"~$CFG_ENABLE_VALGRIND~$CFG_ENABLE_VALGRIND_RPASS~$CFG_DISABLE_VALGRIND_RPASS~$CFG_DISABLE_VALGRIND\"\n```\n\nBasically, if the default value for say `valgrind` is 0, then `--enable-valgrind` will set `$CFG_ENABLE_VALGRIND` but, passing `--disable-valgrind` will not set `$CFG_DISABLE_VALGRIND`.\nSo, if anyone will change that default valgrind value to 1, or more likely the default value `valgrind-rpass` from `1` to `0`  then the above code will have to be changed from `[ -z \"$CFG_DISABLE_VALGRIND_RPASS\" ]` to `[ ! -z \"$CFG_ENABLE_VALGRIND_RPASS\" ]`. \n\n I figure this is done this way to detect if the value was specifically requested/set by the user(via a ./configure parameter), instead of the default one(./configure without params). \n So no variable will be set($CFG_ENABLE_X / $CFG_DISABLE_X) unless the user specifically requested it via ./configure --enable_X or ./configure --disable_X . \n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/71195350/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/93554051",
    "html_url": "https://github.com/rust-lang/rust/issues/18588#issuecomment-93554051",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18588",
    "id": 93554051,
    "node_id": "MDEyOklzc3VlQ29tbWVudDkzNTU0MDUx",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-15T20:18:18Z",
    "updated_at": "2015-04-15T20:18:18Z",
    "body": "@emanueLczirai the problem you've discovered is an unfortunate limitation of the configure system. Writing conditionals about configuration correctly requires knowing the default value.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/93554051/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/154839940",
    "html_url": "https://github.com/rust-lang/rust/issues/18588#issuecomment-154839940",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18588",
    "id": 154839940,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1NDgzOTk0MA==",
    "user": {
      "login": "tamird",
      "id": 1535036,
      "node_id": "MDQ6VXNlcjE1MzUwMzY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1535036?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tamird",
      "html_url": "https://github.com/tamird",
      "followers_url": "https://api.github.com/users/tamird/followers",
      "following_url": "https://api.github.com/users/tamird/following{/other_user}",
      "gists_url": "https://api.github.com/users/tamird/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tamird/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tamird/subscriptions",
      "organizations_url": "https://api.github.com/users/tamird/orgs",
      "repos_url": "https://api.github.com/users/tamird/repos",
      "events_url": "https://api.github.com/users/tamird/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tamird/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-11-08T16:38:40Z",
    "updated_at": "2015-11-08T16:38:40Z",
    "body": "Looks like this should have been closed by #24859. @brson?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/154839940/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/155130064",
    "html_url": "https://github.com/rust-lang/rust/issues/18588#issuecomment-155130064",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/18588",
    "id": 155130064,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1NTEzMDA2NA==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-11-09T17:18:58Z",
    "updated_at": "2015-11-09T17:18:58Z",
    "body": "Indeed!\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/155130064/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
