{
  "url": "https://api.github.com/repos/rust-lang/rust/issues/13527",
  "repository_url": "https://api.github.com/repos/rust-lang/rust",
  "labels_url": "https://api.github.com/repos/rust-lang/rust/issues/13527/labels{/name}",
  "comments_url": "https://api.github.com/repos/rust-lang/rust/issues/13527/comments",
  "events_url": "https://api.github.com/repos/rust-lang/rust/issues/13527/events",
  "html_url": "https://github.com/rust-lang/rust/pull/13527",
  "id": 31548181,
  "node_id": "MDExOlB1bGxSZXF1ZXN0MTQ3NjY2MjA=",
  "number": 13527,
  "title": "syntax: unify all MacResult's into a single trait.",
  "user": {
    "login": "huonw",
    "id": 1203825,
    "node_id": "MDQ6VXNlcjEyMDM4MjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/huonw",
    "html_url": "https://github.com/huonw",
    "followers_url": "https://api.github.com/users/huonw/followers",
    "following_url": "https://api.github.com/users/huonw/following{/other_user}",
    "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
    "organizations_url": "https://api.github.com/users/huonw/orgs",
    "repos_url": "https://api.github.com/users/huonw/repos",
    "events_url": "https://api.github.com/users/huonw/events{/privacy}",
    "received_events_url": "https://api.github.com/users/huonw/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "labels": [],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [],
  "milestone": null,
  "comments": 1,
  "created_at": "2014-04-15T12:18:50Z",
  "updated_at": "2014-06-27T06:47:27Z",
  "closed_at": "2014-04-16T10:31:32Z",
  "author_association": "CONTRIBUTOR",
  "type": null,
  "active_lock_reason": null,
  "draft": false,
  "pull_request": {
    "url": "https://api.github.com/repos/rust-lang/rust/pulls/13527",
    "html_url": "https://github.com/rust-lang/rust/pull/13527",
    "diff_url": "https://github.com/rust-lang/rust/pull/13527.diff",
    "patch_url": "https://github.com/rust-lang/rust/pull/13527.patch",
    "merged_at": "2014-04-16T10:31:34Z"
  },
  "body": "There's now one unified way to return things from a macro, instead of\nbeing able to choose the `AnyMacro` trait or the `MRItem`/`MRExpr`\nvariants of the `MacResult` enum. This does simplify the logic handling\nthe expansions, but the biggest value of this is it makes macros in (for\nexample) type position easier to implement, as there's this single thing\nto modify.\n\nBy my measurements (using `-Z time-passes` on libstd and librustc etc.),\nthis appears to have little-to-no impact on expansion speed. There are\npresumably larger costs than the small number of extra allocations and\nvirtual calls this adds (notably, all `macro_rules!`-defined macros have\nnot changed in behaviour, since they had to use the `AnyMacro` trait\nanyway).\n\n---\n\nSummary of changes for dynamic syntax extension maintainers:\n- `MacResult` is now a trait, and is returned as `~MacResult`\n- `MRExpr` & `MRItem` are now `MacExpr::new` and `MacItem:new` respectively (which return `~MacResult`s)\n- `MacResult::dummy_...` is `DummyResult::any` or `DummyResult::expr`\n",
  "closed_by": {
    "login": "bors",
    "id": 3372342,
    "node_id": "MDQ6VXNlcjMzNzIzNDI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/bors",
    "html_url": "https://github.com/bors",
    "followers_url": "https://api.github.com/users/bors/followers",
    "following_url": "https://api.github.com/users/bors/following{/other_user}",
    "gists_url": "https://api.github.com/users/bors/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bors/subscriptions",
    "organizations_url": "https://api.github.com/users/bors/orgs",
    "repos_url": "https://api.github.com/users/bors/repos",
    "events_url": "https://api.github.com/users/bors/events{/privacy}",
    "received_events_url": "https://api.github.com/users/bors/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/13527/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/rust-lang/rust/issues/13527/timeline",
  "performed_via_github_app": null,
  "state_reason": null,
  "_meta": {
    "type": "pr"
  }
}
