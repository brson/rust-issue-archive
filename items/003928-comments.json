[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/10114880",
    "html_url": "https://github.com/rust-lang/rust/issues/3928#issuecomment-10114880",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/3928",
    "id": 10114880,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwMTE0ODgw",
    "user": {
      "login": "eholk",
      "id": 105766,
      "node_id": "MDQ6VXNlcjEwNTc2Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/105766?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eholk",
      "html_url": "https://github.com/eholk",
      "followers_url": "https://api.github.com/users/eholk/followers",
      "following_url": "https://api.github.com/users/eholk/following{/other_user}",
      "gists_url": "https://api.github.com/users/eholk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eholk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eholk/subscriptions",
      "organizations_url": "https://api.github.com/users/eholk/orgs",
      "repos_url": "https://api.github.com/users/eholk/repos",
      "events_url": "https://api.github.com/users/eholk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eholk/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-11-06T15:37:51Z",
    "updated_at": "2012-11-06T15:37:51Z",
    "body": "There is also a `SharedChan` in the `pipes` module which you can create from a `Chan`. This has a `.clone()` method which can be used to make copies that can be sent to multiple tasks.\n\nYou might also try the `PortSet` object too. They both give you similar functionality (that is, enabling many senders to one receiver), but they put the complexity in different places. `SharedChan` puts more contention on the sender side, so it's good when you have many senders who send infrequently. `PortSet` puts the complexity on the receiver side, so this works better when you have senders that need to send frequently.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/10114880/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/10143841",
    "html_url": "https://github.com/rust-lang/rust/issues/3928#issuecomment-10143841",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/3928",
    "id": 10143841,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwMTQzODQx",
    "user": {
      "login": "jhebus",
      "id": 1606103,
      "node_id": "MDQ6VXNlcjE2MDYxMDM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1606103?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jhebus",
      "html_url": "https://github.com/jhebus",
      "followers_url": "https://api.github.com/users/jhebus/followers",
      "following_url": "https://api.github.com/users/jhebus/following{/other_user}",
      "gists_url": "https://api.github.com/users/jhebus/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jhebus/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jhebus/subscriptions",
      "organizations_url": "https://api.github.com/users/jhebus/orgs",
      "repos_url": "https://api.github.com/users/jhebus/repos",
      "events_url": "https://api.github.com/users/jhebus/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jhebus/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-11-07T10:33:12Z",
    "updated_at": "2012-11-07T10:33:12Z",
    "body": "Hi, thanks for the reply.\n\nThe shared channel worked fine, but only if the clone was created within the task. Why am i not allowed to pass the clone into the task?\n\nlet chan = SharedChan(move chan);\n\ndo task::spawn {\n        let a = chan.clone();\n        send_actor(a);\n}\n\nAlso, is there an equivalent that will enable me to share ports? \n\nOn a more fundamental note, is there any language level reason that channels and ports are not always shared/share-able. I assume that it has something to do with the memory model.\n\nAlso, it is possible to have a third party bind two channels together, for example a channel and a port are passed to a function, and that function can then join them together? I saw in the documentation that this seems not to be the case, but i thought i would ask in case things have changed?\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/10143841/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/10151141",
    "html_url": "https://github.com/rust-lang/rust/issues/3928#issuecomment-10151141",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/3928",
    "id": 10151141,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwMTUxMTQx",
    "user": {
      "login": "eholk",
      "id": 105766,
      "node_id": "MDQ6VXNlcjEwNTc2Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/105766?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eholk",
      "html_url": "https://github.com/eholk",
      "followers_url": "https://api.github.com/users/eholk/followers",
      "following_url": "https://api.github.com/users/eholk/following{/other_user}",
      "gists_url": "https://api.github.com/users/eholk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eholk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eholk/subscriptions",
      "organizations_url": "https://api.github.com/users/eholk/orgs",
      "repos_url": "https://api.github.com/users/eholk/repos",
      "events_url": "https://api.github.com/users/eholk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eholk/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-11-07T15:05:01Z",
    "updated_at": "2012-11-07T15:05:01Z",
    "body": "The following should work:\n\n```\nlet chan = SharedChan(move chan);\n\nlet a = chan.clone();\n\ndo task::spawn |move a| {\n    send_actor(a);\n}\n```\n\nThe `|move a|` clause might be unnecessary... Anyway, this should let you continue to make clones of `chan` to share with other tasks.\n\nBy binding channels together, do you mean connecting a port to a chan so that data sent to the port is automatically forwarded to the chan? If so, this isn't possible. You could spawn another task that just does the forwarding on its own. It might be possible to do some more direct binding, but I'm not sure.\n\nAs far as why ports and chans are not always copyable, this has to do with the extra assumptions we can make when we have 1:1 communication. It's a lot easier to reason about pipe protocols (which are admittedly a somewhat advanced feature) when there are only two parties participating. We can also get a more efficient implementation because the synchronization logic can be greatly simplified with only one sender and one receiver.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/10151141/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/10153645",
    "html_url": "https://github.com/rust-lang/rust/issues/3928#issuecomment-10153645",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/3928",
    "id": 10153645,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwMTUzNjQ1",
    "user": {
      "login": "jhebus",
      "id": 1606103,
      "node_id": "MDQ6VXNlcjE2MDYxMDM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1606103?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jhebus",
      "html_url": "https://github.com/jhebus",
      "followers_url": "https://api.github.com/users/jhebus/followers",
      "following_url": "https://api.github.com/users/jhebus/following{/other_user}",
      "gists_url": "https://api.github.com/users/jhebus/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jhebus/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jhebus/subscriptions",
      "organizations_url": "https://api.github.com/users/jhebus/orgs",
      "repos_url": "https://api.github.com/users/jhebus/repos",
      "events_url": "https://api.github.com/users/jhebus/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jhebus/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-11-07T16:06:30Z",
    "updated_at": "2012-11-07T16:06:30Z",
    "body": "I changed my main to be as you suggested above (also removed the second spawn for the moment), however either with or without the \"move a\" the compiler still complains that the cloned channel is not copyable when used with the send_actor().\n\nI still don't seem to be able to find a way to pass a port to a function within and channel. Is this possible, as in the variable \"b\" in my original example?\n\nBy binding together i mean, it is possible to from dynamic topologies of channels and ports at runtime; Individually creating channels and ports, then forming connections between them at some later (optional) stage. Although, from your later description this does not sound possible.\n\nHow can i determine when a channel/port is or is not copyable?\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/10153645/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/10199336",
    "html_url": "https://github.com/rust-lang/rust/issues/3928#issuecomment-10199336",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/3928",
    "id": 10199336,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwMTk5MzM2",
    "user": {
      "login": "catamorphism",
      "id": 427212,
      "node_id": "MDQ6VXNlcjQyNzIxMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/427212?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/catamorphism",
      "html_url": "https://github.com/catamorphism",
      "followers_url": "https://api.github.com/users/catamorphism/followers",
      "following_url": "https://api.github.com/users/catamorphism/following{/other_user}",
      "gists_url": "https://api.github.com/users/catamorphism/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/catamorphism/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/catamorphism/subscriptions",
      "organizations_url": "https://api.github.com/users/catamorphism/orgs",
      "repos_url": "https://api.github.com/users/catamorphism/repos",
      "events_url": "https://api.github.com/users/catamorphism/events{/privacy}",
      "received_events_url": "https://api.github.com/users/catamorphism/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-11-08T18:36:57Z",
    "updated_at": "2012-11-08T18:36:57Z",
    "body": "Closing this because it seems like more of an informational question than a bug report. @jhebus , please feel free to continue this discussion on the mailing list or IRC channel :-)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/10199336/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
