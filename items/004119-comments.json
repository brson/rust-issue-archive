[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/11071445",
    "html_url": "https://github.com/rust-lang/rust/issues/4119#issuecomment-11071445",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/4119",
    "id": 11071445,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExMDcxNDQ1",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-12-06T03:04:07Z",
    "updated_at": "2012-12-06T03:04:07Z",
    "body": "Here is how I think we should solve this, at least in the short term: `core::os` has a module called `consts` that use conditional compilation to only define these constants for the host platform. Instead we can define them all, always, and use conditional compilation to make just one the default.\n\nInstead of \n\n```\n#[cfg(target_os = \"macos\")]\nmod consts {       \n    pub fn sysname() -> ~str { ~\"macos\" }\n    pub fn exe_suffix() -> ~str { ~\"\" }\n    pub fn dll_suffix() -> ~str { ~\".dylib\" }\n}           \n```\n\nThis:\n\n```\nmod consts {\n\n    #[cfg(target_os = \"macos\")]\n    pub use macos::sysname;\n    // etc.\n\n    mod macos {\n        pub fn sysname() -> ~str { ~\"macos\" }\n        pub fn exe_suffix() -> ~str { ~\"\" }\n        pub fn dll_suffix() -> ~str { ~\".dylib\" }\n    }\n}           \n```\n\nrustc would have to implement its own version of `dll_filename` that picked the correct submodule, but at least all the constants remain defined in one place.\n\nThere is also some code in `rustc::metadata::loader` that has it's own logic to do this. It should be converted.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/11071445/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/11071450",
    "html_url": "https://github.com/rust-lang/rust/issues/4119#issuecomment-11071450",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/4119",
    "id": 11071450,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExMDcxNDUw",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-12-06T03:04:23Z",
    "updated_at": "2012-12-06T03:04:23Z",
    "body": "@graydon you might have an opinion on this\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/11071450/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/11110377",
    "html_url": "https://github.com/rust-lang/rust/issues/4119#issuecomment-11110377",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/4119",
    "id": 11110377,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExMTEwMzc3",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-12-06T23:03:43Z",
    "updated_at": "2012-12-06T23:03:43Z",
    "body": "@ILyoan on IRC yesterday you had some other ideas about how to fix this. Have you come up with a solution that works for you? If not, do you want me to implement something like I described above?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/11110377/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/11316483",
    "html_url": "https://github.com/rust-lang/rust/issues/4119#issuecomment-11316483",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/4119",
    "id": 11316483,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExMzE2NDgz",
    "user": {
      "login": "ILyoan",
      "id": 2672194,
      "node_id": "MDQ6VXNlcjI2NzIxOTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2672194?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ILyoan",
      "html_url": "https://github.com/ILyoan",
      "followers_url": "https://api.github.com/users/ILyoan/followers",
      "following_url": "https://api.github.com/users/ILyoan/following{/other_user}",
      "gists_url": "https://api.github.com/users/ILyoan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ILyoan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ILyoan/subscriptions",
      "organizations_url": "https://api.github.com/users/ILyoan/orgs",
      "repos_url": "https://api.github.com/users/ILyoan/repos",
      "events_url": "https://api.github.com/users/ILyoan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ILyoan/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-12-13T00:14:51Z",
    "updated_at": "2012-12-13T00:35:44Z",
    "body": "@brson Oh! is it too late to answer? \nI cound't find a way to change target_os configuration during compiling the libcore for the target.\nWhen compile the libcore for target, since rustc uses the host libcore which has already been configured as host (#[cfg(target_os='<host_os>')]) so it returns dll_name for host I guess.\nI'm not sure if i could deal with it so I would be glad if you would handle this.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/11316483/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/11558312",
    "html_url": "https://github.com/rust-lang/rust/issues/4119#issuecomment-11558312",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/4119",
    "id": 11558312,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExNTU4MzEy",
    "user": {
      "login": "ILyoan",
      "id": 2672194,
      "node_id": "MDQ6VXNlcjI2NzIxOTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2672194?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ILyoan",
      "html_url": "https://github.com/ILyoan",
      "followers_url": "https://api.github.com/users/ILyoan/followers",
      "following_url": "https://api.github.com/users/ILyoan/following{/other_user}",
      "gists_url": "https://api.github.com/users/ILyoan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ILyoan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ILyoan/subscriptions",
      "organizations_url": "https://api.github.com/users/ILyoan/orgs",
      "repos_url": "https://api.github.com/users/ILyoan/repos",
      "events_url": "https://api.github.com/users/ILyoan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ILyoan/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2012-12-20T02:43:44Z",
    "updated_at": "2012-12-20T02:43:44Z",
    "body": "@brson \"rustc would have to implement its own version of `dll_filename` that picked the correct submodule, but at least all the constants remain defined in one place.\"\n\nsorry I had missed the sentence :(\n\nI think I can handle it with that approach.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/11558312/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
