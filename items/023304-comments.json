[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/78639165",
    "html_url": "https://github.com/rust-lang/rust/issues/23304#issuecomment-78639165",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23304",
    "id": 78639165,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4NjM5MTY1",
    "user": {
      "login": "mahkoh",
      "id": 1882250,
      "node_id": "MDQ6VXNlcjE4ODIyNTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1882250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mahkoh",
      "html_url": "https://github.com/mahkoh",
      "followers_url": "https://api.github.com/users/mahkoh/followers",
      "following_url": "https://api.github.com/users/mahkoh/following{/other_user}",
      "gists_url": "https://api.github.com/users/mahkoh/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mahkoh/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mahkoh/subscriptions",
      "organizations_url": "https://api.github.com/users/mahkoh/orgs",
      "repos_url": "https://api.github.com/users/mahkoh/repos",
      "events_url": "https://api.github.com/users/mahkoh/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mahkoh/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-12T21:50:46Z",
    "updated_at": "2015-03-12T21:51:38Z",
    "body": "Minimal:\n\n``` rust\nenum X { A = 0 as isize }\n\nenum Y { A = X::A as isize }\n\nfn main() { }\n```\n\nWorkaround:\n\n``` rust\n#[repr(u32)] enum X { A = 0u32 | 1u32, B }\n\n#[repr(u64)] enum Y { A = X::A as u64, B }\n\nfn main() { }\n```\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/78639165/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/78945624",
    "html_url": "https://github.com/rust-lang/rust/issues/23304#issuecomment-78945624",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23304",
    "id": 78945624,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4OTQ1NjI0",
    "user": {
      "login": "Ms2ger",
      "id": 111161,
      "node_id": "MDQ6VXNlcjExMTE2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/111161?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Ms2ger",
      "html_url": "https://github.com/Ms2ger",
      "followers_url": "https://api.github.com/users/Ms2ger/followers",
      "following_url": "https://api.github.com/users/Ms2ger/following{/other_user}",
      "gists_url": "https://api.github.com/users/Ms2ger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Ms2ger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Ms2ger/subscriptions",
      "organizations_url": "https://api.github.com/users/Ms2ger/orgs",
      "repos_url": "https://api.github.com/users/Ms2ger/repos",
      "events_url": "https://api.github.com/users/Ms2ger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Ms2ger/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-13T12:18:06Z",
    "updated_at": "2015-03-13T12:18:06Z",
    "body": "Do you also have a workaround for this:\n\n``` rust\n#![allow(dead_code)]\n\n#[repr(u8)]\n#[allow(dead_code)]\nenum ValueType {\n    DOUBLE              = 0x00,\n    INT32               = 0x01,\n}\n\n#[repr(u32)]\nenum ValueTag {\n    INT32                = 0x1FFF0u32 | (ValueType::INT32 as u32),\n    X,\n}\n\n#[repr(u64)]\nenum ValueShiftedTag {\n    INT32        = ValueTag::INT32 as u64,\n    X,\n}\n\nfn main() {\n    println!(\"{}\", ValueTag::INT32 as u32);\n}\n```\n\n?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/78945624/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/78960051",
    "html_url": "https://github.com/rust-lang/rust/issues/23304#issuecomment-78960051",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23304",
    "id": 78960051,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4OTYwMDUx",
    "user": {
      "login": "SimonSapin",
      "id": 291359,
      "node_id": "MDQ6VXNlcjI5MTM1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SimonSapin",
      "html_url": "https://github.com/SimonSapin",
      "followers_url": "https://api.github.com/users/SimonSapin/followers",
      "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}",
      "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions",
      "organizations_url": "https://api.github.com/users/SimonSapin/orgs",
      "repos_url": "https://api.github.com/users/SimonSapin/repos",
      "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SimonSapin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-13T12:58:41Z",
    "updated_at": "2015-03-13T12:58:41Z",
    "body": "This doesn\u2019t look like a ICE when I reproduce this.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/78960051/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/78965882",
    "html_url": "https://github.com/rust-lang/rust/issues/23304#issuecomment-78965882",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23304",
    "id": 78965882,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4OTY1ODgy",
    "user": {
      "login": "mahkoh",
      "id": 1882250,
      "node_id": "MDQ6VXNlcjE4ODIyNTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1882250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mahkoh",
      "html_url": "https://github.com/mahkoh",
      "followers_url": "https://api.github.com/users/mahkoh/followers",
      "following_url": "https://api.github.com/users/mahkoh/following{/other_user}",
      "gists_url": "https://api.github.com/users/mahkoh/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mahkoh/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mahkoh/subscriptions",
      "organizations_url": "https://api.github.com/users/mahkoh/orgs",
      "repos_url": "https://api.github.com/users/mahkoh/repos",
      "events_url": "https://api.github.com/users/mahkoh/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mahkoh/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-13T13:17:20Z",
    "updated_at": "2015-03-13T13:17:20Z",
    "body": "> Do you also have a workaround for this:\n\nNope. Problem seems to come from using `as` too much.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/78965882/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/78965912",
    "html_url": "https://github.com/rust-lang/rust/issues/23304#issuecomment-78965912",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23304",
    "id": 78965912,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4OTY1OTEy",
    "user": {
      "login": "SimonSapin",
      "id": 291359,
      "node_id": "MDQ6VXNlcjI5MTM1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SimonSapin",
      "html_url": "https://github.com/SimonSapin",
      "followers_url": "https://api.github.com/users/SimonSapin/followers",
      "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}",
      "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions",
      "organizations_url": "https://api.github.com/users/SimonSapin/orgs",
      "repos_url": "https://api.github.com/users/SimonSapin/repos",
      "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SimonSapin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-13T13:17:26Z",
    "updated_at": "2015-03-13T13:17:26Z",
    "body": "I\u2019m still not sure what was the root cause, but I worked around this by replacing these `enum`s with a bunch of `const`s: https://github.com/servo/rust-mozjs/pull/137\n\nFeel free to close.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/78965912/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/79455403",
    "html_url": "https://github.com/rust-lang/rust/issues/23304#issuecomment-79455403",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23304",
    "id": 79455403,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc5NDU1NDAz",
    "user": {
      "login": "ahwatts",
      "id": 308758,
      "node_id": "MDQ6VXNlcjMwODc1OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/308758?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ahwatts",
      "html_url": "https://github.com/ahwatts",
      "followers_url": "https://api.github.com/users/ahwatts/followers",
      "following_url": "https://api.github.com/users/ahwatts/following{/other_user}",
      "gists_url": "https://api.github.com/users/ahwatts/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ahwatts/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ahwatts/subscriptions",
      "organizations_url": "https://api.github.com/users/ahwatts/orgs",
      "repos_url": "https://api.github.com/users/ahwatts/repos",
      "events_url": "https://api.github.com/users/ahwatts/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ahwatts/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-13T21:57:17Z",
    "updated_at": "2015-03-13T21:57:17Z",
    "body": "It looks like this happens if it needs to recurse more than once to evaluate a constant, i.e, in order to evaluate `PieALaMode`, it needs to evaluate `ApplePie`, which in turn requires it to evaluate `Pie` and `Apple`.\n\n```\n#[derive(Debug)]\nenum Delicious {\n    Pie      =  0x1,\n    Apple    =  0x2,\n    IceCream = 0x40,\n    Vanilla  = 0x80,\n    ApplePie = Delicious::Apple as isize | Delicious::Pie as isize,\n    PieALaMode = Delicious::ApplePie as isize | Delicious::IceCream as isize | Delicious::Vanilla as isize,\n}\n\nfn main() {\n    println!(\"Apple Pie = {:?} ({:?})\", Delicious::ApplePie, Delicious::ApplePie as isize);\n    println!(\"Pie \u00e0 la Mode = {:?} ({:?})\", Delicious::PieALaMode, Delicious::PieALaMode as isize);\n}\n```\n\n(Sorry, I apparently need to go eat dinner. And dessert.)\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/79455403/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/79511041",
    "html_url": "https://github.com/rust-lang/rust/issues/23304#issuecomment-79511041",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23304",
    "id": 79511041,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc5NTExMDQx",
    "user": {
      "login": "SimonSapin",
      "id": 291359,
      "node_id": "MDQ6VXNlcjI5MTM1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SimonSapin",
      "html_url": "https://github.com/SimonSapin",
      "followers_url": "https://api.github.com/users/SimonSapin/followers",
      "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}",
      "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions",
      "organizations_url": "https://api.github.com/users/SimonSapin/orgs",
      "repos_url": "https://api.github.com/users/SimonSapin/repos",
      "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SimonSapin/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-03-13T22:48:50Z",
    "updated_at": "2015-03-13T22:48:50Z",
    "body": "Also note that this code used to build with earlier compiler versions.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/79511041/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/131818635",
    "html_url": "https://github.com/rust-lang/rust/issues/23304#issuecomment-131818635",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/23304",
    "id": 131818635,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMTgxODYzNQ==",
    "user": {
      "login": "frewsxcv",
      "id": 416575,
      "node_id": "MDQ6VXNlcjQxNjU3NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/416575?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/frewsxcv",
      "html_url": "https://github.com/frewsxcv",
      "followers_url": "https://api.github.com/users/frewsxcv/followers",
      "following_url": "https://api.github.com/users/frewsxcv/following{/other_user}",
      "gists_url": "https://api.github.com/users/frewsxcv/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/frewsxcv/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/frewsxcv/subscriptions",
      "organizations_url": "https://api.github.com/users/frewsxcv/orgs",
      "repos_url": "https://api.github.com/users/frewsxcv/repos",
      "events_url": "https://api.github.com/users/frewsxcv/events{/privacy}",
      "received_events_url": "https://api.github.com/users/frewsxcv/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-08-17T13:30:44Z",
    "updated_at": "2015-08-17T13:30:44Z",
    "body": "Update: @Ms2ger's [code he pasted](https://github.com/rust-lang/rust/issues/23304#issuecomment-78945624) currently compiles on nightly. It does not compile on beta or stable.\n\n[Playpen link](http://is.gd/GZto9c)\n\nI'll add a regression test to close this, unless I hear otherwise\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/131818635/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
