[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/55668731",
    "html_url": "https://github.com/rust-lang/rust/issues/17283#issuecomment-55668731",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/17283",
    "id": 55668731,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1NjY4NzMx",
    "user": {
      "login": "ftxqxd",
      "id": 2055302,
      "node_id": "MDQ6VXNlcjIwNTUzMDI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2055302?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ftxqxd",
      "html_url": "https://github.com/ftxqxd",
      "followers_url": "https://api.github.com/users/ftxqxd/followers",
      "following_url": "https://api.github.com/users/ftxqxd/following{/other_user}",
      "gists_url": "https://api.github.com/users/ftxqxd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ftxqxd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ftxqxd/subscriptions",
      "organizations_url": "https://api.github.com/users/ftxqxd/orgs",
      "repos_url": "https://api.github.com/users/ftxqxd/repos",
      "events_url": "https://api.github.com/users/ftxqxd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ftxqxd/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-09-15T22:27:10Z",
    "updated_at": "2014-09-15T22:27:10Z",
    "body": "Assignments in `if` conditions are not allowed, as the condition has to be a `bool` but assignments always return `()`. They are supposed to be allowed _syntactically_, though. Here you\u2019re seeing the result of an ambiguity in the parser\u2014when the parser reads `i = n { ... }`, it parses it as an assignment to a struct initialiser:\n\n``` rust\nif i = (n {\n    ...\n})\n```\n\ninstead of an assignment to a variable:\n\n``` rust\nif i = (n) {\n    ...\n}\n```\n\n(Note that that latter example can be used to force the parser to parse it as expected.) I was under the impression that #14803 was supposed to fix this, making the parser resolve it as the latter instead of the former.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/55668731/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/55681213",
    "html_url": "https://github.com/rust-lang/rust/issues/17283#issuecomment-55681213",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/17283",
    "id": 55681213,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1NjgxMjEz",
    "user": {
      "login": "CameronNemo",
      "id": 3212452,
      "node_id": "MDQ6VXNlcjMyMTI0NTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3212452?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/CameronNemo",
      "html_url": "https://github.com/CameronNemo",
      "followers_url": "https://api.github.com/users/CameronNemo/followers",
      "following_url": "https://api.github.com/users/CameronNemo/following{/other_user}",
      "gists_url": "https://api.github.com/users/CameronNemo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/CameronNemo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/CameronNemo/subscriptions",
      "organizations_url": "https://api.github.com/users/CameronNemo/orgs",
      "repos_url": "https://api.github.com/users/CameronNemo/repos",
      "events_url": "https://api.github.com/users/CameronNemo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/CameronNemo/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-09-16T00:52:04Z",
    "updated_at": "2014-09-16T00:52:04Z",
    "body": "One workaround to get the effect is this:\n\n```\nif { i = n; i } {\n    print!(\"{}\", i);\n}\n```\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/55681213/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/55683028",
    "html_url": "https://github.com/rust-lang/rust/issues/17283#issuecomment-55683028",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/17283",
    "id": 55683028,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1NjgzMDI4",
    "user": {
      "login": "bkoropoff",
      "id": 2101303,
      "node_id": "MDQ6VXNlcjIxMDEzMDM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2101303?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bkoropoff",
      "html_url": "https://github.com/bkoropoff",
      "followers_url": "https://api.github.com/users/bkoropoff/followers",
      "following_url": "https://api.github.com/users/bkoropoff/following{/other_user}",
      "gists_url": "https://api.github.com/users/bkoropoff/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bkoropoff/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bkoropoff/subscriptions",
      "organizations_url": "https://api.github.com/users/bkoropoff/orgs",
      "repos_url": "https://api.github.com/users/bkoropoff/repos",
      "events_url": "https://api.github.com/users/bkoropoff/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bkoropoff/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-09-16T01:20:18Z",
    "updated_at": "2014-09-16T01:20:18Z",
    "body": "Taking a look at this one\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/55683028/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/55683979",
    "html_url": "https://github.com/rust-lang/rust/issues/17283#issuecomment-55683979",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/17283",
    "id": 55683979,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1NjgzOTc5",
    "user": {
      "login": "bkoropoff",
      "id": 2101303,
      "node_id": "MDQ6VXNlcjIxMDEzMDM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2101303?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bkoropoff",
      "html_url": "https://github.com/bkoropoff",
      "followers_url": "https://api.github.com/users/bkoropoff/followers",
      "following_url": "https://api.github.com/users/bkoropoff/following{/other_user}",
      "gists_url": "https://api.github.com/users/bkoropoff/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bkoropoff/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bkoropoff/subscriptions",
      "organizations_url": "https://api.github.com/users/bkoropoff/orgs",
      "repos_url": "https://api.github.com/users/bkoropoff/repos",
      "events_url": "https://api.github.com/users/bkoropoff/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bkoropoff/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-09-16T01:35:09Z",
    "updated_at": "2014-09-16T01:35:09Z",
    "body": "It looks like propagating the struct literal restriction through to the RHS expression of an assignment yields a much better error message:\n\n### Code\n\n``` rust\nfn main() {\n    let x = 1u;\n    if x = x {\n        println!(\"{}\", x);\n    }\n}\n```\n\n### Before\n\n```\ntest.rs:4:16: 4:17 error: expected `:`, found `!`\ntest.rs:4         println!(\"{}\", x);\n                         ^\n```\n\n### After\n\n```\ntest.rs:3:8: 3:13 error: mismatched types: expected `bool`, found `()` (expected bool, found ())\ntest.rs:3     if x = x {\n                 ^~~~~\n```\n\nI'll see about getting a PR out for this.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/55683979/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/55685438",
    "html_url": "https://github.com/rust-lang/rust/issues/17283#issuecomment-55685438",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/17283",
    "id": 55685438,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1Njg1NDM4",
    "user": {
      "login": "brson",
      "id": 147214,
      "node_id": "MDQ6VXNlcjE0NzIxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brson",
      "html_url": "https://github.com/brson",
      "followers_url": "https://api.github.com/users/brson/followers",
      "following_url": "https://api.github.com/users/brson/following{/other_user}",
      "gists_url": "https://api.github.com/users/brson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brson/subscriptions",
      "organizations_url": "https://api.github.com/users/brson/orgs",
      "repos_url": "https://api.github.com/users/brson/repos",
      "events_url": "https://api.github.com/users/brson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brson/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-09-16T01:58:11Z",
    "updated_at": "2014-09-16T01:58:11Z",
    "body": "cc @nick29581\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/55685438/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/71687129",
    "html_url": "https://github.com/rust-lang/rust/issues/17283#issuecomment-71687129",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/17283",
    "id": 71687129,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxNjg3MTI5",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-01-27T17:16:24Z",
    "updated_at": "2015-01-27T17:16:24Z",
    "body": "This now gives \n\n```\nhello.rs:5:28: 5:33 error: mismatched types:\n expected `bool`,\n    found `()`\n(expected bool,\n    found ()) [E0308]\nhello.rs:5                         if i = n {\n                                      ^~~~~\n\n```\n\nwhich is much, much better.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/71687129/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
