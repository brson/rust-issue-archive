[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46812461",
    "html_url": "https://github.com/rust-lang/rust/issues/15102#issuecomment-46812461",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15102",
    "id": 46812461,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2ODEyNDYx",
    "user": {
      "login": "ghost",
      "id": 10137,
      "node_id": "MDQ6VXNlcjEwMTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ghost",
      "html_url": "https://github.com/ghost",
      "followers_url": "https://api.github.com/users/ghost/followers",
      "following_url": "https://api.github.com/users/ghost/following{/other_user}",
      "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
      "organizations_url": "https://api.github.com/users/ghost/orgs",
      "repos_url": "https://api.github.com/users/ghost/repos",
      "events_url": "https://api.github.com/users/ghost/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ghost/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-06-23T07:13:50Z",
    "updated_at": "2014-06-23T07:13:50Z",
    "body": "You could rename the phantom fields such that they start with an underscore, then the lint will ignore them (much like the unused variable lint ignores variables starting with underscores).\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46812461/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46813632",
    "html_url": "https://github.com/rust-lang/rust/issues/15102#issuecomment-46813632",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15102",
    "id": 46813632,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2ODEzNjMy",
    "user": {
      "login": "lilyball",
      "id": 714,
      "node_id": "MDQ6VXNlcjcxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/714?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lilyball",
      "html_url": "https://github.com/lilyball",
      "followers_url": "https://api.github.com/users/lilyball/followers",
      "following_url": "https://api.github.com/users/lilyball/following{/other_user}",
      "gists_url": "https://api.github.com/users/lilyball/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lilyball/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lilyball/subscriptions",
      "organizations_url": "https://api.github.com/users/lilyball/orgs",
      "repos_url": "https://api.github.com/users/lilyball/repos",
      "events_url": "https://api.github.com/users/lilyball/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lilyball/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-06-23T07:32:04Z",
    "updated_at": "2014-06-23T07:32:04Z",
    "body": "@jakub- Yeah I discovered that after filing this issue, and that's what I ended up doing, although I am not terribly happy about having my 3 struct definitions now actually differ.\n\nIn any case, my basic point here is the `dead_code` lint is making claims about factual knowledge it doesn't have. There are various constructs (of which I've listed the ones I can think of) that the `dead_code` lint simply can't see into. It would be great if the `dead_code` lint could consider these constructs to touch every single field of the struct.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46813632/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46867784",
    "html_url": "https://github.com/rust-lang/rust/issues/15102#issuecomment-46867784",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15102",
    "id": 46867784,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2ODY3Nzg0",
    "user": {
      "login": "ghost",
      "id": 10137,
      "node_id": "MDQ6VXNlcjEwMTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ghost",
      "html_url": "https://github.com/ghost",
      "followers_url": "https://api.github.com/users/ghost/followers",
      "following_url": "https://api.github.com/users/ghost/following{/other_user}",
      "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
      "organizations_url": "https://api.github.com/users/ghost/orgs",
      "repos_url": "https://api.github.com/users/ghost/repos",
      "events_url": "https://api.github.com/users/ghost/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ghost/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-06-23T16:25:27Z",
    "updated_at": "2014-06-23T16:25:27Z",
    "body": "@kballard Right, I agree that the lint's wording seems to imply it being precise (or conservative at the very least) rather than overly pessimistic, which it is now. I'm not sure if the solution to that is to make the lint even more complicated or simply changing the wording to reflect its nature.\n\nI find this lint useful but if the noise/signal ratio has turned out to be too high, then maybe it shouldn't be on by default.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46867784/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49217657",
    "html_url": "https://github.com/rust-lang/rust/issues/15102#issuecomment-49217657",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15102",
    "id": 49217657,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MjE3NjU3",
    "user": {
      "login": "ktt3ja",
      "id": 1735399,
      "node_id": "MDQ6VXNlcjE3MzUzOTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1735399?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ktt3ja",
      "html_url": "https://github.com/ktt3ja",
      "followers_url": "https://api.github.com/users/ktt3ja/followers",
      "following_url": "https://api.github.com/users/ktt3ja/following{/other_user}",
      "gists_url": "https://api.github.com/users/ktt3ja/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ktt3ja/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ktt3ja/subscriptions",
      "organizations_url": "https://api.github.com/users/ktt3ja/orgs",
      "repos_url": "https://api.github.com/users/ktt3ja/repos",
      "events_url": "https://api.github.com/users/ktt3ja/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ktt3ja/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-16T19:53:19Z",
    "updated_at": "2014-07-16T19:58:23Z",
    "body": "I'm obviously biased, but I think it should be kept enabled by default. The dead-code lint has these two utilities:\n- Cleaning the code base of unused code.\n- Warning the user of short-term forgetfulness.\n\nI believe the second part is much more useful. From my experience, it's a relief to have the lint warn you that the code you spent the whole day writing is dead because you forget to call that one function. Disabling the lint makes the second utility nonexistent. By the time you think of turning it on you probably have already figured out the problem.\n\nYes, the lint was written to be conservative so the user can be confident that they may remove the code (the lint went through a lot of bug fix at the beginning to address that concern).\n\nIf the noise/signal ratio becomes too high and no good solution can be found, I would prefer that dead items and dead fields be classified differently and keep the warning for the former on by default.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49217657/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49223921",
    "html_url": "https://github.com/rust-lang/rust/issues/15102#issuecomment-49223921",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15102",
    "id": 49223921,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MjIzOTIx",
    "user": {
      "login": "zwarich",
      "id": 440875,
      "node_id": "MDQ6VXNlcjQ0MDg3NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/440875?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zwarich",
      "html_url": "https://github.com/zwarich",
      "followers_url": "https://api.github.com/users/zwarich/followers",
      "following_url": "https://api.github.com/users/zwarich/following{/other_user}",
      "gists_url": "https://api.github.com/users/zwarich/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zwarich/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zwarich/subscriptions",
      "organizations_url": "https://api.github.com/users/zwarich/orgs",
      "repos_url": "https://api.github.com/users/zwarich/repos",
      "events_url": "https://api.github.com/users/zwarich/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zwarich/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-16T20:42:45Z",
    "updated_at": "2014-07-16T20:42:45Z",
    "body": "False positives in on-by-default compiler warnings are terrible and will only cause people to disable useful warnings. Clang has taken an approach of limiting false positives and it has been quite successful.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49223921/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49227026",
    "html_url": "https://github.com/rust-lang/rust/issues/15102#issuecomment-49227026",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15102",
    "id": 49227026,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MjI3MDI2",
    "user": {
      "login": "lilyball",
      "id": 714,
      "node_id": "MDQ6VXNlcjcxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/714?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lilyball",
      "html_url": "https://github.com/lilyball",
      "followers_url": "https://api.github.com/users/lilyball/followers",
      "following_url": "https://api.github.com/users/lilyball/following{/other_user}",
      "gists_url": "https://api.github.com/users/lilyball/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lilyball/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lilyball/subscriptions",
      "organizations_url": "https://api.github.com/users/lilyball/orgs",
      "repos_url": "https://api.github.com/users/lilyball/repos",
      "events_url": "https://api.github.com/users/lilyball/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lilyball/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-16T21:05:54Z",
    "updated_at": "2014-07-16T21:05:54Z",
    "body": "@ktt3ja I agree that the `dead_code` lint should be on-by-default. But that's precisely why it needs to be as conservative as possible, because as @zwarich points out, false positives cause people to start disabling the lint outright.\n\nAnd it's for this reason that I think that the lint needs to try to learn about things like `transmute()` and `*` pointers that can cause a field to be accessed in ways the `dead_code` lint can't actually see.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49227026/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49240543",
    "html_url": "https://github.com/rust-lang/rust/issues/15102#issuecomment-49240543",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15102",
    "id": 49240543,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MjQwNTQz",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-16T23:17:53Z",
    "updated_at": "2014-07-16T23:18:13Z",
    "body": "> Notably, in kballard/rust-lua@be46e26, the file lib.rs defines 3 structs with identical layout\n\nThere's no guarantee they have identical layout, not at the moment anyway. The only way to _ensure_ this (and the only correct way to transmute between different structs, IMO) is to fix the layout with `#[repr(C)]`. As such, I don't regard this part as a bug (really, only the `:?` case is a bug IMO, but `:?` has so many other downsides that I'm not sure it's a huge problem: code bloat, reading private fields, useless with `Vec`, `Rc`, `Arc`...).\n\nAn approach for your code would be to define\n\n``` rust\nstruct StateLayout { L: *mut raw::lua_State, stackspace: i32 }\n\npub struct State { data: StateLayout }\n\npub struct ExternState<'a> { data: StateLayout }\npub struct RawState<'a> { data: StateLayout }\n```\n\nand then you can even avoid transmutes when converting between the types. (Also, don't you need a ContravariantLifetime for `ExternState` and `RawState`?)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49240543/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49244086",
    "html_url": "https://github.com/rust-lang/rust/issues/15102#issuecomment-49244086",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15102",
    "id": 49244086,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MjQ0MDg2",
    "user": {
      "login": "lilyball",
      "id": 714,
      "node_id": "MDQ6VXNlcjcxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/714?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lilyball",
      "html_url": "https://github.com/lilyball",
      "followers_url": "https://api.github.com/users/lilyball/followers",
      "following_url": "https://api.github.com/users/lilyball/following{/other_user}",
      "gists_url": "https://api.github.com/users/lilyball/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lilyball/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lilyball/subscriptions",
      "organizations_url": "https://api.github.com/users/lilyball/orgs",
      "repos_url": "https://api.github.com/users/lilyball/repos",
      "events_url": "https://api.github.com/users/lilyball/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lilyball/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-17T00:05:55Z",
    "updated_at": "2014-07-17T00:05:55Z",
    "body": "@huonw Well, when the code was written, [RFC 18](https://github.com/rust-lang/rfcs/blob/master/active/0018-undefined-struct-layout.md) did not exist, so at the time they did in fact have a guarantee of identical layout. You're right in that, today, technically there's no guarantee, but the problem is also still purely theoretical, and practically speaking, if the compiler does start reordering structs, it will almost certainly reorder identically-defined structs into the same layout (yes I know there were examples of using randomized layout, but I would be surprised if that was ever made default behavior).\n\nIn any case, given that structs no longer guarantee fixed layout, you are right to point out that my two major sources of concern (`transmute()` and using `*` pointers casted to e.g. `*u8`) both really only make sense with a known struct layout. And the only way to create a fixed struct layout is `#[repr(C)]`, which also squelches the `dead_code` warning. I do hope that if any other struct representation types are created (that guarantee a known fixed layout), they too will end up squelching the `dead_code` warning.\n\nAs for `:?`, presumably there are other uses of the `debug` crate's runtime reflection that would cause the same issue, but I suppose that it really is a bit of a stretch to claim this is a significant issue.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49244086/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49244444",
    "html_url": "https://github.com/rust-lang/rust/issues/15102#issuecomment-49244444",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15102",
    "id": 49244444,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MjQ0NDQ0",
    "user": {
      "login": "lilyball",
      "id": 714,
      "node_id": "MDQ6VXNlcjcxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/714?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lilyball",
      "html_url": "https://github.com/lilyball",
      "followers_url": "https://api.github.com/users/lilyball/followers",
      "following_url": "https://api.github.com/users/lilyball/following{/other_user}",
      "gists_url": "https://api.github.com/users/lilyball/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lilyball/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lilyball/subscriptions",
      "organizations_url": "https://api.github.com/users/lilyball/orgs",
      "repos_url": "https://api.github.com/users/lilyball/repos",
      "events_url": "https://api.github.com/users/lilyball/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lilyball/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-17T00:11:38Z",
    "updated_at": "2014-07-17T00:11:38Z",
    "body": "@huonw Also, I think you're right, I should be using `ContravariantLifetime`. I actually have no idea what variance the compiler uses by default for lifetime parameters that are otherwise unused.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/49244444/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/97960231",
    "html_url": "https://github.com/rust-lang/rust/issues/15102#issuecomment-97960231",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15102",
    "id": 97960231,
    "node_id": "MDEyOklzc3VlQ29tbWVudDk3OTYwMjMx",
    "user": {
      "login": "steveklabnik",
      "id": 27786,
      "node_id": "MDQ6VXNlcjI3Nzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steveklabnik",
      "html_url": "https://github.com/steveklabnik",
      "followers_url": "https://api.github.com/users/steveklabnik/followers",
      "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
      "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
      "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
      "repos_url": "https://api.github.com/users/steveklabnik/repos",
      "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-04-30T20:40:23Z",
    "updated_at": "2015-04-30T20:40:23Z",
    "body": "Triage: here's a test case for the transmute issue:\n\n```\n#[derive(Debug)]\nstruct Foo {\n    x: i32,\n}\n\nstruct Bar {\n    y: i32,\n}\n\nfn main() {\n    let bar = Bar{ y: 4 };\n\n    let foo: Foo = unsafe { std::mem::transmute(bar) };\n    format!(\"{:?}\", foo);\n}\n```\n\nThis does in fact warn about `y` but not `x`.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/97960231/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/177286667",
    "html_url": "https://github.com/rust-lang/rust/issues/15102#issuecomment-177286667",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15102",
    "id": 177286667,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3NzI4NjY2Nw==",
    "user": {
      "login": "ruuda",
      "id": 506953,
      "node_id": "MDQ6VXNlcjUwNjk1Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/506953?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ruuda",
      "html_url": "https://github.com/ruuda",
      "followers_url": "https://api.github.com/users/ruuda/followers",
      "following_url": "https://api.github.com/users/ruuda/following{/other_user}",
      "gists_url": "https://api.github.com/users/ruuda/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ruuda/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ruuda/subscriptions",
      "organizations_url": "https://api.github.com/users/ruuda/orgs",
      "repos_url": "https://api.github.com/users/ruuda/repos",
      "events_url": "https://api.github.com/users/ruuda/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ruuda/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-01-30T19:56:19Z",
    "updated_at": "2016-01-30T19:56:19Z",
    "body": "An other case where `dead_code` improperly warns about unused struct fields is if the field is of a type that implements `Drop`. It might be there to keep something alive even if it is not used otherwise, for instance to keep a file open. This should be fixable: suppress the warning if the field implements `Drop`.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/177286667/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/177411907",
    "html_url": "https://github.com/rust-lang/rust/issues/15102#issuecomment-177411907",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15102",
    "id": 177411907,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3NzQxMTkwNw==",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-01-31T06:32:46Z",
    "updated_at": "2016-01-31T06:32:46Z",
    "body": "@ruud-v-a the convention for locals that only care about the destructor works for struct fields too, that is, prefix it with an underscore:\n\n``` rust\nstruct Foo {\n    _guard: GuardType\n}\n// similar to\nlet _guard = mutex.lock();\n```\n\n(https://github.com/rust-lang/rust/issues/21775 covers that situation specifically.)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/177411907/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/185368532",
    "html_url": "https://github.com/rust-lang/rust/issues/15102#issuecomment-185368532",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15102",
    "id": 185368532,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4NTM2ODUzMg==",
    "user": {
      "login": "bltavares",
      "id": 109474,
      "node_id": "MDQ6VXNlcjEwOTQ3NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/109474?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bltavares",
      "html_url": "https://github.com/bltavares",
      "followers_url": "https://api.github.com/users/bltavares/followers",
      "following_url": "https://api.github.com/users/bltavares/following{/other_user}",
      "gists_url": "https://api.github.com/users/bltavares/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bltavares/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bltavares/subscriptions",
      "organizations_url": "https://api.github.com/users/bltavares/orgs",
      "repos_url": "https://api.github.com/users/bltavares/repos",
      "events_url": "https://api.github.com/users/bltavares/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bltavares/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2016-02-17T19:34:46Z",
    "updated_at": "2016-02-17T19:34:46Z",
    "body": "Triaging:\n\nThe following test case still warns on `y`, but not on `x`.\n\n``` rust\n#[derive(Debug)]\nstruct Foo {\n    x: i32,\n}\n\nstruct Bar {\n    y: i32,\n}\n\nfn main() {\n    let bar = Bar{ y: 4 };\n\n    let foo: Foo = unsafe { std::mem::transmute(bar) };\n    format!(\"{:?}\", foo);\n}\n```\n\nAdding `#[repr(C)]` to the `Bar` struct does indeed remove the warning.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/185368532/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/298250706",
    "html_url": "https://github.com/rust-lang/rust/issues/15102#issuecomment-298250706",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/15102",
    "id": 298250706,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5ODI1MDcwNg==",
    "user": {
      "login": "Mark-Simulacrum",
      "id": 5047365,
      "node_id": "MDQ6VXNlcjUwNDczNjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5047365?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Mark-Simulacrum",
      "html_url": "https://github.com/Mark-Simulacrum",
      "followers_url": "https://api.github.com/users/Mark-Simulacrum/followers",
      "following_url": "https://api.github.com/users/Mark-Simulacrum/following{/other_user}",
      "gists_url": "https://api.github.com/users/Mark-Simulacrum/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Mark-Simulacrum/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Mark-Simulacrum/subscriptions",
      "organizations_url": "https://api.github.com/users/Mark-Simulacrum/orgs",
      "repos_url": "https://api.github.com/users/Mark-Simulacrum/repos",
      "events_url": "https://api.github.com/users/Mark-Simulacrum/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Mark-Simulacrum/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-04-30T19:10:56Z",
    "updated_at": "2017-04-30T19:10:56Z",
    "body": "As far as I can tell, the only remaining problem is that dead_code warns on fields that are used through transmute. However, `#[repr(C)]` fixes that; and using transmute without `#[repr(C)]` is a Bad Idea. Closing. Please reopen if I missed something.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/298250706/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
