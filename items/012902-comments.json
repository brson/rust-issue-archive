[
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/37714663",
    "html_url": "https://github.com/rust-lang/rust/issues/12902#issuecomment-37714663",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12902",
    "id": 37714663,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NzE0NjYz",
    "user": {
      "login": "huonw",
      "id": 1203825,
      "node_id": "MDQ6VXNlcjEyMDM4MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huonw",
      "html_url": "https://github.com/huonw",
      "followers_url": "https://api.github.com/users/huonw/followers",
      "following_url": "https://api.github.com/users/huonw/following{/other_user}",
      "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huonw/subscriptions",
      "organizations_url": "https://api.github.com/users/huonw/orgs",
      "repos_url": "https://api.github.com/users/huonw/repos",
      "events_url": "https://api.github.com/users/huonw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huonw/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-03-15T02:55:41Z",
    "updated_at": "2014-03-15T02:55:41Z",
    "body": "cc @alexcrichton \n\nMaybe the syntax could be changed to something like\n\n``` rust\nselect! {\n    s from a.p => ...,\n    () from timeout => ...,\n}\n```\n\nso that the port can be a full expression. (Although, those idents are used for new variable names... so this may be tricky.)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/37714663/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/37716959",
    "html_url": "https://github.com/rust-lang/rust/issues/12902#issuecomment-37716959",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12902",
    "id": 37716959,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NzE2OTU5",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-03-15T04:23:10Z",
    "updated_at": "2014-03-15T04:23:10Z",
    "body": "The macro is what tripped me up when I wrote, this. Ideally you want something like:\n\n```\n$expr . $ident ()\n```\n\nBut `$expr` will swallow the ident, so I had to force the left-hand side to be an ident. But this is all why this `select!` macro is experimental.\n",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/37716959/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46083273",
    "html_url": "https://github.com/rust-lang/rust/issues/12902#issuecomment-46083273",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12902",
    "id": 46083273,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MDgzMjcz",
    "user": {
      "login": "ghost",
      "id": 10137,
      "node_id": "MDQ6VXNlcjEwMTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ghost",
      "html_url": "https://github.com/ghost",
      "followers_url": "https://api.github.com/users/ghost/followers",
      "following_url": "https://api.github.com/users/ghost/following{/other_user}",
      "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
      "organizations_url": "https://api.github.com/users/ghost/orgs",
      "repos_url": "https://api.github.com/users/ghost/repos",
      "events_url": "https://api.github.com/users/ghost/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ghost/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-06-14T09:35:48Z",
    "updated_at": "2014-06-14T13:46:21Z",
    "body": "I've hit this a few times myself. Would it be OK for the select! macro to be implemented as a syntax extension? It'd then be possible to allow an arbitrary expression on the LHS of => and extract the method name at the AST level. It could also provide better error messages on errors such as leaving out the method name.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46083273/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46490014",
    "html_url": "https://github.com/rust-lang/rust/issues/12902#issuecomment-46490014",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12902",
    "id": 46490014,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NDkwMDE0",
    "user": {
      "login": "apoelstra",
      "id": 1351933,
      "node_id": "MDQ6VXNlcjEzNTE5MzM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/apoelstra",
      "html_url": "https://github.com/apoelstra",
      "followers_url": "https://api.github.com/users/apoelstra/followers",
      "following_url": "https://api.github.com/users/apoelstra/following{/other_user}",
      "gists_url": "https://api.github.com/users/apoelstra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/apoelstra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
      "organizations_url": "https://api.github.com/users/apoelstra/orgs",
      "repos_url": "https://api.github.com/users/apoelstra/repos",
      "events_url": "https://api.github.com/users/apoelstra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/apoelstra/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-06-18T20:32:12Z",
    "updated_at": "2014-06-18T20:32:12Z",
    "body": "I've hit this and it seems I can't move forward until it's resolved. (Well, \"can't move forward\" is strong; for now I'll just unwrap the macro manually.)\n\nIs there any consensus on how this should be resolved? I'm happy to cut code but it's seems pretty open what direction to go in.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/46490014/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/48625667",
    "html_url": "https://github.com/rust-lang/rust/issues/12902#issuecomment-48625667",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12902",
    "id": 48625667,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4NjI1NjY3",
    "user": {
      "login": "apoelstra",
      "id": 1351933,
      "node_id": "MDQ6VXNlcjEzNTE5MzM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/apoelstra",
      "html_url": "https://github.com/apoelstra",
      "followers_url": "https://api.github.com/users/apoelstra/followers",
      "following_url": "https://api.github.com/users/apoelstra/following{/other_user}",
      "gists_url": "https://api.github.com/users/apoelstra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/apoelstra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
      "organizations_url": "https://api.github.com/users/apoelstra/orgs",
      "repos_url": "https://api.github.com/users/apoelstra/repos",
      "events_url": "https://api.github.com/users/apoelstra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/apoelstra/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-10T16:05:01Z",
    "updated_at": "2014-07-10T16:05:01Z",
    "body": "Here is my suggestion:\n\n``` rust\nselect!{\n  obj1 from rx1 => {\n    // Do stuff with obj1\n  },\n  obj2 from rx2 => {\n    // Do stuff with obj2\n  }\n}\n```\n\nIf people want to use something other than `.recv()` they can, using the alternate syntax\n\n``` rust\nselect!{\n  obj1_opt from rx1 using recv_opt => {\n    // Do stuff with obj1_opt\n  },\n  obj2_opt from rx2 using recv_opt => {\n    // Do stuff with obj2_opt\n  }\n}\n```\n\nHere is a sample implementation which makes no use of the `Select` structure or unsafe code or allocations. Thanks much to @eddyb on IRC for helping to clean this up.\nhttps://gist.github.com/apoelstra/1b12e849f537485e970b\n\nNote that this is \"all or nothing\" regarding the optional `using` syntax. Maybe someone with better macro-fu can come up with one where some options can have `using` and others not.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/48625667/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/50632640",
    "html_url": "https://github.com/rust-lang/rust/issues/12902#issuecomment-50632640",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12902",
    "id": 50632640,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwNjMyNjQw",
    "user": {
      "login": "mackwic",
      "id": 558091,
      "node_id": "MDQ6VXNlcjU1ODA5MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/558091?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mackwic",
      "html_url": "https://github.com/mackwic",
      "followers_url": "https://api.github.com/users/mackwic/followers",
      "following_url": "https://api.github.com/users/mackwic/following{/other_user}",
      "gists_url": "https://api.github.com/users/mackwic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mackwic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mackwic/subscriptions",
      "organizations_url": "https://api.github.com/users/mackwic/orgs",
      "repos_url": "https://api.github.com/users/mackwic/repos",
      "events_url": "https://api.github.com/users/mackwic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mackwic/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-07-30T15:38:33Z",
    "updated_at": "2014-07-30T15:38:33Z",
    "body": "I just hit this bug on my code. Had to expand all our use of select! because of ownership errors.\n\nMaybe multiple macros for multiple uses will do the trick ?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/50632640/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53926360",
    "html_url": "https://github.com/rust-lang/rust/issues/12902#issuecomment-53926360",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12902",
    "id": 53926360,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzOTI2MzYw",
    "user": {
      "login": "apoelstra",
      "id": 1351933,
      "node_id": "MDQ6VXNlcjEzNTE5MzM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/apoelstra",
      "html_url": "https://github.com/apoelstra",
      "followers_url": "https://api.github.com/users/apoelstra/followers",
      "following_url": "https://api.github.com/users/apoelstra/following{/other_user}",
      "gists_url": "https://api.github.com/users/apoelstra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/apoelstra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
      "organizations_url": "https://api.github.com/users/apoelstra/orgs",
      "repos_url": "https://api.github.com/users/apoelstra/repos",
      "events_url": "https://api.github.com/users/apoelstra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/apoelstra/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-08-29T20:30:38Z",
    "updated_at": "2014-08-29T20:30:38Z",
    "body": "Hi guys, I have been using the `select!` implementation in my own code for a month now and it seems to be working ok. What needs to be done to get it merged?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/53926360/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/57021877",
    "html_url": "https://github.com/rust-lang/rust/issues/12902#issuecomment-57021877",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12902",
    "id": 57021877,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3MDIxODc3",
    "user": {
      "login": "thehydroimpulse",
      "id": 565790,
      "node_id": "MDQ6VXNlcjU2NTc5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/565790?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thehydroimpulse",
      "html_url": "https://github.com/thehydroimpulse",
      "followers_url": "https://api.github.com/users/thehydroimpulse/followers",
      "following_url": "https://api.github.com/users/thehydroimpulse/following{/other_user}",
      "gists_url": "https://api.github.com/users/thehydroimpulse/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thehydroimpulse/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thehydroimpulse/subscriptions",
      "organizations_url": "https://api.github.com/users/thehydroimpulse/orgs",
      "repos_url": "https://api.github.com/users/thehydroimpulse/repos",
      "events_url": "https://api.github.com/users/thehydroimpulse/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thehydroimpulse/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-09-26T21:19:15Z",
    "updated_at": "2014-09-26T21:19:15Z",
    "body": "@apoelstra Did you ever send a PR for it?\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/57021877/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/57028769",
    "html_url": "https://github.com/rust-lang/rust/issues/12902#issuecomment-57028769",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12902",
    "id": 57028769,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3MDI4NzY5",
    "user": {
      "login": "apoelstra",
      "id": 1351933,
      "node_id": "MDQ6VXNlcjEzNTE5MzM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/apoelstra",
      "html_url": "https://github.com/apoelstra",
      "followers_url": "https://api.github.com/users/apoelstra/followers",
      "following_url": "https://api.github.com/users/apoelstra/following{/other_user}",
      "gists_url": "https://api.github.com/users/apoelstra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/apoelstra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
      "organizations_url": "https://api.github.com/users/apoelstra/orgs",
      "repos_url": "https://api.github.com/users/apoelstra/repos",
      "events_url": "https://api.github.com/users/apoelstra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/apoelstra/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2014-09-26T22:29:27Z",
    "updated_at": "2014-09-26T22:29:27Z",
    "body": "No, I'll do that now.\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/57028769/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/132443568",
    "html_url": "https://github.com/rust-lang/rust/issues/12902#issuecomment-132443568",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12902",
    "id": 132443568,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMjQ0MzU2OA==",
    "user": {
      "login": "tripped",
      "id": 442084,
      "node_id": "MDQ6VXNlcjQ0MjA4NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/442084?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tripped",
      "html_url": "https://github.com/tripped",
      "followers_url": "https://api.github.com/users/tripped/followers",
      "following_url": "https://api.github.com/users/tripped/following{/other_user}",
      "gists_url": "https://api.github.com/users/tripped/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tripped/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tripped/subscriptions",
      "organizations_url": "https://api.github.com/users/tripped/orgs",
      "repos_url": "https://api.github.com/users/tripped/repos",
      "events_url": "https://api.github.com/users/tripped/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tripped/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-08-19T04:38:50Z",
    "updated_at": "2015-08-19T04:38:50Z",
    "body": "I just ran into this issue as well. It's especially vexing since the struct that contains the receivers must be borrowed as a mutable reference inside the select! -- so this fails:\n\n``` rust\nfn do_something(&mut self) {\n    let r1 = &self.r1;\n    let r2 = &self.r2;\n    select! {\n        a = r1.recv() => a.unwrap()(self), // ERROR! self.r1 is already borrowed!\n        b = r2.recv() => (),\n    }\n}\n```\n\nIt seems that the only reason select! only allows expressions of the form \"ident.ident()\" is so that the macro can use that first ident as a unique local variable name inside the expansion.\n\nThis could be solved if we could generate unique symbols in a macro expansion. Issue #9031 mentions this but was closed back when macro hygiene was implemented. Sadly, macro hygiene does not help here, since all the identifiers we need to distinguish have the same syntax context.\n\nI've been poking and prodding at the macro syntax trying to figure out a way to do this that isn't horrible, special-cased, or just plain inconvenient, but I'm not sure it's reasonable to do without the ability to generate symbols. Maybe we do need a syntax extension after all?\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/132443568/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/132737095",
    "html_url": "https://github.com/rust-lang/rust/issues/12902#issuecomment-132737095",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12902",
    "id": 132737095,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMjczNzA5NQ==",
    "user": {
      "login": "tripped",
      "id": 442084,
      "node_id": "MDQ6VXNlcjQ0MjA4NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/442084?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tripped",
      "html_url": "https://github.com/tripped",
      "followers_url": "https://api.github.com/users/tripped/followers",
      "following_url": "https://api.github.com/users/tripped/following{/other_user}",
      "gists_url": "https://api.github.com/users/tripped/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tripped/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tripped/subscriptions",
      "organizations_url": "https://api.github.com/users/tripped/orgs",
      "repos_url": "https://api.github.com/users/tripped/repos",
      "events_url": "https://api.github.com/users/tripped/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tripped/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-08-19T18:40:41Z",
    "updated_at": "2015-08-19T18:40:41Z",
    "body": "Looking at it with a little less sleep deprivation, I think the current syntax of the select! macro just doesn't make sense. It uses a matcher for the method invoked on the receiver -- ostensibly supporting receivers whose receive method is spelled differently than `recv()`? However, it does not use that method name to invoke a member of the receiver named by `$rx:ident`, it invokes it on a `Handle`, which only supports `recv()`. (And `Handle`'s implementation requires that the thing selected on be a `Receiver<T>` and calls its `.recv()`).\n\nRemoving the spurious `.recv()` from the required syntax does free up the macro to use an `expr` for the receiver. Then the only remaining difficulty is generating a unique variable name for each handle in the expansion. Perhaps a slight modification to the macro system would help here? I may just try to hack something together and see if it works.\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/132737095/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/132783280",
    "html_url": "https://github.com/rust-lang/rust/issues/12902#issuecomment-132783280",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12902",
    "id": 132783280,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzMjc4MzI4MA==",
    "user": {
      "login": "tripped",
      "id": 442084,
      "node_id": "MDQ6VXNlcjQ0MjA4NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/442084?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tripped",
      "html_url": "https://github.com/tripped",
      "followers_url": "https://api.github.com/users/tripped/followers",
      "following_url": "https://api.github.com/users/tripped/following{/other_user}",
      "gists_url": "https://api.github.com/users/tripped/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tripped/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tripped/subscriptions",
      "organizations_url": "https://api.github.com/users/tripped/orgs",
      "repos_url": "https://api.github.com/users/tripped/repos",
      "events_url": "https://api.github.com/users/tripped/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tripped/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-08-19T21:04:59Z",
    "updated_at": "2015-08-19T21:04:59Z",
    "body": "Apparently I was wrong about not being able to do this with the current macro system. User talchas on #rust came up with this formulation that allows the use of an arbitrary expression as the receiver in a select! expansion: http://is.gd/F6Wy5D\n\nA little bit hairier than the original, and it doesn't solve my borrowing problems, but I think it does make the macro much more generally useful. Any thoughts?\n",
    "author_association": "NONE",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/132783280/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/161023488",
    "html_url": "https://github.com/rust-lang/rust/issues/12902#issuecomment-161023488",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12902",
    "id": 161023488,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2MTAyMzQ4OA==",
    "user": {
      "login": "jFransham",
      "id": 1509080,
      "node_id": "MDQ6VXNlcjE1MDkwODA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1509080?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jFransham",
      "html_url": "https://github.com/jFransham",
      "followers_url": "https://api.github.com/users/jFransham/followers",
      "following_url": "https://api.github.com/users/jFransham/following{/other_user}",
      "gists_url": "https://api.github.com/users/jFransham/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jFransham/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jFransham/subscriptions",
      "organizations_url": "https://api.github.com/users/jFransham/orgs",
      "repos_url": "https://api.github.com/users/jFransham/repos",
      "events_url": "https://api.github.com/users/jFransham/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jFransham/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2015-12-01T16:33:12Z",
    "updated_at": "2015-12-01T16:33:12Z",
    "body": "@tripped just a simple change to your suggestion, to stop macro clutter (this style is used in a bunch of internal macros) [http://is.gd/bMLJK9](http://is.gd/bMLJK9)\n",
    "author_association": "CONTRIBUTOR",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/161023488/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/319510050",
    "html_url": "https://github.com/rust-lang/rust/issues/12902#issuecomment-319510050",
    "issue_url": "https://api.github.com/repos/rust-lang/rust/issues/12902",
    "id": 319510050,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxOTUxMDA1MA==",
    "user": {
      "login": "alexcrichton",
      "id": 64996,
      "node_id": "MDQ6VXNlcjY0OTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexcrichton",
      "html_url": "https://github.com/alexcrichton",
      "followers_url": "https://api.github.com/users/alexcrichton/followers",
      "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions",
      "organizations_url": "https://api.github.com/users/alexcrichton/orgs",
      "repos_url": "https://api.github.com/users/alexcrichton/repos",
      "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexcrichton/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "created_at": "2017-08-01T22:02:17Z",
    "updated_at": "2017-08-01T22:02:17Z",
    "body": "The `select!` macro is sort of defacto deprecated nowadays in the sense that \"selection over a number of events\" is best done with the `futures` crate outside the standard library. In that sense we're not going to be changing the current `select!` and as a result, I'm going to close this.",
    "author_association": "MEMBER",
    "reactions": {
      "url": "https://api.github.com/repos/rust-lang/rust/issues/comments/319510050/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
